diff --git a/dist/CurrencyRateController.cjs b/dist/CurrencyRateController.cjs
index 9329fa3772bad655112451929bd107d99d95b34e..57683eb3b5501085f8d12fabdf0720ced0479ba8 100644
--- a/dist/CurrencyRateController.cjs
+++ b/dist/CurrencyRateController.cjs
@@ -42,6 +42,7 @@ const defaultState = {
         },
     },
 };
+const boundedPrecisionNumber = (value, precision = 9) => Number(value.toFixed(precision));
 /**
  * Controller that passively polls on a set interval for an exchange rate from the current network
  * asset to the user's preferred currency.
@@ -169,8 +170,12 @@ _CurrencyRateController_tokenPricesService = new WeakMap(), _CurrencyRateControl
             const rate = priceApiExchangeRatesResponse[fetchedCurrency.toLowerCase()];
             acc[nativeCurrency] = {
                 conversionDate: rate !== undefined ? Date.now() / 1000 : null,
-                conversionRate: rate?.value ? Number(1 / rate?.value) : null,
-                usdConversionRate: rate?.usd ? Number(1 / rate?.usd) : null,
+                conversionRate: rate?.value
+                    ? boundedPrecisionNumber(1 / rate.value)
+                    : null,
+                usdConversionRate: rate?.usd
+                    ? boundedPrecisionNumber(1 / rate.usd)
+                    : null,
             };
             return acc;
         }, {});
@@ -211,7 +216,9 @@ _CurrencyRateController_tokenPricesService = new WeakMap(), _CurrencyRateControl
             return {
                 nativeCurrency,
                 conversionDate: tokenPrice ? Date.now() / 1000 : null,
-                conversionRate: tokenPrice?.price ?? null,
+                conversionRate: tokenPrice?.price
+                    ? boundedPrecisionNumber(tokenPrice.price)
+                    : null,
                 usdConversionRate: null, // Token prices service doesn't provide USD rate in this context
             };
         }));
@@ -232,8 +239,12 @@ _CurrencyRateController_tokenPricesService = new WeakMap(), _CurrencyRateControl
         const ratesFromTokenPricesService = ratesFromTokenPrices.reduce((acc, rate) => {
             acc[rate.nativeCurrency] = {
                 conversionDate: rate.conversionDate,
-                conversionRate: rate.conversionRate,
-                usdConversionRate: rate.usdConversionRate,
+                conversionRate: rate.conversionRate
+                    ? boundedPrecisionNumber(rate.conversionRate)
+                    : null,
+                usdConversionRate: rate.usdConversionRate
+                    ? boundedPrecisionNumber(rate.usdConversionRate)
+                    : null,
             };
             return acc;
         }, {});
diff --git a/dist/CurrencyRateController.mjs b/dist/CurrencyRateController.mjs
index d9c312e93b9ea6d37ad55321b2588248a61e5442..62280a33f6f67efcc173b5699b4f9bb13eea1c05 100644
--- a/dist/CurrencyRateController.mjs
+++ b/dist/CurrencyRateController.mjs
@@ -39,6 +39,7 @@ const defaultState = {
         },
     },
 };
+const boundedPrecisionNumber = (value, precision = 9) => Number(value.toFixed(precision));
 /**
  * Controller that passively polls on a set interval for an exchange rate from the current network
  * asset to the user's preferred currency.
@@ -165,8 +166,12 @@ _CurrencyRateController_tokenPricesService = new WeakMap(), _CurrencyRateControl
             const rate = priceApiExchangeRatesResponse[fetchedCurrency.toLowerCase()];
             acc[nativeCurrency] = {
                 conversionDate: rate !== undefined ? Date.now() / 1000 : null,
-                conversionRate: rate?.value ? Number(1 / rate?.value) : null,
-                usdConversionRate: rate?.usd ? Number(1 / rate?.usd) : null,
+                conversionRate: rate?.value
+                    ? boundedPrecisionNumber(1 / rate.value)
+                    : null,
+                usdConversionRate: rate?.usd
+                    ? boundedPrecisionNumber(1 / rate.usd)
+                    : null,
             };
             return acc;
         }, {});
@@ -207,7 +212,9 @@ _CurrencyRateController_tokenPricesService = new WeakMap(), _CurrencyRateControl
             return {
                 nativeCurrency,
                 conversionDate: tokenPrice ? Date.now() / 1000 : null,
-                conversionRate: tokenPrice?.price ?? null,
+                conversionRate: tokenPrice?.price
+                    ? boundedPrecisionNumber(tokenPrice.price)
+                    : null,
                 usdConversionRate: null, // Token prices service doesn't provide USD rate in this context
             };
         }));
@@ -228,8 +235,12 @@ _CurrencyRateController_tokenPricesService = new WeakMap(), _CurrencyRateControl
         const ratesFromTokenPricesService = ratesFromTokenPrices.reduce((acc, rate) => {
             acc[rate.nativeCurrency] = {
                 conversionDate: rate.conversionDate,
-                conversionRate: rate.conversionRate,
-                usdConversionRate: rate.usdConversionRate,
+                conversionRate: rate.conversionRate
+                    ? boundedPrecisionNumber(rate.conversionRate)
+                    : null,
+                usdConversionRate: rate.usdConversionRate
+                    ? boundedPrecisionNumber(rate.usdConversionRate)
+                    : null,
             };
             return acc;
         }, {});
diff --git a/dist/index.cjs b/dist/index.cjs
index 182111ed7c84e66460667552b09f9d696f919da4..233354590541739d168a59c0dbb1e1d846945d65 100644
--- a/dist/index.cjs
+++ b/dist/index.cjs
@@ -14,7 +14,7 @@ var __exportStar = (this && this.__exportStar) || function(m, exports) {
     for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
 };
 Object.defineProperty(exports, "__esModule", { value: true });
-exports.createFormatters = exports.selectAssetsBySelectedAccountGroup = exports.calculateBalanceChangeForAccountGroup = exports.calculateBalanceChangeForAllWallets = exports.calculateBalanceForAllWallets = exports.DeFiPositionsController = exports.TokenSearchDiscoveryDataController = exports.getDefaultMultichainAssetsRatesControllerState = exports.MultichainAssetsRatesController = exports.getDefaultMultichainAssetsControllerState = exports.MultichainAssetsController = exports.MultichainBalancesController = exports.Cryptocurrency = exports.RatesController = exports.getTrendingTokens = exports.searchTokens = exports.getNativeTokenAddress = exports.SUPPORTED_CHAIN_IDS = exports.CodefiTokenPricesServiceV2 = exports.getKeyByValue = exports.fetchTokenContractExchangeRates = exports.getFormattedIpfsUrl = exports.formatIconUrlWithProxy = exports.isTokenDetectionSupportedForNetwork = exports.TokensController = exports.TokenRatesController = exports.getDefaultTokenRatesControllerState = exports.TokenListController = exports.TokenDetectionController = exports.TokenBalancesController = exports.NftDetectionController = exports.NftController = exports.getDefaultNftControllerState = exports.AssetsContractController = exports.SINGLE_CALL_BALANCES_ADDRESS_BY_CHAINID = exports.AccountTrackerController = void 0;
+exports.createFormatters = exports.selectAllAssets = exports.selectAssetsBySelectedAccountGroup = exports.calculateBalanceChangeForAccountGroup = exports.calculateBalanceChangeForAllWallets = exports.calculateBalanceForAllWallets = exports.DeFiPositionsController = exports.TokenSearchDiscoveryDataController = exports.getDefaultMultichainAssetsRatesControllerState = exports.MultichainAssetsRatesController = exports.getDefaultMultichainAssetsControllerState = exports.MultichainAssetsController = exports.MultichainBalancesController = exports.Cryptocurrency = exports.RatesController = exports.getTrendingTokens = exports.searchTokens = exports.getNativeTokenAddress = exports.SUPPORTED_CHAIN_IDS = exports.CodefiTokenPricesServiceV2 = exports.getKeyByValue = exports.fetchTokenContractExchangeRates = exports.getFormattedIpfsUrl = exports.formatIconUrlWithProxy = exports.isTokenDetectionSupportedForNetwork = exports.TokensController = exports.TokenRatesController = exports.getDefaultTokenRatesControllerState = exports.TokenListController = exports.TokenDetectionController = exports.TokenBalancesController = exports.NftDetectionController = exports.NftController = exports.getDefaultNftControllerState = exports.AssetsContractController = exports.SINGLE_CALL_BALANCES_ADDRESS_BY_CHAINID = exports.AccountTrackerController = void 0;
 var AccountTrackerController_1 = require("./AccountTrackerController.cjs");
 Object.defineProperty(exports, "AccountTrackerController", { enumerable: true, get: function () { return AccountTrackerController_1.AccountTrackerController; } });
 var AssetsContractController_1 = require("./AssetsContractController.cjs");
@@ -72,6 +72,7 @@ Object.defineProperty(exports, "calculateBalanceChangeForAllWallets", { enumerab
 Object.defineProperty(exports, "calculateBalanceChangeForAccountGroup", { enumerable: true, get: function () { return balances_2.calculateBalanceChangeForAccountGroup; } });
 var token_selectors_1 = require("./selectors/token-selectors.cjs");
 Object.defineProperty(exports, "selectAssetsBySelectedAccountGroup", { enumerable: true, get: function () { return token_selectors_1.selectAssetsBySelectedAccountGroup; } });
+Object.defineProperty(exports, "selectAllAssets", { enumerable: true, get: function () { return token_selectors_1.selectAllAssets; } });
 var formatters_1 = require("./utils/formatters.cjs");
 Object.defineProperty(exports, "createFormatters", { enumerable: true, get: function () { return formatters_1.createFormatters; } });
 //# sourceMappingURL=index.cjs.map
\ No newline at end of file
diff --git a/dist/index.cjs.map b/dist/index.cjs.map
index 0cca9c6c8bc8b047ff8105c6789f706a9b4de30d..a966b4b1c7b3b7aaba9d878305df0f9a73945848 100644
--- a/dist/index.cjs.map
+++ b/dist/index.cjs.map
@@ -1 +1 @@
-{"version":3,"file":"index.cjs","sourceRoot":"","sources":["../src/index.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAWA,2EAAsE;AAA7D,oIAAA,wBAAwB,OAAA;AAuBjC,2EAGoC;AAFlC,mJAAA,uCAAuC,OAAA;AACvC,oIAAA,wBAAwB,OAAA;AAE1B,+DAAyC;AAYzC,qDAA8E;AAArE,6HAAA,4BAA4B,OAAA;AAAE,8GAAA,aAAa,OAAA;AAwBpD,uEAAkE;AAAzD,gIAAA,sBAAsB,OAAA;AAU/B,yEAAoE;AAA3D,kIAAA,uBAAuB,OAAA;AAShC,2EAAsE;AAA7D,oIAAA,wBAAwB,OAAA;AAWjC,iEAA4D;AAAnD,0HAAA,mBAAmB,OAAA;AAa5B,mEAGgC;AAF9B,2IAAA,mCAAmC,OAAA;AACnC,4HAAA,oBAAoB,OAAA;AAYtB,2DAAsD;AAA7C,oHAAA,gBAAgB,OAAA;AACzB,+CAMsB;AALpB,iIAAA,mCAAmC,OAAA;AACnC,oHAAA,sBAAsB,OAAA;AACtB,iHAAA,mBAAmB,OAAA;AACnB,6HAAA,+BAA+B,OAAA;AAC/B,2GAAA,aAAa,OAAA;AAEf,yEAIgC;AAH9B,kIAAA,0BAA0B,OAAA;AAC1B,2HAAA,mBAAmB,OAAA;AACnB,6HAAA,qBAAqB,OAAA;AAEvB,qDAAkE;AAAzD,6GAAA,YAAY,OAAA;AAAE,kHAAA,iBAAiB,OAAA;AACxC,+DAAoE;AAA3D,kHAAA,eAAe,OAAA;AAAE,iHAAA,cAAc,OAAA;AAWxC,yFAA8E;AAArE,4IAAA,4BAA4B,OAAA;AAUrC,qFAGsC;AAFpC,wIAAA,0BAA0B,OAAA;AAC1B,uJAAA,yCAAyC,OAAA;AAa3C,+FAG2C;AAFzC,kJAAA,+BAA+B,OAAA;AAC/B,iKAAA,8CAA8C,OAAA;AAWhD,qGAA0F;AAAjF,wJAAA,kCAAkC,OAAA;AAU3C,iGAA4F;AAAnF,kIAAA,uBAAuB,OAAA;AAehC,2CAA2D;AAAlD,yHAAA,6BAA6B,OAAA;AAEtC,2CAGoB;AAFlB,+HAAA,mCAAmC,OAAA;AACnC,iIAAA,qCAAqC,OAAA;AAQvC,mEAAiF;AAAxE,qIAAA,kCAAkC,OAAA;AAC3C,qDAAsD;AAA7C,8GAAA,gBAAgB,OAAA","sourcesContent":["export type {\n  AccountInformation,\n  AccountTrackerControllerMessenger,\n  AccountTrackerControllerState,\n  AccountTrackerControllerActions,\n  AccountTrackerControllerGetStateAction,\n  AccountTrackerControllerStateChangeEvent,\n  AccountTrackerControllerEvents,\n  AccountTrackerUpdateNativeBalancesAction,\n  AccountTrackerUpdateStakedBalancesAction,\n} from './AccountTrackerController';\nexport { AccountTrackerController } from './AccountTrackerController';\nexport type {\n  AssetsContractControllerActions,\n  AssetsContractControllerEvents,\n  AssetsContractControllerGetERC20StandardAction,\n  AssetsContractControllerGetERC721StandardAction,\n  AssetsContractControllerGetERC1155StandardAction,\n  AssetsContractControllerGetERC20BalanceOfAction,\n  AssetsContractControllerGetERC20TokenDecimalsAction,\n  AssetsContractControllerGetERC20TokenNameAction,\n  AssetsContractControllerGetERC721NftTokenIdAction,\n  AssetsContractControllerGetERC721TokenURIAction,\n  AssetsContractControllerGetERC721AssetNameAction,\n  AssetsContractControllerGetERC721AssetSymbolAction,\n  AssetsContractControllerGetERC721OwnerOfAction,\n  AssetsContractControllerGetERC1155TokenURIAction,\n  AssetsContractControllerGetERC1155BalanceOfAction,\n  AssetsContractControllerTransferSingleERC1155Action,\n  AssetsContractControllerGetTokenStandardAndDetailsAction,\n  AssetsContractControllerGetBalancesInSingleCallAction,\n  AssetsContractControllerMessenger,\n  BalanceMap,\n} from './AssetsContractController';\nexport {\n  SINGLE_CALL_BALANCES_ADDRESS_BY_CHAINID,\n  AssetsContractController,\n} from './AssetsContractController';\nexport * from './CurrencyRateController';\nexport type {\n  NftControllerState,\n  NftControllerMessenger,\n  NftControllerActions,\n  NftControllerGetStateAction,\n  NftControllerEvents,\n  NftControllerStateChangeEvent,\n  Nft,\n  NftContract,\n  NftMetadata,\n} from './NftController';\nexport { getDefaultNftControllerState, NftController } from './NftController';\nexport type {\n  NftDetectionControllerMessenger,\n  ApiNft,\n  ApiNftContract,\n  ApiNftLastSale,\n  ApiNftCreator,\n  ReservoirResponse,\n  TokensResponse,\n  BlockaidResultType,\n  Blockaid,\n  Market,\n  TokenResponse,\n  TopBid,\n  LastSale,\n  FeeBreakdown,\n  Attributes,\n  Collection,\n  Royalties,\n  Ownership,\n  FloorAsk,\n  Price,\n  Metadata,\n} from './NftDetectionController';\nexport { NftDetectionController } from './NftDetectionController';\nexport type {\n  TokenBalancesControllerActions,\n  TokenBalancesControllerGetStateAction,\n  TokenBalancesControllerEvents,\n  TokenBalancesControllerMessenger,\n  TokenBalancesControllerOptions,\n  TokenBalancesControllerStateChangeEvent,\n  TokenBalancesControllerState,\n} from './TokenBalancesController';\nexport { TokenBalancesController } from './TokenBalancesController';\nexport type {\n  TokenDetectionControllerMessenger,\n  TokenDetectionControllerActions,\n  TokenDetectionControllerGetStateAction,\n  TokenDetectionControllerAddDetectedTokensViaWsAction,\n  TokenDetectionControllerEvents,\n  TokenDetectionControllerStateChangeEvent,\n} from './TokenDetectionController';\nexport { TokenDetectionController } from './TokenDetectionController';\nexport type {\n  TokenListState,\n  TokenListToken,\n  TokenListMap,\n  TokenListStateChange,\n  TokenListControllerEvents,\n  GetTokenListState,\n  TokenListControllerActions,\n  TokenListControllerMessenger,\n} from './TokenListController';\nexport { TokenListController } from './TokenListController';\nexport type {\n  ContractExchangeRates,\n  ContractMarketData,\n  Token,\n  TokenRatesControllerActions,\n  TokenRatesControllerEvents,\n  TokenRatesControllerGetStateAction,\n  TokenRatesControllerMessenger,\n  TokenRatesControllerState,\n  TokenRatesControllerStateChangeEvent,\n  MarketDataDetails,\n} from './TokenRatesController';\nexport {\n  getDefaultTokenRatesControllerState,\n  TokenRatesController,\n} from './TokenRatesController';\nexport type {\n  TokensControllerState,\n  TokensControllerActions,\n  TokensControllerGetStateAction,\n  TokensControllerAddDetectedTokensAction,\n  TokensControllerAddTokensAction,\n  TokensControllerEvents,\n  TokensControllerStateChangeEvent,\n  TokensControllerMessenger,\n} from './TokensController';\nexport { TokensController } from './TokensController';\nexport {\n  isTokenDetectionSupportedForNetwork,\n  formatIconUrlWithProxy,\n  getFormattedIpfsUrl,\n  fetchTokenContractExchangeRates,\n  getKeyByValue,\n} from './assetsUtil';\nexport {\n  CodefiTokenPricesServiceV2,\n  SUPPORTED_CHAIN_IDS,\n  getNativeTokenAddress,\n} from './token-prices-service';\nexport { searchTokens, getTrendingTokens } from './token-service';\nexport { RatesController, Cryptocurrency } from './RatesController';\nexport type {\n  RatesControllerState,\n  RatesControllerEvents,\n  RatesControllerActions,\n  RatesControllerMessenger,\n  RatesControllerGetStateAction,\n  RatesControllerStateChangeEvent,\n  RatesControllerPollingStartedEvent,\n  RatesControllerPollingStoppedEvent,\n} from './RatesController';\nexport { MultichainBalancesController } from './MultichainBalancesController';\nexport type {\n  MultichainBalancesControllerState,\n  MultichainBalancesControllerGetStateAction,\n  MultichainBalancesControllerStateChange,\n  MultichainBalancesControllerActions,\n  MultichainBalancesControllerEvents,\n  MultichainBalancesControllerMessenger,\n} from './MultichainBalancesController';\n\nexport {\n  MultichainAssetsController,\n  getDefaultMultichainAssetsControllerState,\n} from './MultichainAssetsController';\n\nexport type {\n  MultichainAssetsControllerState,\n  MultichainAssetsControllerGetStateAction,\n  MultichainAssetsControllerStateChangeEvent,\n  MultichainAssetsControllerActions,\n  MultichainAssetsControllerEvents,\n  MultichainAssetsControllerAccountAssetListUpdatedEvent,\n  MultichainAssetsControllerMessenger,\n} from './MultichainAssetsController';\n\nexport {\n  MultichainAssetsRatesController,\n  getDefaultMultichainAssetsRatesControllerState,\n} from './MultichainAssetsRatesController';\n\nexport type {\n  MultichainAssetsRatesControllerState,\n  MultichainAssetsRatesControllerActions,\n  MultichainAssetsRatesControllerEvents,\n  MultichainAssetsRatesControllerGetStateAction,\n  MultichainAssetsRatesControllerStateChange,\n  MultichainAssetsRatesControllerMessenger,\n} from './MultichainAssetsRatesController';\nexport { TokenSearchDiscoveryDataController } from './TokenSearchDiscoveryDataController';\nexport type {\n  TokenDisplayData,\n  TokenSearchDiscoveryDataControllerState,\n  TokenSearchDiscoveryDataControllerGetStateAction,\n  TokenSearchDiscoveryDataControllerEvents,\n  TokenSearchDiscoveryDataControllerStateChangeEvent,\n  TokenSearchDiscoveryDataControllerActions,\n  TokenSearchDiscoveryDataControllerMessenger,\n} from './TokenSearchDiscoveryDataController';\nexport { DeFiPositionsController } from './DeFiPositionsController/DeFiPositionsController';\nexport type {\n  DeFiPositionsControllerState,\n  DeFiPositionsControllerActions,\n  DeFiPositionsControllerEvents,\n  DeFiPositionsControllerGetStateAction,\n  DeFiPositionsControllerStateChangeEvent,\n  DeFiPositionsControllerMessenger,\n} from './DeFiPositionsController/DeFiPositionsController';\nexport type { GroupedDeFiPositions } from './DeFiPositionsController/group-defi-positions';\nexport type {\n  AccountGroupBalance,\n  WalletBalance,\n  AllWalletsBalance,\n} from './balances';\nexport { calculateBalanceForAllWallets } from './balances';\nexport type { BalanceChangePeriod, BalanceChangeResult } from './balances';\nexport {\n  calculateBalanceChangeForAllWallets,\n  calculateBalanceChangeForAccountGroup,\n} from './balances';\nexport type {\n  AssetsByAccountGroup,\n  AccountGroupAssets,\n  Asset,\n  AssetListState,\n} from './selectors/token-selectors';\nexport { selectAssetsBySelectedAccountGroup } from './selectors/token-selectors';\nexport { createFormatters } from './utils/formatters';\nexport type { SortTrendingBy, TrendingAsset } from './token-service';\n"]}
\ No newline at end of file
+{"version":3,"file":"index.cjs","sourceRoot":"","sources":["../src/index.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAWA,2EAAsE;AAA7D,oIAAA,wBAAwB,OAAA;AAuBjC,2EAGoC;AAFlC,mJAAA,uCAAuC,OAAA;AACvC,oIAAA,wBAAwB,OAAA;AAE1B,+DAAyC;AAYzC,qDAA8E;AAArE,6HAAA,4BAA4B,OAAA;AAAE,8GAAA,aAAa,OAAA;AAwBpD,uEAAkE;AAAzD,gIAAA,sBAAsB,OAAA;AAU/B,yEAAoE;AAA3D,kIAAA,uBAAuB,OAAA;AAWhC,2EAAsE;AAA7D,oIAAA,wBAAwB,OAAA;AAWjC,iEAA4D;AAAnD,0HAAA,mBAAmB,OAAA;AAa5B,mEAGgC;AAF9B,2IAAA,mCAAmC,OAAA;AACnC,4HAAA,oBAAoB,OAAA;AAYtB,2DAAsD;AAA7C,oHAAA,gBAAgB,OAAA;AACzB,+CAMsB;AALpB,iIAAA,mCAAmC,OAAA;AACnC,oHAAA,sBAAsB,OAAA;AACtB,iHAAA,mBAAmB,OAAA;AACnB,6HAAA,+BAA+B,OAAA;AAC/B,2GAAA,aAAa,OAAA;AAEf,yEAIgC;AAH9B,kIAAA,0BAA0B,OAAA;AAC1B,2HAAA,mBAAmB,OAAA;AACnB,6HAAA,qBAAqB,OAAA;AAEvB,qDAAkE;AAAzD,6GAAA,YAAY,OAAA;AAAE,kHAAA,iBAAiB,OAAA;AACxC,+DAAoE;AAA3D,kHAAA,eAAe,OAAA;AAAE,iHAAA,cAAc,OAAA;AAWxC,yFAA8E;AAArE,4IAAA,4BAA4B,OAAA;AAUrC,qFAGsC;AAFpC,wIAAA,0BAA0B,OAAA;AAC1B,uJAAA,yCAAyC,OAAA;AAa3C,+FAG2C;AAFzC,kJAAA,+BAA+B,OAAA;AAC/B,iKAAA,8CAA8C,OAAA;AAWhD,qGAA0F;AAAjF,wJAAA,kCAAkC,OAAA;AAU3C,iGAA4F;AAAnF,kIAAA,uBAAuB,OAAA;AAehC,2CAA2D;AAAlD,yHAAA,6BAA6B,OAAA;AAEtC,2CAGoB;AAFlB,+HAAA,mCAAmC,OAAA;AACnC,iIAAA,qCAAqC,OAAA;AAQvC,mEAGqC;AAFnC,qIAAA,kCAAkC,OAAA;AAClC,kHAAA,eAAe,OAAA;AAEjB,qDAAsD;AAA7C,8GAAA,gBAAgB,OAAA","sourcesContent":["export type {\n  AccountInformation,\n  AccountTrackerControllerMessenger,\n  AccountTrackerControllerState,\n  AccountTrackerControllerActions,\n  AccountTrackerControllerGetStateAction,\n  AccountTrackerControllerStateChangeEvent,\n  AccountTrackerControllerEvents,\n  AccountTrackerUpdateNativeBalancesAction,\n  AccountTrackerUpdateStakedBalancesAction,\n} from './AccountTrackerController';\nexport { AccountTrackerController } from './AccountTrackerController';\nexport type {\n  AssetsContractControllerActions,\n  AssetsContractControllerEvents,\n  AssetsContractControllerGetERC20StandardAction,\n  AssetsContractControllerGetERC721StandardAction,\n  AssetsContractControllerGetERC1155StandardAction,\n  AssetsContractControllerGetERC20BalanceOfAction,\n  AssetsContractControllerGetERC20TokenDecimalsAction,\n  AssetsContractControllerGetERC20TokenNameAction,\n  AssetsContractControllerGetERC721NftTokenIdAction,\n  AssetsContractControllerGetERC721TokenURIAction,\n  AssetsContractControllerGetERC721AssetNameAction,\n  AssetsContractControllerGetERC721AssetSymbolAction,\n  AssetsContractControllerGetERC721OwnerOfAction,\n  AssetsContractControllerGetERC1155TokenURIAction,\n  AssetsContractControllerGetERC1155BalanceOfAction,\n  AssetsContractControllerTransferSingleERC1155Action,\n  AssetsContractControllerGetTokenStandardAndDetailsAction,\n  AssetsContractControllerGetBalancesInSingleCallAction,\n  AssetsContractControllerMessenger,\n  BalanceMap,\n} from './AssetsContractController';\nexport {\n  SINGLE_CALL_BALANCES_ADDRESS_BY_CHAINID,\n  AssetsContractController,\n} from './AssetsContractController';\nexport * from './CurrencyRateController';\nexport type {\n  NftControllerState,\n  NftControllerMessenger,\n  NftControllerActions,\n  NftControllerGetStateAction,\n  NftControllerEvents,\n  NftControllerStateChangeEvent,\n  Nft,\n  NftContract,\n  NftMetadata,\n} from './NftController';\nexport { getDefaultNftControllerState, NftController } from './NftController';\nexport type {\n  NftDetectionControllerMessenger,\n  ApiNft,\n  ApiNftContract,\n  ApiNftLastSale,\n  ApiNftCreator,\n  ReservoirResponse,\n  TokensResponse,\n  BlockaidResultType,\n  Blockaid,\n  Market,\n  TokenResponse,\n  TopBid,\n  LastSale,\n  FeeBreakdown,\n  Attributes,\n  Collection,\n  Royalties,\n  Ownership,\n  FloorAsk,\n  Price,\n  Metadata,\n} from './NftDetectionController';\nexport { NftDetectionController } from './NftDetectionController';\nexport type {\n  TokenBalancesControllerActions,\n  TokenBalancesControllerGetStateAction,\n  TokenBalancesControllerEvents,\n  TokenBalancesControllerMessenger,\n  TokenBalancesControllerOptions,\n  TokenBalancesControllerStateChangeEvent,\n  TokenBalancesControllerState,\n} from './TokenBalancesController';\nexport { TokenBalancesController } from './TokenBalancesController';\nexport type {\n  TokenDetectionControllerMessenger,\n  TokenDetectionControllerActions,\n  TokenDetectionControllerGetStateAction,\n  TokenDetectionControllerDetectTokensAction,\n  TokenDetectionControllerAddDetectedTokensViaWsAction,\n  TokenDetectionControllerAddDetectedTokensViaPollingAction,\n  TokenDetectionControllerEvents,\n  TokenDetectionControllerStateChangeEvent,\n} from './TokenDetectionController';\nexport { TokenDetectionController } from './TokenDetectionController';\nexport type {\n  TokenListState,\n  TokenListToken,\n  TokenListMap,\n  TokenListStateChange,\n  TokenListControllerEvents,\n  GetTokenListState,\n  TokenListControllerActions,\n  TokenListControllerMessenger,\n} from './TokenListController';\nexport { TokenListController } from './TokenListController';\nexport type {\n  ContractExchangeRates,\n  ContractMarketData,\n  Token,\n  TokenRatesControllerActions,\n  TokenRatesControllerEvents,\n  TokenRatesControllerGetStateAction,\n  TokenRatesControllerMessenger,\n  TokenRatesControllerState,\n  TokenRatesControllerStateChangeEvent,\n  MarketDataDetails,\n} from './TokenRatesController';\nexport {\n  getDefaultTokenRatesControllerState,\n  TokenRatesController,\n} from './TokenRatesController';\nexport type {\n  TokensControllerState,\n  TokensControllerActions,\n  TokensControllerGetStateAction,\n  TokensControllerAddDetectedTokensAction,\n  TokensControllerAddTokensAction,\n  TokensControllerEvents,\n  TokensControllerStateChangeEvent,\n  TokensControllerMessenger,\n} from './TokensController';\nexport { TokensController } from './TokensController';\nexport {\n  isTokenDetectionSupportedForNetwork,\n  formatIconUrlWithProxy,\n  getFormattedIpfsUrl,\n  fetchTokenContractExchangeRates,\n  getKeyByValue,\n} from './assetsUtil';\nexport {\n  CodefiTokenPricesServiceV2,\n  SUPPORTED_CHAIN_IDS,\n  getNativeTokenAddress,\n} from './token-prices-service';\nexport { searchTokens, getTrendingTokens } from './token-service';\nexport { RatesController, Cryptocurrency } from './RatesController';\nexport type {\n  RatesControllerState,\n  RatesControllerEvents,\n  RatesControllerActions,\n  RatesControllerMessenger,\n  RatesControllerGetStateAction,\n  RatesControllerStateChangeEvent,\n  RatesControllerPollingStartedEvent,\n  RatesControllerPollingStoppedEvent,\n} from './RatesController';\nexport { MultichainBalancesController } from './MultichainBalancesController';\nexport type {\n  MultichainBalancesControllerState,\n  MultichainBalancesControllerGetStateAction,\n  MultichainBalancesControllerStateChange,\n  MultichainBalancesControllerActions,\n  MultichainBalancesControllerEvents,\n  MultichainBalancesControllerMessenger,\n} from './MultichainBalancesController';\n\nexport {\n  MultichainAssetsController,\n  getDefaultMultichainAssetsControllerState,\n} from './MultichainAssetsController';\n\nexport type {\n  MultichainAssetsControllerState,\n  MultichainAssetsControllerGetStateAction,\n  MultichainAssetsControllerStateChangeEvent,\n  MultichainAssetsControllerActions,\n  MultichainAssetsControllerEvents,\n  MultichainAssetsControllerAccountAssetListUpdatedEvent,\n  MultichainAssetsControllerMessenger,\n} from './MultichainAssetsController';\n\nexport {\n  MultichainAssetsRatesController,\n  getDefaultMultichainAssetsRatesControllerState,\n} from './MultichainAssetsRatesController';\n\nexport type {\n  MultichainAssetsRatesControllerState,\n  MultichainAssetsRatesControllerActions,\n  MultichainAssetsRatesControllerEvents,\n  MultichainAssetsRatesControllerGetStateAction,\n  MultichainAssetsRatesControllerStateChange,\n  MultichainAssetsRatesControllerMessenger,\n} from './MultichainAssetsRatesController';\nexport { TokenSearchDiscoveryDataController } from './TokenSearchDiscoveryDataController';\nexport type {\n  TokenDisplayData,\n  TokenSearchDiscoveryDataControllerState,\n  TokenSearchDiscoveryDataControllerGetStateAction,\n  TokenSearchDiscoveryDataControllerEvents,\n  TokenSearchDiscoveryDataControllerStateChangeEvent,\n  TokenSearchDiscoveryDataControllerActions,\n  TokenSearchDiscoveryDataControllerMessenger,\n} from './TokenSearchDiscoveryDataController';\nexport { DeFiPositionsController } from './DeFiPositionsController/DeFiPositionsController';\nexport type {\n  DeFiPositionsControllerState,\n  DeFiPositionsControllerActions,\n  DeFiPositionsControllerEvents,\n  DeFiPositionsControllerGetStateAction,\n  DeFiPositionsControllerStateChangeEvent,\n  DeFiPositionsControllerMessenger,\n} from './DeFiPositionsController/DeFiPositionsController';\nexport type { GroupedDeFiPositions } from './DeFiPositionsController/group-defi-positions';\nexport type {\n  AccountGroupBalance,\n  WalletBalance,\n  AllWalletsBalance,\n} from './balances';\nexport { calculateBalanceForAllWallets } from './balances';\nexport type { BalanceChangePeriod, BalanceChangeResult } from './balances';\nexport {\n  calculateBalanceChangeForAllWallets,\n  calculateBalanceChangeForAccountGroup,\n} from './balances';\nexport type {\n  AssetsByAccountGroup,\n  AccountGroupAssets,\n  Asset,\n  AssetListState,\n} from './selectors/token-selectors';\nexport {\n  selectAssetsBySelectedAccountGroup,\n  selectAllAssets,\n} from './selectors/token-selectors';\nexport { createFormatters } from './utils/formatters';\nexport type { SortTrendingBy, TrendingAsset } from './token-service';\n"]}
\ No newline at end of file
diff --git a/dist/index.d.cts b/dist/index.d.cts
index c9b504ff331075eafc07e95275a35bf61554c7e6..9b930d5474fa8b447db400c0290853e95f501c06 100644
--- a/dist/index.d.cts
+++ b/dist/index.d.cts
@@ -9,7 +9,7 @@ export type { NftDetectionControllerMessenger, ApiNft, ApiNftContract, ApiNftLas
 export { NftDetectionController } from "./NftDetectionController.cjs";
 export type { TokenBalancesControllerActions, TokenBalancesControllerGetStateAction, TokenBalancesControllerEvents, TokenBalancesControllerMessenger, TokenBalancesControllerOptions, TokenBalancesControllerStateChangeEvent, TokenBalancesControllerState, } from "./TokenBalancesController.cjs";
 export { TokenBalancesController } from "./TokenBalancesController.cjs";
-export type { TokenDetectionControllerMessenger, TokenDetectionControllerActions, TokenDetectionControllerGetStateAction, TokenDetectionControllerAddDetectedTokensViaWsAction, TokenDetectionControllerEvents, TokenDetectionControllerStateChangeEvent, } from "./TokenDetectionController.cjs";
+export type { TokenDetectionControllerMessenger, TokenDetectionControllerActions, TokenDetectionControllerGetStateAction, TokenDetectionControllerDetectTokensAction, TokenDetectionControllerAddDetectedTokensViaWsAction, TokenDetectionControllerAddDetectedTokensViaPollingAction, TokenDetectionControllerEvents, TokenDetectionControllerStateChangeEvent, } from "./TokenDetectionController.cjs";
 export { TokenDetectionController } from "./TokenDetectionController.cjs";
 export type { TokenListState, TokenListToken, TokenListMap, TokenListStateChange, TokenListControllerEvents, GetTokenListState, TokenListControllerActions, TokenListControllerMessenger, } from "./TokenListController.cjs";
 export { TokenListController } from "./TokenListController.cjs";
@@ -38,7 +38,7 @@ export { calculateBalanceForAllWallets } from "./balances.cjs";
 export type { BalanceChangePeriod, BalanceChangeResult } from "./balances.cjs";
 export { calculateBalanceChangeForAllWallets, calculateBalanceChangeForAccountGroup, } from "./balances.cjs";
 export type { AssetsByAccountGroup, AccountGroupAssets, Asset, AssetListState, } from "./selectors/token-selectors.cjs";
-export { selectAssetsBySelectedAccountGroup } from "./selectors/token-selectors.cjs";
+export { selectAssetsBySelectedAccountGroup, selectAllAssets, } from "./selectors/token-selectors.cjs";
 export { createFormatters } from "./utils/formatters.cjs";
 export type { SortTrendingBy, TrendingAsset } from "./token-service.cjs";
 //# sourceMappingURL=index.d.cts.map
\ No newline at end of file
diff --git a/dist/index.d.cts.map b/dist/index.d.cts.map
index 50760880e397b697908c3d20dcfbcb6a17e52414..4803b9e20fda95c75cd5a25dd9620f0e8d966bee 100644
--- a/dist/index.d.cts.map
+++ b/dist/index.d.cts.map
@@ -1 +1 @@
-{"version":3,"file":"index.d.cts","sourceRoot":"","sources":["../src/index.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"index.d.cts","sourceRoot":"","sources":["../src/index.ts"],"names":[],"mappings":"AAAA,YAAY,EACV,kBAAkB,EAClB,iCAAiC,EACjC,6BAA6B,EAC7B,+BAA+B,EAC/B,sCAAsC,EACtC,wCAAwC,EACxC,8BAA8B,EAC9B,wCAAwC,EACxC,wCAAwC,GACzC,uCAAmC;AACpC,OAAO,EAAE,wBAAwB,EAAE,uCAAmC;AACtE,YAAY,EACV,+BAA+B,EAC/B,8BAA8B,EAC9B,8CAA8C,EAC9C,+CAA+C,EAC/C,gDAAgD,EAChD,+CAA+C,EAC/C,mDAAmD,EACnD,+CAA+C,EAC/C,iDAAiD,EACjD,+CAA+C,EAC/C,gDAAgD,EAChD,kDAAkD,EAClD,8CAA8C,EAC9C,gDAAgD,EAChD,iDAAiD,EACjD,mDAAmD,EACnD,wDAAwD,EACxD,qDAAqD,EACrD,iCAAiC,EACjC,UAAU,GACX,uCAAmC;AACpC,OAAO,EACL,uCAAuC,EACvC,wBAAwB,GACzB,uCAAmC;AACpC,6CAAyC;AACzC,YAAY,EACV,kBAAkB,EAClB,sBAAsB,EACtB,oBAAoB,EACpB,2BAA2B,EAC3B,mBAAmB,EACnB,6BAA6B,EAC7B,GAAG,EACH,WAAW,EACX,WAAW,GACZ,4BAAwB;AACzB,OAAO,EAAE,4BAA4B,EAAE,aAAa,EAAE,4BAAwB;AAC9E,YAAY,EACV,+BAA+B,EAC/B,MAAM,EACN,cAAc,EACd,cAAc,EACd,aAAa,EACb,iBAAiB,EACjB,cAAc,EACd,kBAAkB,EAClB,QAAQ,EACR,MAAM,EACN,aAAa,EACb,MAAM,EACN,QAAQ,EACR,YAAY,EACZ,UAAU,EACV,UAAU,EACV,SAAS,EACT,SAAS,EACT,QAAQ,EACR,KAAK,EACL,QAAQ,GACT,qCAAiC;AAClC,OAAO,EAAE,sBAAsB,EAAE,qCAAiC;AAClE,YAAY,EACV,8BAA8B,EAC9B,qCAAqC,EACrC,6BAA6B,EAC7B,gCAAgC,EAChC,8BAA8B,EAC9B,uCAAuC,EACvC,4BAA4B,GAC7B,sCAAkC;AACnC,OAAO,EAAE,uBAAuB,EAAE,sCAAkC;AACpE,YAAY,EACV,iCAAiC,EACjC,+BAA+B,EAC/B,sCAAsC,EACtC,0CAA0C,EAC1C,oDAAoD,EACpD,yDAAyD,EACzD,8BAA8B,EAC9B,wCAAwC,GACzC,uCAAmC;AACpC,OAAO,EAAE,wBAAwB,EAAE,uCAAmC;AACtE,YAAY,EACV,cAAc,EACd,cAAc,EACd,YAAY,EACZ,oBAAoB,EACpB,yBAAyB,EACzB,iBAAiB,EACjB,0BAA0B,EAC1B,4BAA4B,GAC7B,kCAA8B;AAC/B,OAAO,EAAE,mBAAmB,EAAE,kCAA8B;AAC5D,YAAY,EACV,qBAAqB,EACrB,kBAAkB,EAClB,KAAK,EACL,2BAA2B,EAC3B,0BAA0B,EAC1B,kCAAkC,EAClC,6BAA6B,EAC7B,yBAAyB,EACzB,oCAAoC,EACpC,iBAAiB,GAClB,mCAA+B;AAChC,OAAO,EACL,mCAAmC,EACnC,oBAAoB,GACrB,mCAA+B;AAChC,YAAY,EACV,qBAAqB,EACrB,uBAAuB,EACvB,8BAA8B,EAC9B,uCAAuC,EACvC,+BAA+B,EAC/B,sBAAsB,EACtB,gCAAgC,EAChC,yBAAyB,GAC1B,+BAA2B;AAC5B,OAAO,EAAE,gBAAgB,EAAE,+BAA2B;AACtD,OAAO,EACL,mCAAmC,EACnC,sBAAsB,EACtB,mBAAmB,EACnB,+BAA+B,EAC/B,aAAa,GACd,yBAAqB;AACtB,OAAO,EACL,0BAA0B,EAC1B,mBAAmB,EACnB,qBAAqB,GACtB,yCAA+B;AAChC,OAAO,EAAE,YAAY,EAAE,iBAAiB,EAAE,4BAAwB;AAClE,OAAO,EAAE,eAAe,EAAE,cAAc,EAAE,oCAA0B;AACpE,YAAY,EACV,oBAAoB,EACpB,qBAAqB,EACrB,sBAAsB,EACtB,wBAAwB,EACxB,6BAA6B,EAC7B,+BAA+B,EAC/B,kCAAkC,EAClC,kCAAkC,GACnC,oCAA0B;AAC3B,OAAO,EAAE,4BAA4B,EAAE,iDAAuC;AAC9E,YAAY,EACV,iCAAiC,EACjC,0CAA0C,EAC1C,uCAAuC,EACvC,mCAAmC,EACnC,kCAAkC,EAClC,qCAAqC,GACtC,iDAAuC;AAExC,OAAO,EACL,0BAA0B,EAC1B,yCAAyC,GAC1C,+CAAqC;AAEtC,YAAY,EACV,+BAA+B,EAC/B,wCAAwC,EACxC,0CAA0C,EAC1C,iCAAiC,EACjC,gCAAgC,EAChC,sDAAsD,EACtD,mCAAmC,GACpC,+CAAqC;AAEtC,OAAO,EACL,+BAA+B,EAC/B,8CAA8C,GAC/C,oDAA0C;AAE3C,YAAY,EACV,oCAAoC,EACpC,sCAAsC,EACtC,qCAAqC,EACrC,6CAA6C,EAC7C,0CAA0C,EAC1C,wCAAwC,GACzC,oDAA0C;AAC3C,OAAO,EAAE,kCAAkC,EAAE,uDAA6C;AAC1F,YAAY,EACV,gBAAgB,EAChB,uCAAuC,EACvC,gDAAgD,EAChD,wCAAwC,EACxC,kDAAkD,EAClD,yCAAyC,EACzC,2CAA2C,GAC5C,uDAA6C;AAC9C,OAAO,EAAE,uBAAuB,EAAE,8DAA0D;AAC5F,YAAY,EACV,4BAA4B,EAC5B,8BAA8B,EAC9B,6BAA6B,EAC7B,qCAAqC,EACrC,uCAAuC,EACvC,gCAAgC,GACjC,8DAA0D;AAC3D,YAAY,EAAE,oBAAoB,EAAE,2DAAuD;AAC3F,YAAY,EACV,mBAAmB,EACnB,aAAa,EACb,iBAAiB,GAClB,uBAAmB;AACpB,OAAO,EAAE,6BAA6B,EAAE,uBAAmB;AAC3D,YAAY,EAAE,mBAAmB,EAAE,mBAAmB,EAAE,uBAAmB;AAC3E,OAAO,EACL,mCAAmC,EACnC,qCAAqC,GACtC,uBAAmB;AACpB,YAAY,EACV,oBAAoB,EACpB,kBAAkB,EAClB,KAAK,EACL,cAAc,GACf,wCAAoC;AACrC,OAAO,EACL,kCAAkC,EAClC,eAAe,GAChB,wCAAoC;AACrC,OAAO,EAAE,gBAAgB,EAAE,+BAA2B;AACtD,YAAY,EAAE,cAAc,EAAE,aAAa,EAAE,4BAAwB"}
\ No newline at end of file
diff --git a/dist/index.d.mts b/dist/index.d.mts
index 97446f70b9a9268aad7fe12d9f112d11b44c3a54..1eaf93a8eff94799e7eb9948b53bc5578c7f596e 100644
--- a/dist/index.d.mts
+++ b/dist/index.d.mts
@@ -9,7 +9,7 @@ export type { NftDetectionControllerMessenger, ApiNft, ApiNftContract, ApiNftLas
 export { NftDetectionController } from "./NftDetectionController.mjs";
 export type { TokenBalancesControllerActions, TokenBalancesControllerGetStateAction, TokenBalancesControllerEvents, TokenBalancesControllerMessenger, TokenBalancesControllerOptions, TokenBalancesControllerStateChangeEvent, TokenBalancesControllerState, } from "./TokenBalancesController.mjs";
 export { TokenBalancesController } from "./TokenBalancesController.mjs";
-export type { TokenDetectionControllerMessenger, TokenDetectionControllerActions, TokenDetectionControllerGetStateAction, TokenDetectionControllerAddDetectedTokensViaWsAction, TokenDetectionControllerEvents, TokenDetectionControllerStateChangeEvent, } from "./TokenDetectionController.mjs";
+export type { TokenDetectionControllerMessenger, TokenDetectionControllerActions, TokenDetectionControllerGetStateAction, TokenDetectionControllerDetectTokensAction, TokenDetectionControllerAddDetectedTokensViaWsAction, TokenDetectionControllerAddDetectedTokensViaPollingAction, TokenDetectionControllerEvents, TokenDetectionControllerStateChangeEvent, } from "./TokenDetectionController.mjs";
 export { TokenDetectionController } from "./TokenDetectionController.mjs";
 export type { TokenListState, TokenListToken, TokenListMap, TokenListStateChange, TokenListControllerEvents, GetTokenListState, TokenListControllerActions, TokenListControllerMessenger, } from "./TokenListController.mjs";
 export { TokenListController } from "./TokenListController.mjs";
@@ -38,7 +38,7 @@ export { calculateBalanceForAllWallets } from "./balances.mjs";
 export type { BalanceChangePeriod, BalanceChangeResult } from "./balances.mjs";
 export { calculateBalanceChangeForAllWallets, calculateBalanceChangeForAccountGroup, } from "./balances.mjs";
 export type { AssetsByAccountGroup, AccountGroupAssets, Asset, AssetListState, } from "./selectors/token-selectors.mjs";
-export { selectAssetsBySelectedAccountGroup } from "./selectors/token-selectors.mjs";
+export { selectAssetsBySelectedAccountGroup, selectAllAssets, } from "./selectors/token-selectors.mjs";
 export { createFormatters } from "./utils/formatters.mjs";
 export type { SortTrendingBy, TrendingAsset } from "./token-service.mjs";
 //# sourceMappingURL=index.d.mts.map
\ No newline at end of file
diff --git a/dist/index.d.mts.map b/dist/index.d.mts.map
index 6630410d0983893fd3d4230ff302a8ec434f2b7b..1a3a791eaf67d2c6ecc715d444edc53d48981de4 100644
--- a/dist/index.d.mts.map
+++ b/dist/index.d.mts.map
@@ -1 +1 @@
-{"version":3,"file":"index.d.mts","sourceRoot":"","sources":["../src/index.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"index.d.mts","sourceRoot":"","sources":["../src/index.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/index.mjs b/dist/index.mjs
index a25d4e903b1b2b7469fc1543cd3c6bf6455e6b23..7f04d07c86dfaabc2c3c402517a11b25cfec7f9e 100644
--- a/dist/index.mjs
+++ b/dist/index.mjs
@@ -19,6 +19,6 @@ export { TokenSearchDiscoveryDataController } from "./TokenSearchDiscoveryDataCo
 export { DeFiPositionsController } from "./DeFiPositionsController/DeFiPositionsController.mjs";
 export { calculateBalanceForAllWallets } from "./balances.mjs";
 export { calculateBalanceChangeForAllWallets, calculateBalanceChangeForAccountGroup } from "./balances.mjs";
-export { selectAssetsBySelectedAccountGroup } from "./selectors/token-selectors.mjs";
+export { selectAssetsBySelectedAccountGroup, selectAllAssets } from "./selectors/token-selectors.mjs";
 export { createFormatters } from "./utils/formatters.mjs";
 //# sourceMappingURL=index.mjs.map
\ No newline at end of file
diff --git a/dist/index.mjs.map b/dist/index.mjs.map
index 93cb6e3f43321cea126f3f578cf24c29c4b3b317..3c47cac06a87a59ec8df3e503bee7559c8f7c471 100644
--- a/dist/index.mjs.map
+++ b/dist/index.mjs.map
@@ -1 +1 @@
-{"version":3,"file":"index.mjs","sourceRoot":"","sources":["../src/index.ts"],"names":[],"mappings":"AAWA,OAAO,EAAE,wBAAwB,EAAE,uCAAmC;AAuBtE,OAAO,EACL,uCAAuC,EACvC,wBAAwB,EACzB,uCAAmC;AACpC,6CAAyC;AAYzC,OAAO,EAAE,4BAA4B,EAAE,aAAa,EAAE,4BAAwB;AAwB9E,OAAO,EAAE,sBAAsB,EAAE,qCAAiC;AAUlE,OAAO,EAAE,uBAAuB,EAAE,sCAAkC;AASpE,OAAO,EAAE,wBAAwB,EAAE,uCAAmC;AAWtE,OAAO,EAAE,mBAAmB,EAAE,kCAA8B;AAa5D,OAAO,EACL,mCAAmC,EACnC,oBAAoB,EACrB,mCAA+B;AAWhC,OAAO,EAAE,gBAAgB,EAAE,+BAA2B;AACtD,OAAO,EACL,mCAAmC,EACnC,sBAAsB,EACtB,mBAAmB,EACnB,+BAA+B,EAC/B,aAAa,EACd,yBAAqB;AACtB,OAAO,EACL,0BAA0B,EAC1B,mBAAmB,EACnB,qBAAqB,EACtB,yCAA+B;AAChC,OAAO,EAAE,YAAY,EAAE,iBAAiB,EAAE,4BAAwB;AAClE,OAAO,EAAE,eAAe,EAAE,cAAc,EAAE,oCAA0B;AAWpE,OAAO,EAAE,4BAA4B,EAAE,iDAAuC;AAU9E,OAAO,EACL,0BAA0B,EAC1B,yCAAyC,EAC1C,+CAAqC;AAYtC,OAAO,EACL,+BAA+B,EAC/B,8CAA8C,EAC/C,oDAA0C;AAU3C,OAAO,EAAE,kCAAkC,EAAE,uDAA6C;AAU1F,OAAO,EAAE,uBAAuB,EAAE,8DAA0D;AAe5F,OAAO,EAAE,6BAA6B,EAAE,uBAAmB;AAE3D,OAAO,EACL,mCAAmC,EACnC,qCAAqC,EACtC,uBAAmB;AAOpB,OAAO,EAAE,kCAAkC,EAAE,wCAAoC;AACjF,OAAO,EAAE,gBAAgB,EAAE,+BAA2B","sourcesContent":["export type {\n  AccountInformation,\n  AccountTrackerControllerMessenger,\n  AccountTrackerControllerState,\n  AccountTrackerControllerActions,\n  AccountTrackerControllerGetStateAction,\n  AccountTrackerControllerStateChangeEvent,\n  AccountTrackerControllerEvents,\n  AccountTrackerUpdateNativeBalancesAction,\n  AccountTrackerUpdateStakedBalancesAction,\n} from './AccountTrackerController';\nexport { AccountTrackerController } from './AccountTrackerController';\nexport type {\n  AssetsContractControllerActions,\n  AssetsContractControllerEvents,\n  AssetsContractControllerGetERC20StandardAction,\n  AssetsContractControllerGetERC721StandardAction,\n  AssetsContractControllerGetERC1155StandardAction,\n  AssetsContractControllerGetERC20BalanceOfAction,\n  AssetsContractControllerGetERC20TokenDecimalsAction,\n  AssetsContractControllerGetERC20TokenNameAction,\n  AssetsContractControllerGetERC721NftTokenIdAction,\n  AssetsContractControllerGetERC721TokenURIAction,\n  AssetsContractControllerGetERC721AssetNameAction,\n  AssetsContractControllerGetERC721AssetSymbolAction,\n  AssetsContractControllerGetERC721OwnerOfAction,\n  AssetsContractControllerGetERC1155TokenURIAction,\n  AssetsContractControllerGetERC1155BalanceOfAction,\n  AssetsContractControllerTransferSingleERC1155Action,\n  AssetsContractControllerGetTokenStandardAndDetailsAction,\n  AssetsContractControllerGetBalancesInSingleCallAction,\n  AssetsContractControllerMessenger,\n  BalanceMap,\n} from './AssetsContractController';\nexport {\n  SINGLE_CALL_BALANCES_ADDRESS_BY_CHAINID,\n  AssetsContractController,\n} from './AssetsContractController';\nexport * from './CurrencyRateController';\nexport type {\n  NftControllerState,\n  NftControllerMessenger,\n  NftControllerActions,\n  NftControllerGetStateAction,\n  NftControllerEvents,\n  NftControllerStateChangeEvent,\n  Nft,\n  NftContract,\n  NftMetadata,\n} from './NftController';\nexport { getDefaultNftControllerState, NftController } from './NftController';\nexport type {\n  NftDetectionControllerMessenger,\n  ApiNft,\n  ApiNftContract,\n  ApiNftLastSale,\n  ApiNftCreator,\n  ReservoirResponse,\n  TokensResponse,\n  BlockaidResultType,\n  Blockaid,\n  Market,\n  TokenResponse,\n  TopBid,\n  LastSale,\n  FeeBreakdown,\n  Attributes,\n  Collection,\n  Royalties,\n  Ownership,\n  FloorAsk,\n  Price,\n  Metadata,\n} from './NftDetectionController';\nexport { NftDetectionController } from './NftDetectionController';\nexport type {\n  TokenBalancesControllerActions,\n  TokenBalancesControllerGetStateAction,\n  TokenBalancesControllerEvents,\n  TokenBalancesControllerMessenger,\n  TokenBalancesControllerOptions,\n  TokenBalancesControllerStateChangeEvent,\n  TokenBalancesControllerState,\n} from './TokenBalancesController';\nexport { TokenBalancesController } from './TokenBalancesController';\nexport type {\n  TokenDetectionControllerMessenger,\n  TokenDetectionControllerActions,\n  TokenDetectionControllerGetStateAction,\n  TokenDetectionControllerAddDetectedTokensViaWsAction,\n  TokenDetectionControllerEvents,\n  TokenDetectionControllerStateChangeEvent,\n} from './TokenDetectionController';\nexport { TokenDetectionController } from './TokenDetectionController';\nexport type {\n  TokenListState,\n  TokenListToken,\n  TokenListMap,\n  TokenListStateChange,\n  TokenListControllerEvents,\n  GetTokenListState,\n  TokenListControllerActions,\n  TokenListControllerMessenger,\n} from './TokenListController';\nexport { TokenListController } from './TokenListController';\nexport type {\n  ContractExchangeRates,\n  ContractMarketData,\n  Token,\n  TokenRatesControllerActions,\n  TokenRatesControllerEvents,\n  TokenRatesControllerGetStateAction,\n  TokenRatesControllerMessenger,\n  TokenRatesControllerState,\n  TokenRatesControllerStateChangeEvent,\n  MarketDataDetails,\n} from './TokenRatesController';\nexport {\n  getDefaultTokenRatesControllerState,\n  TokenRatesController,\n} from './TokenRatesController';\nexport type {\n  TokensControllerState,\n  TokensControllerActions,\n  TokensControllerGetStateAction,\n  TokensControllerAddDetectedTokensAction,\n  TokensControllerAddTokensAction,\n  TokensControllerEvents,\n  TokensControllerStateChangeEvent,\n  TokensControllerMessenger,\n} from './TokensController';\nexport { TokensController } from './TokensController';\nexport {\n  isTokenDetectionSupportedForNetwork,\n  formatIconUrlWithProxy,\n  getFormattedIpfsUrl,\n  fetchTokenContractExchangeRates,\n  getKeyByValue,\n} from './assetsUtil';\nexport {\n  CodefiTokenPricesServiceV2,\n  SUPPORTED_CHAIN_IDS,\n  getNativeTokenAddress,\n} from './token-prices-service';\nexport { searchTokens, getTrendingTokens } from './token-service';\nexport { RatesController, Cryptocurrency } from './RatesController';\nexport type {\n  RatesControllerState,\n  RatesControllerEvents,\n  RatesControllerActions,\n  RatesControllerMessenger,\n  RatesControllerGetStateAction,\n  RatesControllerStateChangeEvent,\n  RatesControllerPollingStartedEvent,\n  RatesControllerPollingStoppedEvent,\n} from './RatesController';\nexport { MultichainBalancesController } from './MultichainBalancesController';\nexport type {\n  MultichainBalancesControllerState,\n  MultichainBalancesControllerGetStateAction,\n  MultichainBalancesControllerStateChange,\n  MultichainBalancesControllerActions,\n  MultichainBalancesControllerEvents,\n  MultichainBalancesControllerMessenger,\n} from './MultichainBalancesController';\n\nexport {\n  MultichainAssetsController,\n  getDefaultMultichainAssetsControllerState,\n} from './MultichainAssetsController';\n\nexport type {\n  MultichainAssetsControllerState,\n  MultichainAssetsControllerGetStateAction,\n  MultichainAssetsControllerStateChangeEvent,\n  MultichainAssetsControllerActions,\n  MultichainAssetsControllerEvents,\n  MultichainAssetsControllerAccountAssetListUpdatedEvent,\n  MultichainAssetsControllerMessenger,\n} from './MultichainAssetsController';\n\nexport {\n  MultichainAssetsRatesController,\n  getDefaultMultichainAssetsRatesControllerState,\n} from './MultichainAssetsRatesController';\n\nexport type {\n  MultichainAssetsRatesControllerState,\n  MultichainAssetsRatesControllerActions,\n  MultichainAssetsRatesControllerEvents,\n  MultichainAssetsRatesControllerGetStateAction,\n  MultichainAssetsRatesControllerStateChange,\n  MultichainAssetsRatesControllerMessenger,\n} from './MultichainAssetsRatesController';\nexport { TokenSearchDiscoveryDataController } from './TokenSearchDiscoveryDataController';\nexport type {\n  TokenDisplayData,\n  TokenSearchDiscoveryDataControllerState,\n  TokenSearchDiscoveryDataControllerGetStateAction,\n  TokenSearchDiscoveryDataControllerEvents,\n  TokenSearchDiscoveryDataControllerStateChangeEvent,\n  TokenSearchDiscoveryDataControllerActions,\n  TokenSearchDiscoveryDataControllerMessenger,\n} from './TokenSearchDiscoveryDataController';\nexport { DeFiPositionsController } from './DeFiPositionsController/DeFiPositionsController';\nexport type {\n  DeFiPositionsControllerState,\n  DeFiPositionsControllerActions,\n  DeFiPositionsControllerEvents,\n  DeFiPositionsControllerGetStateAction,\n  DeFiPositionsControllerStateChangeEvent,\n  DeFiPositionsControllerMessenger,\n} from './DeFiPositionsController/DeFiPositionsController';\nexport type { GroupedDeFiPositions } from './DeFiPositionsController/group-defi-positions';\nexport type {\n  AccountGroupBalance,\n  WalletBalance,\n  AllWalletsBalance,\n} from './balances';\nexport { calculateBalanceForAllWallets } from './balances';\nexport type { BalanceChangePeriod, BalanceChangeResult } from './balances';\nexport {\n  calculateBalanceChangeForAllWallets,\n  calculateBalanceChangeForAccountGroup,\n} from './balances';\nexport type {\n  AssetsByAccountGroup,\n  AccountGroupAssets,\n  Asset,\n  AssetListState,\n} from './selectors/token-selectors';\nexport { selectAssetsBySelectedAccountGroup } from './selectors/token-selectors';\nexport { createFormatters } from './utils/formatters';\nexport type { SortTrendingBy, TrendingAsset } from './token-service';\n"]}
\ No newline at end of file
+{"version":3,"file":"index.mjs","sourceRoot":"","sources":["../src/index.ts"],"names":[],"mappings":"AAWA,OAAO,EAAE,wBAAwB,EAAE,uCAAmC;AAuBtE,OAAO,EACL,uCAAuC,EACvC,wBAAwB,EACzB,uCAAmC;AACpC,6CAAyC;AAYzC,OAAO,EAAE,4BAA4B,EAAE,aAAa,EAAE,4BAAwB;AAwB9E,OAAO,EAAE,sBAAsB,EAAE,qCAAiC;AAUlE,OAAO,EAAE,uBAAuB,EAAE,sCAAkC;AAWpE,OAAO,EAAE,wBAAwB,EAAE,uCAAmC;AAWtE,OAAO,EAAE,mBAAmB,EAAE,kCAA8B;AAa5D,OAAO,EACL,mCAAmC,EACnC,oBAAoB,EACrB,mCAA+B;AAWhC,OAAO,EAAE,gBAAgB,EAAE,+BAA2B;AACtD,OAAO,EACL,mCAAmC,EACnC,sBAAsB,EACtB,mBAAmB,EACnB,+BAA+B,EAC/B,aAAa,EACd,yBAAqB;AACtB,OAAO,EACL,0BAA0B,EAC1B,mBAAmB,EACnB,qBAAqB,EACtB,yCAA+B;AAChC,OAAO,EAAE,YAAY,EAAE,iBAAiB,EAAE,4BAAwB;AAClE,OAAO,EAAE,eAAe,EAAE,cAAc,EAAE,oCAA0B;AAWpE,OAAO,EAAE,4BAA4B,EAAE,iDAAuC;AAU9E,OAAO,EACL,0BAA0B,EAC1B,yCAAyC,EAC1C,+CAAqC;AAYtC,OAAO,EACL,+BAA+B,EAC/B,8CAA8C,EAC/C,oDAA0C;AAU3C,OAAO,EAAE,kCAAkC,EAAE,uDAA6C;AAU1F,OAAO,EAAE,uBAAuB,EAAE,8DAA0D;AAe5F,OAAO,EAAE,6BAA6B,EAAE,uBAAmB;AAE3D,OAAO,EACL,mCAAmC,EACnC,qCAAqC,EACtC,uBAAmB;AAOpB,OAAO,EACL,kCAAkC,EAClC,eAAe,EAChB,wCAAoC;AACrC,OAAO,EAAE,gBAAgB,EAAE,+BAA2B","sourcesContent":["export type {\n  AccountInformation,\n  AccountTrackerControllerMessenger,\n  AccountTrackerControllerState,\n  AccountTrackerControllerActions,\n  AccountTrackerControllerGetStateAction,\n  AccountTrackerControllerStateChangeEvent,\n  AccountTrackerControllerEvents,\n  AccountTrackerUpdateNativeBalancesAction,\n  AccountTrackerUpdateStakedBalancesAction,\n} from './AccountTrackerController';\nexport { AccountTrackerController } from './AccountTrackerController';\nexport type {\n  AssetsContractControllerActions,\n  AssetsContractControllerEvents,\n  AssetsContractControllerGetERC20StandardAction,\n  AssetsContractControllerGetERC721StandardAction,\n  AssetsContractControllerGetERC1155StandardAction,\n  AssetsContractControllerGetERC20BalanceOfAction,\n  AssetsContractControllerGetERC20TokenDecimalsAction,\n  AssetsContractControllerGetERC20TokenNameAction,\n  AssetsContractControllerGetERC721NftTokenIdAction,\n  AssetsContractControllerGetERC721TokenURIAction,\n  AssetsContractControllerGetERC721AssetNameAction,\n  AssetsContractControllerGetERC721AssetSymbolAction,\n  AssetsContractControllerGetERC721OwnerOfAction,\n  AssetsContractControllerGetERC1155TokenURIAction,\n  AssetsContractControllerGetERC1155BalanceOfAction,\n  AssetsContractControllerTransferSingleERC1155Action,\n  AssetsContractControllerGetTokenStandardAndDetailsAction,\n  AssetsContractControllerGetBalancesInSingleCallAction,\n  AssetsContractControllerMessenger,\n  BalanceMap,\n} from './AssetsContractController';\nexport {\n  SINGLE_CALL_BALANCES_ADDRESS_BY_CHAINID,\n  AssetsContractController,\n} from './AssetsContractController';\nexport * from './CurrencyRateController';\nexport type {\n  NftControllerState,\n  NftControllerMessenger,\n  NftControllerActions,\n  NftControllerGetStateAction,\n  NftControllerEvents,\n  NftControllerStateChangeEvent,\n  Nft,\n  NftContract,\n  NftMetadata,\n} from './NftController';\nexport { getDefaultNftControllerState, NftController } from './NftController';\nexport type {\n  NftDetectionControllerMessenger,\n  ApiNft,\n  ApiNftContract,\n  ApiNftLastSale,\n  ApiNftCreator,\n  ReservoirResponse,\n  TokensResponse,\n  BlockaidResultType,\n  Blockaid,\n  Market,\n  TokenResponse,\n  TopBid,\n  LastSale,\n  FeeBreakdown,\n  Attributes,\n  Collection,\n  Royalties,\n  Ownership,\n  FloorAsk,\n  Price,\n  Metadata,\n} from './NftDetectionController';\nexport { NftDetectionController } from './NftDetectionController';\nexport type {\n  TokenBalancesControllerActions,\n  TokenBalancesControllerGetStateAction,\n  TokenBalancesControllerEvents,\n  TokenBalancesControllerMessenger,\n  TokenBalancesControllerOptions,\n  TokenBalancesControllerStateChangeEvent,\n  TokenBalancesControllerState,\n} from './TokenBalancesController';\nexport { TokenBalancesController } from './TokenBalancesController';\nexport type {\n  TokenDetectionControllerMessenger,\n  TokenDetectionControllerActions,\n  TokenDetectionControllerGetStateAction,\n  TokenDetectionControllerDetectTokensAction,\n  TokenDetectionControllerAddDetectedTokensViaWsAction,\n  TokenDetectionControllerAddDetectedTokensViaPollingAction,\n  TokenDetectionControllerEvents,\n  TokenDetectionControllerStateChangeEvent,\n} from './TokenDetectionController';\nexport { TokenDetectionController } from './TokenDetectionController';\nexport type {\n  TokenListState,\n  TokenListToken,\n  TokenListMap,\n  TokenListStateChange,\n  TokenListControllerEvents,\n  GetTokenListState,\n  TokenListControllerActions,\n  TokenListControllerMessenger,\n} from './TokenListController';\nexport { TokenListController } from './TokenListController';\nexport type {\n  ContractExchangeRates,\n  ContractMarketData,\n  Token,\n  TokenRatesControllerActions,\n  TokenRatesControllerEvents,\n  TokenRatesControllerGetStateAction,\n  TokenRatesControllerMessenger,\n  TokenRatesControllerState,\n  TokenRatesControllerStateChangeEvent,\n  MarketDataDetails,\n} from './TokenRatesController';\nexport {\n  getDefaultTokenRatesControllerState,\n  TokenRatesController,\n} from './TokenRatesController';\nexport type {\n  TokensControllerState,\n  TokensControllerActions,\n  TokensControllerGetStateAction,\n  TokensControllerAddDetectedTokensAction,\n  TokensControllerAddTokensAction,\n  TokensControllerEvents,\n  TokensControllerStateChangeEvent,\n  TokensControllerMessenger,\n} from './TokensController';\nexport { TokensController } from './TokensController';\nexport {\n  isTokenDetectionSupportedForNetwork,\n  formatIconUrlWithProxy,\n  getFormattedIpfsUrl,\n  fetchTokenContractExchangeRates,\n  getKeyByValue,\n} from './assetsUtil';\nexport {\n  CodefiTokenPricesServiceV2,\n  SUPPORTED_CHAIN_IDS,\n  getNativeTokenAddress,\n} from './token-prices-service';\nexport { searchTokens, getTrendingTokens } from './token-service';\nexport { RatesController, Cryptocurrency } from './RatesController';\nexport type {\n  RatesControllerState,\n  RatesControllerEvents,\n  RatesControllerActions,\n  RatesControllerMessenger,\n  RatesControllerGetStateAction,\n  RatesControllerStateChangeEvent,\n  RatesControllerPollingStartedEvent,\n  RatesControllerPollingStoppedEvent,\n} from './RatesController';\nexport { MultichainBalancesController } from './MultichainBalancesController';\nexport type {\n  MultichainBalancesControllerState,\n  MultichainBalancesControllerGetStateAction,\n  MultichainBalancesControllerStateChange,\n  MultichainBalancesControllerActions,\n  MultichainBalancesControllerEvents,\n  MultichainBalancesControllerMessenger,\n} from './MultichainBalancesController';\n\nexport {\n  MultichainAssetsController,\n  getDefaultMultichainAssetsControllerState,\n} from './MultichainAssetsController';\n\nexport type {\n  MultichainAssetsControllerState,\n  MultichainAssetsControllerGetStateAction,\n  MultichainAssetsControllerStateChangeEvent,\n  MultichainAssetsControllerActions,\n  MultichainAssetsControllerEvents,\n  MultichainAssetsControllerAccountAssetListUpdatedEvent,\n  MultichainAssetsControllerMessenger,\n} from './MultichainAssetsController';\n\nexport {\n  MultichainAssetsRatesController,\n  getDefaultMultichainAssetsRatesControllerState,\n} from './MultichainAssetsRatesController';\n\nexport type {\n  MultichainAssetsRatesControllerState,\n  MultichainAssetsRatesControllerActions,\n  MultichainAssetsRatesControllerEvents,\n  MultichainAssetsRatesControllerGetStateAction,\n  MultichainAssetsRatesControllerStateChange,\n  MultichainAssetsRatesControllerMessenger,\n} from './MultichainAssetsRatesController';\nexport { TokenSearchDiscoveryDataController } from './TokenSearchDiscoveryDataController';\nexport type {\n  TokenDisplayData,\n  TokenSearchDiscoveryDataControllerState,\n  TokenSearchDiscoveryDataControllerGetStateAction,\n  TokenSearchDiscoveryDataControllerEvents,\n  TokenSearchDiscoveryDataControllerStateChangeEvent,\n  TokenSearchDiscoveryDataControllerActions,\n  TokenSearchDiscoveryDataControllerMessenger,\n} from './TokenSearchDiscoveryDataController';\nexport { DeFiPositionsController } from './DeFiPositionsController/DeFiPositionsController';\nexport type {\n  DeFiPositionsControllerState,\n  DeFiPositionsControllerActions,\n  DeFiPositionsControllerEvents,\n  DeFiPositionsControllerGetStateAction,\n  DeFiPositionsControllerStateChangeEvent,\n  DeFiPositionsControllerMessenger,\n} from './DeFiPositionsController/DeFiPositionsController';\nexport type { GroupedDeFiPositions } from './DeFiPositionsController/group-defi-positions';\nexport type {\n  AccountGroupBalance,\n  WalletBalance,\n  AllWalletsBalance,\n} from './balances';\nexport { calculateBalanceForAllWallets } from './balances';\nexport type { BalanceChangePeriod, BalanceChangeResult } from './balances';\nexport {\n  calculateBalanceChangeForAllWallets,\n  calculateBalanceChangeForAccountGroup,\n} from './balances';\nexport type {\n  AssetsByAccountGroup,\n  AccountGroupAssets,\n  Asset,\n  AssetListState,\n} from './selectors/token-selectors';\nexport {\n  selectAssetsBySelectedAccountGroup,\n  selectAllAssets,\n} from './selectors/token-selectors';\nexport { createFormatters } from './utils/formatters';\nexport type { SortTrendingBy, TrendingAsset } from './token-service';\n"]}
\ No newline at end of file
diff --git a/dist/selectors/token-selectors.cjs b/dist/selectors/token-selectors.cjs
index 50f20f60fd2bc0ab2a5a1f847be6886369334533..74cd62dbd746982ee014a1435ea4d0d9bae5876b 100644
--- a/dist/selectors/token-selectors.cjs
+++ b/dist/selectors/token-selectors.cjs
@@ -1,6 +1,6 @@
 "use strict";
 Object.defineProperty(exports, "__esModule", { value: true });
-exports.selectAssetsBySelectedAccountGroup = exports.TRON_RESOURCE_SYMBOLS_SET = exports.TRON_RESOURCE_SYMBOLS = exports.TRON_RESOURCE = void 0;
+exports.selectAssetsBySelectedAccountGroup = exports.selectAllAssets = exports.TRON_RESOURCE_SYMBOLS_SET = exports.TRON_RESOURCE_SYMBOLS = exports.TRON_RESOURCE = void 0;
 const controller_utils_1 = require("@metamask/controller-utils");
 const keyring_api_1 = require("@metamask/keyring-api");
 const utils_1 = require("@metamask/utils");
@@ -221,7 +221,7 @@ const selectAllMultichainAssets = createAssetListSelector([
     }
     return groupAssets;
 });
-const selectAllAssets = createAssetListSelector([
+exports.selectAllAssets = createAssetListSelector([
     selectAllEvmAssets,
     selectAllMultichainAssets,
     selectAllEvmAccountNativeBalances,
@@ -252,7 +252,7 @@ const filterTronStakedTokens = (assetsByAccountGroup) => {
     return newAssetsByAccountGroup;
 };
 exports.selectAssetsBySelectedAccountGroup = createAssetListSelector([
-    selectAllAssets,
+    exports.selectAllAssets,
     (state) => state.accountTree,
     (_state, opts = defaultSelectAccountGroupAssetOpts) => opts,
 ], (groupAssets, accountTree, opts) => {
diff --git a/dist/selectors/token-selectors.cjs.map b/dist/selectors/token-selectors.cjs.map
index 70b5b7f75c7bc02b49c8a1098f13f05a0791d720..048ec45f4fdde4b89bf1150f8c7f0103316592f2 100644
--- a/dist/selectors/token-selectors.cjs.map
+++ b/dist/selectors/token-selectors.cjs.map
@@ -1 +1 @@
-{"version":3,"file":"token-selectors.cjs","sourceRoot":"","sources":["../../src/selectors/token-selectors.ts"],"names":[],"mappings":"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","sourcesContent":["import type { AccountGroupId } from '@metamask/account-api';\nimport type { AccountTreeControllerState } from '@metamask/account-tree-controller';\nimport type { AccountsControllerState } from '@metamask/accounts-controller';\nimport { convertHexToDecimal } from '@metamask/controller-utils';\nimport { TrxScope } from '@metamask/keyring-api';\nimport type { InternalAccount } from '@metamask/keyring-internal-api';\nimport type { NetworkState } from '@metamask/network-controller';\nimport { hexToBigInt, parseCaipAssetType } from '@metamask/utils';\nimport type { Hex } from '@metamask/utils';\nimport { createSelector, weakMapMemoize } from 'reselect';\n\nimport {\n  parseBalanceWithDecimals,\n  stringifyBalanceWithDecimals,\n} from './stringify-balance';\nimport type { CurrencyRateState } from '../CurrencyRateController';\nimport type { MultichainAssetsControllerState } from '../MultichainAssetsController';\nimport type { MultichainAssetsRatesControllerState } from '../MultichainAssetsRatesController';\nimport type { MultichainBalancesControllerState } from '../MultichainBalancesController';\nimport { getNativeTokenAddress } from '../token-prices-service/codefi-v2';\nimport type { TokenBalancesControllerState } from '../TokenBalancesController';\nimport type { Token, TokenRatesControllerState } from '../TokenRatesController';\nimport type { TokensControllerState } from '../TokensController';\n\n// Asset Tron Filters\nexport const TRON_RESOURCE = {\n  ENERGY: 'energy',\n  BANDWIDTH: 'bandwidth',\n  MAX_ENERGY: 'max-energy',\n  MAX_BANDWIDTH: 'max-bandwidth',\n  STRX_ENERGY: 'strx-energy',\n  STRX_BANDWIDTH: 'strx-bandwidth',\n} as const;\n\nexport type TronResourceSymbol =\n  (typeof TRON_RESOURCE)[keyof typeof TRON_RESOURCE];\n\nexport const TRON_RESOURCE_SYMBOLS = Object.values(\n  TRON_RESOURCE,\n) as readonly TronResourceSymbol[];\n\nexport const TRON_RESOURCE_SYMBOLS_SET: ReadonlySet<TronResourceSymbol> =\n  new Set(TRON_RESOURCE_SYMBOLS);\n\nexport type AssetsByAccountGroup = {\n  [accountGroupId: AccountGroupId]: AccountGroupAssets;\n};\n\nexport type AccountGroupAssets = {\n  [network: string]: Asset[];\n};\n\ntype EvmAccountType = Extract<InternalAccount['type'], `eip155:${string}`>;\ntype MultichainAccountType = Exclude<\n  InternalAccount['type'],\n  `eip155:${string}`\n>;\n\nexport type Asset = (\n  | {\n      accountType: EvmAccountType;\n      assetId: Hex; // This is also the address for EVM tokens\n      address: Hex;\n      chainId: Hex;\n    }\n  | {\n      accountType: MultichainAccountType;\n      assetId: `${string}:${string}/${string}:${string}`;\n      chainId: `${string}:${string}`;\n    }\n) & {\n  accountId: string;\n  image: string;\n  name: string;\n  symbol: string;\n  decimals: number;\n  isNative: boolean;\n  rawBalance: Hex;\n  balance: string;\n  fiat:\n    | {\n        balance: number;\n        currency: string;\n        conversionRate: number;\n      }\n    | undefined;\n};\n\nexport type AssetListState = {\n  accountTree: AccountTreeControllerState['accountTree'];\n  internalAccounts: AccountsControllerState['internalAccounts'];\n  allTokens: TokensControllerState['allTokens'];\n  allIgnoredTokens: TokensControllerState['allIgnoredTokens'];\n  tokenBalances: TokenBalancesControllerState['tokenBalances'];\n  marketData: TokenRatesControllerState['marketData'];\n  currencyRates: CurrencyRateState['currencyRates'];\n  accountsAssets: MultichainAssetsControllerState['accountsAssets'];\n  allIgnoredAssets: MultichainAssetsControllerState['allIgnoredAssets'];\n  assetsMetadata: MultichainAssetsControllerState['assetsMetadata'];\n  balances: MultichainBalancesControllerState['balances'];\n  conversionRates: MultichainAssetsRatesControllerState['conversionRates'];\n  currentCurrency: CurrencyRateState['currentCurrency'];\n  networkConfigurationsByChainId: NetworkState['networkConfigurationsByChainId'];\n  // This is the state from AccountTrackerController. The state is different on mobile and extension\n  // accountsByChainId with a balance is the only field that both clients have in common\n  // This field could be removed once TokenBalancesController returns native balances\n  accountsByChainId: Record<\n    Hex,\n    Record<\n      Hex,\n      {\n        balance: Hex | null;\n      }\n    >\n  >;\n};\n\nconst createAssetListSelector = createSelector.withTypes<AssetListState>();\n\nconst selectAccountsToGroupIdMap = createAssetListSelector(\n  [(state) => state.accountTree, (state) => state.internalAccounts],\n  (accountTree, internalAccounts) => {\n    const accountsMap: Record<\n      string,\n      {\n        accountGroupId: AccountGroupId;\n        type: InternalAccount['type'];\n        accountId: string;\n      }\n    > = {};\n    for (const { groups } of Object.values(accountTree.wallets)) {\n      for (const { id: accountGroupId, accounts } of Object.values(groups)) {\n        for (const accountId of accounts) {\n          const internalAccount = internalAccounts.accounts[accountId];\n\n          accountsMap[\n            // TODO: We would not need internalAccounts if evmTokens state had the accountId\n            internalAccount.type.startsWith('eip155')\n              ? internalAccount.address\n              : accountId\n          ] = { accountGroupId, type: internalAccount.type, accountId };\n        }\n      }\n    }\n\n    return accountsMap;\n  },\n);\n\n// TODO: This selector will not be needed once the native balances are part of the evm tokens state\nconst selectAllEvmAccountNativeBalances = createAssetListSelector(\n  [\n    selectAccountsToGroupIdMap,\n    (state) => state.accountsByChainId,\n    (state) => state.marketData,\n    (state) => state.currencyRates,\n    (state) => state.currentCurrency,\n    (state) => state.networkConfigurationsByChainId,\n  ],\n  (\n    accountsMap,\n    accountsByChainId,\n    marketData,\n    currencyRates,\n    currentCurrency,\n    networkConfigurationsByChainId,\n  ) => {\n    const groupAssets: AssetsByAccountGroup = {};\n\n    for (const [chainId, chainAccounts] of Object.entries(\n      accountsByChainId,\n    ) as [Hex, Record<Hex, { balance: Hex | null }>][]) {\n      for (const [accountAddress, accountBalance] of Object.entries(\n        chainAccounts,\n      )) {\n        const account = accountsMap[accountAddress.toLowerCase()];\n        if (!account) {\n          continue;\n        }\n\n        const { accountGroupId, type, accountId } = account;\n\n        groupAssets[accountGroupId] ??= {};\n        groupAssets[accountGroupId][chainId] ??= [];\n        const groupChainAssets = groupAssets[accountGroupId][chainId];\n\n        // If a native balance is missing, we still want to show it as 0\n        const rawBalance = accountBalance.balance || '0x0';\n\n        const nativeCurrency =\n          networkConfigurationsByChainId[chainId]?.nativeCurrency || 'NATIVE';\n\n        const nativeToken = {\n          address: getNativeTokenAddress(chainId),\n          decimals: 18,\n          name: nativeCurrency === 'ETH' ? 'Ethereum' : nativeCurrency,\n          symbol: nativeCurrency,\n          // This field need to be filled at client level for now\n          image: '',\n        };\n\n        const fiatData = getFiatBalanceForEvmToken(\n          rawBalance,\n          nativeToken.decimals,\n          marketData,\n          currencyRates,\n          chainId,\n          nativeToken.address,\n        );\n\n        groupChainAssets.push({\n          accountType: type as EvmAccountType,\n          assetId: nativeToken.address,\n          isNative: true,\n          address: nativeToken.address,\n          image: nativeToken.image,\n          name: nativeToken.name,\n          symbol: nativeToken.symbol,\n          accountId,\n          decimals: nativeToken.decimals,\n          rawBalance,\n          balance: stringifyBalanceWithDecimals(\n            hexToBigInt(rawBalance),\n            nativeToken.decimals,\n          ),\n          fiat: fiatData\n            ? {\n                balance: fiatData.balance,\n                currency: currentCurrency,\n                conversionRate: fiatData.conversionRate,\n              }\n            : undefined,\n          chainId,\n        });\n      }\n    }\n\n    return groupAssets;\n  },\n);\n\nconst selectAllEvmAssets = createAssetListSelector(\n  [\n    selectAccountsToGroupIdMap,\n    (state) => state.allTokens,\n    (state) => state.allIgnoredTokens,\n    (state) => state.tokenBalances,\n    (state) => state.marketData,\n    (state) => state.currencyRates,\n    (state) => state.currentCurrency,\n  ],\n  (\n    accountsMap,\n    evmTokens,\n    ignoredEvmTokens,\n    tokenBalances,\n    marketData,\n    currencyRates,\n    currentCurrency,\n  ) => {\n    const groupAssets: AssetsByAccountGroup = {};\n\n    for (const [chainId, chainTokens] of Object.entries(evmTokens) as [\n      Hex,\n      { [key: string]: Token[] },\n    ][]) {\n      for (const [accountAddress, addressTokens] of Object.entries(\n        chainTokens,\n      ) as [Hex, Token[]][]) {\n        for (const token of addressTokens) {\n          const tokenAddress = token.address as Hex;\n          const account = accountsMap[accountAddress];\n          if (!account) {\n            continue;\n          }\n\n          const { accountGroupId, type, accountId } = account;\n\n          if (\n            ignoredEvmTokens[chainId]?.[accountAddress]?.includes(tokenAddress)\n          ) {\n            continue;\n          }\n\n          const rawBalance =\n            tokenBalances[accountAddress]?.[chainId]?.[tokenAddress];\n\n          if (!rawBalance) {\n            continue;\n          }\n\n          groupAssets[accountGroupId] ??= {};\n          groupAssets[accountGroupId][chainId] ??= [];\n          const groupChainAssets = groupAssets[accountGroupId][chainId];\n\n          const fiatData = getFiatBalanceForEvmToken(\n            rawBalance,\n            token.decimals,\n            marketData,\n            currencyRates,\n            chainId,\n            tokenAddress,\n          );\n\n          groupChainAssets.push({\n            accountType: type as EvmAccountType,\n            assetId: tokenAddress,\n            isNative: false,\n            address: tokenAddress,\n            image: token.image ?? '',\n            name: token.name ?? token.symbol,\n            symbol: token.symbol,\n            accountId,\n            decimals: token.decimals,\n            rawBalance,\n            balance: stringifyBalanceWithDecimals(\n              hexToBigInt(rawBalance),\n              token.decimals,\n            ),\n            fiat: fiatData\n              ? {\n                  balance: fiatData.balance,\n                  currency: currentCurrency,\n                  conversionRate: fiatData.conversionRate,\n                }\n              : undefined,\n            chainId,\n          });\n        }\n      }\n    }\n\n    return groupAssets;\n  },\n);\n\nconst selectAllMultichainAssets = createAssetListSelector(\n  [\n    selectAccountsToGroupIdMap,\n    (state) => state.accountsAssets,\n    (state) => state.allIgnoredAssets,\n    (state) => state.assetsMetadata,\n    (state) => state.balances,\n    (state) => state.conversionRates,\n    (state) => state.currentCurrency,\n  ],\n  (\n    accountsMap,\n    multichainTokens,\n    ignoredMultichainAssets,\n    multichainAssetsMetadata,\n    multichainBalances,\n    multichainConversionRates,\n    currentCurrency,\n  ) => {\n    const groupAssets: AssetsByAccountGroup = {};\n\n    for (const [accountId, accountAssets] of Object.entries(multichainTokens)) {\n      for (const assetId of accountAssets) {\n        let caipAsset: ReturnType<typeof parseCaipAssetType>;\n        try {\n          caipAsset = parseCaipAssetType(assetId);\n        } catch {\n          // TODO: We should log this error when we have the ability to inject a logger from the client\n          continue;\n        }\n\n        const { chainId } = caipAsset;\n        const asset = `${caipAsset.assetNamespace}:${caipAsset.assetReference}`;\n\n        const account = accountsMap[accountId];\n        const assetMetadata = multichainAssetsMetadata[assetId];\n        if (!account || !assetMetadata) {\n          continue;\n        }\n\n        const { accountGroupId, type } = account;\n\n        if (ignoredMultichainAssets?.[accountId]?.includes(assetId)) {\n          continue;\n        }\n\n        groupAssets[accountGroupId] ??= {};\n        groupAssets[accountGroupId][chainId] ??= [];\n        const groupChainAssets = groupAssets[accountGroupId][chainId];\n\n        const balance:\n          | {\n              amount: string;\n              unit: string;\n            }\n          | undefined = multichainBalances[accountId]?.[assetId];\n\n        const decimals = assetMetadata.units.find(\n          (unit) =>\n            unit.name === assetMetadata.name &&\n            unit.symbol === assetMetadata.symbol,\n        )?.decimals;\n\n        if (!balance || decimals === undefined) {\n          continue;\n        }\n\n        const rawBalance = parseBalanceWithDecimals(balance.amount, decimals);\n\n        if (!rawBalance) {\n          continue;\n        }\n\n        const fiatData = getFiatBalanceForMultichainAsset(\n          balance,\n          multichainConversionRates,\n          assetId,\n        );\n\n        // TODO: We shouldn't have to rely on fallbacks for name and symbol, they should not be optional\n        groupChainAssets.push({\n          accountType: type as MultichainAccountType,\n          assetId,\n          isNative: caipAsset.assetNamespace === 'slip44',\n          image: assetMetadata.iconUrl,\n          name: assetMetadata.name ?? assetMetadata.symbol ?? asset,\n          symbol: assetMetadata.symbol ?? asset,\n          accountId,\n          decimals,\n          rawBalance,\n          balance: balance.amount,\n          fiat: fiatData\n            ? {\n                balance: fiatData.balance,\n                currency: currentCurrency,\n                conversionRate: fiatData.conversionRate,\n              }\n            : undefined,\n          chainId,\n        });\n      }\n    }\n\n    return groupAssets;\n  },\n);\n\nconst selectAllAssets = createAssetListSelector(\n  [\n    selectAllEvmAssets,\n    selectAllMultichainAssets,\n    selectAllEvmAccountNativeBalances,\n  ],\n  (evmAssets, multichainAssets, evmAccountNativeBalances) => {\n    const groupAssets: AssetsByAccountGroup = {};\n\n    mergeAssets(groupAssets, evmAssets);\n\n    mergeAssets(groupAssets, multichainAssets);\n\n    mergeAssets(groupAssets, evmAccountNativeBalances);\n\n    return groupAssets;\n  },\n);\n\nexport type SelectAccountGroupAssetOpts = {\n  filterTronStakedTokens: boolean;\n};\n\nconst defaultSelectAccountGroupAssetOpts: SelectAccountGroupAssetOpts = {\n  filterTronStakedTokens: true,\n};\n\nconst filterTronStakedTokens = (assetsByAccountGroup: AccountGroupAssets) => {\n  const newAssetsByAccountGroup = { ...assetsByAccountGroup };\n\n  Object.values(TrxScope).forEach((tronChainId) => {\n    if (!newAssetsByAccountGroup[tronChainId]) {\n      return;\n    }\n\n    newAssetsByAccountGroup[tronChainId] = newAssetsByAccountGroup[\n      tronChainId\n    ].filter((asset: Asset) => {\n      if (\n        asset.chainId.startsWith('tron:') &&\n        TRON_RESOURCE_SYMBOLS_SET.has(\n          asset.symbol?.toLowerCase() as TronResourceSymbol,\n        )\n      ) {\n        return false;\n      }\n      return true;\n    });\n  });\n\n  return newAssetsByAccountGroup;\n};\n\nexport const selectAssetsBySelectedAccountGroup = createAssetListSelector(\n  [\n    selectAllAssets,\n    (state) => state.accountTree,\n    (\n      _state,\n      opts: SelectAccountGroupAssetOpts = defaultSelectAccountGroupAssetOpts,\n    ) => opts,\n  ],\n  (groupAssets, accountTree, opts) => {\n    const { selectedAccountGroup } = accountTree;\n    if (!selectedAccountGroup) {\n      return {};\n    }\n\n    let result = groupAssets[selectedAccountGroup] || {};\n\n    if (opts.filterTronStakedTokens) {\n      result = filterTronStakedTokens(result);\n    }\n\n    return result;\n  },\n  {\n    memoize: weakMapMemoize,\n    argsMemoize: weakMapMemoize,\n  },\n);\n\n// TODO: Once native assets are part of the evm tokens state, this function can be simplified as chains will always be unique\n/**\n * Merges the new assets into the existing assets\n *\n * @param existingAssets - The existing assets\n * @param newAssets - The new assets\n */\nfunction mergeAssets(\n  existingAssets: AssetsByAccountGroup,\n  newAssets: AssetsByAccountGroup,\n) {\n  for (const [accountGroupId, accountAssets] of Object.entries(newAssets) as [\n    AccountGroupId,\n    AccountGroupAssets,\n  ][]) {\n    const existingAccountGroupAssets = existingAssets[accountGroupId];\n\n    if (!existingAccountGroupAssets) {\n      existingAssets[accountGroupId] = {};\n      for (const [network, chainAssets] of Object.entries(accountAssets)) {\n        existingAssets[accountGroupId][network] = [...chainAssets];\n      }\n    } else {\n      for (const [network, chainAssets] of Object.entries(accountAssets)) {\n        existingAccountGroupAssets[network] ??= [];\n        existingAccountGroupAssets[network].push(...chainAssets);\n      }\n    }\n  }\n}\n\n/**\n * @param rawBalance - The balance of the token\n * @param decimals - The decimals of the token\n * @param marketData - The market data for the token\n * @param currencyRates - The currency rates for the token\n * @param chainId - The chain id of the token\n * @param tokenAddress - The address of the token\n * @returns The price and currency of the token in the current currency. Returns undefined if the asset is not found in the market data or currency rates.\n */\nfunction getFiatBalanceForEvmToken(\n  rawBalance: Hex,\n  decimals: number,\n  marketData: TokenRatesControllerState['marketData'],\n  currencyRates: CurrencyRateState['currencyRates'],\n  chainId: Hex,\n  tokenAddress: Hex,\n) {\n  const tokenMarketData = marketData[chainId]?.[tokenAddress];\n\n  if (!tokenMarketData) {\n    return undefined;\n  }\n\n  const currencyRate = currencyRates[tokenMarketData.currency];\n\n  if (!currencyRate?.conversionRate) {\n    return undefined;\n  }\n\n  const fiatBalance =\n    (convertHexToDecimal(rawBalance) / 10 ** decimals) *\n    tokenMarketData.price *\n    currencyRate.conversionRate;\n\n  return {\n    balance: fiatBalance,\n    conversionRate: currencyRate.conversionRate,\n  };\n}\n\n/**\n * @param balance - The balance of the asset, in the format { amount: string; unit: string }\n * @param balance.amount - The amount of the balance\n * @param balance.unit - The unit of the balance\n * @param multichainConversionRates - The conversion rates for the multichain asset\n * @param assetId - The asset id of the asset\n * @returns The price and currency of the token in the current currency. Returns undefined if the asset is not found in the conversion rates.\n */\nfunction getFiatBalanceForMultichainAsset(\n  balance: { amount: string; unit: string },\n  multichainConversionRates: MultichainAssetsRatesControllerState['conversionRates'],\n  assetId: `${string}:${string}/${string}:${string}`,\n) {\n  const assetMarketData = multichainConversionRates[assetId];\n\n  if (!assetMarketData?.rate) {\n    return undefined;\n  }\n\n  return {\n    balance: Number(balance.amount) * Number(assetMarketData.rate),\n    conversionRate: Number(assetMarketData.rate),\n  };\n}\n"]}
\ No newline at end of file
+{"version":3,"file":"token-selectors.cjs","sourceRoot":"","sources":["../../src/selectors/token-selectors.ts"],"names":[],"mappings":"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","sourcesContent":["import type { AccountGroupId } from '@metamask/account-api';\nimport type { AccountTreeControllerState } from '@metamask/account-tree-controller';\nimport type { AccountsControllerState } from '@metamask/accounts-controller';\nimport { convertHexToDecimal } from '@metamask/controller-utils';\nimport { TrxScope } from '@metamask/keyring-api';\nimport type { InternalAccount } from '@metamask/keyring-internal-api';\nimport type { NetworkState } from '@metamask/network-controller';\nimport { hexToBigInt, parseCaipAssetType } from '@metamask/utils';\nimport type { Hex } from '@metamask/utils';\nimport { createSelector, weakMapMemoize } from 'reselect';\n\nimport {\n  parseBalanceWithDecimals,\n  stringifyBalanceWithDecimals,\n} from './stringify-balance';\nimport type { CurrencyRateState } from '../CurrencyRateController';\nimport type { MultichainAssetsControllerState } from '../MultichainAssetsController';\nimport type { MultichainAssetsRatesControllerState } from '../MultichainAssetsRatesController';\nimport type { MultichainBalancesControllerState } from '../MultichainBalancesController';\nimport { getNativeTokenAddress } from '../token-prices-service/codefi-v2';\nimport type { TokenBalancesControllerState } from '../TokenBalancesController';\nimport type { Token, TokenRatesControllerState } from '../TokenRatesController';\nimport type { TokensControllerState } from '../TokensController';\n\n// Asset Tron Filters\nexport const TRON_RESOURCE = {\n  ENERGY: 'energy',\n  BANDWIDTH: 'bandwidth',\n  MAX_ENERGY: 'max-energy',\n  MAX_BANDWIDTH: 'max-bandwidth',\n  STRX_ENERGY: 'strx-energy',\n  STRX_BANDWIDTH: 'strx-bandwidth',\n} as const;\n\nexport type TronResourceSymbol =\n  (typeof TRON_RESOURCE)[keyof typeof TRON_RESOURCE];\n\nexport const TRON_RESOURCE_SYMBOLS = Object.values(\n  TRON_RESOURCE,\n) as readonly TronResourceSymbol[];\n\nexport const TRON_RESOURCE_SYMBOLS_SET: ReadonlySet<TronResourceSymbol> =\n  new Set(TRON_RESOURCE_SYMBOLS);\n\nexport type AssetsByAccountGroup = {\n  [accountGroupId: AccountGroupId]: AccountGroupAssets;\n};\n\nexport type AccountGroupAssets = {\n  [network: string]: Asset[];\n};\n\ntype EvmAccountType = Extract<InternalAccount['type'], `eip155:${string}`>;\ntype MultichainAccountType = Exclude<\n  InternalAccount['type'],\n  `eip155:${string}`\n>;\n\nexport type Asset = (\n  | {\n      accountType: EvmAccountType;\n      assetId: Hex; // This is also the address for EVM tokens\n      address: Hex;\n      chainId: Hex;\n    }\n  | {\n      accountType: MultichainAccountType;\n      assetId: `${string}:${string}/${string}:${string}`;\n      chainId: `${string}:${string}`;\n    }\n) & {\n  accountId: string;\n  image: string;\n  name: string;\n  symbol: string;\n  decimals: number;\n  isNative: boolean;\n  rawBalance: Hex;\n  balance: string;\n  fiat:\n    | {\n        balance: number;\n        currency: string;\n        conversionRate: number;\n      }\n    | undefined;\n};\n\nexport type AssetListState = {\n  accountTree: AccountTreeControllerState['accountTree'];\n  internalAccounts: AccountsControllerState['internalAccounts'];\n  allTokens: TokensControllerState['allTokens'];\n  allIgnoredTokens: TokensControllerState['allIgnoredTokens'];\n  tokenBalances: TokenBalancesControllerState['tokenBalances'];\n  marketData: TokenRatesControllerState['marketData'];\n  currencyRates: CurrencyRateState['currencyRates'];\n  accountsAssets: MultichainAssetsControllerState['accountsAssets'];\n  allIgnoredAssets: MultichainAssetsControllerState['allIgnoredAssets'];\n  assetsMetadata: MultichainAssetsControllerState['assetsMetadata'];\n  balances: MultichainBalancesControllerState['balances'];\n  conversionRates: MultichainAssetsRatesControllerState['conversionRates'];\n  currentCurrency: CurrencyRateState['currentCurrency'];\n  networkConfigurationsByChainId: NetworkState['networkConfigurationsByChainId'];\n  // This is the state from AccountTrackerController. The state is different on mobile and extension\n  // accountsByChainId with a balance is the only field that both clients have in common\n  // This field could be removed once TokenBalancesController returns native balances\n  accountsByChainId: Record<\n    Hex,\n    Record<\n      Hex,\n      {\n        balance: Hex | null;\n      }\n    >\n  >;\n};\n\nconst createAssetListSelector = createSelector.withTypes<AssetListState>();\n\nconst selectAccountsToGroupIdMap = createAssetListSelector(\n  [(state) => state.accountTree, (state) => state.internalAccounts],\n  (accountTree, internalAccounts) => {\n    const accountsMap: Record<\n      string,\n      {\n        accountGroupId: AccountGroupId;\n        type: InternalAccount['type'];\n        accountId: string;\n      }\n    > = {};\n    for (const { groups } of Object.values(accountTree.wallets)) {\n      for (const { id: accountGroupId, accounts } of Object.values(groups)) {\n        for (const accountId of accounts) {\n          const internalAccount = internalAccounts.accounts[accountId];\n\n          accountsMap[\n            // TODO: We would not need internalAccounts if evmTokens state had the accountId\n            internalAccount.type.startsWith('eip155')\n              ? internalAccount.address\n              : accountId\n          ] = { accountGroupId, type: internalAccount.type, accountId };\n        }\n      }\n    }\n\n    return accountsMap;\n  },\n);\n\n// TODO: This selector will not be needed once the native balances are part of the evm tokens state\nconst selectAllEvmAccountNativeBalances = createAssetListSelector(\n  [\n    selectAccountsToGroupIdMap,\n    (state) => state.accountsByChainId,\n    (state) => state.marketData,\n    (state) => state.currencyRates,\n    (state) => state.currentCurrency,\n    (state) => state.networkConfigurationsByChainId,\n  ],\n  (\n    accountsMap,\n    accountsByChainId,\n    marketData,\n    currencyRates,\n    currentCurrency,\n    networkConfigurationsByChainId,\n  ) => {\n    const groupAssets: AssetsByAccountGroup = {};\n\n    for (const [chainId, chainAccounts] of Object.entries(\n      accountsByChainId,\n    ) as [Hex, Record<Hex, { balance: Hex | null }>][]) {\n      for (const [accountAddress, accountBalance] of Object.entries(\n        chainAccounts,\n      )) {\n        const account = accountsMap[accountAddress.toLowerCase()];\n        if (!account) {\n          continue;\n        }\n\n        const { accountGroupId, type, accountId } = account;\n\n        groupAssets[accountGroupId] ??= {};\n        groupAssets[accountGroupId][chainId] ??= [];\n        const groupChainAssets = groupAssets[accountGroupId][chainId];\n\n        // If a native balance is missing, we still want to show it as 0\n        const rawBalance = accountBalance.balance || '0x0';\n\n        const nativeCurrency =\n          networkConfigurationsByChainId[chainId]?.nativeCurrency || 'NATIVE';\n\n        const nativeToken = {\n          address: getNativeTokenAddress(chainId),\n          decimals: 18,\n          name: nativeCurrency === 'ETH' ? 'Ethereum' : nativeCurrency,\n          symbol: nativeCurrency,\n          // This field need to be filled at client level for now\n          image: '',\n        };\n\n        const fiatData = getFiatBalanceForEvmToken(\n          rawBalance,\n          nativeToken.decimals,\n          marketData,\n          currencyRates,\n          chainId,\n          nativeToken.address,\n        );\n\n        groupChainAssets.push({\n          accountType: type as EvmAccountType,\n          assetId: nativeToken.address,\n          isNative: true,\n          address: nativeToken.address,\n          image: nativeToken.image,\n          name: nativeToken.name,\n          symbol: nativeToken.symbol,\n          accountId,\n          decimals: nativeToken.decimals,\n          rawBalance,\n          balance: stringifyBalanceWithDecimals(\n            hexToBigInt(rawBalance),\n            nativeToken.decimals,\n          ),\n          fiat: fiatData\n            ? {\n                balance: fiatData.balance,\n                currency: currentCurrency,\n                conversionRate: fiatData.conversionRate,\n              }\n            : undefined,\n          chainId,\n        });\n      }\n    }\n\n    return groupAssets;\n  },\n);\n\nconst selectAllEvmAssets = createAssetListSelector(\n  [\n    selectAccountsToGroupIdMap,\n    (state) => state.allTokens,\n    (state) => state.allIgnoredTokens,\n    (state) => state.tokenBalances,\n    (state) => state.marketData,\n    (state) => state.currencyRates,\n    (state) => state.currentCurrency,\n  ],\n  (\n    accountsMap,\n    evmTokens,\n    ignoredEvmTokens,\n    tokenBalances,\n    marketData,\n    currencyRates,\n    currentCurrency,\n  ) => {\n    const groupAssets: AssetsByAccountGroup = {};\n\n    for (const [chainId, chainTokens] of Object.entries(evmTokens) as [\n      Hex,\n      { [key: string]: Token[] },\n    ][]) {\n      for (const [accountAddress, addressTokens] of Object.entries(\n        chainTokens,\n      ) as [Hex, Token[]][]) {\n        for (const token of addressTokens) {\n          const tokenAddress = token.address as Hex;\n          const account = accountsMap[accountAddress];\n          if (!account) {\n            continue;\n          }\n\n          const { accountGroupId, type, accountId } = account;\n\n          if (\n            ignoredEvmTokens[chainId]?.[accountAddress]?.includes(tokenAddress)\n          ) {\n            continue;\n          }\n\n          const rawBalance =\n            tokenBalances[accountAddress]?.[chainId]?.[tokenAddress];\n\n          if (!rawBalance) {\n            continue;\n          }\n\n          groupAssets[accountGroupId] ??= {};\n          groupAssets[accountGroupId][chainId] ??= [];\n          const groupChainAssets = groupAssets[accountGroupId][chainId];\n\n          const fiatData = getFiatBalanceForEvmToken(\n            rawBalance,\n            token.decimals,\n            marketData,\n            currencyRates,\n            chainId,\n            tokenAddress,\n          );\n\n          groupChainAssets.push({\n            accountType: type as EvmAccountType,\n            assetId: tokenAddress,\n            isNative: false,\n            address: tokenAddress,\n            image: token.image ?? '',\n            name: token.name ?? token.symbol,\n            symbol: token.symbol,\n            accountId,\n            decimals: token.decimals,\n            rawBalance,\n            balance: stringifyBalanceWithDecimals(\n              hexToBigInt(rawBalance),\n              token.decimals,\n            ),\n            fiat: fiatData\n              ? {\n                  balance: fiatData.balance,\n                  currency: currentCurrency,\n                  conversionRate: fiatData.conversionRate,\n                }\n              : undefined,\n            chainId,\n          });\n        }\n      }\n    }\n\n    return groupAssets;\n  },\n);\n\nconst selectAllMultichainAssets = createAssetListSelector(\n  [\n    selectAccountsToGroupIdMap,\n    (state) => state.accountsAssets,\n    (state) => state.allIgnoredAssets,\n    (state) => state.assetsMetadata,\n    (state) => state.balances,\n    (state) => state.conversionRates,\n    (state) => state.currentCurrency,\n  ],\n  (\n    accountsMap,\n    multichainTokens,\n    ignoredMultichainAssets,\n    multichainAssetsMetadata,\n    multichainBalances,\n    multichainConversionRates,\n    currentCurrency,\n  ) => {\n    const groupAssets: AssetsByAccountGroup = {};\n\n    for (const [accountId, accountAssets] of Object.entries(multichainTokens)) {\n      for (const assetId of accountAssets) {\n        let caipAsset: ReturnType<typeof parseCaipAssetType>;\n        try {\n          caipAsset = parseCaipAssetType(assetId);\n        } catch {\n          // TODO: We should log this error when we have the ability to inject a logger from the client\n          continue;\n        }\n\n        const { chainId } = caipAsset;\n        const asset = `${caipAsset.assetNamespace}:${caipAsset.assetReference}`;\n\n        const account = accountsMap[accountId];\n        const assetMetadata = multichainAssetsMetadata[assetId];\n        if (!account || !assetMetadata) {\n          continue;\n        }\n\n        const { accountGroupId, type } = account;\n\n        if (ignoredMultichainAssets?.[accountId]?.includes(assetId)) {\n          continue;\n        }\n\n        groupAssets[accountGroupId] ??= {};\n        groupAssets[accountGroupId][chainId] ??= [];\n        const groupChainAssets = groupAssets[accountGroupId][chainId];\n\n        const balance:\n          | {\n              amount: string;\n              unit: string;\n            }\n          | undefined = multichainBalances[accountId]?.[assetId];\n\n        const decimals = assetMetadata.units.find(\n          (unit) =>\n            unit.name === assetMetadata.name &&\n            unit.symbol === assetMetadata.symbol,\n        )?.decimals;\n\n        if (!balance || decimals === undefined) {\n          continue;\n        }\n\n        const rawBalance = parseBalanceWithDecimals(balance.amount, decimals);\n\n        if (!rawBalance) {\n          continue;\n        }\n\n        const fiatData = getFiatBalanceForMultichainAsset(\n          balance,\n          multichainConversionRates,\n          assetId,\n        );\n\n        // TODO: We shouldn't have to rely on fallbacks for name and symbol, they should not be optional\n        groupChainAssets.push({\n          accountType: type as MultichainAccountType,\n          assetId,\n          isNative: caipAsset.assetNamespace === 'slip44',\n          image: assetMetadata.iconUrl,\n          name: assetMetadata.name ?? assetMetadata.symbol ?? asset,\n          symbol: assetMetadata.symbol ?? asset,\n          accountId,\n          decimals,\n          rawBalance,\n          balance: balance.amount,\n          fiat: fiatData\n            ? {\n                balance: fiatData.balance,\n                currency: currentCurrency,\n                conversionRate: fiatData.conversionRate,\n              }\n            : undefined,\n          chainId,\n        });\n      }\n    }\n\n    return groupAssets;\n  },\n);\n\nexport const selectAllAssets = createAssetListSelector(\n  [\n    selectAllEvmAssets,\n    selectAllMultichainAssets,\n    selectAllEvmAccountNativeBalances,\n  ],\n  (evmAssets, multichainAssets, evmAccountNativeBalances) => {\n    const groupAssets: AssetsByAccountGroup = {};\n\n    mergeAssets(groupAssets, evmAssets);\n\n    mergeAssets(groupAssets, multichainAssets);\n\n    mergeAssets(groupAssets, evmAccountNativeBalances);\n\n    return groupAssets;\n  },\n);\n\nexport type SelectAccountGroupAssetOpts = {\n  filterTronStakedTokens: boolean;\n};\n\nconst defaultSelectAccountGroupAssetOpts: SelectAccountGroupAssetOpts = {\n  filterTronStakedTokens: true,\n};\n\nconst filterTronStakedTokens = (assetsByAccountGroup: AccountGroupAssets) => {\n  const newAssetsByAccountGroup = { ...assetsByAccountGroup };\n\n  Object.values(TrxScope).forEach((tronChainId) => {\n    if (!newAssetsByAccountGroup[tronChainId]) {\n      return;\n    }\n\n    newAssetsByAccountGroup[tronChainId] = newAssetsByAccountGroup[\n      tronChainId\n    ].filter((asset: Asset) => {\n      if (\n        asset.chainId.startsWith('tron:') &&\n        TRON_RESOURCE_SYMBOLS_SET.has(\n          asset.symbol?.toLowerCase() as TronResourceSymbol,\n        )\n      ) {\n        return false;\n      }\n      return true;\n    });\n  });\n\n  return newAssetsByAccountGroup;\n};\n\nexport const selectAssetsBySelectedAccountGroup = createAssetListSelector(\n  [\n    selectAllAssets,\n    (state) => state.accountTree,\n    (\n      _state,\n      opts: SelectAccountGroupAssetOpts = defaultSelectAccountGroupAssetOpts,\n    ) => opts,\n  ],\n  (groupAssets, accountTree, opts) => {\n    const { selectedAccountGroup } = accountTree;\n    if (!selectedAccountGroup) {\n      return {};\n    }\n\n    let result = groupAssets[selectedAccountGroup] || {};\n\n    if (opts.filterTronStakedTokens) {\n      result = filterTronStakedTokens(result);\n    }\n\n    return result;\n  },\n  {\n    memoize: weakMapMemoize,\n    argsMemoize: weakMapMemoize,\n  },\n);\n\n// TODO: Once native assets are part of the evm tokens state, this function can be simplified as chains will always be unique\n/**\n * Merges the new assets into the existing assets\n *\n * @param existingAssets - The existing assets\n * @param newAssets - The new assets\n */\nfunction mergeAssets(\n  existingAssets: AssetsByAccountGroup,\n  newAssets: AssetsByAccountGroup,\n) {\n  for (const [accountGroupId, accountAssets] of Object.entries(newAssets) as [\n    AccountGroupId,\n    AccountGroupAssets,\n  ][]) {\n    const existingAccountGroupAssets = existingAssets[accountGroupId];\n\n    if (!existingAccountGroupAssets) {\n      existingAssets[accountGroupId] = {};\n      for (const [network, chainAssets] of Object.entries(accountAssets)) {\n        existingAssets[accountGroupId][network] = [...chainAssets];\n      }\n    } else {\n      for (const [network, chainAssets] of Object.entries(accountAssets)) {\n        existingAccountGroupAssets[network] ??= [];\n        existingAccountGroupAssets[network].push(...chainAssets);\n      }\n    }\n  }\n}\n\n/**\n * @param rawBalance - The balance of the token\n * @param decimals - The decimals of the token\n * @param marketData - The market data for the token\n * @param currencyRates - The currency rates for the token\n * @param chainId - The chain id of the token\n * @param tokenAddress - The address of the token\n * @returns The price and currency of the token in the current currency. Returns undefined if the asset is not found in the market data or currency rates.\n */\nfunction getFiatBalanceForEvmToken(\n  rawBalance: Hex,\n  decimals: number,\n  marketData: TokenRatesControllerState['marketData'],\n  currencyRates: CurrencyRateState['currencyRates'],\n  chainId: Hex,\n  tokenAddress: Hex,\n) {\n  const tokenMarketData = marketData[chainId]?.[tokenAddress];\n\n  if (!tokenMarketData) {\n    return undefined;\n  }\n\n  const currencyRate = currencyRates[tokenMarketData.currency];\n\n  if (!currencyRate?.conversionRate) {\n    return undefined;\n  }\n\n  const fiatBalance =\n    (convertHexToDecimal(rawBalance) / 10 ** decimals) *\n    tokenMarketData.price *\n    currencyRate.conversionRate;\n\n  return {\n    balance: fiatBalance,\n    conversionRate: currencyRate.conversionRate,\n  };\n}\n\n/**\n * @param balance - The balance of the asset, in the format { amount: string; unit: string }\n * @param balance.amount - The amount of the balance\n * @param balance.unit - The unit of the balance\n * @param multichainConversionRates - The conversion rates for the multichain asset\n * @param assetId - The asset id of the asset\n * @returns The price and currency of the token in the current currency. Returns undefined if the asset is not found in the conversion rates.\n */\nfunction getFiatBalanceForMultichainAsset(\n  balance: { amount: string; unit: string },\n  multichainConversionRates: MultichainAssetsRatesControllerState['conversionRates'],\n  assetId: `${string}:${string}/${string}:${string}`,\n) {\n  const assetMarketData = multichainConversionRates[assetId];\n\n  if (!assetMarketData?.rate) {\n    return undefined;\n  }\n\n  return {\n    balance: Number(balance.amount) * Number(assetMarketData.rate),\n    conversionRate: Number(assetMarketData.rate),\n  };\n}\n"]}
\ No newline at end of file
diff --git a/dist/selectors/token-selectors.d.cts b/dist/selectors/token-selectors.d.cts
index 324cc148de41f7d0859655ce38ad0ae791d431f2..3a403e881c4b6d15fd4b385d6a0454aaf4c45934 100644
--- a/dist/selectors/token-selectors.d.cts
+++ b/dist/selectors/token-selectors.d.cts
@@ -74,6 +74,717 @@ export type AssetListState = {
         balance: Hex | null;
     }>>;
 };
+export declare const selectAllAssets: ((state: AssetListState) => AssetsByAccountGroup) & {
+    clearCache: () => void;
+    resultsCount: () => number;
+    resetResultsCount: () => void;
+} & {
+    resultFunc: (resultFuncArgs_0: AssetsByAccountGroup, resultFuncArgs_1: AssetsByAccountGroup, resultFuncArgs_2: AssetsByAccountGroup) => AssetsByAccountGroup;
+    memoizedResultFunc: ((resultFuncArgs_0: AssetsByAccountGroup, resultFuncArgs_1: AssetsByAccountGroup, resultFuncArgs_2: AssetsByAccountGroup) => AssetsByAccountGroup) & {
+        clearCache: () => void;
+        resultsCount: () => number;
+        resetResultsCount: () => void;
+    };
+    lastResult: () => AssetsByAccountGroup;
+    dependencies: [((state: AssetListState) => AssetsByAccountGroup) & {
+        clearCache: () => void;
+        resultsCount: () => number;
+        resetResultsCount: () => void;
+    } & {
+        resultFunc: (resultFuncArgs_0: Record<string, {
+            accountGroupId: AccountGroupId;
+            type: InternalAccount['type'];
+            accountId: string;
+        }>, resultFuncArgs_1: {
+            [chainId: `0x${string}`]: {
+                [key: string]: Token[];
+            };
+        }, resultFuncArgs_2: {
+            [chainId: `0x${string}`]: {
+                [key: string]: string[];
+            };
+        }, resultFuncArgs_3: import("../TokenBalancesController.cjs").TokenBalances, resultFuncArgs_4: Record<`0x${string}`, Record<`0x${string}`, import("../TokenRatesController.cjs").MarketDataDetails>>, resultFuncArgs_5: Record<string, {
+            conversionDate: number | null;
+            conversionRate: number | null;
+            usdConversionRate: number | null;
+        }>, resultFuncArgs_6: string) => AssetsByAccountGroup;
+        memoizedResultFunc: ((resultFuncArgs_0: Record<string, {
+            accountGroupId: AccountGroupId;
+            type: InternalAccount['type'];
+            accountId: string;
+        }>, resultFuncArgs_1: {
+            [chainId: `0x${string}`]: {
+                [key: string]: Token[];
+            };
+        }, resultFuncArgs_2: {
+            [chainId: `0x${string}`]: {
+                [key: string]: string[];
+            };
+        }, resultFuncArgs_3: import("../TokenBalancesController.cjs").TokenBalances, resultFuncArgs_4: Record<`0x${string}`, Record<`0x${string}`, import("../TokenRatesController.cjs").MarketDataDetails>>, resultFuncArgs_5: Record<string, {
+            conversionDate: number | null;
+            conversionRate: number | null;
+            usdConversionRate: number | null;
+        }>, resultFuncArgs_6: string) => AssetsByAccountGroup) & {
+            clearCache: () => void;
+            resultsCount: () => number;
+            resetResultsCount: () => void;
+        };
+        lastResult: () => AssetsByAccountGroup;
+        dependencies: [((state: AssetListState) => Record<string, {
+            accountGroupId: AccountGroupId;
+            type: InternalAccount['type'];
+            accountId: string;
+        }>) & {
+            clearCache: () => void;
+            resultsCount: () => number;
+            resetResultsCount: () => void;
+        } & {
+            resultFunc: (resultFuncArgs_0: {
+                wallets: {
+                    [walletId: `entropy:${string}`]: import("../../../account-tree-controller/src/wallet.cjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletKeyringObject;
+                    [walletId: `keyring:${string}`]: import("../../../account-tree-controller/src/wallet.cjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletKeyringObject;
+                    [walletId: `snap:${string}`]: import("../../../account-tree-controller/src/wallet.cjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletKeyringObject;
+                };
+                selectedAccountGroup: "" | `entropy:${string}/${string}` | `keyring:${string}/${string}` | `snap:${string}/${string}`;
+            }, resultFuncArgs_1: {
+                accounts: Record<string, {
+                    type: "eip155:eoa" | "eip155:erc4337" | "bip122:p2pkh" | "bip122:p2sh" | "bip122:p2wpkh" | "bip122:p2tr" | "solana:data-account" | "tron:eoa" | "any:account";
+                    id: string;
+                    options: Record<string, import("@metamask/utils").Json> & {
+                        entropy?: {
+                            type: "mnemonic";
+                            id: string;
+                            derivationPath: string;
+                            groupIndex: number;
+                        } | {
+                            type: "private-key";
+                        } | undefined;
+                        exportable?: boolean | undefined;
+                    };
+                    metadata: {
+                        name: string;
+                        importTime: number;
+                        keyring: {
+                            type: string;
+                        };
+                        nameLastUpdatedAt?: number | undefined;
+                        snap?: {
+                            name: string;
+                            id: string;
+                            enabled: boolean;
+                        } | undefined;
+                        lastSelected?: number | undefined;
+                    };
+                    address: string;
+                    scopes: `${string}:${string}`[];
+                    methods: string[];
+                }>;
+                selectedAccount: string;
+            }) => Record<string, {
+                accountGroupId: AccountGroupId;
+                type: InternalAccount['type'];
+                accountId: string;
+            }>;
+            memoizedResultFunc: ((resultFuncArgs_0: {
+                wallets: {
+                    [walletId: `entropy:${string}`]: import("../../../account-tree-controller/src/wallet.cjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletKeyringObject;
+                    [walletId: `keyring:${string}`]: import("../../../account-tree-controller/src/wallet.cjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletKeyringObject;
+                    [walletId: `snap:${string}`]: import("../../../account-tree-controller/src/wallet.cjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletKeyringObject;
+                };
+                selectedAccountGroup: "" | `entropy:${string}/${string}` | `keyring:${string}/${string}` | `snap:${string}/${string}`;
+            }, resultFuncArgs_1: {
+                accounts: Record<string, {
+                    type: "eip155:eoa" | "eip155:erc4337" | "bip122:p2pkh" | "bip122:p2sh" | "bip122:p2wpkh" | "bip122:p2tr" | "solana:data-account" | "tron:eoa" | "any:account";
+                    id: string;
+                    options: Record<string, import("@metamask/utils").Json> & {
+                        entropy?: {
+                            type: "mnemonic";
+                            id: string;
+                            derivationPath: string;
+                            groupIndex: number;
+                        } | {
+                            type: "private-key";
+                        } | undefined;
+                        exportable?: boolean | undefined;
+                    };
+                    metadata: {
+                        name: string;
+                        importTime: number;
+                        keyring: {
+                            type: string;
+                        };
+                        nameLastUpdatedAt?: number | undefined;
+                        snap?: {
+                            name: string;
+                            id: string;
+                            enabled: boolean;
+                        } | undefined;
+                        lastSelected?: number | undefined;
+                    };
+                    address: string;
+                    scopes: `${string}:${string}`[];
+                    methods: string[];
+                }>;
+                selectedAccount: string;
+            }) => Record<string, {
+                accountGroupId: AccountGroupId;
+                type: InternalAccount['type'];
+                accountId: string;
+            }>) & {
+                clearCache: () => void;
+                resultsCount: () => number;
+                resetResultsCount: () => void;
+            };
+            lastResult: () => Record<string, {
+                accountGroupId: AccountGroupId;
+                type: InternalAccount['type'];
+                accountId: string;
+            }>;
+            dependencies: [(state: AssetListState) => {
+                wallets: {
+                    [walletId: `entropy:${string}`]: import("../../../account-tree-controller/src/wallet.cjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletKeyringObject;
+                    [walletId: `keyring:${string}`]: import("../../../account-tree-controller/src/wallet.cjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletKeyringObject;
+                    [walletId: `snap:${string}`]: import("../../../account-tree-controller/src/wallet.cjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletKeyringObject;
+                };
+                selectedAccountGroup: "" | `entropy:${string}/${string}` | `keyring:${string}/${string}` | `snap:${string}/${string}`;
+            }, (state: AssetListState) => {
+                accounts: Record<string, {
+                    type: "eip155:eoa" | "eip155:erc4337" | "bip122:p2pkh" | "bip122:p2sh" | "bip122:p2wpkh" | "bip122:p2tr" | "solana:data-account" | "tron:eoa" | "any:account";
+                    id: string;
+                    options: Record<string, import("@metamask/utils").Json> & {
+                        entropy?: {
+                            type: "mnemonic";
+                            id: string;
+                            derivationPath: string;
+                            groupIndex: number;
+                        } | {
+                            type: "private-key";
+                        } | undefined;
+                        exportable?: boolean | undefined;
+                    };
+                    metadata: {
+                        name: string;
+                        importTime: number;
+                        keyring: {
+                            type: string;
+                        };
+                        nameLastUpdatedAt?: number | undefined;
+                        snap?: {
+                            name: string;
+                            id: string;
+                            enabled: boolean;
+                        } | undefined;
+                        lastSelected?: number | undefined;
+                    };
+                    address: string;
+                    scopes: `${string}:${string}`[];
+                    methods: string[];
+                }>;
+                selectedAccount: string;
+            }];
+            recomputations: () => number;
+            resetRecomputations: () => void;
+            dependencyRecomputations: () => number;
+            resetDependencyRecomputations: () => void;
+        } & {
+            memoize: typeof weakMapMemoize;
+            argsMemoize: typeof weakMapMemoize;
+        }, (state: AssetListState) => {
+            [chainId: `0x${string}`]: {
+                [key: string]: Token[];
+            };
+        }, (state: AssetListState) => {
+            [chainId: `0x${string}`]: {
+                [key: string]: string[];
+            };
+        }, (state: AssetListState) => import("../TokenBalancesController.cjs").TokenBalances, (state: AssetListState) => Record<`0x${string}`, Record<`0x${string}`, import("../TokenRatesController.cjs").MarketDataDetails>>, (state: AssetListState) => Record<string, {
+            conversionDate: number | null;
+            conversionRate: number | null;
+            usdConversionRate: number | null;
+        }>, (state: AssetListState) => string];
+        recomputations: () => number;
+        resetRecomputations: () => void;
+        dependencyRecomputations: () => number;
+        resetDependencyRecomputations: () => void;
+    } & {
+        memoize: typeof weakMapMemoize;
+        argsMemoize: typeof weakMapMemoize;
+    }, ((state: AssetListState) => AssetsByAccountGroup) & {
+        clearCache: () => void;
+        resultsCount: () => number;
+        resetResultsCount: () => void;
+    } & {
+        resultFunc: (resultFuncArgs_0: Record<string, {
+            accountGroupId: AccountGroupId;
+            type: InternalAccount['type'];
+            accountId: string;
+        }>, resultFuncArgs_1: {
+            [account: string]: `${string}:${string}/${string}:${string}`[];
+        }, resultFuncArgs_2: {
+            [account: string]: `${string}:${string}/${string}:${string}`[];
+        }, resultFuncArgs_3: {
+            [asset: `${string}:${string}/${string}:${string}`]: {
+                fungible: true;
+                iconUrl: string;
+                units: {
+                    decimals: number;
+                    symbol?: string | undefined;
+                    name?: string | undefined;
+                }[];
+                symbol?: string | undefined;
+                name?: string | undefined;
+            };
+        }, resultFuncArgs_4: {
+            [account: string]: {
+                [asset: string]: {
+                    amount: string;
+                    unit: string;
+                };
+            };
+        }, resultFuncArgs_5: Record<`${string}:${string}/${string}:${string}`, import("@metamask/snaps-sdk").AssetConversion & {
+            marketData?: import("@metamask/snaps-sdk").FungibleAssetMarketData | undefined;
+        }>, resultFuncArgs_6: string) => AssetsByAccountGroup;
+        memoizedResultFunc: ((resultFuncArgs_0: Record<string, {
+            accountGroupId: AccountGroupId;
+            type: InternalAccount['type'];
+            accountId: string;
+        }>, resultFuncArgs_1: {
+            [account: string]: `${string}:${string}/${string}:${string}`[];
+        }, resultFuncArgs_2: {
+            [account: string]: `${string}:${string}/${string}:${string}`[];
+        }, resultFuncArgs_3: {
+            [asset: `${string}:${string}/${string}:${string}`]: {
+                fungible: true;
+                iconUrl: string;
+                units: {
+                    decimals: number;
+                    symbol?: string | undefined;
+                    name?: string | undefined;
+                }[];
+                symbol?: string | undefined;
+                name?: string | undefined;
+            };
+        }, resultFuncArgs_4: {
+            [account: string]: {
+                [asset: string]: {
+                    amount: string;
+                    unit: string;
+                };
+            };
+        }, resultFuncArgs_5: Record<`${string}:${string}/${string}:${string}`, import("@metamask/snaps-sdk").AssetConversion & {
+            marketData?: import("@metamask/snaps-sdk").FungibleAssetMarketData | undefined;
+        }>, resultFuncArgs_6: string) => AssetsByAccountGroup) & {
+            clearCache: () => void;
+            resultsCount: () => number;
+            resetResultsCount: () => void;
+        };
+        lastResult: () => AssetsByAccountGroup;
+        dependencies: [((state: AssetListState) => Record<string, {
+            accountGroupId: AccountGroupId;
+            type: InternalAccount['type'];
+            accountId: string;
+        }>) & {
+            clearCache: () => void;
+            resultsCount: () => number;
+            resetResultsCount: () => void;
+        } & {
+            resultFunc: (resultFuncArgs_0: {
+                wallets: {
+                    [walletId: `entropy:${string}`]: import("../../../account-tree-controller/src/wallet.cjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletKeyringObject;
+                    [walletId: `keyring:${string}`]: import("../../../account-tree-controller/src/wallet.cjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletKeyringObject;
+                    [walletId: `snap:${string}`]: import("../../../account-tree-controller/src/wallet.cjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletKeyringObject;
+                };
+                selectedAccountGroup: "" | `entropy:${string}/${string}` | `keyring:${string}/${string}` | `snap:${string}/${string}`;
+            }, resultFuncArgs_1: {
+                accounts: Record<string, {
+                    type: "eip155:eoa" | "eip155:erc4337" | "bip122:p2pkh" | "bip122:p2sh" | "bip122:p2wpkh" | "bip122:p2tr" | "solana:data-account" | "tron:eoa" | "any:account";
+                    id: string;
+                    options: Record<string, import("@metamask/utils").Json> & {
+                        entropy?: {
+                            type: "mnemonic";
+                            id: string;
+                            derivationPath: string;
+                            groupIndex: number;
+                        } | {
+                            type: "private-key";
+                        } | undefined;
+                        exportable?: boolean | undefined;
+                    };
+                    metadata: {
+                        name: string;
+                        importTime: number;
+                        keyring: {
+                            type: string;
+                        };
+                        nameLastUpdatedAt?: number | undefined;
+                        snap?: {
+                            name: string;
+                            id: string;
+                            enabled: boolean;
+                        } | undefined;
+                        lastSelected?: number | undefined;
+                    };
+                    address: string;
+                    scopes: `${string}:${string}`[];
+                    methods: string[];
+                }>;
+                selectedAccount: string;
+            }) => Record<string, {
+                accountGroupId: AccountGroupId;
+                type: InternalAccount['type'];
+                accountId: string;
+            }>;
+            memoizedResultFunc: ((resultFuncArgs_0: {
+                wallets: {
+                    [walletId: `entropy:${string}`]: import("../../../account-tree-controller/src/wallet.cjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletKeyringObject;
+                    [walletId: `keyring:${string}`]: import("../../../account-tree-controller/src/wallet.cjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletKeyringObject;
+                    [walletId: `snap:${string}`]: import("../../../account-tree-controller/src/wallet.cjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletKeyringObject;
+                };
+                selectedAccountGroup: "" | `entropy:${string}/${string}` | `keyring:${string}/${string}` | `snap:${string}/${string}`;
+            }, resultFuncArgs_1: {
+                accounts: Record<string, {
+                    type: "eip155:eoa" | "eip155:erc4337" | "bip122:p2pkh" | "bip122:p2sh" | "bip122:p2wpkh" | "bip122:p2tr" | "solana:data-account" | "tron:eoa" | "any:account";
+                    id: string;
+                    options: Record<string, import("@metamask/utils").Json> & {
+                        entropy?: {
+                            type: "mnemonic";
+                            id: string;
+                            derivationPath: string;
+                            groupIndex: number;
+                        } | {
+                            type: "private-key";
+                        } | undefined;
+                        exportable?: boolean | undefined;
+                    };
+                    metadata: {
+                        name: string;
+                        importTime: number;
+                        keyring: {
+                            type: string;
+                        };
+                        nameLastUpdatedAt?: number | undefined;
+                        snap?: {
+                            name: string;
+                            id: string;
+                            enabled: boolean;
+                        } | undefined;
+                        lastSelected?: number | undefined;
+                    };
+                    address: string;
+                    scopes: `${string}:${string}`[];
+                    methods: string[];
+                }>;
+                selectedAccount: string;
+            }) => Record<string, {
+                accountGroupId: AccountGroupId;
+                type: InternalAccount['type'];
+                accountId: string;
+            }>) & {
+                clearCache: () => void;
+                resultsCount: () => number;
+                resetResultsCount: () => void;
+            };
+            lastResult: () => Record<string, {
+                accountGroupId: AccountGroupId;
+                type: InternalAccount['type'];
+                accountId: string;
+            }>;
+            dependencies: [(state: AssetListState) => {
+                wallets: {
+                    [walletId: `entropy:${string}`]: import("../../../account-tree-controller/src/wallet.cjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletKeyringObject;
+                    [walletId: `keyring:${string}`]: import("../../../account-tree-controller/src/wallet.cjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletKeyringObject;
+                    [walletId: `snap:${string}`]: import("../../../account-tree-controller/src/wallet.cjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletKeyringObject;
+                };
+                selectedAccountGroup: "" | `entropy:${string}/${string}` | `keyring:${string}/${string}` | `snap:${string}/${string}`;
+            }, (state: AssetListState) => {
+                accounts: Record<string, {
+                    type: "eip155:eoa" | "eip155:erc4337" | "bip122:p2pkh" | "bip122:p2sh" | "bip122:p2wpkh" | "bip122:p2tr" | "solana:data-account" | "tron:eoa" | "any:account";
+                    id: string;
+                    options: Record<string, import("@metamask/utils").Json> & {
+                        entropy?: {
+                            type: "mnemonic";
+                            id: string;
+                            derivationPath: string;
+                            groupIndex: number;
+                        } | {
+                            type: "private-key";
+                        } | undefined;
+                        exportable?: boolean | undefined;
+                    };
+                    metadata: {
+                        name: string;
+                        importTime: number;
+                        keyring: {
+                            type: string;
+                        };
+                        nameLastUpdatedAt?: number | undefined;
+                        snap?: {
+                            name: string;
+                            id: string;
+                            enabled: boolean;
+                        } | undefined;
+                        lastSelected?: number | undefined;
+                    };
+                    address: string;
+                    scopes: `${string}:${string}`[];
+                    methods: string[];
+                }>;
+                selectedAccount: string;
+            }];
+            recomputations: () => number;
+            resetRecomputations: () => void;
+            dependencyRecomputations: () => number;
+            resetDependencyRecomputations: () => void;
+        } & {
+            memoize: typeof weakMapMemoize;
+            argsMemoize: typeof weakMapMemoize;
+        }, (state: AssetListState) => {
+            [account: string]: `${string}:${string}/${string}:${string}`[];
+        }, (state: AssetListState) => {
+            [account: string]: `${string}:${string}/${string}:${string}`[];
+        }, (state: AssetListState) => {
+            [asset: `${string}:${string}/${string}:${string}`]: {
+                fungible: true;
+                iconUrl: string;
+                units: {
+                    decimals: number;
+                    symbol?: string | undefined;
+                    name?: string | undefined;
+                }[];
+                symbol?: string | undefined;
+                name?: string | undefined;
+            };
+        }, (state: AssetListState) => {
+            [account: string]: {
+                [asset: string]: {
+                    amount: string;
+                    unit: string;
+                };
+            };
+        }, (state: AssetListState) => Record<`${string}:${string}/${string}:${string}`, import("@metamask/snaps-sdk").AssetConversion & {
+            marketData?: import("@metamask/snaps-sdk").FungibleAssetMarketData | undefined;
+        }>, (state: AssetListState) => string];
+        recomputations: () => number;
+        resetRecomputations: () => void;
+        dependencyRecomputations: () => number;
+        resetDependencyRecomputations: () => void;
+    } & {
+        memoize: typeof weakMapMemoize;
+        argsMemoize: typeof weakMapMemoize;
+    }, ((state: AssetListState) => AssetsByAccountGroup) & {
+        clearCache: () => void;
+        resultsCount: () => number;
+        resetResultsCount: () => void;
+    } & {
+        resultFunc: (resultFuncArgs_0: Record<string, {
+            accountGroupId: AccountGroupId;
+            type: InternalAccount['type'];
+            accountId: string;
+        }>, resultFuncArgs_1: Record<`0x${string}`, Record<`0x${string}`, {
+            balance: Hex | null;
+        }>>, resultFuncArgs_2: Record<`0x${string}`, Record<`0x${string}`, import("../TokenRatesController.cjs").MarketDataDetails>>, resultFuncArgs_3: Record<string, {
+            conversionDate: number | null;
+            conversionRate: number | null;
+            usdConversionRate: number | null;
+        }>, resultFuncArgs_4: string, resultFuncArgs_5: Record<`0x${string}`, import("@metamask/network-controller").NetworkConfiguration>) => AssetsByAccountGroup;
+        memoizedResultFunc: ((resultFuncArgs_0: Record<string, {
+            accountGroupId: AccountGroupId;
+            type: InternalAccount['type'];
+            accountId: string;
+        }>, resultFuncArgs_1: Record<`0x${string}`, Record<`0x${string}`, {
+            balance: Hex | null;
+        }>>, resultFuncArgs_2: Record<`0x${string}`, Record<`0x${string}`, import("../TokenRatesController.cjs").MarketDataDetails>>, resultFuncArgs_3: Record<string, {
+            conversionDate: number | null;
+            conversionRate: number | null;
+            usdConversionRate: number | null;
+        }>, resultFuncArgs_4: string, resultFuncArgs_5: Record<`0x${string}`, import("@metamask/network-controller").NetworkConfiguration>) => AssetsByAccountGroup) & {
+            clearCache: () => void;
+            resultsCount: () => number;
+            resetResultsCount: () => void;
+        };
+        lastResult: () => AssetsByAccountGroup;
+        dependencies: [((state: AssetListState) => Record<string, {
+            accountGroupId: AccountGroupId;
+            type: InternalAccount['type'];
+            accountId: string;
+        }>) & {
+            clearCache: () => void;
+            resultsCount: () => number;
+            resetResultsCount: () => void;
+        } & {
+            resultFunc: (resultFuncArgs_0: {
+                wallets: {
+                    [walletId: `entropy:${string}`]: import("../../../account-tree-controller/src/wallet.cjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletKeyringObject;
+                    [walletId: `keyring:${string}`]: import("../../../account-tree-controller/src/wallet.cjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletKeyringObject;
+                    [walletId: `snap:${string}`]: import("../../../account-tree-controller/src/wallet.cjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletKeyringObject;
+                };
+                selectedAccountGroup: "" | `entropy:${string}/${string}` | `keyring:${string}/${string}` | `snap:${string}/${string}`;
+            }, resultFuncArgs_1: {
+                accounts: Record<string, {
+                    type: "eip155:eoa" | "eip155:erc4337" | "bip122:p2pkh" | "bip122:p2sh" | "bip122:p2wpkh" | "bip122:p2tr" | "solana:data-account" | "tron:eoa" | "any:account";
+                    id: string;
+                    options: Record<string, import("@metamask/utils").Json> & {
+                        entropy?: {
+                            type: "mnemonic";
+                            id: string;
+                            derivationPath: string;
+                            groupIndex: number;
+                        } | {
+                            type: "private-key";
+                        } | undefined;
+                        exportable?: boolean | undefined;
+                    };
+                    metadata: {
+                        name: string;
+                        importTime: number;
+                        keyring: {
+                            type: string;
+                        };
+                        nameLastUpdatedAt?: number | undefined;
+                        snap?: {
+                            name: string;
+                            id: string;
+                            enabled: boolean;
+                        } | undefined;
+                        lastSelected?: number | undefined;
+                    };
+                    address: string;
+                    scopes: `${string}:${string}`[];
+                    methods: string[];
+                }>;
+                selectedAccount: string;
+            }) => Record<string, {
+                accountGroupId: AccountGroupId;
+                type: InternalAccount['type'];
+                accountId: string;
+            }>;
+            memoizedResultFunc: ((resultFuncArgs_0: {
+                wallets: {
+                    [walletId: `entropy:${string}`]: import("../../../account-tree-controller/src/wallet.cjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletKeyringObject;
+                    [walletId: `keyring:${string}`]: import("../../../account-tree-controller/src/wallet.cjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletKeyringObject;
+                    [walletId: `snap:${string}`]: import("../../../account-tree-controller/src/wallet.cjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletKeyringObject;
+                };
+                selectedAccountGroup: "" | `entropy:${string}/${string}` | `keyring:${string}/${string}` | `snap:${string}/${string}`;
+            }, resultFuncArgs_1: {
+                accounts: Record<string, {
+                    type: "eip155:eoa" | "eip155:erc4337" | "bip122:p2pkh" | "bip122:p2sh" | "bip122:p2wpkh" | "bip122:p2tr" | "solana:data-account" | "tron:eoa" | "any:account";
+                    id: string;
+                    options: Record<string, import("@metamask/utils").Json> & {
+                        entropy?: {
+                            type: "mnemonic";
+                            id: string;
+                            derivationPath: string;
+                            groupIndex: number;
+                        } | {
+                            type: "private-key";
+                        } | undefined;
+                        exportable?: boolean | undefined;
+                    };
+                    metadata: {
+                        name: string;
+                        importTime: number;
+                        keyring: {
+                            type: string;
+                        };
+                        nameLastUpdatedAt?: number | undefined;
+                        snap?: {
+                            name: string;
+                            id: string;
+                            enabled: boolean;
+                        } | undefined;
+                        lastSelected?: number | undefined;
+                    };
+                    address: string;
+                    scopes: `${string}:${string}`[];
+                    methods: string[];
+                }>;
+                selectedAccount: string;
+            }) => Record<string, {
+                accountGroupId: AccountGroupId;
+                type: InternalAccount['type'];
+                accountId: string;
+            }>) & {
+                clearCache: () => void;
+                resultsCount: () => number;
+                resetResultsCount: () => void;
+            };
+            lastResult: () => Record<string, {
+                accountGroupId: AccountGroupId;
+                type: InternalAccount['type'];
+                accountId: string;
+            }>;
+            dependencies: [(state: AssetListState) => {
+                wallets: {
+                    [walletId: `entropy:${string}`]: import("../../../account-tree-controller/src/wallet.cjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletKeyringObject;
+                    [walletId: `keyring:${string}`]: import("../../../account-tree-controller/src/wallet.cjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletKeyringObject;
+                    [walletId: `snap:${string}`]: import("../../../account-tree-controller/src/wallet.cjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.cjs").AccountWalletKeyringObject;
+                };
+                selectedAccountGroup: "" | `entropy:${string}/${string}` | `keyring:${string}/${string}` | `snap:${string}/${string}`;
+            }, (state: AssetListState) => {
+                accounts: Record<string, {
+                    type: "eip155:eoa" | "eip155:erc4337" | "bip122:p2pkh" | "bip122:p2sh" | "bip122:p2wpkh" | "bip122:p2tr" | "solana:data-account" | "tron:eoa" | "any:account";
+                    id: string;
+                    options: Record<string, import("@metamask/utils").Json> & {
+                        entropy?: {
+                            type: "mnemonic";
+                            id: string;
+                            derivationPath: string;
+                            groupIndex: number;
+                        } | {
+                            type: "private-key";
+                        } | undefined;
+                        exportable?: boolean | undefined;
+                    };
+                    metadata: {
+                        name: string;
+                        importTime: number;
+                        keyring: {
+                            type: string;
+                        };
+                        nameLastUpdatedAt?: number | undefined;
+                        snap?: {
+                            name: string;
+                            id: string;
+                            enabled: boolean;
+                        } | undefined;
+                        lastSelected?: number | undefined;
+                    };
+                    address: string;
+                    scopes: `${string}:${string}`[];
+                    methods: string[];
+                }>;
+                selectedAccount: string;
+            }];
+            recomputations: () => number;
+            resetRecomputations: () => void;
+            dependencyRecomputations: () => number;
+            resetDependencyRecomputations: () => void;
+        } & {
+            memoize: typeof weakMapMemoize;
+            argsMemoize: typeof weakMapMemoize;
+        }, (state: AssetListState) => Record<`0x${string}`, Record<`0x${string}`, {
+            balance: Hex | null;
+        }>>, (state: AssetListState) => Record<`0x${string}`, Record<`0x${string}`, import("../TokenRatesController.cjs").MarketDataDetails>>, (state: AssetListState) => Record<string, {
+            conversionDate: number | null;
+            conversionRate: number | null;
+            usdConversionRate: number | null;
+        }>, (state: AssetListState) => string, (state: AssetListState) => Record<`0x${string}`, import("@metamask/network-controller").NetworkConfiguration>];
+        recomputations: () => number;
+        resetRecomputations: () => void;
+        dependencyRecomputations: () => number;
+        resetDependencyRecomputations: () => void;
+    } & {
+        memoize: typeof weakMapMemoize;
+        argsMemoize: typeof weakMapMemoize;
+    }];
+    recomputations: () => number;
+    resetRecomputations: () => void;
+    dependencyRecomputations: () => number;
+    resetDependencyRecomputations: () => void;
+} & {
+    memoize: typeof weakMapMemoize;
+    argsMemoize: typeof weakMapMemoize;
+};
 export type SelectAccountGroupAssetOpts = {
     filterTronStakedTokens: boolean;
 };
diff --git a/dist/selectors/token-selectors.d.cts.map b/dist/selectors/token-selectors.d.cts.map
index 7890a350b81806b7f56ce04d9c6fd8dea2e47973..9953aa5f74abaa561dae2f3ff33385b56577509b 100644
--- a/dist/selectors/token-selectors.d.cts.map
+++ b/dist/selectors/token-selectors.d.cts.map
@@ -1 +1 @@
-{"version":3,"file":"token-selectors.d.cts","sourceRoot":"","sources":["../../src/selectors/token-selectors.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"token-selectors.d.cts","sourceRoot":"","sources":["../../src/selectors/token-selectors.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/selectors/token-selectors.d.mts b/dist/selectors/token-selectors.d.mts
index 8be62e3c5a0196f85bfc783e0bcd8980a22abb04..77ca93cedec10ddf85329ecf93388c9a8a33d618 100644
--- a/dist/selectors/token-selectors.d.mts
+++ b/dist/selectors/token-selectors.d.mts
@@ -74,6 +74,717 @@ export type AssetListState = {
         balance: Hex | null;
     }>>;
 };
+export declare const selectAllAssets: ((state: AssetListState) => AssetsByAccountGroup) & {
+    clearCache: () => void;
+    resultsCount: () => number;
+    resetResultsCount: () => void;
+} & {
+    resultFunc: (resultFuncArgs_0: AssetsByAccountGroup, resultFuncArgs_1: AssetsByAccountGroup, resultFuncArgs_2: AssetsByAccountGroup) => AssetsByAccountGroup;
+    memoizedResultFunc: ((resultFuncArgs_0: AssetsByAccountGroup, resultFuncArgs_1: AssetsByAccountGroup, resultFuncArgs_2: AssetsByAccountGroup) => AssetsByAccountGroup) & {
+        clearCache: () => void;
+        resultsCount: () => number;
+        resetResultsCount: () => void;
+    };
+    lastResult: () => AssetsByAccountGroup;
+    dependencies: [((state: AssetListState) => AssetsByAccountGroup) & {
+        clearCache: () => void;
+        resultsCount: () => number;
+        resetResultsCount: () => void;
+    } & {
+        resultFunc: (resultFuncArgs_0: Record<string, {
+            accountGroupId: AccountGroupId;
+            type: InternalAccount['type'];
+            accountId: string;
+        }>, resultFuncArgs_1: {
+            [chainId: `0x${string}`]: {
+                [key: string]: Token[];
+            };
+        }, resultFuncArgs_2: {
+            [chainId: `0x${string}`]: {
+                [key: string]: string[];
+            };
+        }, resultFuncArgs_3: import("../TokenBalancesController.mjs").TokenBalances, resultFuncArgs_4: Record<`0x${string}`, Record<`0x${string}`, import("../TokenRatesController.mjs").MarketDataDetails>>, resultFuncArgs_5: Record<string, {
+            conversionDate: number | null;
+            conversionRate: number | null;
+            usdConversionRate: number | null;
+        }>, resultFuncArgs_6: string) => AssetsByAccountGroup;
+        memoizedResultFunc: ((resultFuncArgs_0: Record<string, {
+            accountGroupId: AccountGroupId;
+            type: InternalAccount['type'];
+            accountId: string;
+        }>, resultFuncArgs_1: {
+            [chainId: `0x${string}`]: {
+                [key: string]: Token[];
+            };
+        }, resultFuncArgs_2: {
+            [chainId: `0x${string}`]: {
+                [key: string]: string[];
+            };
+        }, resultFuncArgs_3: import("../TokenBalancesController.mjs").TokenBalances, resultFuncArgs_4: Record<`0x${string}`, Record<`0x${string}`, import("../TokenRatesController.mjs").MarketDataDetails>>, resultFuncArgs_5: Record<string, {
+            conversionDate: number | null;
+            conversionRate: number | null;
+            usdConversionRate: number | null;
+        }>, resultFuncArgs_6: string) => AssetsByAccountGroup) & {
+            clearCache: () => void;
+            resultsCount: () => number;
+            resetResultsCount: () => void;
+        };
+        lastResult: () => AssetsByAccountGroup;
+        dependencies: [((state: AssetListState) => Record<string, {
+            accountGroupId: AccountGroupId;
+            type: InternalAccount['type'];
+            accountId: string;
+        }>) & {
+            clearCache: () => void;
+            resultsCount: () => number;
+            resetResultsCount: () => void;
+        } & {
+            resultFunc: (resultFuncArgs_0: {
+                wallets: {
+                    [walletId: `entropy:${string}`]: import("../../../account-tree-controller/src/wallet.mjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletKeyringObject;
+                    [walletId: `keyring:${string}`]: import("../../../account-tree-controller/src/wallet.mjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletKeyringObject;
+                    [walletId: `snap:${string}`]: import("../../../account-tree-controller/src/wallet.mjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletKeyringObject;
+                };
+                selectedAccountGroup: "" | `entropy:${string}/${string}` | `keyring:${string}/${string}` | `snap:${string}/${string}`;
+            }, resultFuncArgs_1: {
+                accounts: Record<string, {
+                    type: "eip155:eoa" | "eip155:erc4337" | "bip122:p2pkh" | "bip122:p2sh" | "bip122:p2wpkh" | "bip122:p2tr" | "solana:data-account" | "tron:eoa" | "any:account";
+                    id: string;
+                    options: Record<string, import("@metamask/utils").Json> & {
+                        entropy?: {
+                            type: "mnemonic";
+                            id: string;
+                            derivationPath: string;
+                            groupIndex: number;
+                        } | {
+                            type: "private-key";
+                        } | undefined;
+                        exportable?: boolean | undefined;
+                    };
+                    metadata: {
+                        name: string;
+                        importTime: number;
+                        keyring: {
+                            type: string;
+                        };
+                        nameLastUpdatedAt?: number | undefined;
+                        snap?: {
+                            name: string;
+                            id: string;
+                            enabled: boolean;
+                        } | undefined;
+                        lastSelected?: number | undefined;
+                    };
+                    address: string;
+                    scopes: `${string}:${string}`[];
+                    methods: string[];
+                }>;
+                selectedAccount: string;
+            }) => Record<string, {
+                accountGroupId: AccountGroupId;
+                type: InternalAccount['type'];
+                accountId: string;
+            }>;
+            memoizedResultFunc: ((resultFuncArgs_0: {
+                wallets: {
+                    [walletId: `entropy:${string}`]: import("../../../account-tree-controller/src/wallet.mjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletKeyringObject;
+                    [walletId: `keyring:${string}`]: import("../../../account-tree-controller/src/wallet.mjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletKeyringObject;
+                    [walletId: `snap:${string}`]: import("../../../account-tree-controller/src/wallet.mjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletKeyringObject;
+                };
+                selectedAccountGroup: "" | `entropy:${string}/${string}` | `keyring:${string}/${string}` | `snap:${string}/${string}`;
+            }, resultFuncArgs_1: {
+                accounts: Record<string, {
+                    type: "eip155:eoa" | "eip155:erc4337" | "bip122:p2pkh" | "bip122:p2sh" | "bip122:p2wpkh" | "bip122:p2tr" | "solana:data-account" | "tron:eoa" | "any:account";
+                    id: string;
+                    options: Record<string, import("@metamask/utils").Json> & {
+                        entropy?: {
+                            type: "mnemonic";
+                            id: string;
+                            derivationPath: string;
+                            groupIndex: number;
+                        } | {
+                            type: "private-key";
+                        } | undefined;
+                        exportable?: boolean | undefined;
+                    };
+                    metadata: {
+                        name: string;
+                        importTime: number;
+                        keyring: {
+                            type: string;
+                        };
+                        nameLastUpdatedAt?: number | undefined;
+                        snap?: {
+                            name: string;
+                            id: string;
+                            enabled: boolean;
+                        } | undefined;
+                        lastSelected?: number | undefined;
+                    };
+                    address: string;
+                    scopes: `${string}:${string}`[];
+                    methods: string[];
+                }>;
+                selectedAccount: string;
+            }) => Record<string, {
+                accountGroupId: AccountGroupId;
+                type: InternalAccount['type'];
+                accountId: string;
+            }>) & {
+                clearCache: () => void;
+                resultsCount: () => number;
+                resetResultsCount: () => void;
+            };
+            lastResult: () => Record<string, {
+                accountGroupId: AccountGroupId;
+                type: InternalAccount['type'];
+                accountId: string;
+            }>;
+            dependencies: [(state: AssetListState) => {
+                wallets: {
+                    [walletId: `entropy:${string}`]: import("../../../account-tree-controller/src/wallet.mjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletKeyringObject;
+                    [walletId: `keyring:${string}`]: import("../../../account-tree-controller/src/wallet.mjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletKeyringObject;
+                    [walletId: `snap:${string}`]: import("../../../account-tree-controller/src/wallet.mjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletKeyringObject;
+                };
+                selectedAccountGroup: "" | `entropy:${string}/${string}` | `keyring:${string}/${string}` | `snap:${string}/${string}`;
+            }, (state: AssetListState) => {
+                accounts: Record<string, {
+                    type: "eip155:eoa" | "eip155:erc4337" | "bip122:p2pkh" | "bip122:p2sh" | "bip122:p2wpkh" | "bip122:p2tr" | "solana:data-account" | "tron:eoa" | "any:account";
+                    id: string;
+                    options: Record<string, import("@metamask/utils").Json> & {
+                        entropy?: {
+                            type: "mnemonic";
+                            id: string;
+                            derivationPath: string;
+                            groupIndex: number;
+                        } | {
+                            type: "private-key";
+                        } | undefined;
+                        exportable?: boolean | undefined;
+                    };
+                    metadata: {
+                        name: string;
+                        importTime: number;
+                        keyring: {
+                            type: string;
+                        };
+                        nameLastUpdatedAt?: number | undefined;
+                        snap?: {
+                            name: string;
+                            id: string;
+                            enabled: boolean;
+                        } | undefined;
+                        lastSelected?: number | undefined;
+                    };
+                    address: string;
+                    scopes: `${string}:${string}`[];
+                    methods: string[];
+                }>;
+                selectedAccount: string;
+            }];
+            recomputations: () => number;
+            resetRecomputations: () => void;
+            dependencyRecomputations: () => number;
+            resetDependencyRecomputations: () => void;
+        } & {
+            memoize: typeof weakMapMemoize;
+            argsMemoize: typeof weakMapMemoize;
+        }, (state: AssetListState) => {
+            [chainId: `0x${string}`]: {
+                [key: string]: Token[];
+            };
+        }, (state: AssetListState) => {
+            [chainId: `0x${string}`]: {
+                [key: string]: string[];
+            };
+        }, (state: AssetListState) => import("../TokenBalancesController.mjs").TokenBalances, (state: AssetListState) => Record<`0x${string}`, Record<`0x${string}`, import("../TokenRatesController.mjs").MarketDataDetails>>, (state: AssetListState) => Record<string, {
+            conversionDate: number | null;
+            conversionRate: number | null;
+            usdConversionRate: number | null;
+        }>, (state: AssetListState) => string];
+        recomputations: () => number;
+        resetRecomputations: () => void;
+        dependencyRecomputations: () => number;
+        resetDependencyRecomputations: () => void;
+    } & {
+        memoize: typeof weakMapMemoize;
+        argsMemoize: typeof weakMapMemoize;
+    }, ((state: AssetListState) => AssetsByAccountGroup) & {
+        clearCache: () => void;
+        resultsCount: () => number;
+        resetResultsCount: () => void;
+    } & {
+        resultFunc: (resultFuncArgs_0: Record<string, {
+            accountGroupId: AccountGroupId;
+            type: InternalAccount['type'];
+            accountId: string;
+        }>, resultFuncArgs_1: {
+            [account: string]: `${string}:${string}/${string}:${string}`[];
+        }, resultFuncArgs_2: {
+            [account: string]: `${string}:${string}/${string}:${string}`[];
+        }, resultFuncArgs_3: {
+            [asset: `${string}:${string}/${string}:${string}`]: {
+                fungible: true;
+                iconUrl: string;
+                units: {
+                    decimals: number;
+                    symbol?: string | undefined;
+                    name?: string | undefined;
+                }[];
+                symbol?: string | undefined;
+                name?: string | undefined;
+            };
+        }, resultFuncArgs_4: {
+            [account: string]: {
+                [asset: string]: {
+                    amount: string;
+                    unit: string;
+                };
+            };
+        }, resultFuncArgs_5: Record<`${string}:${string}/${string}:${string}`, import("@metamask/snaps-sdk").AssetConversion & {
+            marketData?: import("@metamask/snaps-sdk").FungibleAssetMarketData | undefined;
+        }>, resultFuncArgs_6: string) => AssetsByAccountGroup;
+        memoizedResultFunc: ((resultFuncArgs_0: Record<string, {
+            accountGroupId: AccountGroupId;
+            type: InternalAccount['type'];
+            accountId: string;
+        }>, resultFuncArgs_1: {
+            [account: string]: `${string}:${string}/${string}:${string}`[];
+        }, resultFuncArgs_2: {
+            [account: string]: `${string}:${string}/${string}:${string}`[];
+        }, resultFuncArgs_3: {
+            [asset: `${string}:${string}/${string}:${string}`]: {
+                fungible: true;
+                iconUrl: string;
+                units: {
+                    decimals: number;
+                    symbol?: string | undefined;
+                    name?: string | undefined;
+                }[];
+                symbol?: string | undefined;
+                name?: string | undefined;
+            };
+        }, resultFuncArgs_4: {
+            [account: string]: {
+                [asset: string]: {
+                    amount: string;
+                    unit: string;
+                };
+            };
+        }, resultFuncArgs_5: Record<`${string}:${string}/${string}:${string}`, import("@metamask/snaps-sdk").AssetConversion & {
+            marketData?: import("@metamask/snaps-sdk").FungibleAssetMarketData | undefined;
+        }>, resultFuncArgs_6: string) => AssetsByAccountGroup) & {
+            clearCache: () => void;
+            resultsCount: () => number;
+            resetResultsCount: () => void;
+        };
+        lastResult: () => AssetsByAccountGroup;
+        dependencies: [((state: AssetListState) => Record<string, {
+            accountGroupId: AccountGroupId;
+            type: InternalAccount['type'];
+            accountId: string;
+        }>) & {
+            clearCache: () => void;
+            resultsCount: () => number;
+            resetResultsCount: () => void;
+        } & {
+            resultFunc: (resultFuncArgs_0: {
+                wallets: {
+                    [walletId: `entropy:${string}`]: import("../../../account-tree-controller/src/wallet.mjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletKeyringObject;
+                    [walletId: `keyring:${string}`]: import("../../../account-tree-controller/src/wallet.mjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletKeyringObject;
+                    [walletId: `snap:${string}`]: import("../../../account-tree-controller/src/wallet.mjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletKeyringObject;
+                };
+                selectedAccountGroup: "" | `entropy:${string}/${string}` | `keyring:${string}/${string}` | `snap:${string}/${string}`;
+            }, resultFuncArgs_1: {
+                accounts: Record<string, {
+                    type: "eip155:eoa" | "eip155:erc4337" | "bip122:p2pkh" | "bip122:p2sh" | "bip122:p2wpkh" | "bip122:p2tr" | "solana:data-account" | "tron:eoa" | "any:account";
+                    id: string;
+                    options: Record<string, import("@metamask/utils").Json> & {
+                        entropy?: {
+                            type: "mnemonic";
+                            id: string;
+                            derivationPath: string;
+                            groupIndex: number;
+                        } | {
+                            type: "private-key";
+                        } | undefined;
+                        exportable?: boolean | undefined;
+                    };
+                    metadata: {
+                        name: string;
+                        importTime: number;
+                        keyring: {
+                            type: string;
+                        };
+                        nameLastUpdatedAt?: number | undefined;
+                        snap?: {
+                            name: string;
+                            id: string;
+                            enabled: boolean;
+                        } | undefined;
+                        lastSelected?: number | undefined;
+                    };
+                    address: string;
+                    scopes: `${string}:${string}`[];
+                    methods: string[];
+                }>;
+                selectedAccount: string;
+            }) => Record<string, {
+                accountGroupId: AccountGroupId;
+                type: InternalAccount['type'];
+                accountId: string;
+            }>;
+            memoizedResultFunc: ((resultFuncArgs_0: {
+                wallets: {
+                    [walletId: `entropy:${string}`]: import("../../../account-tree-controller/src/wallet.mjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletKeyringObject;
+                    [walletId: `keyring:${string}`]: import("../../../account-tree-controller/src/wallet.mjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletKeyringObject;
+                    [walletId: `snap:${string}`]: import("../../../account-tree-controller/src/wallet.mjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletKeyringObject;
+                };
+                selectedAccountGroup: "" | `entropy:${string}/${string}` | `keyring:${string}/${string}` | `snap:${string}/${string}`;
+            }, resultFuncArgs_1: {
+                accounts: Record<string, {
+                    type: "eip155:eoa" | "eip155:erc4337" | "bip122:p2pkh" | "bip122:p2sh" | "bip122:p2wpkh" | "bip122:p2tr" | "solana:data-account" | "tron:eoa" | "any:account";
+                    id: string;
+                    options: Record<string, import("@metamask/utils").Json> & {
+                        entropy?: {
+                            type: "mnemonic";
+                            id: string;
+                            derivationPath: string;
+                            groupIndex: number;
+                        } | {
+                            type: "private-key";
+                        } | undefined;
+                        exportable?: boolean | undefined;
+                    };
+                    metadata: {
+                        name: string;
+                        importTime: number;
+                        keyring: {
+                            type: string;
+                        };
+                        nameLastUpdatedAt?: number | undefined;
+                        snap?: {
+                            name: string;
+                            id: string;
+                            enabled: boolean;
+                        } | undefined;
+                        lastSelected?: number | undefined;
+                    };
+                    address: string;
+                    scopes: `${string}:${string}`[];
+                    methods: string[];
+                }>;
+                selectedAccount: string;
+            }) => Record<string, {
+                accountGroupId: AccountGroupId;
+                type: InternalAccount['type'];
+                accountId: string;
+            }>) & {
+                clearCache: () => void;
+                resultsCount: () => number;
+                resetResultsCount: () => void;
+            };
+            lastResult: () => Record<string, {
+                accountGroupId: AccountGroupId;
+                type: InternalAccount['type'];
+                accountId: string;
+            }>;
+            dependencies: [(state: AssetListState) => {
+                wallets: {
+                    [walletId: `entropy:${string}`]: import("../../../account-tree-controller/src/wallet.mjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletKeyringObject;
+                    [walletId: `keyring:${string}`]: import("../../../account-tree-controller/src/wallet.mjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletKeyringObject;
+                    [walletId: `snap:${string}`]: import("../../../account-tree-controller/src/wallet.mjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletKeyringObject;
+                };
+                selectedAccountGroup: "" | `entropy:${string}/${string}` | `keyring:${string}/${string}` | `snap:${string}/${string}`;
+            }, (state: AssetListState) => {
+                accounts: Record<string, {
+                    type: "eip155:eoa" | "eip155:erc4337" | "bip122:p2pkh" | "bip122:p2sh" | "bip122:p2wpkh" | "bip122:p2tr" | "solana:data-account" | "tron:eoa" | "any:account";
+                    id: string;
+                    options: Record<string, import("@metamask/utils").Json> & {
+                        entropy?: {
+                            type: "mnemonic";
+                            id: string;
+                            derivationPath: string;
+                            groupIndex: number;
+                        } | {
+                            type: "private-key";
+                        } | undefined;
+                        exportable?: boolean | undefined;
+                    };
+                    metadata: {
+                        name: string;
+                        importTime: number;
+                        keyring: {
+                            type: string;
+                        };
+                        nameLastUpdatedAt?: number | undefined;
+                        snap?: {
+                            name: string;
+                            id: string;
+                            enabled: boolean;
+                        } | undefined;
+                        lastSelected?: number | undefined;
+                    };
+                    address: string;
+                    scopes: `${string}:${string}`[];
+                    methods: string[];
+                }>;
+                selectedAccount: string;
+            }];
+            recomputations: () => number;
+            resetRecomputations: () => void;
+            dependencyRecomputations: () => number;
+            resetDependencyRecomputations: () => void;
+        } & {
+            memoize: typeof weakMapMemoize;
+            argsMemoize: typeof weakMapMemoize;
+        }, (state: AssetListState) => {
+            [account: string]: `${string}:${string}/${string}:${string}`[];
+        }, (state: AssetListState) => {
+            [account: string]: `${string}:${string}/${string}:${string}`[];
+        }, (state: AssetListState) => {
+            [asset: `${string}:${string}/${string}:${string}`]: {
+                fungible: true;
+                iconUrl: string;
+                units: {
+                    decimals: number;
+                    symbol?: string | undefined;
+                    name?: string | undefined;
+                }[];
+                symbol?: string | undefined;
+                name?: string | undefined;
+            };
+        }, (state: AssetListState) => {
+            [account: string]: {
+                [asset: string]: {
+                    amount: string;
+                    unit: string;
+                };
+            };
+        }, (state: AssetListState) => Record<`${string}:${string}/${string}:${string}`, import("@metamask/snaps-sdk").AssetConversion & {
+            marketData?: import("@metamask/snaps-sdk").FungibleAssetMarketData | undefined;
+        }>, (state: AssetListState) => string];
+        recomputations: () => number;
+        resetRecomputations: () => void;
+        dependencyRecomputations: () => number;
+        resetDependencyRecomputations: () => void;
+    } & {
+        memoize: typeof weakMapMemoize;
+        argsMemoize: typeof weakMapMemoize;
+    }, ((state: AssetListState) => AssetsByAccountGroup) & {
+        clearCache: () => void;
+        resultsCount: () => number;
+        resetResultsCount: () => void;
+    } & {
+        resultFunc: (resultFuncArgs_0: Record<string, {
+            accountGroupId: AccountGroupId;
+            type: InternalAccount['type'];
+            accountId: string;
+        }>, resultFuncArgs_1: Record<`0x${string}`, Record<`0x${string}`, {
+            balance: Hex | null;
+        }>>, resultFuncArgs_2: Record<`0x${string}`, Record<`0x${string}`, import("../TokenRatesController.mjs").MarketDataDetails>>, resultFuncArgs_3: Record<string, {
+            conversionDate: number | null;
+            conversionRate: number | null;
+            usdConversionRate: number | null;
+        }>, resultFuncArgs_4: string, resultFuncArgs_5: Record<`0x${string}`, import("@metamask/network-controller").NetworkConfiguration>) => AssetsByAccountGroup;
+        memoizedResultFunc: ((resultFuncArgs_0: Record<string, {
+            accountGroupId: AccountGroupId;
+            type: InternalAccount['type'];
+            accountId: string;
+        }>, resultFuncArgs_1: Record<`0x${string}`, Record<`0x${string}`, {
+            balance: Hex | null;
+        }>>, resultFuncArgs_2: Record<`0x${string}`, Record<`0x${string}`, import("../TokenRatesController.mjs").MarketDataDetails>>, resultFuncArgs_3: Record<string, {
+            conversionDate: number | null;
+            conversionRate: number | null;
+            usdConversionRate: number | null;
+        }>, resultFuncArgs_4: string, resultFuncArgs_5: Record<`0x${string}`, import("@metamask/network-controller").NetworkConfiguration>) => AssetsByAccountGroup) & {
+            clearCache: () => void;
+            resultsCount: () => number;
+            resetResultsCount: () => void;
+        };
+        lastResult: () => AssetsByAccountGroup;
+        dependencies: [((state: AssetListState) => Record<string, {
+            accountGroupId: AccountGroupId;
+            type: InternalAccount['type'];
+            accountId: string;
+        }>) & {
+            clearCache: () => void;
+            resultsCount: () => number;
+            resetResultsCount: () => void;
+        } & {
+            resultFunc: (resultFuncArgs_0: {
+                wallets: {
+                    [walletId: `entropy:${string}`]: import("../../../account-tree-controller/src/wallet.mjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletKeyringObject;
+                    [walletId: `keyring:${string}`]: import("../../../account-tree-controller/src/wallet.mjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletKeyringObject;
+                    [walletId: `snap:${string}`]: import("../../../account-tree-controller/src/wallet.mjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletKeyringObject;
+                };
+                selectedAccountGroup: "" | `entropy:${string}/${string}` | `keyring:${string}/${string}` | `snap:${string}/${string}`;
+            }, resultFuncArgs_1: {
+                accounts: Record<string, {
+                    type: "eip155:eoa" | "eip155:erc4337" | "bip122:p2pkh" | "bip122:p2sh" | "bip122:p2wpkh" | "bip122:p2tr" | "solana:data-account" | "tron:eoa" | "any:account";
+                    id: string;
+                    options: Record<string, import("@metamask/utils").Json> & {
+                        entropy?: {
+                            type: "mnemonic";
+                            id: string;
+                            derivationPath: string;
+                            groupIndex: number;
+                        } | {
+                            type: "private-key";
+                        } | undefined;
+                        exportable?: boolean | undefined;
+                    };
+                    metadata: {
+                        name: string;
+                        importTime: number;
+                        keyring: {
+                            type: string;
+                        };
+                        nameLastUpdatedAt?: number | undefined;
+                        snap?: {
+                            name: string;
+                            id: string;
+                            enabled: boolean;
+                        } | undefined;
+                        lastSelected?: number | undefined;
+                    };
+                    address: string;
+                    scopes: `${string}:${string}`[];
+                    methods: string[];
+                }>;
+                selectedAccount: string;
+            }) => Record<string, {
+                accountGroupId: AccountGroupId;
+                type: InternalAccount['type'];
+                accountId: string;
+            }>;
+            memoizedResultFunc: ((resultFuncArgs_0: {
+                wallets: {
+                    [walletId: `entropy:${string}`]: import("../../../account-tree-controller/src/wallet.mjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletKeyringObject;
+                    [walletId: `keyring:${string}`]: import("../../../account-tree-controller/src/wallet.mjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletKeyringObject;
+                    [walletId: `snap:${string}`]: import("../../../account-tree-controller/src/wallet.mjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletKeyringObject;
+                };
+                selectedAccountGroup: "" | `entropy:${string}/${string}` | `keyring:${string}/${string}` | `snap:${string}/${string}`;
+            }, resultFuncArgs_1: {
+                accounts: Record<string, {
+                    type: "eip155:eoa" | "eip155:erc4337" | "bip122:p2pkh" | "bip122:p2sh" | "bip122:p2wpkh" | "bip122:p2tr" | "solana:data-account" | "tron:eoa" | "any:account";
+                    id: string;
+                    options: Record<string, import("@metamask/utils").Json> & {
+                        entropy?: {
+                            type: "mnemonic";
+                            id: string;
+                            derivationPath: string;
+                            groupIndex: number;
+                        } | {
+                            type: "private-key";
+                        } | undefined;
+                        exportable?: boolean | undefined;
+                    };
+                    metadata: {
+                        name: string;
+                        importTime: number;
+                        keyring: {
+                            type: string;
+                        };
+                        nameLastUpdatedAt?: number | undefined;
+                        snap?: {
+                            name: string;
+                            id: string;
+                            enabled: boolean;
+                        } | undefined;
+                        lastSelected?: number | undefined;
+                    };
+                    address: string;
+                    scopes: `${string}:${string}`[];
+                    methods: string[];
+                }>;
+                selectedAccount: string;
+            }) => Record<string, {
+                accountGroupId: AccountGroupId;
+                type: InternalAccount['type'];
+                accountId: string;
+            }>) & {
+                clearCache: () => void;
+                resultsCount: () => number;
+                resetResultsCount: () => void;
+            };
+            lastResult: () => Record<string, {
+                accountGroupId: AccountGroupId;
+                type: InternalAccount['type'];
+                accountId: string;
+            }>;
+            dependencies: [(state: AssetListState) => {
+                wallets: {
+                    [walletId: `entropy:${string}`]: import("../../../account-tree-controller/src/wallet.mjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletKeyringObject;
+                    [walletId: `keyring:${string}`]: import("../../../account-tree-controller/src/wallet.mjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletKeyringObject;
+                    [walletId: `snap:${string}`]: import("../../../account-tree-controller/src/wallet.mjs").AccountWalletEntropyObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletSnapObject | import("../../../account-tree-controller/src/wallet.mjs").AccountWalletKeyringObject;
+                };
+                selectedAccountGroup: "" | `entropy:${string}/${string}` | `keyring:${string}/${string}` | `snap:${string}/${string}`;
+            }, (state: AssetListState) => {
+                accounts: Record<string, {
+                    type: "eip155:eoa" | "eip155:erc4337" | "bip122:p2pkh" | "bip122:p2sh" | "bip122:p2wpkh" | "bip122:p2tr" | "solana:data-account" | "tron:eoa" | "any:account";
+                    id: string;
+                    options: Record<string, import("@metamask/utils").Json> & {
+                        entropy?: {
+                            type: "mnemonic";
+                            id: string;
+                            derivationPath: string;
+                            groupIndex: number;
+                        } | {
+                            type: "private-key";
+                        } | undefined;
+                        exportable?: boolean | undefined;
+                    };
+                    metadata: {
+                        name: string;
+                        importTime: number;
+                        keyring: {
+                            type: string;
+                        };
+                        nameLastUpdatedAt?: number | undefined;
+                        snap?: {
+                            name: string;
+                            id: string;
+                            enabled: boolean;
+                        } | undefined;
+                        lastSelected?: number | undefined;
+                    };
+                    address: string;
+                    scopes: `${string}:${string}`[];
+                    methods: string[];
+                }>;
+                selectedAccount: string;
+            }];
+            recomputations: () => number;
+            resetRecomputations: () => void;
+            dependencyRecomputations: () => number;
+            resetDependencyRecomputations: () => void;
+        } & {
+            memoize: typeof weakMapMemoize;
+            argsMemoize: typeof weakMapMemoize;
+        }, (state: AssetListState) => Record<`0x${string}`, Record<`0x${string}`, {
+            balance: Hex | null;
+        }>>, (state: AssetListState) => Record<`0x${string}`, Record<`0x${string}`, import("../TokenRatesController.mjs").MarketDataDetails>>, (state: AssetListState) => Record<string, {
+            conversionDate: number | null;
+            conversionRate: number | null;
+            usdConversionRate: number | null;
+        }>, (state: AssetListState) => string, (state: AssetListState) => Record<`0x${string}`, import("@metamask/network-controller").NetworkConfiguration>];
+        recomputations: () => number;
+        resetRecomputations: () => void;
+        dependencyRecomputations: () => number;
+        resetDependencyRecomputations: () => void;
+    } & {
+        memoize: typeof weakMapMemoize;
+        argsMemoize: typeof weakMapMemoize;
+    }];
+    recomputations: () => number;
+    resetRecomputations: () => void;
+    dependencyRecomputations: () => number;
+    resetDependencyRecomputations: () => void;
+} & {
+    memoize: typeof weakMapMemoize;
+    argsMemoize: typeof weakMapMemoize;
+};
 export type SelectAccountGroupAssetOpts = {
     filterTronStakedTokens: boolean;
 };
diff --git a/dist/selectors/token-selectors.d.mts.map b/dist/selectors/token-selectors.d.mts.map
index cccc22fa021ac18ee091f9f51180828fefc9a4eb..eaa13052b3425fde542026e8c177772f63ad50ea 100644
--- a/dist/selectors/token-selectors.d.mts.map
+++ b/dist/selectors/token-selectors.d.mts.map
@@ -1 +1 @@
-{"version":3,"file":"token-selectors.d.mts","sourceRoot":"","sources":["../../src/selectors/token-selectors.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"token-selectors.d.mts","sourceRoot":"","sources":["../../src/selectors/token-selectors.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/selectors/token-selectors.mjs b/dist/selectors/token-selectors.mjs
index d74fc405f21195cb11d821ac2cea386b4c1b7ab8..dff2d00f223b62a014fae10b3c2d4b7f025c2268 100644
--- a/dist/selectors/token-selectors.mjs
+++ b/dist/selectors/token-selectors.mjs
@@ -218,7 +218,7 @@ const selectAllMultichainAssets = createAssetListSelector([
     }
     return groupAssets;
 });
-const selectAllAssets = createAssetListSelector([
+export const selectAllAssets = createAssetListSelector([
     selectAllEvmAssets,
     selectAllMultichainAssets,
     selectAllEvmAccountNativeBalances,
diff --git a/dist/selectors/token-selectors.mjs.map b/dist/selectors/token-selectors.mjs.map
index c0be315c872cf2bfbf4d0666d2524a94c96ff0b4..9c31a57b66eab8247fa1b5a5ea6bf9878fa135bb 100644
--- a/dist/selectors/token-selectors.mjs.map
+++ b/dist/selectors/token-selectors.mjs.map
@@ -1 +1 @@
-{"version":3,"file":"token-selectors.mjs","sourceRoot":"","sources":["../../src/selectors/token-selectors.ts"],"names":[],"mappings":"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","sourcesContent":["import type { AccountGroupId } from '@metamask/account-api';\nimport type { AccountTreeControllerState } from '@metamask/account-tree-controller';\nimport type { AccountsControllerState } from '@metamask/accounts-controller';\nimport { convertHexToDecimal } from '@metamask/controller-utils';\nimport { TrxScope } from '@metamask/keyring-api';\nimport type { InternalAccount } from '@metamask/keyring-internal-api';\nimport type { NetworkState } from '@metamask/network-controller';\nimport { hexToBigInt, parseCaipAssetType } from '@metamask/utils';\nimport type { Hex } from '@metamask/utils';\nimport { createSelector, weakMapMemoize } from 'reselect';\n\nimport {\n  parseBalanceWithDecimals,\n  stringifyBalanceWithDecimals,\n} from './stringify-balance';\nimport type { CurrencyRateState } from '../CurrencyRateController';\nimport type { MultichainAssetsControllerState } from '../MultichainAssetsController';\nimport type { MultichainAssetsRatesControllerState } from '../MultichainAssetsRatesController';\nimport type { MultichainBalancesControllerState } from '../MultichainBalancesController';\nimport { getNativeTokenAddress } from '../token-prices-service/codefi-v2';\nimport type { TokenBalancesControllerState } from '../TokenBalancesController';\nimport type { Token, TokenRatesControllerState } from '../TokenRatesController';\nimport type { TokensControllerState } from '../TokensController';\n\n// Asset Tron Filters\nexport const TRON_RESOURCE = {\n  ENERGY: 'energy',\n  BANDWIDTH: 'bandwidth',\n  MAX_ENERGY: 'max-energy',\n  MAX_BANDWIDTH: 'max-bandwidth',\n  STRX_ENERGY: 'strx-energy',\n  STRX_BANDWIDTH: 'strx-bandwidth',\n} as const;\n\nexport type TronResourceSymbol =\n  (typeof TRON_RESOURCE)[keyof typeof TRON_RESOURCE];\n\nexport const TRON_RESOURCE_SYMBOLS = Object.values(\n  TRON_RESOURCE,\n) as readonly TronResourceSymbol[];\n\nexport const TRON_RESOURCE_SYMBOLS_SET: ReadonlySet<TronResourceSymbol> =\n  new Set(TRON_RESOURCE_SYMBOLS);\n\nexport type AssetsByAccountGroup = {\n  [accountGroupId: AccountGroupId]: AccountGroupAssets;\n};\n\nexport type AccountGroupAssets = {\n  [network: string]: Asset[];\n};\n\ntype EvmAccountType = Extract<InternalAccount['type'], `eip155:${string}`>;\ntype MultichainAccountType = Exclude<\n  InternalAccount['type'],\n  `eip155:${string}`\n>;\n\nexport type Asset = (\n  | {\n      accountType: EvmAccountType;\n      assetId: Hex; // This is also the address for EVM tokens\n      address: Hex;\n      chainId: Hex;\n    }\n  | {\n      accountType: MultichainAccountType;\n      assetId: `${string}:${string}/${string}:${string}`;\n      chainId: `${string}:${string}`;\n    }\n) & {\n  accountId: string;\n  image: string;\n  name: string;\n  symbol: string;\n  decimals: number;\n  isNative: boolean;\n  rawBalance: Hex;\n  balance: string;\n  fiat:\n    | {\n        balance: number;\n        currency: string;\n        conversionRate: number;\n      }\n    | undefined;\n};\n\nexport type AssetListState = {\n  accountTree: AccountTreeControllerState['accountTree'];\n  internalAccounts: AccountsControllerState['internalAccounts'];\n  allTokens: TokensControllerState['allTokens'];\n  allIgnoredTokens: TokensControllerState['allIgnoredTokens'];\n  tokenBalances: TokenBalancesControllerState['tokenBalances'];\n  marketData: TokenRatesControllerState['marketData'];\n  currencyRates: CurrencyRateState['currencyRates'];\n  accountsAssets: MultichainAssetsControllerState['accountsAssets'];\n  allIgnoredAssets: MultichainAssetsControllerState['allIgnoredAssets'];\n  assetsMetadata: MultichainAssetsControllerState['assetsMetadata'];\n  balances: MultichainBalancesControllerState['balances'];\n  conversionRates: MultichainAssetsRatesControllerState['conversionRates'];\n  currentCurrency: CurrencyRateState['currentCurrency'];\n  networkConfigurationsByChainId: NetworkState['networkConfigurationsByChainId'];\n  // This is the state from AccountTrackerController. The state is different on mobile and extension\n  // accountsByChainId with a balance is the only field that both clients have in common\n  // This field could be removed once TokenBalancesController returns native balances\n  accountsByChainId: Record<\n    Hex,\n    Record<\n      Hex,\n      {\n        balance: Hex | null;\n      }\n    >\n  >;\n};\n\nconst createAssetListSelector = createSelector.withTypes<AssetListState>();\n\nconst selectAccountsToGroupIdMap = createAssetListSelector(\n  [(state) => state.accountTree, (state) => state.internalAccounts],\n  (accountTree, internalAccounts) => {\n    const accountsMap: Record<\n      string,\n      {\n        accountGroupId: AccountGroupId;\n        type: InternalAccount['type'];\n        accountId: string;\n      }\n    > = {};\n    for (const { groups } of Object.values(accountTree.wallets)) {\n      for (const { id: accountGroupId, accounts } of Object.values(groups)) {\n        for (const accountId of accounts) {\n          const internalAccount = internalAccounts.accounts[accountId];\n\n          accountsMap[\n            // TODO: We would not need internalAccounts if evmTokens state had the accountId\n            internalAccount.type.startsWith('eip155')\n              ? internalAccount.address\n              : accountId\n          ] = { accountGroupId, type: internalAccount.type, accountId };\n        }\n      }\n    }\n\n    return accountsMap;\n  },\n);\n\n// TODO: This selector will not be needed once the native balances are part of the evm tokens state\nconst selectAllEvmAccountNativeBalances = createAssetListSelector(\n  [\n    selectAccountsToGroupIdMap,\n    (state) => state.accountsByChainId,\n    (state) => state.marketData,\n    (state) => state.currencyRates,\n    (state) => state.currentCurrency,\n    (state) => state.networkConfigurationsByChainId,\n  ],\n  (\n    accountsMap,\n    accountsByChainId,\n    marketData,\n    currencyRates,\n    currentCurrency,\n    networkConfigurationsByChainId,\n  ) => {\n    const groupAssets: AssetsByAccountGroup = {};\n\n    for (const [chainId, chainAccounts] of Object.entries(\n      accountsByChainId,\n    ) as [Hex, Record<Hex, { balance: Hex | null }>][]) {\n      for (const [accountAddress, accountBalance] of Object.entries(\n        chainAccounts,\n      )) {\n        const account = accountsMap[accountAddress.toLowerCase()];\n        if (!account) {\n          continue;\n        }\n\n        const { accountGroupId, type, accountId } = account;\n\n        groupAssets[accountGroupId] ??= {};\n        groupAssets[accountGroupId][chainId] ??= [];\n        const groupChainAssets = groupAssets[accountGroupId][chainId];\n\n        // If a native balance is missing, we still want to show it as 0\n        const rawBalance = accountBalance.balance || '0x0';\n\n        const nativeCurrency =\n          networkConfigurationsByChainId[chainId]?.nativeCurrency || 'NATIVE';\n\n        const nativeToken = {\n          address: getNativeTokenAddress(chainId),\n          decimals: 18,\n          name: nativeCurrency === 'ETH' ? 'Ethereum' : nativeCurrency,\n          symbol: nativeCurrency,\n          // This field need to be filled at client level for now\n          image: '',\n        };\n\n        const fiatData = getFiatBalanceForEvmToken(\n          rawBalance,\n          nativeToken.decimals,\n          marketData,\n          currencyRates,\n          chainId,\n          nativeToken.address,\n        );\n\n        groupChainAssets.push({\n          accountType: type as EvmAccountType,\n          assetId: nativeToken.address,\n          isNative: true,\n          address: nativeToken.address,\n          image: nativeToken.image,\n          name: nativeToken.name,\n          symbol: nativeToken.symbol,\n          accountId,\n          decimals: nativeToken.decimals,\n          rawBalance,\n          balance: stringifyBalanceWithDecimals(\n            hexToBigInt(rawBalance),\n            nativeToken.decimals,\n          ),\n          fiat: fiatData\n            ? {\n                balance: fiatData.balance,\n                currency: currentCurrency,\n                conversionRate: fiatData.conversionRate,\n              }\n            : undefined,\n          chainId,\n        });\n      }\n    }\n\n    return groupAssets;\n  },\n);\n\nconst selectAllEvmAssets = createAssetListSelector(\n  [\n    selectAccountsToGroupIdMap,\n    (state) => state.allTokens,\n    (state) => state.allIgnoredTokens,\n    (state) => state.tokenBalances,\n    (state) => state.marketData,\n    (state) => state.currencyRates,\n    (state) => state.currentCurrency,\n  ],\n  (\n    accountsMap,\n    evmTokens,\n    ignoredEvmTokens,\n    tokenBalances,\n    marketData,\n    currencyRates,\n    currentCurrency,\n  ) => {\n    const groupAssets: AssetsByAccountGroup = {};\n\n    for (const [chainId, chainTokens] of Object.entries(evmTokens) as [\n      Hex,\n      { [key: string]: Token[] },\n    ][]) {\n      for (const [accountAddress, addressTokens] of Object.entries(\n        chainTokens,\n      ) as [Hex, Token[]][]) {\n        for (const token of addressTokens) {\n          const tokenAddress = token.address as Hex;\n          const account = accountsMap[accountAddress];\n          if (!account) {\n            continue;\n          }\n\n          const { accountGroupId, type, accountId } = account;\n\n          if (\n            ignoredEvmTokens[chainId]?.[accountAddress]?.includes(tokenAddress)\n          ) {\n            continue;\n          }\n\n          const rawBalance =\n            tokenBalances[accountAddress]?.[chainId]?.[tokenAddress];\n\n          if (!rawBalance) {\n            continue;\n          }\n\n          groupAssets[accountGroupId] ??= {};\n          groupAssets[accountGroupId][chainId] ??= [];\n          const groupChainAssets = groupAssets[accountGroupId][chainId];\n\n          const fiatData = getFiatBalanceForEvmToken(\n            rawBalance,\n            token.decimals,\n            marketData,\n            currencyRates,\n            chainId,\n            tokenAddress,\n          );\n\n          groupChainAssets.push({\n            accountType: type as EvmAccountType,\n            assetId: tokenAddress,\n            isNative: false,\n            address: tokenAddress,\n            image: token.image ?? '',\n            name: token.name ?? token.symbol,\n            symbol: token.symbol,\n            accountId,\n            decimals: token.decimals,\n            rawBalance,\n            balance: stringifyBalanceWithDecimals(\n              hexToBigInt(rawBalance),\n              token.decimals,\n            ),\n            fiat: fiatData\n              ? {\n                  balance: fiatData.balance,\n                  currency: currentCurrency,\n                  conversionRate: fiatData.conversionRate,\n                }\n              : undefined,\n            chainId,\n          });\n        }\n      }\n    }\n\n    return groupAssets;\n  },\n);\n\nconst selectAllMultichainAssets = createAssetListSelector(\n  [\n    selectAccountsToGroupIdMap,\n    (state) => state.accountsAssets,\n    (state) => state.allIgnoredAssets,\n    (state) => state.assetsMetadata,\n    (state) => state.balances,\n    (state) => state.conversionRates,\n    (state) => state.currentCurrency,\n  ],\n  (\n    accountsMap,\n    multichainTokens,\n    ignoredMultichainAssets,\n    multichainAssetsMetadata,\n    multichainBalances,\n    multichainConversionRates,\n    currentCurrency,\n  ) => {\n    const groupAssets: AssetsByAccountGroup = {};\n\n    for (const [accountId, accountAssets] of Object.entries(multichainTokens)) {\n      for (const assetId of accountAssets) {\n        let caipAsset: ReturnType<typeof parseCaipAssetType>;\n        try {\n          caipAsset = parseCaipAssetType(assetId);\n        } catch {\n          // TODO: We should log this error when we have the ability to inject a logger from the client\n          continue;\n        }\n\n        const { chainId } = caipAsset;\n        const asset = `${caipAsset.assetNamespace}:${caipAsset.assetReference}`;\n\n        const account = accountsMap[accountId];\n        const assetMetadata = multichainAssetsMetadata[assetId];\n        if (!account || !assetMetadata) {\n          continue;\n        }\n\n        const { accountGroupId, type } = account;\n\n        if (ignoredMultichainAssets?.[accountId]?.includes(assetId)) {\n          continue;\n        }\n\n        groupAssets[accountGroupId] ??= {};\n        groupAssets[accountGroupId][chainId] ??= [];\n        const groupChainAssets = groupAssets[accountGroupId][chainId];\n\n        const balance:\n          | {\n              amount: string;\n              unit: string;\n            }\n          | undefined = multichainBalances[accountId]?.[assetId];\n\n        const decimals = assetMetadata.units.find(\n          (unit) =>\n            unit.name === assetMetadata.name &&\n            unit.symbol === assetMetadata.symbol,\n        )?.decimals;\n\n        if (!balance || decimals === undefined) {\n          continue;\n        }\n\n        const rawBalance = parseBalanceWithDecimals(balance.amount, decimals);\n\n        if (!rawBalance) {\n          continue;\n        }\n\n        const fiatData = getFiatBalanceForMultichainAsset(\n          balance,\n          multichainConversionRates,\n          assetId,\n        );\n\n        // TODO: We shouldn't have to rely on fallbacks for name and symbol, they should not be optional\n        groupChainAssets.push({\n          accountType: type as MultichainAccountType,\n          assetId,\n          isNative: caipAsset.assetNamespace === 'slip44',\n          image: assetMetadata.iconUrl,\n          name: assetMetadata.name ?? assetMetadata.symbol ?? asset,\n          symbol: assetMetadata.symbol ?? asset,\n          accountId,\n          decimals,\n          rawBalance,\n          balance: balance.amount,\n          fiat: fiatData\n            ? {\n                balance: fiatData.balance,\n                currency: currentCurrency,\n                conversionRate: fiatData.conversionRate,\n              }\n            : undefined,\n          chainId,\n        });\n      }\n    }\n\n    return groupAssets;\n  },\n);\n\nconst selectAllAssets = createAssetListSelector(\n  [\n    selectAllEvmAssets,\n    selectAllMultichainAssets,\n    selectAllEvmAccountNativeBalances,\n  ],\n  (evmAssets, multichainAssets, evmAccountNativeBalances) => {\n    const groupAssets: AssetsByAccountGroup = {};\n\n    mergeAssets(groupAssets, evmAssets);\n\n    mergeAssets(groupAssets, multichainAssets);\n\n    mergeAssets(groupAssets, evmAccountNativeBalances);\n\n    return groupAssets;\n  },\n);\n\nexport type SelectAccountGroupAssetOpts = {\n  filterTronStakedTokens: boolean;\n};\n\nconst defaultSelectAccountGroupAssetOpts: SelectAccountGroupAssetOpts = {\n  filterTronStakedTokens: true,\n};\n\nconst filterTronStakedTokens = (assetsByAccountGroup: AccountGroupAssets) => {\n  const newAssetsByAccountGroup = { ...assetsByAccountGroup };\n\n  Object.values(TrxScope).forEach((tronChainId) => {\n    if (!newAssetsByAccountGroup[tronChainId]) {\n      return;\n    }\n\n    newAssetsByAccountGroup[tronChainId] = newAssetsByAccountGroup[\n      tronChainId\n    ].filter((asset: Asset) => {\n      if (\n        asset.chainId.startsWith('tron:') &&\n        TRON_RESOURCE_SYMBOLS_SET.has(\n          asset.symbol?.toLowerCase() as TronResourceSymbol,\n        )\n      ) {\n        return false;\n      }\n      return true;\n    });\n  });\n\n  return newAssetsByAccountGroup;\n};\n\nexport const selectAssetsBySelectedAccountGroup = createAssetListSelector(\n  [\n    selectAllAssets,\n    (state) => state.accountTree,\n    (\n      _state,\n      opts: SelectAccountGroupAssetOpts = defaultSelectAccountGroupAssetOpts,\n    ) => opts,\n  ],\n  (groupAssets, accountTree, opts) => {\n    const { selectedAccountGroup } = accountTree;\n    if (!selectedAccountGroup) {\n      return {};\n    }\n\n    let result = groupAssets[selectedAccountGroup] || {};\n\n    if (opts.filterTronStakedTokens) {\n      result = filterTronStakedTokens(result);\n    }\n\n    return result;\n  },\n  {\n    memoize: weakMapMemoize,\n    argsMemoize: weakMapMemoize,\n  },\n);\n\n// TODO: Once native assets are part of the evm tokens state, this function can be simplified as chains will always be unique\n/**\n * Merges the new assets into the existing assets\n *\n * @param existingAssets - The existing assets\n * @param newAssets - The new assets\n */\nfunction mergeAssets(\n  existingAssets: AssetsByAccountGroup,\n  newAssets: AssetsByAccountGroup,\n) {\n  for (const [accountGroupId, accountAssets] of Object.entries(newAssets) as [\n    AccountGroupId,\n    AccountGroupAssets,\n  ][]) {\n    const existingAccountGroupAssets = existingAssets[accountGroupId];\n\n    if (!existingAccountGroupAssets) {\n      existingAssets[accountGroupId] = {};\n      for (const [network, chainAssets] of Object.entries(accountAssets)) {\n        existingAssets[accountGroupId][network] = [...chainAssets];\n      }\n    } else {\n      for (const [network, chainAssets] of Object.entries(accountAssets)) {\n        existingAccountGroupAssets[network] ??= [];\n        existingAccountGroupAssets[network].push(...chainAssets);\n      }\n    }\n  }\n}\n\n/**\n * @param rawBalance - The balance of the token\n * @param decimals - The decimals of the token\n * @param marketData - The market data for the token\n * @param currencyRates - The currency rates for the token\n * @param chainId - The chain id of the token\n * @param tokenAddress - The address of the token\n * @returns The price and currency of the token in the current currency. Returns undefined if the asset is not found in the market data or currency rates.\n */\nfunction getFiatBalanceForEvmToken(\n  rawBalance: Hex,\n  decimals: number,\n  marketData: TokenRatesControllerState['marketData'],\n  currencyRates: CurrencyRateState['currencyRates'],\n  chainId: Hex,\n  tokenAddress: Hex,\n) {\n  const tokenMarketData = marketData[chainId]?.[tokenAddress];\n\n  if (!tokenMarketData) {\n    return undefined;\n  }\n\n  const currencyRate = currencyRates[tokenMarketData.currency];\n\n  if (!currencyRate?.conversionRate) {\n    return undefined;\n  }\n\n  const fiatBalance =\n    (convertHexToDecimal(rawBalance) / 10 ** decimals) *\n    tokenMarketData.price *\n    currencyRate.conversionRate;\n\n  return {\n    balance: fiatBalance,\n    conversionRate: currencyRate.conversionRate,\n  };\n}\n\n/**\n * @param balance - The balance of the asset, in the format { amount: string; unit: string }\n * @param balance.amount - The amount of the balance\n * @param balance.unit - The unit of the balance\n * @param multichainConversionRates - The conversion rates for the multichain asset\n * @param assetId - The asset id of the asset\n * @returns The price and currency of the token in the current currency. Returns undefined if the asset is not found in the conversion rates.\n */\nfunction getFiatBalanceForMultichainAsset(\n  balance: { amount: string; unit: string },\n  multichainConversionRates: MultichainAssetsRatesControllerState['conversionRates'],\n  assetId: `${string}:${string}/${string}:${string}`,\n) {\n  const assetMarketData = multichainConversionRates[assetId];\n\n  if (!assetMarketData?.rate) {\n    return undefined;\n  }\n\n  return {\n    balance: Number(balance.amount) * Number(assetMarketData.rate),\n    conversionRate: Number(assetMarketData.rate),\n  };\n}\n"]}
\ No newline at end of file
+{"version":3,"file":"token-selectors.mjs","sourceRoot":"","sources":["../../src/selectors/token-selectors.ts"],"names":[],"mappings":"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","sourcesContent":["import type { AccountGroupId } from '@metamask/account-api';\nimport type { AccountTreeControllerState } from '@metamask/account-tree-controller';\nimport type { AccountsControllerState } from '@metamask/accounts-controller';\nimport { convertHexToDecimal } from '@metamask/controller-utils';\nimport { TrxScope } from '@metamask/keyring-api';\nimport type { InternalAccount } from '@metamask/keyring-internal-api';\nimport type { NetworkState } from '@metamask/network-controller';\nimport { hexToBigInt, parseCaipAssetType } from '@metamask/utils';\nimport type { Hex } from '@metamask/utils';\nimport { createSelector, weakMapMemoize } from 'reselect';\n\nimport {\n  parseBalanceWithDecimals,\n  stringifyBalanceWithDecimals,\n} from './stringify-balance';\nimport type { CurrencyRateState } from '../CurrencyRateController';\nimport type { MultichainAssetsControllerState } from '../MultichainAssetsController';\nimport type { MultichainAssetsRatesControllerState } from '../MultichainAssetsRatesController';\nimport type { MultichainBalancesControllerState } from '../MultichainBalancesController';\nimport { getNativeTokenAddress } from '../token-prices-service/codefi-v2';\nimport type { TokenBalancesControllerState } from '../TokenBalancesController';\nimport type { Token, TokenRatesControllerState } from '../TokenRatesController';\nimport type { TokensControllerState } from '../TokensController';\n\n// Asset Tron Filters\nexport const TRON_RESOURCE = {\n  ENERGY: 'energy',\n  BANDWIDTH: 'bandwidth',\n  MAX_ENERGY: 'max-energy',\n  MAX_BANDWIDTH: 'max-bandwidth',\n  STRX_ENERGY: 'strx-energy',\n  STRX_BANDWIDTH: 'strx-bandwidth',\n} as const;\n\nexport type TronResourceSymbol =\n  (typeof TRON_RESOURCE)[keyof typeof TRON_RESOURCE];\n\nexport const TRON_RESOURCE_SYMBOLS = Object.values(\n  TRON_RESOURCE,\n) as readonly TronResourceSymbol[];\n\nexport const TRON_RESOURCE_SYMBOLS_SET: ReadonlySet<TronResourceSymbol> =\n  new Set(TRON_RESOURCE_SYMBOLS);\n\nexport type AssetsByAccountGroup = {\n  [accountGroupId: AccountGroupId]: AccountGroupAssets;\n};\n\nexport type AccountGroupAssets = {\n  [network: string]: Asset[];\n};\n\ntype EvmAccountType = Extract<InternalAccount['type'], `eip155:${string}`>;\ntype MultichainAccountType = Exclude<\n  InternalAccount['type'],\n  `eip155:${string}`\n>;\n\nexport type Asset = (\n  | {\n      accountType: EvmAccountType;\n      assetId: Hex; // This is also the address for EVM tokens\n      address: Hex;\n      chainId: Hex;\n    }\n  | {\n      accountType: MultichainAccountType;\n      assetId: `${string}:${string}/${string}:${string}`;\n      chainId: `${string}:${string}`;\n    }\n) & {\n  accountId: string;\n  image: string;\n  name: string;\n  symbol: string;\n  decimals: number;\n  isNative: boolean;\n  rawBalance: Hex;\n  balance: string;\n  fiat:\n    | {\n        balance: number;\n        currency: string;\n        conversionRate: number;\n      }\n    | undefined;\n};\n\nexport type AssetListState = {\n  accountTree: AccountTreeControllerState['accountTree'];\n  internalAccounts: AccountsControllerState['internalAccounts'];\n  allTokens: TokensControllerState['allTokens'];\n  allIgnoredTokens: TokensControllerState['allIgnoredTokens'];\n  tokenBalances: TokenBalancesControllerState['tokenBalances'];\n  marketData: TokenRatesControllerState['marketData'];\n  currencyRates: CurrencyRateState['currencyRates'];\n  accountsAssets: MultichainAssetsControllerState['accountsAssets'];\n  allIgnoredAssets: MultichainAssetsControllerState['allIgnoredAssets'];\n  assetsMetadata: MultichainAssetsControllerState['assetsMetadata'];\n  balances: MultichainBalancesControllerState['balances'];\n  conversionRates: MultichainAssetsRatesControllerState['conversionRates'];\n  currentCurrency: CurrencyRateState['currentCurrency'];\n  networkConfigurationsByChainId: NetworkState['networkConfigurationsByChainId'];\n  // This is the state from AccountTrackerController. The state is different on mobile and extension\n  // accountsByChainId with a balance is the only field that both clients have in common\n  // This field could be removed once TokenBalancesController returns native balances\n  accountsByChainId: Record<\n    Hex,\n    Record<\n      Hex,\n      {\n        balance: Hex | null;\n      }\n    >\n  >;\n};\n\nconst createAssetListSelector = createSelector.withTypes<AssetListState>();\n\nconst selectAccountsToGroupIdMap = createAssetListSelector(\n  [(state) => state.accountTree, (state) => state.internalAccounts],\n  (accountTree, internalAccounts) => {\n    const accountsMap: Record<\n      string,\n      {\n        accountGroupId: AccountGroupId;\n        type: InternalAccount['type'];\n        accountId: string;\n      }\n    > = {};\n    for (const { groups } of Object.values(accountTree.wallets)) {\n      for (const { id: accountGroupId, accounts } of Object.values(groups)) {\n        for (const accountId of accounts) {\n          const internalAccount = internalAccounts.accounts[accountId];\n\n          accountsMap[\n            // TODO: We would not need internalAccounts if evmTokens state had the accountId\n            internalAccount.type.startsWith('eip155')\n              ? internalAccount.address\n              : accountId\n          ] = { accountGroupId, type: internalAccount.type, accountId };\n        }\n      }\n    }\n\n    return accountsMap;\n  },\n);\n\n// TODO: This selector will not be needed once the native balances are part of the evm tokens state\nconst selectAllEvmAccountNativeBalances = createAssetListSelector(\n  [\n    selectAccountsToGroupIdMap,\n    (state) => state.accountsByChainId,\n    (state) => state.marketData,\n    (state) => state.currencyRates,\n    (state) => state.currentCurrency,\n    (state) => state.networkConfigurationsByChainId,\n  ],\n  (\n    accountsMap,\n    accountsByChainId,\n    marketData,\n    currencyRates,\n    currentCurrency,\n    networkConfigurationsByChainId,\n  ) => {\n    const groupAssets: AssetsByAccountGroup = {};\n\n    for (const [chainId, chainAccounts] of Object.entries(\n      accountsByChainId,\n    ) as [Hex, Record<Hex, { balance: Hex | null }>][]) {\n      for (const [accountAddress, accountBalance] of Object.entries(\n        chainAccounts,\n      )) {\n        const account = accountsMap[accountAddress.toLowerCase()];\n        if (!account) {\n          continue;\n        }\n\n        const { accountGroupId, type, accountId } = account;\n\n        groupAssets[accountGroupId] ??= {};\n        groupAssets[accountGroupId][chainId] ??= [];\n        const groupChainAssets = groupAssets[accountGroupId][chainId];\n\n        // If a native balance is missing, we still want to show it as 0\n        const rawBalance = accountBalance.balance || '0x0';\n\n        const nativeCurrency =\n          networkConfigurationsByChainId[chainId]?.nativeCurrency || 'NATIVE';\n\n        const nativeToken = {\n          address: getNativeTokenAddress(chainId),\n          decimals: 18,\n          name: nativeCurrency === 'ETH' ? 'Ethereum' : nativeCurrency,\n          symbol: nativeCurrency,\n          // This field need to be filled at client level for now\n          image: '',\n        };\n\n        const fiatData = getFiatBalanceForEvmToken(\n          rawBalance,\n          nativeToken.decimals,\n          marketData,\n          currencyRates,\n          chainId,\n          nativeToken.address,\n        );\n\n        groupChainAssets.push({\n          accountType: type as EvmAccountType,\n          assetId: nativeToken.address,\n          isNative: true,\n          address: nativeToken.address,\n          image: nativeToken.image,\n          name: nativeToken.name,\n          symbol: nativeToken.symbol,\n          accountId,\n          decimals: nativeToken.decimals,\n          rawBalance,\n          balance: stringifyBalanceWithDecimals(\n            hexToBigInt(rawBalance),\n            nativeToken.decimals,\n          ),\n          fiat: fiatData\n            ? {\n                balance: fiatData.balance,\n                currency: currentCurrency,\n                conversionRate: fiatData.conversionRate,\n              }\n            : undefined,\n          chainId,\n        });\n      }\n    }\n\n    return groupAssets;\n  },\n);\n\nconst selectAllEvmAssets = createAssetListSelector(\n  [\n    selectAccountsToGroupIdMap,\n    (state) => state.allTokens,\n    (state) => state.allIgnoredTokens,\n    (state) => state.tokenBalances,\n    (state) => state.marketData,\n    (state) => state.currencyRates,\n    (state) => state.currentCurrency,\n  ],\n  (\n    accountsMap,\n    evmTokens,\n    ignoredEvmTokens,\n    tokenBalances,\n    marketData,\n    currencyRates,\n    currentCurrency,\n  ) => {\n    const groupAssets: AssetsByAccountGroup = {};\n\n    for (const [chainId, chainTokens] of Object.entries(evmTokens) as [\n      Hex,\n      { [key: string]: Token[] },\n    ][]) {\n      for (const [accountAddress, addressTokens] of Object.entries(\n        chainTokens,\n      ) as [Hex, Token[]][]) {\n        for (const token of addressTokens) {\n          const tokenAddress = token.address as Hex;\n          const account = accountsMap[accountAddress];\n          if (!account) {\n            continue;\n          }\n\n          const { accountGroupId, type, accountId } = account;\n\n          if (\n            ignoredEvmTokens[chainId]?.[accountAddress]?.includes(tokenAddress)\n          ) {\n            continue;\n          }\n\n          const rawBalance =\n            tokenBalances[accountAddress]?.[chainId]?.[tokenAddress];\n\n          if (!rawBalance) {\n            continue;\n          }\n\n          groupAssets[accountGroupId] ??= {};\n          groupAssets[accountGroupId][chainId] ??= [];\n          const groupChainAssets = groupAssets[accountGroupId][chainId];\n\n          const fiatData = getFiatBalanceForEvmToken(\n            rawBalance,\n            token.decimals,\n            marketData,\n            currencyRates,\n            chainId,\n            tokenAddress,\n          );\n\n          groupChainAssets.push({\n            accountType: type as EvmAccountType,\n            assetId: tokenAddress,\n            isNative: false,\n            address: tokenAddress,\n            image: token.image ?? '',\n            name: token.name ?? token.symbol,\n            symbol: token.symbol,\n            accountId,\n            decimals: token.decimals,\n            rawBalance,\n            balance: stringifyBalanceWithDecimals(\n              hexToBigInt(rawBalance),\n              token.decimals,\n            ),\n            fiat: fiatData\n              ? {\n                  balance: fiatData.balance,\n                  currency: currentCurrency,\n                  conversionRate: fiatData.conversionRate,\n                }\n              : undefined,\n            chainId,\n          });\n        }\n      }\n    }\n\n    return groupAssets;\n  },\n);\n\nconst selectAllMultichainAssets = createAssetListSelector(\n  [\n    selectAccountsToGroupIdMap,\n    (state) => state.accountsAssets,\n    (state) => state.allIgnoredAssets,\n    (state) => state.assetsMetadata,\n    (state) => state.balances,\n    (state) => state.conversionRates,\n    (state) => state.currentCurrency,\n  ],\n  (\n    accountsMap,\n    multichainTokens,\n    ignoredMultichainAssets,\n    multichainAssetsMetadata,\n    multichainBalances,\n    multichainConversionRates,\n    currentCurrency,\n  ) => {\n    const groupAssets: AssetsByAccountGroup = {};\n\n    for (const [accountId, accountAssets] of Object.entries(multichainTokens)) {\n      for (const assetId of accountAssets) {\n        let caipAsset: ReturnType<typeof parseCaipAssetType>;\n        try {\n          caipAsset = parseCaipAssetType(assetId);\n        } catch {\n          // TODO: We should log this error when we have the ability to inject a logger from the client\n          continue;\n        }\n\n        const { chainId } = caipAsset;\n        const asset = `${caipAsset.assetNamespace}:${caipAsset.assetReference}`;\n\n        const account = accountsMap[accountId];\n        const assetMetadata = multichainAssetsMetadata[assetId];\n        if (!account || !assetMetadata) {\n          continue;\n        }\n\n        const { accountGroupId, type } = account;\n\n        if (ignoredMultichainAssets?.[accountId]?.includes(assetId)) {\n          continue;\n        }\n\n        groupAssets[accountGroupId] ??= {};\n        groupAssets[accountGroupId][chainId] ??= [];\n        const groupChainAssets = groupAssets[accountGroupId][chainId];\n\n        const balance:\n          | {\n              amount: string;\n              unit: string;\n            }\n          | undefined = multichainBalances[accountId]?.[assetId];\n\n        const decimals = assetMetadata.units.find(\n          (unit) =>\n            unit.name === assetMetadata.name &&\n            unit.symbol === assetMetadata.symbol,\n        )?.decimals;\n\n        if (!balance || decimals === undefined) {\n          continue;\n        }\n\n        const rawBalance = parseBalanceWithDecimals(balance.amount, decimals);\n\n        if (!rawBalance) {\n          continue;\n        }\n\n        const fiatData = getFiatBalanceForMultichainAsset(\n          balance,\n          multichainConversionRates,\n          assetId,\n        );\n\n        // TODO: We shouldn't have to rely on fallbacks for name and symbol, they should not be optional\n        groupChainAssets.push({\n          accountType: type as MultichainAccountType,\n          assetId,\n          isNative: caipAsset.assetNamespace === 'slip44',\n          image: assetMetadata.iconUrl,\n          name: assetMetadata.name ?? assetMetadata.symbol ?? asset,\n          symbol: assetMetadata.symbol ?? asset,\n          accountId,\n          decimals,\n          rawBalance,\n          balance: balance.amount,\n          fiat: fiatData\n            ? {\n                balance: fiatData.balance,\n                currency: currentCurrency,\n                conversionRate: fiatData.conversionRate,\n              }\n            : undefined,\n          chainId,\n        });\n      }\n    }\n\n    return groupAssets;\n  },\n);\n\nexport const selectAllAssets = createAssetListSelector(\n  [\n    selectAllEvmAssets,\n    selectAllMultichainAssets,\n    selectAllEvmAccountNativeBalances,\n  ],\n  (evmAssets, multichainAssets, evmAccountNativeBalances) => {\n    const groupAssets: AssetsByAccountGroup = {};\n\n    mergeAssets(groupAssets, evmAssets);\n\n    mergeAssets(groupAssets, multichainAssets);\n\n    mergeAssets(groupAssets, evmAccountNativeBalances);\n\n    return groupAssets;\n  },\n);\n\nexport type SelectAccountGroupAssetOpts = {\n  filterTronStakedTokens: boolean;\n};\n\nconst defaultSelectAccountGroupAssetOpts: SelectAccountGroupAssetOpts = {\n  filterTronStakedTokens: true,\n};\n\nconst filterTronStakedTokens = (assetsByAccountGroup: AccountGroupAssets) => {\n  const newAssetsByAccountGroup = { ...assetsByAccountGroup };\n\n  Object.values(TrxScope).forEach((tronChainId) => {\n    if (!newAssetsByAccountGroup[tronChainId]) {\n      return;\n    }\n\n    newAssetsByAccountGroup[tronChainId] = newAssetsByAccountGroup[\n      tronChainId\n    ].filter((asset: Asset) => {\n      if (\n        asset.chainId.startsWith('tron:') &&\n        TRON_RESOURCE_SYMBOLS_SET.has(\n          asset.symbol?.toLowerCase() as TronResourceSymbol,\n        )\n      ) {\n        return false;\n      }\n      return true;\n    });\n  });\n\n  return newAssetsByAccountGroup;\n};\n\nexport const selectAssetsBySelectedAccountGroup = createAssetListSelector(\n  [\n    selectAllAssets,\n    (state) => state.accountTree,\n    (\n      _state,\n      opts: SelectAccountGroupAssetOpts = defaultSelectAccountGroupAssetOpts,\n    ) => opts,\n  ],\n  (groupAssets, accountTree, opts) => {\n    const { selectedAccountGroup } = accountTree;\n    if (!selectedAccountGroup) {\n      return {};\n    }\n\n    let result = groupAssets[selectedAccountGroup] || {};\n\n    if (opts.filterTronStakedTokens) {\n      result = filterTronStakedTokens(result);\n    }\n\n    return result;\n  },\n  {\n    memoize: weakMapMemoize,\n    argsMemoize: weakMapMemoize,\n  },\n);\n\n// TODO: Once native assets are part of the evm tokens state, this function can be simplified as chains will always be unique\n/**\n * Merges the new assets into the existing assets\n *\n * @param existingAssets - The existing assets\n * @param newAssets - The new assets\n */\nfunction mergeAssets(\n  existingAssets: AssetsByAccountGroup,\n  newAssets: AssetsByAccountGroup,\n) {\n  for (const [accountGroupId, accountAssets] of Object.entries(newAssets) as [\n    AccountGroupId,\n    AccountGroupAssets,\n  ][]) {\n    const existingAccountGroupAssets = existingAssets[accountGroupId];\n\n    if (!existingAccountGroupAssets) {\n      existingAssets[accountGroupId] = {};\n      for (const [network, chainAssets] of Object.entries(accountAssets)) {\n        existingAssets[accountGroupId][network] = [...chainAssets];\n      }\n    } else {\n      for (const [network, chainAssets] of Object.entries(accountAssets)) {\n        existingAccountGroupAssets[network] ??= [];\n        existingAccountGroupAssets[network].push(...chainAssets);\n      }\n    }\n  }\n}\n\n/**\n * @param rawBalance - The balance of the token\n * @param decimals - The decimals of the token\n * @param marketData - The market data for the token\n * @param currencyRates - The currency rates for the token\n * @param chainId - The chain id of the token\n * @param tokenAddress - The address of the token\n * @returns The price and currency of the token in the current currency. Returns undefined if the asset is not found in the market data or currency rates.\n */\nfunction getFiatBalanceForEvmToken(\n  rawBalance: Hex,\n  decimals: number,\n  marketData: TokenRatesControllerState['marketData'],\n  currencyRates: CurrencyRateState['currencyRates'],\n  chainId: Hex,\n  tokenAddress: Hex,\n) {\n  const tokenMarketData = marketData[chainId]?.[tokenAddress];\n\n  if (!tokenMarketData) {\n    return undefined;\n  }\n\n  const currencyRate = currencyRates[tokenMarketData.currency];\n\n  if (!currencyRate?.conversionRate) {\n    return undefined;\n  }\n\n  const fiatBalance =\n    (convertHexToDecimal(rawBalance) / 10 ** decimals) *\n    tokenMarketData.price *\n    currencyRate.conversionRate;\n\n  return {\n    balance: fiatBalance,\n    conversionRate: currencyRate.conversionRate,\n  };\n}\n\n/**\n * @param balance - The balance of the asset, in the format { amount: string; unit: string }\n * @param balance.amount - The amount of the balance\n * @param balance.unit - The unit of the balance\n * @param multichainConversionRates - The conversion rates for the multichain asset\n * @param assetId - The asset id of the asset\n * @returns The price and currency of the token in the current currency. Returns undefined if the asset is not found in the conversion rates.\n */\nfunction getFiatBalanceForMultichainAsset(\n  balance: { amount: string; unit: string },\n  multichainConversionRates: MultichainAssetsRatesControllerState['conversionRates'],\n  assetId: `${string}:${string}/${string}:${string}`,\n) {\n  const assetMarketData = multichainConversionRates[assetId];\n\n  if (!assetMarketData?.rate) {\n    return undefined;\n  }\n\n  return {\n    balance: Number(balance.amount) * Number(assetMarketData.rate),\n    conversionRate: Number(assetMarketData.rate),\n  };\n}\n"]}
\ No newline at end of file
