diff --git a/dist/bundle.js b/dist/bundle.js
index 94dabd853d28087cfad6deb876e34ce4e9611415..0719870022422528280f3b4b2a82900e72b39887 100644
--- a/dist/bundle.js
+++ b/dist/bundle.js
@@ -1 +1 @@
-(()=>{var e={33:(e,t,n)=>{var r=n(9968),o=n(9756),i=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];e.exports=function(e,t){return r(i,(function(n){var r="_."+n[0];t&n[1]&&!o(e,r)&&e.push(r)})),e.sort()}},88:(e,t,n)=>{var r=n(4700);e.exports=function(e){return r(this,e).get(e)}},125:(e,t,n)=>{var r=n(9032),o=n(5288);e.exports=function(e,t){return e&&r(t,o(t),e)}},155:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},195:(e,t,n)=>{var r=n(4882),o=n(8121),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},282:e=>{e.exports=a,a.default=a,a.stable=l,a.stableStringify=l;var t="[...]",n="[Circular]",r=[],o=[];function i(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function a(e,t,n,a){var s;void 0===a&&(a=i()),c(e,"",0,[],void 0,0,a);try{s=0===o.length?JSON.stringify(e,t,n):JSON.stringify(e,f(t),n)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==r.length;){var u=r.pop();4===u.length?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}}return s}function s(e,t,n,i){var a=Object.getOwnPropertyDescriptor(i,n);void 0!==a.get?a.configurable?(Object.defineProperty(i,n,{value:e}),r.push([i,n,t,a])):o.push([t,n,e]):(i[n]=e,r.push([i,n,t]))}function c(e,r,o,i,a,u,l){var d;if(u+=1,"object"==typeof e&&null!==e){for(d=0;d<i.length;d++)if(i[d]===e)return void s(n,e,r,a);if(void 0!==l.depthLimit&&u>l.depthLimit)return void s(t,e,r,a);if(void 0!==l.edgesLimit&&o+1>l.edgesLimit)return void s(t,e,r,a);if(i.push(e),Array.isArray(e))for(d=0;d<e.length;d++)c(e[d],d,d,i,e,u,l);else{var f=Object.keys(e);for(d=0;d<f.length;d++){var h=f[d];c(e[h],h,d,i,e,u,l)}}i.pop()}}function u(e,t){return e<t?-1:e>t?1:0}function l(e,t,n,a){void 0===a&&(a=i());var s,c=d(e,"",0,[],void 0,0,a)||e;try{s=0===o.length?JSON.stringify(c,t,n):JSON.stringify(c,f(t),n)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==r.length;){var u=r.pop();4===u.length?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}}return s}function d(e,o,i,a,c,l,f){var h;if(l+=1,"object"==typeof e&&null!==e){for(h=0;h<a.length;h++)if(a[h]===e)return void s(n,e,o,c);try{if("function"==typeof e.toJSON)return}catch(e){return}if(void 0!==f.depthLimit&&l>f.depthLimit)return void s(t,e,o,c);if(void 0!==f.edgesLimit&&i+1>f.edgesLimit)return void s(t,e,o,c);if(a.push(e),Array.isArray(e))for(h=0;h<e.length;h++)d(e[h],h,h,a,e,l,f);else{var p={},g=Object.keys(e).sort(u);for(h=0;h<g.length;h++){var m=g[h];d(e[m],m,h,a,e,l,f),p[m]=e[m]}if(void 0===c)return p;r.push([c,o,e]),c[o]=p}a.pop()}}function f(e){return e=void 0!==e?e:function(e,t){return t},function(t,n){if(o.length>0)for(var r=0;r<o.length;r++){var i=o[r];if(i[1]===t&&i[0]===n){n=i[2],o.splice(r,1);break}}return e.call(this,t,n)}}},313:(e,t,n)=>{var r=n(1129),o=n(714);e.exports=function e(t,n,i,a,s){var c=-1,u=t.length;for(i||(i=o),s||(s=[]);++c<u;){var l=t[c];n>0&&i(l)?n>1?e(l,n-1,i,a,s):r(s,l):a||(s[s.length]=l)}return s}},353:(e,t,n)=>{var r=n(1340),o=n(3934),i=n(8861),a=n(1182),s=n(8486),c=n(3142),u=n(5853),l=n(8666),d="[object Arguments]",f="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,m,y){var v=c(e),w=c(t),A=v?f:s(e),b=w?f:s(t),S=(A=A==d?h:A)==h,E=(b=b==d?h:b)==h,x=A==b;if(x&&u(e)){if(!u(t))return!1;v=!0,S=!1}if(x&&!S)return y||(y=new r),v||l(e)?o(e,t,n,g,m,y):i(e,t,A,n,g,m,y);if(!(1&n)){var T=S&&p.call(e,"__wrapped__"),k=E&&p.call(t,"__wrapped__");if(T||k){var I=T?e.value():e,_=k?t.value():t;return y||(y=new r),m(I,_,n,g,y)}}return!!x&&(y||(y=new r),a(e,t,n,g,m,y))}},358:(e,t,n)=>{var r=n(6137),o=n(3283),i=n(3142),a=n(5853),s=n(9632),c=n(8666),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),l=!n&&o(e),d=!n&&!l&&a(e),f=!n&&!l&&!d&&c(e),h=n||l||d||f,p=h?r(e.length,String):[],g=p.length;for(var m in e)!t&&!u.call(e,m)||h&&("length"==m||d&&("offset"==m||"parent"==m)||f&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,g))||p.push(m);return p}},393:(e,t,n)=>{var r=n(8244),o=n(7979),i=n(1211);e.exports=function(e){return r(e,i,o)}},424:(e,t,n)=>{var r=n(8898),o=n(2480),i=n(8340),a=n(8069),s=n(2264);e.exports=function(e,t,n){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return o(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return i(e);case"[object Symbol]":return a(e)}}},441:(e,t,n)=>{var r=n(7379),o=n(547),i=n(8360);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!i(e)}},528:(e,t,n)=>{var r=n(9747),o=n(5962);function i(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}i.prototype=r(o.prototype),i.prototype.constructor=i,e.exports=i},547:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},674:(e,t,n)=>{var r=n(7379),o=n(5387),i=n(547),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},714:(e,t,n)=>{var r=n(5650),o=n(3283),i=n(3142),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||o(e)||!!(a&&e&&e[a])}},777:(e,t,n)=>{var r=n(8486),o=n(547);e.exports=function(e){return o(e)&&"[object Map]"==r(e)}},796:(e,t,n)=>{var r=n(7403),o=n(3316)(r);e.exports=o},864:(e,t,n)=>{var r=n(8638),o=n(1439),i=o((function(e,t){return r(e,256,void 0,void 0,void 0,t)}));e.exports=i},961:(e,t,n)=>{var r=n(3476),o=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+"",n=r[t],i=o.call(r,t)?n.length:0;i--;){var a=n[i],s=a.func;if(null==s||s==e)return a.name}return t}},1048:(e,t,n)=>{"use strict";const r=n(7991),o=n(9318),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.hp=c,t.IS=50;const a=2147483647;function s(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return u(e,t,n)}function u(e,t,n){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|g(e,t);let r=s(n);const o=r.write(e,t);o!==n&&(r=r.slice(0,o));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(J(e,Uint8Array)){const t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(J(e,ArrayBuffer)||e&&J(e.buffer,ArrayBuffer))return h(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(J(e,SharedArrayBuffer)||e&&J(e.buffer,SharedArrayBuffer)))return h(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return c.from(r,t,n);const o=function(e){if(c.isBuffer(e)){const t=0|p(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!=typeof e.length||Z(e.length)?s(0):f(e);if("Buffer"===e.type&&Array.isArray(e.data))return f(e.data)}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return l(e),s(e<0?0:0|p(e))}function f(e){const t=e.length<0?0:0|p(e.length),n=s(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function h(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,c.prototype),r}function p(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function g(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||J(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return K(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(e).length;default:if(o)return r?-1:K(e).length;t=(""+t).toLowerCase(),o=!0}}function m(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,n);case"utf8":case"utf-8":return k(this,t,n);case"ascii":return _(this,t,n);case"latin1":case"binary":return C(this,t,n);case"base64":return T(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Z(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:w(e,t,n,r,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):w(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function w(e,t,n,r,o){let i,a=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){let r=-1;for(i=n;i<s;i++)if(u(e,i)===u(t,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===c)return r*a}else-1!==r&&(i-=i-r),r=-1}else for(n+c>s&&(n=s-c),i=n;i>=0;i--){let n=!0;for(let r=0;r<c;r++)if(u(e,i+r)!==u(t,r)){n=!1;break}if(n)return i}return-1}function A(e,t,n,r){n=Number(n)||0;const o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;const i=t.length;let a;for(r>i/2&&(r=i/2),a=0;a<r;++a){const r=parseInt(t.substr(2*a,2),16);if(Z(r))return a;e[n+a]=r}return a}function b(e,t,n,r){return H(K(t,e.length-n),e,n,r)}function S(e,t,n,r){return H(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return H(G(t),e,n,r)}function x(e,t,n,r){return H(function(e,t){let n,r,o;const i=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function T(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function k(e,t,n){n=Math.min(e.length,n);const r=[];let o=t;for(;o<n;){const t=e[o];let i=null,a=t>239?4:t>223?3:t>191?2:1;if(o+a<=n){let n,r,s,c;switch(a){case 1:t<128&&(i=t);break;case 2:n=e[o+1],128==(192&n)&&(c=(31&t)<<6|63&n,c>127&&(i=c));break;case 3:n=e[o+1],r=e[o+2],128==(192&n)&&128==(192&r)&&(c=(15&t)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:n=e[o+1],r=e[o+2],s=e[o+3],128==(192&n)&&128==(192&r)&&128==(192&s)&&(c=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&s,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,a=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=a}return function(e){const t=e.length;if(t<=I)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=I));return n}(r)}c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,n){return u(e,t,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,n){return function(e,t,n){return l(e),e<=0?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},c.allocUnsafe=function(e){return d(e)},c.allocUnsafeSlow=function(e){return d(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(J(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),J(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=c.allocUnsafe(t);let o=0;for(n=0;n<e.length;++n){let t=e[n];if(J(t,Uint8Array))o+t.length>r.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(r,o)):Uint8Array.prototype.set.call(r,t,o);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,o)}o+=t.length}return r},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?k(this,0,e):m.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const n=t.IS;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},i&&(c.prototype[i]=c.prototype.inspect),c.prototype.compare=function(e,t,n,r,o){if(J(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;let i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0);const s=Math.min(i,a),u=this.slice(r,o),l=e.slice(t,n);for(let e=0;e<s;++e)if(u[e]!==l[e]){i=u[e],a=l[e];break}return i<a?-1:a<i?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return A(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":case"latin1":case"binary":return S(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const I=4096;function _(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function C(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function R(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let o="";for(let r=t;r<n;++r)o+=Y[e[r]];return o}function P(e,t,n){const r=e.slice(t,n);let o="";for(let e=0;e<r.length-1;e+=2)o+=String.fromCharCode(r[e]+256*r[e+1]);return o}function O(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,n,r,o,i){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function B(e,t,n,r,o){F(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function z(e,t,n,r,o){F(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n+7]=i,i>>=8,e[n+6]=i,i>>=8,e[n+5]=i,i>>=8,e[n+4]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function M(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(e,t,n,r,i){return t=+t,n>>>=0,i||M(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function U(e,t,n,r,i){return t=+t,n>>>=0,i||M(e,0,n,8),o.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);let r=this[e+--t],o=1;for(;t>0&&(o*=256);)r+=this[e+--t]*o;return r},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=X((function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))})),c.prototype.readBigUInt64BE=X((function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)})),c.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);let r=t,o=1,i=this[e+--r];for(;r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},c.prototype.readInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||O(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){e>>>=0,t||O(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=X((function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=X((function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||O(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||O(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||O(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||O(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){N(this,e,t,n,Math.pow(2,8*n)-1,0)}let o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){N(this,e,t,n,Math.pow(2,8*n)-1,0)}let o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=X((function(e,t=0){return B(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=X((function(e,t=0){return z(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);N(this,e,t,n,r-1,-r)}let o=0,i=1,a=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);N(this,e,t,n,r-1,-r)}let o=n-1,i=1,a=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=X((function(e,t=0){return B(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=X((function(e,t=0){return z(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,n){return j(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return j(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const o=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{const i=c.isBuffer(e)?e:c.from(e,r),a=i.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=i[o%a]}return this};const D={};function L(e,t,n){D[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function $(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function F(e,t,n,r,o,i){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let o;throw o=i>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new D.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,n){q(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||W(t,e.length-(n+1))}(r,o,i)}function q(e,t){if("number"!=typeof e)throw new D.ERR_INVALID_ARG_TYPE(t,"number",e)}function W(e,t,n){if(Math.floor(e)!==e)throw q(e,n),new D.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new D.ERR_BUFFER_OUT_OF_BOUNDS;throw new D.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}L("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),L("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),L("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=$(String(n)):"bigint"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=$(o)),o+="n"),r+=` It must be ${t}. Received ${o}`,r}),RangeError);const V=/[^+/0-9A-Za-z-_]/g;function K(e,t){let n;t=t||1/0;const r=e.length;let o=null;const i=[];for(let a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function G(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,n,r){let o;for(o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function J(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Z(e){return e!=e}const Y=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let o=0;o<16;++o)t[r+o]=e[n]+e[o]}return t}();function X(e){return"undefined"==typeof BigInt?Q:e}function Q(){throw new Error("BigInt not supported")}},1112:(e,t,n)=>{var r=n(4497),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},1129:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},1182:(e,t,n)=>{var r=n(393),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,a,s){var c=1&n,u=r(e),l=u.length;if(l!=r(t).length&&!c)return!1;for(var d=l;d--;){var f=u[d];if(!(c?f in t:o.call(t,f)))return!1}var h=s.get(e),p=s.get(t);if(h&&p)return h==t&&p==e;var g=!0;s.set(e,t),s.set(t,e);for(var m=c;++d<l;){var y=e[f=u[d]],v=t[f];if(i)var w=c?i(v,y,f,t,e,s):i(y,v,f,e,t,s);if(!(void 0===w?y===v||a(y,v,n,i,s):w)){g=!1;break}m||(m="constructor"==f)}if(g&&!m){var A=e.constructor,b=t.constructor;A==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof A&&A instanceof A&&"function"==typeof b&&b instanceof b||(g=!1)}return s.delete(e),s.delete(t),g}},1187:(e,t,n)=>{var r=n(7379),o=n(547);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},1211:(e,t,n)=>{var r=n(358),o=n(195),i=n(6529);e.exports=function(e){return i(e)?r(e):o(e)}},1340:(e,t,n)=>{var r=n(1386),o=n(4103),i=n(1779),a=n(4162),s=n(7462),c=n(6638);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=o,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=s,u.prototype.set=c,e.exports=u},1386:(e,t,n)=>{var r=n(2393),o=n(2049),i=n(7144),a=n(7452),s=n(3964);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},1439:(e,t,n)=>{var r=n(5857),o=n(5234),i=n(796);e.exports=function(e){return i(o(e,void 0,r),e+"")}},1580:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},1623:(e,t,n)=>{var r=n(8942).Uint8Array;e.exports=r},1779:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},1877:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1935:(e,t,n)=>{var r=n(8486),o=n(547);e.exports=function(e){return o(e)&&"[object Set]"==r(e)}},1942:(e,t,n)=>{var r=n(528),o=n(1439),i=n(5196),a=n(961),s=n(3142),c=n(6648);e.exports=function(e){return o((function(t){var n=t.length,o=n,u=r.prototype.thru;for(e&&t.reverse();o--;){var l=t[o];if("function"!=typeof l)throw new TypeError("Expected a function");if(u&&!d&&"wrapper"==a(l))var d=new r([],!0)}for(o=d?o:n;++o<n;){l=t[o];var f=a(l),h="wrapper"==f?i(l):void 0;d=h&&c(h[0])&&424==h[1]&&!h[4].length&&1==h[9]?d[a(h[0])].apply(d,h[3]):1==l.length&&c(l)?d[f]():d.thru(l)}return function(){var e=arguments,r=e[0];if(d&&1==e.length&&s(r))return d.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}}))}},1950:(e,t,n)=>{var r=n(8942)["__core-js_shared__"];e.exports=r},2049:(e,t,n)=>{var r=n(7034),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},2053:e=>{e.exports=function(e){return e}},2264:(e,t,n)=>{var r=n(8898);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},2291:(e,t,n)=>{var r=n(5650),o=n(5111),i=n(3142),a=n(1187),s=r?r.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},2306:(e,t,n)=>{e=n.nmd(e);var r=n(4967),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s},2343:(e,t,n)=>{var r=n(4687),o=n(6123),i=n(7276),a=n(5187),s=n(7267),c=n(3904),u=n(6040);e.exports=function(e,t){return a(e)&&s(t)?c(u(e),t):function(n){var a=o(n,e);return void 0===a&&a===t?i(n,e):r(t,a,3)}}},2393:e=>{e.exports=function(){this.__data__=[],this.size=0}},2443:(e,t,n)=>{var r=n(6912),o=n(4364),i=n(3504),a=n(4216),s=n(6850),c=n(8813),u=n(8942);e.exports=function(e,t,n){var l=o(e);return function o(){for(var d=arguments.length,f=Array(d),h=d,p=s(o);h--;)f[h]=arguments[h];var g=d<3&&f[0]!==p&&f[d-1]!==p?[]:c(f,p);return(d-=g.length)<n?a(e,t,i,o.placeholder,void 0,f,g,void 0,void 0,n-d):r(this&&this!==u&&this instanceof o?l:e,this,f)}}},2478:(e,t,n)=>{var r=n(7250),o=n(9454),i=n(7706);e.exports=function(e,t,n){return t==t?i(e,t,n):r(e,o,n)}},2480:(e,t,n)=>{var r=n(8898);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},2532:(e,t,n)=>{var r=n(4715),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},2590:(e,t,n)=>{var r=n(9334),o=n(3334);e.exports=function(e){return o("function"==typeof e?e:r(e,1))}},2613:(e,t,n)=>{var r=n(5111),o=n(4354),i=n(3142),a=n(1187),s=n(6493),c=n(6040),u=n(5243);e.exports=function(e){return i(e)?r(e,c):a(e)?[e]:o(s(u(e)))}},2619:e=>{e.exports=function(e){return function(){return e}}},2673:(e,t,n)=>{var r=n(3579),o=n(8055);e.exports=function(e,t,n){return r(o,e,t,n)}},2762:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},2784:(e,t,n)=>{var r=n(1580),o=n(4495),i=n(6131),a=Math.max,s=Math.min;e.exports=function(e,t,n){var c,u,l,d,f,h,p=0,g=!1,m=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=c,r=u;return c=u=void 0,p=t,d=e.apply(r,n)}function w(e){var n=e-h;return void 0===h||n>=t||n<0||m&&e-p>=l}function A(){var e=o();if(w(e))return b(e);f=setTimeout(A,function(e){var n=t-(e-h);return m?s(n,l-(e-p)):n}(e))}function b(e){return f=void 0,y&&c?v(e):(c=u=void 0,d)}function S(){var e=o(),n=w(e);if(c=arguments,u=this,h=e,n){if(void 0===f)return function(e){return p=e,f=setTimeout(A,t),g?v(e):d}(h);if(m)return clearTimeout(f),f=setTimeout(A,t),v(h)}return void 0===f&&(f=setTimeout(A,t)),d}return t=i(t)||0,r(n)&&(g=!!n.leading,l=(m="maxWait"in n)?a(i(n.maxWait)||0,t):l,y="trailing"in n?!!n.trailing:y),S.cancel=function(){void 0!==f&&clearTimeout(f),p=0,c=h=u=f=void 0},S.flush=function(){return void 0===f?d:b(o())},S}},2846:(e,t,n)=>{var r=n(9334);e.exports=function(e){return r(e,4)}},2879:(e,t,n)=>{var r=n(1942)();e.exports=r},2945:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},2991:e=>{e.exports={}},3092:(e,t,n)=>{var r=n(2673)("flow",n(2879));r.placeholder=n(2991),e.exports=r},3103:(e,t,n)=>{var r=n(4715)(n(8942),"DataView");e.exports=r},3142:e=>{var t=Array.isArray;e.exports=t},3212:(e,t,n)=>{var r=n(8250),o=n(1877),i=n(8006);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},3282:(e,t,n)=>{var r=n(2762),o=n(8880),i=n(5187),a=n(6040);e.exports=function(e){return i(e)?r(a(e)):o(e)}},3283:(e,t,n)=>{var r=n(6027),o=n(547),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},3301:(e,t,n)=>{var r=n(6131),o=1/0;e.exports=function(e){return e?(e=r(e))===o||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},3305:(e,t,n)=>{var r=n(4497);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},3316:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var o=t(),i=16-(o-r);if(r=o,i>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},3321:(e,t,n)=>{var r=n(7553),o=n(528),i=n(5962),a=n(3142),s=n(547),c=n(3410),u=Object.prototype.hasOwnProperty;function l(e){if(s(e)&&!a(e)&&!(e instanceof r)){if(e instanceof o)return e;if(u.call(e,"__wrapped__"))return c(e)}return new o(e)}l.prototype=i.prototype,l.prototype.constructor=l,e.exports=l},3334:(e,t,n)=>{var r=n(6526),o=n(2343),i=n(2053),a=n(3142),s=n(3282);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?a(e)?o(e[0],e[1]):r(e):s(e)}},3410:(e,t,n)=>{var r=n(7553),o=n(528),i=n(4354);e.exports=function(e){if(e instanceof r)return e.clone();var t=new o(e.__wrapped__,e.__chain__);return t.__actions__=i(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},3422:(e,t,n)=>{var r=n(7073),o=n(6285),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},3476:e=>{e.exports={}},3504:(e,t,n)=>{var r=n(4977),o=n(5755),i=n(3816),a=n(4364),s=n(4216),c=n(6850),u=n(6591),l=n(8813),d=n(8942);e.exports=function e(t,n,f,h,p,g,m,y,v,w){var A=128&n,b=1&n,S=2&n,E=24&n,x=512&n,T=S?void 0:a(t);return function k(){for(var I=arguments.length,_=Array(I),C=I;C--;)_[C]=arguments[C];if(E)var R=c(k),P=i(_,R);if(h&&(_=r(_,h,p,E)),g&&(_=o(_,g,m,E)),I-=P,E&&I<w){var O=l(_,R);return s(t,n,e,k.placeholder,f,_,O,y,v,w-I)}var N=b?f:this,B=S?N[t]:t;return I=_.length,y?_=u(_,y):x&&I>1&&_.reverse(),A&&v<I&&(_.length=v),this&&this!==d&&this instanceof k&&(B=T||a(B)),B.apply(N,_)}}},3526:(e,t,n)=>{var r=n(3142),o=n(5187),i=n(6493),a=n(5243);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},3546:(e,t,n)=>{var r=n(9032),o=n(7979);e.exports=function(e,t){return r(e,o(e),t)}},3565:(e,t)=>{t.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},t.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,n=t.aliasToReal,r={};for(var o in n){var i=n[o];e.call(r,i)?r[i].push(o):r[i]=[o]}return r}(),t.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},3579:(e,t,n)=>{var r=n(3565),o=n(2991),i=Array.prototype.push;function a(e,t){return 2==t?function(t,n){return e(t,n)}:function(t){return e(t)}}function s(e){for(var t=e?e.length:0,n=Array(t);t--;)n[t]=e[t];return n}function c(e,t){return function(){var n=arguments.length;if(n){for(var r=Array(n);n--;)r[n]=arguments[n];var o=r[0]=t.apply(void 0,r);return e.apply(void 0,r),o}}}e.exports=function e(t,n,u,l){var d="function"==typeof n,f=n===Object(n);if(f&&(l=u,u=n,n=void 0),null==u)throw new TypeError;l||(l={});var h={cap:!("cap"in l)||l.cap,curry:!("curry"in l)||l.curry,fixed:!("fixed"in l)||l.fixed,immutable:!("immutable"in l)||l.immutable,rearg:!("rearg"in l)||l.rearg},p=d?u:o,g="curry"in l&&l.curry,m="fixed"in l&&l.fixed,y="rearg"in l&&l.rearg,v=d?u.runInContext():void 0,w=d?u:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},A=w.ary,b=w.assign,S=w.clone,E=w.curry,x=w.forEach,T=w.isArray,k=w.isError,I=w.isFunction,_=w.isWeakMap,C=w.keys,R=w.rearg,P=w.toInteger,O=w.toPath,N=C(r.aryMethod),B={castArray:function(e){return function(){var t=arguments[0];return T(t)?e(s(t)):e.apply(void 0,arguments)}},iteratee:function(e){return function(){var t=arguments[1],n=e(arguments[0],t),r=n.length;return h.cap&&"number"==typeof t?(t=t>2?t-2:1,r&&r<=t?n:a(n,t)):n}},mixin:function(e){return function(t){var n=this;if(!I(n))return e(n,Object(t));var r=[];return x(C(t),(function(e){I(t[e])&&r.push([e,n.prototype[e]])})),e(n,Object(t)),x(r,(function(e){var t=e[1];I(t)?n.prototype[e[0]]=t:delete n.prototype[e[0]]})),n}},nthArg:function(e){return function(t){var n=t<0?1:P(t)+1;return E(e(t),n)}},rearg:function(e){return function(t,n){var r=n?n.length:0;return E(e(t,n),r)}},runInContext:function(n){return function(r){return e(t,n(r),l)}}};function z(e,t){if(h.cap){var n=r.iterateeRearg[e];if(n)return function(e,t){return L(e,(function(e){var n=t.length;return function(e,t){return 2==t?function(t,n){return e.apply(void 0,arguments)}:function(t){return e.apply(void 0,arguments)}}(R(a(e,n),t),n)}))}(t,n);var o=!d&&r.iterateeAry[e];if(o)return function(e,t){return L(e,(function(e){return"function"==typeof e?a(e,t):e}))}(t,o)}return t}function M(e,t,n){if(h.fixed&&(m||!r.skipFixed[e])){var o=r.methodSpread[e],a=o&&o.start;return void 0===a?A(t,n):function(e,t){return function(){for(var n=arguments.length,r=n-1,o=Array(n);n--;)o[n]=arguments[n];var a=o[t],s=o.slice(0,t);return a&&i.apply(s,a),t!=r&&i.apply(s,o.slice(t+1)),e.apply(this,s)}}(t,a)}return t}function j(e,t,n){return h.rearg&&n>1&&(y||!r.skipRearg[e])?R(t,r.methodRearg[e]||r.aryRearg[n]):t}function U(e,t){for(var n=-1,r=(t=O(t)).length,o=r-1,i=S(Object(e)),a=i;null!=a&&++n<r;){var s=t[n],c=a[s];null==c||I(c)||k(c)||_(c)||(a[s]=S(n==o?c:Object(c))),a=a[s]}return i}function D(t,n){var o=r.aliasToReal[t]||t,i=r.remap[o]||o,a=l;return function(t){var r=d?v:w,s=d?v[i]:n,c=b(b({},a),t);return e(r,o,s,c)}}function L(e,t){return function(){var n=arguments.length;if(!n)return e();for(var r=Array(n);n--;)r[n]=arguments[n];var o=h.rearg?0:n-1;return r[o]=t(r[o]),e.apply(void 0,r)}}function $(e,t,n){var o,i=r.aliasToReal[e]||e,a=t,u=B[i];return u?a=u(t):h.immutable&&(r.mutate.array[i]?a=c(t,s):r.mutate.object[i]?a=c(t,function(e){return function(t){return e({},t)}}(t)):r.mutate.set[i]&&(a=c(t,U))),x(N,(function(e){return x(r.aryMethod[e],(function(t){if(i==t){var n=r.methodSpread[i],s=n&&n.afterRearg;return o=s?M(i,j(i,a,e),e):j(i,M(i,a,e),e),o=function(e,t,n){return g||h.curry&&n>1?E(t,n):t}(0,o=z(i,o),e),!1}})),!o})),o||(o=a),o==t&&(o=g?E(o,1):function(){return t.apply(this,arguments)}),o.convert=D(i,t),o.placeholder=t.placeholder=n,o}if(!f)return $(n,u,p);var F=u,q=[];return x(N,(function(e){x(r.aryMethod[e],(function(e){var t=F[r.remap[e]||e];t&&q.push([e,$(e,t,F)])}))})),x(C(F),(function(e){var t=F[e];if("function"==typeof t){for(var n=q.length;n--;)if(q[n][0]==e)return;t.convert=D(e,t),q.push([e,t])}})),x(q,(function(e){F[e[0]]=e[1]})),F.convert=function(e){return F.runInContext.convert(e)(void 0)},F.placeholder=F,x(C(F),(function(e){x(r.realToAlias[e]||[],(function(t){F[t]=F[e]}))})),F}},3636:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},3650:(e,t,n)=>{var r=n(8244),o=n(5832),i=n(5288);e.exports=function(e){return r(e,i,o)}},3655:(e,t,n)=>{var r=n(7379),o=n(1580);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},3766:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},3804:(e,t,n)=>{e.exports=n(3092)},3816:e=>{e.exports=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}},3904:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},3934:(e,t,n)=>{var r=n(3212),o=n(6465),i=n(5568);e.exports=function(e,t,n,a,s,c){var u=1&n,l=e.length,d=t.length;if(l!=d&&!(u&&d>l))return!1;var f=c.get(e),h=c.get(t);if(f&&h)return f==t&&h==e;var p=-1,g=!0,m=2&n?new r:void 0;for(c.set(e,t),c.set(t,e);++p<l;){var y=e[p],v=t[p];if(a)var w=u?a(v,y,p,t,e,c):a(y,v,p,e,t,c);if(void 0!==w){if(w)continue;g=!1;break}if(m){if(!o(t,(function(e,t){if(!i(m,t)&&(y===e||s(y,e,n,a,c)))return m.push(t)}))){g=!1;break}}else if(y!==v&&!s(y,v,n,a,c)){g=!1;break}}return c.delete(e),c.delete(t),g}},3943:(e,t,n)=>{var r=n(1935),o=n(9460),i=n(2306),a=i&&i.isSet,s=a?o(a):r;e.exports=s},3964:(e,t,n)=>{var r=n(7034);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},4066:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},4103:(e,t,n)=>{var r=n(1386);e.exports=function(){this.__data__=new r,this.size=0}},4162:e=>{e.exports=function(e){return this.__data__.get(e)}},4216:(e,t,n)=>{var r=n(6648),o=n(5512),i=n(5620);e.exports=function(e,t,n,a,s,c,u,l,d,f){var h=8&t;t|=h?32:64,4&(t&=~(h?64:32))||(t&=-4);var p=[e,t,s,h?c:void 0,h?u:void 0,h?void 0:c,h?void 0:u,l,d,f],g=n.apply(void 0,p);return r(e)&&o(g,p),g.placeholder=a,i(g,e,t)}},4255:(e,t,n)=>{var r=n(2673)("debounce",n(2784));r.placeholder=n(2991),e.exports=r},4354:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},4364:(e,t,n)=>{var r=n(9747),o=n(1580);e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=r(e.prototype),i=e.apply(n,t);return o(i)?i:n}}},4367:(e,t,n)=>{var r=n(7267),o=n(1211);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,r(a)]}return t}},4495:(e,t,n)=>{var r=n(8942);e.exports=function(){return r.Date.now()}},4497:(e,t,n)=>{var r=n(4715)(Object,"create");e.exports=r},4512:(e,t,n)=>{var r=n(4715)(n(8942),"Set");e.exports=r},4687:(e,t,n)=>{var r=n(353),o=n(547);e.exports=function e(t,n,i,a,s){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,i,a,e,s))}},4700:(e,t,n)=>{var r=n(9067);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},4715:(e,t,n)=>{var r=n(9624),o=n(155);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},4732:(e,t,n)=>{var r=n(4700);e.exports=function(e){return r(this,e).has(e)}},4733:(e,t,n)=>{var r=n(9032),o=n(5832);e.exports=function(e,t){return r(e,o(e),t)}},4759:(e,t,n)=>{var r,o=n(1950),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},4772:e=>{e.exports=function(){return!1}},4784:(e,t,n)=>{var r=n(3766)(Object.getPrototypeOf,Object);e.exports=r},4882:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},4943:(e,t,n)=>{var r=n(2053),o=n(6065),i=o?function(e,t){return o.set(e,t),e}:r;e.exports=i},4967:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},4977:e=>{var t=Math.max;e.exports=function(e,n,r,o){for(var i=-1,a=e.length,s=r.length,c=-1,u=n.length,l=t(a-s,0),d=Array(u+l),f=!o;++c<u;)d[c]=n[c];for(;++i<s;)(f||i<a)&&(d[r[i]]=e[i]);for(;l--;)d[c++]=e[i++];return d}},5071:(e,t,n)=>{var r=n(4497);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},5098:(e,t,n)=>{var r=n(3305),o=n(9361),i=n(1112),a=n(5276),s=n(5071);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},5111:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},5187:(e,t,n)=>{var r=n(3142),o=n(1187),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(a.test(e)||!i.test(e)||null!=t&&e in Object(t))}},5196:(e,t,n)=>{var r=n(6065),o=n(9071),i=r?function(e){return r.get(e)}:o;e.exports=i},5234:(e,t,n)=>{var r=n(6912),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=o(i.length-t,0),c=Array(s);++a<s;)c[a]=i[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=i[a];return u[t]=n(c),r(e,this,u)}}},5243:(e,t,n)=>{var r=n(2291);e.exports=function(e){return null==e?"":r(e)}},5250:function(e,t,n){var r;e=n.nmd(e),function(){var o,i="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",c=16,u=32,l=64,d=128,f=256,h=1/0,p=9007199254740991,g=NaN,m=4294967295,y=[["ary",d],["bind",1],["bindKey",2],["curry",8],["curryRight",c],["flip",512],["partial",u],["partialRight",l],["rearg",f]],v="[object Arguments]",w="[object Array]",A="[object Boolean]",b="[object Date]",S="[object Error]",E="[object Function]",x="[object GeneratorFunction]",T="[object Map]",k="[object Number]",I="[object Object]",_="[object Promise]",C="[object RegExp]",R="[object Set]",P="[object String]",O="[object Symbol]",N="[object WeakMap]",B="[object ArrayBuffer]",z="[object DataView]",M="[object Float32Array]",j="[object Float64Array]",U="[object Int8Array]",D="[object Int16Array]",L="[object Int32Array]",$="[object Uint8Array]",F="[object Uint8ClampedArray]",q="[object Uint16Array]",W="[object Uint32Array]",V=/\b__p \+= '';/g,K=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,H=/&(?:amp|lt|gt|quot|#39);/g,J=/[&<>"']/g,Z=RegExp(H.source),Y=RegExp(J.source),X=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oe=/[\\^$.*+?()[\]{}|]/g,ie=RegExp(oe.source),ae=/^\s+/,se=/\s/,ce=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ue=/\{\n\/\* \[wrapped with (.+)\] \*/,le=/,? & /,de=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,fe=/[()=,{}\[\]\/\s]/,he=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ge=/\w*$/,me=/^[-+]0x[0-9a-f]+$/i,ye=/^0b[01]+$/i,ve=/^\[object .+?Constructor\]$/,we=/^0o[0-7]+$/i,Ae=/^(?:0|[1-9]\d*)$/,be=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Se=/($^)/,Ee=/['\n\r\u2028\u2029\\]/g,xe="\\ud800-\\udfff",Te="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ke="\\u2700-\\u27bf",Ie="a-z\\xdf-\\xf6\\xf8-\\xff",_e="A-Z\\xc0-\\xd6\\xd8-\\xde",Ce="\\ufe0e\\ufe0f",Re="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pe="['’]",Oe="["+xe+"]",Ne="["+Re+"]",Be="["+Te+"]",ze="\\d+",Me="["+ke+"]",je="["+Ie+"]",Ue="[^"+xe+Re+ze+ke+Ie+_e+"]",De="\\ud83c[\\udffb-\\udfff]",Le="[^"+xe+"]",$e="(?:\\ud83c[\\udde6-\\uddff]){2}",Fe="[\\ud800-\\udbff][\\udc00-\\udfff]",qe="["+_e+"]",We="\\u200d",Ve="(?:"+je+"|"+Ue+")",Ke="(?:"+qe+"|"+Ue+")",Ge="(?:['’](?:d|ll|m|re|s|t|ve))?",He="(?:['’](?:D|LL|M|RE|S|T|VE))?",Je="(?:"+Be+"|"+De+")"+"?",Ze="["+Ce+"]?",Ye=Ze+Je+("(?:"+We+"(?:"+[Le,$e,Fe].join("|")+")"+Ze+Je+")*"),Xe="(?:"+[Me,$e,Fe].join("|")+")"+Ye,Qe="(?:"+[Le+Be+"?",Be,$e,Fe,Oe].join("|")+")",et=RegExp(Pe,"g"),tt=RegExp(Be,"g"),nt=RegExp(De+"(?="+De+")|"+Qe+Ye,"g"),rt=RegExp([qe+"?"+je+"+"+Ge+"(?="+[Ne,qe,"$"].join("|")+")",Ke+"+"+He+"(?="+[Ne,qe+Ve,"$"].join("|")+")",qe+"?"+Ve+"+"+Ge,qe+"+"+He,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ze,Xe].join("|"),"g"),ot=RegExp("["+We+xe+Te+Ce+"]"),it=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,at=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],st=-1,ct={};ct[M]=ct[j]=ct[U]=ct[D]=ct[L]=ct[$]=ct[F]=ct[q]=ct[W]=!0,ct[v]=ct[w]=ct[B]=ct[A]=ct[z]=ct[b]=ct[S]=ct[E]=ct[T]=ct[k]=ct[I]=ct[C]=ct[R]=ct[P]=ct[N]=!1;var ut={};ut[v]=ut[w]=ut[B]=ut[z]=ut[A]=ut[b]=ut[M]=ut[j]=ut[U]=ut[D]=ut[L]=ut[T]=ut[k]=ut[I]=ut[C]=ut[R]=ut[P]=ut[O]=ut[$]=ut[F]=ut[q]=ut[W]=!0,ut[S]=ut[E]=ut[N]=!1;var lt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},dt=parseFloat,ft=parseInt,ht="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,pt="object"==typeof self&&self&&self.Object===Object&&self,gt=ht||pt||Function("return this")(),mt=t&&!t.nodeType&&t,yt=mt&&e&&!e.nodeType&&e,vt=yt&&yt.exports===mt,wt=vt&&ht.process,At=function(){try{var e=yt&&yt.require&&yt.require("util").types;return e||wt&&wt.binding&&wt.binding("util")}catch(e){}}(),bt=At&&At.isArrayBuffer,St=At&&At.isDate,Et=At&&At.isMap,xt=At&&At.isRegExp,Tt=At&&At.isSet,kt=At&&At.isTypedArray;function It(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function _t(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function Ct(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Rt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Pt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Ot(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function Nt(e,t){return!!(null==e?0:e.length)&&qt(e,t,0)>-1}function Bt(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function zt(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function Mt(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function jt(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function Ut(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function Dt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Lt=Gt("length");function $t(e,t,n){var r;return n(e,(function(e,n,o){if(t(e,n,o))return r=n,!1})),r}function Ft(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function qt(e,t,n){return t==t?function(e,t,n){var r=n-1,o=e.length;for(;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):Ft(e,Vt,n)}function Wt(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function Vt(e){return e!=e}function Kt(e,t){var n=null==e?0:e.length;return n?Zt(e,t)/n:g}function Gt(e){return function(t){return null==t?o:t[e]}}function Ht(e){return function(t){return null==e?o:e[t]}}function Jt(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}function Zt(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);a!==o&&(n=n===o?a:n+a)}return n}function Yt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Xt(e){return e?e.slice(0,mn(e)+1).replace(ae,""):e}function Qt(e){return function(t){return e(t)}}function en(e,t){return zt(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,r=e.length;++n<r&&qt(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&qt(t,e[n],0)>-1;);return n}var on=Ht({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),an=Ht({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function sn(e){return"\\"+lt[e]}function cn(e){return ot.test(e)}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function ln(e,t){return function(n){return e(t(n))}}function dn(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];a!==t&&a!==s||(e[n]=s,i[o++]=n)}return i}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return cn(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):Lt(e)}function gn(e){return cn(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function mn(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var yn=Ht({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var vn=function e(t){var n,r=(t=null==t?gt:vn.defaults(gt.Object(),t,vn.pick(gt,at))).Array,se=t.Date,xe=t.Error,Te=t.Function,ke=t.Math,Ie=t.Object,_e=t.RegExp,Ce=t.String,Re=t.TypeError,Pe=r.prototype,Oe=Te.prototype,Ne=Ie.prototype,Be=t["__core-js_shared__"],ze=Oe.toString,Me=Ne.hasOwnProperty,je=0,Ue=(n=/[^.]+$/.exec(Be&&Be.keys&&Be.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",De=Ne.toString,Le=ze.call(Ie),$e=gt._,Fe=_e("^"+ze.call(Me).replace(oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qe=vt?t.Buffer:o,We=t.Symbol,Ve=t.Uint8Array,Ke=qe?qe.allocUnsafe:o,Ge=ln(Ie.getPrototypeOf,Ie),He=Ie.create,Je=Ne.propertyIsEnumerable,Ze=Pe.splice,Ye=We?We.isConcatSpreadable:o,Xe=We?We.iterator:o,Qe=We?We.toStringTag:o,nt=function(){try{var e=hi(Ie,"defineProperty");return e({},"",{}),e}catch(e){}}(),ot=t.clearTimeout!==gt.clearTimeout&&t.clearTimeout,lt=se&&se.now!==gt.Date.now&&se.now,ht=t.setTimeout!==gt.setTimeout&&t.setTimeout,pt=ke.ceil,mt=ke.floor,yt=Ie.getOwnPropertySymbols,wt=qe?qe.isBuffer:o,At=t.isFinite,Lt=Pe.join,Ht=ln(Ie.keys,Ie),wn=ke.max,An=ke.min,bn=se.now,Sn=t.parseInt,En=ke.random,xn=Pe.reverse,Tn=hi(t,"DataView"),kn=hi(t,"Map"),In=hi(t,"Promise"),_n=hi(t,"Set"),Cn=hi(t,"WeakMap"),Rn=hi(Ie,"create"),Pn=Cn&&new Cn,On={},Nn=Di(Tn),Bn=Di(kn),zn=Di(In),Mn=Di(_n),jn=Di(Cn),Un=We?We.prototype:o,Dn=Un?Un.valueOf:o,Ln=Un?Un.toString:o;function $n(e){if(ns(e)&&!Va(e)&&!(e instanceof Vn)){if(e instanceof Wn)return e;if(Me.call(e,"__wrapped__"))return Li(e)}return new Wn(e)}var Fn=function(){function e(){}return function(t){if(!ts(t))return{};if(He)return He(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function qn(){}function Wn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function Vn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Jn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Hn;++t<n;)this.add(e[t])}function Zn(e){var t=this.__data__=new Gn(e);this.size=t.size}function Yn(e,t){var n=Va(e),r=!n&&Wa(e),o=!n&&!r&&Ja(e),i=!n&&!r&&!o&&ls(e),a=n||r||o||i,s=a?Yt(e.length,Ce):[],c=s.length;for(var u in e)!t&&!Me.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Ai(u,c))||s.push(u);return s}function Xn(e){var t=e.length;return t?e[Jr(0,t-1)]:o}function Qn(e,t){return Mi(Po(e),cr(t,0,e.length))}function er(e){return Mi(Po(e))}function tr(e,t,n){(n!==o&&!$a(e[t],n)||n===o&&!(t in e))&&ar(e,t,n)}function nr(e,t,n){var r=e[t];Me.call(e,t)&&$a(r,n)&&(n!==o||t in e)||ar(e,t,n)}function rr(e,t){for(var n=e.length;n--;)if($a(e[n][0],t))return n;return-1}function or(e,t,n,r){return hr(e,(function(e,o,i){t(r,e,n(e),i)})),r}function ir(e,t){return e&&Oo(t,Os(t),e)}function ar(e,t,n){"__proto__"==t&&nt?nt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function sr(e,t){for(var n=-1,i=t.length,a=r(i),s=null==e;++n<i;)a[n]=s?o:Is(e,t[n]);return a}function cr(e,t,n){return e==e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function ur(e,t,n,r,i,a){var s,c=1&t,u=2&t,l=4&t;if(n&&(s=i?n(e,r,i,a):n(e)),s!==o)return s;if(!ts(e))return e;var d=Va(e);if(d){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Me.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!c)return Po(e,s)}else{var f=mi(e),h=f==E||f==x;if(Ja(e))return To(e,c);if(f==I||f==v||h&&!i){if(s=u||h?{}:vi(e),!c)return u?function(e,t){return Oo(e,gi(e),t)}(e,function(e,t){return e&&Oo(t,Ns(t),e)}(s,e)):function(e,t){return Oo(e,pi(e),t)}(e,ir(s,e))}else{if(!ut[f])return i?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case B:return ko(e);case A:case b:return new r(+e);case z:return function(e,t){var n=t?ko(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case M:case j:case U:case D:case L:case $:case F:case q:case W:return Io(e,n);case T:return new r;case k:case P:return new r(e);case C:return function(e){var t=new e.constructor(e.source,ge.exec(e));return t.lastIndex=e.lastIndex,t}(e);case R:return new r;case O:return o=e,Dn?Ie(Dn.call(o)):{}}var o}(e,f,c)}}a||(a=new Zn);var p=a.get(e);if(p)return p;a.set(e,s),ss(e)?e.forEach((function(r){s.add(ur(r,t,n,r,e,a))})):rs(e)&&e.forEach((function(r,o){s.set(o,ur(r,t,n,o,e,a))}));var g=d?o:(l?u?ai:ii:u?Ns:Os)(e);return Ct(g||e,(function(r,o){g&&(r=e[o=r]),nr(s,o,ur(r,t,n,o,e,a))})),s}function lr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ie(e);r--;){var i=n[r],a=t[i],s=e[i];if(s===o&&!(i in e)||!a(s))return!1}return!0}function dr(e,t,n){if("function"!=typeof e)throw new Re(i);return Oi((function(){e.apply(o,n)}),t)}function fr(e,t,n,r){var o=-1,i=Nt,a=!0,s=e.length,c=[],u=t.length;if(!s)return c;n&&(t=zt(t,Qt(n))),r?(i=Bt,a=!1):t.length>=200&&(i=tn,a=!1,t=new Jn(t));e:for(;++o<s;){var l=e[o],d=null==n?l:n(l);if(l=r||0!==l?l:0,a&&d==d){for(var f=u;f--;)if(t[f]===d)continue e;c.push(l)}else i(t,d,r)||c.push(l)}return c}$n.templateSettings={escape:X,evaluate:Q,interpolate:ee,variable:"",imports:{_:$n}},$n.prototype=qn.prototype,$n.prototype.constructor=$n,Wn.prototype=Fn(qn.prototype),Wn.prototype.constructor=Wn,Vn.prototype=Fn(qn.prototype),Vn.prototype.constructor=Vn,Kn.prototype.clear=function(){this.__data__=Rn?Rn(null):{},this.size=0},Kn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Kn.prototype.get=function(e){var t=this.__data__;if(Rn){var n=t[e];return n===a?o:n}return Me.call(t,e)?t[e]:o},Kn.prototype.has=function(e){var t=this.__data__;return Rn?t[e]!==o:Me.call(t,e)},Kn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Rn&&t===o?a:t,this},Gn.prototype.clear=function(){this.__data__=[],this.size=0},Gn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ze.call(t,n,1),--this.size,!0)},Gn.prototype.get=function(e){var t=this.__data__,n=rr(t,e);return n<0?o:t[n][1]},Gn.prototype.has=function(e){return rr(this.__data__,e)>-1},Gn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Hn.prototype.clear=function(){this.size=0,this.__data__={hash:new Kn,map:new(kn||Gn),string:new Kn}},Hn.prototype.delete=function(e){var t=di(this,e).delete(e);return this.size-=t?1:0,t},Hn.prototype.get=function(e){return di(this,e).get(e)},Hn.prototype.has=function(e){return di(this,e).has(e)},Hn.prototype.set=function(e,t){var n=di(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Jn.prototype.add=Jn.prototype.push=function(e){return this.__data__.set(e,a),this},Jn.prototype.has=function(e){return this.__data__.has(e)},Zn.prototype.clear=function(){this.__data__=new Gn,this.size=0},Zn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Zn.prototype.get=function(e){return this.__data__.get(e)},Zn.prototype.has=function(e){return this.__data__.has(e)},Zn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Gn){var r=n.__data__;if(!kn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Hn(r)}return n.set(e,t),this.size=n.size,this};var hr=zo(br),pr=zo(Sr,!0);function gr(e,t){var n=!0;return hr(e,(function(e,r,o){return n=!!t(e,r,o)})),n}function mr(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],s=t(a);if(null!=s&&(c===o?s==s&&!us(s):n(s,c)))var c=s,u=a}return u}function yr(e,t){var n=[];return hr(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}function vr(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=wi),o||(o=[]);++i<a;){var s=e[i];t>0&&n(s)?t>1?vr(s,t-1,n,r,o):Mt(o,s):r||(o[o.length]=s)}return o}var wr=Mo(),Ar=Mo(!0);function br(e,t){return e&&wr(e,t,Os)}function Sr(e,t){return e&&Ar(e,t,Os)}function Er(e,t){return Ot(t,(function(t){return Xa(e[t])}))}function xr(e,t){for(var n=0,r=(t=bo(t,e)).length;null!=e&&n<r;)e=e[Ui(t[n++])];return n&&n==r?e:o}function Tr(e,t,n){var r=t(e);return Va(e)?r:Mt(r,n(e))}function kr(e){return null==e?e===o?"[object Undefined]":"[object Null]":Qe&&Qe in Ie(e)?function(e){var t=Me.call(e,Qe),n=e[Qe];try{e[Qe]=o;var r=!0}catch(e){}var i=De.call(e);r&&(t?e[Qe]=n:delete e[Qe]);return i}(e):function(e){return De.call(e)}(e)}function Ir(e,t){return e>t}function _r(e,t){return null!=e&&Me.call(e,t)}function Cr(e,t){return null!=e&&t in Ie(e)}function Rr(e,t,n){for(var i=n?Bt:Nt,a=e[0].length,s=e.length,c=s,u=r(s),l=1/0,d=[];c--;){var f=e[c];c&&t&&(f=zt(f,Qt(t))),l=An(f.length,l),u[c]=!n&&(t||a>=120&&f.length>=120)?new Jn(c&&f):o}f=e[0];var h=-1,p=u[0];e:for(;++h<a&&d.length<l;){var g=f[h],m=t?t(g):g;if(g=n||0!==g?g:0,!(p?tn(p,m):i(d,m,n))){for(c=s;--c;){var y=u[c];if(!(y?tn(y,m):i(e[c],m,n)))continue e}p&&p.push(m),d.push(g)}}return d}function Pr(e,t,n){var r=null==(e=Ci(e,t=bo(t,e)))?e:e[Ui(Yi(t))];return null==r?o:It(r,e,n)}function Or(e){return ns(e)&&kr(e)==v}function Nr(e,t,n,r,i){return e===t||(null==e||null==t||!ns(e)&&!ns(t)?e!=e&&t!=t:function(e,t,n,r,i,a){var s=Va(e),c=Va(t),u=s?w:mi(e),l=c?w:mi(t),d=(u=u==v?I:u)==I,f=(l=l==v?I:l)==I,h=u==l;if(h&&Ja(e)){if(!Ja(t))return!1;s=!0,d=!1}if(h&&!d)return a||(a=new Zn),s||ls(e)?ri(e,t,n,r,i,a):function(e,t,n,r,o,i,a){switch(n){case z:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case B:return!(e.byteLength!=t.byteLength||!i(new Ve(e),new Ve(t)));case A:case b:case k:return $a(+e,+t);case S:return e.name==t.name&&e.message==t.message;case C:case P:return e==t+"";case T:var s=un;case R:var c=1&r;if(s||(s=fn),e.size!=t.size&&!c)return!1;var u=a.get(e);if(u)return u==t;r|=2,a.set(e,t);var l=ri(s(e),s(t),r,o,i,a);return a.delete(e),l;case O:if(Dn)return Dn.call(e)==Dn.call(t)}return!1}(e,t,u,n,r,i,a);if(!(1&n)){var p=d&&Me.call(e,"__wrapped__"),g=f&&Me.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,y=g?t.value():t;return a||(a=new Zn),i(m,y,n,r,a)}}if(!h)return!1;return a||(a=new Zn),function(e,t,n,r,i,a){var s=1&n,c=ii(e),u=c.length,l=ii(t),d=l.length;if(u!=d&&!s)return!1;var f=u;for(;f--;){var h=c[f];if(!(s?h in t:Me.call(t,h)))return!1}var p=a.get(e),g=a.get(t);if(p&&g)return p==t&&g==e;var m=!0;a.set(e,t),a.set(t,e);var y=s;for(;++f<u;){var v=e[h=c[f]],w=t[h];if(r)var A=s?r(w,v,h,t,e,a):r(v,w,h,e,t,a);if(!(A===o?v===w||i(v,w,n,r,a):A)){m=!1;break}y||(y="constructor"==h)}if(m&&!y){var b=e.constructor,S=t.constructor;b==S||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof S&&S instanceof S||(m=!1)}return a.delete(e),a.delete(t),m}(e,t,n,r,i,a)}(e,t,n,r,Nr,i))}function Br(e,t,n,r){var i=n.length,a=i,s=!r;if(null==e)return!a;for(e=Ie(e);i--;){var c=n[i];if(s&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<a;){var u=(c=n[i])[0],l=e[u],d=c[1];if(s&&c[2]){if(l===o&&!(u in e))return!1}else{var f=new Zn;if(r)var h=r(l,d,u,e,t,f);if(!(h===o?Nr(d,l,3,r,f):h))return!1}}return!0}function zr(e){return!(!ts(e)||(t=e,Ue&&Ue in t))&&(Xa(e)?Fe:ve).test(Di(e));var t}function Mr(e){return"function"==typeof e?e:null==e?oc:"object"==typeof e?Va(e)?Fr(e[0],e[1]):$r(e):hc(e)}function jr(e){if(!Ti(e))return Ht(e);var t=[];for(var n in Ie(e))Me.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Ur(e){if(!ts(e))return function(e){var t=[];if(null!=e)for(var n in Ie(e))t.push(n);return t}(e);var t=Ti(e),n=[];for(var r in e)("constructor"!=r||!t&&Me.call(e,r))&&n.push(r);return n}function Dr(e,t){return e<t}function Lr(e,t){var n=-1,o=Ga(e)?r(e.length):[];return hr(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}function $r(e){var t=fi(e);return 1==t.length&&t[0][2]?Ii(t[0][0],t[0][1]):function(n){return n===e||Br(n,e,t)}}function Fr(e,t){return Si(e)&&ki(t)?Ii(Ui(e),t):function(n){var r=Is(n,e);return r===o&&r===t?_s(n,e):Nr(t,r,3)}}function qr(e,t,n,r,i){e!==t&&wr(t,(function(a,s){if(i||(i=new Zn),ts(a))!function(e,t,n,r,i,a,s){var c=Ri(e,n),u=Ri(t,n),l=s.get(u);if(l)return void tr(e,n,l);var d=a?a(c,u,n+"",e,t,s):o,f=d===o;if(f){var h=Va(u),p=!h&&Ja(u),g=!h&&!p&&ls(u);d=u,h||p||g?Va(c)?d=c:Ha(c)?d=Po(c):p?(f=!1,d=To(u,!0)):g?(f=!1,d=Io(u,!0)):d=[]:is(u)||Wa(u)?(d=c,Wa(c)?d=vs(c):ts(c)&&!Xa(c)||(d=vi(u))):f=!1}f&&(s.set(u,d),i(d,u,r,a,s),s.delete(u));tr(e,n,d)}(e,t,s,n,qr,r,i);else{var c=r?r(Ri(e,s),a,s+"",e,t,i):o;c===o&&(c=a),tr(e,s,c)}}),Ns)}function Wr(e,t){var n=e.length;if(n)return Ai(t+=t<0?n:0,n)?e[t]:o}function Vr(e,t,n){t=t.length?zt(t,(function(e){return Va(e)?function(t){return xr(t,1===e.length?e[0]:e)}:e})):[oc];var r=-1;t=zt(t,Qt(li()));var o=Lr(e,(function(e,n,o){var i=zt(t,(function(t){return t(e)}));return{criteria:i,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(o,(function(e,t){return function(e,t,n){var r=-1,o=e.criteria,i=t.criteria,a=o.length,s=n.length;for(;++r<a;){var c=_o(o[r],i[r]);if(c)return r>=s?c:c*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Kr(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],s=xr(e,a);n(s,a)&&eo(i,bo(a,e),s)}return i}function Gr(e,t,n,r){var o=r?Wt:qt,i=-1,a=t.length,s=e;for(e===t&&(t=Po(t)),n&&(s=zt(e,Qt(n)));++i<a;)for(var c=0,u=t[i],l=n?n(u):u;(c=o(s,l,c,r))>-1;)s!==e&&Ze.call(s,c,1),Ze.call(e,c,1);return e}function Hr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;Ai(o)?Ze.call(e,o,1):ho(e,o)}}return e}function Jr(e,t){return e+mt(En()*(t-e+1))}function Zr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=mt(t/2))&&(e+=e)}while(t);return n}function Yr(e,t){return Ni(_i(e,t,oc),e+"")}function Xr(e){return Xn($s(e))}function Qr(e,t){var n=$s(e);return Mi(n,cr(t,0,n.length))}function eo(e,t,n,r){if(!ts(e))return e;for(var i=-1,a=(t=bo(t,e)).length,s=a-1,c=e;null!=c&&++i<a;){var u=Ui(t[i]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(i!=s){var d=c[u];(l=r?r(d,u,c):o)===o&&(l=ts(d)?d:Ai(t[i+1])?[]:{})}nr(c,u,l),c=c[u]}return e}var to=Pn?function(e,t){return Pn.set(e,t),e}:oc,no=nt?function(e,t){return nt(e,"toString",{configurable:!0,enumerable:!1,value:tc(t),writable:!0})}:oc;function ro(e){return Mi($s(e))}function oo(e,t,n){var o=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=r(i);++o<i;)a[o]=e[o+t];return a}function io(e,t){var n;return hr(e,(function(e,r,o){return!(n=t(e,r,o))})),!!n}function ao(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,a=e[i];null!==a&&!us(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return so(e,t,oc,n)}function so(e,t,n,r){var i=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=n(t))!=t,c=null===t,u=us(t),l=t===o;i<a;){var d=mt((i+a)/2),f=n(e[d]),h=f!==o,p=null===f,g=f==f,m=us(f);if(s)var y=r||g;else y=l?g&&(r||h):c?g&&h&&(r||!p):u?g&&h&&!p&&(r||!m):!p&&!m&&(r?f<=t:f<t);y?i=d+1:a=d}return An(a,4294967294)}function co(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!$a(s,c)){var c=s;i[o++]=0===a?0:a}}return i}function uo(e){return"number"==typeof e?e:us(e)?g:+e}function lo(e){if("string"==typeof e)return e;if(Va(e))return zt(e,lo)+"";if(us(e))return Ln?Ln.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function fo(e,t,n){var r=-1,o=Nt,i=e.length,a=!0,s=[],c=s;if(n)a=!1,o=Bt;else if(i>=200){var u=t?null:Yo(e);if(u)return fn(u);a=!1,o=tn,c=new Jn}else c=t?[]:s;e:for(;++r<i;){var l=e[r],d=t?t(l):l;if(l=n||0!==l?l:0,a&&d==d){for(var f=c.length;f--;)if(c[f]===d)continue e;t&&c.push(d),s.push(l)}else o(c,d,n)||(c!==s&&c.push(d),s.push(l))}return s}function ho(e,t){return null==(e=Ci(e,t=bo(t,e)))||delete e[Ui(Yi(t))]}function po(e,t,n,r){return eo(e,t,n(xr(e,t)),r)}function go(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?oo(e,r?0:i,r?i+1:o):oo(e,r?i+1:0,r?o:i)}function mo(e,t){var n=e;return n instanceof Vn&&(n=n.value()),jt(t,(function(e,t){return t.func.apply(t.thisArg,Mt([e],t.args))}),n)}function yo(e,t,n){var o=e.length;if(o<2)return o?fo(e[0]):[];for(var i=-1,a=r(o);++i<o;)for(var s=e[i],c=-1;++c<o;)c!=i&&(a[i]=fr(a[i]||s,e[c],t,n));return fo(vr(a,1),t,n)}function vo(e,t,n){for(var r=-1,i=e.length,a=t.length,s={};++r<i;){var c=r<a?t[r]:o;n(s,e[r],c)}return s}function wo(e){return Ha(e)?e:[]}function Ao(e){return"function"==typeof e?e:oc}function bo(e,t){return Va(e)?e:Si(e,t)?[e]:ji(ws(e))}var So=Yr;function Eo(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:oo(e,t,n)}var xo=ot||function(e){return gt.clearTimeout(e)};function To(e,t){if(t)return e.slice();var n=e.length,r=Ke?Ke(n):new e.constructor(n);return e.copy(r),r}function ko(e){var t=new e.constructor(e.byteLength);return new Ve(t).set(new Ve(e)),t}function Io(e,t){var n=t?ko(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function _o(e,t){if(e!==t){var n=e!==o,r=null===e,i=e==e,a=us(e),s=t!==o,c=null===t,u=t==t,l=us(t);if(!c&&!l&&!a&&e>t||a&&s&&u&&!c&&!l||r&&s&&u||!n&&u||!i)return 1;if(!r&&!a&&!l&&e<t||l&&n&&i&&!r&&!a||c&&n&&i||!s&&i||!u)return-1}return 0}function Co(e,t,n,o){for(var i=-1,a=e.length,s=n.length,c=-1,u=t.length,l=wn(a-s,0),d=r(u+l),f=!o;++c<u;)d[c]=t[c];for(;++i<s;)(f||i<a)&&(d[n[i]]=e[i]);for(;l--;)d[c++]=e[i++];return d}function Ro(e,t,n,o){for(var i=-1,a=e.length,s=-1,c=n.length,u=-1,l=t.length,d=wn(a-c,0),f=r(d+l),h=!o;++i<d;)f[i]=e[i];for(var p=i;++u<l;)f[p+u]=t[u];for(;++s<c;)(h||i<a)&&(f[p+n[s]]=e[i++]);return f}function Po(e,t){var n=-1,o=e.length;for(t||(t=r(o));++n<o;)t[n]=e[n];return t}function Oo(e,t,n,r){var i=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var c=t[a],u=r?r(n[c],e[c],c,n,e):o;u===o&&(u=e[c]),i?ar(n,c,u):nr(n,c,u)}return n}function No(e,t){return function(n,r){var o=Va(n)?_t:or,i=t?t():{};return o(n,e,li(r,2),i)}}function Bo(e){return Yr((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,s=i>2?n[2]:o;for(a=e.length>3&&"function"==typeof a?(i--,a):o,s&&bi(n[0],n[1],s)&&(a=i<3?o:a,i=1),t=Ie(t);++r<i;){var c=n[r];c&&e(t,c,r,a)}return t}))}function zo(e,t){return function(n,r){if(null==n)return n;if(!Ga(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Ie(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function Mo(e){return function(t,n,r){for(var o=-1,i=Ie(t),a=r(t),s=a.length;s--;){var c=a[e?s:++o];if(!1===n(i[c],c,i))break}return t}}function jo(e){return function(t){var n=cn(t=ws(t))?gn(t):o,r=n?n[0]:t.charAt(0),i=n?Eo(n,1).join(""):t.slice(1);return r[e]()+i}}function Uo(e){return function(t){return jt(Xs(Ws(t).replace(et,"")),e,"")}}function Do(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Fn(e.prototype),r=e.apply(n,t);return ts(r)?r:n}}function Lo(e){return function(t,n,r){var i=Ie(t);if(!Ga(t)){var a=li(n,3);t=Os(t),n=function(e){return a(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[a?t[s]:s]:o}}function $o(e){return oi((function(t){var n=t.length,r=n,a=Wn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new Re(i);if(a&&!c&&"wrapper"==ci(s))var c=new Wn([],!0)}for(r=c?r:n;++r<n;){var u=ci(s=t[r]),l="wrapper"==u?si(s):o;c=l&&Ei(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?c[ci(l[0])].apply(c,l[3]):1==s.length&&Ei(s)?c[u]():c.thru(s)}return function(){var e=arguments,r=e[0];if(c&&1==e.length&&Va(r))return c.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}}))}function Fo(e,t,n,i,a,s,c,u,l,f){var h=t&d,p=1&t,g=2&t,m=24&t,y=512&t,v=g?o:Do(e);return function d(){for(var w=arguments.length,A=r(w),b=w;b--;)A[b]=arguments[b];if(m)var S=ui(d),E=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(A,S);if(i&&(A=Co(A,i,a,m)),s&&(A=Ro(A,s,c,m)),w-=E,m&&w<f){var x=dn(A,S);return Jo(e,t,Fo,d.placeholder,n,A,x,u,l,f-w)}var T=p?n:this,k=g?T[e]:e;return w=A.length,u?A=function(e,t){var n=e.length,r=An(t.length,n),i=Po(e);for(;r--;){var a=t[r];e[r]=Ai(a,n)?i[a]:o}return e}(A,u):y&&w>1&&A.reverse(),h&&l<w&&(A.length=l),this&&this!==gt&&this instanceof d&&(k=v||Do(k)),k.apply(T,A)}}function qo(e,t){return function(n,r){return function(e,t,n,r){return br(e,(function(e,o,i){t(r,n(e),o,i)})),r}(n,e,t(r),{})}}function Wo(e,t){return function(n,r){var i;if(n===o&&r===o)return t;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=lo(n),r=lo(r)):(n=uo(n),r=uo(r)),i=e(n,r)}return i}}function Vo(e){return oi((function(t){return t=zt(t,Qt(li())),Yr((function(n){var r=this;return e(t,(function(e){return It(e,r,n)}))}))}))}function Ko(e,t){var n=(t=t===o?" ":lo(t)).length;if(n<2)return n?Zr(t,e):t;var r=Zr(t,pt(e/pn(t)));return cn(t)?Eo(gn(r),0,e).join(""):r.slice(0,e)}function Go(e){return function(t,n,i){return i&&"number"!=typeof i&&bi(t,n,i)&&(n=i=o),t=ps(t),n===o?(n=t,t=0):n=ps(n),function(e,t,n,o){for(var i=-1,a=wn(pt((t-e)/(n||1)),0),s=r(a);a--;)s[o?a:++i]=e,e+=n;return s}(t,n,i=i===o?t<n?1:-1:ps(i),e)}}function Ho(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ys(t),n=ys(n)),e(t,n)}}function Jo(e,t,n,r,i,a,s,c,d,f){var h=8&t;t|=h?u:l,4&(t&=~(h?l:u))||(t&=-4);var p=[e,t,i,h?a:o,h?s:o,h?o:a,h?o:s,c,d,f],g=n.apply(o,p);return Ei(e)&&Pi(g,p),g.placeholder=r,Bi(g,e,t)}function Zo(e){var t=ke[e];return function(e,n){if(e=ys(e),(n=null==n?0:An(gs(n),292))&&At(e)){var r=(ws(e)+"e").split("e");return+((r=(ws(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Yo=_n&&1/fn(new _n([,-0]))[1]==h?function(e){return new _n(e)}:uc;function Xo(e){return function(t){var n=mi(t);return n==T?un(t):n==R?hn(t):function(e,t){return zt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Qo(e,t,n,a,h,p,g,m){var y=2&t;if(!y&&"function"!=typeof e)throw new Re(i);var v=a?a.length:0;if(v||(t&=-97,a=h=o),g=g===o?g:wn(gs(g),0),m=m===o?m:gs(m),v-=h?h.length:0,t&l){var w=a,A=h;a=h=o}var b=y?o:si(e),S=[e,t,n,a,h,w,A,p,g,m];if(b&&function(e,t){var n=e[1],r=t[1],o=n|r,i=o<131,a=r==d&&8==n||r==d&&n==f&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!i&&!a)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var c=t[3];if(c){var u=e[3];e[3]=u?Co(u,c,t[4]):c,e[4]=u?dn(e[3],s):t[4]}(c=t[5])&&(u=e[5],e[5]=u?Ro(u,c,t[6]):c,e[6]=u?dn(e[5],s):t[6]);(c=t[7])&&(e[7]=c);r&d&&(e[8]=null==e[8]?t[8]:An(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=o}(S,b),e=S[0],t=S[1],n=S[2],a=S[3],h=S[4],!(m=S[9]=S[9]===o?y?0:e.length:wn(S[9]-v,0))&&24&t&&(t&=-25),t&&1!=t)E=8==t||t==c?function(e,t,n){var i=Do(e);return function a(){for(var s=arguments.length,c=r(s),u=s,l=ui(a);u--;)c[u]=arguments[u];var d=s<3&&c[0]!==l&&c[s-1]!==l?[]:dn(c,l);return(s-=d.length)<n?Jo(e,t,Fo,a.placeholder,o,c,d,o,o,n-s):It(this&&this!==gt&&this instanceof a?i:e,this,c)}}(e,t,m):t!=u&&33!=t||h.length?Fo.apply(o,S):function(e,t,n,o){var i=1&t,a=Do(e);return function t(){for(var s=-1,c=arguments.length,u=-1,l=o.length,d=r(l+c),f=this&&this!==gt&&this instanceof t?a:e;++u<l;)d[u]=o[u];for(;c--;)d[u++]=arguments[++s];return It(f,i?n:this,d)}}(e,t,n,a);else var E=function(e,t,n){var r=1&t,o=Do(e);return function t(){return(this&&this!==gt&&this instanceof t?o:e).apply(r?n:this,arguments)}}(e,t,n);return Bi((b?to:Pi)(E,S),e,t)}function ei(e,t,n,r){return e===o||$a(e,Ne[n])&&!Me.call(r,n)?t:e}function ti(e,t,n,r,i,a){return ts(e)&&ts(t)&&(a.set(t,e),qr(e,t,o,ti,a),a.delete(t)),e}function ni(e){return is(e)?o:e}function ri(e,t,n,r,i,a){var s=1&n,c=e.length,u=t.length;if(c!=u&&!(s&&u>c))return!1;var l=a.get(e),d=a.get(t);if(l&&d)return l==t&&d==e;var f=-1,h=!0,p=2&n?new Jn:o;for(a.set(e,t),a.set(t,e);++f<c;){var g=e[f],m=t[f];if(r)var y=s?r(m,g,f,t,e,a):r(g,m,f,e,t,a);if(y!==o){if(y)continue;h=!1;break}if(p){if(!Dt(t,(function(e,t){if(!tn(p,t)&&(g===e||i(g,e,n,r,a)))return p.push(t)}))){h=!1;break}}else if(g!==m&&!i(g,m,n,r,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function oi(e){return Ni(_i(e,o,Ki),e+"")}function ii(e){return Tr(e,Os,pi)}function ai(e){return Tr(e,Ns,gi)}var si=Pn?function(e){return Pn.get(e)}:uc;function ci(e){for(var t=e.name+"",n=On[t],r=Me.call(On,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function ui(e){return(Me.call($n,"placeholder")?$n:e).placeholder}function li(){var e=$n.iteratee||ic;return e=e===ic?Mr:e,arguments.length?e(arguments[0],arguments[1]):e}function di(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function fi(e){for(var t=Os(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,ki(o)]}return t}function hi(e,t){var n=function(e,t){return null==e?o:e[t]}(e,t);return zr(n)?n:o}var pi=yt?function(e){return null==e?[]:(e=Ie(e),Ot(yt(e),(function(t){return Je.call(e,t)})))}:mc,gi=yt?function(e){for(var t=[];e;)Mt(t,pi(e)),e=Ge(e);return t}:mc,mi=kr;function yi(e,t,n){for(var r=-1,o=(t=bo(t,e)).length,i=!1;++r<o;){var a=Ui(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&es(o)&&Ai(a,o)&&(Va(e)||Wa(e))}function vi(e){return"function"!=typeof e.constructor||Ti(e)?{}:Fn(Ge(e))}function wi(e){return Va(e)||Wa(e)||!!(Ye&&e&&e[Ye])}function Ai(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&Ae.test(e))&&e>-1&&e%1==0&&e<t}function bi(e,t,n){if(!ts(n))return!1;var r=typeof t;return!!("number"==r?Ga(n)&&Ai(t,n.length):"string"==r&&t in n)&&$a(n[t],e)}function Si(e,t){if(Va(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!us(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Ie(t))}function Ei(e){var t=ci(e),n=$n[t];if("function"!=typeof n||!(t in Vn.prototype))return!1;if(e===n)return!0;var r=si(n);return!!r&&e===r[0]}(Tn&&mi(new Tn(new ArrayBuffer(1)))!=z||kn&&mi(new kn)!=T||In&&mi(In.resolve())!=_||_n&&mi(new _n)!=R||Cn&&mi(new Cn)!=N)&&(mi=function(e){var t=kr(e),n=t==I?e.constructor:o,r=n?Di(n):"";if(r)switch(r){case Nn:return z;case Bn:return T;case zn:return _;case Mn:return R;case jn:return N}return t});var xi=Be?Xa:yc;function Ti(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ne)}function ki(e){return e==e&&!ts(e)}function Ii(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==o||e in Ie(n)))}}function _i(e,t,n){return t=wn(t===o?e.length-1:t,0),function(){for(var o=arguments,i=-1,a=wn(o.length-t,0),s=r(a);++i<a;)s[i]=o[t+i];i=-1;for(var c=r(t+1);++i<t;)c[i]=o[i];return c[t]=n(s),It(e,this,c)}}function Ci(e,t){return t.length<2?e:xr(e,oo(t,0,-1))}function Ri(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Pi=zi(to),Oi=ht||function(e,t){return gt.setTimeout(e,t)},Ni=zi(no);function Bi(e,t,n){var r=t+"";return Ni(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ce,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Ct(y,(function(n){var r="_."+n[0];t&n[1]&&!Nt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ue);return t?t[1].split(le):[]}(r),n)))}function zi(e){var t=0,n=0;return function(){var r=bn(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(o,arguments)}}function Mi(e,t){var n=-1,r=e.length,i=r-1;for(t=t===o?r:t;++n<t;){var a=Jr(n,i),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var ji=function(e){var t=za(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,o){t.push(r?o.replace(he,"$1"):n||e)})),t}));function Ui(e){if("string"==typeof e||us(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Di(e){if(null!=e){try{return ze.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Li(e){if(e instanceof Vn)return e.clone();var t=new Wn(e.__wrapped__,e.__chain__);return t.__actions__=Po(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var $i=Yr((function(e,t){return Ha(e)?fr(e,vr(t,1,Ha,!0)):[]})),Fi=Yr((function(e,t){var n=Yi(t);return Ha(n)&&(n=o),Ha(e)?fr(e,vr(t,1,Ha,!0),li(n,2)):[]})),qi=Yr((function(e,t){var n=Yi(t);return Ha(n)&&(n=o),Ha(e)?fr(e,vr(t,1,Ha,!0),o,n):[]}));function Wi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:gs(n);return o<0&&(o=wn(r+o,0)),Ft(e,li(t,3),o)}function Vi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==o&&(i=gs(n),i=n<0?wn(r+i,0):An(i,r-1)),Ft(e,li(t,3),i,!0)}function Ki(e){return(null==e?0:e.length)?vr(e,1):[]}function Gi(e){return e&&e.length?e[0]:o}var Hi=Yr((function(e){var t=zt(e,wo);return t.length&&t[0]===e[0]?Rr(t):[]})),Ji=Yr((function(e){var t=Yi(e),n=zt(e,wo);return t===Yi(n)?t=o:n.pop(),n.length&&n[0]===e[0]?Rr(n,li(t,2)):[]})),Zi=Yr((function(e){var t=Yi(e),n=zt(e,wo);return(t="function"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?Rr(n,o,t):[]}));function Yi(e){var t=null==e?0:e.length;return t?e[t-1]:o}var Xi=Yr(Qi);function Qi(e,t){return e&&e.length&&t&&t.length?Gr(e,t):e}var ea=oi((function(e,t){var n=null==e?0:e.length,r=sr(e,t);return Hr(e,zt(t,(function(e){return Ai(e,n)?+e:e})).sort(_o)),r}));function ta(e){return null==e?e:xn.call(e)}var na=Yr((function(e){return fo(vr(e,1,Ha,!0))})),ra=Yr((function(e){var t=Yi(e);return Ha(t)&&(t=o),fo(vr(e,1,Ha,!0),li(t,2))})),oa=Yr((function(e){var t=Yi(e);return t="function"==typeof t?t:o,fo(vr(e,1,Ha,!0),o,t)}));function ia(e){if(!e||!e.length)return[];var t=0;return e=Ot(e,(function(e){if(Ha(e))return t=wn(e.length,t),!0})),Yt(t,(function(t){return zt(e,Gt(t))}))}function aa(e,t){if(!e||!e.length)return[];var n=ia(e);return null==t?n:zt(n,(function(e){return It(t,o,e)}))}var sa=Yr((function(e,t){return Ha(e)?fr(e,t):[]})),ca=Yr((function(e){return yo(Ot(e,Ha))})),ua=Yr((function(e){var t=Yi(e);return Ha(t)&&(t=o),yo(Ot(e,Ha),li(t,2))})),la=Yr((function(e){var t=Yi(e);return t="function"==typeof t?t:o,yo(Ot(e,Ha),o,t)})),da=Yr(ia);var fa=Yr((function(e){var t=e.length,n=t>1?e[t-1]:o;return n="function"==typeof n?(e.pop(),n):o,aa(e,n)}));function ha(e){var t=$n(e);return t.__chain__=!0,t}function pa(e,t){return t(e)}var ga=oi((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return sr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Vn&&Ai(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:pa,args:[i],thisArg:o}),new Wn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(o),e}))):this.thru(i)}));var ma=No((function(e,t,n){Me.call(e,n)?++e[n]:ar(e,n,1)}));var ya=Lo(Wi),va=Lo(Vi);function wa(e,t){return(Va(e)?Ct:hr)(e,li(t,3))}function Aa(e,t){return(Va(e)?Rt:pr)(e,li(t,3))}var ba=No((function(e,t,n){Me.call(e,n)?e[n].push(t):ar(e,n,[t])}));var Sa=Yr((function(e,t,n){var o=-1,i="function"==typeof t,a=Ga(e)?r(e.length):[];return hr(e,(function(e){a[++o]=i?It(t,e,n):Pr(e,t,n)})),a})),Ea=No((function(e,t,n){ar(e,n,t)}));function xa(e,t){return(Va(e)?zt:Lr)(e,li(t,3))}var Ta=No((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var ka=Yr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&bi(e,t[0],t[1])?t=[]:n>2&&bi(t[0],t[1],t[2])&&(t=[t[0]]),Vr(e,vr(t,1),[])})),Ia=lt||function(){return gt.Date.now()};function _a(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,Qo(e,d,o,o,o,o,t)}function Ca(e,t){var n;if("function"!=typeof t)throw new Re(i);return e=gs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var Ra=Yr((function(e,t,n){var r=1;if(n.length){var o=dn(n,ui(Ra));r|=u}return Qo(e,r,t,n,o)})),Pa=Yr((function(e,t,n){var r=3;if(n.length){var o=dn(n,ui(Pa));r|=u}return Qo(t,r,e,n,o)}));function Oa(e,t,n){var r,a,s,c,u,l,d=0,f=!1,h=!1,p=!0;if("function"!=typeof e)throw new Re(i);function g(t){var n=r,i=a;return r=a=o,d=t,c=e.apply(i,n)}function m(e){var n=e-l;return l===o||n>=t||n<0||h&&e-d>=s}function y(){var e=Ia();if(m(e))return v(e);u=Oi(y,function(e){var n=t-(e-l);return h?An(n,s-(e-d)):n}(e))}function v(e){return u=o,p&&r?g(e):(r=a=o,c)}function w(){var e=Ia(),n=m(e);if(r=arguments,a=this,l=e,n){if(u===o)return function(e){return d=e,u=Oi(y,t),f?g(e):c}(l);if(h)return xo(u),u=Oi(y,t),g(l)}return u===o&&(u=Oi(y,t)),c}return t=ys(t)||0,ts(n)&&(f=!!n.leading,s=(h="maxWait"in n)?wn(ys(n.maxWait)||0,t):s,p="trailing"in n?!!n.trailing:p),w.cancel=function(){u!==o&&xo(u),d=0,r=l=a=u=o},w.flush=function(){return u===o?c:v(Ia())},w}var Na=Yr((function(e,t){return dr(e,1,t)})),Ba=Yr((function(e,t,n){return dr(e,ys(t)||0,n)}));function za(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Re(i);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(za.Cache||Hn),n}function Ma(e){if("function"!=typeof e)throw new Re(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}za.Cache=Hn;var ja=So((function(e,t){var n=(t=1==t.length&&Va(t[0])?zt(t[0],Qt(li())):zt(vr(t,1),Qt(li()))).length;return Yr((function(r){for(var o=-1,i=An(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return It(e,this,r)}))})),Ua=Yr((function(e,t){var n=dn(t,ui(Ua));return Qo(e,u,o,t,n)})),Da=Yr((function(e,t){var n=dn(t,ui(Da));return Qo(e,l,o,t,n)})),La=oi((function(e,t){return Qo(e,f,o,o,o,t)}));function $a(e,t){return e===t||e!=e&&t!=t}var Fa=Ho(Ir),qa=Ho((function(e,t){return e>=t})),Wa=Or(function(){return arguments}())?Or:function(e){return ns(e)&&Me.call(e,"callee")&&!Je.call(e,"callee")},Va=r.isArray,Ka=bt?Qt(bt):function(e){return ns(e)&&kr(e)==B};function Ga(e){return null!=e&&es(e.length)&&!Xa(e)}function Ha(e){return ns(e)&&Ga(e)}var Ja=wt||yc,Za=St?Qt(St):function(e){return ns(e)&&kr(e)==b};function Ya(e){if(!ns(e))return!1;var t=kr(e);return t==S||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!is(e)}function Xa(e){if(!ts(e))return!1;var t=kr(e);return t==E||t==x||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Qa(e){return"number"==typeof e&&e==gs(e)}function es(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function ts(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ns(e){return null!=e&&"object"==typeof e}var rs=Et?Qt(Et):function(e){return ns(e)&&mi(e)==T};function os(e){return"number"==typeof e||ns(e)&&kr(e)==k}function is(e){if(!ns(e)||kr(e)!=I)return!1;var t=Ge(e);if(null===t)return!0;var n=Me.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ze.call(n)==Le}var as=xt?Qt(xt):function(e){return ns(e)&&kr(e)==C};var ss=Tt?Qt(Tt):function(e){return ns(e)&&mi(e)==R};function cs(e){return"string"==typeof e||!Va(e)&&ns(e)&&kr(e)==P}function us(e){return"symbol"==typeof e||ns(e)&&kr(e)==O}var ls=kt?Qt(kt):function(e){return ns(e)&&es(e.length)&&!!ct[kr(e)]};var ds=Ho(Dr),fs=Ho((function(e,t){return e<=t}));function hs(e){if(!e)return[];if(Ga(e))return cs(e)?gn(e):Po(e);if(Xe&&e[Xe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Xe]());var t=mi(e);return(t==T?un:t==R?fn:$s)(e)}function ps(e){return e?(e=ys(e))===h||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function gs(e){var t=ps(e),n=t%1;return t==t?n?t-n:t:0}function ms(e){return e?cr(gs(e),0,m):0}function ys(e){if("number"==typeof e)return e;if(us(e))return g;if(ts(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ts(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Xt(e);var n=ye.test(e);return n||we.test(e)?ft(e.slice(2),n?2:8):me.test(e)?g:+e}function vs(e){return Oo(e,Ns(e))}function ws(e){return null==e?"":lo(e)}var As=Bo((function(e,t){if(Ti(t)||Ga(t))Oo(t,Os(t),e);else for(var n in t)Me.call(t,n)&&nr(e,n,t[n])})),bs=Bo((function(e,t){Oo(t,Ns(t),e)})),Ss=Bo((function(e,t,n,r){Oo(t,Ns(t),e,r)})),Es=Bo((function(e,t,n,r){Oo(t,Os(t),e,r)})),xs=oi(sr);var Ts=Yr((function(e,t){e=Ie(e);var n=-1,r=t.length,i=r>2?t[2]:o;for(i&&bi(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],s=Ns(a),c=-1,u=s.length;++c<u;){var l=s[c],d=e[l];(d===o||$a(d,Ne[l])&&!Me.call(e,l))&&(e[l]=a[l])}return e})),ks=Yr((function(e){return e.push(o,ti),It(zs,o,e)}));function Is(e,t,n){var r=null==e?o:xr(e,t);return r===o?n:r}function _s(e,t){return null!=e&&yi(e,t,Cr)}var Cs=qo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=De.call(t)),e[t]=n}),tc(oc)),Rs=qo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=De.call(t)),Me.call(e,t)?e[t].push(n):e[t]=[n]}),li),Ps=Yr(Pr);function Os(e){return Ga(e)?Yn(e):jr(e)}function Ns(e){return Ga(e)?Yn(e,!0):Ur(e)}var Bs=Bo((function(e,t,n){qr(e,t,n)})),zs=Bo((function(e,t,n,r){qr(e,t,n,r)})),Ms=oi((function(e,t){var n={};if(null==e)return n;var r=!1;t=zt(t,(function(t){return t=bo(t,e),r||(r=t.length>1),t})),Oo(e,ai(e),n),r&&(n=ur(n,7,ni));for(var o=t.length;o--;)ho(n,t[o]);return n}));var js=oi((function(e,t){return null==e?{}:function(e,t){return Kr(e,t,(function(t,n){return _s(e,n)}))}(e,t)}));function Us(e,t){if(null==e)return{};var n=zt(ai(e),(function(e){return[e]}));return t=li(t),Kr(e,n,(function(e,n){return t(e,n[0])}))}var Ds=Xo(Os),Ls=Xo(Ns);function $s(e){return null==e?[]:en(e,Os(e))}var Fs=Uo((function(e,t,n){return t=t.toLowerCase(),e+(n?qs(t):t)}));function qs(e){return Ys(ws(e).toLowerCase())}function Ws(e){return(e=ws(e))&&e.replace(be,on).replace(tt,"")}var Vs=Uo((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ks=Uo((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Gs=jo("toLowerCase");var Hs=Uo((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Js=Uo((function(e,t,n){return e+(n?" ":"")+Ys(t)}));var Zs=Uo((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ys=jo("toUpperCase");function Xs(e,t,n){return e=ws(e),(t=n?o:t)===o?function(e){return it.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.match(de)||[]}(e):e.match(t)||[]}var Qs=Yr((function(e,t){try{return It(e,o,t)}catch(e){return Ya(e)?e:new xe(e)}})),ec=oi((function(e,t){return Ct(t,(function(t){t=Ui(t),ar(e,t,Ra(e[t],e))})),e}));function tc(e){return function(){return e}}var nc=$o(),rc=$o(!0);function oc(e){return e}function ic(e){return Mr("function"==typeof e?e:ur(e,1))}var ac=Yr((function(e,t){return function(n){return Pr(n,e,t)}})),sc=Yr((function(e,t){return function(n){return Pr(e,n,t)}}));function cc(e,t,n){var r=Os(t),o=Er(t,r);null!=n||ts(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=Er(t,Os(t)));var i=!(ts(n)&&"chain"in n&&!n.chain),a=Xa(e);return Ct(o,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__);return(n.__actions__=Po(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Mt([this.value()],arguments))})})),e}function uc(){}var lc=Vo(zt),dc=Vo(Pt),fc=Vo(Dt);function hc(e){return Si(e)?Gt(Ui(e)):function(e){return function(t){return xr(t,e)}}(e)}var pc=Go(),gc=Go(!0);function mc(){return[]}function yc(){return!1}var vc=Wo((function(e,t){return e+t}),0),wc=Zo("ceil"),Ac=Wo((function(e,t){return e/t}),1),bc=Zo("floor");var Sc,Ec=Wo((function(e,t){return e*t}),1),xc=Zo("round"),Tc=Wo((function(e,t){return e-t}),0);return $n.after=function(e,t){if("function"!=typeof t)throw new Re(i);return e=gs(e),function(){if(--e<1)return t.apply(this,arguments)}},$n.ary=_a,$n.assign=As,$n.assignIn=bs,$n.assignInWith=Ss,$n.assignWith=Es,$n.at=xs,$n.before=Ca,$n.bind=Ra,$n.bindAll=ec,$n.bindKey=Pa,$n.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Va(e)?e:[e]},$n.chain=ha,$n.chunk=function(e,t,n){t=(n?bi(e,t,n):t===o)?1:wn(gs(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,s=0,c=r(pt(i/t));a<i;)c[s++]=oo(e,a,a+=t);return c},$n.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},$n.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],o=e;o--;)t[o-1]=arguments[o];return Mt(Va(n)?Po(n):[n],vr(t,1))},$n.cond=function(e){var t=null==e?0:e.length,n=li();return e=t?zt(e,(function(e){if("function"!=typeof e[1])throw new Re(i);return[n(e[0]),e[1]]})):[],Yr((function(n){for(var r=-1;++r<t;){var o=e[r];if(It(o[0],this,n))return It(o[1],this,n)}}))},$n.conforms=function(e){return function(e){var t=Os(e);return function(n){return lr(n,e,t)}}(ur(e,1))},$n.constant=tc,$n.countBy=ma,$n.create=function(e,t){var n=Fn(e);return null==t?n:ir(n,t)},$n.curry=function e(t,n,r){var i=Qo(t,8,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},$n.curryRight=function e(t,n,r){var i=Qo(t,c,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},$n.debounce=Oa,$n.defaults=Ts,$n.defaultsDeep=ks,$n.defer=Na,$n.delay=Ba,$n.difference=$i,$n.differenceBy=Fi,$n.differenceWith=qi,$n.drop=function(e,t,n){var r=null==e?0:e.length;return r?oo(e,(t=n||t===o?1:gs(t))<0?0:t,r):[]},$n.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?oo(e,0,(t=r-(t=n||t===o?1:gs(t)))<0?0:t):[]},$n.dropRightWhile=function(e,t){return e&&e.length?go(e,li(t,3),!0,!0):[]},$n.dropWhile=function(e,t){return e&&e.length?go(e,li(t,3),!0):[]},$n.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&bi(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=gs(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:gs(r))<0&&(r+=i),r=n>r?0:ms(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},$n.filter=function(e,t){return(Va(e)?Ot:yr)(e,li(t,3))},$n.flatMap=function(e,t){return vr(xa(e,t),1)},$n.flatMapDeep=function(e,t){return vr(xa(e,t),h)},$n.flatMapDepth=function(e,t,n){return n=n===o?1:gs(n),vr(xa(e,t),n)},$n.flatten=Ki,$n.flattenDeep=function(e){return(null==e?0:e.length)?vr(e,h):[]},$n.flattenDepth=function(e,t){return(null==e?0:e.length)?vr(e,t=t===o?1:gs(t)):[]},$n.flip=function(e){return Qo(e,512)},$n.flow=nc,$n.flowRight=rc,$n.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},$n.functions=function(e){return null==e?[]:Er(e,Os(e))},$n.functionsIn=function(e){return null==e?[]:Er(e,Ns(e))},$n.groupBy=ba,$n.initial=function(e){return(null==e?0:e.length)?oo(e,0,-1):[]},$n.intersection=Hi,$n.intersectionBy=Ji,$n.intersectionWith=Zi,$n.invert=Cs,$n.invertBy=Rs,$n.invokeMap=Sa,$n.iteratee=ic,$n.keyBy=Ea,$n.keys=Os,$n.keysIn=Ns,$n.map=xa,$n.mapKeys=function(e,t){var n={};return t=li(t,3),br(e,(function(e,r,o){ar(n,t(e,r,o),e)})),n},$n.mapValues=function(e,t){var n={};return t=li(t,3),br(e,(function(e,r,o){ar(n,r,t(e,r,o))})),n},$n.matches=function(e){return $r(ur(e,1))},$n.matchesProperty=function(e,t){return Fr(e,ur(t,1))},$n.memoize=za,$n.merge=Bs,$n.mergeWith=zs,$n.method=ac,$n.methodOf=sc,$n.mixin=cc,$n.negate=Ma,$n.nthArg=function(e){return e=gs(e),Yr((function(t){return Wr(t,e)}))},$n.omit=Ms,$n.omitBy=function(e,t){return Us(e,Ma(li(t)))},$n.once=function(e){return Ca(2,e)},$n.orderBy=function(e,t,n,r){return null==e?[]:(Va(t)||(t=null==t?[]:[t]),Va(n=r?o:n)||(n=null==n?[]:[n]),Vr(e,t,n))},$n.over=lc,$n.overArgs=ja,$n.overEvery=dc,$n.overSome=fc,$n.partial=Ua,$n.partialRight=Da,$n.partition=Ta,$n.pick=js,$n.pickBy=Us,$n.property=hc,$n.propertyOf=function(e){return function(t){return null==e?o:xr(e,t)}},$n.pull=Xi,$n.pullAll=Qi,$n.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Gr(e,t,li(n,2)):e},$n.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Gr(e,t,o,n):e},$n.pullAt=ea,$n.range=pc,$n.rangeRight=gc,$n.rearg=La,$n.reject=function(e,t){return(Va(e)?Ot:yr)(e,Ma(li(t,3)))},$n.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=li(t,3);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return Hr(e,o),n},$n.rest=function(e,t){if("function"!=typeof e)throw new Re(i);return Yr(e,t=t===o?t:gs(t))},$n.reverse=ta,$n.sampleSize=function(e,t,n){return t=(n?bi(e,t,n):t===o)?1:gs(t),(Va(e)?Qn:Qr)(e,t)},$n.set=function(e,t,n){return null==e?e:eo(e,t,n)},$n.setWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:eo(e,t,n,r)},$n.shuffle=function(e){return(Va(e)?er:ro)(e)},$n.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&bi(e,t,n)?(t=0,n=r):(t=null==t?0:gs(t),n=n===o?r:gs(n)),oo(e,t,n)):[]},$n.sortBy=ka,$n.sortedUniq=function(e){return e&&e.length?co(e):[]},$n.sortedUniqBy=function(e,t){return e&&e.length?co(e,li(t,2)):[]},$n.split=function(e,t,n){return n&&"number"!=typeof n&&bi(e,t,n)&&(t=n=o),(n=n===o?m:n>>>0)?(e=ws(e))&&("string"==typeof t||null!=t&&!as(t))&&!(t=lo(t))&&cn(e)?Eo(gn(e),0,n):e.split(t,n):[]},$n.spread=function(e,t){if("function"!=typeof e)throw new Re(i);return t=null==t?0:wn(gs(t),0),Yr((function(n){var r=n[t],o=Eo(n,0,t);return r&&Mt(o,r),It(e,this,o)}))},$n.tail=function(e){var t=null==e?0:e.length;return t?oo(e,1,t):[]},$n.take=function(e,t,n){return e&&e.length?oo(e,0,(t=n||t===o?1:gs(t))<0?0:t):[]},$n.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?oo(e,(t=r-(t=n||t===o?1:gs(t)))<0?0:t,r):[]},$n.takeRightWhile=function(e,t){return e&&e.length?go(e,li(t,3),!1,!0):[]},$n.takeWhile=function(e,t){return e&&e.length?go(e,li(t,3)):[]},$n.tap=function(e,t){return t(e),e},$n.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new Re(i);return ts(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Oa(e,t,{leading:r,maxWait:t,trailing:o})},$n.thru=pa,$n.toArray=hs,$n.toPairs=Ds,$n.toPairsIn=Ls,$n.toPath=function(e){return Va(e)?zt(e,Ui):us(e)?[e]:Po(ji(ws(e)))},$n.toPlainObject=vs,$n.transform=function(e,t,n){var r=Va(e),o=r||Ja(e)||ls(e);if(t=li(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:ts(e)&&Xa(i)?Fn(Ge(e)):{}}return(o?Ct:br)(e,(function(e,r,o){return t(n,e,r,o)})),n},$n.unary=function(e){return _a(e,1)},$n.union=na,$n.unionBy=ra,$n.unionWith=oa,$n.uniq=function(e){return e&&e.length?fo(e):[]},$n.uniqBy=function(e,t){return e&&e.length?fo(e,li(t,2)):[]},$n.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?fo(e,o,t):[]},$n.unset=function(e,t){return null==e||ho(e,t)},$n.unzip=ia,$n.unzipWith=aa,$n.update=function(e,t,n){return null==e?e:po(e,t,Ao(n))},$n.updateWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:po(e,t,Ao(n),r)},$n.values=$s,$n.valuesIn=function(e){return null==e?[]:en(e,Ns(e))},$n.without=sa,$n.words=Xs,$n.wrap=function(e,t){return Ua(Ao(t),e)},$n.xor=ca,$n.xorBy=ua,$n.xorWith=la,$n.zip=da,$n.zipObject=function(e,t){return vo(e||[],t||[],nr)},$n.zipObjectDeep=function(e,t){return vo(e||[],t||[],eo)},$n.zipWith=fa,$n.entries=Ds,$n.entriesIn=Ls,$n.extend=bs,$n.extendWith=Ss,cc($n,$n),$n.add=vc,$n.attempt=Qs,$n.camelCase=Fs,$n.capitalize=qs,$n.ceil=wc,$n.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=ys(n))==n?n:0),t!==o&&(t=(t=ys(t))==t?t:0),cr(ys(e),t,n)},$n.clone=function(e){return ur(e,4)},$n.cloneDeep=function(e){return ur(e,5)},$n.cloneDeepWith=function(e,t){return ur(e,5,t="function"==typeof t?t:o)},$n.cloneWith=function(e,t){return ur(e,4,t="function"==typeof t?t:o)},$n.conformsTo=function(e,t){return null==t||lr(e,t,Os(t))},$n.deburr=Ws,$n.defaultTo=function(e,t){return null==e||e!=e?t:e},$n.divide=Ac,$n.endsWith=function(e,t,n){e=ws(e),t=lo(t);var r=e.length,i=n=n===o?r:cr(gs(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},$n.eq=$a,$n.escape=function(e){return(e=ws(e))&&Y.test(e)?e.replace(J,an):e},$n.escapeRegExp=function(e){return(e=ws(e))&&ie.test(e)?e.replace(oe,"\\$&"):e},$n.every=function(e,t,n){var r=Va(e)?Pt:gr;return n&&bi(e,t,n)&&(t=o),r(e,li(t,3))},$n.find=ya,$n.findIndex=Wi,$n.findKey=function(e,t){return $t(e,li(t,3),br)},$n.findLast=va,$n.findLastIndex=Vi,$n.findLastKey=function(e,t){return $t(e,li(t,3),Sr)},$n.floor=bc,$n.forEach=wa,$n.forEachRight=Aa,$n.forIn=function(e,t){return null==e?e:wr(e,li(t,3),Ns)},$n.forInRight=function(e,t){return null==e?e:Ar(e,li(t,3),Ns)},$n.forOwn=function(e,t){return e&&br(e,li(t,3))},$n.forOwnRight=function(e,t){return e&&Sr(e,li(t,3))},$n.get=Is,$n.gt=Fa,$n.gte=qa,$n.has=function(e,t){return null!=e&&yi(e,t,_r)},$n.hasIn=_s,$n.head=Gi,$n.identity=oc,$n.includes=function(e,t,n,r){e=Ga(e)?e:$s(e),n=n&&!r?gs(n):0;var o=e.length;return n<0&&(n=wn(o+n,0)),cs(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&qt(e,t,n)>-1},$n.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:gs(n);return o<0&&(o=wn(r+o,0)),qt(e,t,o)},$n.inRange=function(e,t,n){return t=ps(t),n===o?(n=t,t=0):n=ps(n),function(e,t,n){return e>=An(t,n)&&e<wn(t,n)}(e=ys(e),t,n)},$n.invoke=Ps,$n.isArguments=Wa,$n.isArray=Va,$n.isArrayBuffer=Ka,$n.isArrayLike=Ga,$n.isArrayLikeObject=Ha,$n.isBoolean=function(e){return!0===e||!1===e||ns(e)&&kr(e)==A},$n.isBuffer=Ja,$n.isDate=Za,$n.isElement=function(e){return ns(e)&&1===e.nodeType&&!is(e)},$n.isEmpty=function(e){if(null==e)return!0;if(Ga(e)&&(Va(e)||"string"==typeof e||"function"==typeof e.splice||Ja(e)||ls(e)||Wa(e)))return!e.length;var t=mi(e);if(t==T||t==R)return!e.size;if(Ti(e))return!jr(e).length;for(var n in e)if(Me.call(e,n))return!1;return!0},$n.isEqual=function(e,t){return Nr(e,t)},$n.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:o)?n(e,t):o;return r===o?Nr(e,t,o,n):!!r},$n.isError=Ya,$n.isFinite=function(e){return"number"==typeof e&&At(e)},$n.isFunction=Xa,$n.isInteger=Qa,$n.isLength=es,$n.isMap=rs,$n.isMatch=function(e,t){return e===t||Br(e,t,fi(t))},$n.isMatchWith=function(e,t,n){return n="function"==typeof n?n:o,Br(e,t,fi(t),n)},$n.isNaN=function(e){return os(e)&&e!=+e},$n.isNative=function(e){if(xi(e))throw new xe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return zr(e)},$n.isNil=function(e){return null==e},$n.isNull=function(e){return null===e},$n.isNumber=os,$n.isObject=ts,$n.isObjectLike=ns,$n.isPlainObject=is,$n.isRegExp=as,$n.isSafeInteger=function(e){return Qa(e)&&e>=-9007199254740991&&e<=p},$n.isSet=ss,$n.isString=cs,$n.isSymbol=us,$n.isTypedArray=ls,$n.isUndefined=function(e){return e===o},$n.isWeakMap=function(e){return ns(e)&&mi(e)==N},$n.isWeakSet=function(e){return ns(e)&&"[object WeakSet]"==kr(e)},$n.join=function(e,t){return null==e?"":Lt.call(e,t)},$n.kebabCase=Vs,$n.last=Yi,$n.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=gs(n))<0?wn(r+i,0):An(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):Ft(e,Vt,i,!0)},$n.lowerCase=Ks,$n.lowerFirst=Gs,$n.lt=ds,$n.lte=fs,$n.max=function(e){return e&&e.length?mr(e,oc,Ir):o},$n.maxBy=function(e,t){return e&&e.length?mr(e,li(t,2),Ir):o},$n.mean=function(e){return Kt(e,oc)},$n.meanBy=function(e,t){return Kt(e,li(t,2))},$n.min=function(e){return e&&e.length?mr(e,oc,Dr):o},$n.minBy=function(e,t){return e&&e.length?mr(e,li(t,2),Dr):o},$n.stubArray=mc,$n.stubFalse=yc,$n.stubObject=function(){return{}},$n.stubString=function(){return""},$n.stubTrue=function(){return!0},$n.multiply=Ec,$n.nth=function(e,t){return e&&e.length?Wr(e,gs(t)):o},$n.noConflict=function(){return gt._===this&&(gt._=$e),this},$n.noop=uc,$n.now=Ia,$n.pad=function(e,t,n){e=ws(e);var r=(t=gs(t))?pn(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return Ko(mt(o),n)+e+Ko(pt(o),n)},$n.padEnd=function(e,t,n){e=ws(e);var r=(t=gs(t))?pn(e):0;return t&&r<t?e+Ko(t-r,n):e},$n.padStart=function(e,t,n){e=ws(e);var r=(t=gs(t))?pn(e):0;return t&&r<t?Ko(t-r,n)+e:e},$n.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Sn(ws(e).replace(ae,""),t||0)},$n.random=function(e,t,n){if(n&&"boolean"!=typeof n&&bi(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=ps(e),t===o?(t=e,e=0):t=ps(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=En();return An(e+i*(t-e+dt("1e-"+((i+"").length-1))),t)}return Jr(e,t)},$n.reduce=function(e,t,n){var r=Va(e)?jt:Jt,o=arguments.length<3;return r(e,li(t,4),n,o,hr)},$n.reduceRight=function(e,t,n){var r=Va(e)?Ut:Jt,o=arguments.length<3;return r(e,li(t,4),n,o,pr)},$n.repeat=function(e,t,n){return t=(n?bi(e,t,n):t===o)?1:gs(t),Zr(ws(e),t)},$n.replace=function(){var e=arguments,t=ws(e[0]);return e.length<3?t:t.replace(e[1],e[2])},$n.result=function(e,t,n){var r=-1,i=(t=bo(t,e)).length;for(i||(i=1,e=o);++r<i;){var a=null==e?o:e[Ui(t[r])];a===o&&(r=i,a=n),e=Xa(a)?a.call(e):a}return e},$n.round=xc,$n.runInContext=e,$n.sample=function(e){return(Va(e)?Xn:Xr)(e)},$n.size=function(e){if(null==e)return 0;if(Ga(e))return cs(e)?pn(e):e.length;var t=mi(e);return t==T||t==R?e.size:jr(e).length},$n.snakeCase=Hs,$n.some=function(e,t,n){var r=Va(e)?Dt:io;return n&&bi(e,t,n)&&(t=o),r(e,li(t,3))},$n.sortedIndex=function(e,t){return ao(e,t)},$n.sortedIndexBy=function(e,t,n){return so(e,t,li(n,2))},$n.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ao(e,t);if(r<n&&$a(e[r],t))return r}return-1},$n.sortedLastIndex=function(e,t){return ao(e,t,!0)},$n.sortedLastIndexBy=function(e,t,n){return so(e,t,li(n,2),!0)},$n.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ao(e,t,!0)-1;if($a(e[n],t))return n}return-1},$n.startCase=Js,$n.startsWith=function(e,t,n){return e=ws(e),n=null==n?0:cr(gs(n),0,e.length),t=lo(t),e.slice(n,n+t.length)==t},$n.subtract=Tc,$n.sum=function(e){return e&&e.length?Zt(e,oc):0},$n.sumBy=function(e,t){return e&&e.length?Zt(e,li(t,2)):0},$n.template=function(e,t,n){var r=$n.templateSettings;n&&bi(e,t,n)&&(t=o),e=ws(e),t=Ss({},t,r,ei);var i,a,s=Ss({},t.imports,r.imports,ei),c=Os(s),u=en(s,c),l=0,d=t.interpolate||Se,f="__p += '",h=_e((t.escape||Se).source+"|"+d.source+"|"+(d===ee?pe:Se).source+"|"+(t.evaluate||Se).source+"|$","g"),p="//# sourceURL="+(Me.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++st+"]")+"\n";e.replace(h,(function(t,n,r,o,s,c){return r||(r=o),f+=e.slice(l,c).replace(Ee,sn),n&&(i=!0,f+="' +\n__e("+n+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=c+t.length,t})),f+="';\n";var g=Me.call(t,"variable")&&t.variable;if(g){if(fe.test(g))throw new xe("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(a?f.replace(V,""):f).replace(K,"$1").replace(G,"$1;"),f="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var m=Qs((function(){return Te(c,p+"return "+f).apply(o,u)}));if(m.source=f,Ya(m))throw m;return m},$n.times=function(e,t){if((e=gs(e))<1||e>p)return[];var n=m,r=An(e,m);t=li(t),e-=m;for(var o=Yt(r,t);++n<e;)t(n);return o},$n.toFinite=ps,$n.toInteger=gs,$n.toLength=ms,$n.toLower=function(e){return ws(e).toLowerCase()},$n.toNumber=ys,$n.toSafeInteger=function(e){return e?cr(gs(e),-9007199254740991,p):0===e?e:0},$n.toString=ws,$n.toUpper=function(e){return ws(e).toUpperCase()},$n.trim=function(e,t,n){if((e=ws(e))&&(n||t===o))return Xt(e);if(!e||!(t=lo(t)))return e;var r=gn(e),i=gn(t);return Eo(r,nn(r,i),rn(r,i)+1).join("")},$n.trimEnd=function(e,t,n){if((e=ws(e))&&(n||t===o))return e.slice(0,mn(e)+1);if(!e||!(t=lo(t)))return e;var r=gn(e);return Eo(r,0,rn(r,gn(t))+1).join("")},$n.trimStart=function(e,t,n){if((e=ws(e))&&(n||t===o))return e.replace(ae,"");if(!e||!(t=lo(t)))return e;var r=gn(e);return Eo(r,nn(r,gn(t))).join("")},$n.truncate=function(e,t){var n=30,r="...";if(ts(t)){var i="separator"in t?t.separator:i;n="length"in t?gs(t.length):n,r="omission"in t?lo(t.omission):r}var a=(e=ws(e)).length;if(cn(e)){var s=gn(e);a=s.length}if(n>=a)return e;var c=n-pn(r);if(c<1)return r;var u=s?Eo(s,0,c).join(""):e.slice(0,c);if(i===o)return u+r;if(s&&(c+=u.length-c),as(i)){if(e.slice(c).search(i)){var l,d=u;for(i.global||(i=_e(i.source,ws(ge.exec(i))+"g")),i.lastIndex=0;l=i.exec(d);)var f=l.index;u=u.slice(0,f===o?c:f)}}else if(e.indexOf(lo(i),c)!=c){var h=u.lastIndexOf(i);h>-1&&(u=u.slice(0,h))}return u+r},$n.unescape=function(e){return(e=ws(e))&&Z.test(e)?e.replace(H,yn):e},$n.uniqueId=function(e){var t=++je;return ws(e)+t},$n.upperCase=Zs,$n.upperFirst=Ys,$n.each=wa,$n.eachRight=Aa,$n.first=Gi,cc($n,(Sc={},br($n,(function(e,t){Me.call($n.prototype,t)||(Sc[t]=e)})),Sc),{chain:!1}),$n.VERSION="4.17.21",Ct(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){$n[e].placeholder=$n})),Ct(["drop","take"],(function(e,t){Vn.prototype[e]=function(n){n=n===o?1:wn(gs(n),0);var r=this.__filtered__&&!t?new Vn(this):this.clone();return r.__filtered__?r.__takeCount__=An(n,r.__takeCount__):r.__views__.push({size:An(n,m),type:e+(r.__dir__<0?"Right":"")}),r},Vn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Ct(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Vn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:li(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Ct(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Vn.prototype[e]=function(){return this[n](1).value()[0]}})),Ct(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Vn.prototype[e]=function(){return this.__filtered__?new Vn(this):this[n](1)}})),Vn.prototype.compact=function(){return this.filter(oc)},Vn.prototype.find=function(e){return this.filter(e).head()},Vn.prototype.findLast=function(e){return this.reverse().find(e)},Vn.prototype.invokeMap=Yr((function(e,t){return"function"==typeof e?new Vn(this):this.map((function(n){return Pr(n,e,t)}))})),Vn.prototype.reject=function(e){return this.filter(Ma(li(e)))},Vn.prototype.slice=function(e,t){e=gs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Vn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=gs(t))<0?n.dropRight(-t):n.take(t-e)),n)},Vn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Vn.prototype.toArray=function(){return this.take(m)},br(Vn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=$n[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);i&&($n.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,c=t instanceof Vn,u=s[0],l=c||Va(t),d=function(e){var t=i.apply($n,Mt([e],s));return r&&f?t[0]:t};l&&n&&"function"==typeof u&&1!=u.length&&(c=l=!1);var f=this.__chain__,h=!!this.__actions__.length,p=a&&!f,g=c&&!h;if(!a&&l){t=g?t:new Vn(this);var m=e.apply(t,s);return m.__actions__.push({func:pa,args:[d],thisArg:o}),new Wn(m,f)}return p&&g?e.apply(this,s):(m=this.thru(d),p?r?m.value()[0]:m.value():m)})})),Ct(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Pe[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);$n.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(Va(o)?o:[],e)}return this[n]((function(n){return t.apply(Va(n)?n:[],e)}))}})),br(Vn.prototype,(function(e,t){var n=$n[t];if(n){var r=n.name+"";Me.call(On,r)||(On[r]=[]),On[r].push({name:t,func:n})}})),On[Fo(o,2).name]=[{name:"wrapper",func:o}],Vn.prototype.clone=function(){var e=new Vn(this.__wrapped__);return e.__actions__=Po(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Po(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Po(this.__views__),e},Vn.prototype.reverse=function(){if(this.__filtered__){var e=new Vn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Vn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Va(e),r=t<0,o=n?e.length:0,i=function(e,t,n){var r=-1,o=n.length;for(;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=An(t,e+a);break;case"takeRight":e=wn(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=i.start,s=i.end,c=s-a,u=r?s:a-1,l=this.__iteratees__,d=l.length,f=0,h=An(c,this.__takeCount__);if(!n||!r&&o==c&&h==c)return mo(e,this.__actions__);var p=[];e:for(;c--&&f<h;){for(var g=-1,m=e[u+=t];++g<d;){var y=l[g],v=y.iteratee,w=y.type,A=v(m);if(2==w)m=A;else if(!A){if(1==w)continue e;break e}}p[f++]=m}return p},$n.prototype.at=ga,$n.prototype.chain=function(){return ha(this)},$n.prototype.commit=function(){return new Wn(this.value(),this.__chain__)},$n.prototype.next=function(){this.__values__===o&&(this.__values__=hs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},$n.prototype.plant=function(e){for(var t,n=this;n instanceof qn;){var r=Li(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},$n.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Vn){var t=e;return this.__actions__.length&&(t=new Vn(this)),(t=t.reverse()).__actions__.push({func:pa,args:[ta],thisArg:o}),new Wn(t,this.__chain__)}return this.thru(ta)},$n.prototype.toJSON=$n.prototype.valueOf=$n.prototype.value=function(){return mo(this.__wrapped__,this.__actions__)},$n.prototype.first=$n.prototype.head,Xe&&($n.prototype[Xe]=function(){return this}),$n}();gt._=vn,(r=function(){return vn}.call(t,n,t,e))===o||(e.exports=r)}.call(this)},5276:(e,t,n)=>{var r=n(4497),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},5288:(e,t,n)=>{var r=n(358),o=n(7200),i=n(6529);e.exports=function(e){return i(e)?r(e,!0):o(e)}},5353:(e,t,n)=>{var r=n(8638);e.exports=function(e,t,n){return t=n?void 0:t,t=e&&null==t?e.length:t,r(e,128,void 0,void 0,void 0,void 0,t)}},5387:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},5512:(e,t,n)=>{var r=n(4943),o=n(3316)(r);e.exports=o},5568:e=>{e.exports=function(e,t){return e.has(t)}},5620:(e,t,n)=>{var r=n(8788),o=n(9141),i=n(796),a=n(33);e.exports=function(e,t,n){var s=t+"";return i(e,o(s,a(r(s),n)))}},5650:(e,t,n)=>{var r=n(8942).Symbol;e.exports=r},5681:(e,t,n)=>{var r=n(4700);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},5755:e=>{var t=Math.max;e.exports=function(e,n,r,o){for(var i=-1,a=e.length,s=-1,c=r.length,u=-1,l=n.length,d=t(a-c,0),f=Array(d+l),h=!o;++i<d;)f[i]=e[i];for(var p=i;++u<l;)f[p+u]=n[u];for(;++s<c;)(h||i<a)&&(f[p+r[s]]=e[i++]);return f}},5832:(e,t,n)=>{var r=n(1129),o=n(4784),i=n(7979),a=n(9306),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,i(e)),e=o(e);return t}:a;e.exports=s},5853:(e,t,n)=>{e=n.nmd(e);var r=n(8942),o=n(4772),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||o;e.exports=c},5857:(e,t,n)=>{var r=n(313);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},5894:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},5899:(e,t,n)=>{var r=n(3526),o=n(3283),i=n(3142),a=n(9632),s=n(5387),c=n(6040);e.exports=function(e,t,n){for(var u=-1,l=(t=r(t,e)).length,d=!1;++u<l;){var f=c(t[u]);if(!(d=null!=e&&n(e,f)))break;e=e[f]}return d||++u!=l?d:!!(l=null==e?0:e.length)&&s(l)&&a(f,l)&&(i(e)||o(e))}},5962:e=>{e.exports=function(){}},5964:(e,t,n)=>{var r=n(9747),o=n(4784),i=n(4882);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},6027:(e,t,n)=>{var r=n(7379),o=n(547);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},6040:(e,t,n)=>{var r=n(1187);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},6065:(e,t,n)=>{var r=n(9270),o=r&&new r;e.exports=o},6123:(e,t,n)=>{var r=n(7923);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},6131:(e,t,n)=>{var r=n(6403),o=n(1580),i=n(1187),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):a.test(e)?NaN:+e}},6137:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},6285:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},6341:(e,t,n)=>{var r=n(6912),o=n(4364),i=n(8942);e.exports=function(e,t,n,a){var s=1&t,c=o(e);return function t(){for(var o=-1,u=arguments.length,l=-1,d=a.length,f=Array(d+u),h=this&&this!==i&&this instanceof t?c:e;++l<d;)f[l]=a[l];for(;u--;)f[l++]=arguments[++o];return r(h,s?n:this,f)}}},6403:(e,t,n)=>{var r=n(2945),o=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},6465:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},6493:(e,t,n)=>{var r=n(6853),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)})),t}));e.exports=a},6526:(e,t,n)=>{var r=n(8330),o=n(4367),i=n(3904);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},6529:(e,t,n)=>{var r=n(3655),o=n(5387);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},6591:(e,t,n)=>{var r=n(4354),o=n(9632),i=Math.min;e.exports=function(e,t){for(var n=e.length,a=i(t.length,n),s=r(e);a--;){var c=t[a];e[a]=o(c,n)?s[c]:void 0}return e}},6638:(e,t,n)=>{var r=n(1386),o=n(9770),i=n(8250);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(e,t),this.size=n.size,this}},6648:(e,t,n)=>{var r=n(7553),o=n(5196),i=n(961),a=n(3321);e.exports=function(e){var t=i(e),n=a[t];if("function"!=typeof n||!(t in r.prototype))return!1;if(e===n)return!0;var s=o(n);return!!s&&e===s[0]}},6713:(e,t,n)=>{var r=n(4364),o=n(8942);e.exports=function(e,t,n){var i=1&t,a=r(e);return function t(){return(this&&this!==o&&this instanceof t?a:e).apply(i?n:this,arguments)}}},6850:e=>{e.exports=function(e){return e.placeholder}},6853:(e,t,n)=>{var r=n(9011);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},6912:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},7028:(e,t,n)=>{var r=n(4977),o=n(5755),i=n(8813),a="__lodash_placeholder__",s=128,c=Math.min;e.exports=function(e,t){var n=e[1],u=t[1],l=n|u,d=l<131,f=u==s&&8==n||u==s&&256==n&&e[7].length<=t[8]||384==u&&t[7].length<=t[8]&&8==n;if(!d&&!f)return e;1&u&&(e[2]=t[2],l|=1&n?0:4);var h=t[3];if(h){var p=e[3];e[3]=p?r(p,h,t[4]):h,e[4]=p?i(e[3],a):t[4]}return(h=t[5])&&(p=e[5],e[5]=p?o(p,h,t[6]):h,e[6]=p?i(e[5],a):t[6]),(h=t[7])&&(e[7]=h),u&s&&(e[8]=null==e[8]?t[8]:c(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=l,e}},7034:(e,t,n)=>{var r=n(6285);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},7073:(e,t,n)=>{var r=n(2532);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},7099:(e,t,n)=>{e=n.nmd(e);var r=n(8942),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},7144:(e,t,n)=>{var r=n(7034);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7200:(e,t,n)=>{var r=n(1580),o=n(4882),i=n(8546),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=o(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},7250:e=>{e.exports=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}},7267:(e,t,n)=>{var r=n(1580);e.exports=function(e){return e==e&&!r(e)}},7276:(e,t,n)=>{var r=n(3636),o=n(5899);e.exports=function(e,t){return null!=e&&o(e,t,r)}},7336:(e,t,n)=>{var r=n(8638);function o(e,t,n){var i=r(e,8,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return i.placeholder=o.placeholder,i}o.placeholder={},e.exports=o},7350:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},7379:(e,t,n)=>{var r=n(5650),o=n(8870),i=n(9005),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},7403:(e,t,n)=>{var r=n(2619),o=n(2532),i=n(2053),a=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=a},7452:(e,t,n)=>{var r=n(7034);e.exports=function(e){return r(this.__data__,e)>-1}},7462:e=>{e.exports=function(e){return this.__data__.has(e)}},7553:(e,t,n)=>{var r=n(9747),o=n(5962);function i(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}i.prototype=r(o.prototype),i.prototype.constructor=i,e.exports=i},7642:(e,t,n)=>{var r=n(3301);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},7681:(e,t,n)=>{var r=n(777),o=n(9460),i=n(2306),a=i&&i.isMap,s=a?o(a):r;e.exports=s},7706:e=>{e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},7769:(e,t,n)=>{var r=n(8486),o=n(547);e.exports=function(e){return o(e)&&"[object WeakMap]"==r(e)}},7923:(e,t,n)=>{var r=n(3526),o=n(6040);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},7930:(e,t,n)=>{var r=n(9032),o=n(1211);e.exports=function(e,t){return e&&r(t,o(t),e)}},7979:(e,t,n)=>{var r=n(9847),o=n(9306),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return i.call(e,t)})))}:o;e.exports=s},7991:(e,t)=>{"use strict";t.byteLength=function(e){var t=s(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=s(e),a=i[0],c=i[1],u=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,c)),l=0,d=c>0?a-4:a;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===c&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,u[l++]=255&t);1===c&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],a=16383,s=0,u=r-o;s<u;s+=a)i.push(c(e,s,s+a>u?u:s+a));1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)n[a]=i[a],r[i.charCodeAt(a)]=a;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,r){for(var o,i,a=[],s=t;s<r;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},8006:e=>{e.exports=function(e){return this.__data__.has(e)}},8055:(e,t,n)=>{e.exports={ary:n(5353),assign:n(7930),clone:n(2846),curry:n(7336),forEach:n(9968),isArray:n(3142),isError:n(441),isFunction:n(3655),isWeakMap:n(7769),iteratee:n(2590),keys:n(195),rearg:n(864),toInteger:n(7642),toPath:n(2613)}},8069:(e,t,n)=>{var r=n(5650),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},8121:(e,t,n)=>{var r=n(3766)(Object.keys,Object);e.exports=r},8244:(e,t,n)=>{var r=n(1129),o=n(3142);e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},8250:(e,t,n)=>{var r=n(9753),o=n(5681),i=n(88),a=n(4732),s=n(9068);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},8330:(e,t,n)=>{var r=n(1340),o=n(4687);e.exports=function(e,t,n,i){var a=n.length,s=a,c=!i;if(null==e)return!s;for(e=Object(e);a--;){var u=n[a];if(c&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<s;){var l=(u=n[a])[0],d=e[l],f=u[1];if(c&&u[2]){if(void 0===d&&!(l in e))return!1}else{var h=new r;if(i)var p=i(d,f,l,e,t,h);if(!(void 0===p?o(f,d,3,i,h):p))return!1}}return!0}},8340:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},8360:(e,t,n)=>{var r=n(7379),o=n(4784),i=n(547),a=Function.prototype,s=Object.prototype,c=a.toString,u=s.hasOwnProperty,l=c.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=r(e))return!1;var t=o(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==l}},8486:(e,t,n)=>{var r=n(3103),o=n(9770),i=n(9413),a=n(4512),s=n(9270),c=n(7379),u=n(4066),l="[object Map]",d="[object Promise]",f="[object Set]",h="[object WeakMap]",p="[object DataView]",g=u(r),m=u(o),y=u(i),v=u(a),w=u(s),A=c;(r&&A(new r(new ArrayBuffer(1)))!=p||o&&A(new o)!=l||i&&A(i.resolve())!=d||a&&A(new a)!=f||s&&A(new s)!=h)&&(A=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case g:return p;case m:return l;case y:return d;case v:return f;case w:return h}return t}),e.exports=A},8546:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},8638:(e,t,n)=>{var r=n(4943),o=n(6713),i=n(2443),a=n(3504),s=n(6341),c=n(5196),u=n(7028),l=n(5512),d=n(5620),f=n(7642),h=Math.max;e.exports=function(e,t,n,p,g,m,y,v){var w=2&t;if(!w&&"function"!=typeof e)throw new TypeError("Expected a function");var A=p?p.length:0;if(A||(t&=-97,p=g=void 0),y=void 0===y?y:h(f(y),0),v=void 0===v?v:f(v),A-=g?g.length:0,64&t){var b=p,S=g;p=g=void 0}var E=w?void 0:c(e),x=[e,t,n,p,g,b,S,m,y,v];if(E&&u(x,E),e=x[0],t=x[1],n=x[2],p=x[3],g=x[4],!(v=x[9]=void 0===x[9]?w?0:e.length:h(x[9]-A,0))&&24&t&&(t&=-25),t&&1!=t)T=8==t||16==t?i(e,t,v):32!=t&&33!=t||g.length?a.apply(void 0,x):s(e,t,n,p);else var T=o(e,t,n);return d((E?r:l)(T,x),e,t)}},8666:(e,t,n)=>{var r=n(674),o=n(9460),i=n(2306),a=i&&i.isTypedArray,s=a?o(a):r;e.exports=s},8788:e=>{var t=/\{\n\/\* \[wrapped with (.+)\] \*/,n=/,? & /;e.exports=function(e){var r=e.match(t);return r?r[1].split(n):[]}},8813:e=>{var t="__lodash_placeholder__";e.exports=function(e,n){for(var r=-1,o=e.length,i=0,a=[];++r<o;){var s=e[r];s!==n&&s!==t||(e[r]=t,a[i++]=r)}return a}},8861:(e,t,n)=>{var r=n(5650),o=n(1623),i=n(6285),a=n(3934),s=n(5894),c=n(9828),u=r?r.prototype:void 0,l=u?u.valueOf:void 0;e.exports=function(e,t,n,r,u,d,f){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var p=1&r;if(h||(h=c),e.size!=t.size&&!p)return!1;var g=f.get(e);if(g)return g==t;r|=2,f.set(e,t);var m=a(h(e),h(t),r,u,d,f);return f.delete(e),m;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},8870:(e,t,n)=>{var r=n(5650),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},8880:(e,t,n)=>{var r=n(7923);e.exports=function(e){return function(t){return r(t,e)}}},8898:(e,t,n)=>{var r=n(1623);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},8942:(e,t,n)=>{var r=n(4967),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},9005:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},9011:(e,t,n)=>{var r=n(8250);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},9032:(e,t,n)=>{var r=n(3422),o=n(7073);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var u=t[s],l=i?i(n[u],e[u],u,n,e):void 0;void 0===l&&(l=e[u]),a?o(n,u,l):r(n,u,l)}return n}},9067:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},9068:(e,t,n)=>{var r=n(4700);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},9071:e=>{e.exports=function(){}},9141:e=>{var t=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;e.exports=function(e,n){var r=n.length;if(!r)return e;var o=r-1;return n[o]=(r>1?"& ":"")+n[o],n=n.join(r>2?", ":" "),e.replace(t,"{\n/* [wrapped with "+n+"] */\n")}},9270:(e,t,n)=>{var r=n(4715)(n(8942),"WeakMap");e.exports=r},9306:e=>{e.exports=function(){return[]}},9318:(e,t)=>{t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,c=(1<<s)-1,u=c>>1,l=-7,d=n?o-1:0,f=n?-1:1,h=e[t+d];for(d+=f,i=h&(1<<-l)-1,h>>=-l,l+=s;l>0;i=256*i+e[t+d],d+=f,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+e[t+d],d+=f,l-=8);if(0===i)i=1-u;else{if(i===c)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),i-=u}return(h?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,c,u=8*i-o-1,l=(1<<u)-1,d=l>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+d>=1?f/c:f*Math.pow(2,1-d))*c>=2&&(a++,c/=2),a+d>=l?(s=0,a=l):a+d>=1?(s=(t*c-1)*Math.pow(2,o),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;e[n+h]=255&s,h+=p,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;e[n+h]=255&a,h+=p,a/=256,u-=8);e[n+h-p]|=128*g}},9334:(e,t,n)=>{var r=n(1340),o=n(9968),i=n(3422),a=n(7930),s=n(125),c=n(7099),u=n(4354),l=n(3546),d=n(4733),f=n(393),h=n(3650),p=n(8486),g=n(7350),m=n(424),y=n(5964),v=n(3142),w=n(5853),A=n(7681),b=n(1580),S=n(3943),E=n(1211),x=n(5288),T="[object Arguments]",k="[object Function]",I="[object Object]",_={};_[T]=_["[object Array]"]=_["[object ArrayBuffer]"]=_["[object DataView]"]=_["[object Boolean]"]=_["[object Date]"]=_["[object Float32Array]"]=_["[object Float64Array]"]=_["[object Int8Array]"]=_["[object Int16Array]"]=_["[object Int32Array]"]=_["[object Map]"]=_["[object Number]"]=_[I]=_["[object RegExp]"]=_["[object Set]"]=_["[object String]"]=_["[object Symbol]"]=_["[object Uint8Array]"]=_["[object Uint8ClampedArray]"]=_["[object Uint16Array]"]=_["[object Uint32Array]"]=!0,_["[object Error]"]=_[k]=_["[object WeakMap]"]=!1,e.exports=function e(t,n,C,R,P,O){var N,B=1&n,z=2&n,M=4&n;if(C&&(N=P?C(t,R,P,O):C(t)),void 0!==N)return N;if(!b(t))return t;var j=v(t);if(j){if(N=g(t),!B)return u(t,N)}else{var U=p(t),D=U==k||"[object GeneratorFunction]"==U;if(w(t))return c(t,B);if(U==I||U==T||D&&!P){if(N=z||D?{}:y(t),!B)return z?d(t,s(N,t)):l(t,a(N,t))}else{if(!_[U])return P?t:{};N=m(t,U,B)}}O||(O=new r);var L=O.get(t);if(L)return L;O.set(t,N),S(t)?t.forEach((function(r){N.add(e(r,n,C,r,t,O))})):A(t)&&t.forEach((function(r,o){N.set(o,e(r,n,C,o,t,O))}));var $=j?void 0:(M?z?h:f:z?x:E)(t);return o($||t,(function(r,o){$&&(r=t[o=r]),i(N,o,e(r,n,C,o,t,O))})),N}},9361:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},9413:(e,t,n)=>{var r=n(4715)(n(8942),"Promise");e.exports=r},9454:e=>{e.exports=function(e){return e!=e}},9460:e=>{e.exports=function(e){return function(t){return e(t)}}},9624:(e,t,n)=>{var r=n(3655),o=n(4759),i=n(1580),a=n(4066),s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,d=u.hasOwnProperty,f=RegExp("^"+l.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?f:s).test(a(e))}},9632:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},9747:(e,t,n)=>{var r=n(1580),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},9753:(e,t,n)=>{var r=n(5098),o=n(1386),i=n(9770);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},9756:(e,t,n)=>{var r=n(2478);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},9770:(e,t,n)=>{var r=n(4715)(n(8942),"Map");e.exports=r},9828:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},9847:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}},9968:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var r={};(()=>{"use strict";n.r(r),n.d(r,{onAssetHistoricalPrice:()=>xx,onAssetsConversion:()=>Sx,onAssetsLookup:()=>bx,onAssetsMarketData:()=>Px,onClientRequest:()=>Tx,onCronjob:()=>Ax,onInstall:()=>Cx,onKeyringRequest:()=>vx,onNameLookup:()=>Rx,onProtocolRequest:()=>Ex,onRpcRequest:()=>yx,onStart:()=>Ix,onUpdate:()=>_x,onUserInput:()=>wx,onWebSocketEvent:()=>kx});var e=function(){return e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},e.apply(this,arguments)},t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";(()=>{const e=Array(256).fill(-1);for(let n=0;n<58;++n)e[t.charCodeAt(n)]=n})();var o,i,a=e=>{if(!e||"string"!=typeof e)throw new Error(`Expected base58 string but got “${e}”`);if(e.match(/[IOl0]/gmu))throw new Error(`Invalid base58 character “${e.match(/[IOl0]/gmu)}”`);const n=e.match(/^1+/gmu),r=n?n[0].length:0,o=(e.length-r)*(Math.log(58)/Math.log(256))+1>>>0;return new Uint8Array([...new Uint8Array(r),...e.match(/.{1}/gmu).map((e=>t.indexOf(e))).reduce(((e,t)=>e.map((e=>{const n=58*e+t;return t=n>>8,n}))),new Uint8Array(o)).reverse().filter((i=!1,e=>i=i||e))]);var i},s=(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.bech32m=t.bech32=void 0;const n="qpzry9x8gf2tvdw0s3jn54khce6mua7l",r={};for(let e=0;e<32;e++){const t=n.charAt(e);r[t]=e}function o(e){const t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function i(e){let t=1;for(let n=0;n<e.length;++n){const r=e.charCodeAt(n);if(r<33||r>126)return"Invalid prefix ("+e+")";t=o(t)^r>>5}t=o(t);for(let n=0;n<e.length;++n){const r=e.charCodeAt(n);t=o(t)^31&r}return t}function a(e,t,n,r){let o=0,i=0;const a=(1<<n)-1,s=[];for(let r=0;r<e.length;++r)for(o=o<<t|e[r],i+=t;i>=n;)i-=n,s.push(o>>i&a);if(r)i>0&&s.push(o<<n-i&a);else{if(i>=t)return"Excess padding";if(o<<n-i&a)return"Non-zero padding"}return s}function s(e){return a(e,8,5,!0)}function c(e){const t=a(e,5,8,!1);if(Array.isArray(t))return t}function u(e){const t=a(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}function l(e){let t;function a(e,n){if(n=n||90,e.length<8)return e+" too short";if(e.length>n)return"Exceeds length limit";const a=e.toLowerCase(),s=e.toUpperCase();if(e!==a&&e!==s)return"Mixed-case string "+e;const c=(e=a).lastIndexOf("1");if(-1===c)return"No separator character for "+e;if(0===c)return"Missing prefix for "+e;const u=e.slice(0,c),l=e.slice(c+1);if(l.length<6)return"Data too short";let d=i(u);if("string"==typeof d)return d;const f=[];for(let e=0;e<l.length;++e){const t=l.charAt(e),n=r[t];if(void 0===n)return"Unknown character "+t;d=o(d)^n,e+6>=l.length||f.push(n)}return d!==t?"Invalid checksum for "+e:{prefix:u,words:f}}return t="bech32"===e?1:734539939,{decodeUnsafe:function(e,t){const n=a(e,t);if("object"==typeof n)return n},decode:function(e,t){const n=a(e,t);if("object"==typeof n)return n;throw new Error(n)},encode:function(e,r,a){if(a=a||90,e.length+7+r.length>a)throw new TypeError("Exceeds length limit");let s=i(e=e.toLowerCase());if("string"==typeof s)throw new Error(s);let c=e+"1";for(let e=0;e<r.length;++e){const t=r[e];if(t>>5!=0)throw new Error("Non 5-bit word");s=o(s)^t,c+=n.charAt(t)}for(let e=0;e<6;++e)s=o(s);s^=t;for(let e=0;e<6;++e)c+=n.charAt(s>>5*(5-e)&31);return c},toWords:s,fromWordsUnsafe:c,fromWords:u}}t.bech32=l("bech32"),t.bech32m=l("bech32m")}(o={exports:{}},o.exports),o.exports);(i=s)&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")&&i.default;var c=s.bech32m,u=s.bech32;const l=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998];class d{constructor(){this.A=1779033703,this.B=-1150833019,this.C=1013904242,this.D=-1521486534,this.E=1359893119,this.F=-1694144372,this.G=528734635,this.H=1541459225,this._size=0,this._sp=0,(!h||p>=8e3)&&(h=new ArrayBuffer(8e3),p=0),this._byte=new Uint8Array(h,p,80),this._word=new Int32Array(h,p,20),p+=80}update(e){if("string"==typeof e)return this._utf8(e);if(null==e)throw new TypeError("Invalid type: "+typeof e);const t=e.byteOffset,n=e.byteLength;let r=n/64|0,o=0;if(r&&!(3&t)&&!(this._size%64)){const n=new Int32Array(e.buffer,t,16*r);for(;r--;)this._int32(n,o>>2),o+=64;this._size+=o}if(1!==e.BYTES_PER_ELEMENT&&e.buffer){const r=new Uint8Array(e.buffer,t+o,n-o);return this._uint8(r)}return o===n?this:this._uint8(e,o)}_uint8(e,t){const{_byte:n,_word:r}=this,o=e.length;for(t|=0;t<o;){const i=this._size%64;let a=i;for(;t<o&&a<64;)n[a++]=e[t++];a>=64&&this._int32(r),this._size+=a-i}return this}_utf8(e){const{_byte:t,_word:n}=this,r=e.length;let o=this._sp;for(let i=0;i<r;){const a=this._size%64;let s=a;for(;i<r&&s<64;){let n=0|e.charCodeAt(i++);n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|63&n):n<55296||n>57343?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|63&n):o?(n=((1023&o)<<10)+(1023&n)+65536,t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|63&n,o=0):o=n}s>=64&&(this._int32(n),n[0]=n[16]),this._size+=s-a}return this._sp=o,this}_int32(e,t){let{A:n,B:r,C:o,D:i,E:a,F:s,G:c,H:u}=this,d=0;for(t|=0;d<16;)f[d++]=m(e[t++]);for(d=16;d<64;d++)f[d]=S(f[d-2])+f[d-7]+b(f[d-15])+f[d-16]|0;for(d=0;d<64;d++){const e=u+A(a)+y(a,s,c)+l[d]+f[d]|0,t=w(n)+v(n,r,o)|0;u=c,c=s,s=a,a=i+e|0,i=o,o=r,r=n,n=e+t|0}this.A=n+this.A|0,this.B=r+this.B|0,this.C=o+this.C|0,this.D=i+this.D|0,this.E=a+this.E|0,this.F=s+this.F|0,this.G=c+this.G|0,this.H=u+this.H|0}digest(e){const{_byte:t,_word:n}=this;let r=this._size%64|0;for(t[r++]=128;3&r;)t[r++]=0;if(r>>=2,r>14){for(;r<16;)n[r++]=0;r=0,this._int32(n)}for(;r<16;)n[r++]=0;const o=8*this._size,i=(4294967295&o)>>>0,a=(o-i)/4294967296;return a&&(n[14]=m(a)),i&&(n[15]=m(i)),this._int32(n),"hex"===e?this._hex():this._bin()}_hex(){const{A:e,B:t,C:n,D:r,E:o,F:i,G:a,H:s}=this;return g(e)+g(t)+g(n)+g(r)+g(o)+g(i)+g(a)+g(s)}_bin(){const{A:e,B:t,C:n,D:r,E:o,F:i,G:a,H:s,_byte:c,_word:u}=this;return u[0]=m(e),u[1]=m(t),u[2]=m(n),u[3]=m(r),u[4]=m(o),u[5]=m(i),u[6]=m(a),u[7]=m(s),c.slice(0,32)}}const f=new Int32Array(64);let h,p=0;const g=e=>(e+4294967296).toString(16).substr(-8),m=254===new Uint8Array(new Uint16Array([65279]).buffer)[0]?e=>e:e=>e<<24&4278190080|e<<8&16711680|e>>8&65280|e>>24&255,y=(e,t,n)=>n^e&(t^n),v=(e,t,n)=>e&t|n&(e|t),w=e=>(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),A=e=>(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7),b=e=>(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3,S=e=>(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10;var E,x,T=function(e){return(new d).update(e).digest()};!function(e){e.mainnet="mainnet",e.testnet="testnet",e.regtest="regtest"}(E||(E={})),function(e){e.p2pkh="p2pkh",e.p2sh="p2sh",e.p2wpkh="p2wpkh",e.p2wsh="p2wsh",e.p2tr="p2tr"}(x||(x={}));var k={0:{type:x.p2pkh,network:E.mainnet},111:{type:x.p2pkh,network:E.testnet},5:{type:x.p2sh,network:E.mainnet},196:{type:x.p2sh,network:E.testnet}},I=function(t){var n,r=t.substr(0,2).toLowerCase();if("bc"===r||"tb"===r)return function(e){var t;try{t=e.startsWith("bc1p")||e.startsWith("tb1p")||e.startsWith("bcrt1p")?c.decode(e):u.decode(e)}catch(e){throw new Error("Invalid address")}var n={bc:E.mainnet,tb:E.testnet,bcrt:E.regtest}[t.prefix];if(void 0===n)throw new Error("Invalid address");var r=t.words[0];if(r<0||r>16)throw new Error("Invalid address");return{bech32:!0,network:n,address:e,type:20===u.fromWords(t.words.slice(1)).length?x.p2wpkh:1===r?x.p2tr:x.p2wsh}}(t);try{n=a(t)}catch(e){throw new Error("Invalid address")}var o=n.length;if(25!==o)throw new Error("Invalid address");var i=n[0],s=n.slice(o-4,o),l=n.slice(0,o-4),d=T(T(l)).slice(0,4);if(s.some((function(e,t){return e!==d[t]})))throw new Error("Invalid address");if(!Object.keys(k).map(Number).includes(i))throw new Error("Invalid address");return e(e({},k[i]),{address:t,bech32:!1})};class _ extends TypeError{constructor(e,t){let n;const{message:r,explanation:o,...i}=e,{path:a}=e,s=0===a.length?r:`At path: ${a.join(".")} -- ${r}`;super(o??s),null!=o&&(this.cause=s),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}}function C(e){return"object"==typeof e&&null!==e}function R(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function P(e,t,n,r){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:o,branch:i}=t,{type:a}=n,{refinement:s,message:c=`Expected a value of type \`${a}\`${s?` with refinement \`${s}\``:""}, but received: \`${R(r)}\``}=e;return{value:r,type:a,refinement:s,key:o[o.length-1],path:o,branch:i,...e,message:c}}function*O(e,t,n,r){(function(e){return C(e)&&"function"==typeof e[Symbol.iterator]})(e)||(e=[e]);for(const o of e){const e=P(o,t,n,r);e&&(yield e)}}function*N(e,t,n={}){const{path:r=[],branch:o=[e],coerce:i=!1,mask:a=!1}=n,s={path:r,branch:o};if(i&&(e=t.coercer(e,s),a&&"type"!==t.type&&C(t.schema)&&C(e)&&!Array.isArray(e)))for(const n in e)void 0===t.schema[n]&&delete e[n];let c="valid";for(const r of t.validator(e,s))r.explanation=n.message,c="not_valid",yield[r,void 0];for(let[u,l,d]of t.entries(e,s)){const t=N(l,d,{path:void 0===u?r:[...r,u],branch:void 0===u?o:[...o,l],coerce:i,mask:a,message:n.message});for(const n of t)n[0]?(c=null===n[0].refinement||void 0===n[0].refinement?"not_valid":"not_refined",yield[n[0],void 0]):i&&(l=n[1],void 0===u?e=l:e instanceof Map?e.set(u,l):e instanceof Set?e.add(l):C(e)&&(void 0!==l||u in e)&&(e[u]=l))}if("not_valid"!==c)for(const r of t.refiner(e,s))r.explanation=n.message,c="not_refined",yield[r,void 0];"valid"===c&&(yield[void 0,e])}class B{constructor(e){const{type:t,schema:n,validator:r,refiner:o,coercer:i=(e=>e),entries:a=function*(){}}=e;this.type=t,this.schema=n,this.entries=a,this.coercer=i,this.validator=r?(e,t)=>O(r(e,t),t,this,e):()=>[],this.refiner=o?(e,t)=>O(o(e,t),t,this,e):()=>[]}assert(e,t){return z(e,this,t)}create(e,t){return M(e,this,t)}is(e){return j(e,this)}mask(e,t){return function(e,t,n){const r=U(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}(e,this,t)}validate(e,t={}){return U(e,this,t)}}function z(e,t,n){const r=U(e,t,{message:n});if(r[0])throw r[0]}function M(e,t,n){const r=U(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function j(e,t){return!U(e,t)[0]}function U(e,t,n={}){const r=N(e,t,n),o=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(r);if(o[0]){return[new _(o[0],(function*(){for(const e of r)e[0]&&(yield e[0])})),void 0]}return[void 0,o[1]]}function D(e,t){return new B({type:e,schema:null,validator:t})}function L(e,t){return D(e,(e=>"string"==typeof e&&t.test(e)))}const $=L("UuidV4",/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/iu),F=$,q=D("Url",(e=>{try{const t=new URL(e);return"http:"===t.protocol||"https:"===t.protocol}catch{return!1}})),W=L("StringNumber",/^\d+(\.\d+)?$/u);function V(){return D("any",(()=>!0))}function K(e){return new B({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${R(e)}`})}function G(){return D("boolean",(e=>"boolean"==typeof e))}function H(e){const t={},n=e.map((e=>R(e))).join();for(const n of e)t[n]=n;return new B({type:"enums",schema:t,validator:t=>e.includes(t)||`Expected one of \`${n}\`, but received: ${R(t)}`})}function J(){return D("integer",(e=>"number"==typeof e&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${R(e)}`))}function Z(e){const t=R(e),n=typeof e;return new B({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?e:null,validator:n=>n===e||`Expected the literal \`${t}\`, but received: ${R(n)}`})}function Y(){return D("never",(()=>!1))}function X(e){return new B({...e,validator:(t,n)=>null===t||e.validator(t,n),refiner:(t,n)=>null===t||e.refiner(t,n)})}function Q(){return D("number",(e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${R(e)}`))}function ee(e){const t=e?Object.keys(e):[],n=Y();return new B({type:"object",schema:e??null,*entries(r){if(e&&C(r)){const o=new Set(Object.keys(r));for(const n of t)o.delete(n),yield[n,r[n],e[n]];for(const e of o)yield[e,r[e],n]}},validator:e=>C(e)||`Expected an object, but received: ${R(e)}`,coercer:e=>C(e)?{...e}:e})}function te(e){return new B({...e,validator:(t,n)=>void 0===t||e.validator(t,n),refiner:(t,n)=>void 0===t||e.refiner(t,n)})}function ne(e,t){return new B({type:"record",schema:null,*entries(n){if(C(n))for(const r in n){const o=n[r];yield[r,r,e],yield[r,o,t]}},validator:e=>C(e)||`Expected an object, but received: ${R(e)}`})}function re(){return D("string",(e=>"string"==typeof e||`Expected a string, but received: ${R(e)}`))}function oe(e){const t=Y();return new B({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(e.length,n.length);for(let o=0;o<r;o++)yield[o,n[o],e[o]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${R(e)}`})}function ie(e){const t=Object.keys(e);return new B({type:"type",schema:e,*entries(n){if(C(n))for(const r of t)yield[r,n[r],e[r]]},validator:e=>C(e)||`Expected an object, but received: ${R(e)}`,coercer:e=>C(e)?{...e}:e})}function ae(e){const t=e.map((e=>e.type)).join(" | ");return new B({type:"union",schema:null,coercer(t){for(const n of e){const[e,r]=n.validate(t,{coerce:!0});if(!e)return r}return t},validator(n,r){const o=[];for(const t of e){const[...e]=N(n,t,r),[i]=e;if(!i?.[0])return[];for(const[t]of e)t&&o.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${R(n)}`,...o]}})}function se(){return D("unknown",(()=>!0))}function ce(e){return ee(e)}function ue(e){return e.path[e.path.length-1]in e.branch[e.branch.length-2]}function le(e){return new B({...e,validator:(t,n)=>!ue(n)||e.validator(t,n),refiner:(t,n)=>!ue(n)||e.refiner(t,n)})}function de(e,t,n){return new B({...e,coercer:(r,o)=>j(r,t)?e.coercer(n(r,o),o):e.coercer(r,o)})}function fe(e){return e instanceof Map||e instanceof Set?e.size:e.length}function he(e,t,n={}){const{exclusive:r}=n;return me(e,"min",(n=>r?n>t:n>=t||`Expected a ${e.type} greater than ${r?"":"or equal to "}${t} but received \`${n}\``))}function pe(e){return me(e,"nonempty",(t=>fe(t)>0||`Expected a nonempty ${e.type} but received an empty one`))}function ge(e,t){return me(e,"pattern",(n=>t.test(n)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${n}"`))}function me(e,t,n){return new B({...e,*refiner(r,o){yield*e.refiner(r,o);const i=O(n(r,o),o,e,r);for(const e of i)yield{...e,refinement:t}}})}const ye=(e,t)=>Object.hasOwnProperty.call(e,t);var ve;!function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(ve=ve||(ve={}));const we=e=>ee(e);function Ae({path:e,branch:t}){const n=e[e.length-1];return ye(t[t.length-2],n)}function be(e){return new B({...e,type:`optional ${e.type}`,validator:(t,n)=>!Ae(n)||e.validator(t,n),refiner:(t,n)=>!Ae(n)||e.refiner(t,n)})}function Se(e){if(null===e||"boolean"==typeof e||"string"==typeof e)return!0;if("number"==typeof e&&Number.isFinite(e))return!0;if("object"==typeof e){let t=!0;if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(!Se(e[n])){t=!1;break}return t}const n=Object.entries(e);for(let e=0;e<n.length;e++)if("string"!=typeof n[e][0]||!Se(n[e][1])){t=!1;break}return t}return!1}const Ee=D("JSON",(e=>Se(e))),xe=de(Ee,me(V(),"JSON",(e=>j(e,Ee))),(e=>JSON.parse(JSON.stringify(e,((e,t)=>{if("__proto__"!==e&&"constructor"!==e)return t})))));const Te=Z("2.0"),ke=X(ae([Q(),re()])),Ie=we({code:J(),message:re(),data:be(xe),stack:be(re())}),_e=ae([ne(re(),xe),K(xe)]);we({id:ke,jsonrpc:Te,method:re(),params:be(_e)}),we({jsonrpc:Te,method:re(),params:be(_e)});ee({id:ke,jsonrpc:Te,result:te(se()),error:te(Ie)});const Ce=we({id:ke,jsonrpc:Te,result:xe}),Re=we({id:ke,jsonrpc:Te,error:Ie});ae([Ce,Re]);const Pe=ce({jsonrpc:Z("2.0"),id:ae([re(),Q(),Z(null)]),method:re(),params:le(ae([K(xe),ne(re(),xe)]))});const Oe=(e,t)=>Object.hasOwnProperty.call(e,t);var Ne;!function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(Ne=Ne||(Ne={}));const Be=e=>ee(e);function ze({path:e,branch:t}){const n=e[e.length-1];return Oe(t[t.length-2],n)}function Me(e){return new B({...e,type:`optional ${e.type}`,validator:(t,n)=>!ze(n)||e.validator(t,n),refiner:(t,n)=>!ze(n)||e.refiner(t,n)})}function je(e){if(null===e||"boolean"==typeof e||"string"==typeof e)return!0;if("number"==typeof e&&Number.isFinite(e))return!0;if("object"==typeof e){let t=!0;if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(!je(e[n])){t=!1;break}return t}const n=Object.entries(e);for(let e=0;e<n.length;e++)if("string"!=typeof n[e][0]||!je(n[e][1])){t=!1;break}return t}return!1}const Ue=D("JSON",(e=>je(e))),De=de(Ue,me(V(),"JSON",(e=>j(e,Ue))),(e=>JSON.parse(JSON.stringify(e,((e,t)=>{if("__proto__"!==e&&"constructor"!==e)return t})))));const Le=Z("2.0"),$e=X(ae([Q(),re()])),Fe=Be({code:J(),message:re(),data:Me(De),stack:Me(re())}),qe=ae([ne(re(),De),K(De)]);Be({id:$e,jsonrpc:Le,method:re(),params:Me(qe)}),Be({jsonrpc:Le,method:re(),params:Me(qe)});ee({id:$e,jsonrpc:Le,result:te(se()),error:te(Fe)});const We=Be({id:$e,jsonrpc:Le,result:De}),Ve=Be({id:$e,jsonrpc:Le,error:Fe});ae([We,Ve]);function Ke(e,t){return D(e,(e=>"string"==typeof e&&t.test(e)))}const Ge=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$/u,He=/^[-a-z0-9]{3,8}$/u,Je=/^[-_a-zA-Z0-9]{1,32}$/u,Ze=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$/u,Ye=/^[-.%a-zA-Z0-9]{1,128}$/u,Xe=/^[-a-z0-9]{3,8}$/u,Qe=/^[-.%a-zA-Z0-9]{1,128}$/u,et=/^[-.%a-zA-Z0-9]{1,78}$/u,tt=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})$/u,nt=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})\/(?<tokenId>[-.%a-zA-Z0-9]{1,78})$/u,rt=Ke("CaipChainId",Ge),ot=(Ke("CaipNamespace",He),Ke("CaipReference",Je),Ke("CaipAccountId",Ze)),it=(Ke("CaipAccountAddress",Ye),Ke("CaipAssetNamespace",Xe),Ke("CaipAssetReference",Qe),Ke("CaipTokenId",et),Ke("CaipAssetType",tt)),at=Ke("CaipAssetId",nt),st=Ke("CaipAssetTypeOrId",/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})(\/(?<tokenId>[-.%a-zA-Z0-9]{1,78}))?$/u);var ct,ut,lt,dt;!function(e){e.Bip122="bip122",e.Solana="solana",e.Eip155="eip155",e.Wallet="wallet"}(ct=ct||(ct={})),function(e){e.Eoa="eip155:eoa",e.Erc4337="eip155:erc4337"}(ut||(ut={})),function(e){e.P2pkh="bip122:p2pkh",e.P2sh="bip122:p2sh",e.P2wpkh="bip122:p2wpkh",e.P2tr="bip122:p2tr"}(lt||(lt={})),function(e){e.DataAccount="solana:data-account"}(dt||(dt={}));const ft=ce({id:F,type:H([`${ut.Eoa}`,`${ut.Erc4337}`,`${lt.P2pkh}`,`${lt.P2sh}`,`${lt.P2wpkh}`,`${lt.P2tr}`,`${dt.DataAccount}`]),address:re(),scopes:pe(K(rt)),options:ne(re(),De),methods:K(re())}),ht=(ee({address:ot}),ce({unit:re(),amount:W})),pt=ce({fungible:Z(!0),type:it,...ht.schema}),gt=ce({fungible:Z(!1),id:at}),mt=(yt=e=>function(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}}(e)&&!e.fungible?gt:pt,new B({type:"union",schema:null,*entries(e,t){yield*yt(e).entries(e,t)},*refiner(e,t){yield*yt(e).refiner(e,t)},coercer:(e,t)=>yt(e).coercer(e,t),validator:(e,t)=>yt(e).validator(e,t)}));var yt;const vt=ce({amount:W,unit:re()}),wt=Ke("DerivationPath",/^m(?:\/\d+'?)+$/u);var At;!function(e){e.Bip44="bip44"}(At||(At={}));const bt=ee({type:Z(`${At.Bip44}`),scopes:K(rt),derivationPath:wt}),St=(ne(re(),De),ce({id:$,scope:re(),account:$,origin:re(),request:ce({method:re(),params:le(ae([K(De),ne(re(),De)]))})})),Et=(ae([ce({pending:Z(!0),redirect:le(ce({message:le(re()),url:le(re())}))}),ce({pending:Z(!1),result:De})]),ce({address:re(),asset:X(mt)}));var xt;!function(e){e.Base="base",e.Priority="priority"}(xt||(xt={}));const Tt=ce({type:H([`${xt.Base}`,`${xt.Priority}`]),asset:mt});var kt,It;!function(e){e.Submitted="submitted",e.Unconfirmed="unconfirmed",e.Confirmed="confirmed",e.Failed="failed"}(kt||(kt={})),function(e){e.Send="send",e.Receive="receive",e.Swap="swap",e.BridgeSend="bridge:send",e.BridgeReceive="bridge:receive",e.Unknown="unknown"}(It||(It={}));const _t=ce({status:H([`${kt.Submitted}`,`${kt.Unconfirmed}`,`${kt.Confirmed}`,`${kt.Failed}`]),timestamp:X(Q())}),Ct=ce({id:re(),chain:rt,account:$,status:H([`${kt.Submitted}`,`${kt.Unconfirmed}`,`${kt.Confirmed}`,`${kt.Failed}`]),timestamp:X(Q()),type:H([`${It.Send}`,`${It.Receive}`,`${It.Swap}`,`${It.BridgeSend}`,`${It.BridgeReceive}`,`${It.Unknown}`]),from:K(Et),to:K(Et),fees:K(Tt),events:K(_t)}),Rt=(ce({data:K(Ct),next:X(re())}),ce({limit:Q(),next:le(X(re()))})),Pt=ce({metamask:le(ce({correlationId:$}))});var Ot;!function(e){e.Mainnet="bip122:000000000019d6689c085ae165831e93",e.Testnet="bip122:000000000933ea01ad0ee984209779ba",e.Testnet4="bip122:00000000da84f2bafbbc53dee25a72ae",e.Signet="bip122:00000008819873e925422c1ff0f99f7c",e.Regtest="bip122:regtest"}(Ot||(Ot={}));const Nt=(e,t)=>{try{return I(e).type===t||new Error(`Invalid ${t} address`)}catch(e){return new Error(`Failed to decode ${t} address: ${e.message}`)}},Bt=me(re(),"BtcP2pkhAddressStruct",(e=>Nt(e,x.p2pkh))),zt=me(re(),"BtcP2shAddressStruct",(e=>Nt(e,x.p2sh))),Mt=me(re(),"BtcP2wpkhAddressStruct",(e=>Nt(e,x.p2wpkh))),jt=me(re(),"BtcP2trAddressStruct",(e=>Nt(e,x.p2tr)));var Ut;!function(e){e.SendBitcoin="sendBitcoin"}(Ut||(Ut={}));const Dt=ce({...ft.schema,scopes:pe(K(rt)),methods:K(H([`${Ut.SendBitcoin}`]))});ce({...Dt.schema,address:Bt,type:Z(`${lt.P2pkh}`)}),ce({...Dt.schema,address:zt,type:Z(`${lt.P2sh}`)}),ce({...Dt.schema,address:Mt,type:Z(`${lt.P2wpkh}`)}),ce({...Dt.schema,address:jt,type:Z(`${lt.P2tr}`)});var Lt;!function(e){e.Devnet="solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",e.Mainnet="solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",e.Testnet="solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"}(Lt||(Lt={}));const $t=Ke("SolAddress",/^[1-9A-HJ-NP-Za-km-z]{32,44}$/iu);var Ft;!function(e){e.SendAndConfirmTransaction="sendAndConfirmTransaction",e.SignAndSendTransaction="signAndSendTransaction",e.SignTransaction="signTransaction",e.SignMessage="signMessage",e.SignIn="signIn"}(Ft||(Ft={}));ce({...ft.schema,address:$t,type:Z(`${dt.DataAccount}`),scopes:pe(K(rt)),methods:K(H(Object.values(Ft)))});var qt;!function(e){e.Eoa="eip155:0",e.Mainnet="eip155:1",e.Testnet="eip155:11155111"}(qt||(qt={}));const Wt=Ke("EthBytes",/^0x[0-9a-f]*$/iu),Vt=Ke("EthAddress",/^0x[0-9a-f]{40}$/iu),Kt=Ke("EthUint256",/^0x([1-9a-f][0-9a-f]*|0)$/iu);var Gt;!function(e){e.PersonalSign="personal_sign",e.Sign="eth_sign",e.SignTransaction="eth_signTransaction",e.SignTypedDataV1="eth_signTypedData_v1",e.SignTypedDataV3="eth_signTypedData_v3",e.SignTypedDataV4="eth_signTypedData_v4",e.PrepareUserOperation="eth_prepareUserOperation",e.PatchUserOperation="eth_patchUserOperation",e.SignUserOperation="eth_signUserOperation"}(Gt||(Gt={}));ce({...ft.schema,address:Vt,type:Z(`${ut.Eoa}`),scopes:pe(K(Z(qt.Eoa))),methods:K(H([`${Gt.PersonalSign}`,`${Gt.Sign}`,`${Gt.SignTransaction}`,`${Gt.SignTypedDataV1}`,`${Gt.SignTypedDataV3}`,`${Gt.SignTypedDataV4}`]))}),ce({...ft.schema,address:Vt,type:Z(`${ut.Erc4337}`),scopes:pe(K(rt)),methods:K(H([`${Gt.PersonalSign}`,`${Gt.Sign}`,`${Gt.SignTypedDataV1}`,`${Gt.SignTypedDataV3}`,`${Gt.SignTypedDataV4}`,`${Gt.PrepareUserOperation}`,`${Gt.PatchUserOperation}`,`${Gt.SignUserOperation}`]))}),ce({sender:Vt,nonce:Kt,initCode:Wt,callData:Wt,callGasLimit:Kt,verificationGasLimit:Kt,preVerificationGas:Kt,maxFeePerGas:Kt,maxPriorityFeePerGas:Kt,paymasterAndData:Wt,signature:Wt}),ce({to:Vt,value:Kt,data:Wt}),ce({nonce:Kt,initCode:Wt,callData:Wt,gasLimits:le(ce({callGasLimit:Kt,verificationGasLimit:Kt,preVerificationGas:Kt})),dummyPaymasterAndData:Wt,dummySignature:Wt,bundlerUrl:q}),ce({paymasterAndData:Wt,callGasLimit:le(Kt),verificationGasLimit:le(Kt),preVerificationGas:le(Kt)});var Ht;!function(e){e.ListAccounts="keyring_listAccounts",e.GetAccount="keyring_getAccount",e.CreateAccount="keyring_createAccount",e.DiscoverAccounts="keyring_discoverAccounts",e.ListAccountAssets="keyring_listAccountAssets",e.ListAccountTransactions="keyring_listAccountTransactions",e.GetAccountBalances="keyring_getAccountBalances",e.ResolveAccountAddress="keyring_resolveAccountAddress",e.FilterAccountChains="keyring_filterAccountChains",e.UpdateAccount="keyring_updateAccount",e.DeleteAccount="keyring_deleteAccount",e.ExportAccount="keyring_exportAccount",e.ListRequests="keyring_listRequests",e.GetRequest="keyring_getRequest",e.SubmitRequest="keyring_submitRequest",e.ApproveRequest="keyring_approveRequest",e.RejectRequest="keyring_rejectRequest"}(Ht||(Ht={}));const Jt={jsonrpc:Z("2.0"),id:ae([re(),Q(),Z(null)])},Zt=ce({...Jt,method:Z("keyring_listAccounts")}),Yt=(K(ft),ce({...Jt,method:Z("keyring_getAccount"),params:ce({id:$})})),Xt=ce({...Jt,method:Z("keyring_createAccount"),params:ce({options:ne(re(),De)})}),Qt=ce({...Jt,method:Z("keyring_discoverAccounts"),params:ce({scopes:K(rt),entropySource:re(),groupIndex:Q()})}),en=(K(bt),ce({...Jt,method:Z("keyring_listAccountTransactions"),params:ce({id:$,pagination:Rt})})),tn=ce({...Jt,method:Z("keyring_listAccountAssets"),params:ce({id:$})}),nn=K(st),rn=ce({...Jt,method:Z(`${Ht.GetAccountBalances}`),params:ce({id:$,assets:K(it)})}),on=(ne(it,vt),ce({...Jt,method:Z("keyring_resolveAccountAddress"),params:ce({scope:rt,request:Pe})})),an=(X(ce({address:ot})),ce({...Jt,method:Z("keyring_filterAccountChains"),params:ce({id:$,chains:K(re())})})),sn=(K(re()),ce({...Jt,method:Z("keyring_updateAccount"),params:ce({account:ft})})),cn=(Z(null),ce({...Jt,method:Z("keyring_deleteAccount"),params:ce({id:$})})),un=(Z(null),ce({...Jt,method:Z("keyring_exportAccount"),params:ce({id:$})})),ln=ce({...Jt,method:Z("keyring_listRequests")}),dn=(K(St),ce({...Jt,method:Z("keyring_getRequest"),params:ce({id:$})})),fn=ce({...Jt,method:Z("keyring_submitRequest"),params:St}),hn=ce({...Jt,method:Z("keyring_approveRequest"),params:ce({id:$,data:ne(re(),De)})}),pn=(Z(null),ce({...Jt,method:Z("keyring_rejectRequest"),params:ce({id:$})}));Z(null);var gn;!function(e){e.AccountCreated="notify:accountCreated",e.AccountUpdated="notify:accountUpdated",e.AccountDeleted="notify:accountDeleted",e.RequestApproved="notify:requestApproved",e.RequestRejected="notify:requestRejected",e.AccountBalancesUpdated="notify:accountBalancesUpdated",e.AccountAssetListUpdated="notify:accountAssetListUpdated",e.AccountTransactionsUpdated="notify:accountTransactionsUpdated"}(gn||(gn={}));ce({method:Z(`${gn.AccountCreated}`),params:ce({account:ft,accountNameSuggestion:le(re()),displayConfirmation:le(G()),displayAccountNameSuggestion:le(G()),...Pt.schema})}),ce({method:Z(`${gn.AccountUpdated}`),params:ce({account:ft})}),ce({method:Z(`${gn.AccountDeleted}`),params:ce({id:$})}),ce({method:Z(`${gn.RequestApproved}`),params:ce({id:$,result:De})}),ce({method:Z(`${gn.RequestRejected}`),params:ce({id:$})}),ce({method:Z(`${gn.AccountBalancesUpdated}`),params:ce({balances:ne(F,ne(it,ht))})}),ce({method:Z(`${gn.AccountTransactionsUpdated}`),params:ce({transactions:ne(F,K(Ct))})}),ce({method:Z(`${gn.AccountAssetListUpdated}`),params:ce({assets:ne(F,ce({added:K(st),removed:K(st)}))})});class mn extends Error{constructor(e){super(`Method not supported: ${e}`)}}async function yn(e,t){try{return await async function(e,t){switch(z(t,Pe),t.method){case`${Ht.ListAccounts}`:return z(t,Zt),e.listAccounts();case`${Ht.GetAccount}`:return z(t,Yt),e.getAccount(t.params.id);case`${Ht.CreateAccount}`:return z(t,Xt),e.createAccount(t.params.options);case`${Ht.DiscoverAccounts}`:if(void 0===e.discoverAccounts)throw new mn(t.method);return z(t,Qt),e.discoverAccounts(t.params.scopes,t.params.entropySource,t.params.groupIndex);case`${Ht.ListAccountTransactions}`:if(void 0===e.listAccountTransactions)throw new mn(t.method);return z(t,en),e.listAccountTransactions(t.params.id,t.params.pagination);case`${Ht.ListAccountAssets}`:if(void 0===e.listAccountAssets)throw new mn(t.method);return z(t,tn),e.listAccountAssets(t.params.id);case`${Ht.GetAccountBalances}`:if(void 0===e.getAccountBalances)throw new mn(t.method);return z(t,rn),e.getAccountBalances(t.params.id,t.params.assets);case`${Ht.ResolveAccountAddress}`:if(void 0===e.resolveAccountAddress)throw new mn(t.method);return z(t,on),e.resolveAccountAddress(t.params.scope,t.params.request);case`${Ht.FilterAccountChains}`:return z(t,an),e.filterAccountChains(t.params.id,t.params.chains);case`${Ht.UpdateAccount}`:return z(t,sn),e.updateAccount(t.params.account);case`${Ht.DeleteAccount}`:return z(t,cn),e.deleteAccount(t.params.id);case`${Ht.ExportAccount}`:if(void 0===e.exportAccount)throw new mn(t.method);return z(t,un),e.exportAccount(t.params.id);case`${Ht.ListRequests}`:if(void 0===e.listRequests)throw new mn(t.method);return z(t,ln),e.listRequests();case`${Ht.GetRequest}`:if(void 0===e.getRequest)throw new mn(t.method);return z(t,dn),e.getRequest(t.params.id);case`${Ht.SubmitRequest}`:return z(t,fn),e.submitRequest(t.params);case`${Ht.ApproveRequest}`:if(void 0===e.approveRequest)throw new mn(t.method);return z(t,hn),e.approveRequest(t.params.id,t.params.data);case`${Ht.RejectRequest}`:if(void 0===e.rejectRequest)throw new mn(t.method);return z(t,pn),e.rejectRequest(t.params.id);default:throw new mn(t.method)}}(e,t)}catch(e){const t=e instanceof Error&&"string"==typeof e.message?e.message:"An unknown error occurred while handling the keyring request";throw new Error(t)}}async function vn(e,t,n){await e.request({method:"snap_manageAccounts",params:{method:t,params:{...n}}})}function wn(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)}const An=(e,t)=>Object.hasOwnProperty.call(e,t);var bn;!function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(bn=bn||(bn={}));var Sn=n(282);const En=e=>ee(e);function xn({path:e,branch:t}){const n=e[e.length-1];return An(t[t.length-2],n)}function Tn(e){return new B({...e,type:`optional ${e.type}`,validator:(t,n)=>!xn(n)||e.validator(t,n),refiner:(t,n)=>!xn(n)||e.refiner(t,n)})}function kn(e){if(null===e||"boolean"==typeof e||"string"==typeof e)return!0;if("number"==typeof e&&Number.isFinite(e))return!0;if("object"==typeof e){let t=!0;if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(!kn(e[n])){t=!1;break}return t}const n=Object.entries(e);for(let e=0;e<n.length;e++)if("string"!=typeof n[e][0]||!kn(n[e][1])){t=!1;break}return t}return!1}const In=D("JSON",(e=>kn(e))),_n=de(In,me(V(),"JSON",(e=>j(e,In))),(e=>JSON.parse(JSON.stringify(e,((e,t)=>{if("__proto__"!==e&&"constructor"!==e)return t})))));function Cn(e){try{return function(e){M(e,_n)}(e),!0}catch{return!1}}const Rn=Z("2.0"),Pn=X(ae([Q(),re()])),On=En({code:J(),message:re(),data:Tn(_n),stack:Tn(re())}),Nn=ae([ne(re(),_n),K(_n)]);En({id:Pn,jsonrpc:Rn,method:re(),params:Tn(Nn)}),En({jsonrpc:Rn,method:re(),params:Tn(Nn)});ee({id:Pn,jsonrpc:Rn,result:te(se()),error:te(On)});const Bn=En({id:Pn,jsonrpc:Rn,result:_n}),zn=En({id:Pn,jsonrpc:Rn,error:On});ae([Bn,zn]);const Mn={invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},jn={userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901},Un={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}},Dn=Mn.internal,Ln="Unspecified error message. This is a bug, please report it.",$n=(Fn(Dn),"Unspecified server error.");function Fn(e,t=Ln){if(function(e){return Number.isInteger(e)}(e)){const t=e.toString();if(An(Un,t))return Un[t].message;if(function(e){return e>=-32099&&e<=-32e3}(e))return $n}return t}function qn(e){return Array.isArray(e)?e.map((e=>Cn(e)?e:wn(e)?Wn(e):null)):wn(e)?Wn(e):Cn(e)?e:null}function Wn(e){return Object.getOwnPropertyNames(e).reduce(((t,n)=>{const r=e[n];return Cn(r)&&(t[n]=r),t}),{})}const Vn=function(e){return e?.__esModule?e.default:e}(Sn);class Kn extends Error{constructor(e,t,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw new Error('"message" must be a non-empty string.');!function(e){return wn(e)&&An(e,"cause")&&wn(e.cause)}(n)?super(t):(super(t,{cause:n.cause}),An(this,"cause")||Object.assign(this,{cause:n.cause})),void 0!==n&&(this.data=n),this.code=e}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data,function(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}}(this.data)&&(e.data.cause=qn(this.data.cause))),this.stack&&(e.stack=this.stack),e}toString(){return Vn(this.serialize(),Hn,2)}}class Gn extends Kn{constructor(e,t,n){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,n)}}function Hn(e,t){if("[Circular]"!==t)return t}const Jn=e=>dr(Mn.parse,e),Zn=e=>dr(Mn.invalidRequest,e),Yn=e=>dr(Mn.invalidParams,e),Xn=e=>dr(Mn.methodNotFound,e),Qn=e=>dr(Mn.internal,e),er=e=>dr(Mn.invalidInput,e),tr=e=>dr(Mn.resourceNotFound,e),nr=e=>dr(Mn.resourceUnavailable,e),rr=e=>dr(Mn.transactionRejected,e),or=e=>dr(Mn.methodNotSupported,e),ir=e=>dr(Mn.limitExceeded,e),ar=e=>fr(jn.userRejectedRequest,e),sr=e=>fr(jn.unauthorized,e),cr=e=>fr(jn.unsupportedMethod,e),ur=e=>fr(jn.disconnected,e),lr=e=>fr(jn.chainDisconnected,e);function dr(e,t){const[n,r]=hr(t);return new Kn(e,n??Fn(e),r)}function fr(e,t){const[n,r]=hr(t);return new Gn(e,n??Fn(e),r)}function hr(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){const{message:t,data:n}=e;if(t&&"string"!=typeof t)throw new Error("Must specify string message.");return[t??void 0,n]}}return[]}const pr=(e,t)=>Object.hasOwnProperty.call(e,t);var gr;!function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(gr=gr||(gr={}));class mr extends TypeError{constructor(e,t){let n;const{message:r,explanation:o,...i}=e,{path:a}=e,s=0===a.length?r:`At path: ${a.join(".")} -- ${r}`;super(o??s),null!=o&&(this.cause=s),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}}function yr(e){return"object"==typeof e&&null!==e}function vr(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function wr(e,t,n,r){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:o,branch:i}=t,{type:a}=n,{refinement:s,message:c=`Expected a value of type \`${a}\`${s?` with refinement \`${s}\``:""}, but received: \`${vr(r)}\``}=e;return{value:r,type:a,refinement:s,key:o[o.length-1],path:o,branch:i,...e,message:c}}function*Ar(e,t,n,r){(function(e){return yr(e)&&"function"==typeof e[Symbol.iterator]})(e)||(e=[e]);for(const o of e){const e=wr(o,t,n,r);e&&(yield e)}}function*br(e,t,n={}){const{path:r=[],branch:o=[e],coerce:i=!1,mask:a=!1}=n,s={path:r,branch:o};if(i&&(e=t.coercer(e,s),a&&"type"!==t.type&&yr(t.schema)&&yr(e)&&!Array.isArray(e)))for(const n in e)void 0===t.schema[n]&&delete e[n];let c="valid";for(const r of t.validator(e,s))r.explanation=n.message,c="not_valid",yield[r,void 0];for(let[u,l,d]of t.entries(e,s)){const t=br(l,d,{path:void 0===u?r:[...r,u],branch:void 0===u?o:[...o,l],coerce:i,mask:a,message:n.message});for(const n of t)n[0]?(c=null===n[0].refinement||void 0===n[0].refinement?"not_valid":"not_refined",yield[n[0],void 0]):i&&(l=n[1],void 0===u?e=l:e instanceof Map?e.set(u,l):e instanceof Set?e.add(l):yr(e)&&(void 0!==l||u in e)&&(e[u]=l))}if("not_valid"!==c)for(const r of t.refiner(e,s))r.explanation=n.message,c="not_refined",yield[r,void 0];"valid"===c&&(yield[void 0,e])}class Sr{constructor(e){const{type:t,schema:n,validator:r,refiner:o,coercer:i=(e=>e),entries:a=function*(){}}=e;this.type=t,this.schema=n,this.entries=a,this.coercer=i,this.validator=r?(e,t)=>Ar(r(e,t),t,this,e):()=>[],this.refiner=o?(e,t)=>Ar(o(e,t),t,this,e):()=>[]}assert(e,t){return Er(e,this,t)}create(e,t){return xr(e,this,t)}is(e){return Tr(e,this)}mask(e,t){return function(e,t,n){const r=kr(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}(e,this,t)}validate(e,t={}){return kr(e,this,t)}}function Er(e,t,n){const r=kr(e,t,{message:n});if(r[0])throw r[0]}function xr(e,t,n){const r=kr(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function Tr(e,t){return!kr(e,t)[0]}function kr(e,t,n={}){const r=br(e,t,n),o=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(r);if(o[0]){return[new mr(o[0],(function*(){for(const e of r)e[0]&&(yield e[0])})),void 0]}return[void 0,o[1]]}function Ir(e,t){return new Sr({type:e,schema:null,validator:t})}function _r(){return Ir("never",(()=>!1))}function Cr(e){const t=e?Object.keys(e):[],n=_r();return new Sr({type:"object",schema:e??null,*entries(r){if(e&&yr(r)){const o=new Set(Object.keys(r));for(const n of t)o.delete(n),yield[n,r[n],e[n]];for(const e of o)yield[e,r[e],n]}},validator:e=>yr(e)||`Expected an object, but received: ${vr(e)}`,coercer:e=>yr(e)?{...e}:e})}function Rr(e){return new Sr({...e,validator:(t,n)=>void 0===t||e.validator(t,n),refiner:(t,n)=>void 0===t||e.refiner(t,n)})}function Pr(){return Ir("string",(e=>"string"==typeof e||`Expected a string, but received: ${vr(e)}`))}function Or(e){const t=e.map((e=>e.type)).join(" | ");return new Sr({type:"union",schema:null,coercer(t){for(const n of e){const[e,r]=n.validate(t,{coerce:!0});if(!e)return r}return t},validator(n,r){const o=[];for(const t of e){const[...e]=br(n,t,r),[i]=e;if(!i?.[0])return[];for(const[t]of e)t&&o.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${vr(n)}`,...o]}})}function Nr(e,t,n){return new Sr({...e,coercer:(r,o)=>Tr(r,t)?e.coercer(n(r,o),o):e.coercer(r,o)})}function Br(e,t,n){return new Sr({...e,*refiner(r,o){yield*e.refiner(r,o);const i=Ar(n(r,o),o,e,r);for(const e of i)yield{...e,refinement:t}}})}const zr=e=>Cr(e);function Mr({path:e,branch:t}){const n=e[e.length-1];return pr(t[t.length-2],n)}function jr(e){return new Sr({...e,type:`optional ${e.type}`,validator:(t,n)=>!Mr(n)||e.validator(t,n),refiner:(t,n)=>!Mr(n)||e.refiner(t,n)})}function Ur(e){if(null===e||"boolean"==typeof e||"string"==typeof e)return!0;if("number"==typeof e&&Number.isFinite(e))return!0;if("object"==typeof e){let t=!0;if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(!Ur(e[n])){t=!1;break}return t}const n=Object.entries(e);for(let e=0;e<n.length;e++)if("string"!=typeof n[e][0]||!Ur(n[e][1])){t=!1;break}return t}return!1}const Dr=Ir("JSON",(e=>Ur(e))),Lr=Nr(Dr,Br(Ir("any",(()=>!0)),"JSON",(e=>Tr(e,Dr))),(e=>JSON.parse(JSON.stringify(e,((e,t)=>{if("__proto__"!==e&&"constructor"!==e)return t})))));function $r(e){try{return function(e){xr(e,Lr)}(e),!0}catch{return!1}}const Fr=function(e){const t=vr(e),n=typeof e;return new Sr({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?e:null,validator:n=>n===e||`Expected the literal \`${t}\`, but received: ${vr(n)}`})}("2.0"),qr=(Wr=Or([Ir("number",(e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${vr(e)}`)),Pr()]),new Sr({...Wr,validator:(e,t)=>null===e||Wr.validator(e,t),refiner:(e,t)=>null===e||Wr.refiner(e,t)}));var Wr;const Vr=zr({code:Ir("integer",(e=>"number"==typeof e&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${vr(e)}`)),message:Pr(),data:jr(Lr),stack:jr(Pr())}),Kr=Or([function(e,t){return new Sr({type:"record",schema:null,*entries(n){if(yr(n))for(const r in n){const o=n[r];yield[r,r,e],yield[r,o,t]}},validator:e=>yr(e)||`Expected an object, but received: ${vr(e)}`})}(Pr(),Lr),(Gr=Lr,new Sr({type:"array",schema:Gr,*entries(e){if(Gr&&Array.isArray(e))for(const[t,n]of e.entries())yield[t,n,Gr]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${vr(e)}`}))]);var Gr;zr({id:qr,jsonrpc:Fr,method:Pr(),params:jr(Kr)}),zr({jsonrpc:Fr,method:Pr(),params:jr(Kr)});Cr({id:qr,jsonrpc:Fr,result:Rr(Ir("unknown",(()=>!0))),error:Rr(Vr)});const Hr=zr({id:qr,jsonrpc:Fr,result:Lr}),Jr=zr({id:qr,jsonrpc:Fr,error:Vr});Or([Hr,Jr]);function Zr(e,t,n=null){return r=e,Boolean(r)&&"object"==typeof r&&!Array.isArray(r)&&pr(e,t)?e[t]:n;var r}function Yr(e,t,n=String(e)){const r=Zr(e,t);return"string"==typeof r?r:n}function Xr(e){const t=Zr(e,"data");return null!==t&&$r(t)&&!Array.isArray(t)?t:{}}class Qr extends Error{#e;#t;#n;#r;constructor(e,t={}){const n=function(e){return Yr(e,"message")}(e);super(n),this.#t=n,this.#e=function(e){const t=Zr(e,"code");return"number"==typeof t&&Number.isInteger(t)?t:-32603}(e);const r={...Xr(e),...t};Object.keys(r).length>0&&(this.#n=r),this.#r=super.stack}get name(){return"SnapError"}get code(){return this.#e}get message(){return this.#t}get data(){return this.#n}get stack(){return this.#r}toJSON(){return{code:-31002,message:"Snap Error",data:{cause:{code:this.code,message:this.message,stack:this.stack,...this.data?{data:this.data}:{}}}}}serialize(){return this.toJSON()}}function eo(e){return class extends Qr{constructor(t,n){if("object"==typeof t){const n=e();return void super({code:n.code,message:n.message,data:t})}const r=e(t);super({code:r.code,message:r.message,data:n})}}}const to=eo(Qn),no=eo(er),ro=eo(Yn),oo=eo(Zn),io=eo(ir),ao=eo(Xn),so=eo(or),co=eo(Jn),uo=eo(tr),lo=eo(nr),fo=eo(rr),ho=eo(lr),po=eo(ur),go=eo(sr),mo=eo(cr),yo=eo(ar);var vo=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,wo=Math.ceil,Ao=Math.floor,bo="[BigNumber Error] ",So=bo+"Number primitive has more than 15 significant digits: ",Eo=1e14,xo=14,To=9007199254740991,ko=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Io=1e7,_o=1e9;function Co(e){var t=0|e;return e>0||e===t?t:t-1}function Ro(e){for(var t,n,r=1,o=e.length,i=e[0]+"";r<o;){for(t=e[r++]+"",n=xo-t.length;n--;t="0"+t);i+=t}for(o=i.length;48===i.charCodeAt(--o););return i.slice(0,o+1||1)}function Po(e,t){var n,r,o=e.c,i=t.c,a=e.s,s=t.s,c=e.e,u=t.e;if(!a||!s)return null;if(n=o&&!o[0],r=i&&!i[0],n||r)return n?r?0:-s:a;if(a!=s)return a;if(n=a<0,r=c==u,!o||!i)return r?0:!o^n?1:-1;if(!r)return c>u^n?1:-1;for(s=(c=o.length)<(u=i.length)?c:u,a=0;a<s;a++)if(o[a]!=i[a])return o[a]>i[a]^n?1:-1;return c==u?0:c>u^n?1:-1}function Oo(e,t,n,r){if(e<t||e>n||e!==Ao(e))throw Error(bo+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function No(e){var t=e.c.length-1;return Co(e.e/xo)==t&&e.c[t]%2!=0}function Bo(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function zo(e,t,n){var r,o;if(t<0){for(o=n+".";++t;o+=n);e=o+e}else if(++t>(r=e.length)){for(o=n,t-=r;--t;o+=n);e+=o}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}var Mo=function e(t){var n,r,o,i,a,s,c,u,l,d,f=k.prototype={constructor:k,toString:null,valueOf:null},h=new k(1),p=20,g=4,m=-7,y=21,v=-1e7,w=1e7,A=!1,b=1,S=0,E={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},x="0123456789abcdefghijklmnopqrstuvwxyz",T=!0;function k(e,t){var n,i,a,s,c,u,l,d,f=this;if(!(f instanceof k))return new k(e,t);if(null==t){if(e&&!0===e._isBigNumber)return f.s=e.s,void(!e.c||e.e>w?f.c=f.e=null:e.e<v?f.c=[f.e=0]:(f.e=e.e,f.c=e.c.slice()));if((u="number"==typeof e)&&0*e==0){if(f.s=1/e<0?(e=-e,-1):1,e===~~e){for(s=0,c=e;c>=10;c/=10,s++);return void(s>w?f.c=f.e=null:(f.e=s,f.c=[e]))}d=String(e)}else{if(!vo.test(d=String(e)))return o(f,d,u);f.s=45==d.charCodeAt(0)?(d=d.slice(1),-1):1}(s=d.indexOf("."))>-1&&(d=d.replace(".","")),(c=d.search(/e/i))>0?(s<0&&(s=c),s+=+d.slice(c+1),d=d.substring(0,c)):s<0&&(s=d.length)}else{if(Oo(t,2,x.length,"Base"),10==t&&T)return R(f=new k(e),p+f.e+1,g);if(d=String(e),u="number"==typeof e){if(0*e!=0)return o(f,d,u,t);if(f.s=1/e<0?(d=d.slice(1),-1):1,k.DEBUG&&d.replace(/^0\.0*|\./,"").length>15)throw Error(So+e)}else f.s=45===d.charCodeAt(0)?(d=d.slice(1),-1):1;for(n=x.slice(0,t),s=c=0,l=d.length;c<l;c++)if(n.indexOf(i=d.charAt(c))<0){if("."==i){if(c>s){s=l;continue}}else if(!a&&(d==d.toUpperCase()&&(d=d.toLowerCase())||d==d.toLowerCase()&&(d=d.toUpperCase()))){a=!0,c=-1,s=0;continue}return o(f,String(e),u,t)}u=!1,(s=(d=r(d,t,10,f.s)).indexOf("."))>-1?d=d.replace(".",""):s=d.length}for(c=0;48===d.charCodeAt(c);c++);for(l=d.length;48===d.charCodeAt(--l););if(d=d.slice(c,++l)){if(l-=c,u&&k.DEBUG&&l>15&&(e>To||e!==Ao(e)))throw Error(So+f.s*e);if((s=s-c-1)>w)f.c=f.e=null;else if(s<v)f.c=[f.e=0];else{if(f.e=s,f.c=[],c=(s+1)%xo,s<0&&(c+=xo),c<l){for(c&&f.c.push(+d.slice(0,c)),l-=xo;c<l;)f.c.push(+d.slice(c,c+=xo));c=xo-(d=d.slice(c)).length}else c-=l;for(;c--;d+="0");f.c.push(+d)}}else f.c=[f.e=0]}function I(e,t,n,r){var o,i,a,s,c;if(null==n?n=g:Oo(n,0,8),!e.c)return e.toString();if(o=e.c[0],a=e.e,null==t)c=Ro(e.c),c=1==r||2==r&&(a<=m||a>=y)?Bo(c,a):zo(c,a,"0");else if(i=(e=R(new k(e),t,n)).e,s=(c=Ro(e.c)).length,1==r||2==r&&(t<=i||i<=m)){for(;s<t;c+="0",s++);c=Bo(c,i)}else if(t-=a,c=zo(c,i,"0"),i+1>s){if(--t>0)for(c+=".";t--;c+="0");}else if((t+=i-s)>0)for(i+1==s&&(c+=".");t--;c+="0");return e.s<0&&o?"-"+c:c}function _(e,t){for(var n,r,o=1,i=new k(e[0]);o<e.length;o++)(!(r=new k(e[o])).s||(n=Po(i,r))===t||0===n&&i.s===t)&&(i=r);return i}function C(e,t,n){for(var r=1,o=t.length;!t[--o];t.pop());for(o=t[0];o>=10;o/=10,r++);return(n=r+n*xo-1)>w?e.c=e.e=null:n<v?e.c=[e.e=0]:(e.e=n,e.c=t),e}function R(e,t,n,r){var o,i,a,s,c,u,l,d=e.c,f=ko;if(d){e:{for(o=1,s=d[0];s>=10;s/=10,o++);if((i=t-o)<0)i+=xo,a=t,c=d[u=0],l=Ao(c/f[o-a-1]%10);else if((u=wo((i+1)/xo))>=d.length){if(!r)break e;for(;d.length<=u;d.push(0));c=l=0,o=1,a=(i%=xo)-xo+1}else{for(c=s=d[u],o=1;s>=10;s/=10,o++);l=(a=(i%=xo)-xo+o)<0?0:Ao(c/f[o-a-1]%10)}if(r=r||t<0||null!=d[u+1]||(a<0?c:c%f[o-a-1]),r=n<4?(l||r)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||r||6==n&&(i>0?a>0?c/f[o-a]:0:d[u-1])%10&1||n==(e.s<0?8:7)),t<1||!d[0])return d.length=0,r?(t-=e.e+1,d[0]=f[(xo-t%xo)%xo],e.e=-t||0):d[0]=e.e=0,e;if(0==i?(d.length=u,s=1,u--):(d.length=u+1,s=f[xo-i],d[u]=a>0?Ao(c/f[o-a]%f[a])*s:0),r)for(;;){if(0==u){for(i=1,a=d[0];a>=10;a/=10,i++);for(a=d[0]+=s,s=1;a>=10;a/=10,s++);i!=s&&(e.e++,d[0]==Eo&&(d[0]=1));break}if(d[u]+=s,d[u]!=Eo)break;d[u--]=0,s=1}for(i=d.length;0===d[--i];d.pop());}e.e>w?e.c=e.e=null:e.e<v&&(e.c=[e.e=0])}return e}function P(e){var t,n=e.e;return null===n?e.toString():(t=Ro(e.c),t=n<=m||n>=y?Bo(t,n):zo(t,n,"0"),e.s<0?"-"+t:t)}return k.clone=e,k.ROUND_UP=0,k.ROUND_DOWN=1,k.ROUND_CEIL=2,k.ROUND_FLOOR=3,k.ROUND_HALF_UP=4,k.ROUND_HALF_DOWN=5,k.ROUND_HALF_EVEN=6,k.ROUND_HALF_CEIL=7,k.ROUND_HALF_FLOOR=8,k.EUCLID=9,k.config=k.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(bo+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(Oo(n=e[t],0,_o,t),p=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(Oo(n=e[t],0,8,t),g=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(Oo(n[0],-_o,0,t),Oo(n[1],0,_o,t),m=n[0],y=n[1]):(Oo(n,-_o,_o,t),m=-(y=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)Oo(n[0],-_o,-1,t),Oo(n[1],1,_o,t),v=n[0],w=n[1];else{if(Oo(n,-_o,_o,t),!n)throw Error(bo+t+" cannot be zero: "+n);v=-(w=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(bo+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw A=!n,Error(bo+"crypto unavailable");A=n}else A=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(Oo(n=e[t],0,9,t),b=n),e.hasOwnProperty(t="POW_PRECISION")&&(Oo(n=e[t],0,_o,t),S=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(bo+t+" not an object: "+n);E=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(bo+t+" invalid: "+n);T="0123456789"==n.slice(0,10),x=n}}return{DECIMAL_PLACES:p,ROUNDING_MODE:g,EXPONENTIAL_AT:[m,y],RANGE:[v,w],CRYPTO:A,MODULO_MODE:b,POW_PRECISION:S,FORMAT:E,ALPHABET:x}},k.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!k.DEBUG)return!0;var t,n,r=e.c,o=e.e,i=e.s;e:if("[object Array]"=={}.toString.call(r)){if((1===i||-1===i)&&o>=-_o&&o<=_o&&o===Ao(o)){if(0===r[0]){if(0===o&&1===r.length)return!0;break e}if((t=(o+1)%xo)<1&&(t+=xo),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||n>=Eo||n!==Ao(n))break e;if(0!==n)return!0}}}else if(null===r&&null===o&&(null===i||1===i||-1===i))return!0;throw Error(bo+"Invalid BigNumber: "+e)},k.maximum=k.max=function(){return _(arguments,-1)},k.minimum=k.min=function(){return _(arguments,1)},k.random=(i=9007199254740992,a=Math.random()*i&2097151?function(){return Ao(Math.random()*i)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,o,i,s=0,c=[],u=new k(h);if(null==e?e=p:Oo(e,0,_o),o=wo(e/xo),A)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(o*=2));s<o;)(i=131072*t[s]+(t[s+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[s]=n[0],t[s+1]=n[1]):(c.push(i%1e14),s+=2);s=o/2}else{if(!crypto.randomBytes)throw A=!1,Error(bo+"crypto unavailable");for(t=crypto.randomBytes(o*=7);s<o;)(i=281474976710656*(31&t[s])+1099511627776*t[s+1]+4294967296*t[s+2]+16777216*t[s+3]+(t[s+4]<<16)+(t[s+5]<<8)+t[s+6])>=9e15?crypto.randomBytes(7).copy(t,s):(c.push(i%1e14),s+=7);s=o/7}if(!A)for(;s<o;)(i=a())<9e15&&(c[s++]=i%1e14);for(o=c[--s],e%=xo,o&&e&&(i=ko[xo-e],c[s]=Ao(o/i)*i);0===c[s];c.pop(),s--);if(s<0)c=[r=0];else{for(r=-1;0===c[0];c.splice(0,1),r-=xo);for(s=1,i=c[0];i>=10;i/=10,s++);s<xo&&(r-=xo-s)}return u.e=r,u.c=c,u}),k.sum=function(){for(var e=1,t=arguments,n=new k(t[0]);e<t.length;)n=n.plus(t[e++]);return n},r=function(){var e="0123456789";function t(e,t,n,r){for(var o,i,a=[0],s=0,c=e.length;s<c;){for(i=a.length;i--;a[i]*=t);for(a[0]+=r.indexOf(e.charAt(s++)),o=0;o<a.length;o++)a[o]>n-1&&(null==a[o+1]&&(a[o+1]=0),a[o+1]+=a[o]/n|0,a[o]%=n)}return a.reverse()}return function(r,o,i,a,s){var c,u,l,d,f,h,m,y,v=r.indexOf("."),w=p,A=g;for(v>=0&&(d=S,S=0,r=r.replace(".",""),h=(y=new k(o)).pow(r.length-v),S=d,y.c=t(zo(Ro(h.c),h.e,"0"),10,i,e),y.e=y.c.length),l=d=(m=t(r,o,i,s?(c=x,e):(c=e,x))).length;0==m[--d];m.pop());if(!m[0])return c.charAt(0);if(v<0?--l:(h.c=m,h.e=l,h.s=a,m=(h=n(h,y,w,A,i)).c,f=h.r,l=h.e),v=m[u=l+w+1],d=i/2,f=f||u<0||null!=m[u+1],f=A<4?(null!=v||f)&&(0==A||A==(h.s<0?3:2)):v>d||v==d&&(4==A||f||6==A&&1&m[u-1]||A==(h.s<0?8:7)),u<1||!m[0])r=f?zo(c.charAt(1),-w,c.charAt(0)):c.charAt(0);else{if(m.length=u,f)for(--i;++m[--u]>i;)m[u]=0,u||(++l,m=[1].concat(m));for(d=m.length;!m[--d];);for(v=0,r="";v<=d;r+=c.charAt(m[v++]));r=zo(r,l,c.charAt(0))}return r}}(),n=function(){function e(e,t,n){var r,o,i,a,s=0,c=e.length,u=t%Io,l=t/Io|0;for(e=e.slice();c--;)s=((o=u*(i=e[c]%Io)+(r=l*i+(a=e[c]/Io|0)*u)%Io*Io+s)/n|0)+(r/Io|0)+l*a,e[c]=o%n;return s&&(e=[s].concat(e)),e}function t(e,t,n,r){var o,i;if(n!=r)i=n>r?1:-1;else for(o=i=0;o<n;o++)if(e[o]!=t[o]){i=e[o]>t[o]?1:-1;break}return i}function n(e,t,n,r){for(var o=0;n--;)e[n]-=o,o=e[n]<t[n]?1:0,e[n]=o*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,o,i,a,s){var c,u,l,d,f,h,p,g,m,y,v,w,A,b,S,E,x,T=r.s==o.s?1:-1,I=r.c,_=o.c;if(!(I&&I[0]&&_&&_[0]))return new k(r.s&&o.s&&(I?!_||I[0]!=_[0]:_)?I&&0==I[0]||!_?0*T:T/0:NaN);for(m=(g=new k(T)).c=[],T=i+(u=r.e-o.e)+1,s||(s=Eo,u=Co(r.e/xo)-Co(o.e/xo),T=T/xo|0),l=0;_[l]==(I[l]||0);l++);if(_[l]>(I[l]||0)&&u--,T<0)m.push(1),d=!0;else{for(b=I.length,E=_.length,l=0,T+=2,(f=Ao(s/(_[0]+1)))>1&&(_=e(_,f,s),I=e(I,f,s),E=_.length,b=I.length),A=E,v=(y=I.slice(0,E)).length;v<E;y[v++]=0);x=_.slice(),x=[0].concat(x),S=_[0],_[1]>=s/2&&S++;do{if(f=0,(c=t(_,y,E,v))<0){if(w=y[0],E!=v&&(w=w*s+(y[1]||0)),(f=Ao(w/S))>1)for(f>=s&&(f=s-1),p=(h=e(_,f,s)).length,v=y.length;1==t(h,y,p,v);)f--,n(h,E<p?x:_,p,s),p=h.length,c=1;else 0==f&&(c=f=1),p=(h=_.slice()).length;if(p<v&&(h=[0].concat(h)),n(y,h,v,s),v=y.length,-1==c)for(;t(_,y,E,v)<1;)f++,n(y,E<v?x:_,v,s),v=y.length}else 0===c&&(f++,y=[0]);m[l++]=f,y[0]?y[v++]=I[A]||0:(y=[I[A]],v=1)}while((A++<b||null!=y[0])&&T--);d=null!=y[0],m[0]||m.splice(0,1)}if(s==Eo){for(l=1,T=m[0];T>=10;T/=10,l++);R(g,i+(g.e=l+u*xo-1)+1,a,d)}else g.e=u,g.r=+d;return g}}(),s=/^(-?)0([xbo])(?=\w[\w.]*$)/i,c=/^([^.]+)\.$/,u=/^\.([^.]+)$/,l=/^-?(Infinity|NaN)$/,d=/^\s*\+(?=[\w.])|^\s+|\s+$/g,o=function(e,t,n,r){var o,i=n?t:t.replace(d,"");if(l.test(i))e.s=isNaN(i)?null:i<0?-1:1;else{if(!n&&(i=i.replace(s,(function(e,t,n){return o="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=o?e:t})),r&&(o=r,i=i.replace(c,"$1").replace(u,"0.$1")),t!=i))return new k(i,o);if(k.DEBUG)throw Error(bo+"Not a"+(r?" base "+r:"")+" number: "+t);e.s=null}e.c=e.e=null},f.absoluteValue=f.abs=function(){var e=new k(this);return e.s<0&&(e.s=1),e},f.comparedTo=function(e,t){return Po(this,new k(e,t))},f.decimalPlaces=f.dp=function(e,t){var n,r,o,i=this;if(null!=e)return Oo(e,0,_o),null==t?t=g:Oo(t,0,8),R(new k(i),e+i.e+1,t);if(!(n=i.c))return null;if(r=((o=n.length-1)-Co(this.e/xo))*xo,o=n[o])for(;o%10==0;o/=10,r--);return r<0&&(r=0),r},f.dividedBy=f.div=function(e,t){return n(this,new k(e,t),p,g)},f.dividedToIntegerBy=f.idiv=function(e,t){return n(this,new k(e,t),0,1)},f.exponentiatedBy=f.pow=function(e,t){var n,r,o,i,a,s,c,u,l=this;if((e=new k(e)).c&&!e.isInteger())throw Error(bo+"Exponent not an integer: "+P(e));if(null!=t&&(t=new k(t)),a=e.e>14,!l.c||!l.c[0]||1==l.c[0]&&!l.e&&1==l.c.length||!e.c||!e.c[0])return u=new k(Math.pow(+P(l),a?e.s*(2-No(e)):+P(e))),t?u.mod(t):u;if(s=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new k(NaN);(r=!s&&l.isInteger()&&t.isInteger())&&(l=l.mod(t))}else{if(e.e>9&&(l.e>0||l.e<-1||(0==l.e?l.c[0]>1||a&&l.c[1]>=24e7:l.c[0]<8e13||a&&l.c[0]<=9999975e7)))return i=l.s<0&&No(e)?-0:0,l.e>-1&&(i=1/i),new k(s?1/i:i);S&&(i=wo(S/xo+2))}for(a?(n=new k(.5),s&&(e.s=1),c=No(e)):c=(o=Math.abs(+P(e)))%2,u=new k(h);;){if(c){if(!(u=u.times(l)).c)break;i?u.c.length>i&&(u.c.length=i):r&&(u=u.mod(t))}if(o){if(0===(o=Ao(o/2)))break;c=o%2}else if(R(e=e.times(n),e.e+1,1),e.e>14)c=No(e);else{if(0===(o=+P(e)))break;c=o%2}l=l.times(l),i?l.c&&l.c.length>i&&(l.c.length=i):r&&(l=l.mod(t))}return r?u:(s&&(u=h.div(u)),t?u.mod(t):i?R(u,S,g,undefined):u)},f.integerValue=function(e){var t=new k(this);return null==e?e=g:Oo(e,0,8),R(t,t.e+1,e)},f.isEqualTo=f.eq=function(e,t){return 0===Po(this,new k(e,t))},f.isFinite=function(){return!!this.c},f.isGreaterThan=f.gt=function(e,t){return Po(this,new k(e,t))>0},f.isGreaterThanOrEqualTo=f.gte=function(e,t){return 1===(t=Po(this,new k(e,t)))||0===t},f.isInteger=function(){return!!this.c&&Co(this.e/xo)>this.c.length-2},f.isLessThan=f.lt=function(e,t){return Po(this,new k(e,t))<0},f.isLessThanOrEqualTo=f.lte=function(e,t){return-1===(t=Po(this,new k(e,t)))||0===t},f.isNaN=function(){return!this.s},f.isNegative=function(){return this.s<0},f.isPositive=function(){return this.s>0},f.isZero=function(){return!!this.c&&0==this.c[0]},f.minus=function(e,t){var n,r,o,i,a=this,s=a.s;if(t=(e=new k(e,t)).s,!s||!t)return new k(NaN);if(s!=t)return e.s=-t,a.plus(e);var c=a.e/xo,u=e.e/xo,l=a.c,d=e.c;if(!c||!u){if(!l||!d)return l?(e.s=-t,e):new k(d?a:NaN);if(!l[0]||!d[0])return d[0]?(e.s=-t,e):new k(l[0]?a:3==g?-0:0)}if(c=Co(c),u=Co(u),l=l.slice(),s=c-u){for((i=s<0)?(s=-s,o=l):(u=c,o=d),o.reverse(),t=s;t--;o.push(0));o.reverse()}else for(r=(i=(s=l.length)<(t=d.length))?s:t,s=t=0;t<r;t++)if(l[t]!=d[t]){i=l[t]<d[t];break}if(i&&(o=l,l=d,d=o,e.s=-e.s),(t=(r=d.length)-(n=l.length))>0)for(;t--;l[n++]=0);for(t=Eo-1;r>s;){if(l[--r]<d[r]){for(n=r;n&&!l[--n];l[n]=t);--l[n],l[r]+=Eo}l[r]-=d[r]}for(;0==l[0];l.splice(0,1),--u);return l[0]?C(e,l,u):(e.s=3==g?-1:1,e.c=[e.e=0],e)},f.modulo=f.mod=function(e,t){var r,o,i=this;return e=new k(e,t),!i.c||!e.s||e.c&&!e.c[0]?new k(NaN):!e.c||i.c&&!i.c[0]?new k(i):(9==b?(o=e.s,e.s=1,r=n(i,e,0,3),e.s=o,r.s*=o):r=n(i,e,0,b),(e=i.minus(r.times(e))).c[0]||1!=b||(e.s=i.s),e)},f.multipliedBy=f.times=function(e,t){var n,r,o,i,a,s,c,u,l,d,f,h,p,g,m,y=this,v=y.c,w=(e=new k(e,t)).c;if(!(v&&w&&v[0]&&w[0]))return!y.s||!e.s||v&&!v[0]&&!w||w&&!w[0]&&!v?e.c=e.e=e.s=null:(e.s*=y.s,v&&w?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=Co(y.e/xo)+Co(e.e/xo),e.s*=y.s,(c=v.length)<(d=w.length)&&(p=v,v=w,w=p,o=c,c=d,d=o),o=c+d,p=[];o--;p.push(0));for(g=Eo,m=Io,o=d;--o>=0;){for(n=0,f=w[o]%m,h=w[o]/m|0,i=o+(a=c);i>o;)n=((u=f*(u=v[--a]%m)+(s=h*u+(l=v[a]/m|0)*f)%m*m+p[i]+n)/g|0)+(s/m|0)+h*l,p[i--]=u%g;p[i]=n}return n?++r:p.splice(0,1),C(e,p,r)},f.negated=function(){var e=new k(this);return e.s=-e.s||null,e},f.plus=function(e,t){var n,r=this,o=r.s;if(t=(e=new k(e,t)).s,!o||!t)return new k(NaN);if(o!=t)return e.s=-t,r.minus(e);var i=r.e/xo,a=e.e/xo,s=r.c,c=e.c;if(!i||!a){if(!s||!c)return new k(o/0);if(!s[0]||!c[0])return c[0]?e:new k(s[0]?r:0*o)}if(i=Co(i),a=Co(a),s=s.slice(),o=i-a){for(o>0?(a=i,n=c):(o=-o,n=s),n.reverse();o--;n.push(0));n.reverse()}for((o=s.length)-(t=c.length)<0&&(n=c,c=s,s=n,t=o),o=0;t;)o=(s[--t]=s[t]+c[t]+o)/Eo|0,s[t]=Eo===s[t]?0:s[t]%Eo;return o&&(s=[o].concat(s),++a),C(e,s,a)},f.precision=f.sd=function(e,t){var n,r,o,i=this;if(null!=e&&e!==!!e)return Oo(e,1,_o),null==t?t=g:Oo(t,0,8),R(new k(i),e,t);if(!(n=i.c))return null;if(r=(o=n.length-1)*xo+1,o=n[o]){for(;o%10==0;o/=10,r--);for(o=n[0];o>=10;o/=10,r++);}return e&&i.e+1>r&&(r=i.e+1),r},f.shiftedBy=function(e){return Oo(e,-9007199254740991,To),this.times("1e"+e)},f.squareRoot=f.sqrt=function(){var e,t,r,o,i,a=this,s=a.c,c=a.s,u=a.e,l=p+4,d=new k("0.5");if(1!==c||!s||!s[0])return new k(!c||c<0&&(!s||s[0])?NaN:s?a:1/0);if(0==(c=Math.sqrt(+P(a)))||c==1/0?(((t=Ro(s)).length+u)%2==0&&(t+="0"),c=Math.sqrt(+t),u=Co((u+1)/2)-(u<0||u%2),r=new k(t=c==1/0?"5e"+u:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+u)):r=new k(c+""),r.c[0])for((c=(u=r.e)+l)<3&&(c=0);;)if(i=r,r=d.times(i.plus(n(a,i,l,1))),Ro(i.c).slice(0,c)===(t=Ro(r.c)).slice(0,c)){if(r.e<u&&--c,"9999"!=(t=t.slice(c-3,c+1))&&(o||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(R(r,r.e+p+2,1),e=!r.times(r).eq(a));break}if(!o&&(R(i,i.e+p+2,0),i.times(i).eq(a))){r=i;break}l+=4,c+=4,o=1}return R(r,r.e+p+1,g,e)},f.toExponential=function(e,t){return null!=e&&(Oo(e,0,_o),e++),I(this,e,t,1)},f.toFixed=function(e,t){return null!=e&&(Oo(e,0,_o),e=e+this.e+1),I(this,e,t)},f.toFormat=function(e,t,n){var r,o=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=E;else if("object"!=typeof n)throw Error(bo+"Argument not an object: "+n);if(r=o.toFixed(e,t),o.c){var i,a=r.split("."),s=+n.groupSize,c=+n.secondaryGroupSize,u=n.groupSeparator||"",l=a[0],d=a[1],f=o.s<0,h=f?l.slice(1):l,p=h.length;if(c&&(i=s,s=c,c=i,p-=i),s>0&&p>0){for(i=p%s||s,l=h.substr(0,i);i<p;i+=s)l+=u+h.substr(i,s);c>0&&(l+=u+h.slice(i)),f&&(l="-"+l)}r=d?l+(n.decimalSeparator||"")+((c=+n.fractionGroupSize)?d.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):d):l}return(n.prefix||"")+r+(n.suffix||"")},f.toFraction=function(e){var t,r,o,i,a,s,c,u,l,d,f,p,m=this,y=m.c;if(null!=e&&(!(c=new k(e)).isInteger()&&(c.c||1!==c.s)||c.lt(h)))throw Error(bo+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+P(c));if(!y)return new k(m);for(t=new k(h),l=r=new k(h),o=u=new k(h),p=Ro(y),a=t.e=p.length-m.e-1,t.c[0]=ko[(s=a%xo)<0?xo+s:s],e=!e||c.comparedTo(t)>0?a>0?t:l:c,s=w,w=1/0,c=new k(p),u.c[0]=0;d=n(c,t,0,1),1!=(i=r.plus(d.times(o))).comparedTo(e);)r=o,o=i,l=u.plus(d.times(i=l)),u=i,t=c.minus(d.times(i=t)),c=i;return i=n(e.minus(r),o,0,1),u=u.plus(i.times(l)),r=r.plus(i.times(o)),u.s=l.s=m.s,f=n(l,o,a*=2,g).minus(m).abs().comparedTo(n(u,r,a,g).minus(m).abs())<1?[l,o]:[u,r],w=s,f},f.toNumber=function(){return+P(this)},f.toPrecision=function(e,t){return null!=e&&Oo(e,1,_o),I(this,e,t,2)},f.toString=function(e){var t,n=this,o=n.s,i=n.e;return null===i?o?(t="Infinity",o<0&&(t="-"+t)):t="NaN":(null==e?t=i<=m||i>=y?Bo(Ro(n.c),i):zo(Ro(n.c),i,"0"):10===e&&T?t=zo(Ro((n=R(new k(n),p+i+1,g)).c),n.e,"0"):(Oo(e,2,x.length,"Base"),t=r(zo(Ro(n.c),i,"0"),10,e,o,!0)),o<0&&n.c[0]&&(t="-"+t)),t},f.valueOf=f.toJSON=function(){return P(this)},f._isBigNumber=!0,f[Symbol.toStringTag]="BigNumber",f[Symbol.for("nodejs.util.inspect.custom")]=f.valueOf,null!=t&&k.set(t),k}();const jo=Mo;function Uo(e,t){return D(e,(e=>"string"==typeof e&&t.test(e)))}const Do=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$/u,Lo=/^[-a-z0-9]{3,8}$/u,$o=/^[-_a-zA-Z0-9]{1,32}$/u,Fo=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$/u,qo=/^[-.%a-zA-Z0-9]{1,128}$/u,Wo=/^[-a-z0-9]{3,8}$/u,Vo=/^[-.%a-zA-Z0-9]{1,128}$/u,Ko=/^[-.%a-zA-Z0-9]{1,78}$/u,Go=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})$/u,Ho=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})\/(?<tokenId>[-.%a-zA-Z0-9]{1,78})$/u,Jo=(Uo("CaipChainId",Do),Uo("CaipNamespace",Lo),Uo("CaipReference",$o),Uo("CaipAccountId",Fo),Uo("CaipAccountAddress",qo),Uo("CaipAssetNamespace",Wo),Uo("CaipAssetReference",Vo),Uo("CaipTokenId",Ko),Uo("CaipAssetType",Go));Uo("CaipAssetId",Ho),Uo("CaipAssetTypeOrId",/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})(\/(?<tokenId>[-.%a-zA-Z0-9]{1,78}))?$/u);var Zo,Yo;function Xo(e){const t=Go.exec(e);if(!t?.groups)throw new Error("Invalid CAIP asset type.");return{assetNamespace:t.groups.assetNamespace,assetReference:t.groups.assetReference,chainId:t.groups.chainId,chain:{namespace:t.groups.namespace,reference:t.groups.reference}}}function Qo(e,t){return n=e,Boolean("string"==typeof n?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var n}!function(e){e.Bip122="bip122",e.Solana="solana",e.Eip155="eip155",e.Wallet="wallet"}(Zo=Zo||(Zo={}));class ei extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}function ti(e,t="Assertion failed.",n=ei){if(!e){if(t instanceof Error)throw t;throw Qo(n,t)}}!function(e){e[e.Millisecond=1]="Millisecond",e[e.Second=1e3]="Second",e[e.Minute=6e4]="Minute",e[e.Hour=36e5]="Hour",e[e.Day=864e5]="Day",e[e.Week=6048e5]="Week",e[e.Year=31536e6]="Year"}(Yo=Yo||(Yo={}));var ni=n(5250);const ri=(e,t)=>`${e}:${t.map((e=>JSON.stringify(e))).join(":")}`,oi=(e,t,{ttlMilliseconds:n,functionName:r,generateCacheKey:o})=>{const i=o??ri,a=r??e.name??"anonymousFunction";return async(...r)=>{const o=i(a,r);try{const e=await t.get(o);if(void 0!==e)return e}catch(e){console.error(`Cache get error for key "${o}":`,e)}const s=await e(...r);return t.set(o,s,n).catch((e=>{console.error(`Cache set error for key "${o}":`,e)})),s}};var ii=4,ai=5,si=6,ci=10,ui=-32700,li=-32603,di=-32602,fi=-32601,hi=-32600,pi=-32015,gi=-32014,mi=-32012,yi=-32010,vi=-32009,wi=-32007,Ai=-32006,bi=-32004,Si=-32002,Ei=-32001,xi=28e5,Ti=2800001,ki=2800003,Ii=2800006,_i=2800007,Ci=2800008,Ri=2800009,Pi=32300001,Oi=3230004,Ni=361e4,Bi=3610001,zi=3610003,Mi=3610005,ji=3610006,Ui=3610007,Di=3704001,Li=3704002,$i=3704003,Fi=4615e3,qi=4615026,Wi=4615045,Vi=5508e3,Ki=5663e3,Gi=5663001,Hi=5663004,Ji=5663005,Zi=5663006,Yi=5663007,Xi=5663008,Qi=5663009,ea=5663012,ta=5663015,na=5663016,ra=5663017,oa=5663018,ia=5663019,aa=705e4,sa=7050030,ca=7050031,ua=7050035,la=8078e3,da=8078001,fa=8078002,ha=8078004,pa=8078005,ga=8078006,ma=8078007,ya=8078008,va=8078010,wa=8078011,Aa=8078012,ba=8078013,Sa=8078014,Ea=8078017,xa=8078018,Ta=8078022,ka=81e5,Ia=8100002,_a=8100003,Ca=9900003;function Ra(e){if(Array.isArray(e)){return"%5B"+e.map(Ra).join("%2C%20")+"%5D"}return"bigint"==typeof e?`${e}n`:encodeURIComponent(String(null!=e&&null===Object.getPrototypeOf(e)?{...e}:e))}function Pa([e,t]){return`${e}=${Ra(t)}`}function Oa(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${function(e){const t=Object.entries(e).map(Pa).join("&");return btoa(t)}(t)}'`),`${n}\``}}function Na(e,t){return!!(e instanceof Error&&"SolanaError"===e.name)&&(void 0===t||e.context.__code===t)}var Ba=class extends Error{cause=this.cause;context;constructor(...[e,t]){let n,r;if(t){const{cause:e,...o}=t;e&&(r={cause:e}),Object.keys(o).length>0&&(n=o)}super(Oa(e,n),r),this.context={__code:e,...n},this.name="SolanaError"}};function za(...e){"captureStackTrace"in Error&&"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(...e)}function Ma({errorCodeBaseOffset:e,getErrorContext:t,orderedErrorNames:n,rpcEnumError:r},o){let i,a;"string"==typeof r?i=r:(i=Object.keys(r)[0],a=r[i]);const s=e+n.indexOf(i),c=t(s,i,a),u=new Ba(s,c);return za(u,o),u}var ja=["GenericError","InvalidArgument","InvalidInstructionData","InvalidAccountData","AccountDataTooSmall","InsufficientFunds","IncorrectProgramId","MissingRequiredSignature","AccountAlreadyInitialized","UninitializedAccount","UnbalancedInstruction","ModifiedProgramId","ExternalAccountLamportSpend","ExternalAccountDataModified","ReadonlyLamportChange","ReadonlyDataModified","DuplicateAccountIndex","ExecutableModified","RentEpochModified","NotEnoughAccountKeys","AccountDataSizeChanged","AccountNotExecutable","AccountBorrowFailed","AccountBorrowOutstanding","DuplicateAccountOutOfSync","Custom","InvalidError","ExecutableDataModified","ExecutableLamportChange","ExecutableAccountNotRentExempt","UnsupportedProgramId","CallDepth","MissingAccount","ReentrancyNotAllowed","MaxSeedLengthExceeded","InvalidSeeds","InvalidRealloc","ComputationalBudgetExceeded","PrivilegeEscalation","ProgramEnvironmentSetupFailure","ProgramFailedToComplete","ProgramFailedToCompile","Immutable","IncorrectAuthority","BorshIoError","AccountNotRentExempt","InvalidAccountOwner","ArithmeticOverflow","UnsupportedSysvar","IllegalOwner","MaxAccountsDataAllocationsExceeded","MaxAccountsExceeded","MaxInstructionTraceLengthExceeded","BuiltinProgramsMustConsumeComputeUnits"];function Ua(e,t){const n=Number(e);return Ma({errorCodeBaseOffset:4615001,getErrorContext:(e,t,r)=>e===Fi?{errorName:t,index:n,...void 0!==r?{instructionErrorContext:r}:null}:e===qi?{code:Number(r),index:n}:e===Wi?{encodedData:r,index:n}:{index:n},orderedErrorNames:ja,rpcEnumError:t},Ua)}var Da=["AccountInUse","AccountLoadedTwice","AccountNotFound","ProgramAccountNotFound","InsufficientFundsForFee","InvalidAccountForFee","AlreadyProcessed","BlockhashNotFound","CallChainTooDeep","MissingSignatureForFee","InvalidAccountIndex","SignatureFailure","InvalidProgramForExecution","SanitizeFailure","ClusterMaintenance","AccountBorrowOutstanding","WouldExceedMaxBlockCostLimit","UnsupportedVersion","InvalidWritableAccount","WouldExceedMaxAccountCostLimit","WouldExceedAccountDataBlockLimit","TooManyAccountLocks","AddressLookupTableNotFound","InvalidAddressLookupTableOwner","InvalidAddressLookupTableData","InvalidAddressLookupTableIndex","InvalidRentPayingAccount","WouldExceedMaxVoteCostLimit","WouldExceedAccountDataTotalLimit","DuplicateInstruction","InsufficientFundsForRent","MaxLoadedAccountsDataSizeExceeded","InvalidLoadedAccountsDataSizeLimit","ResanitizationNeeded","ProgramExecutionTemporarilyRestricted","UnbalancedTransaction"];function La(e){return"object"==typeof e&&"InstructionError"in e?Ua(...e.InstructionError):Ma({errorCodeBaseOffset:7050001,getErrorContext:(e,t,n)=>e===aa?{errorName:t,...void 0!==n?{transactionErrorContext:n}:null}:e===sa?{index:Number(n)}:e===ca||e===ua?{accountIndex:Number(n.account_index)}:void 0,orderedErrorNames:Da,rpcEnumError:e},La)}function $a(e){let t;if("object"==typeof(n=e)&&null!==n&&"code"in n&&"message"in n&&("number"==typeof n.code||"bigint"==typeof n.code)&&"string"==typeof n.message){const{code:n,data:r,message:o}=e,i=Number(n);if(i===Si){const{err:e,...n}=r,o=e?{cause:La(e)}:null;t=new Ba(Si,{...n,...o})}else{let e;switch(i){case li:case di:case hi:case fi:case ui:case mi:case Ei:case bi:case gi:case yi:case vi:case wi:case Ai:case pi:e={__serverMessage:o};break;default:"object"!=typeof r||Array.isArray(r)||(e=r)}t=new Ba(i,e)}}else{const n="object"==typeof e&&null!==e&&"message"in e&&"string"==typeof e.message?e.message:"Malformed JSON-RPC error with no message attribute";t=new Ba(ci,{error:e,message:n})}var n;return za(t,$a),t}var Fa=(e,t)=>((e,t)=>{if(e.length>=t)return e;const n=new Uint8Array(t).fill(0);return n.set(e),n})(e.length<=t?e:e.slice(0,t),t);function qa(e,t,n){const r=0===n&&e.length===t.length?e:e.slice(n,n+t.length);return r.length===t.length&&t.every(((e,t)=>e===r[t]))}function Wa(e,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(e)}function Va(e){return Object.freeze({...e,encode:t=>{const n=new Uint8Array(Wa(t,e));return e.write(t,n,0),n}})}function Ka(e){return Object.freeze({...e,decode:(t,n=0)=>e.read(t,n)[0]})}function Ga(e){return"fixedSize"in e&&"number"==typeof e.fixedSize}function Ha(e){if(!Ga(e))throw new Ba(fa)}function Ja(e){return!Ga(e)}function Za(e,t){if(Ga(e)!==Ga(t))throw new Ba(ha);if(Ga(e)&&Ga(t)&&e.fixedSize!==t.fixedSize)throw new Ba(pa,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!Ga(e)&&!Ga(t)&&e.maxSize!==t.maxSize)throw new Ba(ga,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}function Ya(e,t,n,r=0){const o=n.length-r;if(o<t)throw new Ba(da,{bytesLength:o,codecDescription:e,expected:t})}function Xa(e,t,n){if(t<0||t>n)throw new Ba(Sa,{bytesLength:n,codecDescription:e,offset:t})}function Qa(e,t){const n=(n,r,o)=>{const i=e.encode(n);return o=t.write(i.length,r,o),r.set(i,o),o+i.length};if(Ga(t)&&Ga(e))return Va({...e,fixedSize:t.fixedSize+e.fixedSize,write:n});const r=Ga(t)?t.fixedSize:t.maxSize??null,o=Ga(e)?e.fixedSize:e.maxSize??null,i=null!==r&&null!==o?r+o:null;return Va({...e,...null!==i?{maxSize:i}:{},getSizeFromValue:n=>{const r=Wa(n,e);return Wa(r,t)+r},write:n})}function es(e,t){const n=(n,r)=>{const[o,i]=t.read(n,r),a=Number(o);return((r=i)>0||n.length>a)&&(n=n.slice(r,r+a)),Ya("addDecoderSizePrefix",a,n),[e.decode(n),r+a]};if(Ga(t)&&Ga(e))return Ka({...e,fixedSize:t.fixedSize+e.fixedSize,read:n});const r=Ga(t)?t.fixedSize:t.maxSize??null,o=Ga(e)?e.fixedSize:e.maxSize??null,i=null!==r&&null!==o?r+o:null;return Ka({...e,...null!==i?{maxSize:i}:{},read:n})}function ts(e,t){return Va({fixedSize:t,write:(n,r,o)=>{const i=e.encode(n),a=i.length>t?i.slice(0,t):i;return r.set(a,o),o+t}})}function ns(e,t){return Ka({fixedSize:t,read:(n,r)=>{Ya("fixCodecSize",t,n,r),(r>0||n.length>t)&&(n=n.slice(r,r+t)),Ga(e)&&(n=Fa(n,e.fixedSize));const[o]=e.read(n,0);return[o,r+t]}})}function rs(e,t){return Ka({...e,read:(n,r)=>{const o=e=>os(e,n.length),i=t.preOffset?t.preOffset({bytes:n,preOffset:r,wrapBytes:o}):r;Xa("offsetDecoder",i,n.length);const[a,s]=e.read(n,i),c=t.postOffset?t.postOffset({bytes:n,newPreOffset:i,postOffset:s,preOffset:r,wrapBytes:o}):s;return Xa("offsetDecoder",c,n.length),[a,c]}})}function os(e,t){return 0===t?0:(e%t+t)%t}function is(e,t){if(Ga(e)){const n=t(e.fixedSize);if(n<0)throw new Ba(ba,{bytesLength:n,codecDescription:"resizeDecoder"});return Ka({...e,fixedSize:n})}return e}function as(e,t){return rs(is(e,(e=>e+t)),{postOffset:({postOffset:e})=>e+t})}function ss(e,t){return Va({...Ja(e)?{...e,getSizeFromValue:n=>e.getSizeFromValue(t(n))}:e,write:(n,r,o)=>e.write(t(n),r,o)})}function cs(e,t){return Ka({...e,read:(n,r)=>{const[o,i]=e.read(n,r);return[t(o,n,r),i]}})}function us(e,t,n=t){if(!t.match(new RegExp(`^[${e}]*$`)))throw new Ba(Aa,{alphabet:e,base:e.length,value:n})}var ls=e=>Va({getSizeFromValue:t=>{const[n,r]=hs(t,e[0]);if(!r)return t.length;const o=ps(r,e);return n.length+Math.ceil(o.toString(16).length/2)},write(t,n,r){if(us(e,t),""===t)return r;const[o,i]=hs(t,e[0]);if(!i)return n.set(new Uint8Array(o.length).fill(0),r),r+o.length;let a=ps(i,e);const s=[];for(;a>0n;)s.unshift(Number(a%256n)),a/=256n;const c=[...Array(o.length).fill(0),...s];return n.set(c,r),r+c.length}}),ds=e=>Ka({read(t,n){const r=0===n?t:t.slice(n);if(0===r.length)return["",0];let o=r.findIndex((e=>0!==e));o=-1===o?r.length:o;const i=e[0].repeat(o);if(o===r.length)return[i,t.length];const a=function(e,t){const n=BigInt(t.length),r=[];for(;e>0n;)r.unshift(t[Number(e%n)]),e/=n;return r.join("")}(r.slice(o).reduce(((e,t)=>256n*e+BigInt(t)),0n),e);return[i+a,t.length]}}),fs=e=>Za(ls(e),ds(e));function hs(e,t){const[n,r]=e.split(new RegExp(`((?!${t}).*)`));return[n,r]}function ps(e,t){const n=BigInt(t.length);let r=0n;for(const o of e)r*=n,r+=BigInt(t.indexOf(o));return r}var gs="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",ms=()=>ls(gs),ys=()=>ds(gs),vs=()=>fs(gs);var ws,As,bs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ss=()=>Va({getSizeFromValue:e=>{try{return atob(e).length}catch{throw new Ba(Aa,{alphabet:bs,base:64,value:e})}},write(e,t,n){try{const r=atob(e).split("").map((e=>e.charCodeAt(0)));return t.set(r,n),r.length+n}catch{throw new Ba(Aa,{alphabet:bs,base:64,value:e})}}}),Es=()=>Ka({read(e,t=0){const n=e.slice(t);return[btoa(String.fromCharCode(...n)),e.length]}}),xs=()=>Za(Ss(),Es()),Ts=e=>e.replace(/\u0000/g,""),ks=globalThis.TextDecoder,Is=globalThis.TextEncoder,_s=()=>{let e;return Ka({read(t,n){const r=(e||=new ks).decode(t.slice(n));return[Ts(r),t.length]}})},Cs=()=>Za((()=>{let e;return Va({getSizeFromValue:t=>(e||=new Is).encode(t).length,write:(t,n,r)=>{const o=(e||=new Is).encode(t);return n.set(o,r),r+o.length}})})(),_s());function Rs(){if(!globalThis.isSecureContext)throw new Ba(Ni)}function Ps(){if(Rs(),void 0===globalThis.crypto||"function"!=typeof globalThis.crypto.subtle?.exportKey)throw new Ba(zi)}function Os(){return ws||(ws=ms()),ws}function Ns(e){if(e.length<32||e.length>44)return!1;const t=Os();try{return 32===t.encode(e).byteLength}catch{return!1}}function Bs(e){if(e.length<32||e.length>44)throw new Ba(Ti,{actualLength:e.length});const t=Os().encode(e).byteLength;if(32!==t)throw new Ba(xi,{actualLength:t})}function zs(e){return Bs(e),e}function Ms(){return ss(ts(Os(),32),(e=>zs(e)))}function js(){return ns((As||(As=ys()),As),32)}function Us(){return Za(Ms(),js())}function Ds(){return new Intl.Collator("en",{caseFirst:"lower",ignorePunctuation:!1,localeMatcher:"best fit",numeric:!1,sensitivity:"variant",usage:"sort"}).compare}var Ls=37095705934669439343138083508754565189542113879843219016388785533085940283555n,$s=57896044618658097711785492504343953926634992332820282019728792003956564819949n,Fs=19681161376707505956807079304988542015446066515923890162744021073123829784752n;function qs(e){const t=e%$s;return t>=0n?t:$s+t}function Ws(e,t){let n=e;for(;t-- >0n;)n*=n,n%=$s;return n}function Vs(e,t){const n=qs(t*t*t),r=function(e){const t=e*e%$s*e%$s,n=Ws(t,2n)*t%$s,r=Ws(n,1n)*e%$s,o=Ws(r,5n)*r%$s,i=Ws(o,10n)*o%$s,a=Ws(i,20n)*i%$s,s=Ws(a,40n)*a%$s,c=Ws(s,80n)*s%$s,u=Ws(c,80n)*s%$s,l=Ws(u,10n)*o%$s;return Ws(l,2n)*e%$s}(e*qs(n*n*t));let o=qs(e*n*r);const i=qs(t*o*o),a=o,s=qs(o*Fs),c=i===e,u=i===qs(-e),l=i===qs(-e*Fs);return c&&(o=a),(u||l)&&(o=s),1n===(1n&qs(o))&&(o=qs(-o)),c||u?o:null}function Ks(e){if(32!==e.byteLength)return!1;const t=function(e){const t=e.reduce(((e,t,n)=>`${function(e){const t=e.toString(16);return 1===t.length?`0${t}`:t}(31===n?-129&t:t)}${e}`),"");return BigInt(`0x${t}`)}(e);return function(e,t){const n=qs(e*e),r=Vs(qs(n-1n),qs(Ls*n+1n));return null!==r&&(0n!==r||!(0!=(128&t)))}(t,e[31])}var Gs=32,Hs=16,Js=[80,114,111,103,114,97,109,68,101,114,105,118,101,100,65,100,100,114,101,115,115];async function Zs({programAddress:e,seeds:t}){if(function(){if(Rs(),void 0===globalThis.crypto||"function"!=typeof globalThis.crypto.subtle?.digest)throw new Ba(Bi)}(),t.length>Hs)throw new Ba(Ii,{actual:t.length,maxSeeds:Hs});let n;const r=t.reduce(((e,t,r)=>{const o="string"==typeof t?(n||=new TextEncoder).encode(t):t;if(o.byteLength>Gs)throw new Ba(_i,{actual:o.byteLength,index:r,maxSeedLength:Gs});return e.push(...o),e}),[]),o=Us(),i=o.encode(e),a=await crypto.subtle.digest("SHA-256",new Uint8Array([...r,...i,...Js])),s=new Uint8Array(a);if(Ks(s))throw new Ba(Ci);return o.decode(s)}async function Ys({programAddress:e,seeds:t}){let n=255;for(;n>0;)try{return[await Zs({programAddress:e,seeds:[...t,new Uint8Array([n])]}),n]}catch(e){if(!Na(e,Ci))throw e;n--}throw new Ba(Ri)}async function Xs(e){if(Ps(),"public"!==e.type||"Ed25519"!==e.algorithm.name)throw new Ba(ki);const t=await crypto.subtle.exportKey("raw",e);return js().decode(new Uint8Array(t))}const Qs=1000000n,ec=1e9,tc="metamask";var nc=function(e){return e.Mainnet="solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",e.Devnet="solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",e.Testnet="solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",e.Localnet="solana:123456789abcdef",e}({}),rc=function(e){return e.SolMainnet="solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp/slip44:501",e.SolDevnet="solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1/slip44:501",e.SolTestnet="solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z/slip44:501",e.SolLocalnet="solana:123456789abcdef/slip44:501",e.UsdcMainnet="solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp/token:EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",e.UsdcDevnet="solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1/token:4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",e.UsdcLocalnet="solana:123456789abcdef/token:4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",e.EurcMainnet="solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp/token:HzwqbKZw8HxMN6bF2yFZNrht3c2iXXzpKcFu7uBEDKtr",e.EurcDevnet="solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1/token:HzwqbKZw8HxMN6bF2yFZNrht3c2iXXzpKcFu7uBEDKtr",e.EurcLocalnet="solana:123456789abcdef/token:HzwqbKZw8HxMN6bF2yFZNrht3c2iXXzpKcFu7uBEDKtr",e.Ai16zLocalnet="solana:123456789abcdef/token:HeLp6NuQkmYB4pYWo2zYs22mESHXPQYzXbB8n4V98jwC",e}({});var oc=function(e){return e.SOL="slip44:501",e}({});const ic={"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp/slip44:501":{symbol:"SOL",caip19Id:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp/slip44:501",address:"So11111111111111111111111111111111111111112",decimals:9},"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1/slip44:501":{symbol:"SOL",caip19Id:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1/slip44:501",address:"So11111111111111111111111111111111111111112",decimals:9},"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z/slip44:501":{symbol:"SOL",caip19Id:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z/slip44:501",address:"So11111111111111111111111111111111111111112",decimals:9},"solana:123456789abcdef/slip44:501":{symbol:"SOL",caip19Id:"solana:123456789abcdef/slip44:501",address:"So11111111111111111111111111111111111111112",decimals:9},"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp/token:EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v":{symbol:"USDC",caip19Id:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp/token:EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",address:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",decimals:6},"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1/token:4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU":{symbol:"USDC",caip19Id:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1/token:4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",address:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",decimals:6},"solana:123456789abcdef/token:4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU":{symbol:"USDC",caip19Id:"solana:123456789abcdef/token:4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",address:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",decimals:6}},ac=zs("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),sc={"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":{caip2Id:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",cluster:"mainnet",name:"Solana Mainnet",nativeToken:ic["solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp/slip44:501"]},"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1":{caip2Id:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",cluster:"devnet",name:"Solana Devnet",nativeToken:ic["solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1/slip44:501"]},"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":{caip2Id:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",cluster:"testnet",name:"Solana Testnet",nativeToken:ic["solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z/slip44:501"]},"solana:123456789abcdef":{caip2Id:"solana:123456789abcdef",cluster:"local",name:"Solana Localnet",nativeToken:ic["solana:123456789abcdef/slip44:501"]}},cc=ge(re(),/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/u),uc=ge(re(),/^(?!0\d)(\d+(\.\d+)?)$/u),lc=me(re(),"safe-url",(e=>{try{const t=new URL(e),n=["http:","https:","wss:"];if(!n.includes(t.protocol))return`URL must use one of the following protocols: ${n}`;if(!e.match(/^(https?|wss):\/\/[^/]+\/?/u))return"Malformed URL - incorrect protocol format";const r=t.hostname.toLowerCase();if(!("localhost"===r||r.includes(".")&&/^[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/u.test(r)))return"Invalid hostname format";const o=decodeURIComponent(e.toLowerCase());if(e.includes("\\")||e.includes("@")||o.includes("\\")||o.includes("@")||e.toLowerCase().includes("%2f@")||e.toLowerCase().includes("%5c@"))return"URL contains protocol pollution attempts";const i=decodeURIComponent(r);if(r.includes("\\")||r.includes("@")||i.includes("/")||r.toLowerCase().includes("%2f"))return"Invalid hostname characters detected";if(e.includes("../")||e.includes("..%2f")||e.includes("..%2F"))return"Directory traversal attempts are not allowed";const a=[/<[^>]*>/u,/javascript:/u,/data:/u,/\\[@\\]/u,/%2f@/u,/[^\x20-\x7E]/u,/\$\{.*?\}/u,/#\{.*?\}/u,/[|;]/u,/%0[acd]|%0[acd]/u,/\/\/\w+@/u,/(?:[^a-z]|^)(?:union\s+(?:all\s+)?select|select\s+(?:.*\s+)?from|insert\s+into|update\s+.*\s+set|delete\s+from|drop\s+table|alter\s+table|create\s+table|exec(?:ute)?|union|where\s+[\d\w]\s*=\s*[\d\w]|\bor\b\s*[\d\w]\s*=\s*[\d\w])/iu,/'.*?(?:OR|UNION|SELECT|FROM|WHERE).*?'/iu,/%27.*?(?:OR|UNION|SELECT|FROM|WHERE).*?(?:%27|')/iu,/%20(?:OR|UNION|SELECT|FROM|WHERE)%20/iu,/[?&](?:url|redirect|next|return_to|return_url|goto|destination|continue|redirect_uri)=(?:[^&]*\/\/|https?:)/iu,/[?&](?:url|redirect|next|return_to|return_url|goto|destination|continue|redirect_uri)=%(?:[^&]*\/\/|https?:)/iu];for(const e of a)if(e.test(o))return"URL contains potentially malicious patterns";return!(t.port&&!/^\d+$/u.test(t.port))||"Invalid port number"}catch(e){return"Invalid URL format"}})),dc=ee({accountId:cc}),fc=ee({accountId:cc}),hc=ee({accountId:cc}),pc=ee({accountId:cc,assets:K(it)}),gc=ee({accountId:cc,pagination:ee({limit:J(),next:te(X(re()))})}),mc=ne(it,ee({amount:uc,unit:re()})),yc=(K(it),H(Object.values(Ft)),H(Object.values(nc))),vc=(H(["btc","eth","ltc","bch","bnb","eos","xrp","xlm","link","dot","yfi","usd","aed","ars","aud","bdt","bhd","bmd","brl","cad","chf","clp","cny","czk","dkk","eur","gbp","gel","hkd","huf","idr","ils","inr","jpy","krw","kwd","lkr","mmk","mxn","myr","ngn","nok","nzd","php","pkr","pln","rub","sar","sek","sgd","thb","try","twd","uah","vef","vnd","zar","xdr","xag","xau","bits","sats"]),ee({transaction:re(),scope:H(Object.values(nc))})),wc=ee({value:X(uc)}),Ac=D("Base58",(e=>"string"!=typeof e?"Expected a string, but received: "+typeof e:!!/^[123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]+$/u.test(e)||"Expected a Base58 encoded string, but received a string with invalid characters")),bc=ge(re(),/^(?:[A-Za-z0-9+/]{4})+(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/u),Sc=ge(re(),/^m\/44'\/501'/u);ge(re(),/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d{3})?Z$/u);function Ec(e){const{baseUrl:t,path:n,pathParams:r,queryParams:o}=e;z(t,lc);const i=n.replace(/\{(\w+)\}/gu,((e,t)=>{const n=r?.[t];if(void 0===n)throw new Error(`Path parameter ${t} is undefined`);return n})).replace(/^\/+/u,"").replace(/\/+/gu,"/").replace(/\/+$/u,""),a=new URL(i,t);Object.entries(o??{}).filter((([e,t])=>void 0!==t)).filter((([e,t])=>null!==t)).forEach((([e,t])=>{t&&a.searchParams.append(e,t)}));const s=a.toString();return z(s,lc),s}function xc(e,t,n,r){if(r<t||r>n)throw new Ba(wa,{codecDescription:e,max:n,min:t,value:r})}var Tc,kc=((Tc=kc||{})[Tc.Little=0]="Little",Tc[Tc.Big=1]="Big",Tc);function Ic(e){return 1!==e?.endian}function _c(e){return Va({fixedSize:e.size,write(t,n,r){e.range&&xc(e.name,e.range[0],e.range[1],t);const o=new ArrayBuffer(e.size);return e.set(new DataView(o),t,Ic(e.config)),n.set(new Uint8Array(o),r),r+e.size}})}function Cc(e){return Ka({fixedSize:e.size,read(t,n=0){!function(e,t,n=0){if(t.length-n<=0)throw new Ba(la,{codecDescription:e})}(e.name,t,n),Ya(e.name,e.size,t,n);const r=new DataView(function(e,t,n){const r=e.byteOffset+(t??0),o=n??e.byteLength;return e.buffer.slice(r,r+o)}(t,n,e.size));return[e.get(r,Ic(e.config)),n+e.size]}})}var Rc=(e={})=>Cc({config:e,get:(e,t)=>e.getFloat64(0,t),name:"f64",size:8}),Pc=(e={})=>Cc({config:e,get:(e,t)=>e.getInt16(0,t),name:"i16",size:2}),Oc=(e={})=>Cc({config:e,get:(e,t)=>e.getBigInt64(0,t),name:"i64",size:8}),Nc=()=>Cc({get:e=>e.getInt8(0),name:"i8",size:1}),Bc=()=>Va({getSizeFromValue:e=>e<=127?1:e<=16383?2:3,maxSize:3,write:(e,t,n)=>{xc("shortU16",0,65535,e);const r=[0];for(let t=0;;t+=1){const n=Number(e)>>7*t;if(0===n)break;const o=127&n;r[t]=o,t>0&&(r[t-1]|=128)}return t.set(r,n),n+r.length}}),zc=()=>Ka({maxSize:3,read:(e,t)=>{let n=0,r=0;for(;++r;){const o=r-1,i=e[t+o];if(n|=(127&i)<<7*o,0==(128&i))break}return[n,t+r]}}),Mc=(e={})=>Cc({config:e,get:(e,t)=>e.getUint16(0,t),name:"u16",size:2}),jc=(e={})=>_c({config:e,name:"u32",range:[0,Number("0xffffffff")],set:(e,t,n)=>e.setUint32(0,Number(t),n),size:4}),Uc=(e={})=>Cc({config:e,get:(e,t)=>e.getUint32(0,t),name:"u32",size:4}),Dc=(e={})=>_c({config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,t,n)=>e.setBigUint64(0,BigInt(t),n),size:8}),Lc=(e={})=>Cc({config:e,get:(e,t)=>e.getBigUint64(0,t),name:"u64",size:8}),$c=()=>_c({name:"u8",range:[0,Number("0xff")],set:(e,t)=>e.setUint8(0,Number(t)),size:1}),Fc=()=>Cc({get:e=>e.getUint8(0),name:"u8",size:1});var qc,Wc=((qc=Wc||{})[qc.WRITABLE_SIGNER=3]="WRITABLE_SIGNER",qc[qc.READONLY_SIGNER=2]="READONLY_SIGNER",qc[qc.WRITABLE=1]="WRITABLE",qc[qc.READONLY=0]="READONLY",qc),Vc=2,Kc=1;function Gc(e){return e>=2}function Hc(e){return 0!=(e&Kc)}function Jc(e,t){return e|t}function Zc(e){return e|Vc}var Yc,Xc=Object.freeze({name:"Ed25519"});async function Qc(e,t){const n=e.byteLength;if(32!==n)throw new Ba(Di,{actualLength:n});const r=function(e){return new Uint8Array([48,46,2,1,0,48,5,6,3,43,101,112,4,34,4,32,...e])}(e);return await crypto.subtle.importKey("pkcs8",r,Xc,t??!1,["sign"])}async function eu(e,t){!function(){if(Rs(),void 0===globalThis.crypto||"function"!=typeof globalThis.crypto.subtle?.sign)throw new Ba(Mi)}();const n=await crypto.subtle.sign(Xc,e,t);return new Uint8Array(n)}function tu(e){return function(e){if(Yc||(Yc=ms()),e.length<64||e.length>88)throw new Ba($i,{actualLength:e.length});const t=Yc.encode(e).byteLength;if(64!==t)throw new Ba(Li,{actualLength:t})}(e),e}async function nu(e,t,n){return function(){if(Rs(),void 0===globalThis.crypto||"function"!=typeof globalThis.crypto.subtle?.verify)throw new Ba(ji)}(),await crypto.subtle.verify(Xc,e,t,n)}async function ru(e,t=!1){const n=Qc(e,t),[r,o]=await Promise.all([(t?n:Qc(e,!0)).then((async e=>await async function(e,t=!1){if(Ps(),!1===e.extractable)throw new Ba(Ui,{key:e});const n=await crypto.subtle.exportKey("jwk",e);return await crypto.subtle.importKey("jwk",{crv:"Ed25519",ext:t,key_ops:["verify"],kty:"OKP",x:n.x},"Ed25519",t,["verify"])}(e,!0))),n]);return{privateKey:o,publicKey:r}}function ou(e,t,n){if(t!==n)throw new Ba(ma,{actual:n,codecDescription:e,expected:t})}function iu(e){return e.reduce(((e,t)=>null===e||null===t?null:e+t),0)}function au(e){return Ga(e)?e.fixedSize:null}function su(e){return Ga(e)?e.fixedSize:e.maxSize??null}function cu(e,t={}){const n=t.size??jc(),r=lu(n,au(e)),o=lu(n,su(e))??void 0;return Va({...null!==r?{fixedSize:r}:{getSizeFromValue:t=>("object"==typeof n?Wa(t.length,n):0)+[...t].reduce(((t,n)=>t+Wa(n,e)),0),maxSize:o},write:(t,r,o)=>("number"==typeof n&&ou("array",n,t.length),"object"==typeof n&&(o=n.write(t.length,r,o)),t.forEach((t=>{o=e.write(t,r,o)})),o)})}function uu(e,t={}){const n=t.size??Uc(),r=au(e),o=lu(n,r),i=lu(n,su(e))??void 0;return Ka({...null!==o?{fixedSize:o}:{maxSize:i},read:(t,r)=>{const o=[];if("object"==typeof n&&0===t.slice(r).length)return[o,r];if("remainder"===n){for(;r<t.length;){const[n,i]=e.read(t,r);r=i,o.push(n)}return[o,r]}const[i,a]="number"==typeof n?[n,r]:n.read(t,r);r=a;for(let n=0;n<i;n+=1){const[n,i]=e.read(t,r);r=i,o.push(n)}return[o,r]}})}function lu(e,t){return"number"!=typeof e?null:0===e?0:null===t?null:t*e}function du(e={}){return ss(e.size??$c(),(e=>e?1:0))}function fu(e={}){return cs(e.size??Fc(),(e=>1===Number(e)))}function hu(){return Va({getSizeFromValue:e=>e.length,write:(e,t,n)=>(t.set(e,n),n+e.length)})}function pu(){return Ka({read:(e,t)=>{const n=e.slice(t);return[n,t+n.length]}})}var gu=()=>Ka({read(e,t){const n=e.slice(t).reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),"");return[n,e.length]}});function mu(e){return Va({fixedSize:e.length,write:(t,n,r)=>(n.set(e,r),r+e.length)})}function yu(e){return Ka({fixedSize:e.length,read:(t,n)=>{const r=gu();if(!qa(t,e,n))throw new Ba(xa,{constant:e,data:t,hexConstant:r.decode(e),hexData:r.decode(t),offset:n});return[void 0,n+e.length]}})}function vu(e){const t=iu(e.map(au)),n=iu(e.map(su))??void 0;return Va({...null===t?{getSizeFromValue:t=>e.map(((e,n)=>Wa(t[n],e))).reduce(((e,t)=>e+t),0),maxSize:n}:{fixedSize:t},write:(t,n,r)=>(ou("tuple",e.length,t.length),e.forEach(((e,o)=>{r=e.write(t[o],n,r)})),r)})}function wu(e){const t=iu(e.map(au)),n=iu(e.map(su))??void 0;return Ka({...null===t?{maxSize:n}:{fixedSize:t},read:(t,n)=>{const r=[];return e.forEach((e=>{const[o,i]=e.read(t,n);r.push(o),n=i})),[r,n]}})}function Au(e,t){const n=Eu(e),r=(n,r,o)=>{const i=t(n);return Su(e,i),e[i].write(n,r,o)};if(null!==n)return Va({fixedSize:n,write:r});const o=xu(e);return Va({...null!==o?{maxSize:o}:{},getSizeFromValue:n=>{const r=t(n);return Su(e,r),Wa(n,e[r])},write:r})}function bu(e,t){const n=Eu(e),r=(n,r)=>{const o=t(n,r);return Su(e,o),e[o].read(n,r)};if(null!==n)return Ka({fixedSize:n,read:r});const o=xu(e);return Ka({...null!==o?{maxSize:o}:{},read:r})}function Su(e,t){if(void 0===e[t])throw new Ba(Ea,{maxRange:e.length-1,minRange:0,variant:t})}function Eu(e){if(0===e.length)return 0;if(!Ga(e[0]))return null;const t=e[0].fixedSize;return e.every((e=>Ga(e)&&e.fixedSize===t))?t:null}function xu(e){return e.map((e=>su(e))).reduce(((e,t)=>null===e||null===t?null:Math.max(e,t)),0)}function Tu(e,t={}){const n=t.discriminator??"__kind",r=t.size??Fc();return bu(e.map((([e,t])=>cs(wu([r,t]),(([,t])=>({[n]:e,...t}))))),((e,t)=>Number(r.read(e,t)[0])))}function ku(e){const t=[...new Set(Object.values(e).filter((e=>"number"==typeof e)))].sort(),n=Object.fromEntries(Object.entries(e).slice(t.length)),r=Object.keys(n),o=Object.values(n),i=[...new Set([...r,...o.filter((e=>"string"==typeof e))])];return{enumKeys:r,enumRecord:n,enumValues:o,numericalValues:t,stringValues:i}}function Iu(e,t){let n=e.length;for(;n--;)if(t(e[n],n,e))return n;return-1}function _u(e){if(0===e.length)return"";let t=[e[0],e[0]];const n=[];for(let r=1;r<e.length;r++){const o=e[r];t[1]+1===o?t[1]=o:(n.push(t[0]===t[1]?`${t[0]}`:`${t[0]}-${t[1]}`),t=[o,o])}return n.push(t[0]===t[1]?`${t[0]}`:`${t[0]}-${t[1]}`),n.join(", ")}function Cu(e,t={}){const n=t.size??$c(),r=t.useValuesAsDiscriminators??!1,{enumKeys:o,enumValues:i,numericalValues:a,stringValues:s}=ku(e);if(r&&i.some((e=>"string"==typeof e)))throw new Ba(Ta,{stringValues:i.filter((e=>"string"==typeof e))});return ss(n,(e=>{const t=function({enumKeys:e,enumValues:t,variant:n}){const r=Iu(t,(e=>e===n));return r>=0?r:e.findIndex((e=>e===n))}({enumKeys:o,enumValues:i,variant:e});if(t<0)throw new Ba(va,{formattedNumericalValues:_u(a),numericalValues:a,stringValues:s,variant:e});return r?i[t]:t}))}function Ru(e,t={}){const n=t.size??Fc(),r=t.useValuesAsDiscriminators??!1,{enumKeys:o,enumValues:i,numericalValues:a}=ku(e);if(r&&i.some((e=>"string"==typeof e)))throw new Ba(Ta,{stringValues:i.filter((e=>"string"==typeof e))});return cs(n,(e=>{const t=Number(e),n=function({discriminator:e,enumKeys:t,enumValues:n,useValuesAsDiscriminators:r}){return r?Iu(n,(t=>t===e)):e>=0&&e<t.length?e:-1}({discriminator:t,enumKeys:o,enumValues:i,useValuesAsDiscriminators:r});if(n<0){const e=r?a:[...Array(o.length).keys()];throw new Ba(ya,{discriminator:t,formattedValidDiscriminators:_u(e),validDiscriminators:e})}return i[n]}))}var Pu;function Ou(){return Va({fixedSize:0,write:(e,t,n)=>n})}function Nu(){return Ka({fixedSize:0,read:(e,t)=>[void 0,t]})}function Bu(e){const t=e.map((([,e])=>e)),n=iu(t.map(au)),r=iu(t.map(su))??void 0;return Va({...null===n?{getSizeFromValue:t=>e.map((([e,n])=>Wa(t[e],n))).reduce(((e,t)=>e+t),0),maxSize:r}:{fixedSize:n},write:(t,n,r)=>(e.forEach((([e,o])=>{r=o.write(t[e],n,r)})),r)})}function zu(e){const t=e.map((([,e])=>e)),n=iu(t.map(au)),r=iu(t.map(su))??void 0;return Ka({...null===n?{maxSize:r}:{fixedSize:n},read:(t,n)=>{const r={};return e.forEach((([e,o])=>{const[i,a]=o.read(t,n);n=a,r[e]=i})),[r,n]}})}function Mu(){return Pu||(Pu=ms()),Pu}function ju(e){if(e.length<32||e.length>44)throw new Ba(ii,{actualLength:e.length});const t=Mu().encode(e).byteLength;if(32!==t)throw new Ba(ai,{actualLength:t})}function Uu(e){switch(e){case"finalized":return 2;case"confirmed":return 1;case"processed":return 0;default:throw new Ba(Ca,{unexpectedValue:e})}}var Du=18446744073709551615n;function Lu(e){return function(e){if(e<0||e>Du)throw new Ba(si)}(e),e}function $u(e,...t){return t.reduce(((e,t)=>t(e)),e)}function Fu(e){if(!("lifetimeConstraint"in e&&"string"==typeof e.lifetimeConstraint.blockhash&&"bigint"==typeof e.lifetimeConstraint.lastValidBlockHeight))return!1;try{return ju(e.lifetimeConstraint.blockhash),!0}catch{return!1}}function qu(e,t){if("lifetimeConstraint"in t&&t.lifetimeConstraint.blockhash===e.blockhash&&t.lifetimeConstraint.lastValidBlockHeight===e.lastValidBlockHeight)return t;const n={...t,lifetimeConstraint:Object.freeze(e)};return Object.freeze(n),n}var Wu=e=>Va({getSizeFromValue:t=>{const[n,r]=Ku(t,e[0]);if(!r)return t.length;const o=Gu(r,e);return n.length+Math.ceil(o.toString(16).length/2)},write(t,n,r){if(function(e,t,n=t){if(!t.match(new RegExp(`^[${e}]*$`)))throw new Ba(Aa,{alphabet:e,base:e.length,value:n})}(e,t),""===t)return r;const[o,i]=Ku(t,e[0]);if(!i)return n.set(new Uint8Array(o.length).fill(0),r),r+o.length;let a=Gu(i,e);const s=[];for(;a>0n;)s.unshift(Number(a%256n)),a/=256n;const c=[...Array(o.length).fill(0),...s];return n.set(c,r),r+c.length}}),Vu=e=>Ka({read(t,n){const r=0===n?t:t.slice(n);if(0===r.length)return["",0];let o=r.findIndex((e=>0!==e));o=-1===o?r.length:o;const i=e[0].repeat(o);if(o===r.length)return[i,t.length];const a=function(e,t){const n=BigInt(t.length),r=[];for(;e>0n;)r.unshift(t[Number(e%n)]),e/=n;return r.join("")}(r.slice(o).reduce(((e,t)=>256n*e+BigInt(t)),0n),e);return[i+a,t.length]}});function Ku(e,t){const[n,r]=e.split(new RegExp(`((?!${t}).*)`));return[n,r]}function Gu(e,t){const n=BigInt(t.length);let r=0n;for(const o of e)r*=n,r+=BigInt(t.indexOf(o));return r}var Hu,Ju,Zu,Yu,Xu,Qu,el="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",tl=()=>Wu(el),nl=()=>Vu(el);function rl(){return Zu||(Zu=$c()),Zu}function ol(){return Yu||(Yu=Fc()),Yu}var il=128;function al(){return Va({getSizeFromValue:e=>"legacy"===e?0:1,maxSize:1,write:(e,t,n)=>{if("legacy"===e)return n;if(e<0||e>127)throw new Ba(Hi,{actualVersion:e});return t.set([e|il],n),n+1}})}function sl(){return Ka({maxSize:1,read:(e,t)=>{const n=e[t];if(0==(n&il))return["legacy",t];return[n^il,t+1]}})}function cl(){return Bu(ll())}function ul(){return ss(Bu([...ll(),["addressTableLookups",cu((Hu||(Hu=Bu([["lookupTableAddress",Ms()],["writableIndices",cu($c(),{size:Bc()})],["readableIndices",cu($c(),{size:Bc()})]])),Hu),{size:Bc()})]]),(e=>"legacy"===e.version?e:{...e,addressTableLookups:e.addressTableLookups??[]}))}function ll(){return[["version",al()],["header",Bu([["numSignerAccounts",rl()],["numReadonlySignerAccounts",rl()],["numReadonlyNonSignerAccounts",rl()]])],["staticAccounts",cu(Ms(),{size:Bc()})],["lifetimeToken",ts(tl(),32)],["instructions",cu((Xu||(Xu=ss(Bu([["programAddressIndex",$c()],["accountIndices",cu($c(),{size:Bc()})],["data",Qa(hu(),Bc())]]),(e=>void 0!==e.accountIndices&&void 0!==e.data?e:{...e,accountIndices:e.accountIndices??[],data:e.data??new Uint8Array(0)}))),Xu),{size:Bc()})]]}function dl(){return Va({getSizeFromValue:e=>"legacy"===e.version?cl().getSizeFromValue(e):ul().getSizeFromValue(e),write:(e,t,n)=>"legacy"===e.version?cl().write(e,t,n):ul().write(e,t,n)})}function fl(){return cs(zu([["version",sl()],["header",zu([["numSignerAccounts",ol()],["numReadonlySignerAccounts",ol()],["numReadonlyNonSignerAccounts",ol()]])],["staticAccounts",uu(js(),{size:zc()})],["lifetimeToken",ns(nl(),32)],["instructions",uu((Qu||(Qu=cs(zu([["programAddressIndex",Fc()],["accountIndices",uu(Fc(),{size:zc()})],["data",es(pu(),zc())]]),(e=>{if(e.accountIndices.length&&e.data.byteLength)return e;const{accountIndices:t,data:n,...r}=e;return{...r,...t.length?{accountIndices:t}:null,...n.byteLength?{data:n}:null}}))),Qu),{size:zc()})],["addressTableLookups",uu((Ju||(Ju=zu([["lookupTableAddress",js()],["writableIndices",uu(Fc(),{size:zc()})],["readableIndices",uu(Fc(),{size:zc()})]])),Ju),{size:zc()})]]),(({addressTableLookups:e,...t})=>"legacy"!==t.version&&e?.length?{...t,addressTableLookups:e}:t))}function hl(e,t,n){e[t]=n(e[t]??{role:Wc.READONLY})}var pl=Symbol("AddressMapTypeProperty");function gl(e){const t={};for(const n of e){if(!("lookupTableAddress"in n))continue;const e=t[n.lookupTableAddress]||={readableIndices:[],writableIndices:[]};n.role===Wc.WRITABLE?e.writableIndices.push(n.addressIndex):e.readableIndices.push(n.addressIndex)}return Object.keys(t).sort(Ds()).map((e=>({lookupTableAddress:e,...t[e]})))}function ml(e){let t=0,n=0,r=0;for(const o of e){if("lookupTableAddress"in o)break;const e=Hc(o.role);Gc(o.role)?(r++,e||n++):e||t++}return{numReadonlyNonSignerAccounts:t,numReadonlySignerAccounts:n,numSignerAccounts:r}}function yl(e,t){const n=function(e){const t={};for(const[n,r]of e.entries())t[r.address]=n;return t}(t);return e.map((({accounts:e,data:t,programAddress:r})=>({programAddressIndex:n[r],...e?{accountIndices:e.map((({address:e})=>n[e]))}:null,...t?{data:t}:null})))}function vl(e){const t=e.findIndex((e=>"lookupTableAddress"in e));return(-1===t?e:e.slice(0,t)).map((({address:e})=>e))}function wl(e){const t=function(e){let t;const n=Object.entries(e).sort((([e,n],[r,o])=>{if(n[pl]!==o[pl]){if(0===n[pl])return-1;if(0===o[pl])return 1;if(2===n[pl])return-1;if(2===o[pl])return 1}const i=Gc(n.role);if(i!==Gc(o.role))return i?-1:1;const a=Hc(n.role);return a!==Hc(o.role)?a?-1:1:(t||=Ds(),1===n[pl]&&1===o[pl]&&n.lookupTableAddress!==o.lookupTableAddress?t(n.lookupTableAddress,o.lookupTableAddress):t(e,r))})).map((([e,t])=>({address:e,...t})));return n}(function(e,t){const n={[e]:{[pl]:0,role:Wc.WRITABLE_SIGNER}},r=new Set;for(const e of t){let t;if(hl(n,e.programAddress,(t=>{if(r.add(e.programAddress),pl in t){if(Hc(t.role)){if(0===t[pl])throw new Ba(Ki,{programAddress:e.programAddress});throw new Ba(Gi,{programAddress:e.programAddress})}if(2===t[pl])return t}return{[pl]:2,role:Wc.READONLY}})),e.accounts)for(const o of e.accounts)hl(n,o.address,(e=>{const{address:n,...i}=o;if(pl in e)switch(e[pl]){case 0:return e;case 1:{const n=Jc(e.role,i.role);if("lookupTableAddress"in i){if(e.lookupTableAddress!==i.lookupTableAddress&&(t||=Ds())(i.lookupTableAddress,e.lookupTableAddress)<0)return{[pl]:1,...i,role:n}}else if(Gc(i.role))return{[pl]:2,role:n};return e.role!==n?{...e,role:n}:e}case 2:{const t=Jc(e.role,i.role);if(r.has(o.address)){if(Hc(i.role))throw new Ba(Gi,{programAddress:o.address});return e.role!==t?{...e,role:t}:e}return"lookupTableAddress"in i&&!Gc(e.role)?{...i,[pl]:1,role:t}:e.role!==t?{...e,role:t}:e}}return"lookupTableAddress"in i?{...i,[pl]:1}:{...i,[pl]:2}}))}return n}(e.feePayer.address,e.instructions));return{..."legacy"!==e.version?{addressTableLookups:gl(t)}:null,header:ml(t),instructions:yl(e.instructions,t),lifetimeToken:(n=e.lifetimeConstraint,"nonce"in n?n.nonce:n.blockhash),staticAccounts:vl(t),version:e.version};var n}function Al({version:e}){return Object.freeze({instructions:Object.freeze([]),version:e})}var bl,Sl="SysvarRecentB1ockHashes11111111111111111111",El="11111111111111111111111111111111";function xl(e,t){return{accounts:[{address:e,role:Wc.WRITABLE},{address:Sl,role:Wc.READONLY},{address:t,role:Wc.READONLY_SIGNER}],data:new Uint8Array([4,0,0,0]),programAddress:El}}function Tl(e){return e.programAddress===El&&null!=e.data&&(4===(t=e.data).byteLength&&4===t[0]&&0===t[1]&&0===t[2]&&0===t[3])&&3===e.accounts?.length&&null!=e.accounts[0].address&&e.accounts[0].role===Wc.WRITABLE&&e.accounts[1].address===Sl&&e.accounts[1].role===Wc.READONLY&&null!=e.accounts[2].address&&Gc(e.accounts[2].role);var t}function kl(e){return"lifetimeConstraint"in e&&"string"==typeof e.lifetimeConstraint.nonce&&null!=e.instructions[0]&&Tl(e.instructions[0])}function Il(e,t){if("feePayer"in t&&e===t.feePayer?.address&&function(e){return!!e&&"address"in e&&"string"==typeof e.address&&1===Object.keys(e).length}(t.feePayer))return t;const n={...t,feePayer:Object.freeze({address:e})};return Object.freeze(n),n}function _l(e,t){return Cl([e],t)}function Cl(e,t){return Object.freeze({...t,instructions:Object.freeze([...t.instructions,...e])})}function Rl(e,t){return Object.freeze({...t,instructions:Object.freeze([...e,...t.instructions])})}function Pl(e,t){const n=e.staticAccounts[0];if(!n)throw new Ba(Xi);const r=[...function(e){const{header:t}=e,n=t.numSignerAccounts-t.numReadonlySignerAccounts,r=e.staticAccounts.length-t.numSignerAccounts-t.numReadonlyNonSignerAccounts,o=[];let i=0;for(let t=0;t<n;t++)o.push({address:e.staticAccounts[i],role:Wc.WRITABLE_SIGNER}),i++;for(let n=0;n<t.numReadonlySignerAccounts;n++)o.push({address:e.staticAccounts[i],role:Wc.READONLY_SIGNER}),i++;for(let t=0;t<r;t++)o.push({address:e.staticAccounts[i],role:Wc.WRITABLE}),i++;for(let n=0;n<t.numReadonlyNonSignerAccounts;n++)o.push({address:e.staticAccounts[i],role:Wc.READONLY}),i++;return o}(e),..."addressTableLookups"in e&&void 0!==e.addressTableLookups&&e.addressTableLookups.length>0?function(e,t){const n=e.map((e=>e.lookupTableAddress)).filter((e=>void 0===t[e]));if(n.length>0)throw new Ba(Ji,{lookupTableAddresses:n});const r=[],o=[];for(const n of e){const e=t[n.lookupTableAddress],i=Math.max(...n.readableIndices,...n.writableIndices);if(i>=e.length)throw new Ba(Zi,{highestKnownIndex:e.length-1,highestRequestedIndex:i,lookupTableAddress:n.lookupTableAddress});const a=n.readableIndices.map((t=>({address:e[t],addressIndex:t,lookupTableAddress:n.lookupTableAddress,role:Wc.READONLY})));r.push(...a);const s=n.writableIndices.map((t=>({address:e[t],addressIndex:t,lookupTableAddress:n.lookupTableAddress,role:Wc.WRITABLE})));o.push(...s)}return[...o,...r]}(e.addressTableLookups,t?.addressesByLookupTableAddress??{}):[]],o=e.instructions.map((e=>function(e,t){const n=t[e.programAddressIndex]?.address;if(!n)throw new Ba(Yi,{index:e.programAddressIndex});const r=e.accountIndices?.map((e=>t[e])),{data:o}=e;return Object.freeze({programAddress:n,...r&&r.length?{accounts:Object.freeze(r)}:{},...o&&o.length?{data:o}:{}})}(e,r))),i=o[0],a=function(e,t,n){if(t&&Tl(t)){const n=t.accounts[0].address;Bs(n);const r=t.accounts[2].address;return Bs(r),{nonce:e,nonceAccountAddress:n,nonceAuthorityAddress:r}}return{blockhash:e,lastValidBlockHeight:n??2n**64n-1n}}(e.lifetimeToken,i,t?.lastValidBlockHeight);return $u(Al({version:e.version}),(e=>Il(n,e)),(e=>o.reduce(((e,t)=>_l(t,e)),e)),(e=>"blockhash"in a?qu(a,e):function({nonce:e,nonceAccountAddress:t,nonceAuthorityAddress:n},r){let o;const i=r.instructions[0];if(i&&Tl(i))if(function(e,t,n){return e.accounts[0].address===t&&e.accounts[2].address===n}(i,t,n)){if(kl(r)&&r.lifetimeConstraint.nonce===e)return r;o=[i,...r.instructions.slice(1)]}else o=[Object.freeze(xl(t,n)),...r.instructions.slice(1)];else o=[Object.freeze(xl(t,n)),...r.instructions];return Object.freeze({...r,instructions:Object.freeze(o),lifetimeConstraint:Object.freeze({nonce:e})})}(a,e)))}function Ol(e){const t=Object.values(e);if(0===t.length)throw new Ba(na);return t.map((e=>e||new Uint8Array(64).fill(0)))}function Nl(){return Bu([["signatures",ss(cu(ts(hu(),64),{size:Bc()}),Ol)],["messageBytes",hu()]])}function Bl(){return cs(zu([["signatures",uu(ns(pu(),64),{size:zc()})],["messageBytes",pu()]]),zl)}function zl(e){const{messageBytes:t,signatures:n}=e,r=wu([sl(),as(Fc(),2),uu(js(),{size:zc()})]),[o,i,a]=r.decode(t),s=a.slice(0,i);if(s.length!==n.length)throw new Ba(ra,{numRequiredSignatures:i,signaturesLength:n.length,signerAddresses:s});const c={};return s.forEach(((e,t)=>{const r=n[t];r.every((e=>0===e))?c[e]=null:c[e]=r})),{messageBytes:t,signatures:Object.freeze(c)}}function Ml(e){const t=wl(e),n=dl().encode(t),r=t.staticAccounts.slice(0,t.header.numSignerAccounts),o={};for(const e of r)o[e]=null;let i;i=Fu(e)?{blockhash:e.lifetimeConstraint.blockhash,lastValidBlockHeight:e.lifetimeConstraint.lastValidBlockHeight}:{nonce:e.lifetimeConstraint.nonce,nonceAccountAddress:e.instructions[0].accounts[0].address};const a={lifetimeConstraint:i,messageBytes:n,signatures:Object.freeze(o)};return Object.freeze(a)}function jl(e){bl||(bl=ys());const t=Object.values(e.signatures)[0];if(!t)throw new Ba(ea);return bl.decode(t)}async function Ul(e,t){let n,r;if(await Promise.all(e.map((async e=>{const o=await Xs(e.publicKey),i=t.signatures[o];if(void 0===i)return r||=new Set,void r.add(o);if(r)return;const a=await eu(e.privateKey,t.messageBytes);var s,c;null!==i&&(c=i,(s=a).length===c.length&&s.every(((e,t)=>e===c[t])))||(n||={},n[o]=a)}))),r&&r.size>0){const e=Object.keys(t.signatures);throw new Ba(ta,{expectedAddresses:e,unexpectedAddresses:[...r]})}return n?Object.freeze({...t,signatures:Object.freeze({...t.signatures,...n})}):t}function Dl(e){const t=[];if(Object.entries(e.signatures).forEach((([e,n])=>{n||t.push(e)})),t.length>0)throw new Ba(Qi,{addresses:t})}function Ll(e){const t=Nl().encode(e);return Es().decode(t)}function $l(e){const t={};return e.forEach((e=>{if(t[e.address]){if(t[e.address]!==e)throw new Ba(Vi,{address:e.address})}else t[e.address]=e})),Object.values(t)}function Fl(e){return"modifyAndSignTransactions"in e&&"function"==typeof e.modifyAndSignTransactions}function ql(e){return"signTransactions"in e&&"function"==typeof e.signTransactions}function Wl(e){return"signAndSendTransactions"in e&&"function"==typeof e.signAndSendTransactions}function Vl(e){return ql(e)||Fl(e)||Wl(e)}function Kl(e){return $l((e.accounts??[]).flatMap((e=>"signer"in e?e.signer:[])))}function Gl(e){return $l([...e.feePayer&&Vl(e.feePayer)?[e.feePayer]:[],...e.instructions.flatMap(Kl)])}function Hl(e,t){const n=(r=t)&&"feePayer"in r&&r.feePayer&&"string"==typeof r.feePayer.address&&!Vl(r.feePayer)?e.find((e=>e.address===t.feePayer.address)):void 0;var r;return n||0!==t.instructions.length?Object.freeze({...t,...n?{feePayer:n}:null,instructions:t.instructions.map((t=>function(e,t){if(!t.accounts||0===t.accounts.length)return t;const n=new Map($l(e).map((e=>[e.address,e])));return Object.freeze({...t,accounts:t.accounts.map((e=>{const t=n.get(e.address);return Gc(e.role)&&!("signer"in e)&&t?Object.freeze({...e,signer:t}):e}))})}(e,t)))}):t}async function Jl(e){const t=await Xs(e.publicKey),n={address:t,keyPair:e,signMessages:n=>Promise.all(n.map((async n=>Object.freeze({[t]:await eu(e.privateKey,n.content)})))),signTransactions:n=>Promise.all(n.map((async n=>{const r=await Ul([e],n);return Object.freeze({[t]:r.signatures[t]})})))};return Object.freeze(n)}async function Zl(e,t){return await Jl(await ru(e,t))}function Yl(e){const t={address:e,signMessages:e=>Promise.resolve(e.map((()=>Object.freeze({})))),signTransactions:e=>Promise.resolve(e.map((()=>Object.freeze({}))))};return Object.freeze(t)}async function Xl(e,t){const{partialSigners:n,modifyingSigners:r}=Ql($l(Gl(e).filter(Vl)),{identifySendingSigner:!1});return await ed(e,r,n,t)}function Ql(e,t={}){const n=t.identifySendingSigner??!0?function(e){const t=e.filter(Wl);if(0===t.length)return null;const n=t.filter((e=>!Fl(e)&&!ql(e)));if(n.length>0)return n[0];return t[0]}(e):null,r=e.filter((e=>e!==n&&(Fl(e)||ql(e)))),o=function(e){const t=e.filter(Fl);if(0===t.length)return[];const n=t.filter((e=>!ql(e)));return n.length>0?n:[t[0]]}(r),i=r.filter(ql).filter((e=>!o.includes(e)));return Object.freeze({modifyingSigners:o,partialSigners:i,sendingSigner:n})}async function ed(e,t=[],n=[],r){const o=Ml(e),i=await t.reduce((async(e,t)=>{r?.abortSignal?.throwIfAborted();const[n]=await t.modifyAndSignTransactions([await e],r);return Object.freeze(n)}),Promise.resolve(o));r?.abortSignal?.throwIfAborted();const a=await Promise.all(n.map((async e=>{const[t]=await e.signTransactions([i],r);return t}))),s={...i,signatures:Object.freeze(a.reduce(((e,t)=>({...e,...t})),i.signatures??{}))};return Object.freeze(s)}var td=globalThis.TextEncoder;var nd,rd=((nd=rd||{})[nd.Uninitialized=0]="Uninitialized",nd[nd.Initialized=1]="Initialized",nd);var od,id=((od=id||{})[od.Legacy=0]="Legacy",od[od.Current=1]="Current",od);var ad,sd,cd="11111111111111111111111111111111",ud=((ad=ud||{})[ad.Nonce=0]="Nonce",ad),ld=((sd=ld||{})[sd.CreateAccount=0]="CreateAccount",sd[sd.Assign=1]="Assign",sd[sd.TransferSol=2]="TransferSol",sd[sd.CreateAccountWithSeed=3]="CreateAccountWithSeed",sd[sd.AdvanceNonceAccount=4]="AdvanceNonceAccount",sd[sd.WithdrawNonceAccount=5]="WithdrawNonceAccount",sd[sd.InitializeNonceAccount=6]="InitializeNonceAccount",sd[sd.AuthorizeNonceAccount=7]="AuthorizeNonceAccount",sd[sd.Allocate=8]="Allocate",sd[sd.AllocateWithSeed=9]="AllocateWithSeed",sd[sd.AssignWithSeed=10]="AssignWithSeed",sd[sd.TransferSolWithSeed=11]="TransferSolWithSeed",sd[sd.UpgradeNonceAccount=12]="UpgradeNonceAccount",sd);function dd(e){if(!e)throw new Error("Expected a Address.");return"object"==typeof e&&"address"in e?e.address:Array.isArray(e)?e[0]:e}function fd(e,t){return t=>{if(!t.value)return Object.freeze({address:e,role:Wc.READONLY});const n=t.isWritable?Wc.WRITABLE:Wc.READONLY;return Object.freeze({address:dd(t.value),role:hd(t.value)?Zc(n):n,...hd(t.value)?{signer:t.value}:{}})}}function hd(e){return!!e&&"object"==typeof e&&"address"in e&&Vl(e)}function pd(){return zu([["discriminator",Uc()]])}function gd(){return zu([["discriminator",Uc()],["space",Lc()]])}function md(){return zu([["discriminator",Uc()],["base",js()],["seed",es(_s(),Lc())],["space",Lc()],["programAddress",js()]])}function yd(){return zu([["discriminator",Uc()],["programAddress",js()]])}function vd(){return zu([["discriminator",Uc()],["base",js()],["seed",es(_s(),Lc())],["programAddress",js()]])}function wd(){return zu([["discriminator",Uc()],["newNonceAuthority",js()]])}function Ad(){return zu([["discriminator",Uc()],["lamports",Lc()],["space",Lc()],["programAddress",js()]])}function bd(){return zu([["discriminator",Uc()],["base",js()],["seed",es(_s(),Lc())],["amount",Lc()],["space",Lc()],["programAddress",js()]])}function Sd(){return zu([["discriminator",Uc()],["nonceAuthority",js()]])}var Ed=2;function xd(){return ss(Bu([["discriminator",jc()],["amount",Dc()]]),(e=>({...e,discriminator:Ed})))}function Td(){return zu([["discriminator",Uc()],["amount",Lc()]])}function kd(){return zu([["discriminator",Uc()],["amount",Lc()],["fromSeed",es(_s(),Lc())],["fromOwner",js()]])}function Id(){return zu([["discriminator",Uc()]])}function _d(){return zu([["discriminator",Uc()],["withdrawAmount",Lc()]])}const Cd={log:(console.log,(...e)=>{}),info:(console.info,(...e)=>{}),warn:(console.warn,(...e)=>{}),debug:(console.debug,(...e)=>{}),error:(console.error,(...e)=>{})},Rd=ae([H(["btc","eth","ltc","bch","bnb","eos","xrp","xlm","link","dot","yfi","bits","sats","sol","sei","sonic"]),H(["usd","aed","amd","ars","aud","bam","bdt","bhd","bmd","brl","cad","chf","clp","cny","cop","crc","czk","dkk","dop","eur","gbp","gel","gtq","hkd","hnl","huf","idr","ils","inr","jpy","kes","krw","kwd","lbp","lkr","mmk","mxn","myr","ngn","nok","nzd","pen","php","pkr","pln","ron","rub","sar","sek","sgd","svc","thb","try","twd","uah","vef","vnd","xdr","zar","zmw"]),H(["xag","xau"])]),Pd=ee({id:re(),price:he(Q(),0),marketCap:te(X(he(Q(),0))),allTimeHigh:te(X(he(Q(),0))),allTimeLow:te(X(he(Q(),0))),totalVolume:te(X(he(Q(),0))),high1d:te(X(he(Q(),0))),low1d:te(X(he(Q(),0))),circulatingSupply:te(X(he(Q(),0))),dilutedMarketCap:te(X(he(Q(),0))),marketCapPercentChange1d:te(X(Q())),priceChange1d:te(X(Q())),pricePercentChange1h:te(X(Q())),pricePercentChange1d:te(X(Q())),pricePercentChange7d:te(X(Q())),pricePercentChange14d:te(X(Q())),pricePercentChange30d:te(X(Q())),pricePercentChange200d:te(X(Q())),pricePercentChange1y:te(X(Q())),bondingCurveProgressPercent:te(X(Q())),liquidity:te(X(Q())),totalSupply:te(X(Q())),holderCount:te(X(Q())),isMutable:te(X(G()))}),Od=ne(Jo,X(Pd)),Nd=Rd,Bd=ee({assetType:Jo,timePeriod:te(ge(re(),/^[1-9][0-9]*[dmy]$/u)),from:te(he(Q(),0)),to:te(he(Q(),0)),vsCurrency:te(Nd)}),zd=ee({prices:K(oe([Q(),Q()])),marketCaps:K(oe([Q(),Q()])),totalVolumes:K(oe([Q(),Q()]))}),Md={prices:[],marketCaps:[],totalVolumes:[]};class jd{#o;#i;#a;#s;#c;static cacheTtlsMilliseconds={fiatExchangeRates:Yo.Minute,spotPrices:Yo.Minute,historicalPrices:Yo.Minute};constructor(e,t,n=globalThis.fetch,r=Cd){const{baseUrl:o,chunkSize:i}=e.get().priceApi;z(o,lc),this.#o=n,this.#i=r,this.#a=o,this.#s=i,this.#c=t}async getFiatExchangeRates(){try{const e=await this.#o(`${this.#a}/v1/exchange-rates/fiat`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(e){throw this.#i.error(e,"Error fetching fiat exchange rates"),e}}async#u(e,t="usd"){try{if(z(e,K(Jo)),z(t,Nd),0===e.length)return{};const n=[...new Set(e)],r=[];for(let e=0;e<n.length;e+=this.#s)r.push(n.slice(e,e+this.#s));const o=await Promise.all(r.map((async e=>{const n=Ec({baseUrl:this.#a,path:"/v3/spot-prices",queryParams:{vsCurrency:t,assetIds:e.join(","),includeMarketData:"true"}}),r=await this.#o(n);if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const o=await r.json();return z(o,Od),o}))),i=o.reduce(((e,t)=>({...e,...t})),{});return await this.#c.mset(e.map((e=>({key:`PriceApiClient:getMultipleSpotPrices:${e}:${t}`,value:i[e],ttlMilliseconds:jd.cacheTtlsMilliseconds.spotPrices})))),i}catch(e){throw this.#i.error(e,"Error fetching spot prices"),e}}async#l(e,t="usd"){const n=[...new Set(e)],r="PriceApiClient:getMultipleSpotPrices",o=e=>`${r}:${e}:${t}`,i=await this.#c.mget(n.map(o)),a=(0,ni.mapKeys)(i,((e,t)=>(e=>{const t=new RegExp(`^${r}:(.+):(.+)$`,"u"),n=e.match(t);if(!n)throw new Error("Invalid cache key");return n})(t)[1])),s=n.filter((e=>void 0===a[e]));if(0===s.length)return a;const c=await this.#u(s,t);return await this.#c.mset(Object.entries(c).map((([e,t])=>({key:o(e),value:t,ttlMilliseconds:jd.cacheTtlsMilliseconds.spotPrices})))),{...a,...c}}async getMultipleSpotPrices(e,t="usd"){return this.#l(e,t)}async#d(e){z(e,Bd);const t=Ec({baseUrl:this.#a,path:"/v3/historical-prices/{assetType}",pathParams:{assetType:e.assetType},queryParams:{...e.timePeriod&&{timePeriod:e.timePeriod},...e.from&&{from:e.from.toString()},...e.to&&{to:e.to.toString()},...e.vsCurrency&&{vsCurrency:e.vsCurrency}}}),n=await this.#o(t),r=await n.json();return z(r,zd),r}async getHistoricalPrices(e){return oi(this.#d.bind(this),this.#c,{functionName:"PriceApiClient:getHistoricalPrices",ttlMilliseconds:jd.cacheTtlsMilliseconds.historicalPrices})(e)}}const Ud=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let e=0;e<t.length;e++)t[e]=255;for(let n=0;n<e.length;n++){const r=e.charAt(n),o=r.charCodeAt(0);if(255!==t[o])throw new TypeError(r+" is ambiguous");t[o]=n}const n=e.length,r=e.charAt(0),o=Math.log(n)/Math.log(256),i=Math.log(256)/Math.log(n);function a(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;let i=0,a=0,s=0;for(;e[i]===r;)a++,i++;const c=(e.length-i)*o+1>>>0,u=new Uint8Array(c);for(;e[i];){let r=t[e.charCodeAt(i)];if(255===r)return;let o=0;for(let e=c-1;(0!==r||o<s)&&-1!==e;e--,o++)r+=n*u[e]>>>0,u[e]=r%256>>>0,r=r/256>>>0;if(0!==r)throw new Error("Non-zero carry");s=o,i++}let l=c-s;for(;l!==c&&0===u[l];)l++;const d=new Uint8Array(a+(c-l));let f=a;for(;l!==c;)d[f++]=u[l++];return d}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";let o=0,a=0,s=0;const c=t.length;for(;s!==c&&0===t[s];)s++,o++;const u=(c-s)*i+1>>>0,l=new Uint8Array(u);for(;s!==c;){let e=t[s],r=0;for(let t=u-1;(0!==e||r<a)&&-1!==t;t--,r++)e+=256*l[t]>>>0,l[t]=e%n>>>0,e=e/n>>>0;if(0!==e)throw new Error("Non-zero carry");a=r,s++}let d=u-a;for(;d!==u&&0===l[d];)d++;let f=r.repeat(o);for(;d<u;++d)f+=e.charAt(l[d]);return f},decodeUnsafe:a,decode:function(e){const t=a(e);if(t)return t;throw new Error("Non-base"+n+" character")}}};const Dd=Ud("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var Ld=n(1048).hp;const $d={[nc.Mainnet]:"mainnet",[nc.Devnet]:"devnet",[nc.Testnet]:"testnet",[nc.Localnet]:"localnet"};class Fd{#f;#i;constructor(e,t=Cd){this.#f=e,this.#i=t}static isMaybeNonFungible(e){const{tokenAmount:t}=e,{decimals:n}=t;return!1}}const qd=K(ee({decimals:J(),assetId:Jo,name:te(re()),symbol:te(re()),iconUrl:te(lc)}));class Wd{#o;#i;#a;#s;#h;static supportedNetworks=[nc.Mainnet,nc.Devnet];constructor(e,t=globalThis.fetch,n=Cd){this.#o=t,this.#i=n;const{tokenApi:r,staticApi:o}=e.get(),{baseUrl:i,chunkSize:a}=r;z(i,lc),this.#a=i,this.#s=a,this.#h=o.baseUrl}async#p(e){z(e,K(Jo));const t=Ec({baseUrl:this.#a,path:"/v3/assets",queryParams:{assetIds:e.join(",")}}),n=await this.#o(t);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const r=await n.json();return z(r,qd),r}async getTokenMetadataFromAddresses(e){try{z(e,K(Jo));const t=e.filter((e=>{const{chainId:t}=Xo(e);return Wd.supportedNetworks.includes(t)}));t.length!==e.length&&this.#i.warn(`[TokenMetadataClient] Received some asset types on networks that the Token API doesn't support. They will be ignored. Supported networks: ${Wd.supportedNetworks.join(", ")}`);const n=[];for(let e=0;e<t.length;e+=this.#s)n.push(t.slice(e,e+this.#s));const r=await Promise.all(n.map((async e=>this.#p(e)))),o=new Map;return r.flat().forEach((e=>{const t=e?.symbol,n=e?.name??t,r=e?.decimals;t&&n?o.set(e.assetId,{name:n,symbol:t,fungible:!Fd.isMaybeNonFungible({tokenAmount:{decimals:r}}),iconUrl:e?.iconUrl??Ec({baseUrl:this.#h,path:"/api/v2/tokenIcons/assets/{assetId}.png",pathParams:{assetId:e.assetId.replace(/:/gu,"/")}}),units:[{name:n,symbol:t,decimals:r}]}):this.#i.warn(`No metadata for ${e.assetId}`)})),Object.fromEntries(o)}catch(e){throw this.#i.error(e,"Error fetching token metadata"),e}}}var Vd=function(e){return e.SignAndSendTransactionWithoutConfirmation="signAndSendTransactionWithoutConfirmation",e}({});class Kd extends TypeError{constructor(e,t){let n;const{message:r,explanation:o,...i}=e,{path:a}=e,s=0===a.length?r:`At path: ${a.join(".")} -- ${r}`;super(o??s),null!=o&&(this.cause=s),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}}function Gd(e){return"object"==typeof e&&null!==e}function Hd(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function Jd(e,t,n,r){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:o,branch:i}=t,{type:a}=n,{refinement:s,message:c=`Expected a value of type \`${a}\`${s?` with refinement \`${s}\``:""}, but received: \`${Hd(r)}\``}=e;return{value:r,type:a,refinement:s,key:o[o.length-1],path:o,branch:i,...e,message:c}}function*Zd(e,t,n,r){(function(e){return Gd(e)&&"function"==typeof e[Symbol.iterator]})(e)||(e=[e]);for(const o of e){const e=Jd(o,t,n,r);e&&(yield e)}}function*Yd(e,t,n={}){const{path:r=[],branch:o=[e],coerce:i=!1,mask:a=!1}=n,s={path:r,branch:o};if(i&&(e=t.coercer(e,s),a&&"type"!==t.type&&Gd(t.schema)&&Gd(e)&&!Array.isArray(e)))for(const n in e)void 0===t.schema[n]&&delete e[n];let c="valid";for(const r of t.validator(e,s))r.explanation=n.message,c="not_valid",yield[r,void 0];for(let[u,l,d]of t.entries(e,s)){const t=Yd(l,d,{path:void 0===u?r:[...r,u],branch:void 0===u?o:[...o,l],coerce:i,mask:a,message:n.message});for(const n of t)n[0]?(c=null===n[0].refinement||void 0===n[0].refinement?"not_valid":"not_refined",yield[n[0],void 0]):i&&(l=n[1],void 0===u?e=l:e instanceof Map?e.set(u,l):e instanceof Set?e.add(l):Gd(e)&&(void 0!==l||u in e)&&(e[u]=l))}if("not_valid"!==c)for(const r of t.refiner(e,s))r.explanation=n.message,c="not_refined",yield[r,void 0];"valid"===c&&(yield[void 0,e])}class Xd{constructor(e){const{type:t,schema:n,validator:r,refiner:o,coercer:i=(e=>e),entries:a=function*(){}}=e;this.type=t,this.schema=n,this.entries=a,this.coercer=i,this.validator=r?(e,t)=>Zd(r(e,t),t,this,e):()=>[],this.refiner=o?(e,t)=>Zd(o(e,t),t,this,e):()=>[]}assert(e,t){return function(e,t,n){const r=tf(e,t,{message:n});if(r[0])throw r[0]}(e,this,t)}create(e,t){return function(e,t,n){const r=tf(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}(e,this,t)}is(e){return function(e,t){const n=tf(e,t);return!n[0]}(e,this)}mask(e,t){return function(e,t,n){const r=tf(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}(e,this,t)}validate(e,t={}){return tf(e,this,t)}}const Qd="EXACT_OPTIONAL";class ef extends Xd{constructor(e){super({...e,type:`exact optional ${e.type}`}),this.brand=Qd}static isExactOptional(e){return Gd(e)&&"brand"in e&&e.brand===Qd}}function tf(e,t,n={}){const r=Yd(e,t,n),o=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(r);if(o[0]){return[new Kd(o[0],(function*(){for(const e of r)e[0]&&(yield e[0])})),void 0]}return[void 0,o[1]]}function nf(){return sf("never",(()=>!1))}function rf(e){const t=e?Object.keys(e):[],n=nf();return new Xd({type:"object",schema:e??null,*entries(r){if(e&&Gd(r)){const o=new Set(Object.keys(r));for(const n of t){o.delete(n);const t=e[n];ef.isExactOptional(t)&&!Object.prototype.hasOwnProperty.call(r,n)||(yield[n,r[n],e[n]])}for(const e of o)yield[e,r[e],n]}},validator:e=>Gd(e)||`Expected an object, but received: ${Hd(e)}`,coercer:e=>Gd(e)?{...e}:e})}function of(){return sf("string",(e=>"string"==typeof e||`Expected a string, but received: ${Hd(e)}`))}function af(...e){const t="type"===e[0]?.type,n=e.map((({schema:e})=>e)),r=Object.assign({},...n);return t?function(e){const t=Object.keys(e);return new Xd({type:"type",schema:e,*entries(n){if(Gd(n))for(const r of t)yield[r,n[r],e[r]]},validator:e=>Gd(e)||`Expected an object, but received: ${Hd(e)}`,coercer:e=>Gd(e)?{...e}:e})}(r):rf(r)}function sf(e,t){return new Xd({type:e,schema:null,validator:t})}function cf(e){return sf(JSON.stringify(e),function(e){const t=Hd(e),n=typeof e;return new Xd({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?e:null,validator:n=>n===e||`Expected the literal \`${t}\`, but received: ${Hd(n)}`})}(e).validator)}function uf(e){return null==e}const lf=(e,t)=>Object.hasOwnProperty.call(e,t);var df;!function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(df=df||(df={}));const ff=e=>ee(e);function hf({path:e,branch:t}){const n=e[e.length-1];return lf(t[t.length-2],n)}function pf(e){return new B({...e,type:`optional ${e.type}`,validator:(t,n)=>!hf(n)||e.validator(t,n),refiner:(t,n)=>!hf(n)||e.refiner(t,n)})}function gf(e){if(null===e||"boolean"==typeof e||"string"==typeof e)return!0;if("number"==typeof e&&Number.isFinite(e))return!0;if("object"==typeof e){let t=!0;if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(!gf(e[n])){t=!1;break}return t}const n=Object.entries(e);for(let e=0;e<n.length;e++)if("string"!=typeof n[e][0]||!gf(n[e][1])){t=!1;break}return t}return!1}const mf=D("JSON",(e=>gf(e))),yf=de(mf,me(V(),"JSON",(e=>j(e,mf))),(e=>JSON.parse(JSON.stringify(e,((e,t)=>{if("__proto__"!==e&&"constructor"!==e)return t})))));const vf=Z("2.0"),wf=X(ae([Q(),re()])),Af=ff({code:J(),message:re(),data:pf(yf),stack:pf(re())}),bf=ae([ne(re(),yf),K(yf)]);ff({id:wf,jsonrpc:vf,method:re(),params:pf(bf)}),ff({jsonrpc:vf,method:re(),params:pf(bf)});ee({id:wf,jsonrpc:vf,result:te(se()),error:te(Af)});const Sf=ff({id:wf,jsonrpc:vf,result:yf}),Ef=ff({id:wf,jsonrpc:vf,error:Af});ae([Sf,Ef]);const xf=H(Object.values(nc)),Tf=ie({address:re()}),kf=Z("ed25519"),If=ie({domain:te(re()),address:te(re()),statement:te(re()),uri:te(re()),version:te(re()),chainId:te(re()),nonce:te(re()),issuedAt:te(re()),expirationTime:te(re()),notBefore:te(re()),requestId:te(re()),resources:te(K(re()))}),_f=ie({account:Tf,message:bc}),Cf=H(["processed","confirmed","finalized"]),Rf=ie({preflightCommitment:te(Cf),minContextSlot:te(Q())}),Pf=ie({account:Tf,transaction:bc,scope:xf,options:te(Rf)}),Of=ie({...Rf.schema,commitment:te(Cf),skipPreflight:te(G()),maxRetries:te(Q())}),Nf=ie({...Pf.schema,scope:xf,options:te(Of)}),Bf=ee({method:H([Ft.SignAndSendTransaction]),params:Nf}),zf=ee({method:H([Ft.SignIn]),params:If}),Mf=ee({method:H([Ft.SignMessage]),params:_f}),jf=ee({method:H([Ft.SignTransaction]),params:Pf}),Uf=ee({signature:Ac}),Df=ee({signedTransaction:bc}),Lf=ee({signature:Ac,signedMessage:bc,signatureType:kf}),$f=ee({account:Tf,...Lf.schema}),Ff=ae([Bf,zf,Mf,jf]),qf=ee({jsonrpc:vf,id:wf,method:cf(Vd.SignAndSendTransactionWithoutConfirmation),params:Nf});var Wf,Vf="ComputeBudget111111111111111111111111111111",Kf=((Wf=Kf||{})[Wf.RequestUnits=0]="RequestUnits",Wf[Wf.RequestHeapFrame=1]="RequestHeapFrame",Wf[Wf.SetComputeUnitLimit=2]="SetComputeUnitLimit",Wf[Wf.SetComputeUnitPrice=3]="SetComputeUnitPrice",Wf[Wf.SetLoadedAccountsDataSizeLimit=4]="SetLoadedAccountsDataSizeLimit",Wf);function Gf(e){const t="data"in e?e.data:e;if(qa(t,$c().encode(0),0))return 0;if(qa(t,$c().encode(1),0))return 1;if(qa(t,$c().encode(2),0))return 2;if(qa(t,$c().encode(3),0))return 3;if(qa(t,$c().encode(4),0))return 4;throw new Error("The provided instruction could not be identified as a computeBudget instruction.")}function Hf(){return zu([["discriminator",Fc()],["bytes",Uc()]])}function Jf(){return zu([["discriminator",Fc()],["units",Uc()],["additionalFee",Uc()]])}var Zf=2;function Yf(){return ss(Bu([["discriminator",$c()],["units",jc()]]),(e=>({...e,discriminator:Zf})))}function Xf(){return zu([["discriminator",Fc()],["units",Uc()]])}function Qf(e,t){const n={...e};return{programAddress:t?.programAddress??Vf,data:Yf().encode(n)}}var eh=3;function th(){return ss(Bu([["discriminator",$c()],["microLamports",Dc()]]),(e=>({...e,discriminator:eh})))}function nh(){return zu([["discriminator",Fc()],["microLamports",Lc()]])}function rh(e,t){const n={...e};return{programAddress:t?.programAddress??Vf,data:th().encode(n)}}function oh(){return zu([["discriminator",Fc()],["accountDataSizeLimit",Uc()]])}var ih=e=>({__option:"Some",value:e}),ah=()=>({__option:"None"}),sh=e=>!!(e&&"object"==typeof e&&"__option"in e&&("Some"===e.__option&&"value"in e||"None"===e.__option)),ch=e=>"Some"===e.__option;var uh=e=>null!==e?ih(e):ah();function lh(e,t={}){const n=null===t.prefix?ss(Ou(),(e=>{})):du({size:t.prefix??$c()});return Au([ss(vu([n,"zeroes"===t.noneValue?(Ha(e),ts(Ou(),e.fixedSize)):t.noneValue?mu(t.noneValue):Ou()]),(e=>[!1,void 0])),ss(vu([n,e]),(e=>[!0,sh(e)&&ch(e)?e.value:e]))],(e=>{const t=sh(e)?e:uh(e);return Number(ch(t))}))}function dh(e,t={}){const n=null===t.prefix?cs(Nu(),(()=>!1)):fu({size:t.prefix??Fc()}),r="zeroes"===t.noneValue?(Ha(e),ns(Nu(),e.fixedSize)):t.noneValue?yu(t.noneValue):Nu();return bu([cs(wu([n,r]),(()=>ah())),cs(wu([n,e]),(([,e])=>ih(e)))],((e,o)=>{if(null===t.prefix&&!t.noneValue)return Number(o<e.length);if(null===t.prefix&&null!=t.noneValue){return qa(e,"zeroes"===t.noneValue?new Uint8Array(r.fixedSize).fill(0):t.noneValue,o)?0:1}return Number(n.read(e,o)[0])}))}var fh,hh=((fh=hh||{})[fh.Uninitialized=0]="Uninitialized",fh[fh.Initialized=1]="Initialized",fh[fh.Frozen=2]="Frozen",fh);var ph,gh=((ph=gh||{})[ph.MintTokens=0]="MintTokens",ph[ph.FreezeAccount=1]="FreezeAccount",ph[ph.AccountOwner=2]="AccountOwner",ph[ph.CloseAccount=3]="CloseAccount",ph);function mh(){return Ru(gh)}var yh,vh="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",wh=((yh=wh||{})[yh.CreateAssociatedToken=0]="CreateAssociatedToken",yh[yh.CreateAssociatedTokenIdempotent=1]="CreateAssociatedTokenIdempotent",yh[yh.RecoverNestedAssociatedToken=2]="RecoverNestedAssociatedToken",yh);var Ah,bh="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",Sh=((Ah=Sh||{})[Ah.Mint=0]="Mint",Ah[Ah.Token=1]="Token",Ah[Ah.Multisig=2]="Multisig",Ah);var Eh,xh=((Eh=xh||{})[Eh.InitializeMint=0]="InitializeMint",Eh[Eh.InitializeAccount=1]="InitializeAccount",Eh[Eh.InitializeMultisig=2]="InitializeMultisig",Eh[Eh.Transfer=3]="Transfer",Eh[Eh.Approve=4]="Approve",Eh[Eh.Revoke=5]="Revoke",Eh[Eh.SetAuthority=6]="SetAuthority",Eh[Eh.MintTo=7]="MintTo",Eh[Eh.Burn=8]="Burn",Eh[Eh.CloseAccount=9]="CloseAccount",Eh[Eh.FreezeAccount=10]="FreezeAccount",Eh[Eh.ThawAccount=11]="ThawAccount",Eh[Eh.TransferChecked=12]="TransferChecked",Eh[Eh.ApproveChecked=13]="ApproveChecked",Eh[Eh.MintToChecked=14]="MintToChecked",Eh[Eh.BurnChecked=15]="BurnChecked",Eh[Eh.InitializeAccount2=16]="InitializeAccount2",Eh[Eh.SyncNative=17]="SyncNative",Eh[Eh.InitializeAccount3=18]="InitializeAccount3",Eh[Eh.InitializeMultisig2=19]="InitializeMultisig2",Eh[Eh.InitializeMint2=20]="InitializeMint2",Eh[Eh.GetAccountDataSize=21]="GetAccountDataSize",Eh[Eh.InitializeImmutableOwner=22]="InitializeImmutableOwner",Eh[Eh.AmountToUiAmount=23]="AmountToUiAmount",Eh[Eh.UiAmountToAmount=24]="UiAmountToAmount",Eh);function Th(e){if(!e)throw new Error("Expected a Address.");return"object"==typeof e&&"address"in e?e.address:Array.isArray(e)?e[0]:e}function kh(e,t){return t=>{if(!t.value)return Object.freeze({address:e,role:Wc.READONLY});const n=t.isWritable?Wc.WRITABLE:Wc.READONLY;return Object.freeze({address:Th(t.value),role:Ih(t.value)?Zc(n):n,...Ih(t.value)?{signer:t.value}:{}})}}function Ih(e){return!!e&&"object"==typeof e&&"address"in e&&Vl(e)}function _h(){return zu([["discriminator",Fc()],["amount",Lc()]])}function Ch(){return zu([["discriminator",Fc()],["amount",Lc()]])}function Rh(){return zu([["discriminator",Fc()],["amount",Lc()],["decimals",Fc()]])}function Ph(){return zu([["discriminator",Fc()],["amount",Lc()]])}function Oh(){return zu([["discriminator",Fc()],["amount",Lc()],["decimals",Fc()]])}function Nh(){return zu([["discriminator",Fc()]])}async function Bh(e,t={}){const{programAddress:n="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}=t;return await Ys({programAddress:n,seeds:[Ms().encode(e.owner),Ms().encode(e.tokenProgram),Ms().encode(e.mint)]})}var zh=1;function Mh(){return ss(Bu([["discriminator",$c()]]),(e=>({...e,discriminator:zh})))}function jh(e,t){const n=t?.programAddress??vh,r={payer:{value:e.payer??null,isWritable:!0},ata:{value:e.ata??null,isWritable:!0},owner:{value:e.owner??null,isWritable:!1},mint:{value:e.mint??null,isWritable:!1},systemProgram:{value:e.systemProgram??null,isWritable:!1},tokenProgram:{value:e.tokenProgram??null,isWritable:!1}};r.tokenProgram.value||(r.tokenProgram.value="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.systemProgram.value||(r.systemProgram.value="11111111111111111111111111111111");const o=kh(n);return{accounts:[o(r.payer),o(r.ata),o(r.owner),o(r.mint),o(r.systemProgram),o(r.tokenProgram)],programAddress:n,data:Mh().encode({})}}function Uh(){return zu([["discriminator",Fc()]])}function Dh(){return zu([["discriminator",Fc()]])}function Lh(){return zu([["discriminator",Fc()]])}function $h(){return zu([["discriminator",Fc()],["owner",js()]])}function Fh(){return zu([["discriminator",Fc()],["owner",js()]])}function qh(){return zu([["discriminator",Fc()]])}function Wh(){return zu([["discriminator",Fc()],["decimals",Fc()],["mintAuthority",js()],["freezeAuthority",dh(js())]])}function Vh(){return zu([["discriminator",Fc()],["decimals",Fc()],["mintAuthority",js()],["freezeAuthority",dh(js())]])}function Kh(){return zu([["discriminator",Fc()],["m",Fc()]])}function Gh(){return zu([["discriminator",Fc()],["m",Fc()]])}function Hh(){return zu([["discriminator",Fc()],["amount",Lc()]])}function Jh(){return zu([["discriminator",Fc()],["amount",Lc()],["decimals",Fc()]])}function Zh(){return zu([["discriminator",Fc()]])}function Yh(){return zu([["discriminator",Fc()],["authorityType",mh()],["newAuthority",dh(js())]])}function Xh(){return zu([["discriminator",Fc()]])}function Qh(){return zu([["discriminator",Fc()]])}var ep=3;function tp(){return ss(Bu([["discriminator",$c()],["amount",Dc()]]),(e=>({...e,discriminator:ep})))}function np(){return zu([["discriminator",Fc()],["amount",Lc()]])}function rp(e,t){const n=t?.programAddress??bh,r={source:{value:e.source??null,isWritable:!0},destination:{value:e.destination??null,isWritable:!0},authority:{value:e.authority??null,isWritable:!1}},o={...e},i=(o.multiSigners??[]).map((e=>({address:e.address,role:Wc.READONLY_SIGNER,signer:e}))),a=kh(n);return{accounts:[a(r.source),a(r.destination),a(r.authority),...i],programAddress:n,data:tp().encode(o)}}function op(){return zu([["discriminator",Fc()],["amount",Lc()],["decimals",Fc()]])}function ip(){return zu([["discriminator",Fc()],["uiAmount",_s()]])}var ap=(e=>(e[e.Uninitialized=0]="Uninitialized",e[e.Initialized=1]="Initialized",e[e.Frozen=2]="Frozen",e))(ap||{});function sp(){return Ru(ap)}var cp=(e=>(e[e.MintTokens=0]="MintTokens",e[e.FreezeAccount=1]="FreezeAccount",e[e.AccountOwner=2]="AccountOwner",e[e.CloseAccount=3]="CloseAccount",e[e.TransferFeeConfig=4]="TransferFeeConfig",e[e.WithheldWithdraw=5]="WithheldWithdraw",e[e.CloseMint=6]="CloseMint",e[e.InterestRate=7]="InterestRate",e[e.PermanentDelegate=8]="PermanentDelegate",e[e.ConfidentialTransferMint=9]="ConfidentialTransferMint",e[e.TransferHookProgramId=10]="TransferHookProgramId",e[e.ConfidentialTransferFeeConfig=11]="ConfidentialTransferFeeConfig",e[e.MetadataPointer=12]="MetadataPointer",e[e.GroupPointer=13]="GroupPointer",e[e.GroupMemberPointer=14]="GroupMemberPointer",e[e.ScaledUiAmount=15]="ScaledUiAmount",e[e.Pause=16]="Pause",e))(cp||{});function up(){return Ru(cp)}function lp(){return ns(pu(),36)}var dp,fp=((dp=fp||{})[dp.Uninitialized=0]="Uninitialized",dp[dp.TransferFeeConfig=1]="TransferFeeConfig",dp[dp.TransferFeeAmount=2]="TransferFeeAmount",dp[dp.MintCloseAuthority=3]="MintCloseAuthority",dp[dp.ConfidentialTransferMint=4]="ConfidentialTransferMint",dp[dp.ConfidentialTransferAccount=5]="ConfidentialTransferAccount",dp[dp.DefaultAccountState=6]="DefaultAccountState",dp[dp.ImmutableOwner=7]="ImmutableOwner",dp[dp.MemoTransfer=8]="MemoTransfer",dp[dp.NonTransferable=9]="NonTransferable",dp[dp.InterestBearingConfig=10]="InterestBearingConfig",dp[dp.CpiGuard=11]="CpiGuard",dp[dp.PermanentDelegate=12]="PermanentDelegate",dp[dp.NonTransferableAccount=13]="NonTransferableAccount",dp[dp.TransferHook=14]="TransferHook",dp[dp.TransferHookAccount=15]="TransferHookAccount",dp[dp.ConfidentialTransferFee=16]="ConfidentialTransferFee",dp[dp.ConfidentialTransferFeeAmount=17]="ConfidentialTransferFeeAmount",dp[dp.ScaledUiAmountConfig=18]="ScaledUiAmountConfig",dp[dp.PausableConfig=19]="PausableConfig",dp[dp.PausableAccount=20]="PausableAccount",dp[dp.MetadataPointer=21]="MetadataPointer",dp[dp.TokenMetadata=22]="TokenMetadata",dp[dp.GroupPointer=23]="GroupPointer",dp[dp.TokenGroup=24]="TokenGroup",dp[dp.GroupMemberPointer=25]="GroupMemberPointer",dp[dp.TokenGroupMember=26]="TokenGroupMember",dp);function hp(){return Ru(fp,{size:Mc()})}function pp(){return Tu([["Name",Nu()],["Symbol",Nu()],["Uri",Nu()],["Key",zu([["fields",wu([es(_s(),Uc())])]])]])}var gp=(e=>(e[e.CreateAssociatedToken=0]="CreateAssociatedToken",e[e.CreateAssociatedTokenIdempotent=1]="CreateAssociatedTokenIdempotent",e[e.RecoverNestedAssociatedToken=2]="RecoverNestedAssociatedToken",e))(gp||{});var mp,yp="TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb",vp=((mp=vp||{})[mp.Mint=0]="Mint",mp[mp.Token=1]="Token",mp[mp.Multisig=2]="Multisig",mp);var wp,Ap=((wp=Ap||{})[wp.InitializeMint=0]="InitializeMint",wp[wp.InitializeAccount=1]="InitializeAccount",wp[wp.InitializeMultisig=2]="InitializeMultisig",wp[wp.Transfer=3]="Transfer",wp[wp.Approve=4]="Approve",wp[wp.Revoke=5]="Revoke",wp[wp.SetAuthority=6]="SetAuthority",wp[wp.MintTo=7]="MintTo",wp[wp.Burn=8]="Burn",wp[wp.CloseAccount=9]="CloseAccount",wp[wp.FreezeAccount=10]="FreezeAccount",wp[wp.ThawAccount=11]="ThawAccount",wp[wp.TransferChecked=12]="TransferChecked",wp[wp.ApproveChecked=13]="ApproveChecked",wp[wp.MintToChecked=14]="MintToChecked",wp[wp.BurnChecked=15]="BurnChecked",wp[wp.InitializeAccount2=16]="InitializeAccount2",wp[wp.SyncNative=17]="SyncNative",wp[wp.InitializeAccount3=18]="InitializeAccount3",wp[wp.InitializeMultisig2=19]="InitializeMultisig2",wp[wp.InitializeMint2=20]="InitializeMint2",wp[wp.GetAccountDataSize=21]="GetAccountDataSize",wp[wp.InitializeImmutableOwner=22]="InitializeImmutableOwner",wp[wp.AmountToUiAmount=23]="AmountToUiAmount",wp[wp.UiAmountToAmount=24]="UiAmountToAmount",wp[wp.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",wp[wp.InitializeTransferFeeConfig=26]="InitializeTransferFeeConfig",wp[wp.TransferCheckedWithFee=27]="TransferCheckedWithFee",wp[wp.WithdrawWithheldTokensFromMint=28]="WithdrawWithheldTokensFromMint",wp[wp.WithdrawWithheldTokensFromAccounts=29]="WithdrawWithheldTokensFromAccounts",wp[wp.HarvestWithheldTokensToMint=30]="HarvestWithheldTokensToMint",wp[wp.SetTransferFee=31]="SetTransferFee",wp[wp.InitializeConfidentialTransferMint=32]="InitializeConfidentialTransferMint",wp[wp.UpdateConfidentialTransferMint=33]="UpdateConfidentialTransferMint",wp[wp.ConfigureConfidentialTransferAccount=34]="ConfigureConfidentialTransferAccount",wp[wp.ApproveConfidentialTransferAccount=35]="ApproveConfidentialTransferAccount",wp[wp.EmptyConfidentialTransferAccount=36]="EmptyConfidentialTransferAccount",wp[wp.ConfidentialDeposit=37]="ConfidentialDeposit",wp[wp.ConfidentialWithdraw=38]="ConfidentialWithdraw",wp[wp.ConfidentialTransfer=39]="ConfidentialTransfer",wp[wp.ApplyConfidentialPendingBalance=40]="ApplyConfidentialPendingBalance",wp[wp.EnableConfidentialCredits=41]="EnableConfidentialCredits",wp[wp.DisableConfidentialCredits=42]="DisableConfidentialCredits",wp[wp.EnableNonConfidentialCredits=43]="EnableNonConfidentialCredits",wp[wp.DisableNonConfidentialCredits=44]="DisableNonConfidentialCredits",wp[wp.ConfidentialTransferWithFee=45]="ConfidentialTransferWithFee",wp[wp.InitializeDefaultAccountState=46]="InitializeDefaultAccountState",wp[wp.UpdateDefaultAccountState=47]="UpdateDefaultAccountState",wp[wp.Reallocate=48]="Reallocate",wp[wp.EnableMemoTransfers=49]="EnableMemoTransfers",wp[wp.DisableMemoTransfers=50]="DisableMemoTransfers",wp[wp.CreateNativeMint=51]="CreateNativeMint",wp[wp.InitializeNonTransferableMint=52]="InitializeNonTransferableMint",wp[wp.InitializeInterestBearingMint=53]="InitializeInterestBearingMint",wp[wp.UpdateRateInterestBearingMint=54]="UpdateRateInterestBearingMint",wp[wp.EnableCpiGuard=55]="EnableCpiGuard",wp[wp.DisableCpiGuard=56]="DisableCpiGuard",wp[wp.InitializePermanentDelegate=57]="InitializePermanentDelegate",wp[wp.InitializeTransferHook=58]="InitializeTransferHook",wp[wp.UpdateTransferHook=59]="UpdateTransferHook",wp[wp.InitializeConfidentialTransferFee=60]="InitializeConfidentialTransferFee",wp[wp.WithdrawWithheldTokensFromMintForConfidentialTransferFee=61]="WithdrawWithheldTokensFromMintForConfidentialTransferFee",wp[wp.WithdrawWithheldTokensFromAccountsForConfidentialTransferFee=62]="WithdrawWithheldTokensFromAccountsForConfidentialTransferFee",wp[wp.HarvestWithheldTokensToMintForConfidentialTransferFee=63]="HarvestWithheldTokensToMintForConfidentialTransferFee",wp[wp.EnableHarvestToMint=64]="EnableHarvestToMint",wp[wp.DisableHarvestToMint=65]="DisableHarvestToMint",wp[wp.WithdrawExcessLamports=66]="WithdrawExcessLamports",wp[wp.InitializeMetadataPointer=67]="InitializeMetadataPointer",wp[wp.UpdateMetadataPointer=68]="UpdateMetadataPointer",wp[wp.InitializeGroupPointer=69]="InitializeGroupPointer",wp[wp.UpdateGroupPointer=70]="UpdateGroupPointer",wp[wp.InitializeGroupMemberPointer=71]="InitializeGroupMemberPointer",wp[wp.UpdateGroupMemberPointer=72]="UpdateGroupMemberPointer",wp[wp.InitializeScaledUiAmountMint=73]="InitializeScaledUiAmountMint",wp[wp.UpdateMultiplierScaledUiMint=74]="UpdateMultiplierScaledUiMint",wp[wp.InitializePausableConfig=75]="InitializePausableConfig",wp[wp.Pause=76]="Pause",wp[wp.Resume=77]="Resume",wp[wp.InitializeTokenMetadata=78]="InitializeTokenMetadata",wp[wp.UpdateTokenMetadataField=79]="UpdateTokenMetadataField",wp[wp.RemoveTokenMetadataKey=80]="RemoveTokenMetadataKey",wp[wp.UpdateTokenMetadataUpdateAuthority=81]="UpdateTokenMetadataUpdateAuthority",wp[wp.EmitTokenMetadata=82]="EmitTokenMetadata",wp[wp.InitializeTokenGroup=83]="InitializeTokenGroup",wp[wp.UpdateTokenGroupMaxSize=84]="UpdateTokenGroupMaxSize",wp[wp.UpdateTokenGroupUpdateAuthority=85]="UpdateTokenGroupUpdateAuthority",wp[wp.InitializeTokenGroupMember=86]="InitializeTokenGroupMember",wp);function bp(){return zu([["discriminator",Fc()],["amount",Lc()]])}function Sp(){return zu([["discriminator",Fc()],["confidentialTransferDiscriminator",Fc()],["expectedPendingBalanceCreditCounter",Lc()],["newDecryptableAvailableBalance",lp()]])}function Ep(){return zu([["discriminator",Fc()],["amount",Lc()]])}function xp(){return zu([["discriminator",Fc()],["amount",Lc()],["decimals",Fc()]])}function Tp(){return zu([["discriminator",Fc()],["confidentialTransferDiscriminator",Fc()]])}function kp(){return zu([["discriminator",Fc()],["amount",Lc()]])}function Ip(){return zu([["discriminator",Fc()],["amount",Lc()],["decimals",Fc()]])}function _p(){return zu([["discriminator",Fc()]])}function Cp(){return zu([["discriminator",Fc()],["confidentialTransferDiscriminator",Fc()],["amount",Lc()],["decimals",Fc()]])}function Rp(){return zu([["discriminator",Fc()],["confidentialTransferDiscriminator",Fc()],["newSourceDecryptableAvailableBalance",lp()],["equalityProofInstructionOffset",Nc()],["ciphertextValidityProofInstructionOffset",Nc()],["rangeProofInstructionOffset",Nc()]])}function Pp(){return zu([["discriminator",Fc()],["confidentialTransferDiscriminator",Fc()],["newSourceDecryptableAvailableBalance",lp()],["equalityProofInstructionOffset",Nc()],["transferAmountCiphertextValidityProofInstructionOffset",Nc()],["feeSigmaProofInstructionOffset",Nc()],["feeCiphertextValidityProofInstructionOffset",Nc()],["rangeProofInstructionOffset",Nc()]])}function Op(){return zu([["discriminator",Fc()],["confidentialTransferDiscriminator",Fc()],["amount",Lc()],["decimals",Fc()],["newDecryptableAvailableBalance",lp()],["equalityProofInstructionOffset",Nc()],["rangeProofInstructionOffset",Nc()]])}function Np(){return zu([["discriminator",Fc()],["confidentialTransferDiscriminator",Fc()],["decryptableZeroBalance",lp()],["maximumPendingBalanceCreditCounter",Lc()],["proofInstructionOffset",Nc()]])}function Bp(){return zu([["discriminator",Fc()]])}function zp(){return zu([["discriminator",Fc()]])}function Mp(){return zu([["discriminator",Fc()]])}function jp(){return zu([["discriminator",Fc()],["confidentialTransferDiscriminator",Fc()]])}function Up(){return zu([["discriminator",Fc()],["cpiGuardDiscriminator",Fc()]])}function Dp(){return zu([["discriminator",Fc()],["confidentialTransferFeeDiscriminator",Fc()]])}function Lp(){return zu([["discriminator",Fc()],["memoTransfersDiscriminator",Fc()]])}function $p(){return zu([["discriminator",Fc()],["confidentialTransferDiscriminator",Fc()]])}new Uint8Array([250,166,180,250,13,12,184,70]);function Fp(){return zu([["discriminator",pu()],["start",dh(Lc())],["end",dh(Lc())]])}function qp(){return zu([["discriminator",Fc()],["confidentialTransferDiscriminator",Fc()],["proofInstructionOffset",Nc()]])}function Wp(){return zu([["discriminator",Fc()],["confidentialTransferDiscriminator",Fc()]])}function Vp(){return zu([["discriminator",Fc()],["cpiGuardDiscriminator",Fc()]])}function Kp(){return zu([["discriminator",Fc()],["confidentialTransferFeeDiscriminator",Fc()]])}function Gp(){return zu([["discriminator",Fc()],["memoTransfersDiscriminator",Fc()]])}function Hp(){return zu([["discriminator",Fc()],["confidentialTransferDiscriminator",Fc()]])}function Jp(){return zu([["discriminator",Fc()]])}function Zp(){return zu([["discriminator",Fc()]])}function Yp(){return zu([["discriminator",Fc()],["transferFeeDiscriminator",Fc()]])}function Xp(){return zu([["discriminator",Fc()],["confidentialTransferFeeDiscriminator",Fc()]])}function Qp(){return zu([["discriminator",Fc()]])}function eg(){return zu([["discriminator",Fc()],["owner",js()]])}function tg(){return zu([["discriminator",Fc()],["owner",js()]])}function ng(){return zu([["discriminator",Fc()],["confidentialTransferFeeDiscriminator",Fc()],["authority",dh(js(),{prefix:null,noneValue:"zeroes"})],["withdrawWithheldAuthorityElGamalPubkey",dh(js(),{prefix:null,noneValue:"zeroes"})]])}function rg(){return zu([["discriminator",Fc()],["confidentialTransferDiscriminator",Fc()],["authority",dh(js(),{prefix:null,noneValue:"zeroes"})],["autoApproveNewAccounts",fu()],["auditorElgamalPubkey",dh(js(),{prefix:null,noneValue:"zeroes"})]])}function og(){return zu([["discriminator",Fc()],["defaultAccountStateDiscriminator",Fc()],["state",sp()]])}function ig(){return zu([["discriminator",Fc()],["groupMemberPointerDiscriminator",Fc()],["authority",dh(js(),{prefix:null,noneValue:"zeroes"})],["memberAddress",dh(js(),{prefix:null,noneValue:"zeroes"})]])}function ag(){return zu([["discriminator",Fc()],["groupPointerDiscriminator",Fc()],["authority",dh(js(),{prefix:null,noneValue:"zeroes"})],["groupAddress",dh(js(),{prefix:null,noneValue:"zeroes"})]])}function sg(){return zu([["discriminator",Fc()]])}function cg(){return zu([["discriminator",Fc()],["interestBearingMintDiscriminator",Fc()],["rateAuthority",dh(js(),{prefix:null,noneValue:"zeroes"})],["rate",Pc()]])}function ug(){return zu([["discriminator",Fc()],["metadataPointerDiscriminator",Fc()],["authority",dh(js(),{prefix:null,noneValue:"zeroes"})],["metadataAddress",dh(js(),{prefix:null,noneValue:"zeroes"})]])}function lg(){return zu([["discriminator",Fc()],["decimals",Fc()],["mintAuthority",js()],["freezeAuthority",dh(js())]])}function dg(){return zu([["discriminator",Fc()],["decimals",Fc()],["mintAuthority",js()],["freezeAuthority",dh(js())]])}function fg(){return zu([["discriminator",Fc()],["closeAuthority",dh(js())]])}function hg(){return zu([["discriminator",Fc()],["m",Fc()]])}function pg(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{multisig:n(),rent:n()},data:hg().decode(e.data)}}function gg(){return zu([["discriminator",Fc()]])}function mg(){return zu([["discriminator",Fc()],["pausableDiscriminator",Fc()],["authority",dh(js(),{prefix:null,noneValue:"zeroes"})]])}function yg(){return zu([["discriminator",Fc()],["delegate",js()]])}function vg(){return zu([["discriminator",Fc()],["scaledUiAmountMintDiscriminator",Fc()],["authority",dh(js(),{prefix:null,noneValue:"zeroes"})],["multiplier",Rc()]])}new Uint8Array([121,113,108,39,54,51,0,4]);function wg(){return zu([["discriminator",pu()],["updateAuthority",dh(js(),{prefix:null,noneValue:"zeroes"})],["maxSize",Lc()]])}new Uint8Array([152,32,222,176,223,237,116,134]);function Ag(){return zu([["discriminator",pu()]])}new Uint8Array([210,225,30,162,88,184,77,141]);function bg(){return zu([["discriminator",pu()],["name",es(_s(),Uc())],["symbol",es(_s(),Uc())],["uri",es(_s(),Uc())]])}function Sg(){return zu([["discriminator",Fc()],["transferFeeDiscriminator",Fc()],["transferFeeConfigAuthority",dh(js())],["withdrawWithheldAuthority",dh(js())],["transferFeeBasisPoints",Mc()],["maximumFee",Lc()]])}function Eg(){return zu([["discriminator",Fc()],["transferHookDiscriminator",Fc()],["authority",dh(js(),{prefix:null,noneValue:"zeroes"})],["programId",dh(js(),{prefix:null,noneValue:"zeroes"})]])}function xg(){return zu([["discriminator",Fc()],["amount",Lc()]])}function Tg(){return zu([["discriminator",Fc()],["amount",Lc()],["decimals",Fc()]])}function kg(){return zu([["discriminator",Fc()],["pausableDiscriminator",Fc()]])}function Ig(){return zu([["discriminator",Fc()],["newExtensionTypes",uu(hp(),{size:"remainder"})]])}function _g(){return zu([["discriminator",Fc()]])}new Uint8Array([234,18,32,56,89,141,37,181]);function Cg(){return zu([["discriminator",pu()],["idempotent",fu()],["key",es(_s(),Uc())]])}function Rg(){return zu([["discriminator",Fc()],["pausableDiscriminator",Fc()]])}function Pg(){return zu([["discriminator",Fc()]])}function Og(){return zu([["discriminator",Fc()],["authorityType",up()],["newAuthority",dh(js())]])}function Ng(){return zu([["discriminator",Fc()],["transferFeeDiscriminator",Fc()],["transferFeeBasisPoints",Mc()],["maximumFee",Lc()]])}function Bg(){return zu([["discriminator",Fc()]])}function zg(){return zu([["discriminator",Fc()]])}function Mg(){return zu([["discriminator",Fc()],["amount",Lc()]])}function jg(){return zu([["discriminator",Fc()],["amount",Lc()],["decimals",Fc()]])}function Ug(){return zu([["discriminator",Fc()],["transferFeeDiscriminator",Fc()],["amount",Lc()],["decimals",Fc()],["fee",Lc()]])}function Dg(){return zu([["discriminator",Fc()],["uiAmount",_s()]])}function Lg(){return zu([["discriminator",Fc()],["confidentialTransferDiscriminator",Fc()],["autoApproveNewAccounts",fu()],["auditorElgamalPubkey",dh(js(),{prefix:null,noneValue:"zeroes"})]])}function $g(){return zu([["discriminator",Fc()],["defaultAccountStateDiscriminator",Fc()],["state",sp()]])}function Fg(){return zu([["discriminator",Fc()],["groupMemberPointerDiscriminator",Fc()],["memberAddress",dh(js(),{prefix:null,noneValue:"zeroes"})]])}function qg(){return zu([["discriminator",Fc()],["groupPointerDiscriminator",Fc()],["groupAddress",dh(js(),{prefix:null,noneValue:"zeroes"})]])}function Wg(){return zu([["discriminator",Fc()],["metadataPointerDiscriminator",Fc()],["metadataAddress",dh(js(),{prefix:null,noneValue:"zeroes"})]])}function Vg(){return zu([["discriminator",Fc()],["scaledUiAmountMintDiscriminator",Fc()],["multiplier",Rc()],["effectiveTimestamp",Oc()]])}function Kg(){return zu([["discriminator",Fc()],["interestBearingMintDiscriminator",Fc()],["rate",Pc()]])}new Uint8Array([108,37,171,143,248,30,18,110]);function Gg(){return zu([["discriminator",pu()],["maxSize",Lc()]])}new Uint8Array([161,105,88,1,237,221,216,203]);function Hg(){return zu([["discriminator",pu()],["newUpdateAuthority",dh(js(),{prefix:null,noneValue:"zeroes"})]])}new Uint8Array([221,233,49,45,181,202,220,200]);function Jg(){return zu([["discriminator",pu()],["field",pp()],["value",es(_s(),Uc())]])}new Uint8Array([215,228,166,228,84,100,86,123]);function Zg(){return zu([["discriminator",pu()],["newUpdateAuthority",dh(js(),{prefix:null,noneValue:"zeroes"})]])}function Yg(){return zu([["discriminator",Fc()],["transferHookDiscriminator",Fc()],["programId",dh(js(),{prefix:null,noneValue:"zeroes"})]])}function Xg(){return zu([["discriminator",Fc()]])}function Qg(){return zu([["discriminator",Fc()],["transferFeeDiscriminator",Fc()],["numTokenAccounts",Fc()]])}function em(){return zu([["discriminator",Fc()],["confidentialTransferFeeDiscriminator",Fc()],["numTokenAccounts",Fc()],["proofInstructionOffset",Nc()],["newDecryptableAvailableBalance",lp()]])}function tm(){return zu([["discriminator",Fc()],["transferFeeDiscriminator",Fc()]])}function nm(){return zu([["discriminator",Fc()],["confidentialTransferFeeDiscriminator",Fc()],["proofInstructionOffset",Nc()],["newDecryptableAvailableBalance",lp()]])}function rm(e){return!("exists"in e)||"exists"in e&&e.exists}function om(e,t){if(!t)return Object.freeze({address:e,exists:!1});const n=Ss().encode(t.data[0]);return Object.freeze({...am(t),address:e,data:n,exists:!0})}function im(e,t){if(!t)return Object.freeze({address:e,exists:!1});const n=t.data.parsed.info;return Object.freeze({...am(t),address:e,data:n,exists:!0})}function am(e){return Object.freeze({executable:e.executable,lamports:e.lamports,programAddress:e.owner,space:e.space})}async function sm(e,t,n={}){const{abortSignal:r,...o}=n;return om(t,(await e.getAccountInfo(t,{...o,encoding:"base64"}).send({abortSignal:r})).value)}async function cm(e,t,n={}){const{abortSignal:r,...o}=n;return(await e.getMultipleAccounts(t,{...o,encoding:"base64"}).send({abortSignal:r})).value.map(((e,n)=>om(t[n],e)))}var um="ComputeBudget111111111111111111111111111111",lm={blockhash:"11111111111111111111111111111111",lastValidBlockHeight:0n},dm=2;function fm(e){return function(e,t){return e.programAddress===t}(e,um)&&function(e){return void 0!==e.data}(e)&&e.data[0]===dm}async function hm({abortSignal:e,rpc:t,transactionMessage:n,...r}){const o=kl(n);let i;i=o||Fu(n)?n:qu(lm,n);const a=n.instructions.findIndex(fm),s=function(e){const t=new Uint8Array(5);return t[0]=dm,jc().write(e,t,1),Object.freeze({data:t,programAddress:um})}(14e5);if(-1===a)i=_l(s,i);else{const e=[...i.instructions];e.splice(a,1,s),i=Object.freeze({...i,instructions:e})}const c=Ll(Ml(i));try{const{value:{err:n,unitsConsumed:i}}=await t.simulateTransaction(c,{...r,encoding:"base64",replaceRecentBlockhash:!o,sigVerify:!1}).send({abortSignal:e});if(null==i)throw new Ba(oa);const a=i>4294967295n?4294967295:Number(i);if(n)throw new Ba(ia,{cause:n,unitsConsumed:a});return a}catch(e){if(Na(e,ia))throw e;throw new Ba(oa,{cause:e})}}function pm({rpc:e}){return async function(t,n){return await hm({...n,rpc:e,transactionMessage:t})}}async function gm(e,t,n){if(0===e.length)return{};const r=await async function(e,t,n={}){const{abortSignal:r,...o}=n;return(await e.getMultipleAccounts(t,{...o,encoding:"jsonParsed"}).send({abortSignal:r})).value.map(((e,n)=>e&&"object"==typeof e&&"parsed"in e.data?im(t[n],e):om(t[n],e)))}(t,e,n);return function(e){const t=e.filter((e=>rm(e)&&e.data instanceof Uint8Array));if(t.length>0){const e=t.map((e=>e.address));throw new Ba(Oi,{addresses:e})}}(r),function(e){const t=e.filter((e=>!e.exists));if(t.length>0){const e=t.map((e=>e.address));throw new Ba(Pi,{addresses:e})}}(r),r.reduce(((e,t)=>({...e,[t.address]:t.data.addresses})),{})}async function mm(e,t,n){const r=("addressTableLookups"in e&&void 0!==e.addressTableLookups&&e.addressTableLookups.length>0?e.addressTableLookups:[]).map((e=>e.lookupTableAddress)),{lastValidBlockHeight:o,...i}=n??{};return Pl(e,{addressesByLookupTableAddress:r.length>0?await gm(r,t,i):{},lastValidBlockHeight:o})}function ym(e,t){return!t?.preflightCommitment&&function(e,t){return e===t?0:Uu(e)<Uu(t)?-1:1}(e,"finalized")<0?{...t,preflightCommitment:e}:t}async function vm({abortSignal:e,commitment:t,rpc:n,transaction:r,...o}){const i=Ll(r);return await n.sendTransaction(i,{...ym(t,o),encoding:"base64"}).send({abortSignal:e})}const wm=async(e,t,n)=>$u(e,Ss().encode,fl().decode,(async e=>mm(e,t,n))),Am=async(e,t,n)=>$u(e,fl().decode,(async e=>mm(e,t,n))),bm=async e=>$u(e,Ss().encode,Bl().decode),Sm=async(e,t,n)=>(async e=>new Promise(((t,n)=>{if(0===e.length)return void n(new AggregateError([],"No promises to resolve"));let r=0;const o=[];e.forEach(((i,a)=>{Promise.resolve(i).then((e=>t(e)),(t=>{o[a]=t,r+=1,r===e.length&&n(new AggregateError(o,"All promises rejected"))}))}))})))([bm(e),wm(e,t,n)]);const Em={[cd]:{identifier:function(e){const t="data"in e?e.data:e;if(qa(t,jc().encode(0),0))return 0;if(qa(t,jc().encode(1),0))return 1;if(qa(t,jc().encode(2),0))return 2;if(qa(t,jc().encode(3),0))return 3;if(qa(t,jc().encode(4),0))return 4;if(qa(t,jc().encode(5),0))return 5;if(qa(t,jc().encode(6),0))return 6;if(qa(t,jc().encode(7),0))return 7;if(qa(t,jc().encode(8),0))return 8;if(qa(t,jc().encode(9),0))return 9;if(qa(t,jc().encode(10),0))return 10;if(qa(t,jc().encode(11),0))return 11;if(qa(t,jc().encode(12),0))return 12;throw new Error("The provided instruction could not be identified as a system instruction.")},instructionEnum:ld,typeToParserMap:{[ld.Assign]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{account:(()=>{const n=e.accounts[t];return t+=1,n})()},data:yd().decode(e.data)}},[ld.TransferSol]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),destination:n()},data:Td().decode(e.data)}},[ld.CreateAccount]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{payer:n(),newAccount:n()},data:Ad().decode(e.data)}},[ld.CreateAccountWithSeed]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{payer:n(),newAccount:n(),baseAccount:n()},data:bd().decode(e.data)}},[ld.AdvanceNonceAccount]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{nonceAccount:n(),recentBlockhashesSysvar:n(),nonceAuthority:n()},data:pd().decode(e.data)}},[ld.WithdrawNonceAccount]:function(e){if(e.accounts.length<5)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{nonceAccount:n(),recipientAccount:n(),recentBlockhashesSysvar:n(),rentSysvar:n(),nonceAuthority:n()},data:_d().decode(e.data)}},[ld.InitializeNonceAccount]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{nonceAccount:n(),recentBlockhashesSysvar:n(),rentSysvar:n()},data:Sd().decode(e.data)}},[ld.AuthorizeNonceAccount]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{nonceAccount:n(),nonceAuthority:n()},data:wd().decode(e.data)}},[ld.Allocate]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{newAccount:(()=>{const n=e.accounts[t];return t+=1,n})()},data:gd().decode(e.data)}},[ld.AllocateWithSeed]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{newAccount:n(),baseAccount:n()},data:md().decode(e.data)}},[ld.AssignWithSeed]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),baseAccount:n()},data:vd().decode(e.data)}},[ld.TransferSolWithSeed]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),baseAccount:n(),destination:n()},data:kd().decode(e.data)}},[ld.UpgradeNonceAccount]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{nonceAccount:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Id().decode(e.data)}}}},[Vf]:{identifier:Gf,instructionEnum:Kf,typeToParserMap:{[Kf.RequestUnits]:function(e){return{programAddress:e.programAddress,data:Jf().decode(e.data)}},[Kf.RequestHeapFrame]:function(e){return{programAddress:e.programAddress,data:Hf().decode(e.data)}},[Kf.SetComputeUnitPrice]:function(e){return{programAddress:e.programAddress,data:nh().decode(e.data)}},[Kf.SetComputeUnitLimit]:function(e){return{programAddress:e.programAddress,data:Xf().decode(e.data)}},[Kf.SetLoadedAccountsDataSizeLimit]:function(e){return{programAddress:e.programAddress,data:oh().decode(e.data)}}}},[bh]:{identifier:function(e){const t="data"in e?e.data:e;if(qa(t,$c().encode(0),0))return 0;if(qa(t,$c().encode(1),0))return 1;if(qa(t,$c().encode(2),0))return 2;if(qa(t,$c().encode(3),0))return 3;if(qa(t,$c().encode(4),0))return 4;if(qa(t,$c().encode(5),0))return 5;if(qa(t,$c().encode(6),0))return 6;if(qa(t,$c().encode(7),0))return 7;if(qa(t,$c().encode(8),0))return 8;if(qa(t,$c().encode(9),0))return 9;if(qa(t,$c().encode(10),0))return 10;if(qa(t,$c().encode(11),0))return 11;if(qa(t,$c().encode(12),0))return 12;if(qa(t,$c().encode(13),0))return 13;if(qa(t,$c().encode(14),0))return 14;if(qa(t,$c().encode(15),0))return 15;if(qa(t,$c().encode(16),0))return 16;if(qa(t,$c().encode(17),0))return 17;if(qa(t,$c().encode(18),0))return 18;if(qa(t,$c().encode(19),0))return 19;if(qa(t,$c().encode(20),0))return 20;if(qa(t,$c().encode(21),0))return 21;if(qa(t,$c().encode(22),0))return 22;if(qa(t,$c().encode(23),0))return 23;if(qa(t,$c().encode(24),0))return 24;throw new Error("The provided instruction could not be identified as a token instruction.")},instructionEnum:xh,typeToParserMap:{[xh.InitializeMint]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),rent:n()},data:Wh().decode(e.data)}},[xh.InitializeAccount]:function(e){if(e.accounts.length<4)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),owner:n(),rent:n()},data:Lh().decode(e.data)}},[xh.InitializeMultisig]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{multisig:n(),rent:n()},data:Kh().decode(e.data)}},[xh.Transfer]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),destination:n(),authority:n()},data:np().decode(e.data)}},[xh.Approve]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),delegate:n(),owner:n()},data:Ch().decode(e.data)}},[xh.Revoke]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),owner:n()},data:Zh().decode(e.data)}},[xh.SetAuthority]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{owned:n(),owner:n()},data:Yh().decode(e.data)}},[xh.MintTo]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),token:n(),mintAuthority:n()},data:Hh().decode(e.data)}},[xh.Burn]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),authority:n()},data:Ph().decode(e.data)}},[xh.CloseAccount]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),destination:n(),owner:n()},data:Nh().decode(e.data)}},[xh.FreezeAccount]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),owner:n()},data:Uh().decode(e.data)}},[xh.ThawAccount]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),owner:n()},data:Qh().decode(e.data)}},[xh.TransferChecked]:function(e){if(e.accounts.length<4)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),mint:n(),destination:n(),authority:n()},data:op().decode(e.data)}},[xh.ApproveChecked]:function(e){if(e.accounts.length<4)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),mint:n(),delegate:n(),owner:n()},data:Rh().decode(e.data)}},[xh.MintToChecked]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),token:n(),mintAuthority:n()},data:Jh().decode(e.data)}},[xh.BurnChecked]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),authority:n()},data:Oh().decode(e.data)}},[xh.InitializeAccount2]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),rent:n()},data:$h().decode(e.data)}},[xh.SyncNative]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{account:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Xh().decode(e.data)}},[xh.InitializeAccount3]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n()},data:Fh().decode(e.data)}},[xh.InitializeMultisig2]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{multisig:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Gh().decode(e.data)}},[xh.InitializeMint2]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Vh().decode(e.data)}},[xh.GetAccountDataSize]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Dh().decode(e.data)}},[xh.InitializeImmutableOwner]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{account:(()=>{const n=e.accounts[t];return t+=1,n})()},data:qh().decode(e.data)}},[xh.AmountToUiAmount]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:_h().decode(e.data)}},[xh.UiAmountToAmount]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:ip().decode(e.data)}}}},[yp]:{identifier:function(e){const t="data"in e?e.data:e;if(qa(t,$c().encode(0),0))return 0;if(qa(t,$c().encode(1),0))return 1;if(qa(t,$c().encode(2),0))return 2;if(qa(t,$c().encode(3),0))return 3;if(qa(t,$c().encode(4),0))return 4;if(qa(t,$c().encode(5),0))return 5;if(qa(t,$c().encode(6),0))return 6;if(qa(t,$c().encode(7),0))return 7;if(qa(t,$c().encode(8),0))return 8;if(qa(t,$c().encode(9),0))return 9;if(qa(t,$c().encode(10),0))return 10;if(qa(t,$c().encode(11),0))return 11;if(qa(t,$c().encode(12),0))return 12;if(qa(t,$c().encode(13),0))return 13;if(qa(t,$c().encode(14),0))return 14;if(qa(t,$c().encode(15),0))return 15;if(qa(t,$c().encode(16),0))return 16;if(qa(t,$c().encode(17),0))return 17;if(qa(t,$c().encode(18),0))return 18;if(qa(t,$c().encode(19),0))return 19;if(qa(t,$c().encode(20),0))return 20;if(qa(t,$c().encode(21),0))return 21;if(qa(t,$c().encode(22),0))return 22;if(qa(t,$c().encode(23),0))return 23;if(qa(t,$c().encode(24),0))return 24;if(qa(t,$c().encode(25),0))return 25;if(qa(t,$c().encode(26),0)&&qa(t,$c().encode(0),1))return 26;if(qa(t,$c().encode(26),0)&&qa(t,$c().encode(1),1))return 27;if(qa(t,$c().encode(26),0)&&qa(t,$c().encode(2),1))return 28;if(qa(t,$c().encode(26),0)&&qa(t,$c().encode(3),1))return 29;if(qa(t,$c().encode(26),0)&&qa(t,$c().encode(4),1))return 30;if(qa(t,$c().encode(26),0)&&qa(t,$c().encode(5),1))return 31;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(0),1))return 32;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(1),1))return 33;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(2),1))return 34;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(3),1))return 35;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(4),1))return 36;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(5),1))return 37;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(6),1))return 38;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(7),1))return 39;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(8),1))return 40;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(9),1))return 41;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(10),1))return 42;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(11),1))return 43;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(12),1))return 44;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(13),1))return 45;if(qa(t,$c().encode(28),0)&&qa(t,$c().encode(0),1))return 46;if(qa(t,$c().encode(28),0)&&qa(t,$c().encode(1),1))return 47;if(qa(t,$c().encode(29),0))return 48;if(qa(t,$c().encode(30),0)&&qa(t,$c().encode(0),1))return 49;if(qa(t,$c().encode(30),0)&&qa(t,$c().encode(1),1))return 50;if(qa(t,$c().encode(31),0))return 51;if(qa(t,$c().encode(32),0))return 52;if(qa(t,$c().encode(33),0)&&qa(t,$c().encode(0),1))return 53;if(qa(t,$c().encode(33),0)&&qa(t,$c().encode(1),1))return 54;if(qa(t,$c().encode(34),0)&&qa(t,$c().encode(0),1))return 55;if(qa(t,$c().encode(34),0)&&qa(t,$c().encode(1),1))return 56;if(qa(t,$c().encode(35),0))return 57;if(qa(t,$c().encode(36),0)&&qa(t,$c().encode(0),1))return 58;if(qa(t,$c().encode(36),0)&&qa(t,$c().encode(1),1))return 59;if(qa(t,$c().encode(37),0)&&qa(t,$c().encode(0),1))return 60;if(qa(t,$c().encode(37),0)&&qa(t,$c().encode(1),1))return 61;if(qa(t,$c().encode(37),0)&&qa(t,$c().encode(2),1))return 62;if(qa(t,$c().encode(37),0)&&qa(t,$c().encode(3),1))return 63;if(qa(t,$c().encode(37),0)&&qa(t,$c().encode(4),1))return 64;if(qa(t,$c().encode(37),0)&&qa(t,$c().encode(5),1))return 65;if(qa(t,$c().encode(38),0))return 66;if(qa(t,$c().encode(39),0)&&qa(t,$c().encode(0),1))return 67;if(qa(t,$c().encode(39),0)&&qa(t,$c().encode(1),1))return 68;if(qa(t,$c().encode(40),0)&&qa(t,$c().encode(0),1))return 69;if(qa(t,$c().encode(40),0)&&qa(t,$c().encode(1),1))return 70;if(qa(t,$c().encode(41),0)&&qa(t,$c().encode(0),1))return 71;if(qa(t,$c().encode(41),0)&&qa(t,$c().encode(1),1))return 72;if(qa(t,$c().encode(43),0)&&qa(t,$c().encode(0),1))return 73;if(qa(t,$c().encode(43),0)&&qa(t,$c().encode(1),1))return 74;if(qa(t,$c().encode(44),0)&&qa(t,$c().encode(0),1))return 75;if(qa(t,$c().encode(44),0)&&qa(t,$c().encode(1),1))return 76;if(qa(t,$c().encode(44),0)&&qa(t,$c().encode(2),1))return 77;if(qa(t,new Uint8Array([210,225,30,162,88,184,77,141]),0))return 78;if(qa(t,new Uint8Array([221,233,49,45,181,202,220,200]),0))return 79;if(qa(t,new Uint8Array([234,18,32,56,89,141,37,181]),0))return 80;if(qa(t,new Uint8Array([215,228,166,228,84,100,86,123]),0))return 81;if(qa(t,new Uint8Array([250,166,180,250,13,12,184,70]),0))return 82;if(qa(t,new Uint8Array([121,113,108,39,54,51,0,4]),0))return 83;if(qa(t,new Uint8Array([108,37,171,143,248,30,18,110]),0))return 84;if(qa(t,new Uint8Array([161,105,88,1,237,221,216,203]),0))return 85;if(qa(t,new Uint8Array([152,32,222,176,223,237,116,134]),0))return 86;throw new Error("The provided instruction could not be identified as a token-2022 instruction.")},instructionEnum:Ap,typeToParserMap:{[Ap.InitializeMint]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),rent:n()},data:lg().decode(e.data)}},[Ap.InitializeAccount]:function(e){if(e.accounts.length<4)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),owner:n(),rent:n()},data:Qp().decode(e.data)}},[Ap.InitializeMultisig]:pg,[Ap.Transfer]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),destination:n(),authority:n()},data:Mg().decode(e.data)}},[Ap.Approve]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),delegate:n(),owner:n()},data:Ep().decode(e.data)}},[Ap.Revoke]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),owner:n()},data:Pg().decode(e.data)}},[Ap.SetAuthority]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{owned:n(),owner:n()},data:Og().decode(e.data)}},[Ap.MintTo]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),token:n(),mintAuthority:n()},data:xg().decode(e.data)}},[Ap.Burn]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),authority:n()},data:kp().decode(e.data)}},[Ap.CloseAccount]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),destination:n(),owner:n()},data:_p().decode(e.data)}},[Ap.FreezeAccount]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),owner:n()},data:Jp().decode(e.data)}},[Ap.ThawAccount]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),owner:n()},data:zg().decode(e.data)}},[Ap.TransferChecked]:function(e){if(e.accounts.length<4)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),mint:n(),destination:n(),authority:n()},data:jg().decode(e.data)}},[Ap.ApproveChecked]:function(e){if(e.accounts.length<4)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),mint:n(),delegate:n(),owner:n()},data:xp().decode(e.data)}},[Ap.MintToChecked]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),token:n(),mintAuthority:n()},data:Tg().decode(e.data)}},[Ap.BurnChecked]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),authority:n()},data:Ip().decode(e.data)}},[Ap.InitializeAccount2]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),rent:n()},data:eg().decode(e.data)}},[Ap.SyncNative]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{account:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Bg().decode(e.data)}},[Ap.InitializeAccount3]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n()},data:tg().decode(e.data)}},[Ap.InitializeMultisig2]:pg,[Ap.InitializeMint2]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:dg().decode(e.data)}},[Ap.GetAccountDataSize]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Zp().decode(e.data)}},[Ap.InitializeImmutableOwner]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{account:(()=>{const n=e.accounts[t];return t+=1,n})()},data:sg().decode(e.data)}},[Ap.AmountToUiAmount]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:bp().decode(e.data)}},[Ap.UiAmountToAmount]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Dg().decode(e.data)}},[Ap.InitializeMintCloseAuthority]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:fg().decode(e.data)}},[Ap.InitializeTransferFeeConfig]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Sg().decode(e.data)}},[Ap.TransferCheckedWithFee]:function(e){if(e.accounts.length<4)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),mint:n(),destination:n(),authority:n()},data:Ug().decode(e.data)}},[Ap.WithdrawWithheldTokensFromMint]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),feeReceiver:n(),withdrawWithheldAuthority:n()},data:tm().decode(e.data)}},[Ap.WithdrawWithheldTokensFromAccounts]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),feeReceiver:n(),withdrawWithheldAuthority:n()},data:Qg().decode(e.data)}},[Ap.HarvestWithheldTokensToMint]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Yp().decode(e.data)}},[Ap.SetTransferFee]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),transferFeeConfigAuthority:n()},data:Ng().decode(e.data)}},[Ap.InitializeConfidentialTransferMint]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:rg().decode(e.data)}},[Ap.UpdateConfidentialTransferMint]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),authority:n()},data:Lg().decode(e.data)}},[Ap.ConfigureConfidentialTransferAccount]:function(e){if(e.accounts.length<5)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),mint:n(),instructionsSysvarOrContextState:n(),record:(()=>{const e=n();return e.address===yp?void 0:e})(),authority:n()},data:Np().decode(e.data)}},[Ap.ApproveConfidentialTransferAccount]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),mint:n(),authority:n()},data:Tp().decode(e.data)}},[Ap.EmptyConfidentialTransferAccount]:function(e){if(e.accounts.length<4)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),instructionsSysvarOrContextState:n(),record:(()=>{const e=n();return e.address===yp?void 0:e})(),authority:n()},data:qp().decode(e.data)}},[Ap.ConfidentialDeposit]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),mint:n(),authority:n()},data:Cp().decode(e.data)}},[Ap.ConfidentialWithdraw]:function(e){if(e.accounts.length<6)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n},r=()=>{const e=n();return e.address===yp?void 0:e};return{programAddress:e.programAddress,accounts:{token:n(),mint:n(),instructionsSysvar:r(),equalityRecord:r(),rangeRecord:r(),authority:n()},data:Op().decode(e.data)}},[Ap.ConfidentialTransfer]:function(e){if(e.accounts.length<8)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n},r=()=>{const e=n();return e.address===yp?void 0:e};return{programAddress:e.programAddress,accounts:{sourceToken:n(),mint:n(),destinationToken:n(),instructionsSysvar:r(),equalityRecord:r(),ciphertextValidityRecord:r(),rangeRecord:r(),authority:n()},data:Rp().decode(e.data)}},[Ap.ApplyConfidentialPendingBalance]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),authority:n()},data:Sp().decode(e.data)}},[Ap.EnableConfidentialCredits]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),authority:n()},data:Wp().decode(e.data)}},[Ap.DisableConfidentialCredits]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),authority:n()},data:jp().decode(e.data)}},[Ap.EnableNonConfidentialCredits]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),authority:n()},data:Hp().decode(e.data)}},[Ap.DisableNonConfidentialCredits]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),authority:n()},data:$p().decode(e.data)}},[Ap.ConfidentialTransferWithFee]:function(e){if(e.accounts.length<10)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n},r=()=>{const e=n();return e.address===yp?void 0:e};return{programAddress:e.programAddress,accounts:{sourceToken:n(),mint:n(),destinationToken:n(),instructionsSysvar:r(),equalityRecord:r(),transferAmountCiphertextValidityRecord:r(),feeSigmaRecord:r(),feeCiphertextValidityRecord:r(),rangeRecord:r(),authority:n()},data:Pp().decode(e.data)}},[Ap.InitializeDefaultAccountState]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:og().decode(e.data)}},[Ap.UpdateDefaultAccountState]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),freezeAuthority:n()},data:$g().decode(e.data)}},[Ap.Reallocate]:function(e){if(e.accounts.length<4)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),payer:n(),systemProgram:n(),owner:n()},data:Ig().decode(e.data)}},[Ap.EnableMemoTransfers]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),owner:n()},data:Gp().decode(e.data)}},[Ap.DisableMemoTransfers]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),owner:n()},data:Lp().decode(e.data)}},[Ap.CreateNativeMint]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{payer:n(),nativeMint:n(),systemProgram:n()},data:Mp().decode(e.data)}},[Ap.InitializeNonTransferableMint]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:gg().decode(e.data)}},[Ap.InitializeInterestBearingMint]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:cg().decode(e.data)}},[Ap.UpdateRateInterestBearingMint]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),rateAuthority:n()},data:Kg().decode(e.data)}},[Ap.EnableCpiGuard]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),owner:n()},data:Vp().decode(e.data)}},[Ap.DisableCpiGuard]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),owner:n()},data:Up().decode(e.data)}},[Ap.InitializePermanentDelegate]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:yg().decode(e.data)}},[Ap.InitializeTransferHook]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Eg().decode(e.data)}},[Ap.UpdateTransferHook]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),authority:n()},data:Yg().decode(e.data)}},[Ap.InitializeConfidentialTransferFee]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:ng().decode(e.data)}},[Ap.WithdrawWithheldTokensFromMintForConfidentialTransferFee]:function(e){if(e.accounts.length<5)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),destination:n(),instructionsSysvarOrContextState:n(),record:(()=>{const e=n();return e.address===yp?void 0:e})(),authority:n()},data:nm().decode(e.data)}},[Ap.WithdrawWithheldTokensFromAccountsForConfidentialTransferFee]:function(e){if(e.accounts.length<5)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),destination:n(),instructionsSysvarOrContextState:n(),record:(()=>{const e=n();return e.address===yp?void 0:e})(),authority:n()},data:em().decode(e.data)}},[Ap.HarvestWithheldTokensToMintForConfidentialTransferFee]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Xp().decode(e.data)}},[Ap.EnableHarvestToMint]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),authority:n()},data:Kp().decode(e.data)}},[Ap.DisableHarvestToMint]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),authority:n()},data:Dp().decode(e.data)}},[Ap.WithdrawExcessLamports]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{sourceAccount:n(),destinationAccount:n(),authority:n()},data:Xg().decode(e.data)}},[Ap.InitializeMetadataPointer]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:ug().decode(e.data)}},[Ap.UpdateMetadataPointer]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),metadataPointerAuthority:n()},data:Wg().decode(e.data)}},[Ap.InitializeGroupPointer]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:ag().decode(e.data)}},[Ap.UpdateGroupPointer]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),groupPointerAuthority:n()},data:qg().decode(e.data)}},[Ap.InitializeGroupMemberPointer]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:ig().decode(e.data)}},[Ap.UpdateGroupMemberPointer]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),groupMemberPointerAuthority:n()},data:Fg().decode(e.data)}},[Ap.InitializeScaledUiAmountMint]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:vg().decode(e.data)}},[Ap.UpdateMultiplierScaledUiMint]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),authority:n()},data:Vg().decode(e.data)}},[Ap.InitializePausableConfig]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:mg().decode(e.data)}},[Ap.Pause]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),authority:n()},data:kg().decode(e.data)}},[Ap.Resume]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),authority:n()},data:Rg().decode(e.data)}},[Ap.InitializeTokenMetadata]:function(e){if(e.accounts.length<4)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{metadata:n(),updateAuthority:n(),mint:n(),mintAuthority:n()},data:bg().decode(e.data)}},[Ap.UpdateTokenMetadataField]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{metadata:n(),updateAuthority:n()},data:Jg().decode(e.data)}},[Ap.RemoveTokenMetadataKey]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{metadata:n(),updateAuthority:n()},data:Cg().decode(e.data)}},[Ap.UpdateTokenMetadataUpdateAuthority]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{metadata:n(),updateAuthority:n()},data:Zg().decode(e.data)}},[Ap.EmitTokenMetadata]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{metadata:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Fp().decode(e.data)}},[Ap.InitializeTokenGroup]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{group:n(),mint:n(),mintAuthority:n()},data:wg().decode(e.data)}},[Ap.UpdateTokenGroupMaxSize]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{group:n(),updateAuthority:n()},data:Gg().decode(e.data)}},[Ap.UpdateTokenGroupUpdateAuthority]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{group:n(),updateAuthority:n()},data:Hg().decode(e.data)}},[Ap.InitializeTokenGroupMember]:function(e){if(e.accounts.length<5)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{member:n(),memberMint:n(),memberMintAuthority:n(),group:n(),groupUpdateAuthority:n()},data:Ag().decode(e.data)}}}},[vh]:{identifier:function(e){const t="data"in e?e.data:e;if(qa(t,$c().encode(0),0))return 0;if(qa(t,$c().encode(1),0))return 1;if(qa(t,$c().encode(2),0))return 2;throw new Error("The provided instruction could not be identified as a associatedToken instruction.")},instructionEnum:gp,typeToParserMap:{[gp.CreateAssociatedToken]:function(e){if(e.accounts.length<6)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{payer:n(),ata:n(),owner:n(),mint:n(),systemProgram:n(),tokenProgram:n()},data:Bp().decode(e.data)}},[gp.CreateAssociatedTokenIdempotent]:function(e){if(e.accounts.length<6)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{payer:n(),ata:n(),owner:n(),mint:n(),systemProgram:n(),tokenProgram:n()},data:zp().decode(e.data)}},[gp.RecoverNestedAssociatedToken]:function(e){if(e.accounts.length<7)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{nestedAssociatedAccountAddress:n(),nestedTokenMintAddress:n(),destinationAssociatedAccountAddress:n(),ownerAssociatedAccountAddress:n(),ownerTokenMintAddress:n(),walletAddress:n(),tokenProgram:n()},data:_g().decode(e.data)}}}}},xm=async(e,t)=>{const n=await Sm(t,e),r="instructions"in n?n:await Am(n.messageBytes,e),{instructions:o}=r;return o.map((e=>{const{programAddress:t}=e;return((e,t)=>{const n={...e,dataBase58:vs().decode(e.data??new Uint8Array)};try{const r=Em[t];if(!r)throw new Error("Unsupported program address");const{identifier:o,typeToParserMap:i,instructionEnum:a}=r,s=o(e),c=a[s],u=i[s];if(!u)throw new Error("Unsupported instruction type");return{type:c,encoded:n,parsed:u(e)}}catch(e){return{type:"Unknown",encoded:n,parsed:null}}})(e,t)}))};function Tm(e){const{type:t,id:n,address:r,options:o,methods:i,scopes:a}=e;return{type:t,id:n,address:r,options:o,methods:i,scopes:a}}const km=ge(re(),/^(?:0x)?[0-9a-f]+$/iu);ge(re(),/^0x[0-9a-f]+$/iu),ge(re(),/^0x[0-9a-f]{40}$/u),ge(re(),/^0x[0-9a-fA-F]{40}$/u);function Im(e){ti(function(e){return j(e,km)}(e),"Value must be a hexadecimal string.")}function _m(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}n(1048).hp;const Cm=48,Rm=58,Pm=87;!function(){const e=[]}();function Om(e){if("0x"===e?.toLowerCase?.())return new Uint8Array;Im(e);const t=_m(e).toLowerCase(),n=t.length%2==0?t:`0${t}`,r=new Uint8Array(n.length/2);for(let e=0;e<r.length;e++){const t=n.charCodeAt(2*e),o=n.charCodeAt(2*e+1),i=t-(t<Rm?Cm:Pm),a=o-(o<Rm?Cm:Pm);r[e]=16*i+a}return r}async function Nm({entropySource:e,derivationPath:t}){Cd.log({derivationPath:t},"Generating solana wallet"),z(t,Sc);const n=t.split("/");try{const t=await async function({entropySource:e,path:t,curve:n}){return await snap.request({method:"snap_getBip32Entropy",params:{path:t,curve:n,...e?{source:e}:{}}})}({entropySource:e,path:n,curve:"ed25519"});if(!t.privateKey||!t.publicKey)throw new Error("Unable to derive private key");return{privateKeyBytes:Om(t.privateKey),publicKeyBytes:Om(t.publicKey)}}catch(e){throw Cd.error({error:e},"Error deriving keypair"),new Error(e)}}const Bm=e=>JSON.parse(JSON.stringify(e),((e,t)=>t?"undefined"!==t.__type?"BigNumber"===t.__type?new jo(t.value):"bigint"===t.__type?BigInt(t.value):"Uint8Array"===t.__type?xs().encode(t.value):t:void 0:t)),zm=e=>(0,ni.cloneDeepWith)(e,(e=>void 0===e?{__type:"undefined"}:e instanceof jo?{__type:"BigNumber",value:e.toString()}:"bigint"==typeof e?{__type:"bigint",value:e.toString()}:e instanceof Uint8Array?{__type:"Uint8Array",value:xs().decode(e)}:void 0)),Mm="send-form",jm="confirm-sign-and-send-transaction";async function Um(e,t){const n=zm(t);return snap.request({method:"snap_createInterface",params:{ui:e,context:n}})}async function Dm(e,t,n){const r=zm(n);return snap.request({method:"snap_updateInterface",params:{id:e,ui:t,context:r}})}async function Lm(e,t){return snap.request({method:"snap_resolveInterface",params:{id:e,value:t}})}async function $m(e){return snap.request({method:"snap_dialog",params:{id:e}})}async function Fm(){return snap.request({method:"snap_getPreferences"})}async function qm(e){const t=await async function(e){const t=await snap.request({method:"snap_getInterfaceContext",params:{id:e}});return t?Bm(t):null}(e);if(!t)throw new Error("Interface context not found");return t}var Wm=function(e){return e.GetGenesisHash="getGenesisHash",e.GetLatestBlockhash="getLatestBlockhash",e.GetMinimumBalanceForRentExemption="getMinimumBalanceForRentExemption",e}({});const Vm=ee({jsonrpc:vf,id:wf,method:Z("getGenesisHash"),params:te(K())}),Km=ee({jsonrpc:vf,id:wf,method:Z("getLatestBlockhash")}),Gm=ee({jsonrpc:vf,id:wf,method:Z("getMinimumBalanceForRentExemption"),params:oe([Q(),te(ee())])});var Hm=function(e){return e.StartSendTransactionFlow="startSendTransactionFlow",e.GetFeeForTransaction="getFeeForTransaction",e}({}),Jm=function(e){return e.TestSetupAllConnections="testSetupAllConnections",e.TestCloseAllConnections="testCloseAllConnections",e.TestSubscribeToAccount="testSubscribeToAccount",e.TestUnsubscribeFromAccount="testUnsubscribeFromAccount",e}({});const Zm={production:[nc.Mainnet],local:[nc.Mainnet,nc.Devnet],test:[nc.Localnet]},Ym=de(K(lc),re(),(e=>e.split(","))),Xm=de(K(re()),re(),(e=>e.split(","))),Qm=ee({ENVIRONMENT:H(["local","test","production"]),RPC_URL_MAINNET_LIST:Ym,RPC_URL_DEVNET_LIST:Ym,RPC_URL_TESTNET_LIST:Ym,RPC_URL_LOCALNET_LIST:Xm,RPC_WEB_SOCKET_URL_MAINNET:lc,RPC_WEB_SOCKET_URL_DEVNET:lc,RPC_WEB_SOCKET_URL_TESTNET:lc,RPC_WEB_SOCKET_URL_LOCALNET:lc,EXPLORER_BASE_URL:lc,PRICE_API_BASE_URL:lc,TOKEN_API_BASE_URL:lc,STATIC_API_BASE_URL:lc,SECURITY_ALERTS_API_BASE_URL:lc,LOCAL_API_BASE_URL:re()});class ey{#g;constructor(){const e=this.#m();this.#g=this.#y(e)}#m(){return M({ENVIRONMENT:"production",RPC_URL_MAINNET_LIST:"https://solana-mainnet.infura.io/v3/5b98a22672004ef1bf40a80123c5c48d",RPC_URL_DEVNET_LIST:"https://solana-devnet.infura.io/v3/5b98a22672004ef1bf40a80123c5c48d",RPC_URL_TESTNET_LIST:"https://api.testnet.solana.com",RPC_URL_LOCALNET_LIST:"http://localhost:8899",RPC_WEB_SOCKET_URL_MAINNET:"wss://solana-mainnet.infura.io/ws/v3/5b98a22672004ef1bf40a80123c5c48d",RPC_WEB_SOCKET_URL_DEVNET:"wss://solana-devnet.infura.io/ws/v3/5b98a22672004ef1bf40a80123c5c48d",RPC_WEB_SOCKET_URL_TESTNET:"wss://api.testnet.solana.com",RPC_WEB_SOCKET_URL_LOCALNET:"wss://localhost:8899",EXPLORER_BASE_URL:"https://solscan.io",PRICE_API_BASE_URL:"https://price.api.cx.metamask.io",TOKEN_API_BASE_URL:"https://tokens.api.cx.metamask.io",STATIC_API_BASE_URL:"https://static.cx.metamask.io",SECURITY_ALERTS_API_BASE_URL:"https://security-alerts.api.cx.metamask.io",LOCAL_API_BASE_URL:"http://localhost:8899"},Qm)}#y(e){return{environment:e.ENVIRONMENT,networks:[{...sc[nc.Mainnet],rpcUrls:e.RPC_URL_MAINNET_LIST,webSocketUrl:e.RPC_WEB_SOCKET_URL_MAINNET},{...sc[nc.Devnet],rpcUrls:e.RPC_URL_DEVNET_LIST,webSocketUrl:e.RPC_WEB_SOCKET_URL_DEVNET},{...sc[nc.Testnet],rpcUrls:e.RPC_URL_TESTNET_LIST,webSocketUrl:e.RPC_WEB_SOCKET_URL_TESTNET},{...sc[nc.Localnet],rpcUrls:e.RPC_URL_LOCALNET_LIST,webSocketUrl:e.RPC_WEB_SOCKET_URL_LOCALNET}],explorerBaseUrl:e.EXPLORER_BASE_URL,activeNetworks:Zm[e.ENVIRONMENT],priceApi:{baseUrl:"test"===e.ENVIRONMENT?e.LOCAL_API_BASE_URL:e.PRICE_API_BASE_URL,chunkSize:50},tokenApi:{baseUrl:"test"===e.ENVIRONMENT?e.LOCAL_API_BASE_URL:e.TOKEN_API_BASE_URL,chunkSize:50},staticApi:{baseUrl:e.STATIC_API_BASE_URL},transactions:{storageLimit:10},securityAlertsApi:{baseUrl:"test"===e.ENVIRONMENT?e.LOCAL_API_BASE_URL:e.SECURITY_ALERTS_API_BASE_URL},subscription:{maxReconnectAttempts:5,reconnectDelayMilliseconds:1e3}}}get(){return this.#g}getNetworkBy(e,t){const n=this.get().networks.find((n=>n[e]===t));if(!n)throw new Error(`Network ${e} not found`);return n}}const ty=(new ey).get(),ny=["local","test"].includes(ty.environment),ry=ny?["http://localhost:3000"]:["https://portfolio.metamask.io"],oy=ny?new Set([Ht.ListAccounts,Ht.GetAccount,Ht.CreateAccount,Ht.FilterAccountChains,Ht.DeleteAccount,Ht.DiscoverAccounts,Ht.GetAccountBalances,Ht.SubmitRequest,Ht.ListAccountTransactions,Ht.ListAccountAssets,Hm.StartSendTransactionFlow,Hm.GetFeeForTransaction,Wm.GetGenesisHash,Wm.GetLatestBlockhash,Vd.SignAndSendTransactionWithoutConfirmation,Jm.TestSetupAllConnections,Jm.TestCloseAllConnections,Jm.TestSubscribeToAccount,Jm.TestUnsubscribeFromAccount]):new Set([]),iy=new Set([Ht.ListAccounts,Ht.GetAccount,Ht.CreateAccount,Ht.DeleteAccount,Ht.DiscoverAccounts,Ht.GetAccountBalances,Ht.SubmitRequest,Ht.ListAccountTransactions,Ht.ListAccountAssets,Ht.ResolveAccountAddress,Hm.StartSendTransactionFlow,Hm.GetFeeForTransaction,Wm.GetGenesisHash,Wm.GetLatestBlockhash,Vd.SignAndSendTransactionWithoutConfirmation]),ay=new Map([]);for(const e of ry)ay.set(e,oy);ay.set("metamask",iy);const sy=(e,t)=>{if(!e)throw new go("Origin not found");if(!ay.get(e)?.has(t))throw new go("Permission denied")};function cy(e,t){try{z(e,t)}catch(e){throw new ro(e.message)}}function uy(e,t){try{z(e,t)}catch(e){throw new Qr("Invalid Response")}}const ly=ee({...St.schema,scope:yc,request:Ff}),dy=ee({scopes:pe(K(yc)),entropySource:re(),groupIndex:he(Q(),0)});function fy(e,t){const n=t.filter((t=>!e.includes(t))),r=e.filter((e=>!t.includes(e)));return{hasDiff:n.length>0||r.length>0,added:n,deleted:r}}function hy(e,t){const n={added:{},deleted:{},changed:{},hasDiff:!1},r=(e,o,i="")=>{for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){const s=i?`${i}.${a}`:a;if(Object.prototype.hasOwnProperty.call(o,a)){if("object"==typeof e[a]&&null!==e[a]&&"object"==typeof o[a]&&null!==o[a])r(e[a],o[a],s);else if(e[a]!==o[a]){const e=s.split(".")[0];n.changed[e??a]=t[e??a],n.hasDiff=!0}}else n.deleted[s]=e[a],n.hasDiff=!0}for(const t in o)if(Object.prototype.hasOwnProperty.call(o,t)&&!Object.prototype.hasOwnProperty.call(e,t)){const e=i?`${i}.${t}`:t;n.added[e]=o[t],n.hasDiff=!0}};return r(e,t),n}function py(e){return e.split("/")[0]}function gy(e,t){return`${e}/token:${t}`}class my{#i;#f;#v;#w;#A;#b;#c;static cacheTtlsMilliseconds={tokenAccountsByOwner:5*Yo.Second};constructor({connection:e,logger:t,configProvider:n,state:r,tokenMetadataService:o,tokenPricesService:i,cache:a}){this.#i=t,this.#f=e,this.#v=n,this.#w=r,this.#A=o,this.#b=i,this.#c=a}async listAccountAssets(e){const{activeNetworks:t}=this.#v.get();return[...t.map((e=>`${e}/${oc.SOL}`)),...(await this.#S(zs(e.address),[bh,ac],t)).flatMap((e=>e.assetType))]}async#S(e,t=[bh,ac],n=[nc.Mainnet]){if(0===t.length||0===n.length)return[];const r=n.flatMap((e=>t.map((t=>({scope:e,programId:t}))))),o=oi(this.#E.bind(this),this.#c,{functionName:"AssetsService:getTokenAccountsByOwner",ttlMilliseconds:my.cacheTtlsMilliseconds.tokenAccountsByOwner});return(await Promise.all(r.map((async({scope:t,programId:n})=>await o(e,n,t))))).flat()}async#E(e,t=bh,n=nc.Mainnet){return(await this.#f.getRpc(n).getTokenAccountsByOwner(e,{programId:t},{encoding:"jsonParsed"}).send()).value.map((e=>({...e,scope:n,assetType:gy(n,e.account.data.parsed.info.mint)})))}async getAccountBalances(e,t){const n=zs(e.address),r=await this.#A.getTokensMetadata(t),o=(0,ni.uniq)((0,ni.map)(t,py)),i=[bh,ac],a=await this.#S(n,i,o),s={},c=t.map((async e=>{const{chainId:t}=Xo(e);let o;if(e.endsWith(oc.SOL))o=(await this.#f.getRpc(t).getBalance(n).send()).value;else{const t=a.find((t=>t.assetType===e));o=t?BigInt(t.account.data.parsed.info.tokenAmount.amount):BigInt(0)}const i=r[e],c=function(e,t){return new jo(e.toString()).div(10**t).toFixed()}(o,i?.units[0]?.decimals??9);s[e]={amount:c,unit:i?.symbol??"UNKNOWN"}}));await Promise.all(c);const u={...await this.#w.getKey(`assets.${e.id}`),...s};return await this.#w.setKey(`assets.${e.id}`,u),s}async refreshAssets(e){if(0===e.length)return void this.#i.info("[AssetsService] No accounts found");this.#i.log(`[AssetsService] Refreshing assets for ${e.length} accounts`);const t=await this.#w.getKey("assets")??{};for(const n of e){this.#i.log(`[AssetsService] Fetching all assets for ${n.address} in all networks`);const e=await this.listAccountAssets(n),r=t[n.id],o=Object.keys(r??{}),i=e??{},{added:a,deleted:s,hasDiff:c}=fy(o,i);c&&(this.#i.info({assetsAdded:a,assetsDeleted:s,assetsChanged:c},`[refreshAssets] Found updated assets for ${n.address}`),await vn(snap,gn.AccountAssetListUpdated,{assets:{[n.id]:{added:a,removed:s}}}));const u=await this.getAccountBalances(n,e),l=t[n.id],{added:d,deleted:f,changed:h,hasDiff:p}=hy(l??{},u);p&&(this.#i.info({balancesAdded:d,balancesDeleted:f,balancesChanged:h},`[BalancesService] Found updated balances for ${n.address}`),await vn(snap,gn.AccountBalancesUpdated,{balances:{[n.id]:{...d,...h}}}),await this.#w.setKey(`assets.${n.id}`,u))}}async getAssetsMarketData(e){return await this.#b.getMultipleTokensMarketData(e)}}function yy(e,t,n){if("string"==typeof e)throw new Error(`An HTML element ("${String(e)}") was used in a Snap component, which is not supported by Snaps UI. Please use one of the supported Snap components.`);if(!e)throw new Error("A JSX fragment was used in a Snap component, which is not supported by Snaps UI. Please use one of the supported Snap components.");return e({...t,key:n})}function vy(e,t,n){return yy(e,t,n)}const wy='<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"><image width="16" height="16" href="data:image/png;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAUFBQUFBQUGBgUICAcICAsKCQkKCxEMDQwNDBEaEBMQEBMQGhcbFhUWGxcpIBwcICkvJyUnLzkzMzlHREddXX0BBQUFBQUFBQYGBQgIBwgICwoJCQoLEQwNDA0MERoQExAQExAaFxsWFRYbFykgHBwgKS8nJScvOTMzOUdER11dff/CABEIAPoA+gMBIgACEQEDEQH/xAA1AAEAAwEBAQEBAAAAAAAAAAAAAQIHBggEBQMBAQADAQEBAQAAAAAAAAAAAAACAwQBBQYH/9oADAMBAAIQAxAAAADxkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACx204cU3mdnnYLG+IQwNvsxhgLfrRh5/egLRh59egkYefXoRCPn6mv5BH2ajuwAAAACZdFZz6/SvzfofWfLWtS2jw7WpNGO01mjJaas+P+k0tRjtNbUY38Leccnq/DxFq5f2ao7cAAAAB+36W8/9p7+DZZxp6nl7LOM3qzbLOMqs2zzjF6suyzjNqqNlnGrU5NkY7zlHP75Wjzv0mg5pAAAAAAs6jqdsMuajacMsam5HLGqORytqkxjlTVbc5lLVpjDKGsfhQlwdb1p3QAAAAAADofSXk7q/cp9MT8n0/cebe1Jpx2tS2fJNqTRkvNLUY7TWaMdqXZ8vnHPvZHmrw/u+JTGL6EAAAAABMDuvQvkLQfo6PQU55P0WLRJztTl0Sc7U5tFnOppzaOzmacujTnSrLo3x8NNFOM8zsuM+H99Aq2AAAAAATMfpWPznbNXOJdqjHi47Wec4l2jnOLdo5zi57JFxrsp5HjadRy9d0CMgAAAAJPqm+j0X8fW/oV82rPvUWRNGObUmjHe1LUZLIUY7TDPk/opk2CP5uPy+U+1qKrwAAAAPo3zPdc+23fu2/BfYXdA/AmjL+/bn1GToZ55Tl6KedmjJ0c87anL0LnuZyUTgH9fm+Q9+Bk0AAAAAAWVdWVFlRZUWVFpo4uoLxV0HAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH//EAEEQAAECAwQHBAgDBgcBAAAAAAECBAADBgURF1UQMUFRkpPSEiFSohYgIjBAYaPiBzLBEyRUYnCRFBVDRYGhstH/2gAIAQEAAT8A/qXdF0XRd8ou9a4R3aOz8AO+KUo95Uc1SyoyGcs+3OIvvPhQDrMYUWPmbzhRGFFj5m74URhRY2Zu+FEYT2NmbvhRGE1jZm84URhNY2ZvOFEYTWNmjzhRGEti5o84URhLYuaPP7IjCWxc0ecKIwksXM3nCiMJLFzN5wojCSxczd/2RGEliZm8/siKt/DthYNkTLRbWlNUqWtIKJwA7Xa8JHwFK0w6qN6EJvQ1lkGfO2AeEb1HZDRq2YNpLVrJTLkyk9lCAO4D9TtJ2nQIv0C/QDAOgGL9Lp22Yt5rl1NTLky03rWrUB+p+W2KyqubUr72SpDOSSJEonzKHiPv6dsB7UT1LduLkJuM2afyy0bzvO4RZdmtbIZSGTRHZlS069qlbVK3k6AYGkQDA0DQDonTpTaVMnTpqUSkJKlrUbkhI1kmK3rJdQuRIaKUiz5BPYB7jMV41CD3++sWx3ltv5LNqm9au9Sj+VCRrUo7hFg2IzsBhLZthftmzCO+Yvao7vkNA0AxfA0A6RAMCCpKUqJUAALySbgBFeVsLXUuzbPWQxQr25m2coH/AMiFa/f0rVK6ZmO1hkiemehIIKuwoFBvFyrjGLByIc89MYsnIxz/ALIxZORjn/ZGLJyMc89MYspyP6/2xi0nIvr/AGxi2nI/r/bGLYyL6/2xi5LyM8/7Yxbl5Gef9sYuSsjPPHTGLkrI1c8dMYuSMjXzh0xi63yRfOHTFR/iO9tpktk1bBpJWLpp7fbWtPh1CCTBJPwN3udfqk6vgKcph7Ui3KW02VKEhIK1zL9atQFwJjCu1szZ+fpjCy18zZ+fpjCu1syZefpjCu1syZefpjCq18yZ+fpjCq18yZ+fpjCm18zZ+fpjCi1s0Z+fpjCe1szZ+fpjCe1s0Z+fpjCa180Z+fpjCa1szZ+fpjCa1szZefpjCW1s0Zefpi36Etan2gdrVKcSAblqlX+wTvBAMKB7ou9/T9vPKffJctriki6bLP5Vo3H9DFl2m1tdlIetV9qXMGralW1KtxGgGAYvgQDoBi+L9A0TZUtxKmSp0tK5cwFK0K7wUnWCIrWjlU+4DltethOPsE95lK8CjB+ApipnVPPAtN62yyBPk7FDeNyhsMNHbZ+2kum04TJMxPaSobR+hG0bIEXwDpB0AwIHqO2rZ+2nNXMlM2TMR2VoVqI/Q7jsisKWn049ISVTGc4kyJvy1lCvmII9+DdFH1VNsB0JThalMJyh+1RrKD40jeIkzpLiVLnSZqZkqYkKQtJvSUnUQdAOi+BF+gHQNA0WjZzO1Wc5m8lCZKmC4jaDsUk7FDYYqWnHtOv1t56SqUq8yJwHctH/ANG2B78G4xR1ZKsLttXiVzGSzeAk3mUraUg6wdojEum9zzkp64xMprc85KeuMTKa8Lzkp64xMprwvOSnrjE2mvC85KeuMTaa8LzlJ64xNprwveSnrjE6mvC95KeuMT6Z3POSnrjE+mdzzlJ6oxOpnc85Q6oxPpjc85SeqMT6YOx5yU9cYn0xue8lPXFY1tYFuWKtk1kT1zzNQpCpqAkIuPeoHtHX8APWv9S+L4vGjVo/4+Bs6zHtquA3ZN1TphBNydgG0k9wEYfVR/Ao5qIw9qj+BRzURh/VWXDmojD6qsuHNRGH1VZcOaiMPqqy4c1EYf1Xlf1ZfVGH9WZX9VHVGH1WZX9WX1Rh9VeWfVl9UYf1blJ5qOqMP6tyo81HVGH1W5T9VHVGH1XZSeajqi0qSt+yGxdPrPXLkhQSV9pKgCd/ZJ+As6z3dpu5LVrKMybMNwA/7JOwDaYpun29PMBIRcufMuLib41bh/KNnq3iL4ECO6Bd6m0d0fiBWMp6ldj2esKkBX7xOGpage5Cd6RtPvhDRrPeOJTeRKVMnTFBKEDWSYpSmJNPNSVkLezUj9rM2Aa+wn5DadI9QQDovgQNAivK2S2TPsezZl80jsOZwP5AdaE/PeYJJ99KlrmrQhAJWSAABeSdwikaTRYklLp0Ap/MRcdolJOwfPeY1QDov0iBoBi+AdNb1l/k6FWcwX+/LR7ax/oAjZ/OYUpSiSSSSbyT3kn39BubFZv5860ZqJc5KB/h1zPyJO0/JW6PSanh/vTXjj0mp7OmvHAqens6a8celFO501449Kacztrxx6U05nbXjj0ppzPGnHHpTTeeNOOPSqnM8accelVN54044FVU3njTjj0rprPWnHAqums8accelVNZ4044qav7PYNDLsp0hy7mC4LR3oljxE7VbhE+dNcTVzpswrmLUVKUokqJOsknWfgAbovMXnfF/wAzHai+L4vMdo747R3x2jvgKO+O18zHa+cXnfBJ/rX/AP/EADQRAAEDAQUFBAkFAAAAAAAAAAIAAQQDBRIUU5IREzBCVBUjMkMGICExM0RQUqIQImFyof/aAAgBAgEBPwD6pTpnVK6A3iT2fJ+z/U8GQ3InhyG5FhqzcqehUbkW7qfYnE25eBTA6piADeIlCgNFD2/ELxIhRCiFEKIUQqq93gWXXs+NT3lQu+/qitWC/m/i6e04b+annxcxFOi5iKZGfmRSo78yORS2ftJETk+1+BRgTK4bylQMhT2XO6U12ZOb5c12dMyDTwJWQawUnKNYORlIo9YG2vS4NkWoUM92fwS/H+UziY3hRCiFEKIUQog2+9S4z0ivD4eDY9rYd9xXLu+UvtRWlA6oEVowepBFPhZ4IpsPPBFMiZ4IpUbNBHXjG2x6oKsICbsBXh4AAVQhAAvES7Om9Kel1gJnSnpdYGY3y56Vg5TeQelYSVkHpWGkZJ6Vh6+UaISF9hD64iREIj73Vh2Jg6bSKw98X4ohRCiFEKIUQqVWCPTvEq1YqxuRev6Nw4Aji5MgN5yARN7EU6D1YamRTYXVBqZFMh9QGpkUqJ1AamRSonUBqZFJi54amVaXGpgRb0FKlHKqXn8PLwNqvOrzra6vP+u36t//xAA2EQABBAEBAwkECwEAAAAAAAACAAEDBAWiEjFDBhETFDAyQkRSICFBkhYjM1BTVGBhcrHB0f/aAAgBAwEBPwD70llCGMpJC2RT5jHtxtLp85jm42l0/KDFtvsaXT8pMS3mdLp+U+HbzOl0/KvCN5vS6+l+Cbfb0uqOQq5KBp6x7Ufd7rt/ftkTA3O+5ZC0dk9lvsxRgjBGCMEYI41hMBLl7PpgDvn/AIq1aGpBHBCGzGDcw+3binmbZDuosbYfwo8VbfhosNdfhamR4PIPwtTIsBkX4GpkfJzKPug1MoOSuSmmAZI+jDxntMqVOvQrhBCGyI6v3fsHkAX95J7ELeNPbr/GVddqNxl1+m3HBPk6Db7QJ8tjvjaBRZOhNIMYWgci7GWPbZHGjBGCMFJGjBOxCTEKwmYG4HQTF9cOrsZYtv3sjryP4UdSV+EjpWH4SPH2X3QGjxlx+AaPE338qaHFZSIwOOuYkKoS2ZawPZi6OT4/97F3ZOYN4l0sbeNl08P4oJ7EDcUF1mv+YD5l1uq3mA+ZkMkcjc4GxD2DROze9GCMFICMEYIwVelJbl2B3KtWjqxDFHub260cXNtmYI3i9aNg9aMWRx86OE/Qjry+hdSnM+ZgVatHWjYQb+X6F//Z" /></svg>';function Ay(e){return Object.fromEntries(Object.entries(e).filter((([,e])=>void 0!==e)))}function by(e){return t=>{const{key:n=null,...r}=t;return{type:e,props:Ay(r),key:n}}}const Sy=by("Container"),Ey=by("Box"),xy=by("Heading"),Ty=by("Text"),ky=by("Section"),Iy=by("Row"),_y=by("Address"),Cy=by("Image"),Ry=by("Footer"),Py=by("Button");function Oy(e,t){return`${e}:${t}`}const Ny=JSON.parse('{"D":{"send.title":{"message":"Send"},"send.balance":{"message":"Balance"},"send.maxButton":{"message":"Max"},"send.cancelButton":{"message":"Cancel"},"send.continueButton":{"message":"Continue"},"send.fromField":{"message":"From"},"send.toField":{"message":"To"},"send.amountField":{"message":"Amount"},"send.assetField":{"message":"Token"},"send.toPlaceholder":{"message":"Enter public address or domain name"},"send.fromRequiredError":{"message":"Account is required"},"send.amountRequiredError":{"message":"Amount is required"},"send.amountGreatherThanMinimumBalanceForRentExemptionError":{"message":"Amount must be greater than {minimumValue}"},"send.insuffientSolToCoverFee":{"message":"Insufficient SOL balance to cover the transaction fee"},"send.toRequiredError":{"message":"To address is required"},"send.toInvalidError":{"message":"Invalid Solana address or domain name"},"send.toInvalidErrorDomain":{"message":"Unable to resolve domain name"},"send.toDomainResolutionStatus.initial":{"message":"Domain"},"send.toDomainResolutionStatus.fetching":{"message":"Resolving domain name..."},"send.toDomainResolutionStatus.fetched":{"message":"Domain name resolved."},"send.toDomainResolutionStatus.error":{"message":"Unable to resolve domain name."},"send.insufficientBalance":{"message":"Insufficient balance"},"send.simulationTitleAPIError":{"message":"Because of an error, we couldn\'t check for security alerts."},"send.simulationMessageAPIError":{"message":"Only continue if you trust every address involved."},"send.simulationTitleError":{"message":"Transaction simulation failed"},"send.simulationMessageError":{"message":"This transaction was reverted during simulation."},"send.selectedTokenPriceNotAvailable":{"message":"Prices for tokens in {currency} are currently not available. You are still able to send tokens."},"send.confirmation.title":{"message":"Review"},"send.confirmation.from":{"message":"From"},"send.confirmation.recipient":{"message":"Recipient"},"send.confirmation.network":{"message":"Network"},"send.confirmation.transactionSpeed":{"message":"Transaction speed"},"send.confirmation.fee":{"message":"Network fee"},"send.confirmation.sendButton":{"message":"Send"},"send.confirmation.cancelButton":{"message":"Cancel"},"send.confirmation.viewTransaction":{"message":"View transaction"},"send.send-pending.title":{"message":"Sending..."},"send.send-pending.subtitle":{"message":"Your transaction was submitted."},"send.transaction-success.title":{"message":"Sent"},"send.transaction-success.subtitle":{"message":"{amount} {tokenSymbol} was successfully sent"},"send.transaction-failure.title":{"message":"Transaction failed"},"send.transaction-failure.subtitle":{"message":"Unable to send {amount} {tokenSymbol}"},"confirmation.account":{"message":"Account"},"confirmation.network":{"message":"Network"},"confirmation.estimatedChanges":{"message":"Estimated changes"},"confirmation.estimatedChanges.send":{"message":"You send"},"confirmation.estimatedChanges.receive":{"message":"You receive"},"confirmation.estimatedChanges.notAvailable":{"message":"Not available"},"confirmation.estimatedChanges.noChanges":{"message":"No changes"},"confirmation.estimatedChanges.tooltip":{"message":"Estimated changes are what might happen if you go through with this transaction. This is just a prediction, not a guarantee."},"confirmation.advanced.show":{"message":"Show advanced"},"confirmation.advanced.hide":{"message":"Hide advanced"},"confirmation.cancelButton":{"message":"Cancel"},"confirmation.confirmButton":{"message":"Confirm"},"confirmation.signAndSendTransaction.title":{"message":"Transaction request"},"confirmation.signTransaction.title":{"message":"Signing request"},"confirmation.sendAndConfirmTransaction.title":{"message":"Sending and confirming transaction"},"confirmation.advanced.unknownInstruction":{"message":"Unknown"},"confirmation.advanced.programId":{"message":"Program ID"},"confirmation.advanced.data":{"message":"Data"},"confirmation.fee":{"message":"Network fee"},"confirmation.feeError":{"message":"Unable to estimate fee"},"confirmation.origin":{"message":"Request from"},"confirmation.origin.tooltip":{"message":"This is the site asking for your confirmation."},"confirmation.simulationErrorTitle":{"message":"This transaction was reverted during simulation."},"confirmation.simulationErrorSubtitle":{"message":"{reason}"},"confirmation.validationErrorTitle":{"message":"This is a deceptive request"},"confirmation.validationErrorSubtitle":{"message":"If you approve this request, a third party known for scams will take all your assets."},"confirmation.validationErrorLearnMore":{"message":"Learn more"},"confirmation.validationErrorSecurityAdviced":{"message":"Security advice by"},"confirmation.signMessage.title":{"message":"Sign message"},"confirmation.signMessage.message":{"message":"Message"},"confirmation.signIn.title":{"message":"Sign-in request"},"confirmation.signIn.description":{"message":"A site wants you to sign in to prove you own this account."},"confirmation.signIn.domain":{"message":"Domain"},"confirmation.signIn.unknownDomain":{"message":"Unknown domain"},"confirmation.signIn.signingInWith":{"message":"Signing in with"},"confirmation.signIn.badAccount":{"message":"This site is asking you to sign in using the wrong account."},"confirmation.signIn.message":{"message":"Message"},"confirmation.signIn.statement":{"message":"Statement"},"confirmation.signIn.version":{"message":"Version"},"confirmation.signIn.chainId":{"message":"Chain ID"},"confirmation.signIn.nonce":{"message":"Nonce"},"confirmation.signIn.issuedAt":{"message":"Issued at"},"confirmation.signIn.expirationTime":{"message":"Expiration time"},"confirmation.signIn.notBefore":{"message":"Not before"},"confirmation.signIn.requestId":{"message":"Request ID"},"confirmation.signIn.resources":{"message":"Resources"},"confirmation.signIn.badDomain":{"message":"This site is asking you to sign in using the wrong domain."},"transactionScan.errors.accountAlreadyInUse":{"message":"An account with the same address already exists."},"transactionScan.errors.insufficientSol":{"message":"Account does not have enough SOL to perform the operation."},"transactionScan.errors.slippageToleranceExceeded":{"message":"The transaction was reverted because the slippage tolerance was exceeded."},"transactionScan.errors.unknownError":{"message":"An unknown error occurred."}}}'),By=JSON.parse('{"D":{"send.title":{"message":"Enviar"},"send.balance":{"message":"Saldo"},"send.maxButton":{"message":"Máx."},"send.cancelButton":{"message":"Cancelar"},"send.continueButton":{"message":"Continuar"},"send.fromField":{"message":"De"},"send.toField":{"message":"Para"},"send.amountField":{"message":"Monto"},"send.assetField":{"message":"Token"},"send.toPlaceholder":{"message":"Introduzca la dirección pública"},"send.fromRequiredError":{"message":"La cuenta es obligatoria"},"send.amountRequiredError":{"message":"El monto es obligatorio"},"send.amountGreatherThanMinimumBalanceForRentExemptionError":{"message":"El valor debe ser superior a {minimumValue}"},"send.insuffientSolToCoverFee":{"message":"Saldo de SOL insuficiente para cubrir la tarifa de transacción"},"send.toRequiredError":{"message":"La dirección del destinatario es obligatoria"},"send.toInvalidError":{"message":"Dirección de Solana no válida"},"send.insufficientBalance":{"message":"Saldo insuficiente"},"send.simulationTitleAPIError":{"message":"Debido a un error, no pudimos verificar las alertas de seguridad."},"send.simulationMessageAPIError":{"message":"Continúa solo si confías en todas las direcciones involucradas."},"send.simulationTitleError":{"message":"Simulación de transacción fallida"},"send.simulationMessageError":{"message":"Esta transacción se revirtió durante la simulación."},"send.selectedTokenPriceNotAvailable":{"message":"Los precios de los tokens en {currency} no están disponibles actualmente. Aún puede enviar tokens."},"send.confirmation.title":{"message":"Revisar"},"send.confirmation.from":{"message":"De"},"send.confirmation.recipient":{"message":"Destinatario"},"send.confirmation.network":{"message":"Red"},"send.confirmation.transactionSpeed":{"message":"Velocidad de la transacción"},"send.confirmation.fee":{"message":"Tarifa de red"},"send.confirmation.sendButton":{"message":"Enviar"},"send.confirmation.cancelButton":{"message":"Cancelar"},"send.confirmation.viewTransaction":{"message":"Ver transacción"},"send.send-pending.title":{"message":"Enviando..."},"send.send-pending.subtitle":{"message":"Se envió su transacción."},"send.transaction-success.title":{"message":"Enviado"},"send.transaction-success.subtitle":{"message":"El envío de {amount} {tokenSymbol} se realizó correctamente"},"send.transaction-failure.title":{"message":"Transacción fallida"},"send.transaction-failure.subtitle":{"message":"Error al enviar {amount} {tokenSymbol}"},"confirmation.account":{"message":"Cuenta"},"confirmation.network":{"message":"Red"},"confirmation.estimatedChanges":{"message":"Cambios estimados"},"confirmation.estimatedChanges.send":{"message":"Usted envía"},"confirmation.estimatedChanges.receive":{"message":"Usted recibe"},"confirmation.estimatedChanges.notAvailable":{"message":"No disponible"},"confirmation.estimatedChanges.noChanges":{"message":"Sin cambios"},"confirmation.estimatedChanges.tooltip":{"message":"Los cambios estimados son los que podrían producirse si sigue adelante con esta transacción. Esto es solo una predicción, no una garantía."},"confirmation.advanced.show":{"message":"Mostrar avanzadas"},"confirmation.advanced.hide":{"message":"Ocultar avanzadas"},"confirmation.cancelButton":{"message":"Cancelar"},"confirmation.confirmButton":{"message":"Confirmar"},"confirmation.signAndSendTransaction.title":{"message":"Solicitud de transacción"},"confirmation.signTransaction.title":{"message":"Signing request"},"confirmation.sendAndConfirmTransaction.title":{"message":"Sending and confirming transaction"},"confirmation.advanced.unknownInstruction":{"message":"Desconocida"},"confirmation.advanced.programId":{"message":"ID del programa"},"confirmation.advanced.data":{"message":"Datos"},"confirmation.fee":{"message":"Tarifa de red"},"confirmation.feeError":{"message":"No se puede calcular la tarifa"},"confirmation.origin":{"message":"Solicitud de"},"confirmation.origin.tooltip":{"message":"This is the site asking for your confirmation."},"confirmation.simulationErrorTitle":{"message":"Esta transacción se revirtió durante la simulación."},"confirmation.simulationErrorSubtitle":{"message":"Motivo: {reason}"},"confirmation.validationErrorTitle":{"message":"Esta es una solicitud engañosa"},"confirmation.validationErrorSubtitle":{"message":"Si aprueba esta solicitud, un tercero conocido por sus estafas se quedará con todos sus activos."},"confirmation.validationErrorLearnMore":{"message":"Conozca más"},"confirmation.validationErrorSecurityAdviced":{"message":"Asesoramiento de seguridad por"},"confirmation.signMessage.title":{"message":"Firmar mensaje"},"confirmation.signMessage.message":{"message":"Mensaje"},"confirmation.signIn.title":{"message":"Solicitud de inicio de sesión"},"confirmation.signIn.description":{"message":"Un sitio quiere que inicie sesión para demostrar que usted es el titular de esta cuenta."},"confirmation.signIn.domain":{"message":"Domain"},"confirmation.signIn.unknownDomain":{"message":"Dominio desconocido"},"confirmation.signIn.signingInWith":{"message":"Iniciar sesión con"},"confirmation.signIn.badAccount":{"message":"Este sitio le pide que inicie sesión con la cuenta incorrecta."},"confirmation.signIn.message":{"message":"Mensaje"},"confirmation.signIn.statement":{"message":"Declaración"},"confirmation.signIn.version":{"message":"Versión"},"confirmation.signIn.chainId":{"message":"ID de cadena"},"confirmation.signIn.nonce":{"message":"Nonce"},"confirmation.signIn.issuedAt":{"message":"Emitido a las"},"confirmation.signIn.expirationTime":{"message":"Hora de caducidad"},"confirmation.signIn.notBefore":{"message":"No antes de"},"confirmation.signIn.requestId":{"message":"ID de solicitud"},"confirmation.signIn.resources":{"message":"Recursos"},"confirmation.signIn.badDomain":{"message":"This site is asking you to sign in using the wrong domain."},"transactionScan.errors.accountAlreadyInUse":{"message":"Ya existe una cuenta con la misma dirección."},"transactionScan.errors.insufficientSol":{"message":"La cuenta no tiene suficiente SOL para realizar la operación."},"transactionScan.errors.slippageToleranceExceeded":{"message":"La transacción se revirtió porque se superó la tolerancia de deslizamiento."},"transactionScan.errors.unknownError":{"message":"An unknown error occurred."}}}'),zy={en:Ny.D,es:By.D},My="en";function jy(e){const t=zy[e]??zy[My];return(e,n)=>{let r=t?.[e]?.message??e;return n&&r&&Object.keys(n).forEach((e=>{const t=new RegExp(`\\{${e}\\}`,"gu");r=r.replace(t,n[e]??"")})),r}}const Uy=({label:e,value:t})=>null!=t?vy(Ey,{alignment:"space-between",direction:"horizontal",children:[yy(Ty,{fontWeight:"medium",color:"alternative",children:e}),yy(Ty,{children:t})]}):null,Dy=1e-6,Ly=3,$y="0",Fy=new jo(Dy).decimalPlaces();function qy(e,t){const[n]=t.split("_");try{const r=new jo(e);if(r.isNaN())return $y;if(r.isZero())return $y;if(r.abs().lt(Dy))return`<${function(e,t){const n=new jo(t),r=n.decimalPlaces(),o=n.toFixed(r??0),[i]=e.split("_"),[a,s]=o.split("."),c=new Intl.NumberFormat(i).format(a);return s?`${c}.${s}`:c}(t,Dy)}`;if(r.abs().lt(1))return new Intl.NumberFormat(n,{maximumSignificantDigits:Ly}).format(Number(r.toFixed(Fy??0)));const o=r.abs().integerValue().toString().length,i=Math.max(0,Ly-o+1);return new Intl.NumberFormat(t,{maximumFractionDigits:i}).format(r.toFixed(i))}catch(e){return console.error(e),$y}}function Wy(e,t,n){const r=new jo(e).toNumber(),[o]=n.split("_");return r.toLocaleString(o,{style:"currency",currency:t,maximumFractionDigits:2,minimumFractionDigits:2})}const Vy=({asset:e,preferences:t})=>{const n=e.type;return vy(Ey,{direction:"vertical",crossAlignment:"end",children:[vy(Ey,{direction:"horizontal",alignment:"center",children:[vy(Ty,{color:"in"===n?"success":"error",children:["in"===n?"+":"-",qy(e.value??0,t.locale)]}),e.imageSvg?yy(Ey,{alignment:"center",center:!0,children:yy(Cy,{borderRadius:"full",src:e.imageSvg})}):null,yy(Ty,{children:e.symbol??""})]}),e.price?yy(Ty,{color:"muted",children:Wy(e.price.toString(),t.currency,t.locale)}):null]})},Ky=by("Tooltip");var Gy;!function(e){e.AddSquare="add-square",e.Add="add",e.Arrow2Down="arrow-2-down",e.Arrow2Left="arrow-2-left",e.Arrow2Right="arrow-2-right",e.Arrow2Up="arrow-2-up",e.Arrow2UpRight="arrow-2-up-right",e.ArrowDoubleLeft="arrow-double-left",e.ArrowDoubleRight="arrow-double-right",e.ArrowDown="arrow-down",e.ArrowLeft="arrow-left",e.ArrowRight="arrow-right",e.ArrowUp="arrow-up",e.BankToken="bank-token",e.Bank="bank",e.Book="book",e.Bookmark="bookmark",e.Bridge="bridge",e.Calculator="calculator",e.CardPos="card-pos",e.CardToken="card-token",e.Card="card",e.Category="category",e.Chart="chart",e.CheckBold="check-bold",e.Check="check",e.Clock="clock",e.Close="close",e.CodeCircle="code-circle",e.Coin="coin",e.Confirmation="confirmation",e.Connect="connect",e.CopySuccess="copy-success",e.Copy="copy",e.Customize="customize",e.Danger="danger",e.Dark="dark",e.Data="data",e.Diagram="diagram",e.DocumentCode="document-code",e.DragDrop="drag-drop",e.DraggingAnimation="dragging-animation",e.PinningAnimation="pinning-animation",e.Edit="edit",e.Eraser="eraser",e.Ethereum="ethereum",e.Expand="expand",e.Explore="explore",e.Export="export",e.EyeSlash="eye-slash",e.Eye="eye",e.Filter="filter",e.Flag="flag",e.FlashSlash="flash-slash",e.Flash="flash",e.FullCircle="full-circle",e.Gas="gas",e.GlobalSearch="global-search",e.Global="global",e.Graph="graph",e.Hardware="hardware",e.Heart="heart",e.Hierarchy="hierarchy",e.Home="home",e.Import="import",e.Info="info",e.Key="key",e.Light="light",e.Link="link",e.Loading="loading",e.LockCircle="lock-circle",e.LockSlash="lock-slash",e.Lock="lock",e.Login="login",e.Logout="logout",e.Menu="menu",e.MessageQuestion="message-question",e.Messages="messages",e.MinusBold="minus-bold",e.MinusSquare="minus-square",e.Minus="minus",e.Mobile="mobile",e.Money="money",e.Monitor="monitor",e.MoreHorizontal="more-horizontal",e.MoreVertical="more-vertical",e.NotificationCircle="notification-circle",e.Notification="notification",e.PasswordCheck="password-check",e.People="people",e.Pin="pin",e.ProgrammingArrows="programming-arrows",e.Custody="custody",e.Question="question",e.Received="received",e.Refresh="refresh",e.Save="save",e.ScanBarcode="scan-barcode",e.ScanFocus="scan-focus",e.Scan="scan",e.Scroll="scroll",e.Search="search",e.SecurityCard="security-card",e.SecurityCross="security-cross",e.SecurityKey="security-key",e.SecuritySearch="security-search",e.SecuritySlash="security-slash",e.SecurityTick="security-tick",e.SecurityTime="security-time",e.SecurityUser="security-user",e.Security="security",e.Send1="send-1",e.Send2="send-2",e.Setting="setting",e.Slash="slash",e.SnapsMobile="snaps-mobile",e.SnapsPlus="snaps-plus",e.Snaps="snaps",e.Speedometer="speedometer",e.Star="star",e.Stake="stake",e.Student="student",e.SwapHorizontal="swap-horizontal",e.SwapVertical="swap-vertical",e.Tag="tag",e.Tilde="tilde",e.Timer="timer",e.Trash="trash",e.TrendDown="trend-down",e.TrendUp="trend-up",e.UserCircleAdd="user-circle-add",e.UserCircleLink="user-circle-link",e.UserCircleRemove="user-circle-remove",e.UserCircle="user-circle",e.User="user",e.WalletCard="wallet-card",e.WalletMoney="wallet-money",e.Wallet="wallet",e.Warning="warning",e.Twitter="twitter",e.QrCode="qr-code",e.UserCheck="user-check",e.Unpin="unpin",e.Ban="ban",e.Bold="bold",e.CircleX="circle-x",e.Download="download",e.FileIcon="file",e.Flask="flask",e.Plug="plug",e.Share="share",e.Square="square",e.Tint="tint",e.Upload="upload",e.Usb="usb",e.Wifi="wifi",e.PlusMinus="plus-minus"}(Gy||(Gy={}));const Hy=by("Icon"),Jy=({preferences:e})=>{const t=jy(e.locale);return vy(Ey,{direction:"horizontal",center:!0,children:[yy(Ty,{fontWeight:"medium",children:t("confirmation.estimatedChanges")}),yy(Ky,{content:t("confirmation.estimatedChanges.tooltip"),children:yy(Hy,{name:"info"})})]})},Zy=by("Skeleton"),Yy=({preferences:e})=>{const t=jy(e.locale);return vy(ky,{direction:"vertical",children:[yy(Jy,{preferences:e}),vy(Ey,{alignment:"space-between",direction:"horizontal",children:[yy(Ty,{fontWeight:"medium",color:"alternative",children:t("confirmation.estimatedChanges.send")}),yy(Ey,{children:vy(Ey,{direction:"vertical",crossAlignment:"end",children:[yy(Zy,{width:100,height:20}),yy(Zy,{width:40,height:20})]})})]}),vy(Ey,{alignment:"space-between",direction:"horizontal",children:[yy(Ty,{fontWeight:"medium",color:"alternative",children:t("confirmation.estimatedChanges.receive")}),yy(Ey,{children:vy(Ey,{direction:"vertical",crossAlignment:"end",children:[yy(Zy,{width:100,height:20}),yy(Zy,{width:40,height:20})]})})]})]})},Xy=({changes:e,preferences:t,scanFetchStatus:n,scanStatus:r})=>{const o=jy(t.locale),i="fetched"===n,a="error"===n;if("fetching"===n)return yy(Yy,{preferences:t});if(a||i&&"ERROR"===r)return vy(ky,{direction:"vertical",children:[yy(Jy,{preferences:t}),yy(Ty,{color:"alternative",children:o("confirmation.estimatedChanges.notAvailable")})]});const s=e?.assets.filter((e=>"out"===e.type))??[],c=e?.assets.filter((e=>"in"===e.type))??[],u=s.length>0||c.length>0;return vy(ky,i&&!u?{direction:"vertical",children:[yy(Jy,{preferences:t}),yy(Ty,{color:"alternative",children:o("confirmation.estimatedChanges.noChanges")})]}:{children:[yy(Jy,{preferences:t}),s?.length>0?vy(Ey,{alignment:"space-between",direction:"horizontal",children:[yy(Ty,{fontWeight:"medium",color:"alternative",children:o("confirmation.estimatedChanges.send")}),yy(Ey,{children:yy(Ey,{children:s?.map((e=>yy(Vy,{asset:e,preferences:t})))})})]}):null,yy(Ey,{children:null}),c?.length>0?vy(Ey,{alignment:"space-between",direction:"horizontal",children:[yy(Ty,{fontWeight:"medium",color:"alternative",children:o("confirmation.estimatedChanges.receive")}),yy(Ey,{children:yy(Ey,{children:c?.map((e=>yy(Vy,{asset:e,preferences:t})))})})]}):null]})};var Qy=function(e){return e.Cancel="confirm-sign-in-cancel",e.Confirm="confirm-sign-in-confirm",e}({});const ev={"confirm-sign-in-cancel":async function({id:e}){await Lm(e,!1)},"confirm-sign-in-confirm":async function({id:e}){await Lm(e,!0)}},tv=({params:e,origin:t,account:n,scope:r,preferences:o,networkImage:i})=>{const a=jy(o.locale),s=t?new URL(t).hostname:null,{domain:c,statement:u,uri:l,version:d,chainId:f,nonce:h,issuedAt:p,expirationTime:g,notBefore:m,requestId:y,resources:v,address:w}=e,A=Oy(r,n.address),b=w?Oy(r,w):null,S=b!==A,E=c!==s;return vy(Sy,{children:[vy(Ey,{children:[vy(Ey,{alignment:"center",center:!0,children:[yy(Ey,{children:null}),yy(xy,{size:"lg",children:a("confirmation.signIn.title")}),yy(Ty,{color:"muted",alignment:"center",children:a("confirmation.signIn.description")})]}),o.simulateOnChainActions?yy(Xy,{changes:null,scanStatus:null,preferences:o,scanFetchStatus:"fetched"}):null,vy(ky,{children:[s?yy(Iy,{label:a("confirmation.origin"),tooltip:a("confirmation.origin.tooltip"),children:yy(Ty,{children:s})}):null,yy(Iy,{variant:E?"critical":"default",label:a("confirmation.signIn.domain"),tooltip:E?a("confirmation.signIn.badDomain"):void 0,children:yy(Ty,{children:c??a("confirmation.signIn.unknownDomain")})}),yy(Iy,{label:a("confirmation.signIn.signingInWith"),tooltip:S?a("confirmation.signIn.badAccount"):void 0,variant:S?"warning":"default",children:yy(_y,{address:A,truncate:!0,displayName:!0,avatar:!0})})]}),vy(ky,{children:[yy(Ty,{fontWeight:"medium",children:a("confirmation.signIn.message")}),yy(Ty,{children:u??""}),yy(Uy,{label:"URL",value:l}),vy(Ey,{alignment:"space-between",direction:"horizontal",children:[yy(Ty,{fontWeight:"medium",color:"alternative",children:a("confirmation.network")}),vy(Ey,{direction:"horizontal",alignment:"center",children:[yy(Ey,{alignment:"center",center:!0,children:yy(Cy,{borderRadius:"medium",src:i??wy})}),yy(Ty,{children:sc[r].name})]})]}),b?vy(Ey,{alignment:"space-between",direction:"horizontal",children:[yy(Ty,{fontWeight:"medium",color:"alternative",children:a("confirmation.account")}),yy(_y,{address:b,truncate:!0,displayName:!0,avatar:!0})]}):null,yy(Uy,{label:a("confirmation.signIn.version"),value:d}),yy(Uy,{label:a("confirmation.signIn.chainId"),value:f}),yy(Uy,{label:a("confirmation.signIn.nonce"),value:h}),yy(Uy,{label:a("confirmation.signIn.issuedAt"),value:p}),yy(Uy,{label:a("confirmation.signIn.expirationTime"),value:g}),yy(Uy,{label:a("confirmation.signIn.notBefore"),value:m}),yy(Uy,{label:a("confirmation.signIn.requestId"),value:y}),v&&v.length>0?vy(Ey,{alignment:"space-between",direction:"vertical",children:[yy(Ty,{fontWeight:"medium",color:"alternative",children:a("confirmation.signIn.resources")}),yy(Ey,{direction:"vertical",children:v.map((e=>yy(Ty,{children:e},e)))})]}):null]})]}),vy(Ry,{children:[yy(Py,{name:Qy.Cancel,children:a("confirmation.cancelButton")}),yy(Py,{name:Qy.Confirm,variant:E?"destructive":"primary",children:a("confirmation.confirmButton")})]})]})};var nv=function(e){return e.Cancel="confirm-sign-message-cancel",e.Confirm="confirm-sign-message-confirm",e}({});const rv={"confirm-sign-message-cancel":async function({id:e}){await Lm(e,!1)},"confirm-sign-message-confirm":async function({id:e}){await Lm(e,!0)}},ov=({message:e,account:t,scope:n,locale:r,networkImage:o,origin:i})=>{const a=jy(r),{address:s}=t,c=i?new URL(i).hostname:null,u=Oy(n,s);return vy(Sy,{children:[vy(Ey,{children:[vy(Ey,{alignment:"center",center:!0,children:[yy(Ey,{children:null}),yy(xy,{size:"lg",children:a("confirmation.signMessage.title")})]}),vy(ky,{children:[yy(Ey,{direction:"horizontal",center:!0,children:yy(Ty,{fontWeight:"medium",children:a("confirmation.signMessage.message")})}),yy(Ey,{alignment:"space-between",children:yy(Ty,{children:e})})]}),vy(ky,{children:[c?vy(Ey,{alignment:"space-between",direction:"horizontal",children:[vy(Ey,{alignment:"space-between",direction:"horizontal",center:!0,children:[yy(Ty,{fontWeight:"medium",color:"alternative",children:a("confirmation.origin")}),yy(Ky,{content:a("confirmation.origin.tooltip"),children:yy(Hy,{name:"question",color:"muted"})})]}),yy(Ty,{children:c})]}):null,vy(Ey,{alignment:"space-between",direction:"horizontal",children:[yy(Ty,{fontWeight:"medium",color:"alternative",children:a("confirmation.account")}),yy(_y,{address:u,truncate:!0,displayName:!0,avatar:!0})]}),vy(Ey,{alignment:"space-between",direction:"horizontal",children:[yy(Ty,{fontWeight:"medium",color:"alternative",children:a("confirmation.network")}),vy(Ey,{direction:"horizontal",alignment:"center",children:[yy(Ey,{alignment:"center",center:!0,children:yy(Cy,{borderRadius:"medium",src:o??wy})}),yy(Ty,{children:sc[n].name})]})]})]})]}),vy(Ry,{children:[yy(Py,{name:nv.Cancel,children:a("confirmation.cancelButton")}),yy(Py,{name:nv.Confirm,children:a("confirmation.confirmButton")})]})]})};const iv=e=>jo(e.toString()).dividedBy(ec),av=e=>jo(e.toString()).multipliedBy(ec).integerValue(jo.ROUND_DOWN);var sv=function(e){return e.ShowAdvanced="confirm-sign-and-send-transaction-show-advanced",e.Cancel="confirm-sign-and-send-transaction-cancel",e.Confirm="confirm-sign-and-send-transaction-confirm",e}({});const cv={"confirm-sign-and-send-transaction-show-advanced":async function({id:e,context:t}){const n={...t,advanced:{...t.advanced,shown:!t.advanced.shown}};await Dm(e,yy(Ev,{context:n}),n)},"confirm-sign-and-send-transaction-cancel":async function({id:e}){await Lm(e,!1)},"confirm-sign-and-send-transaction-confirm":async function({id:e}){await Lm(e,!0)}},uv=by("Link");function lv(e,t,n){const{cluster:r}=sc[e];return Ec({baseUrl:"https://solscan.io",path:`/${t}/${n}`,queryParams:r?{cluster:r}:void 0})}const dv=e=>e.replace(/([A-Z])/gu," $1").trim().replace(/^./u,(e=>e.toUpperCase())),fv=({address:e,scope:t})=>yy(uv,{href:lv(t,"address",e),children:yy(_y,{avatar:!1,address:Oy(t,e),truncate:!0})}),hv=({instruction:e,scope:t,locale:n})=>{const r=jy(n),{type:o,encoded:i,parsed:a}=e,{programAddress:s,dataBase58:c}=i,u=null!==a,l=dv(o);return vy(ky,{alignment:"start",children:[yy(Ty,{color:"alternative",fontWeight:"bold",children:l}),vy(Ey,{alignment:"space-between",direction:"horizontal",children:[yy(Ty,{color:"alternative",alignment:"start",children:r("confirmation.advanced.programId")}),yy(fv,{address:s,scope:t})]}),u&&Object.entries(a.accounts??{}).map((([e,n])=>vy(Ey,{alignment:"space-between",direction:"horizontal",children:[yy(Ty,{color:"alternative",children:dv(e)}),Ns(n.address)?yy(fv,{address:n.address,scope:t}):yy(Ty,{children:Bm(n.address)?.toString()??""})]}))),u&&Object.entries(a.data).map((([e,n])=>vy(Ey,{alignment:"space-between",direction:"horizontal",children:[yy(Ty,{color:"alternative",children:dv(e)}),Ns(n)?yy(fv,{address:n,scope:t}):yy(Ty,{children:Bm(n)?.toString()??""})]}))),!u&&vy(Ey,{alignment:"space-between",direction:"horizontal",children:[yy(Ty,{color:"alternative",children:r("confirmation.advanced.data")}),yy(Ty,{children:(d=c,d.length>12?`${d.slice(0,5)}...${d.slice(-5)}`:d)})]})]});var d},pv=({instructions:e,showInstructions:t,locale:n,scope:r})=>{const o=jy(n),i=t?"hide":"show",a=t?"arrow-up":"arrow-down";return vy(Ey,{alignment:"start",children:[vy(Py,{name:sv.ShowAdvanced,children:[o(`confirmation.advanced.${i}`),"&nbsp;",yy(Hy,{name:a,color:"primary"})]}),t&&yy(Ey,{children:e.map((e=>yy(hv,{locale:n,scope:r,instruction:e})))})]})},gv=by("Banner"),mv={AccountAlreadyInUse:"transactionScan.errors.accountAlreadyInUse",ResultWithNegativeLamports:"transactionScan.errors.insufficientSol",SlippageToleranceExceeded:"transactionScan.errors.slippageToleranceExceeded",ExceededDesiredSlippageLimit:"transactionScan.errors.slippageToleranceExceeded"};function yv(e,t){const n=jy(t.locale),{code:r}=e;return n((r&&mv[r])??"transactionScan.errors.unknownError")}const vv={Malicious:"danger",Warning:"warning"},wv=({preferences:e,validation:t,error:n,scanFetchStatus:r})=>{const o=jy(e.locale);if("error"===r)return yy(gv,{title:o("send.simulationTitleAPIError"),severity:"danger",children:yy(Ty,{children:o("send.simulationMessageAPIError")})});if(!n&&!t)return yy(Ey,{children:null});if(n)return yy(gv,{title:o("confirmation.simulationErrorTitle"),severity:"warning",children:yy(Ty,{children:o("confirmation.simulationErrorSubtitle",{reason:yv(n,e)})})});if(!t)return yy(Ey,{children:null});const i=t?.type?vv[t.type]:void 0;return i?vy(gv,{title:o("confirmation.validationErrorTitle"),severity:i,children:[yy(Ty,{children:o("confirmation.validationErrorSubtitle")}),yy(Ty,{size:"sm",children:yy(uv,{href:"https://support.metamask.io/configure/wallet/how-to-turn-on-security-alerts/",children:o("confirmation.validationErrorLearnMore")})}),vy(Ty,{size:"sm",children:[yy(Hy,{color:"primary",name:"security-tick"})," ",o("confirmation.validationErrorSecurityAdviced")," ",yy(uv,{href:"https://www.blockaid.io",children:"Blockaid"})]})]}):yy(Ey,{children:null})};function Av(e,t,n){return`${qy(e,n)} ${t}`}function bv(e,t){return new jo(e).multipliedBy(t).toString()}const Sv=({origin:e,accountAddress:t,scope:n,feeInSol:r,nativePrice:o,fetchingPricesStatus:i,preferences:a,networkImage:s})=>{const{currency:c,locale:u}=a,l=jy(u),d=e?new URL(e).hostname:null,f="fetching"===i,h=r&&o&&!("error"===i)?Wy(bv(r,o),c,u):"";return vy(ky,{children:[d?vy(Ey,{children:[vy(Ey,{alignment:"space-between",direction:"horizontal",children:[vy(Ey,{alignment:"space-between",direction:"horizontal",center:!0,children:[yy(Ty,{fontWeight:"medium",color:"alternative",children:l("confirmation.origin")}),yy(Ky,{content:l("confirmation.origin.tooltip"),children:yy(Hy,{name:"question",color:"muted"})})]}),yy(Ty,{children:d})]}),yy(Ey,{children:null})]}):null,vy(Ey,{alignment:"space-between",direction:"horizontal",children:[yy(Ty,{fontWeight:"medium",color:"alternative",children:l("confirmation.account")}),yy(_y,{address:Oy(n,t),truncate:!0,displayName:!0,avatar:!0})]}),yy(Ey,{children:null}),vy(Ey,{alignment:"space-between",direction:"horizontal",children:[yy(Ty,{fontWeight:"medium",color:"alternative",children:l("confirmation.network")}),vy(Ey,{direction:"horizontal",alignment:"center",children:[yy(Ey,{alignment:"center",center:!0,children:yy(Cy,{borderRadius:"medium",src:s??""})}),yy(Ty,{children:sc[n].name})]})]}),yy(Ey,{children:null}),vy(Ey,{alignment:"space-between",direction:"horizontal",children:[yy(Ty,{fontWeight:"medium",color:"alternative",children:l("confirmation.fee")}),r?vy(Ey,{direction:"horizontal",alignment:"center",children:[f?yy(Zy,{width:80}):yy(Ty,{color:"muted",children:h}),yy(Ty,{children:Av(r,sc[n].nativeToken.symbol,u)})]}):yy(Ky,{content:l("confirmation.feeError"),children:yy(Hy,{name:"warning"})})]})]})},Ev=({context:e})=>{const t=jy(e.preferences.locale),n=e.feeEstimatedInSol,{nativeToken:r}=sc[e.scope],o=e.tokenPrices[r.caip19Id]?.price??null,i="fetching"===e.scanFetchStatus||"ERROR"===e.scan?.status;return vy(Sy,{children:[vy(Ey,{children:[e.preferences.useSecurityAlerts?yy(wv,{scanFetchStatus:e.scanFetchStatus,validation:e.scan?.validation??null,error:e.scan?.error??null,preferences:e.preferences}):null,vy(Ey,{alignment:"center",center:!0,children:[yy(Ey,{children:null}),yy(xy,{size:"lg",children:t(`confirmation.${e.method}.title`)}),yy(Ey,{children:null})]}),e.preferences.simulateOnChainActions?yy(Xy,{scanStatus:e.scan?.status??null,scanFetchStatus:e.scanFetchStatus,changes:e.scan?.estimatedChanges??null,preferences:e.preferences}):null,yy(Sv,{accountAddress:e.account?.address??null,scope:e.scope,feeInSol:n,nativePrice:o,fetchingPricesStatus:e.tokenPricesFetchStatus,preferences:e.preferences,networkImage:e.networkImage,origin:e.origin}),yy(pv,{instructions:e.advanced.instructions,showInstructions:e.advanced.shown,locale:e.preferences.locale,scope:e.scope})]}),vy(Ry,{children:[yy(Py,{name:sv.Cancel,children:t("confirmation.cancelButton")}),yy(Py,{name:sv.Confirm,disabled:i,children:t("confirmation.confirmButton")})]})]})},xv={method:Ft.SignAndSendTransaction,scope:nc.Mainnet,networkImage:wy,account:null,transaction:"",scan:null,scanFetchStatus:"fetching",feeEstimatedInSol:"0",tokenPrices:{},tokenPricesFetchStatus:"fetching",origin:"",preferences:{locale:"en",currency:"usd",hideBalances:!1,useSecurityAlerts:!0,useExternalPricingData:!0,simulateOnChainActions:!0,useTokenDetection:!0,batchCheckBalances:!0,displayNftMedia:!0,useNftDetection:!0},advanced:{shown:!1,instructions:[]}};var Tv=function(e){return e.OnTransactionAdded="onTransactionAdded",e.OnTransactionApproved="onTransactionApproved",e.OnTransactionRejected="onTransactionRejected",e.OnAccountsRefresh="onAccountsRefresh",e}({});function kv(e){return JSON.parse(function(e){const t=[];let n=!1;for(let r=0;r<e.length;r++){let o=!1;if("\\"===e[r]&&(t.push(e[r++]),o=!o),'"'!==e[r]){if(!n){const n=Iv(e,r);if(n?.length){r+=n.length-1,n.match(/\.|[eE]-/)?t.push(n):t.push(_v(n));continue}}t.push(e[r])}else t.push(e[r]),o||(n=!n)}return t.join("")}(e),((e,t)=>function(e){return!!e&&"object"==typeof e&&"$n"in e&&"string"==typeof e.$n}(t)?function({$n:e}){if(e.match(/[eE]/)){const[t,n]=e.split(/[eE]/);return BigInt(t)*BigInt(10)**BigInt(n)}return BigInt(e)}(t):t))}function Iv(e,t){if(!e[t]?.match(/[-\d]/))return null;const n=e.slice(t).match(/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?/);return n?n[0]:null}function _v(e){return`{"$n":"${e}"}`}var Cv=0n;function Rv(){const e=Cv;return Cv++,e.toString()}function Pv(e){return function(e){return new Proxy(e.api,{defineProperty:()=>!1,deleteProperty:()=>!1,get:(t,n,r)=>function(...o){const i=n.toString(),a=Reflect.get(t,i,r);if(!a)throw new Ba(_a,{method:i,params:o});const s=a(...o);return function({transport:e},t){return{send:async n=>await t.execute({signal:n?.abortSignal,transport:e})}}(e,s)}})}(e)}function Ov(e){return new Proxy({},{defineProperty:()=>!1,deleteProperty:()=>!1,get(...t){const[n,r]=t,o=r.toString();return function(...t){const n=Object.freeze({methodName:o,params:t}),r=e?.requestTransformer?e?.requestTransformer(n):n;return Object.freeze({execute:async({signal:t,transport:n})=>{const o=function(e){return{id:Rv(),jsonrpc:"2.0",method:e.methodName,params:e.params}}(r),i=await n({payload:o,signal:t});return e?.responseTransformer?e.responseTransformer(i,r):i}})}}})}function Nv(e){return null!=e&&"object"==typeof e&&!Array.isArray(e)&&("jsonrpc"in e&&"2.0"===e.jsonrpc&&"method"in e&&"string"==typeof e.method&&"params"in e)}var Bv={};function zv(e){return function t(n,r){if(Array.isArray(n))return n.map(((e,n)=>{const o={...r,keyPath:[...r.keyPath,n]};return t(e,o)}));if("object"==typeof n&&null!==n){const e={};for(const o in n){if(!Object.prototype.hasOwnProperty.call(n,o))continue;const i={...r,keyPath:[...r.keyPath,o]};e[o]=t(n[o],i)}return e}return e.reduce(((e,t)=>t(e,r)),n)}}function Mv(e,t){return n=>{const r=zv(e);return Object.freeze({...n,params:r(n.params,t)})}}function jv(e){return"bigint"==typeof e?Number(e):e}function Uv({commitmentPropertyName:e,params:t,optionsObjectPositionInParams:n,overrideCommitment:r}){const o=t[n];if(void 0===o||o&&"object"==typeof o&&!Array.isArray(o))if(o&&e in o){if(!o[e]||"finalized"===o[e]){const r=[...t],{[e]:i,...a}=o;return Object.keys(a).length>0?r[n]=a:n===r.length-1?r.length--:r[n]=void 0,r}}else if("finalized"!==r){const i=[...t];return i[n]={...o,[e]:r},i}return t}function Dv(e){return(t,{keyPath:n})=>("bigint"==typeof t&&e&&(t>Number.MAX_SAFE_INTEGER||t<-Number.MAX_SAFE_INTEGER)&&e(n,t),t)}var Lv={accountNotifications:1,blockNotifications:1,getAccountInfo:1,getBalance:1,getBlock:1,getBlockHeight:0,getBlockProduction:0,getBlocks:2,getBlocksWithLimit:2,getEpochInfo:0,getFeeForMessage:1,getInflationGovernor:0,getInflationReward:1,getLargestAccounts:0,getLatestBlockhash:0,getLeaderSchedule:1,getMinimumBalanceForRentExemption:1,getMultipleAccounts:1,getProgramAccounts:1,getSignaturesForAddress:1,getSlot:0,getSlotLeader:0,getStakeMinimumDelegation:0,getSupply:0,getTokenAccountBalance:1,getTokenAccountsByDelegate:2,getTokenAccountsByOwner:2,getTokenLargestAccounts:1,getTokenSupply:1,getTransaction:1,getTransactionCount:0,getVoteAccounts:0,isBlockhashValid:1,logsNotifications:1,programNotifications:1,requestAirdrop:2,sendTransaction:1,signatureNotifications:1,simulateTransaction:1};function $v(e){const t=e?.onIntegerOverflow;return n=>{return $u(n,t?(r=t,e=>Mv([Dv(((...t)=>r(e,...t)))],{keyPath:[]})(e)):e=>e,Mv([jv],{keyPath:[]}),function({defaultCommitment:e,optionsObjectPositionByMethod:t}){return n=>{const{params:r,methodName:o}=n;if(!Array.isArray(r))return n;const i=t[o];return null==i?n:Object.freeze({methodName:o,params:Uv({commitmentPropertyName:"sendTransaction"===o?"preflightCommitment":"commitment",optionsObjectPositionInParams:i,overrideCommitment:e,params:r})})}}({defaultCommitment:e?.defaultCommitment,optionsObjectPositionByMethod:Lv}));var r}}function Fv(e){return t=[qv(e)],n={keyPath:[]},e=>zv(t)(e,n);var t,n}function qv(e){return function(t,{keyPath:n}){return"number"==typeof t&&Number.isInteger(t)||"bigint"==typeof t?function(e,t){return t.some((t=>{if(t.length!==e.length)return!1;for(let n=e.length-1;n>=0;n--){const r=e[n],o=t[n];if(o!==r&&(o!==Bv||"number"!=typeof r))return!1}return!0}))}(n,e)?Number(t):BigInt(t):t}}function Wv(e){return(t,n)=>{const r=n.methodName,o=e?.allowedNumericKeyPaths&&r?e.allowedNumericKeyPaths[r]:void 0;return $u(t,(e=>(e=>{const t=e;if("error"in t)throw $a(t.error);return t})(e)),(e=>e.result),(e=>Fv(o??[])(e,n)))}}var Vv,Kv=[["data","parsed","info","tokenAmount","decimals"],["data","parsed","info","tokenAmount","uiAmount"],["data","parsed","info","rentExemptReserve","decimals"],["data","parsed","info","rentExemptReserve","uiAmount"],["data","parsed","info","delegatedAmount","decimals"],["data","parsed","info","delegatedAmount","uiAmount"],["data","parsed","info","extensions",Bv,"state","olderTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",Bv,"state","newerTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",Bv,"state","preUpdateAverageRate"],["data","parsed","info","extensions",Bv,"state","currentRate"]],Gv=[...Kv,["data","parsed","info","lastExtendedSlotStartIndex"],["data","parsed","info","slashPenalty"],["data","parsed","info","warmupCooldownRate"],["data","parsed","info","decimals"],["data","parsed","info","numRequiredSigners"],["data","parsed","info","numValidSigners"],["data","parsed","info","stake","delegation","warmupCooldownRate"],["data","parsed","info","exemptionThreshold"],["data","parsed","info","burnPercent"],["data","parsed","info","commission"],["data","parsed","info","votes",Bv,"confirmationCount"]],Hv=[["index"],["instructions",Bv,"accounts",Bv],["instructions",Bv,"programIdIndex"],["instructions",Bv,"stackHeight"]],Jv=[["addressTableLookups",Bv,"writableIndexes",Bv],["addressTableLookups",Bv,"readonlyIndexes",Bv],["header","numReadonlySignedAccounts"],["header","numReadonlyUnsignedAccounts"],["header","numRequiredSignatures"],["instructions",Bv,"accounts",Bv],["instructions",Bv,"programIdIndex"],["instructions",Bv,"stackHeight"]];function Zv(e){return Ov({requestTransformer:$v(e),responseTransformer:Wv({allowedNumericKeyPaths:Yv()})})}function Yv(){return Vv||(Vv={getAccountInfo:Gv.map((e=>["value",...e])),getBlock:[["transactions",Bv,"meta","preTokenBalances",Bv,"accountIndex"],["transactions",Bv,"meta","preTokenBalances",Bv,"uiTokenAmount","decimals"],["transactions",Bv,"meta","postTokenBalances",Bv,"accountIndex"],["transactions",Bv,"meta","postTokenBalances",Bv,"uiTokenAmount","decimals"],["transactions",Bv,"meta","rewards",Bv,"commission"],...Hv.map((e=>["transactions",Bv,"meta","innerInstructions",Bv,...e])),...Jv.map((e=>["transactions",Bv,"transaction","message",...e])),["rewards",Bv,"commission"]],getClusterNodes:[[Bv,"featureSet"],[Bv,"shredVersion"]],getInflationGovernor:[["initial"],["foundation"],["foundationTerm"],["taper"],["terminal"]],getInflationRate:[["foundation"],["total"],["validator"]],getInflationReward:[[Bv,"commission"]],getMultipleAccounts:Gv.map((e=>["value",Bv,...e])),getProgramAccounts:Gv.flatMap((e=>[["value",Bv,"account",...e],[Bv,"account",...e]])),getRecentPerformanceSamples:[[Bv,"samplePeriodSecs"]],getTokenAccountBalance:[["value","decimals"],["value","uiAmount"]],getTokenAccountsByDelegate:Kv.map((e=>["value",Bv,"account",...e])),getTokenAccountsByOwner:Kv.map((e=>["value",Bv,"account",...e])),getTokenLargestAccounts:[["value",Bv,"decimals"],["value",Bv,"uiAmount"]],getTokenSupply:[["value","decimals"],["value","uiAmount"]],getTransaction:[["meta","preTokenBalances",Bv,"accountIndex"],["meta","preTokenBalances",Bv,"uiTokenAmount","decimals"],["meta","postTokenBalances",Bv,"accountIndex"],["meta","postTokenBalances",Bv,"uiTokenAmount","decimals"],["meta","rewards",Bv,"commission"],...Hv.map((e=>["meta","innerInstructions",Bv,...e])),...Jv.map((e=>["transaction","message",...e]))],getVersion:[["feature-set"]],getVoteAccounts:[["current",Bv,"commission"],["delinquent",Bv,"commission"]],simulateTransaction:[...Gv.map((e=>["value","accounts",Bv,...e])),...Hv.map((e=>["value","innerInstructions",Bv,...e]))]}),Vv}Object.assign({"accept-charset":!0,"access-control-request-headers":!0,"access-control-request-method":!0,connection:!0,"content-length":!0,cookie:!0,date:!0,dnt:!0,expect:!0,host:!0,"keep-alive":!0,origin:!0,"permissions-policy":!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,via:!0},{"accept-encoding":!0});var Xv=["getAccountInfo","getBalance","getBlock","getBlockCommitment","getBlockHeight","getBlockProduction","getBlocks","getBlocksWithLimit","getBlockTime","getClusterNodes","getEpochInfo","getEpochSchedule","getFeeForMessage","getFirstAvailableBlock","getGenesisHash","getHealth","getHighestSnapshotSlot","getIdentity","getInflationGovernor","getInflationRate","getInflationReward","getLargestAccounts","getLatestBlockhash","getLeaderSchedule","getMaxRetransmitSlot","getMaxShredInsertSlot","getMinimumBalanceForRentExemption","getMultipleAccounts","getProgramAccounts","getRecentPerformanceSamples","getRecentPrioritizationFees","getSignaturesForAddress","getSignatureStatuses","getSlot","getSlotLeader","getSlotLeaders","getStakeMinimumDelegation","getSupply","getTokenAccountBalance","getTokenAccountsByDelegate","getTokenAccountsByOwner","getTokenLargestAccounts","getTokenSupply","getTransaction","getTransactionCount","getVersion","getVoteAccounts","index","isBlockhashValid","minimumLedgerSlot","requestAirdrop","sendTransaction","simulateTransaction"];function Qv(e){return Nv(e)&&Xv.includes(e.method)}function ew(e){return function(e){const{fromJson:t,headers:n,toJson:r,url:o}=e,i=n&&function(e){const t={};for(const n in e)t[n.toLowerCase()]=e[n];return t}(n);return async function({payload:e,signal:n}){const a=r?r(e):JSON.stringify(e),s={body:a,headers:{...i,accept:"application/json","content-length":a.length.toString(),"content-type":"application/json; charset=utf-8"},method:"POST",signal:n},c=await fetch(o,s);if(!c.ok)throw new Ba(Ia,{headers:c.headers,message:c.statusText,statusCode:c.status});return t?t(await c.text(),e):await c.json()}}({...e,fromJson:(e,t)=>Qv(t)?kv(e):JSON.parse(e),toJson:e=>{return Qv(e)?(t=e,function(e){return e.replace(/\{\s*"\$n"\s*:\s*"(-?\d+)"\s*\}/g,"$1")}(JSON.stringify(t,((e,t)=>"bigint"==typeof t?function(e){return{$n:`${e}`}}(t):t),n))):JSON.stringify(e);var t,n}})}var tw=Object.prototype.toString,nw=Object.keys||function(e){const t=[];for(const n in e)t.push(n);return t};function rw(e,t){let n,r,o,i,a,s,c;if(!0===e)return"true";if(!1===e)return"false";switch(typeof e){case"object":if(null===e)return null;if("toJSON"in e&&"function"==typeof e.toJSON)return rw(e.toJSON(),t);if(c=tw.call(e),"[object Array]"===c){for(o="[",r=e.length-1,n=0;n<r;n++)o+=rw(e[n],!0)+",";return r>-1&&(o+=rw(e[n],!0)),o+"]"}if("[object Object]"===c){for(i=nw(e).sort(),r=i.length,o="",n=0;n<r;)a=i[n],s=rw(e[a],!1),void 0!==s&&(o&&(o+=","),o+=JSON.stringify(a)+":"+s),n++;return"{"+o+"}"}return JSON.stringify(e);case"function":case"undefined":return t?null:void 0;case"bigint":return`${e.toString()}n`;case"string":return JSON.stringify(e);default:return isFinite(e)?e:null}}function ow(e){const t=rw(e,!1);if(void 0!==t)return""+t}function iw(e,t,n){let r="";if("number"==typeof t[0]){const e=t[0]+1,n=e%10,o=e%100;r=1==n&&11!=o?e+"st":2==n&&12!=o?e+"nd":3==n&&13!=o?e+"rd":e+"th"}else r=`\`${t[0].toString()}\``;const o=t.length>1?t.slice(1).map((e=>"number"==typeof e?`[${e}]`:e)).join("."):void 0,i=new Ba(ka,{argumentLabel:r,keyPath:t,methodName:e,optionalPathLabel:o?` at path \`${o}\``:"",value:n,...void 0!==o?{path:o}:void 0});return za(i,iw),i}var aw,sw={defaultCommitment:"confirmed",onIntegerOverflow(e,t,n){throw iw(e.methodName,t,n)}},cw=globalThis.AbortController;function uw(e){return Nv(e)?ow([e.method,e.params]):void 0}function lw(e){const t={};for(const n in e)t[n.toLowerCase()]=e[n];return t}function dw(e){return $u(ew({...e,headers:{...!1,...e.headers?lw(e.headers):void 0,"solana-client":"js/2.1.0"}}),(e=>function(e,t){let n;return async function(r){const{payload:o,signal:i}=r,a=t(o);if(void 0===a)return await e(r);if(n||(queueMicrotask((()=>{n=void 0})),n={}),null==n[a]){const t=new cw,o=(async()=>{try{return await e({...r,signal:t.signal})}catch(e){if(e===(aw||={}))return;throw e}})();n[a]={abortController:t,numConsumers:0,responsePromise:o}}const s=n[a];if(s.numConsumers++,i){const e=s.responsePromise;return await new Promise(((t,n)=>{const r=e=>{i.removeEventListener("abort",r),s.numConsumers-=1,queueMicrotask((()=>{0===s.numConsumers&&s.abortController.abort(aw||={})})),n(e.target.reason)};i.addEventListener("abort",r),e.then(t).catch(n).finally((()=>{i.removeEventListener("abort",r)}))}))}return await s.responsePromise}}(e,uw)))}function fw(e){return Pv({api:Zv(sw),transport:e})}const hw=["getTransaction","getSignaturesForAddress"],pw=e=>{const t=dw({url:e}),n=dw({url:e,headers:{"x-bigtable":"disabled"}});return async(...e)=>{const{payload:r}=e[0],{method:o}=r,i=hw.includes(o);return Cd.info(`[🚌 ToggleInfuraBigtableLookupsTransport] RPC method is ${o}. ${i?"Enabling":"Disabling"} BigTable lookups.`),i?t(...e):n(...e)}},gw=e=>async(...t)=>{let n;const r=e.length;for(const[o,i]of e.entries())try{return Cd.info(`[🚌 FailoverTransport] Attempting to use transport ${o+1} of ${r}`),await i(...t)}catch(e){n=e;const t=o===r-1;Cd.error(`[🚌 FailoverTransport] Transport failed: ${e}. ${t?"No more transports to try.":"Trying next transport..."}`)}throw n};async function mw(e){return new Promise((t=>setTimeout(t,e)))}const yw=e=>async(...t)=>{const{payload:n}=t[0],{method:r}=n;let o;for(let n=0;n<4;n++)try{return Cd.info(`[🚌 RetryingTransport] Attempt "${r}" ${n+1} of 4`),await e(...t)}catch(e){if(Cd.error(`[🚌 RetryingTransport] Error during attempt "${r}" ${n+1} of 4: ${e}`),o=e,n<3){const e=(i=n,Math.min(400*Math.pow(2,i),1500));Cd.info(`[🚌 RetryingTransport] Sleeping for ${e}ms`),await mw(e)}}var i;throw o};const vw=(e,t)=>(e=>Boolean(e.feePayer))(t)?t:Il(e,t),ww=e=>e.programAddress===Vf&&Gf({data:new Uint8Array,...e})===Kf.SetComputeUnitPrice,Aw=e=>e.instructions.filter(Boolean).some(ww),bw=e=>e.programAddress===Vf&&Gf({data:new Uint8Array,...e})===Kf.SetComputeUnitLimit,Sw=e=>e.instructions.filter(Boolean).some(bw);class Ew{#f;#i;static defaultComputeUnitPriceInMicroLamportsPerComputeUnit=10000n;constructor(e,t){this.#f=e,this.#i=t}async getLatestBlockhash(e){try{return(await this.#f.getRpc(e).getLatestBlockhash().send()).value}catch(e){throw this.#i.error(e),e}}async getComputeUnitEstimate(e,t){const n=pm({rpc:this.#f.getRpc(t)});return await n(e)}async getFeeFromBase64StringInLamports(e,t){try{z(e,bc);const n=await Sm(e,this.#f.getRpc(t)),r="instructions"in n?e:xs().decode(n.messageBytes),o=this.#f.getRpc(t),i=await o.getFeeForMessage(r,{commitment:"confirmed"}).send();return this.#i.log(`Transaction is estimated to cost ${i.value} lamports`),i.value}catch(e){return this.#i.error(e),null}}async waitForTransactionCommitment(e,t,n){z(e,Ac);const r=this.#f.getRpc(n);return async function(e,t){const n=t?.maxAttempts??10,r=t?.delayMs??1e3;let o=0;for(;o<n;)try{return await e()}catch(e){if(o+=1,o===n)throw e;await new Promise((e=>setTimeout(e,r)))}throw new Error("Unreachable")}((async()=>{this.#i.log(`🔎 Checking if transaction ${e} has reached commitment level ${t}`);const n=await r.getTransaction(tu(e),{commitment:t,maxSupportedTransactionVersion:0}).send();if(n)return this.#i.log(`🎉 Transaction ${e} has reached commitment level ${t}`),n;const o=`⚠️ Transaction with signature ${e} not found or has not yet reached requested commitment level: ${t}`;throw this.#i.warn(o),new Error(o)}),{delayMs:200})}async partiallySignBase64String(e,t,n,r){const o=this.#f.getRpc(n),i=await Sm(e,o,r);if("instructions"in i)return this.#x(i,t,n);if(Object.values(i.signatures).every((e=>!e))){const{messageBytes:e}=i,a=await Am(e,o,r);return this.#x(a,t,n)}return this.#T(i,t)}async#x(e,t,n){const{privateKeyBytes:r}=await Nm({entropySource:t.entropySource,derivationPath:t.derivationPath}),o=await Zl(r),i=Fu(e)?e.lifetimeConstraint:await this.getLatestBlockhash(n),a=Aw(e),s=Ew.defaultComputeUnitPriceInMicroLamportsPerComputeUnit,c=!Sw(e)||!a,u=await $u(e,(e=>vw(o.address,e)),(e=>{return t=i,Fu(n=e)?n:qu(t,n);var t,n}),(e=>((e,t,n)=>Aw(e)?e:Rl([rh(t,n)],e))(e,{microLamports:s})),(async e=>c?(async(e,t,n)=>{try{const r=e.instructions.filter(Boolean),o=pm({rpc:t}),i=await o(e,n?.getComputeUnitEstimateConfig).catch((e=>{if(Na(e,ia))return e.context.unitsConsumed;throw e}));return{...(0,ni.cloneDeep)(e),instructions:[...r.filter((e=>!bw(e))),Qf({units:i},n?.getSetComputeUnitLimitInstructionConfig)]}}catch(t){return e}})(e,this.#f.getRpc(n)):e)),l=Hl([o],u);return await Xl(l)}async#T(e,t){const{privateKeyBytes:n}=await Nm({entropySource:t.entropySource,derivationPath:t.derivationPath});return Ul([await ru(n)],e)}}var xw,Tw=["u8","u16","u32","u64","u128","i8","i16","i32","i64","i128","f32","f64"],kw=function(){function e(){this.offset=0,this.buffer_size=256,this.buffer=new ArrayBuffer(this.buffer_size),this.view=new DataView(this.buffer)}return e.prototype.resize_if_necessary=function(e){if(this.buffer_size-this.offset<e){this.buffer_size=Math.max(2*this.buffer_size,this.buffer_size+e);var t=new ArrayBuffer(this.buffer_size);new Uint8Array(t).set(new Uint8Array(this.buffer)),this.buffer=t,this.view=new DataView(t)}},e.prototype.get_used_buffer=function(){return new Uint8Array(this.buffer).slice(0,this.offset)},e.prototype.store_value=function(e,t){var n=t.substring(1),r=parseInt(n)/8;this.resize_if_necessary(r);var o="f"===t[0]?"setFloat".concat(n):"i"===t[0]?"setInt".concat(n):"setUint".concat(n);this.view[o](this.offset,e,!0),this.offset+=r},e.prototype.store_bytes=function(e){this.resize_if_necessary(e.length),new Uint8Array(this.buffer).set(new Uint8Array(e),this.offset),this.offset+=e.length},e}(),Iw=function(){function e(e){this.offset=0,this.buffer_size=e.length,this.buffer=new ArrayBuffer(e.length),new Uint8Array(this.buffer).set(e),this.view=new DataView(this.buffer)}return e.prototype.assert_enough_buffer=function(e){if(this.offset+e>this.buffer.byteLength)throw new Error("Error in schema, the buffer is smaller than expected")},e.prototype.consume_value=function(e){var t=e.substring(1),n=parseInt(t)/8;this.assert_enough_buffer(n);var r="f"===e[0]?"getFloat".concat(t):"i"===e[0]?"getInt".concat(t):"getUint".concat(t),o=this.view[r](this.offset,!0);return this.offset+=n,o},e.prototype.consume_bytes=function(e){this.assert_enough_buffer(e);var t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t},e}(),_w=(xw=function(e,t){return xw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},xw(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}xw(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function Cw(e,t,n){if(typeof e!==t)throw new Error("Expected ".concat(t," not ").concat(typeof e,"(").concat(e,") at ").concat(n.join(".")))}function Rw(e,t,n){if(e!==t)throw new Error("Array length ".concat(e," does not match schema length ").concat(t," at ").concat(n.join(".")))}var Pw=Tw.concat(["bool","string"]),Ow=["option","enum","array","set","map","struct"],Nw=function(e){function t(t,n){var r="Invalid schema: ".concat(JSON.stringify(t)," expected ").concat(n);return e.call(this,r)||this}return _w(t,e),t}(Error);function Bw(e){if("string"!=typeof e||!Pw.includes(e)){if(e&&"object"==typeof e){var t=Object.keys(e);if(1===t.length&&Ow.includes(t[0])){var n=t[0];if("option"===n)return Bw(e[n]);if("enum"===n)return function(e){if(!Array.isArray(e))throw new Nw(e,"Array");for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"!=typeof r||!("struct"in r))throw new Error('Missing "struct" key in enum schema');if("object"!=typeof r.struct||1!==Object.keys(r.struct).length)throw new Error('The "struct" in each enum must have a single key');Bw({struct:r.struct})}}(e[n]);if("array"===n)return function(e){if("object"!=typeof e)throw new Nw(e,"{ type, len? }");if(e.len&&"number"!=typeof e.len)throw new Error("Invalid schema: ".concat(e));if("type"in e)return Bw(e.type);throw new Nw(e,"{ type, len? }")}(e[n]);if("set"===n)return Bw(e[n]);if("map"===n)return function(e){if("object"!=typeof e||!("key"in e)||!("value"in e))throw new Nw(e,"{ key, value }");Bw(e.key),Bw(e.value)}(e[n]);if("struct"===n)return function(e){if("object"!=typeof e)throw new Nw(e,"object");for(var t in e)Bw(e[t])}(e[n])}}throw new Nw(e,Ow.join(", ")+" or "+Pw.join(", "))}}!function(){function e(e){this.encoded=new kw,this.fieldPath=["value"],this.checkTypes=e}e.prototype.encode=function(e,t){return this.encode_value(e,t),this.encoded.get_used_buffer()},e.prototype.encode_value=function(e,t){if("string"==typeof t){if(Tw.includes(t))return this.encode_integer(e,t);if("string"===t)return this.encode_string(e);if("bool"===t)return this.encode_boolean(e)}if("object"==typeof t){if("option"in t)return this.encode_option(e,t);if("enum"in t)return this.encode_enum(e,t);if("array"in t)return this.encode_array(e,t);if("set"in t)return this.encode_set(e,t);if("map"in t)return this.encode_map(e,t);if("struct"in t)return this.encode_struct(e,t)}},e.prototype.encode_integer=function(e,t){var n=parseInt(t.substring(1));n<=32||"f64"==t?(this.checkTypes&&Cw(e,"number",this.fieldPath),this.encoded.store_value(e,t)):(this.checkTypes&&function(e,t){if(!(["number","string","bigint","boolean"].includes(typeof e)||"object"==typeof e&&null!==e&&"toString"in e))throw new Error("Expected bigint, number, boolean or string not ".concat(typeof e,"(").concat(e,") at ").concat(t.join(".")))}(e,this.fieldPath),this.encode_bigint(BigInt(e),n))},e.prototype.encode_bigint=function(e,t){for(var n=t/8,r=new Uint8Array(n),o=0;o<n;o++)r[o]=Number(e&BigInt(255)),e>>=BigInt(8);this.encoded.store_bytes(new Uint8Array(r))},e.prototype.encode_string=function(e){this.checkTypes&&Cw(e,"string",this.fieldPath);for(var t=e,n=[],r=0;r<t.length;r++){var o=t.charCodeAt(r);o<128?n.push(o):o<2048?n.push(192|o>>6,128|63&o):o<55296||o>=57344?n.push(224|o>>12,128|o>>6&63,128|63&o):(r++,o=65536+((1023&o)<<10|1023&t.charCodeAt(r)),n.push(240|o>>18,128|o>>12&63,128|o>>6&63,128|63&o))}this.encoded.store_value(n.length,"u32"),this.encoded.store_bytes(new Uint8Array(n))},e.prototype.encode_boolean=function(e){this.checkTypes&&Cw(e,"boolean",this.fieldPath),this.encoded.store_value(e?1:0,"u8")},e.prototype.encode_option=function(e,t){null==e?this.encoded.store_value(0,"u8"):(this.encoded.store_value(1,"u8"),this.encode_value(e,t.option))},e.prototype.encode_enum=function(e,t){this.checkTypes&&function(e,t){if("object"!=typeof e||null===e)throw new Error("Expected object not ".concat(typeof e,"(").concat(e,") at ").concat(t.join(".")))}(e,this.fieldPath);for(var n=Object.keys(e)[0],r=0;r<t.enum.length;r++){var o=t.enum[r];if(n===Object.keys(o.struct)[0])return this.encoded.store_value(r,"u8"),this.encode_struct(e,o)}throw new Error("Enum key (".concat(n,") not found in enum schema: ").concat(JSON.stringify(t)," at ").concat(this.fieldPath.join(".")))},e.prototype.encode_array=function(e,t){if(function(e){return Array.isArray(e)||!!e&&"object"==typeof e&&"length"in e&&"number"==typeof e.length&&(0===e.length||e.length>0&&e.length-1 in e)}(e))return this.encode_arraylike(e,t);if(e instanceof ArrayBuffer)return this.encode_buffer(e,t);throw new Error("Expected Array-like not ".concat(typeof e,"(").concat(e,") at ").concat(this.fieldPath.join(".")))},e.prototype.encode_arraylike=function(e,t){t.array.len?Rw(e.length,t.array.len,this.fieldPath):this.encoded.store_value(e.length,"u32");for(var n=0;n<e.length;n++)this.encode_value(e[n],t.array.type)},e.prototype.encode_buffer=function(e,t){t.array.len?Rw(e.byteLength,t.array.len,this.fieldPath):this.encoded.store_value(e.byteLength,"u32"),this.encoded.store_bytes(new Uint8Array(e))},e.prototype.encode_set=function(e,t){this.checkTypes&&Cw(e,"object",this.fieldPath);var n=e instanceof Set?Array.from(e.values()):Object.values(e);this.encoded.store_value(n.length,"u32");for(var r=0,o=n;r<o.length;r++){var i=o[r];this.encode_value(i,t.set)}},e.prototype.encode_map=function(e,t){this.checkTypes&&Cw(e,"object",this.fieldPath);var n=e instanceof Map,r=n?Array.from(e.keys()):Object.keys(e);this.encoded.store_value(r.length,"u32");for(var o=0,i=r;o<i.length;o++){var a=i[o];this.encode_value(a,t.map.key),this.encode_value(n?e.get(a):e[a],t.map.value)}},e.prototype.encode_struct=function(e,t){this.checkTypes&&Cw(e,"object",this.fieldPath);for(var n=0,r=Object.keys(t.struct);n<r.length;n++){var o=r[n];this.fieldPath.push(o),this.encode_value(e[o],t.struct[o]),this.fieldPath.pop()}}}();var zw=function(){function e(e){this.buffer=new Iw(e)}return e.prototype.decode=function(e){return this.decode_value(e)},e.prototype.decode_value=function(e){if("string"==typeof e){if(Tw.includes(e))return this.decode_integer(e);if("string"===e)return this.decode_string();if("bool"===e)return this.decode_boolean()}if("object"==typeof e){if("option"in e)return this.decode_option(e);if("enum"in e)return this.decode_enum(e);if("array"in e)return this.decode_array(e);if("set"in e)return this.decode_set(e);if("map"in e)return this.decode_map(e);if("struct"in e)return this.decode_struct(e)}throw new Error("Unsupported type: ".concat(e))},e.prototype.decode_integer=function(e){var t=parseInt(e.substring(1));return t<=32||"f64"==e?this.buffer.consume_value(e):this.decode_bigint(t,e.startsWith("i"))},e.prototype.decode_bigint=function(e,t){void 0===t&&(t=!1);var n=e/8,r=new Uint8Array(this.buffer.consume_bytes(n)),o=r.reduceRight((function(e,t){return e+t.toString(16).padStart(2,"0")}),"");return t&&r[n-1]?BigInt.asIntN(e,BigInt("0x".concat(o))):BigInt("0x".concat(o))},e.prototype.decode_string=function(){for(var e=this.decode_integer("u32"),t=new Uint8Array(this.buffer.consume_bytes(e)),n=[],r=0;r<e;++r){var o=t[r];if(o<128)n.push(o);else if(o<224)n.push((31&o)<<6|63&t[++r]);else if(o<240)n.push((15&o)<<12|(63&t[++r])<<6|63&t[++r]);else{var i=(7&o)<<18|(63&t[++r])<<12|(63&t[++r])<<6|63&t[++r];n.push(i)}}return String.fromCodePoint.apply(String,n)},e.prototype.decode_boolean=function(){return this.buffer.consume_value("u8")>0},e.prototype.decode_option=function(e){var t=this.buffer.consume_value("u8");if(1===t)return this.decode_value(e.option);if(0!==t)throw new Error("Invalid option ".concat(t));return null},e.prototype.decode_enum=function(e){var t,n=this.buffer.consume_value("u8");if(n>e.enum.length)throw new Error("Enum option ".concat(n," is not available"));var r=e.enum[n].struct,o=Object.keys(r)[0];return(t={})[o]=this.decode_value(r[o]),t},e.prototype.decode_array=function(e){for(var t=[],n=e.array.len?e.array.len:this.decode_integer("u32"),r=0;r<n;++r)t.push(this.decode_value(e.array.type));return t},e.prototype.decode_set=function(e){for(var t=this.decode_integer("u32"),n=new Set,r=0;r<t;++r)n.add(this.decode_value(e.set));return n},e.prototype.decode_map=function(e){for(var t=this.decode_integer("u32"),n=new Map,r=0;r<t;++r){var o=this.decode_value(e.map.key),i=this.decode_value(e.map.value);n.set(o,i)}return n},e.prototype.decode_struct=function(e){var t={};for(var n in e.struct)t[n]=this.decode_value(e.struct[n]);return t},e}();function Mw(e,t,n){return void 0===n&&(n=!0),n&&Bw(e),new zw(t).decode(e)}var jw=(e=>(e[e.Uninitialized=0]="Uninitialized",e[e.Initialized=1]="Initialized",e[e.Frozen=2]="Frozen",e))(jw||{});const Uw=Us(),Dw=(vs(),xs()),Lw=Cs(),$w=Za(Bu([["mint",Ms()],["owner",Ms()],["amount",Dc()],["delegate",lh(Ms(),{prefix:jc(),noneValue:"zeroes"})],["state",Cu(jw)],["isNative",lh(Dc(),{prefix:jc(),noneValue:"zeroes"})],["delegatedAmount",Dc()],["closeAuthority",lh(Ms(),{prefix:jc(),noneValue:"zeroes"})]]),zu([["mint",js()],["owner",js()],["amount",Lc()],["delegate",dh(js(),{prefix:Uc(),noneValue:"zeroes"})],["state",Ru(jw)],["isNative",dh(Lc(),{prefix:Uc(),noneValue:"zeroes"})],["delegatedAmount",Lc()],["closeAuthority",dh(js(),{prefix:Uc(),noneValue:"zeroes"})]]));var Fw;!function(e){e.SymbolNotFound="SymbolNotFound",e.InvalidSubdomain="InvalidSubdomain",e.PrimaryDomainNotFound="PrimaryDomainNotFound",e.MissingParentOwner="MissingParentOwner",e.U32Overflow="U32Overflow",e.InvalidBufferLength="InvalidBufferLength",e.U64Overflow="U64Overflow",e.NoRecordData="NoRecordData",e.InvalidRecordData="InvalidRecordData",e.UnsupportedRecord="UnsupportedRecord",e.InvalidEvmAddress="InvalidEvmAddress",e.InvalidInjectiveAddress="InvalidInjectiveAddress",e.InvalidARecord="InvalidARecord",e.InvalidAAAARecord="InvalidAAAARecord",e.InvalidRecordInput="InvalidRecordInput",e.InvalidSignature="InvalidSignature",e.AccountDoesNotExist="AccountDoesNotExist",e.MultipleRegistries="MultipleRegistries",e.InvalidReverseTwitter="InvalidReverseTwitter",e.NoAccountData="NoAccountData",e.InvalidInput="InvalidInput",e.InvalidDomain="InvalidDomain",e.InvalidCustomBg="InvalidCustomBackground",e.UnsupportedSignature="UnsupportedSignature",e.RecordDoestNotSupportGuardianSig="RecordDoestNotSupportGuardianSig",e.RecordIsNotSigned="RecordIsNotSigned",e.UnsupportedSignatureType="UnsupportedSignatureType",e.InvalidSolRecordV2="InvalidSolRecordV2",e.MissingVerifier="MissingVerifier",e.PythFeedNotFound="PythFeedNotFound",e.InvalidRoA="InvalidRoA",e.InvalidPda="InvalidPda",e.InvalidParent="InvalidParent",e.NftAccountNotFound="NftRecordNotFound",e.PdaOwnerNotAllowed="PdaOwnerNotAllowed",e.DomainDoesNotExist="DomainDoesNotExist",e.RecordMalformed="RecordMalformed",e.CouldNotFindNftOwner="CouldNotFindNftOwner",e.InvalidValidation="InvalidValidation",e.InvalidSerializedData="InvalidSerializedData"}(Fw||(Fw={}));class qw extends Error{type;constructor(e,t){super(t),this.name="SNSError",this.type=e,Error.captureStackTrace&&Error.captureStackTrace(this,qw)}}class Ww extends qw{constructor(e){super(Fw.PrimaryDomainNotFound,e)}}class Vw extends qw{constructor(e){super(Fw.NoRecordData,e)}}class Kw extends qw{constructor(e){super(Fw.AccountDoesNotExist,e)}}class Gw extends qw{constructor(e){super(Fw.NoAccountData,e)}}class Hw extends qw{constructor(e){super(Fw.InvalidInput,e)}}class Jw extends qw{constructor(e){super(Fw.InvalidRoA,e)}}class Zw extends qw{constructor(e){super(Fw.NftAccountNotFound,e)}}class Yw extends qw{constructor(e){super(Fw.PdaOwnerNotAllowed,e)}}class Xw extends qw{constructor(e){super(Fw.DomainDoesNotExist,e)}}class Qw extends qw{constructor(e){super(Fw.RecordMalformed,e)}}class eA extends qw{constructor(e){super(Fw.CouldNotFindNftOwner,e)}}class tA extends qw{constructor(e){super(Fw.InvalidValidation,e)}}class nA extends qw{constructor(e){super(Fw.InvalidSerializedData,e)}}class rA{static HEADER_LEN=96;parentName;owner;class;data;static schema={struct:{parentName:{array:{type:"u8",len:32}},owner:{array:{type:"u8",len:32}},class:{array:{type:"u8",len:32}}}};constructor(e){this.parentName=Uw.decode(e.parentName),this.owner=Uw.decode(e.owner),this.class=Uw.decode(e.class)}static deserialize(e){try{const t=new rA(Mw(this.schema,e));return t.data=e?.slice(this.HEADER_LEN),t}catch{throw new Error("Failed to deserialize RegistryState data")}}static async retrieve(e,t){const n=await sm(e,t);if(!n.exists)throw new Kw("The domain account does not exist");return this.deserialize(n.data)}static async _retrieveBatch(e,t){return(await cm(e,t)).map((e=>e.exists?this.deserialize(e.data):void 0))}static async retrieveBatch(e,t){const n=[],r=[...t];for(;r.length>0;)n.push(...await this._retrieveBatch(e,r.splice(0,100)));return n}}const oA="58PwtjSDuFHuUkYjH9BYnnQKHfwo9reZhC2zMJv9JPkx",iA="nftD3vbNkNqfj2Sd3HZwbpw4BxxKWr4AjGb9X38JeZk",aA="33m47vH6Eav6jr5Ry86XjhRft2jRBLDnDgPSHoquXi2Z",sA="2pMnqHvei2N5oDcVGCRdZx48gqti199wr5CsyTTafsbo",cA=async(e,t,n)=>{const r=await(async e=>{const t=Lw.encode("SPL Name Service"+e),n=await crypto.subtle.digest("SHA-256",t);return new Uint8Array(n)})(e);return await(async(e,t,n)=>{const r=[e];r.push(n?Uw.encode(n):new Uint8Array(32)),r.push(t?Uw.encode(t):new Uint8Array(32));const[o]=await Ys({programAddress:"namesLPneVptA9Z5rqUDD9tMTWEJwofgaYwp8cawRkX",seeds:r});return o})(r,t,n)};var uA;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.CentralState=1]="CentralState",e[e.ActiveRecord=2]="ActiveRecord",e[e.InactiveRecord=3]="InactiveRecord"}(uA||(uA={}));class lA{tag;nonce;nameAccount;owner;nftMint;static LEN=98;static schema={struct:{tag:"u8",nonce:"u8",nameAccount:{array:{type:"u8",len:32}},owner:{array:{type:"u8",len:32}},nftMint:{array:{type:"u8",len:32}}}};constructor(e){this.tag=e.tag,this.nonce=e.nonce,this.nameAccount=Uw.decode(e.nameAccount),this.owner=Uw.decode(e.owner),this.nftMint=Uw.decode(e.nftMint)}static deserialize(e){try{return new lA(Mw(this.schema,e))}catch{throw new nA("Failed to deserialize NftState data")}}static async retrieve(e,t){const n=await sm(e,t);if(!n.exists)throw new Zw(`NFT not found: ${t}`);return this.deserialize(n.data)}static async retrieveFromMint(e,t){const n=await e.getProgramAccounts(iA,{encoding:"base64",filters:[{dataSize:BigInt(lA.LEN)},{memcmp:{offset:BigInt(0),bytes:"3",encoding:"base58"}},{memcmp:{offset:BigInt(66),bytes:t,encoding:"base58"}}]}).send();if(1!==n.length)throw new Zw(`NFT not found: ${t}`);return this.deserialize(Dw.encode(n[0].account.data[0]))}static async getAddress(e){const[t]=await Ys({programAddress:iA,seeds:[Lw.encode("nft_record"),Uw.encode(e)]});return t}}const dA=Lw.encode("tokenized_name"),fA=async(e,t)=>{try{const n=await(async e=>{const[t]=await Ys({programAddress:iA,seeds:[dA,Uw.encode(e)]});return t})(t),r=await e.getTokenLargestAccounts(n).send();if(0===r.value.length)return null;const o=await sm(e,r.value[0].address);if(!o.exists)return null;const i=$w.decode(o.data);return"1"===i.amount.toString()?i.owner:null}catch(e){if(Na(e,di))return null;throw e}};class hA{tag;nameAccount;static schema={struct:{tag:"u8",nameAccount:{array:{type:"u8",len:32}}}};constructor(e){this.tag=e.tag,this.nameAccount=Uw.decode(e.nameAccount)}static deserialize(e){try{return new hA(Mw(this.schema,e))}catch{throw new nA("Failed to deserialize PrimaryDomainState data")}}static async retrieve(e,t){const n=await sm(e,t);if(!n.exists)throw new Ww("The favourite account does not exist");return this.deserialize(n.data)}static async _retrieveBatch(e,t){return(await cm(e,t)).map((e=>e.exists?this.deserialize(e.data):void 0))}static async retrieveBatch(e,t){const n=[],r=[...t];for(;r.length>0;)n.push(...await this._retrieveBatch(e,r.splice(0,100)));return n}static async getAddress(e,t){const[n]=await Ys({programAddress:e,seeds:[Lw.encode("favourite_domain"),Uw.encode(t)]});return n}}async function pA(e,t,n){const r=await(async(e,t)=>await cA(e,t,aA))(t,n),o=await rA.retrieve(e,r);if(!o.data)throw new Gw("The registry data is empty");return function(e,t=!1){if(!e)return;const n=new DataView(e.buffer).getUint32(0,!0);return Lw.decode(e.subarray(4,4+n)).replace(/^\0/,t?"":"\0")}(o.data,!!n)}var gA;!function(e){e.IPFS="IPFS",e.ARWV="ARWV",e.SOL="SOL",e.ETH="ETH",e.BTC="BTC",e.LTC="LTC",e.DOGE="DOGE",e.Email="email",e.Url="url",e.Discord="discord",e.Github="github",e.Reddit="reddit",e.Twitter="twitter",e.Telegram="telegram",e.Pic="pic",e.SHDW="SHDW",e.POINT="POINT",e.BSC="BSC",e.Injective="INJ",e.Backpack="backpack",e.A="A",e.AAAA="AAAA",e.CNAME="CNAME",e.TXT="TXT",e.Background="background",e.BASE="BASE",e.IPNS="IPNS"}(gA||(gA={}));new Map([[gA.SOL,96],[gA.ETH,20],[gA.BSC,20],[gA.Injective,20],[gA.A,4],[gA.AAAA,16],[gA.Background,32]]);var mA;!function(e){e[e.V1=1]="V1",e[e.V2=2]="V2"}(mA||(mA={}));const yA=async(e,t)=>{e.endsWith(".sol")&&(e=e.slice(0,-4));const n=t===mA.V2?sA:void 0,r={[mA.V2]:"",[mA.V1]:""}[t]||"\0",o=e.split(".");if(2===o.length){const e=await cA(o[1],oA);return{address:await cA(r+o[0],e,n),parentAddress:e,isSub:!0}}if(3===o.length&&t){const e=await cA(o[2],oA),t=await cA("\0"+o[1],e);return{address:await cA(r+o[0],t,n),parentAddress:e,isSub:!0,isSubRecord:!0}}if(o.length>=3)throw new Hw("The domain is malformed");return{address:await cA(e,oA),isSub:!1}};function vA(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function wA(e,t){return!!Array.isArray(t)&&(0===t.length||(e?t.every((e=>"string"==typeof e)):t.every((e=>Number.isSafeInteger(e)))))}function AA(e,t){if("string"!=typeof t)throw new Error(`${e}: string expected`);return!0}function bA(e){if(!Number.isSafeInteger(e))throw new Error(`invalid integer: ${e}`)}function SA(e){if(!Array.isArray(e))throw new Error("array expected")}function EA(e,t){if(!wA(!0,t))throw new Error(`${e}: array of strings expected`)}function xA(e,t){if(!wA(!1,t))throw new Error(`${e}: array of numbers expected`)}const TA=(e,t)=>0===t?e:TA(t,e%t),kA=(e,t)=>e+(t-TA(e,t)),IA=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function _A(e,t,n,r){if(SA(e),t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(kA(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${kA(t,n)}`);let o=0,i=0;const a=IA[t],s=IA[n]-1,c=[];for(const r of e){if(bA(r),r>=a)throw new Error(`convertRadix2: invalid data word=${r} from=${t}`);if(o=o<<t|r,i+t>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${t}`);for(i+=t;i>=n;i-=n)c.push((o>>i-n&s)>>>0);const e=IA[i];if(void 0===e)throw new Error("invalid carry");o&=e-1}if(o=o<<n-i&s,!r&&i>=t)throw new Error("Excess padding");if(!r&&o>0)throw new Error(`Non-zero padding: ${o}`);return r&&i>0&&c.push(o>>>0),c}function CA(e){return function(e){if("function"!=typeof e)throw new Error("function expected")}(e),function(...t){try{return e.apply(null,t)}catch(e){}}}const RA=function(...e){const t=e=>e,n=(e,t)=>n=>e(t(n));return{encode:e.map((e=>e.encode)).reduceRight(n,t),decode:e.map((e=>e.decode)).reduce(n,t)}}(function(e){const t=e.split(""),n=t.length;EA("alphabet",t);const r=new Map(t.map(((e,t)=>[e,t])));return{encode:r=>(SA(r),r.map((r=>{if(!Number.isSafeInteger(r)||r<0||r>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${r}". Allowed: ${e}`);return t[r]}))),decode:t=>(SA(t),t.map((t=>{AA("alphabet.decode",t);const n=r.get(t);if(void 0===n)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return n})))}}("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),function(e=""){return AA("join",e),{encode:t=>(EA("join.decode",t),t.join(e)),decode:t=>(AA("join.decode",t),t.split(e))}}("")),PA=[996825010,642813549,513874426,1027748829,705979059];function OA(e){const t=e>>25;let n=(33554431&e)<<5;for(let e=0;e<PA.length;e++)1==(t>>e&1)&&(n^=PA[e]);return n}function NA(e,t,n=1){const r=e.length;let o=1;for(let t=0;t<r;t++){const n=e.charCodeAt(t);if(n<33||n>126)throw new Error(`Invalid prefix (${e})`);o=OA(o)^n>>5}o=OA(o);for(let t=0;t<r;t++)o=OA(o)^31&e.charCodeAt(t);for(let e of t)o=OA(o)^e;for(let e=0;e<6;e++)o=OA(o);return o^=n,RA.encode(_A([o%IA[30]],30,5,!1))}!function(e){const t=function(e,t=!1){if(bA(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(kA(8,e)>32||kA(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!vA(n))throw new Error("radix2.encode input should be Uint8Array");return _A(Array.from(n),8,e,!t)},decode:n=>(xA("radix2.decode",n),Uint8Array.from(_A(n,e,8,t)))}}(5),n=t.decode,r=t.encode,o=CA(n);function i(e,t,n=90){AA("bech32.encode prefix",e),vA(t)&&Array.from(t),xA("bech32.encode",t);const r=e.length;if(0===r)throw new TypeError(`Invalid prefix length ${r}`);const o=r+7+t.length;if(!1!==n&&o>n)throw new TypeError(`Length ${o} exceeds limit ${n}`);const i=e.toLowerCase(),a=NA(i,t,1);return`${i}1${RA.encode(t)}${a}`}function a(e,t=90){AA("bech32.decode input",e);const n=e.length;if(n<8||!1!==t&&n>t)throw new TypeError(`invalid string length: ${n} (${e}). Expected (8..${t})`);const r=e.toLowerCase();if(e!==r&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const o=r.lastIndexOf("1");if(0===o||-1===o)throw new Error('Letter "1" must be present between prefix and data only');const i=r.slice(0,o),a=r.slice(o+1);if(a.length<6)throw new Error("Data must be at least 6 characters long");const s=RA.decode(a).slice(0,-6),c=NA(i,s,1);if(!a.endsWith(c))throw new Error(`Invalid checksum in ${e}: expected "${c}"`);return{prefix:i,words:s}}CA(a)}();var BA,zA={exports:{}},MA=zA.exports;!function(){return BA||(BA=1,e=zA,function(t){const n="(0?\\d+|0x[a-f0-9]+)",r={fourOctet:new RegExp(`^${n}\\.${n}\\.${n}\\.${n}$`,"i"),threeOctet:new RegExp(`^${n}\\.${n}\\.${n}$`,"i"),twoOctet:new RegExp(`^${n}\\.${n}$`,"i"),longValue:new RegExp(`^${n}$`,"i")},o=new RegExp("^0[0-7]+$","i"),i=new RegExp("^0x[a-f0-9]+$","i"),a="%[0-9a-z]{1,}",s="(?:[0-9a-f]+::?)+",c={zoneIndex:new RegExp(a,"i"),native:new RegExp(`^(::)?(${s})?([0-9a-f]+)?(::)?(${a})?$`,"i"),deprecatedTransitional:new RegExp(`^(?:::)(${n}\\.${n}\\.${n}\\.${n}(${a})?)$`,"i"),transitional:new RegExp(`^((?:${s})|(?:::)(?:${s})?)${n}\\.${n}\\.${n}\\.${n}(${a})?$`,"i")};function u(e,t){if(e.indexOf("::")!==e.lastIndexOf("::"))return null;let n,r,o=0,i=-1,a=(e.match(c.zoneIndex)||[])[0];for(a&&(a=a.substring(1),e=e.replace(/%.+$/,""));(i=e.indexOf(":",i+1))>=0;)o++;if("::"===e.substr(0,2)&&o--,"::"===e.substr(-2,2)&&o--,o>t)return null;for(r=t-o,n=":";r--;)n+="0:";return":"===(e=e.replace("::",n))[0]&&(e=e.slice(1)),":"===e[e.length-1]&&(e=e.slice(0,-1)),{parts:t=function(){const t=e.split(":"),n=[];for(let e=0;e<t.length;e++)n.push(parseInt(t[e],16));return n}(),zoneId:a}}function l(e,t,n,r){if(e.length!==t.length)throw new Error("ipaddr: cannot match CIDR for objects with different lengths");let o,i=0;for(;r>0;){if(o=n-r,o<0&&(o=0),e[i]>>o!=t[i]>>o)return!1;r-=n,i+=1}return!0}function d(e){if(i.test(e))return parseInt(e,16);if("0"===e[0]&&!isNaN(parseInt(e[1],10))){if(o.test(e))return parseInt(e,8);throw new Error(`ipaddr: cannot parse ${e} as octal`)}return parseInt(e,10)}function f(e,t){for(;e.length<t;)e=`0${e}`;return e}const h={};h.IPv4=function(){function e(e){if(4!==e.length)throw new Error("ipaddr: ipv4 octet count should be 4");let t,n;for(t=0;t<e.length;t++)if(n=e[t],!(0<=n&&n<=255))throw new Error("ipaddr: ipv4 octet should fit in 8 bits");this.octets=e}return e.prototype.SpecialRanges={unspecified:[[new e([0,0,0,0]),8]],broadcast:[[new e([255,255,255,255]),32]],multicast:[[new e([224,0,0,0]),4]],linkLocal:[[new e([169,254,0,0]),16]],loopback:[[new e([127,0,0,0]),8]],carrierGradeNat:[[new e([100,64,0,0]),10]],private:[[new e([10,0,0,0]),8],[new e([172,16,0,0]),12],[new e([192,168,0,0]),16]],reserved:[[new e([192,0,0,0]),24],[new e([192,0,2,0]),24],[new e([192,88,99,0]),24],[new e([198,18,0,0]),15],[new e([198,51,100,0]),24],[new e([203,0,113,0]),24],[new e([240,0,0,0]),4]],as112:[[new e([192,175,48,0]),24],[new e([192,31,196,0]),24]],amt:[[new e([192,52,193,0]),24]]},e.prototype.kind=function(){return"ipv4"},e.prototype.match=function(e,t){let n;if(void 0===t&&(n=e,e=n[0],t=n[1]),"ipv4"!==e.kind())throw new Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return l(this.octets,e.octets,8,t)},e.prototype.prefixLengthFromSubnetMask=function(){let e=0,t=!1;const n={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0};let r,o,i;for(r=3;r>=0;r-=1){if(o=this.octets[r],!(o in n))return null;if(i=n[o],t&&0!==i)return null;8!==i&&(t=!0),e+=i}return 32-e},e.prototype.range=function(){return h.subnetMatch(this,this.SpecialRanges)},e.prototype.toByteArray=function(){return this.octets.slice(0)},e.prototype.toIPv4MappedAddress=function(){return h.IPv6.parse(`::ffff:${this.toString()}`)},e.prototype.toNormalizedString=function(){return this.toString()},e.prototype.toString=function(){return this.octets.join(".")},e}(),h.IPv4.broadcastAddressFromCIDR=function(e){try{const t=this.parseCIDR(e),n=t[0].toByteArray(),r=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),o=[];let i=0;for(;i<4;)o.push(parseInt(n[i],10)|255^parseInt(r[i],10)),i++;return new this(o)}catch(e){throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},h.IPv4.isIPv4=function(e){return null!==this.parser(e)},h.IPv4.isValid=function(e){try{return new this(this.parser(e)),!0}catch(e){return!1}},h.IPv4.isValidCIDR=function(e){try{return this.parseCIDR(e),!0}catch(e){return!1}},h.IPv4.isValidFourPartDecimal=function(e){return!(!h.IPv4.isValid(e)||!e.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/))},h.IPv4.networkAddressFromCIDR=function(e){let t,n,r,o,i;try{for(t=this.parseCIDR(e),r=t[0].toByteArray(),i=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),o=[],n=0;n<4;)o.push(parseInt(r[n],10)&parseInt(i[n],10)),n++;return new this(o)}catch(e){throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},h.IPv4.parse=function(e){const t=this.parser(e);if(null===t)throw new Error("ipaddr: string is not formatted like an IPv4 Address");return new this(t)},h.IPv4.parseCIDR=function(e){let t;if(t=e.match(/^(.+)\/(\d+)$/)){const e=parseInt(t[2]);if(e>=0&&e<=32){const n=[this.parse(t[1]),e];return Object.defineProperty(n,"toString",{value:function(){return this.join("/")}}),n}}throw new Error("ipaddr: string is not formatted like an IPv4 CIDR range")},h.IPv4.parser=function(e){let t,n,o;if(t=e.match(r.fourOctet))return function(){const e=t.slice(1,6),r=[];for(let t=0;t<e.length;t++)n=e[t],r.push(d(n));return r}();if(t=e.match(r.longValue)){if(o=d(t[1]),o>4294967295||o<0)throw new Error("ipaddr: address outside defined range");return function(){const e=[];let t;for(t=0;t<=24;t+=8)e.push(o>>t&255);return e}().reverse()}return(t=e.match(r.twoOctet))?function(){const e=t.slice(1,4),n=[];if(o=d(e[1]),o>16777215||o<0)throw new Error("ipaddr: address outside defined range");return n.push(d(e[0])),n.push(o>>16&255),n.push(o>>8&255),n.push(255&o),n}():(t=e.match(r.threeOctet))?function(){const e=t.slice(1,5),n=[];if(o=d(e[2]),o>65535||o<0)throw new Error("ipaddr: address outside defined range");return n.push(d(e[0])),n.push(d(e[1])),n.push(o>>8&255),n.push(255&o),n}():null},h.IPv4.subnetMaskFromPrefixLength=function(e){if((e=parseInt(e))<0||e>32)throw new Error("ipaddr: invalid IPv4 prefix length");const t=[0,0,0,0];let n=0;const r=Math.floor(e/8);for(;n<r;)t[n]=255,n++;return r<4&&(t[r]=Math.pow(2,e%8)-1<<8-e%8),new this(t)},h.IPv6=function(){function e(e,t){let n,r;if(16===e.length)for(this.parts=[],n=0;n<=14;n+=2)this.parts.push(e[n]<<8|e[n+1]);else{if(8!==e.length)throw new Error("ipaddr: ipv6 part count should be 8 or 16");this.parts=e}for(n=0;n<this.parts.length;n++)if(r=this.parts[n],!(0<=r&&r<=65535))throw new Error("ipaddr: ipv6 part should fit in 16 bits");t&&(this.zoneId=t)}return e.prototype.SpecialRanges={unspecified:[new e([0,0,0,0,0,0,0,0]),128],linkLocal:[new e([65152,0,0,0,0,0,0,0]),10],multicast:[new e([65280,0,0,0,0,0,0,0]),8],loopback:[new e([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new e([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new e([0,0,0,0,0,65535,0,0]),96],discard:[new e([256,0,0,0,0,0,0,0]),64],rfc6145:[new e([0,0,0,0,65535,0,0,0]),96],rfc6052:[new e([100,65435,0,0,0,0,0,0]),96],"6to4":[new e([8194,0,0,0,0,0,0,0]),16],teredo:[new e([8193,0,0,0,0,0,0,0]),32],benchmarking:[new e([8193,2,0,0,0,0,0,0]),48],amt:[new e([8193,3,0,0,0,0,0,0]),32],as112v6:[[new e([8193,4,274,0,0,0,0,0]),48],[new e([9760,79,32768,0,0,0,0,0]),48]],deprecated:[new e([8193,16,0,0,0,0,0,0]),28],orchid2:[new e([8193,32,0,0,0,0,0,0]),28],droneRemoteIdProtocolEntityTags:[new e([8193,48,0,0,0,0,0,0]),28],reserved:[[new e([8193,0,0,0,0,0,0,0]),23],[new e([8193,3512,0,0,0,0,0,0]),32]]},e.prototype.isIPv4MappedAddress=function(){return"ipv4Mapped"===this.range()},e.prototype.kind=function(){return"ipv6"},e.prototype.match=function(e,t){let n;if(void 0===t&&(n=e,e=n[0],t=n[1]),"ipv6"!==e.kind())throw new Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return l(this.parts,e.parts,16,t)},e.prototype.prefixLengthFromSubnetMask=function(){let e=0,t=!1;const n={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0};let r,o;for(let i=7;i>=0;i-=1){if(r=this.parts[i],!(r in n))return null;if(o=n[r],t&&0!==o)return null;16!==o&&(t=!0),e+=o}return 128-e},e.prototype.range=function(){return h.subnetMatch(this,this.SpecialRanges)},e.prototype.toByteArray=function(){let e;const t=[],n=this.parts;for(let r=0;r<n.length;r++)e=n[r],t.push(e>>8),t.push(255&e);return t},e.prototype.toFixedLengthString=function(){const e=function(){const e=[];for(let t=0;t<this.parts.length;t++)e.push(f(this.parts[t].toString(16),4));return e}.call(this).join(":");let t="";return this.zoneId&&(t=`%${this.zoneId}`),e+t},e.prototype.toIPv4Address=function(){if(!this.isIPv4MappedAddress())throw new Error("ipaddr: trying to convert a generic ipv6 address to ipv4");const e=this.parts.slice(-2),t=e[0],n=e[1];return new h.IPv4([t>>8,255&t,n>>8,255&n])},e.prototype.toNormalizedString=function(){const e=function(){const e=[];for(let t=0;t<this.parts.length;t++)e.push(this.parts[t].toString(16));return e}.call(this).join(":");let t="";return this.zoneId&&(t=`%${this.zoneId}`),e+t},e.prototype.toRFC5952String=function(){const e=/((^|:)(0(:|$)){2,})/g,t=this.toNormalizedString();let n,r=0,o=-1;for(;n=e.exec(t);)n[0].length>o&&(r=n.index,o=n[0].length);return o<0?t:`${t.substring(0,r)}::${t.substring(r+o)}`},e.prototype.toString=function(){return this.toRFC5952String()},e}(),h.IPv6.broadcastAddressFromCIDR=function(e){try{const t=this.parseCIDR(e),n=t[0].toByteArray(),r=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),o=[];let i=0;for(;i<16;)o.push(parseInt(n[i],10)|255^parseInt(r[i],10)),i++;return new this(o)}catch(e){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${e})`)}},h.IPv6.isIPv6=function(e){return null!==this.parser(e)},h.IPv6.isValid=function(e){if("string"==typeof e&&-1===e.indexOf(":"))return!1;try{const t=this.parser(e);return new this(t.parts,t.zoneId),!0}catch(e){return!1}},h.IPv6.isValidCIDR=function(e){if("string"==typeof e&&-1===e.indexOf(":"))return!1;try{return this.parseCIDR(e),!0}catch(e){return!1}},h.IPv6.networkAddressFromCIDR=function(e){let t,n,r,o,i;try{for(t=this.parseCIDR(e),r=t[0].toByteArray(),i=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),o=[],n=0;n<16;)o.push(parseInt(r[n],10)&parseInt(i[n],10)),n++;return new this(o)}catch(e){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${e})`)}},h.IPv6.parse=function(e){const t=this.parser(e);if(null===t.parts)throw new Error("ipaddr: string is not formatted like an IPv6 Address");return new this(t.parts,t.zoneId)},h.IPv6.parseCIDR=function(e){let t,n,r;if((n=e.match(/^(.+)\/(\d+)$/))&&(t=parseInt(n[2]),t>=0&&t<=128))return r=[this.parse(n[1]),t],Object.defineProperty(r,"toString",{value:function(){return this.join("/")}}),r;throw new Error("ipaddr: string is not formatted like an IPv6 CIDR range")},h.IPv6.parser=function(e){let t,n,r,o,i,a;if(r=e.match(c.deprecatedTransitional))return this.parser(`::ffff:${r[1]}`);if(c.native.test(e))return u(e,8);if((r=e.match(c.transitional))&&(a=r[6]||"",t=r[1],r[1].endsWith("::")||(t=t.slice(0,-1)),t=u(t+a,6),t.parts)){for(i=[parseInt(r[2]),parseInt(r[3]),parseInt(r[4]),parseInt(r[5])],n=0;n<i.length;n++)if(o=i[n],!(0<=o&&o<=255))return null;return t.parts.push(i[0]<<8|i[1]),t.parts.push(i[2]<<8|i[3]),{parts:t.parts,zoneId:t.zoneId}}return null},h.IPv6.subnetMaskFromPrefixLength=function(e){if((e=parseInt(e))<0||e>128)throw new Error("ipaddr: invalid IPv6 prefix length");const t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];let n=0;const r=Math.floor(e/8);for(;n<r;)t[n]=255,n++;return r<16&&(t[r]=Math.pow(2,e%8)-1<<8-e%8),new this(t)},h.fromByteArray=function(e){const t=e.length;if(4===t)return new h.IPv4(e);if(16===t)return new h.IPv6(e);throw new Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")},h.isValid=function(e){return h.IPv6.isValid(e)||h.IPv4.isValid(e)},h.isValidCIDR=function(e){return h.IPv6.isValidCIDR(e)||h.IPv4.isValidCIDR(e)},h.parse=function(e){if(h.IPv6.isValid(e))return h.IPv6.parse(e);if(h.IPv4.isValid(e))return h.IPv4.parse(e);throw new Error("ipaddr: the address has neither IPv6 nor IPv4 format")},h.parseCIDR=function(e){try{return h.IPv6.parseCIDR(e)}catch(t){try{return h.IPv4.parseCIDR(e)}catch(e){throw new Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},h.process=function(e){const t=this.parse(e);return"ipv6"===t.kind()&&t.isIPv4MappedAddress()?t.toIPv4Address():t},h.subnetMatch=function(e,t,n){let r,o,i,a;for(o in null==n&&(n="unicast"),t)if(Object.prototype.hasOwnProperty.call(t,o))for(i=t[o],!i[0]||i[0]instanceof Array||(i=[i]),r=0;r<i.length;r++)if(a=i[r],e.kind()===a[0].kind()&&e.match.apply(e,a))return o;return n},e.exports?e.exports=h:t.ipaddr=h}(MA)),zA.exports;var e}();Math.floor,String.fromCharCode;new Map([[gA.CNAME,"ExXjtfdQe8JacoqP9Z535WzQKjF4CzW1TTRKRgpxvya3"],[gA.Url,"ExXjtfdQe8JacoqP9Z535WzQKjF4CzW1TTRKRgpxvya3"]]),new Set([gA.BASE,gA.BSC,gA.ETH,gA.Injective]),new Set([gA.BASE,gA.BSC,gA.ETH]),new Set([gA.ARWV,gA.Backpack,gA.BTC,gA.CNAME,gA.Discord,gA.DOGE,gA.Email,gA.Github,gA.IPFS,gA.IPNS,gA.LTC,gA.Pic,gA.POINT,gA.Reddit,gA.SHDW,gA.Telegram,gA.Twitter,gA.TXT,gA.Url]),new Set([gA.BASE,gA.BSC,gA.ETH,gA.Injective,gA.SOL]);new Map([["EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",[234,160,32,198,28,196,121,113,40,19,70,28,225,83,137,74,150,166,192,11,33,237,12,252,39,152,209,249,169,233,201,74]],["Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB",[43,137,185,220,143,223,159,52,112,154,91,16,107,71,47,15,57,187,108,169,206,4,176,253,127,46,151,22,136,226,229,59]],["So11111111111111111111111111111111111111112",[239,13,139,111,218,44,235,164,29,161,93,64,149,209,218,57,42,13,47,142,208,198,199,188,15,76,250,200,194,128,181,109]],["EchesyfXePKdLtoiZSL8pBe8Myagyy8ZRqsACNCFGnvp",[200,6,87,183,246,243,234,194,114,24,208,157,90,78,84,228,123,37,118,141,159,94,16,172,21,254,44,249,0,136,20,0]],["mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So",[194,40,154,106,67,210,206,145,198,245,92,174,195,112,244,172,195,138,46,212,119,245,136,19,51,76,109,3,116,159,242,164]],["DezXAZ8z7PnrnRJjz3wXBoRgixCa6xjnB7YaB1pPB263",[114,176,33,33,124,163,254,104,146,42,25,170,249,144,16,156,185,216,78,154,208,4,180,210,2,90,214,245,41,49,68,25]],["EPeUFDgHRxs9xxEPVaL6kfGQvCon7jmAWKVUHuux1Tpz",[142,134,15,183,78,96,229,115,107,69,93,130,246,11,55,40,4,156,52,142,148,150,26,221,95,150,27,2,253,238,37,53]],["HZ1JovNiVvGrGNiiYvEozEVgZ58xaU3RKwX8eACQBCt3",[11,191,40,233,168,65,161,204,120,143,106,54,27,23,202,7,45,14,163,9,138,30,93,241,195,146,45,6,113,149,121,255]],["bSo13r4TkiE4KumL71LsHTPpL2euBYLFx6h9HP3piy1",[137,135,83,121,231,15,143,186,220,23,174,243,21,173,243,168,213,209,96,184,17,67,85,55,224,60,151,232,170,201,125,156]],["6McPRfPV6bY1e9hLxWyG54W9i9Epq75QBvXg2oetBVTB",[122,91,193,210,181,106,208,41,4,140,214,57,100,179,173,39,118,234,223,129,46,220,26,67,163,20,6,203,84,191,245,146]],["6p6xgHyF7AeE6TZkSmFsko444wqoP15icUSqi2jfGiPN",[135,149,81,2,24,83,238,199,167,220,130,117,120,232,230,157,167,228,250,129,72,51,154,160,211,213,41,100,5,190,75,26]]]);var jA;!function(e){e[e.None=0]="None",e[e.Solana=1]="Solana",e[e.Ethereum=2]="Ethereum",e[e.UnverifiedSolana=3]="UnverifiedSolana"}(jA||(jA={}));const UA=e=>{switch(e){case jA.None:return 0;case jA.Ethereum:return 20;case jA.Solana:case jA.UnverifiedSolana:return 32;default:throw new Error("Invalid validation enum")}};class DA{stalenessValidation;rightOfAssociationValidation;contentLength;static LEN=8;static schema={struct:{stalenessValidation:"u16",rightOfAssociationValidation:"u16",contentLength:"u32"}};constructor(e){this.stalenessValidation=e.stalenessValidation,this.rightOfAssociationValidation=e.rightOfAssociationValidation,this.contentLength=e.contentLength}static deserialize(e){return new DA(Mw(this.schema,e,!0))}static async retrieve(e,t){const n=await sm(e,t);if(!n.exists)throw new Error("Record header account not found");return this.deserialize(n.data.slice(96,96+this.LEN))}}class LA{header;data;constructor(e,t){this.data=t,this.header=e}static deserialize(e){const t=DA.deserialize(e.slice(96,96+DA.LEN));return new LA(t,e.slice(96+DA.LEN))}static async retrieve(e,t){const n=await sm(e,t);if(!n.exists)throw new Vw("Record account not found");return this.deserialize(n.data)}static async retrieveBatch(e,t){return(await cm(e,t)).map((e=>e.exists?this.deserialize(e.data):void 0))}getContent(){const e=UA(this.header.stalenessValidation)+UA(this.header.rightOfAssociationValidation);return this.data.slice(e)}getStalenessId(){const e=UA(this.header.stalenessValidation);return this.data.slice(0,e)}getRoAId(){const e=UA(this.header.stalenessValidation),t=e+UA(this.header.rightOfAssociationValidation);return this.data.slice(e,t)}}const $A=57896044618658097711785492504343953926634992332820282019728792003956564819949n,FA=19681161376707505956807079304988542015446066515923890162744021073123829784752n;function qA(e){const t=e%$A;return t>=0n?t:$A+t}function WA(e,t){let n=e;for(;t-- >0n;)n*=n,n%=$A;return n}function VA(e,t){const n=qA(e*e),r=function(e,t){const n=qA(t*t*t),r=function(e){const t=e*e%$A*e%$A,n=WA(t,2n)*t%$A,r=WA(n,1n)*e%$A,o=WA(r,5n)*r%$A,i=WA(o,10n)*o%$A,a=WA(i,20n)*i%$A,s=WA(a,40n)*a%$A,c=WA(s,80n)*s%$A,u=WA(c,80n)*s%$A,l=WA(u,10n)*o%$A;return WA(l,2n)*e%$A}(e*qA(n*n*t));let o=qA(e*n*r);const i=qA(t*o*o),a=o,s=qA(o*FA),c=i===e,u=i===qA(-e),l=i===qA(-e*FA);return c&&(o=a),(u||l)&&(o=s),1n===(1n&qA(o))&&(o=qA(-o)),c||u?o:null}(qA(n-1n),qA(37095705934669439343138083508754565189542113879843219016388785533085940283555n*n+1n));return null!==r&&(0n!==r||!(128&t))}const KA=async(e,t,n={allowPda:!1})=>{const{address:r}=await yA(t),o=await lA.getAddress(r),i=await(async(e,t)=>{const{address:n}=await yA(t+"."+e,mA.V1);return n})(t,gA.SOL),a=await(async(e,t)=>{const{address:n}=await yA(e);return await cA(`${t}`,n,sA)})(t,gA.SOL),[s,c,u,l]=await cm(e,[r,o,i,a]);if(!s.exists)throw new Xw(`Domain ${t} does not exist`);const d=rA.deserialize(s.data);if(c.exists&&lA.deserialize(c.data).tag===uA.ActiveRecord){const t=await fA(e,r);if(!t)throw new eA;return t}e:if(l.exists){const e=LA.deserialize(l.data),t=e.getStalenessId(),n=e.getRoAId(),r=e.getContent();if(32!==r.length)throw new Qw("Record is malformed");if(e.header.rightOfAssociationValidation!==jA.Solana||e.header.stalenessValidation!==jA.Solana)throw new tA;if(d.owner!==Uw.decode(t))break e;if(((e,t)=>e.length===t.length&&e.every(((e,n)=>e===t[n])))(n,r))return Uw.decode(r);throw new Jw(`The RoA ID shoudl be ${Uw.decode(r)} but is ${Uw.decode(n)} `)}if(u.exists){const e=new Uint8Array([...u.data.slice(rA.HEADER_LEN,rA.HEADER_LEN+32),...Uw.encode(i)]),t=u.data.slice(rA.HEADER_LEN+32,rA.HEADER_LEN+32+64),n=await(async({data:e,signature:t,address:n})=>{const r=await async function(e){const t=Ms().encode(e);return await crypto.subtle.importKey("raw",t,{name:"Ed25519"},!0,["verify"])}(n),o=Lw.encode((e=>Array.from(e).map((e=>e.toString(16).padStart(2,"0"))).join(""))(e));return await crypto.subtle.verify({name:"Ed25519"},r,t,o)})({data:e,signature:t,address:d.owner});if(n)return Uw.decode(u.data.slice(rA.HEADER_LEN,rA.HEADER_LEN+32))}if(!function(e){const t=Uw.encode(e);if(32!==t.byteLength)return!1;return VA(function(e){const t=e.reduce(((e,t,n)=>`${function(e){const t=e.toString(16);return 1===t.length?`0${t}`:t}(31===n?-129&t:t)}${e}`),"");return BigInt(`0x${t}`)}(t),t[31])}(d.owner)){if("any"===n.allowPda)return d.owner;if(n.allowPda){const t=await sm(e,d.owner);if(!t.exists)throw new Yw("Invalid domain owner account");const r=n.programIds?.some((e=>t.programAddress===e));if(r)return d.owner;throw new Yw(`The program ${t.programAddress} is not allowed`)}throw new Yw}return d.owner};Error;function GA(e){return function(e){return function(e){return"object"==typeof e&&null!==e&&"message"in e}(e)&&"string"==typeof e.message?e.message:null==e?"":String(e)}(e).replace(/\.$/u,"")}function HA(e,t){return n=e,Boolean("string"==typeof n?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var n}class JA extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}function ZA(e,t="Assertion failed.",n=JA){if(!e){if(t instanceof Error)throw t;throw HA(n,t)}}function YA(e,t,n="Assertion failed",r=JA){try{Er(e,t)}catch(e){throw HA(r,`${n}: ${GA(e)}.`)}}function XA(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function QA(...e){const t=(e,t)=>n=>e(t(n));return{encode:Array.from(e).reverse().reduce(((e,n)=>e?t(e,n.encode):n.encode),void 0),decode:e.reduce(((e,n)=>e?t(e,n.decode):n.decode),void 0)}}function eb(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map((t=>{if(XA(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map((t=>{if("string"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const n=e.indexOf(t);if(-1===n)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return n}))}}}function tb(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function nb(e,t="="){if(XA(e),"string"!=typeof t)throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function rb(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function ob(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0;const o=[],i=Array.from(e);for(i.forEach((e=>{if(XA(e),e<0||e>=t)throw new Error(`Wrong integer: ${e}`)}));;){let e=0,a=!0;for(let o=r;o<i.length;o++){const s=i[o],c=t*e+s;if(!Number.isSafeInteger(c)||t*e/t!==e||c-s!=t*e)throw new Error("convertRadix: carry overflow");e=c%n;const u=Math.floor(c/n);if(i[o]=u,!Number.isSafeInteger(u)||u*n+e!==c)throw new Error("convertRadix: carry overflow");a&&(u?a=!1:r=o)}if(o.push(e),a)break}for(let t=0;t<e.length-1&&0===e[t];t++)o.push(0);return o.reverse()}const ib=(e,t)=>t?ib(t,e%t):e,ab=(e,t)=>e+(t-ib(e,t));function sb(e,t,n,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(ab(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${ab(t,n)}`);let o=0,i=0;const a=2**n-1,s=[];for(const r of e){if(XA(r),r>=2**t)throw new Error(`convertRadix2: invalid data word=${r} from=${t}`);if(o=o<<t|r,i+t>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${t}`);for(i+=t;i>=n;i-=n)s.push((o>>i-n&a)>>>0);o&=2**i-1}if(o=o<<n-i&a,!r&&i>=t)throw new Error("Excess padding");if(!r&&o)throw new Error(`Non-zero padding: ${o}`);return r&&i>0&&s.push(o>>>0),s}function cb(e){return XA(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return ob(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(ob(t,e,256))}}}function ub(e,t=!1){if(XA(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(ab(8,e)>32||ab(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return sb(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(sb(n,e,8,t))}}}const lb=QA(ub(4),eb("0123456789ABCDEF"),tb("")),db=QA(ub(5),eb("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),nb(5),tb("")),fb=(QA(ub(5),eb("0123456789ABCDEFGHIJKLMNOPQRSTUV"),nb(5),tb("")),QA(ub(5),eb("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),tb(""),rb((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")))),QA(ub(6),eb("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),nb(6),tb(""))),hb=QA(ub(6),eb("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),nb(6),tb("")),pb=(QA(ub(6),eb("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),tb("")),e=>QA(cb(58),eb(e),tb(""))),gb=pb("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),mb=[0,2,3,5,6,7,9,10,11],yb={encode(e){let t="";for(let n=0;n<e.length;n+=8){const r=e.subarray(n,n+8);t+=gb.encode(r).padStart(mb[r.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const r=e.slice(n,n+11),o=mb.indexOf(r.length),i=gb.decode(r);for(let e=0;e<i.length-o;e++)if(0!==i[e])throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(i.slice(i.length-o)))}return Uint8Array.from(t)}};QA(eb("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),tb(""));const vb={encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)};QA(ub(4),eb("0123456789abcdef"),tb(""),rb((e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})));n(1048).hp;!function(){const e=[]}();function wb(e){return e instanceof Uint8Array}function Ab(e){ZA(wb(e),"Value must be a Uint8Array.")}function bb(e,t,n){return new Xd({...e,*refiner(r,o){yield*e.refiner(r,o);const i=Zd(n(r,o),o,e,r);for(const e of i)yield{...e,refinement:t}}})}var Sb;!function(e){e.Copyable="copyable",e.Divider="divider",e.Heading="heading",e.Panel="panel",e.Spinner="spinner",e.Text="text",e.Image="image",e.Row="row",e.Address="address",e.Button="button",e.Input="input",e.Form="form"}(Sb||(Sb={}));const Eb=rf({type:of()}),xb=(af(Eb,rf({value:sf("unknown",(()=>!0))})),af(Eb,rf({type:cf(Sb.Image),value:bb(of(),"SVG",(e=>!!e.includes("<svg")||"Value is not a valid SVG."))}))),Tb=function(e,t,n=[]){return(...r)=>{if(1===r.length&&function(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}}(r[0])){const n={...r[0],type:e};return YA(n,t,`Invalid ${e} component`),n}const o=n.reduce(((e,t,n)=>void 0!==r[n]?{...e,[t]:r[n]}:e),{type:e});return YA(o,t,`Invalid ${e} component`),o}}(Sb.Image,xb,["value"]);async function kb(e,t){const n=await async function(e,t){if("function"!=typeof fetch)throw new Error(`Failed to fetch image data from "${e}": Using this function requires the "endowment:network-access" permission.`);return fetch(e,t).then((async t=>{if(!t.ok)throw new Error(`Failed to fetch image data from "${e}": ${t.status} ${t.statusText}`);const n=await t.blob();return ZA("image/jpeg"===n.type||"image/png"===n.type,"Expected image data to be a JPEG or PNG image."),n}))}(e,t),r=new Uint8Array(await n.arrayBuffer());return`data:${n.type};base64,${function(e){return Ab(e),fb.encode(e)}(r)}`}const Ib='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="48" height="48">\n  <path fill="#999999" d="M42.75 24c0 10.59375-8.53125 19.21875-19.125 19.21875-10.6875 0-19.21875-8.625-19.21875-19.21875 0-10.59375 8.53125-19.21875 19.21875-19.21875 10.59375 0 19.125 8.625 19.125 19.21875zM23.625 14.0625c-3.09375 0-5.90625 2.25-5.90625 5.4375 0 0.84375 0.75 1.59375 1.59375 1.59375 0.84375 0 1.59375-0.75 1.59375-1.59375 0-1.125 1.03125-2.25 2.71875-2.25 1.59375 0 2.625 1.125 2.625 2.25 0 0.5625-0.375 1.03125-1.3125 1.59375l0 0c-1.125 0.75-3 1.96875-3 4.5l0 0.46875c0 0.84375 0.75 1.59375 1.6875 1.59375 0.84375 0 1.59375-0.75 1.59375-1.59375l0-0.46875c0-0.65625 0.28125-1.125 1.40625-1.78125 1.03125-0.65625 2.8125-1.875 2.8125-4.3125 0-3.1875-2.8125-5.4375-5.8125-5.4375zM23.53125 31.875c-0.84375 0-1.59375 0.65625-1.59375 1.59375 0 0.84375 0.75 1.59375 1.59375 1.59375l0.09375 0c0.84375 0 1.59375-0.75 1.59375-1.59375 0-0.9375-0.75-1.59375-1.59375-1.59375z"/>\n</svg>';function _b(e){return e.includes("swift:0/iso4217:")}var Cb=function(e){return e.Benign="Benign",e.Warning="Warning",e.Malicious="Malicious",e}({}),Rb=function(e){return e.SUCCESS="SUCCESS",e.ERROR="ERROR",e}({});const Pb=(e,t)=>{const{to:n,type:r,status:o}=e,{address:i}=t;if(!(r===It.Receive||o===kt.Failed))return!1;const{hasReceivedSOL:a,receivedSOLAmount:s}=n.reduce(((e,t)=>t.address!==i||!t.asset?.fungible||t.asset.type!==rc.SolMainnet&&t.asset.type!==rc.SolDevnet?e:{hasReceivedSOL:!0,receivedSOLAmount:e.receivedSOLAmount.plus(t.asset.amount)}),{hasReceivedSOL:!1,receivedSOLAmount:new jo(0)});return a&&s.isLessThan(.001)};function Ob(e,t){return[Pb].some((n=>n(e,t)))}function Nb({scope:e,transactionData:t}){const n=function(e){const t=new jo(e.meta?.fee?.toString()??"0");return t.dividedBy(ec)}(t),r=function(e){const t=e.transaction.signatures.length;return jo(5e3).dividedBy(ec).multipliedBy(t)}(t),o=n.minus(r),i=[{type:"base",asset:{fungible:!0,type:sc[e].nativeToken.caip19Id,unit:sc[e].nativeToken.symbol,amount:r.toString()}}];return o?.isGreaterThan(0)&&i.push({type:"priority",asset:{fungible:!0,type:sc[e].nativeToken.caip19Id,unit:sc[e].nativeToken.symbol,amount:o.toString()}}),i}function Bb({scope:e,transactionData:t}){const n=Nb({scope:e,transactionData:t}),r=[],o=[],i=new Map(t.meta?.preBalances?.map(((e,t)=>[t,new jo(e.toString())]))??[]),a=new Map(t.meta?.postBalances?.map(((e,t)=>[t,new jo(e.toString())]))??[]),s=[...t.transaction.message.accountKeys,...t.meta?.loadedAddresses?.writable??[],...t.meta?.loadedAddresses?.readonly??[]],c=new Set([...Array.from(i.keys()),...Array.from(a.keys())]);for(const n of c){const c=s[n]?.toString();if(!c)continue;const u=i.get(n)??new jo(0),l=a.get(n)??new jo(0),d=0===n?iv(t.meta?.fee??0):new jo(0),f=u.minus(l).dividedBy(new jo(ec)).minus(d);if(f.isZero())continue;const h=f.absoluteValue().toString();u.isGreaterThan(l)&&r.push({address:c,asset:{fungible:!0,type:sc[e].nativeToken.caip19Id,unit:sc[e].nativeToken.symbol,amount:h}}),u.isLessThan(l)&&o.push({address:c,asset:{fungible:!0,type:sc[e].nativeToken.caip19Id,unit:sc[e].nativeToken.symbol,amount:h}})}const u=function({scope:e,transactionData:t}){const{instructions:n}=t.transaction.message,r=[],o=[],i=t.transaction.message.accountKeys.findIndex((e=>e===cd));if(-1===i)return{from:r,to:o};return n.forEach((n=>{const{accounts:a,data:s,programIdIndex:c}=n;if(c!==i)return;const[u,l]=a;if(void 0===u||void 0===l||u!==l)return;const d=t.transaction.message.accountKeys[u],f=t.transaction.message.accountKeys[l];if(!d||!f||d!==f)return;const h=function(e){let t=BigInt(0);for(let n=4;n<12;n++)t|=BigInt(e[n]??0)<<BigInt(8*(n-4));return jo(t.toString()).dividedBy(ec)}(Dd.decode(s));r.push({address:d,asset:{amount:h.toString(),fungible:!0,type:sc[e].nativeToken.caip19Id,unit:sc[e].nativeToken.symbol}}),o.push({address:f,asset:{amount:h.toString(),fungible:!0,type:sc[e].nativeToken.caip19Id,unit:sc[e].nativeToken.symbol}})})),{from:r,to:o}}({scope:e,transactionData:t});return u.from.length>0&&r.push(...u.from),u.to.length>0&&o.push(...u.to),{fees:n,from:r,to:o}}function zb({scope:e,transactionData:t}){const n=Nb({scope:e,transactionData:t}),r=[...t.transaction.message.accountKeys,...t.meta?.loadedAddresses?.writable??[],...t.meta?.loadedAddresses?.readonly??[]],o=[],i=[],{instructions:a}=t.transaction.message;a.forEach((t=>{const{accounts:n,data:a,programIdIndex:s}=t;if(r[s]!==cd)return;const[c,u]=n;if(void 0===c||void 0===u)return;const l=r[c],d=r[u];if(!l||!d)return;const f=Dd.decode(a),h=function(e){let t=BigInt(0);for(let n=0;n<4;n++)t|=BigInt(e[n]??0)<<BigInt(8*n);return Number(t)}(f);if(2!==h)return;const p=function(e){let t=BigInt(0);for(let n=4;n<12;n++)t|=BigInt(e[n]??0)<<BigInt(8*(n-4));return jo(t.toString()).dividedBy(ec)}(f);o.push({address:l,asset:{amount:p.toString(),fungible:!0,type:sc[e].nativeToken.caip19Id,unit:sc[e].nativeToken.symbol}}),i.push({address:d,asset:{amount:p.toString(),fungible:!0,type:sc[e].nativeToken.caip19Id,unit:sc[e].nativeToken.symbol}})}));return{fees:n,from:Mb(o),to:Mb(i)}}function Mb(e){return e.reduce(((e,t)=>{const n=e.find((e=>!0===e?.asset?.fungible&&!0===t.asset?.fungible&&e.asset.type===t.asset.type&&e.address===t.address));if(n&&!0===n.asset?.fungible&&!0===t.asset?.fungible){const e=new jo(n.asset.amount).plus(t.asset.amount);n.asset.amount=e.toString()}else e.push(t);return e}),[])}function jb({scope:e,transactionData:t}){const n=[],r=[],o=new Map(t.meta?.preTokenBalances?.map((e=>[e.accountIndex,new jo(e.uiTokenAmount.amount)]))??[]),i=new Map(t.meta?.postTokenBalances?.map((e=>[e.accountIndex,new jo(e.uiTokenAmount.amount)]))??[]),a=new Set([...t.meta?.preTokenBalances?.map((e=>e.accountIndex))??[],...t.meta?.postTokenBalances?.map((e=>e.accountIndex))??[]]);for(const s of a){const a=o.get(s)??new jo(0),c=(i.get(s)??new jo(0)).minus(a);if(c.isZero())continue;const u=t.meta?.preTokenBalances?.find((e=>e.accountIndex===s))??t.meta?.postTokenBalances?.find((e=>e.accountIndex===s));if(!u)continue;const{mint:l,uiTokenAmount:{decimals:d},owner:f}=u,h=gy(e,l);if(!f)continue;const p=c.absoluteValue().dividedBy(new jo(10).pow(d)).toString();c.isNegative()&&n.push({address:f,asset:{fungible:!0,type:h,unit:"",amount:p}}),c.isPositive()&&r.push({address:f,asset:{fungible:!0,type:h,unit:"",amount:p}})}const s=function({scope:e,transactionData:t}){const{instructions:n}=t.transaction.message,r=[],o=[],i=t.transaction.message.accountKeys.findIndex((e=>e===bh));if(-1===i)return{from:r,to:o};return n.forEach((n=>{const{accounts:a,data:s,programIdIndex:c}=n;if(c!==i)return;let u,l;if(5===a.length?(u=a[0],l=a[2]):3===a.length&&(u=a[0],l=a[1]),void 0===u||void 0===l||u!==l)return;const d=t.transaction.message.accountKeys[u],f=t.transaction.message.accountKeys[l];if(!d||!f||d!==f)return;const h=function(e){let t=BigInt(0);for(let n=1;n<9;n++)t|=BigInt(e[n]??0)<<BigInt(8*(n-1));return jo(t.toString()).dividedBy(1e6)}(Dd.decode(s)),p=t.meta?.preTokenBalances?.find((e=>e.accountIndex===u))?.mint,g=t.meta?.preTokenBalances?.find((e=>e.accountIndex===u))?.owner;if(!p||!g)return;const m=gy(e,p);r.push({address:g,asset:{amount:h.toString(),fungible:!0,type:m,unit:""}}),o.push({address:g,asset:{amount:h.toString(),fungible:!0,type:m,unit:""}})})),{from:r,to:o}}({scope:e,transactionData:t});return s.from.length>0&&n.push(...s.from),s.to.length>0&&r.push(...s.to),{from:n,to:r}}function Ub({transactionData:e,account:t,scope:n}){try{const{blockTime:r}=e,{id:o,address:i}=t,a=e.transaction.signatures[0];if(!a)throw new Error("Transaction ID is required");const s=Number(r),c=function(e){const t=e.meta?.err||e.meta?.status&&"Err"in e.meta.status,n=t?kt.Failed:kt.Confirmed;return n}(e);let u=[],l=[],d=[];const f=(c===kt.Failed?zb:Bb)({scope:n,transactionData:e});u=f.fees,l=f.from,d=f.to;const{from:h,to:p}=jb({scope:n,transactionData:e});let g=[...h,...l],m=[...p,...d];const y=function({address:e,status:t,from:n,to:r}){if(0===n.length||0===r.length||t===kt.Failed)return It.Unknown;const o=n.filter((t=>t.address===e)),i=r.filter((t=>t.address===e)),a=o.length>0,s=i.length>0,c=n.every((t=>r.some((n=>n.address===e&&!0===t.asset?.fungible&&!0===n.asset?.fungible&&t.asset.type===n.asset.type)))),u=r.every((t=>n.some((n=>n.address===e&&!0===n.asset?.fungible&&!0===t.asset?.fungible&&n.asset.type===t.asset.type))));if(c&&u)return It.Send;if(a&&s)return It.Swap;if(a)return It.Send;return It.Receive}({address:zs(i),status:c,from:g,to:m});return y===It.Swap&&(g=g.filter((e=>e.address===i)),m=m.filter((e=>e.address===i))),y===It.Receive&&(m=m.filter((e=>e.address===i)),u=[]),{id:a,account:o,timestamp:s,chain:n,status:c,type:y,from:g,to:m,fees:u,events:[{status:c,timestamp:s}]}}catch(e){return Cd.warn(e,"Error mapping transaction"),null}}class Db{#f;#k;#i;#I=3e4;#_=10000n;constructor(e,t,n){this.#f=e,this.#k=t,this.#i=n}async buildTransactionMessage(e){this.#i.log("Build transfer SPL token transaction message");const{from:t,to:n,mint:r,amount:o,network:i}=e;ti(r,"Mint is required");const{privateKeyBytes:a}=await Nm({entropySource:t.entropySource,derivationPath:t.derivationPath}),s=await Zl(a),c=await this.getTokenAccount({mint:r,network:i});Db.assertAccountExists(c);const u=c.programAddress,l=function(e,t){const n=new jo(e.toString());if(n.isNegative())throw new Error("Token amount cannot be negative");const r=n.times(10**t).integerValue(jo.ROUND_DOWN);return BigInt(r.toString())}(o,this.getDecimals(c)),[d,f]=await Promise.all([Db.deriveAssociatedTokenAccountAddress({mint:r,owner:s.address,tokenProgram:u}),Db.deriveAssociatedTokenAccountAddress({mint:r,owner:n,tokenProgram:u})]),h=await this.#k.getLatestBlockhash(i),p=$u(Al({version:0}),(e=>Il(s.address,e)),(e=>qu(h,e)),(e=>Cl([jh({mint:r,payer:s,tokenProgram:u,owner:n,ata:f}),rp({source:d,destination:f,authority:s,amount:l},{programAddress:u})],e)));return Rl([Qf({units:this.#I}),rh({microLamports:this.#_})],p)}static async deriveAssociatedTokenAccountAddress({mint:e,owner:t,tokenProgram:n}){return(await Bh({mint:e,owner:t,tokenProgram:n}))[0]}async getTokenAccount({mint:e,network:t}){const n=this.#f.getRpc(t),r=await async function(e,t,n={}){const{abortSignal:r,...o}=n,{value:i}=await e.getAccountInfo(t,{...o,encoding:"jsonParsed"}).send({abortSignal:r});return i&&"object"==typeof i&&"parsed"in i.data?im(t,i):om(t,i)}(n,e);return r}getDecimals(e){Db.assertAccountExists(e),Db.assertAccountDecoded(e);const{decimals:t}=e.data;if(!t)throw new Error(`Decimals not found for ${e}`);return t}static isAccountExists(e){return e.exists}static assertAccountExists(e){if(!Db.isAccountExists(e))throw new Error("Token account does not exist")}static assertAccountNotExists(e){if(Db.isAccountExists(e))throw new Error("Token account exists")}static isAccountDecoded(e){return Db.assertAccountExists(e),!(e.data instanceof Uint8Array)}static assertAccountDecoded(e){if(Db.assertAccountExists(e),!Db.isAccountDecoded(e))throw new Error("Token account is encoded. Implement a decoder.")}getComputeUnitLimit(){return this.#I}getComputeUnitPriceMicroLamportsPerComputeUnit(){return this.#_}}const Lb=new ey,$b=new class{#i;#C="[⚡ EventEmitter]";#R=new Map;constructor(e){this.#i=e}on(e,t){this.#i.info(this.#C,`Adding listener for event ${e}`),this.#R.has(e)||this.#R.set(e,new Set),this.#R.get(e)?.add(t)}off(e,t){this.#i.info(this.#C,`Removing listener for event ${e}`);const n=this.#R.get(e);n&&(n.delete(t),0===n.size&&this.#R.delete(e))}async emitSync(e,t){this.#i.info(this.#C,`Emitting event ${e}`);const n=this.#R.get(e);if(n){const e=Array.from(n).map((async e=>await e(t)));await Promise.allSettled(e)}}removeAllListeners(e){e?(this.#i.info(this.#C,`Removing all listeners for event ${e}`),this.#R.delete(e)):(this.#i.info(this.#C,"Removing all listeners for all events"),this.#R.clear())}listenerCount(e){const t=this.#R.get(e);return t?t.size:0}eventNames(){return Array.from(this.#R.keys())}}(Cd),Fb=new class{#g;constructor(e){this.#g=e}async get(){const e=await snap.request({method:"snap_getState",params:{encrypted:this.#g.encrypted}}),t=Bm(e??{});var n,r;return n=this.#g.defaultState,r=t,{...n,...Object.fromEntries(Object.entries(r).filter((([e,t])=>null!=t&&(!t||"object"!=typeof t||Object.keys(t).length>0))))}}async getKey(e){const t=await snap.request({method:"snap_getState",params:{key:e,encrypted:this.#g.encrypted}});if(null!==t)return Bm(t)}async setKey(e,t){await snap.request({method:"snap_setState",params:{key:e,value:zm(t),encrypted:this.#g.encrypted}})}async update(e){return this.get().then((async t=>{const n=e(t);return await snap.request({method:"snap_manageState",params:{operation:"update",newState:zm(n),encrypted:this.#g.encrypted}}),n}))}async deleteKey(e){await this.update((t=>((0,ni.unset)(t,e),t)))}}({encrypted:!1,defaultState:{keyringAccounts:{},mapInterfaceNameToId:{},transactions:{},signatures:{},assets:{},tokenPrices:{},subscriptions:{}}}),qb=new class{#w;prefix;logger;constructor(e,t=console,n="__cache__default"){this.#w=e,this.logger=t,this.prefix=n}async get(e){return(await this.mget([e]))[e]}async set(e,t,n=Number.MAX_SAFE_INTEGER){this.#P(n),await this.#w.setKey(`${this.prefix}.${e}`,{value:t,expiresAt:Math.min(Date.now()+(n??Number.MAX_SAFE_INTEGER),Number.MAX_SAFE_INTEGER)})}#P(e){if(void 0!==e){if("number"!=typeof e)throw new Error("TTL must be a number");if(e<0)throw new Error("TTL must be positive");if(e>Number.MAX_SAFE_INTEGER)throw new Error("TTL must be less than 2^53 - 1")}}async delete(e){return(await this.mdelete([e]))[e]??!1}async clear(){await this.#w.setKey(this.prefix,{})}async has(e){return void 0!==await this.get(e)}async keys(){const e=await this.#w.getKey(this.prefix);return Object.keys(e??{})}async size(){const e=await this.#w.getKey(this.prefix);return Object.keys(e??{}).length}async peek(e){const t=await this.#w.getKey(this.prefix),n=t?.[e];return n?.value}async mget(e){const t=await this.#w.getKey(this.prefix),n=Object.entries(t??{}).filter((([t])=>e.includes(t))),r=n.filter((([e,t])=>t&&t.expiresAt<Date.now()));return await this.mdelete(r.map((([e])=>e))),n.reduce(((e,[t,n])=>void 0===n?(this.logger.info(`[StateCache] ❌ Cache miss for key "${t}"`),e):(n.expiresAt<Date.now()?(this.logger.info(`[StateCache] ⌛ Cache expired for key "${t}"`),e[t]=void 0):(this.logger.info(`[StateCache] 🎉 Cache hit for key "${t}"`),e[t]=n.value),e)),{})}async mset(e){if(0!==e.length)if(1!==e.length)e.forEach((({ttlMilliseconds:e})=>{this.#P(e)})),await this.#w.update((t=>{const n=t[this.prefix]??{};return e.forEach((({key:e,value:t,ttlMilliseconds:r})=>{void 0!==t&&(n[e]={value:t,expiresAt:Math.min(Date.now()+(r??Number.MAX_SAFE_INTEGER),Number.MAX_SAFE_INTEGER)})})),t[this.prefix]=n,t}));else{ti(e[0]);const{key:t,value:n,ttlMilliseconds:r}=e[0];await this.set(t,n,r)}}async mdelete(e){const t={};return await this.#w.update((n=>{const r=n[this.prefix]??{};return e.forEach((e=>{void 0===r[e]?t[e]=!1:(delete r[e],t[e]=!0)})),n[this.prefix]=r,n})),t}}(Fb,Cd),Wb=new class{#c=new Map;logger;constructor(e){this.logger=e}#P(e){if(void 0!==e){if("number"!=typeof e)throw new Error("TTL must be a number");if(e<0)throw new Error("TTL must be positive");if(e>Number.MAX_SAFE_INTEGER)throw new Error("TTL must be less than 2^53 - 1")}}#O(e){return e.expiresAt<Date.now()}async#N(){const e=[];for(const[t,n]of this.#c.entries())this.#O(n)&&e.push(t);await this.mdelete(e)}async get(e){return(await this.mget([e]))[e]}async set(e,t,n=Number.MAX_SAFE_INTEGER){this.#P(n),this.#c.set(e,{value:t,expiresAt:Math.min(Date.now()+(n??Number.MAX_SAFE_INTEGER),Number.MAX_SAFE_INTEGER)})}async delete(e){return(await this.mdelete([e]))[e]??!1}async clear(){this.#c.clear()}async has(e){const t=this.#c.get(e);return!!t&&(!this.#O(t)||(this.#c.delete(e),!1))}async keys(){return await this.#N(),Array.from(this.#c.keys())}async size(){return await this.#N(),this.#c.size}async peek(e){const t=this.#c.get(e);if(t){if(!this.#O(t))return t.value;this.#c.delete(e)}}async mget(e){await this.#N();const t={};for(const n of e){const e=this.#c.get(n);e?(this.logger.info(`[InMemoryCache] 🎉 Cache hit for key "${n}"`),t[n]=e.value):(this.logger.info(`[InMemoryCache] ❌ Cache miss for key "${n}"`),t[n]=void 0)}return t}async mset(e){if(0!==e.length)if(1!==e.length)e.forEach((({ttlMilliseconds:e})=>{this.#P(e)})),e.forEach((({key:e,value:t,ttlMilliseconds:n})=>{void 0!==t&&this.#c.set(e,{value:t,expiresAt:Math.min(Date.now()+(n??Number.MAX_SAFE_INTEGER),Number.MAX_SAFE_INTEGER)})}));else{ti(e[0]);const{key:t,value:n,ttlMilliseconds:r}=e[0];await this.set(t,n,r)}}async mdelete(e){return Object.fromEntries(e.map((e=>[e,this.#c.delete(e)])))}}(Cd),Vb=new class{#v;#B=new Map;constructor(e){this.#v=e}#z(e){const t=this.#v.getNetworkBy("caip2Id",e);var n;const r=fw($u(t.rpcUrls,(n=pw,e=>e.map(n)),gw,yw));return this.#B.set(e,r),r}getRpc(e){return z(e,yc),this.#B.get(e)??this.#z(e)}}(Lb),Kb=new class{#v;constructor(e){this.#v=e}async getAll(){return(await snap.request({method:"snap_getWebSockets"})).map((e=>({...e,network:this.#M(e.url)})))}async getById(e){return(await this.getAll()).find((t=>t.id===e))??null}async findByNetwork(e){return(await this.getAll()).find((t=>t.network===e))??null}async save(e){const{url:t,protocols:n}=e,r=await snap.request({method:"snap_openWebSocket",params:{url:t,...n?{protocols:n}:{}}});return{...e,id:r}}async delete(e){await snap.request({method:"snap_closeWebSocket",params:{id:e}})}#M(e){const t=this.#v.getNetworkBy("webSocketUrl",e);if(!t)throw new Error(`No network found for WebSocket URL: ${e}`);return t.caip2Id}}(Lb),Gb=new class{#v;#j;#i;#C="[🔌 WebSocketConnectionService]";#U;#D;#L=new Map;constructor(e,t,n,r){const{maxReconnectAttempts:o,reconnectDelayMilliseconds:i}=t.get().subscription;this.#j=e,this.#v=t,this.#i=r,this.#U=o,this.#D=i,n.on("onStart",this.setupAllConnections.bind(this)),n.on("onUpdate",this.setupAllConnections.bind(this)),n.on("onInstall",this.setupAllConnections.bind(this)),n.on("onWebSocketEvent",this.#$.bind(this)),n.on("onTestSetupAllConnections",this.setupAllConnections.bind(this)),n.on("onTestCloseAllConnections",this.#F.bind(this))}async setupAllConnections(){this.#i.info(this.#C,"Setting up all connections");const{activeNetworks:e}=this.#v.get(),t=(0,ni.difference)(Object.values(nc),e),n=await this.#j.getAll(),r=e=>n.some((t=>t.network===e)),o=e.filter((e=>!r(e))).map((async e=>this.openConnection(e))),i=t.filter(r).map((async e=>this.#q(e)));await Promise.allSettled([...o,...i])}async openConnection(e){this.#i.info(this.#C,`Opening connection for network ${e}`);const t=this.#v.getNetworkBy("caip2Id",e),{webSocketUrl:n}=t,r=await this.#j.findByNetwork(e);if(r)return this.#i.info(this.#C,`Connection for network ${e} already exists`,r),r;let o=0;for(;o<this.#U;)try{this.#i.info(this.#C,`Opening connection for network ${e} to ${n} (attempt ${o+1}/${this.#U})`);return await this.#j.save({network:e,url:n,protocols:[]})}catch(e){if(o+=1,o>=this.#U)throw this.#i.error(this.#C,"Failed to open connection after all retry attempts:",e),e;const t=this.#D*Math.pow(2,o-1);this.#i.info(this.#C,`Connection attempt ${o} failed, retrying in ${t}ms:`,e),await new Promise((e=>setTimeout(e,t)))}throw new Error("Unexpected end of openConnection method")}async#q(e){this.#i.info(this.#C,`Closing connection for network ${e}`),this.#L.delete(e);const t=await this.#j.findByNetwork(e);if(!t)return void this.#i.warn(this.#C,`Tried to close connection for network ${e} but no connection was found`);const n=t.id;try{await this.#j.delete(n),this.#i.info(this.#C,` ❌ Closed connection ${n}`)}catch(e){this.#i.error(this.#C,"Failed to close connection:",e)}}onConnectionRecovery(e,t){const n=this.#L.get(e)??[];this.#L.set(e,[...n,t])}async getConnectionIdByNetwork(e){const t=await this.#j.findByNetwork(e);return t?.id??null}async#$(e){if("open"!==e.type&&"close"!==e.type)return;const{id:t,type:n}=e,r=await this.#j.getById(t);if(!r)return void this.#i.warn(this.#C,`No connection found with id: ${t}`,e);const{network:o}=r;switch(this.#i.info(this.#C,`Handling connection event: ${n} for ${t}`),n){case"open":await this.#W(o);break;case"close":await this.#V(o);break;default:this.#i.warn(this.#C,`Unknown connection event type: ${n}`)}}async#W(e){this.#i.info(this.#C,"✅ Connected to",e),this.#i.info(this.#C,"Triggering connection recovery callbacks",e);const t=this.#L.get(e)?.map((async e=>{try{await e()}catch(e){this.#i.error(this.#C,"Error in connection recovery callback:",e)}}))??[];await Promise.allSettled(t)}async#V(e){await this.openConnection(e)}async#F(){this.#i.info(this.#C,"Closing all connections");const e=Object.values(nc).map((async e=>{await this.#q(e)}));await Promise.allSettled(e)}}(Kb,Lb,$b,Cd),Hb=new class{#w;#K="subscriptions";constructor(e){this.#w=e}async getAll(){const e=await this.#w.getKey(`${this.#K}`);return Object.values(e??{})}async getById(e){return await this.#w.getKey(`${this.#K}.${e}`)}async save(e){await this.#w.setKey(`${this.#K}.${e.id}`,e)}async delete(e){await this.#w.deleteKey(`${this.#K}.${e}`)}async deleteAll(){await this.#w.deleteKey(`${this.#K}`)}async update(e){await this.#w.setKey(`${this.#K}.${e.id}`,e)}async findBy(e,t){const n=await this.getAll();if(0!==n.length)return n.find((n=>e in n&&n[e]===t))}async clear(){await this.#w.deleteKey(`${this.#K}`)}}(Fb),Jb=new class{#G;#H;#i;loggerPrefix="[🔔 SubscriptionService]";#J=new Map;constructor(e,t,n,r){this.#G=e,this.#H=t,this.#i=r,n.on("onStart",this.#Z.bind(this)),n.on("onWebSocketEvent",this.#$.bind(this)),n.on("onTestSubscribeToAccount",this.#Y.bind(this)),n.on("onTestUnsubscribeFromAccount",this.#X.bind(this))}async subscribe(e,t){this.#i.info(this.loggerPrefix,"New subscription request",e,t);const{method:n,params:r,network:o}=e,{onConnectionRecovery:i}=t,a=this.#Q(),s={...e,id:a,status:"pending",requestId:a,createdAt:(new Date).toISOString()};await this.#H.save(s),this.#J.set(a,t),i&&this.#G.onConnectionRecovery(o,i);const c=await this.#G.getConnectionIdByNetwork(o),u=async e=>{const t={jsonrpc:"2.0",id:a,method:n,params:r};e&&await this.#ee(e,t)};return this.#G.onConnectionRecovery(o,(async()=>{const e=await this.#G.getConnectionIdByNetwork(o);e&&await u(e)})),c?await u(c):(this.#i.info(this.loggerPrefix,`No connection found for network ${o}, opening a new one`),await this.#G.openConnection(o)),s.id}async unsubscribe(e){this.#i.info(this.loggerPrefix,"Unsubscribing",e);const t=await this.#H.getById(e);if(!t)return void this.#i.warn(this.loggerPrefix,`Subscription not found: ${e}`);const{id:n,network:r,unsubscribeMethod:o}=t;if("confirmed"===t.status){const e=await this.#G.getConnectionIdByNetwork(r);e&&await this.#ee(e,{jsonrpc:"2.0",id:this.#Q(),method:o,params:[t.rpcSubscriptionId]})}await this.#H.delete(n)}async#$(e){if("message"===e.type){this.#i.info(this.loggerPrefix,"Received message",e);try{const{data:t}=e;let n;if(t&&"object"==typeof t&&"type"in t)if("text"===t.type)n="string"==typeof t.message?JSON.parse(t.message):t.message;else{if("binary"!==t.type)return void this.#i.warn(this.loggerPrefix,"Unknown message data",t);{const e=t.message,r=String.fromCharCode(...e);n=JSON.parse(r)}}else n="string"==typeof t?JSON.parse(t):t;this.#te(n)?await this.#ne(n):this.#re(n)?await this.#oe(n):(j(n,Ef)||"error"in n)&&await this.#ie(n)}catch(e){this.#i.error(this.loggerPrefix,"Failed to handle message",e)}}}async#ee(e,t){this.#i.info(this.loggerPrefix,`Sending message to connection ${e}`,t),await snap.request({method:"snap_sendWebSocketMessage",params:{id:e,message:JSON.stringify(t)}})}#te(e){return"method"in e&&void 0!==e.method&&"params"in e}#re(e){return"jsonrpc"in e&&"2.0"===e.jsonrpc&&"id"in e&&"result"in e}async#ne(e){const{subscription:t,result:n}=e.params,r=await this.#H.findBy("rpcSubscriptionId",t);if(r)try{const e=this.#J.get(r.id);if(!e)return void this.#i.warn(this.loggerPrefix,`Received a notification, but no matching callbacks found for subscription ID: ${r.id}.`);await e.onNotification(n)}catch(e){this.#i.error(this.loggerPrefix,`Error in subscription callback for ${t}:`,e)}else this.#i.warn(this.loggerPrefix,`Received a notification, but no matching confirmed subscription found for RPC subscription ID: ${t}.`)}async#oe(e){const{id:t,result:n}=e,r=await this.#H.getById(String(t));r?"confirmed"!==r.status?(await this.#H.update({...r,status:"confirmed",rpcSubscriptionId:n,confirmedAt:(new Date).toISOString()}),this.#i.info(this.loggerPrefix,`Subscription confirmed: request ID: ${t} -> RPC ID: ${n}`)):this.#i.warn(this.loggerPrefix,`Received subscription confirmation, but the subscription is already confirmed for request ID: ${t}.`):this.#i.warn(this.loggerPrefix,`Received subscription confirmation, but no matching pending subscription found for subscription ID: ${t}.`)}async#ie(e){if("id"in e&&void 0!==e.id){const t=await this.#H.getById(String(e.id));if("pending"===t?.status){await this.#H.delete(t.id),this.#i.error(this.loggerPrefix,`Subscription establishment failed for ${t.id}:`,e.error);const n=this.#J.get(t.id);if(n?.onSubscriptionFailed)try{await n.onSubscriptionFailed(e.error)}catch(e){this.#i.error("Error in subscription error callback:",e)}}else this.#i.error(this.loggerPrefix,`Received error for request ID: ${e.id}`,e.error)}else this.#i.error(this.loggerPrefix,"Connection-level error:",e.error)}async#Z(){this.#i.info(this.loggerPrefix,"Clearing subscriptions"),await this.#H.deleteAll()}#Q(){return globalThis.crypto.randomUUID()}async#Y(){const e={method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe",network:nc.Mainnet,params:["8A4AptCThfbuknsbteHgGKXczfJpfjuVA9SLTSGaaLGC",{commitment:"confirmed"}]};this.#i.info(this.loggerPrefix,"Testing subscription",e);const t={onNotification:async e=>{this.#i.info(this.loggerPrefix,"onNotification",e)},onSubscriptionFailed:async e=>{this.#i.info(this.loggerPrefix,"onSubscriptionFailed",e)},onConnectionRecovery:async()=>{this.#i.info(this.loggerPrefix,"onConnectionRecovery")}};await this.subscribe(e,t)}async#X(){const e=(await this.#H.getAll()).find((e=>"accountSubscribe"===e.method&&"8A4AptCThfbuknsbteHgGKXczfJpfjuVA9SLTSGaaLGC"===(0,ni.get)(e,"params[0]")));e&&await this.unsubscribe(e.id)}}(Gb,Hb,$b,Cd),Zb=new class{#ae;#f;#i;#C="[✍️ SignatureMonitor]";constructor(e,t,n){this.#ae=e,this.#f=t,this.#i=n}async monitor(e){this.#i.info(this.#C,"Monitoring signature",e);const{network:t,signature:n,commitment:r}=e;await this.#ae.subscribe({method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe",network:t,params:[n,{commitment:r,enableReceivedNotification:!1}]},{onNotification:async t=>{await this.#ne(e)},onConnectionRecovery:async()=>{await this.#se(e)}})}async#ne(e){const{signature:t,commitment:n,onCommitmentReached:r}=e;this.#i.info(this.#C,`🎉 Signature ${t} reached commitment "${n}"`);try{await r(e)}catch(e){this.#i.warn(this.#C,"⚠️ Error calling onCommitmentReached callback",e)}}async#se(e){const{signature:t,network:n}=e;await this.#ce(t,n)?await this.#ne(e):this.#i.warn(this.#C,`⚠️ Signature ${t} not found via HTTP fetch during connection recovery`)}async#ce(e,t){try{const n=await this.#f.getRpc(t).getSignatureStatuses([tu(e)],{searchTransactionHistory:!0}).send(),r=n.value[0]?.confirmationStatus;return r?(this.#i.info(this.#C,`✅ Signature ${e} found via HTTP fetch during connection recovery with confirmation status ${r}`),r):void this.#i.warn(this.#C,`⚠️ Signature ${e} not found via HTTP fetch during connection recovery`)}catch(t){return void this.#i.warn(this.#C,`⚠️ Could not fetch confirmation status for signature ${e}`,t)}}}(Jb,Vb,Cd),Yb=new Ew(Vb,Cd),Xb=new class{#f;#i;#I=450;#_=10000n;constructor(e,t){this.#f=e,this.#i=t}async buildTransactionMessage(e){try{const{from:t,to:n,amount:r,network:o}=e,i=zs(t.address),a=BigInt(av(r).toString()),s=(await this.#f.getRpc(o).getLatestBlockhash().send()).value,c=$u(Al({version:0}),(e=>Il(i,e)),(e=>qu(s,e)),(e=>_l(function(e,t){const n=t?.programAddress??cd,r={source:{value:e.source??null,isWritable:!0},destination:{value:e.destination??null,isWritable:!0}},o={...e},i=fd(n);return{accounts:[i(r.source),i(r.destination)],programAddress:n,data:xd().encode(o)}}({amount:a,destination:n,source:Yl(i)}),e)));return Rl([Qf({units:this.#I}),rh({microLamports:this.#_})],c)}catch(e){throw this.#i.error({error:e},"Error building transaction message"),e}}getComputeUnitLimit(){return this.#I}getComputeUnitPriceMicroLamportsPerComputeUnit(){return this.#_}}(Vb,Cd),Qb=new Db(Vb,Yb,Cd),eS=new Wd(Lb),tS=new jd(Lb,Wb),nS=new class{#ue;#i;constructor({tokenMetadataClient:e,logger:t}){this.#ue=e,this.#i=t}async getTokensMetadata(e){if(0===e.length)return this.#i.warn(`No tokens to get metadata for ${e.join(", ")}`),{};return await this.#ue.getTokenMetadataFromAddresses(e)}async generateImageComponent(e,t=48,n=48){return e?async function(e,{width:t,height:n=t,request:r}){ZA("number"==typeof t&&t>0,"Expected width to be a number greater than 0."),ZA("number"==typeof n&&n>0,"Expected height to be a number greater than 0.");const o=await kb(e,r),i=`width="${t}" height="${n}"`;return Tb(`<svg ${i.trim()} xmlns="http://www.w3.org/2000/svg"><image ${i.trim()} href="${o}" /></svg>`)}(e,{width:t,height:n}).then((e=>e.value)).catch((()=>Ib)):Ib}}({tokenMetadataClient:eS,logger:Cd}),rS=new class{#le;#i;constructor(e,t=Cd){this.#le=e,this.#i=t}#de(e){if(!_b(e))throw new Error("Passed caipAssetType is not a fiat asset");return Xo(e).assetReference.toLowerCase()}async#fe(e){const t=e.filter((e=>!_b(e))),[n,r]=await Promise.all([this.#le.getFiatExchangeRates(),this.#le.getMultipleSpotPrices(t,"usd")]);return{fiatExchangeRates:n,cryptoPrices:r}}async getMultipleTokenConversions(e){if(0===e.length)return{};const t=e.flatMap((e=>[e.from,e.to])),{fiatExchangeRates:n,cryptoPrices:r}=await this.#fe(t),o={};return e.forEach((e=>{const{from:t,to:i}=e;let a,s;if(o[t]||(o[t]={}),_b(t)){const e=n[this.#de(t)]?.value;if(!e)return void(o[t][i]=null);a=new jo(1).dividedBy(e)}else a=new jo(r[t]?.price??0);if(_b(i)){const e=n[this.#de(i)]?.value;if(!e)return void(o[t][i]=null);s=new jo(1).dividedBy(e)}else s=new jo(r[i]?.price??0);if(a.isZero()||s.isZero())return void(o[t][i]=null);const c=a.dividedBy(s).toString(),u=Date.now();o[t][i]={rate:c,conversionTime:u,expirationTime:u+jd.cacheTtlsMilliseconds.historicalPrices}})),o}#he(e,t){const n=(0,ni.pick)(e,["marketCap","totalVolume","circulatingSupply","allTimeHigh","allTimeLow","pricePercentChange1h","pricePercentChange1d","pricePercentChange7d","pricePercentChange14d","pricePercentChange30d","pricePercentChange200d","pricePercentChange1y"]),r=e=>null==e?"":new jo(e).dividedBy(t).toString(),o=(e,t)=>null==t?{}:{[e]:t},i={...o("PT1H",n.pricePercentChange1h),...o("P1D",n.pricePercentChange1d),...o("P7D",n.pricePercentChange7d),...o("P14D",n.pricePercentChange14d),...o("P30D",n.pricePercentChange30d),...o("P200D",n.pricePercentChange200d),...o("P1Y",n.pricePercentChange1y)};return{fungible:!0,marketCap:r(n.marketCap),totalVolume:r(n.totalVolume),circulatingSupply:(n.circulatingSupply??0).toString(),allTimeHigh:r(n.allTimeHigh),allTimeLow:r(n.allTimeLow),...Object.keys(i).length>0?{pricePercentChange:i}:{}}}async getMultipleTokensMarketData(e){if(0===e.length)return{};const t=e.flatMap((e=>[e.asset,e.unit])),{fiatExchangeRates:n,cryptoPrices:r}=await this.#fe(t),o={};return e.forEach((e=>{const{asset:t,unit:i}=e;if(!r[t])return;let a;if(_b(i)){const e=n[this.#de(i)]?.value;if(!e)return;a=new jo(1).dividedBy(e)}else a=new jo(r[i]?.price??0);a.isZero()||(o[t]||(o[t]={}),o[t][i]=this.#he(r[t],a))})),o}async getHistoricalPrice(e,t){z(e,it),z(t,it);const n=Xo(t).assetReference.toLowerCase();z(n,Nd);const r=["1d","7d","1m","3m","1y","1000y"].map((async r=>this.#le.getHistoricalPrices({assetType:e,timePeriod:r,vsCurrency:n}).then((e=>({timePeriod:r,response:e}))).catch((n=>(this.#i.warn(`Error fetching historical prices for ${e} to ${t} with time period ${r}. Returning null object.`,n),{timePeriod:r,response:Md}))))),o=(await Promise.all(r)).reduce(((e,{timePeriod:t,response:n})=>(e[`P${t.toUpperCase()}`]=n.prices.map((e=>[e[0],e[1].toString()])),e)),{}),i=Date.now();return{intervals:o,updateTime:i,expirationTime:i+jd.cacheTtlsMilliseconds.historicalPrices}}}(tS),oS=new class{#f;constructor(e){this.#f=e}async resolveDomain(e,t){const n=this.#f.getRpc(e);return KA(n,t)}async resolveAddress(e,t){const n=this.#f.getRpc(e);return(await(async(e,t)=>{const n=await hA.getAddress("85iDfUvr3HJyLM2zcq5BXSiDvUWfw6cSE1FfNBo8Ap29",t),r=await hA.retrieve(e,n),[o,i]=await Promise.all([rA.retrieve(e,r.nameAccount),fA(e,r.nameAccount)]),a=i||o.owner,s=o.parentName!==oA,c=[pA(e,r.nameAccount,s?o.parentName:void 0)];s&&c.push(pA(e,o.parentName));const u=(await Promise.all(c)).join(".");return{domainAddress:r.nameAccount,domainName:u,stale:t!==a}})(n,zs(t))).domainAddress}}(Vb),iS=new my({connection:Vb,logger:Cd,configProvider:Lb,state:Fb,tokenMetadataService:nS,cache:Wb,tokenPricesService:rS}),aS=new class{#f;#i;#A;#w;#v;constructor({logger:e,connection:t,tokenMetadataService:n,state:r,configProvider:o}){this.#f=t,this.#A=n,this.#i=e,this.#w=r,this.#v=o}async fetchLatestAccountTransactions(e,t){const n=this.#v.get().activeNetworks,r=(await Promise.all(n.map((async n=>this.#pe(e,n,{limit:t}))))).flatMap((({data:e})=>e)).sort(((e,t)=>(t.timestamp??0)-(e.timestamp??0)));return r}async#pe(e,t,n){const{address:r}=e,o=zs(r),i=(await this.#f.getRpc(t).getSignaturesForAddress(o,n.next?{limit:n.limit,before:n.next}:{limit:n.limit}).send()).map((({signature:e})=>e)),a=await this.#w.getKey(`signatures.${r}`)??[];await this.#w.setKey(`signatures.${r}`,[...new Set([...a,...i])]);const s=(await this.getTransactionsDataFromSignatures({scope:t,signatures:i})).filter((e=>null!==e)).map((n=>Ub({transactionData:n,account:e,scope:t}))).filter((e=>null!==e)).filter((t=>!Ob(t,e))),c=await this.#ge({[r]:s}),u=i.length===n.limit?i[i.length-1]??null:null;return{data:c[r]??[],next:u}}async fetchLatestSignatures(e,t,n){this.#i.log(`[TransactionsService.fetchAllSignatures] Fetching all signatures for ${t} on ${e}`);const r=(await this.#f.getRpc(e).getSignaturesForAddress(t,{limit:n}).send()).map((({signature:e})=>e)),o=await this.#w.getKey(`signatures.${t}`)??[];return await this.#w.setKey(`signatures.${t}`,[...new Set([...o,...r])]),r}async getTransactionsDataFromSignatures({scope:e,signatures:t}){return await Promise.all(t.map((async t=>this.#f.getRpc(e).getTransaction(t,{maxSupportedTransactionVersion:0}).send())))}async fetchBySignature(e,t,n){const r=await this.#f.getRpc(n).getTransaction(tu(e),{maxSupportedTransactionVersion:0}).send();return r?Ub({transactionData:r,scope:n,account:t}):null}async saveTransaction(e,t){const{id:n,address:r}=t,{id:o}=e;await Promise.all([(async()=>{const t=await this.#w.getKey(`transactions.${n}`)??[],r=t.findIndex((e=>e.id===o));-1!==r&&(t[r]=e);const i=(0,ni.uniqBy)([...t,e],"id");await this.#w.setKey(`transactions.${n}`,i)})(),(async()=>{const e=await this.#w.getKey(`signatures.${r}`)??[];if(e.map((e=>e.toString())).includes(o.toString()))return;const t=(0,ni.uniq)([...e,o]);await this.#w.setKey(`signatures.${r}`,t)})()])}async refreshTransactions(e){try{if(this.#i.log(`[TransactionsService] Refreshing transactions for ${e.length} accounts`),!e.length)return void this.#i.log("[TransactionsService] No accounts found");const t=this.#v.get().activeNetworks,n=await this.#w.getKey("transactions")??{},r=this.#me(n),o=await this.#ye({scopes:t,accounts:e,existingSignatures:r}),i=await this.#ve({scopes:t,accounts:e,newSignaturesMapping:o}),a=await this.#ge(i);await vn(snap,gn.AccountTransactionsUpdated,{transactions:a});const s=this.#we({accounts:e,previousTransactionsByAccount:n,newTransactionsByAccount:i});await this.#w.setKey("transactions",s)}catch(e){this.#i.error("[TransactionsService] Error. Releasing lock...",e)}}#me(e){return new Set(Object.values(e??{}).flat().map((e=>e.id)))}async#ye({scopes:e=[nc.Mainnet,nc.Devnet],accounts:t,existingSignatures:n}){const r={byNetwork:new Map(e.map((e=>[e,new Set]))),byAccountAndNetwork:new Map(t.map((t=>[t.id,new Map(e.map((e=>[e,new Set])))])))};for(const o of t)for(const t of e){this.#i.log(`[TransactionsService] Fetching signatures for ${o.address} on ${t}...`);const e=await this.fetchLatestSignatures(t,zs(o.address),this.#v.get().transactions.storageLimit),i=e.filter((e=>!n.has(e)));if(!i.length){this.#i.log(`[TransactionsService] Found 0 new signatures out of ${e.length} total for address ${o.address} on network ${t}`);continue}const a=r.byNetwork.get(t),s=r.byAccountAndNetwork.get(o.id).get(t);i.forEach((e=>{a.add(e),s.add(e)})),this.#i.info(`[TransactionsService] Found ${i.length} new signatures (${e.length} total) for ${o.address} on ${t}`)}return r}async#ve({scopes:e=[nc.Mainnet,nc.Devnet],accounts:t,newSignaturesMapping:n}){const r={};for(const o of e){const e=n.byNetwork.get(o);if(!e.size)continue;const i=Array.from(e),a=await this.getTransactionsDataFromSignatures({scope:o,signatures:i});for(const e of t){r[e.id]||(r[e.id]=[]);const t=n.byAccountAndNetwork.get(e.id).get(o),i=a.filter((e=>null!==e)).filter((e=>{const n=e?.transaction?.signatures[0];return n&&t.has(n)})).map((t=>Ub({transactionData:t,account:e,scope:o}))).filter((e=>null!==e)).filter((t=>!Ob(t,e)));r[e.id]?.push(...i)}}return r}#we({accounts:e,previousTransactionsByAccount:t,newTransactionsByAccount:n}){return Object.fromEntries(e.map((e=>[e.id,[...t[e.id]??[],...n[e.id]??[]].sort(((e,t)=>(e.timestamp??0)-(t.timestamp??0))).slice(0,this.#v.get().transactions.storageLimit)])))}async#ge(e){const t=[...new Set(Object.values(e).flatMap((e=>e.flatMap((({from:e,to:t})=>[...e,...t].filter((e=>e.asset?.fungible)).map((e=>e.asset.type)))))))],n=await this.#A.getTokensMetadata(t);return Object.keys(e).forEach((t=>{e[t]?.forEach((e=>{e.from.forEach((e=>{e.asset?.fungible&&n[e.asset.type]&&(e.asset.unit=n[e.asset.type]?.symbol??"")})),e.to.forEach((e=>{e.asset?.fungible&&n[e.asset.type]&&(e.asset.unit=n[e.asset.type]?.symbol??"")}))}))})),e}}({logger:Cd,connection:Vb,tokenMetadataService:nS,state:Fb,configProvider:Lb}),sS=new class{#i=Cd;#C="[📣 AnalyticsService]";constructor(e=Cd){this.#i=e}async trackEventTransactionAdded(e,t,n){try{this.#i.log(this.#C,"Tracking event transaction added"),z(t,bc),await snap.request({method:"snap_trackEvent",params:{event:{event:"Transaction Added",properties:{message:"Snap transaction added",origin:n.origin,account_id:e.id,account_address:e.address,account_type:e.type,chain_id:n.scope}}}})}catch(e){this.#i.warn(this.#C,"Error tracking event transaction added",{error:e,base64EncodedTransaction:t,metadata:n})}}async trackEventTransactionApproved(e,t,n){try{this.#i.log(this.#C,"Tracking event transaction approved"),z(t,bc),await snap.request({method:"snap_trackEvent",params:{event:{event:"Transaction Approved",properties:{message:"Snap transaction approved",origin:n.origin,account_id:e.id,account_address:e.address,account_type:e.type,chain_id:n.scope}}}})}catch(e){this.#i.warn(this.#C,"Error tracking event transaction approved",{error:e,base64EncodedTransaction:t,metadata:n})}}async trackEventTransactionSubmitted(e,t,n,r){try{this.#i.log(this.#C,"Tracking event transaction submitted"),z(t,bc),await snap.request({method:"snap_trackEvent",params:{event:{event:"Transaction Submitted",properties:{message:"Snap transaction submitted",origin:r.origin,account_id:e.id,account_address:e.address,account_type:e.type,chain_id:r.scope}}}})}catch(e){this.#i.warn(this.#C,"Error tracking event transaction submitted",{error:e,transactionMessageBase64Encoded:t,signature:n,metadata:r})}}async trackEventTransactionFinalized(e,t,n){try{this.#i.log(this.#C,"Tracking event transaction finalized"),await snap.request({method:"snap_trackEvent",params:{event:{event:"Transaction Finalized",properties:{message:"Snap transaction finalized",origin:n.origin,account_id:e.id,account_address:e.address,account_type:e.type,chain_id:t.chain,transaction_status:t.status,transaction_type:t.type}}}})}catch(e){this.#i.warn(this.#C,"Error tracking event transaction finalized",{error:e,transaction:t,metadata:n})}}async trackEventTransactionRejected(e,t,n){try{this.#i.log(this.#C,"Tracking event transaction rejected"),z(t,bc),await snap.request({method:"snap_trackEvent",params:{event:{event:"Transaction Rejected",properties:{message:"Snap transaction rejected",origin:n.origin,account_id:e.id,account_address:e.address,account_type:e.type,chain_id:n.scope}}}})}catch(e){this.#i.warn(this.#C,"Error tracking event transaction rejected",{error:e,base64EncodedTransaction:t,metadata:n})}}async trackEventSecurityAlertDetected(e,t,n,r,o,i,a){try{this.#i.log(this.#C,"Tracking event security alert detected"),z(t,bc),await snap.request({method:"snap_trackEvent",params:{event:{event:"Security Alert Detected",properties:{message:"Snap security alert detected",origin:n,account_id:e.id,account_address:e.address,account_type:e.type,chain_id:r,security_alert_response:o,security_alert_reason:i,security_alert_description:a}}}})}catch(e){this.#i.warn(this.#C,"Error tracking event security alert detected",{error:e,base64EncodedTransaction:t,origin:n,scope:r,securityAlertResponse:o,securityAlertReason:i,securityAlertDescription:a})}}async trackEventSecurityScanCompleted(e,t,n,r,o,i){try{this.#i.log(this.#C,"Tracking event security scan completed"),z(t,bc),await snap.request({method:"snap_trackEvent",params:{event:{event:"Security Scan Completed",properties:{message:"Snap security scan completed",origin:n,account_id:e.id,account_address:e.address,account_type:e.type,chain_id:r,scan_status:o,has_security_alerts:i}}}})}catch(e){this.#i.warn(this.#C,"Error tracking event security scan completed",{error:e,base64EncodedTransaction:t,origin:n,scope:r,scanStatus:o,hasSecurityAlerts:i})}}}(Cd),cS=new class{#Ae;#be;#Se;#f;#k;#Ee;#i;#C="[👛 WalletService]";constructor(e,t,n,r,o,i,a=Cd){this.#Ae=e,this.#be=t,this.#Se=n,this.#f=r,this.#k=o,this.#Ee=i,this.#i=a}async resolveAccountAddress(e,t,n){this.#i.log(this.#C,"Resolving account address",{keyringAccounts:e,scope:t,request:n});const{method:r,params:o}=n,i=e.filter((e=>e.scopes.includes(t)));if(0===i.length)throw new Error("No accounts with this scope");switch(r){case Ft.SignIn:{const{address:e}=o;if(!e)throw new Error("No address");return Oy(t,e)}case Ft.SignAndSendTransaction:case Ft.SignMessage:case Ft.SignTransaction:{const{account:e}=o,n=i.find((t=>t.address===e.address))?.address;if(!n)throw new Error("Account not found");return Oy(t,n)}default:throw this.#i.warn({method:r},"Unsupported method"),new Error("Unsupported method")}}async signTransaction(e,t){this.#i.log(this.#C,"Signing transaction",{account:e,request:t}),z(t.request,jf),z(t.scope,yc);const{transaction:n,scope:r,options:o}=t.request.params,i=o?.minContextSlot?{minContextSlot:BigInt(o.minContextSlot)}:void 0,a=await this.#k.partiallySignBase64String(n,e,r,i),s=(e=>$u(e,Nl().encode,Es().decode))(a),c={signedTransaction:s};z(c,Df);const u=jl(a);return await Promise.allSettled([this.#Ee.monitor({network:r,signature:u,commitment:"confirmed",onCommitmentReached:async n=>{await this.#xe(n.signature,e,r,t.origin)}})]),c}async signAndSendTransaction(e,t,n,r,o){this.#i.log(this.#C,"Signing and sending transaction",e);const i=o?.minContextSlot?{minContextSlot:BigInt(o.minContextSlot)}:void 0,a=await this.#k.partiallySignBase64String(t,e,n,i),s=jl(a),c=function({rpc:e}){return async function(t,n){await vm({...n,rpc:e,transaction:t})}}({rpc:this.#f.getRpc(n)}),u=lv(n,"tx",s);this.#i.info(`Sending transaction: ${u}`),Dl(a);const l={...o?.preflightCommitment?{preflightCommitment:o.preflightCommitment}:{},...o?.minContextSlot?{minContextSlot:BigInt(o.minContextSlot)}:{},...o?.maxRetries?{maxRetries:BigInt(o.maxRetries)}:{},commitment:"confirmed",skipPreflight:!0};await c(a,l),await this.#Te(s,t,e,n,r),await this.#Ee.monitor({network:n,signature:s,commitment:o?.commitment??"confirmed",onCommitmentReached:async t=>{await this.#xe(t.signature,e,n,r)}});const d={signature:s};return z(d,Uf),d}async#Te(e,t,n,r,o){this.#i.info(this.#C,"Handling transaction submitted",{signature:e,transactionMessageBase64Encoded:t,account:n,network:r,origin:o}),await this.#Se.trackEventTransactionSubmitted(n,t,e,{scope:r,origin:o})}async#xe(e,t,n,r){this.#i.info(this.#C,"Handling transaction confirmed",{signature:e,account:t,network:n,origin:r});const o=await this.#Ae.fetchBySignature(e,t,n);if(!o)throw new Error(`Transaction with signature ${e} not found on network ${n}`);await this.#Ae.saveTransaction(o,t),await Promise.allSettled([this.#be.refreshAssets([t]),vn(snap,gn.AccountTransactionsUpdated,{transactions:{[t.id]:[o]}}),this.#Se.trackEventTransactionFinalized(t,o,{scope:n,origin:r})])}async signMessage(e,t){this.#i.log(this.#C,"Signing message",e,t),z(t.request,Mf);const{address:n,entropySource:r,derivationPath:o}=e,i=zs(n),{scope:a}=t;z(a,yc);const{message:s}=t.request.params,c=xs().encode(s),u=Cs().decode(c),{privateKeyBytes:l}=await Nm({entropySource:r,derivationPath:o}),d=await Zl(l),f=function(e,t={}){return Object.freeze({content:"string"==typeof e?(new td).encode(e):e,signatures:Object.freeze({...t})})}(u),[h]=await d.signMessages([f]);z(h,ee());const p=h[i];var g;z(p,(g=Uint8Array,D("instance",(e=>e instanceof g||`Expected a \`${g.name}\` instance, but received: ${R(e)}`))));const m={signature:ys().decode(p),signedMessage:s,signatureType:"ed25519"};return z(m,Lf),m}async signIn(e,t){this.#i.log(this.#C,"Signing in",e,t),z(t.request,zf);const{address:n}=e,{params:r}=t.request,o=this.#ke(r),i=Cs().encode(o),a=xs().decode(i),s={id:globalThis.crypto.randomUUID(),scope:t.scope,account:e.id,origin:t.origin,request:{method:Ft.SignMessage,params:{account:{address:n},message:a}}},c={account:{address:n},...await this.signMessage(e,s)};return z(c,$f),c}async verifySignature(e,t,n){this.#i.log(this.#C,"Verifying signature",{account:e,signatureBase58:t,messageBase64:n}),z(t,Ac),z(n,bc);const{privateKeyBytes:r}=await Nm({entropySource:e.entropySource,derivationPath:e.derivationPath}),o=await Zl(r),i=vs().encode(t),a=xs().encode(n);return await nu(o.keyPair.publicKey,i,a)}#ke(e){const{domain:t,address:n,statement:r,uri:o,version:i,chainId:a,nonce:s,issuedAt:c,expirationTime:u,notBefore:l,requestId:d,resources:f}=e;let h=`${t} wants you to sign in with your Solana account:\n`;h+=`${n}`,r&&(h+=`\n\n${r}`);const p=[];if(o&&p.push(`URI: ${o}`),i&&p.push(`Version: ${i}`),a&&p.push(`Chain ID: ${a}`),s&&p.push(`Nonce: ${s}`),c&&p.push(`Issued At: ${c}`),u&&p.push(`Expiration Time: ${u}`),l&&p.push(`Not Before: ${l}`),d&&p.push(`Request ID: ${d}`),f){p.push("Resources:");for(const e of f)p.push(`- ${e}`)}return p.length&&(h+=`\n\n${p.join("\n")}`),h}}(aS,iS,sS,Vb,Yb,Zb,Cd),uS=new class{#Ie;#i;#A;#Se;constructor(e,t,n,r){this.#Ie=e,this.#A=t,this.#Se=n,this.#i=r}async scanTransaction({method:e,accountAddress:t,transaction:n,scope:r,origin:o,options:i=["simulation","validation"],account:a}){try{const s=await this.#Ie.scanTransactions({method:e,accountAddress:t,transactions:[n],scope:r,origin:o,options:i}),c=this.#_e(s);if(!c?.status)return this.#i.warn("Invalid scan result received from security alerts API"),a&&await this.#Se.trackEventSecurityScanCompleted(a,n,o,r,Rb.ERROR,!1),null;if(a){const e=Object.values(Rb).includes(c.status)?c.status:Rb.ERROR,t=Boolean(c.validation?.type&&c.validation.type!==Cb.Benign),i=[this.#Se.trackEventSecurityScanCompleted(a,n,o,r,e,t)];if(t){const e=Object.values(Cb).includes(c.validation.type)?c.validation.type:Cb.Warning;i.push(this.#Se.trackEventSecurityAlertDetected(a,n,o,r,e,c.validation.reason??"unknown",this.#Ce(c.validation)))}await Promise.all(i)}if(!c?.estimatedChanges?.assets)return null;const u={...c},l=c.estimatedChanges.assets.map((async(e,t)=>{const{logo:n}=e;if(n)return this.#A.generateImageComponent(n,16,16).then((e=>{e&&u?.estimatedChanges?.assets?.[t]&&(u.estimatedChanges.assets[t].imageSvg=e)})).catch((()=>null))}));return await Promise.all(l??[]),u}catch(e){return this.#i.error(e),a&&await this.#Se.trackEventSecurityScanCompleted(a,n,o,r,Rb.ERROR,!1),null}}#Ce(e){if(!e?.reason)return"Security alert: Unknown reason";return{unfair_trade:"Unfair trade of assets, without adequate compensation to the owner's account",transfer_farming:"Substantial transfer of the account's assets to untrusted entities",writable_accounts_farming:"Transaction exposes unused writable account, can be utilized in BIT-FLIP attacks patterns",native_ownership_change:"The account transferred ownership of its native SOL to untrusted entities",spl_token_ownership_change:"The account transferred ownership of its SPL tokens to untrusted entities",exposure_farming:"The account delegates ownership, thereby exposing its assets to untrusted spenders",known_attacker:"A known attacker's account is involved in the transaction",invalid_signature:"One of the transactions provided contains non valid signatures, that can lead misleading simulation results",honeypot:"The account invests funds in a token that is part of an orchestrated honeypot scheme",other:"The transaction was marked as malicious for other reason, further details would be described in features field"}[e.reason]??`Security alert: ${e.reason}`}#_e(e){return e?{status:"SUCCESS"===e.status||"ERROR"===e.status?e.status:"ERROR",estimatedChanges:{assets:e.result?.simulation?.account_summary?.account_assets_diff?.map((e=>({type:e.in?"in":"out",symbol:"symbol"in e.asset?e.asset.symbol:e.asset_type,name:"name"in e.asset?e.asset.name:e.asset_type,logo:"logo"in e.asset?e.asset.logo:null,value:e.in?.value??e.out?.value??null,price:e.in?.usd_price??e.out?.usd_price??null,imageSvg:null})))??[]},validation:{type:e.result?.validation?.result_type??null,reason:e.result?.validation?.reason??null},error:e?.error_details?{type:"type"in e.error_details?e.error_details.type:null,code:"code"in e.error_details?e.error_details.code:null}:null}:null}}(new class{#o;#i;#a;constructor(e,t=globalThis.fetch,n=Cd){const{baseUrl:r}=e.get().securityAlertsApi;this.#o=t,this.#i=n,this.#a=r}async scanTransactions({method:e,accountAddress:t,transactions:n,scope:r,origin:o,options:i}){const a=Ld.from(Dd.decode(t)).toString("base64");this.#i.info("Scanning transaction");return(await this.#o(`${this.#a}/solana/message/scan`,{headers:{"Content-Type":"application/json",accept:"application/json"},method:"POST",body:JSON.stringify({method:e,encoding:"base64",account_address:a,metadata:{url:o},chain:$d[r],transactions:n,options:i})})).json()}}(Lb),nS,sS,Cd),lS=new class{async handleKeyringRequest(e,t){const{request:{method:n}}=e;switch(n){case Ft.SignAndSendTransaction:case Ft.SignTransaction:return this.#Re(e,t);case Ft.SignMessage:return this.#Pe(e,t);case Ft.SignIn:return this.#Oe(e,t);default:throw new Error(`Unsupported method: ${n}`)}}async#Re(e,t){z(e.request,ae([Bf,jf]));const{request:{method:n,params:{transaction:r}},scope:o,account:i,origin:a}=e;await snap.request({method:"snap_scheduleBackgroundEvent",params:{duration:"PT1S",request:{method:Tv.OnTransactionAdded,params:{accountId:i,base64EncodedTransaction:r,metadata:{scope:o,origin:a}}}}});return await async function(e){const t={...xv,...e},n=Fm().then((e=>{t.preferences=e})).catch((()=>{t.preferences=xv.preferences})),r=xm(Vb.getRpc(t.scope),t.transaction).then((e=>{t.advanced.instructions=e})).catch((e=>{console.error(e),t.advanced.instructions=[]}));await Promise.all([n,r]);const{currency:o,useExternalPricingData:i,useSecurityAlerts:a,simulateOnChainActions:s}=t.preferences,c=await Um(yy(Ev,{context:t}),t),u=$m(c),l={...t},d=[sc[t.scope].nativeToken.caip19Id];let f;i?f=tS.getMultipleSpotPrices(d,o).then((e=>{l.tokenPrices=e,l.tokenPricesFetchStatus="fetched"})).catch((()=>{l.tokenPricesFetchStatus="error"})):(l.tokenPricesFetchStatus="fetched",l.tokenPrices={});const h=Yb.getFeeFromBase64StringInLamports(t.transaction,l.scope).then((e=>{l.feeEstimatedInSol=e?iv(e).toString():null})).catch((()=>{l.feeEstimatedInSol=null}));await Promise.all([f,h]),await Dm(c,yy(Ev,{context:l}),l);const p={...l},g=[];if(s&&g.push("simulation"),a&&g.push("validation"),s||a){const e=uS.scanTransaction({method:p.method,accountAddress:p.account?.address??"",transaction:p.transaction,scope:p.scope,origin:p.origin,options:g}).then((async e=>{p.scan=e,p.scanFetchStatus=e?"fetched":"error"})).catch((()=>{p.scan=null,p.scanFetchStatus="error"}));await Promise.all([e])}else p.scanFetchStatus="fetched",p.scan=null;return await Dm(c,yy(Ev,{context:p}),p),await Fb.setKey(`mapInterfaceNameToId.${jm}`,c),u}({...xv,scope:o,method:n,origin:e.origin,transaction:r,account:t})?(await snap.request({method:"snap_scheduleBackgroundEvent",params:{duration:"PT1S",request:{method:Tv.OnTransactionApproved,params:{accountId:i,base64EncodedTransaction:r,metadata:{scope:o,origin:a}}}}}),!0):(await snap.request({method:"snap_scheduleBackgroundEvent",params:{duration:"PT1S",request:{method:Tv.OnTransactionRejected,params:{accountId:i,base64EncodedTransaction:r,metadata:{scope:o,origin:a}}}}}),!1)}async#Pe(e,t){const n=await async function(e,t){z(e.request,Mf);const{request:{params:{message:n}},scope:r,origin:o}=e,i=xs().encode(n),a=Cs().decode(i),s=await Fm().then((e=>e.locale)).catch((()=>My));return $m(await Um(yy(ov,{message:a,account:t,scope:r,locale:s,networkImage:wy,origin:o}),{}))}(e,t);return Boolean(n)}async#Oe(e,t){const n=await async function(e,t){z(e.request,zf);const{request:{params:n},scope:r,origin:o}=e,i=await Fm();return $m(await Um(yy(tv,{params:n,account:t,scope:r,preferences:i,networkImage:wy,origin:o}),{}))}(e,t);return Boolean(n)}},dS=new class{#w;#i;#Ae;#be;#Ne;#Be;constructor({state:e,logger:t,transactionsService:n,assetsService:r,walletService:o,confirmationHandler:i}){this.#w=e,this.#i=t,this.#Ae=n,this.#be=r,this.#Ne=o,this.#Be=i}async listAccounts(){try{const e=await this.#w.getKey("keyringAccounts")??{};return(0,ni.sortBy)(Object.values(e),["entropySource","index"])}catch(e){throw this.#i.error({error:e},"Error listing accounts"),new Error("Error listing accounts")}}async getAccount(e){try{cy({accountId:e},dc);return await this.#w.getKey(`keyringAccounts.${e}`)}catch(e){throw this.#i.error({error:e},"Error getting account"),new Qr(e)}}async getAccountOrThrow(e){const t=await this.getAccount(e);if(!t)throw new Error(`Account "${e}" not found`);return t}#ze(e,t){return function(e){if(0===e.length)return 0;const t=e.map((e=>e.index)).sort(((e,t)=>e-t));let n=0;for(const e of t){if(e!==n)break;n+=1}return n}(e.filter((e=>e.entropySource===t)))}#Me(e){return`m/44'/501'/${e}'/0'`}#je(e){const t=e.split("/")[3];if(!t)throw new Error("Invalid derivation path");const n=parseInt(t.replace("'",""),10);return z(n,J()),n}async#Ue(){const e=(await async function(){return await snap.request({method:"snap_listEntropySources"})}()).find((({primary:e})=>e));if(!e)throw new Error("No default entropy source found - this can never happen");return e.id}async createAccount(e){const t=globalThis.crypto.randomUUID();try{const n=await this.listAccounts(),r=e?.entropySource??await this.#Ue(),o=e?.derivationPath?this.#je(e.derivationPath):this.#ze(n,r),i=e?.derivationPath?e.derivationPath:this.#Me(o),a=n.find((e=>e.derivationPath===i&&e.entropySource===r));if(a)return this.#i.warn("[🔑 Keyring] An account already exists with the same derivation path and entropy source. Skipping account creation."),Tm(a);const{publicKeyBytes:s}=await Nm({entropySource:r,derivationPath:i}),c=js().decode(s.slice(1)),{importedAccount:u,accountNameSuggestion:l,metamask:d,...f}=e??{},h={id:t,entropySource:r,derivationPath:i,index:o,type:dt.DataAccount,address:c,scopes:[Lt.Mainnet,Lt.Testnet,Lt.Devnet],options:{...f,entropySource:r,derivationPath:i,index:o},methods:[Ft.SignAndSendTransaction,Ft.SignTransaction,Ft.SignMessage,Ft.SignIn]};await this.#w.setKey(`keyringAccounts.${h.id}`,h);const p=Tm(h);return await this.emitEvent(gn.AccountCreated,{account:p,accountNameSuggestion:l??`Solana Account ${o+1}`,displayAccountNameSuggestion:!l,displayConfirmation:!1,...d?{metamask:d}:{}}),p}catch(e){throw this.#i.error({error:e},"Error creating account"),await this.#De(t),new Error(`Error creating account: ${e.message}`)}}async#De(e){await Promise.all([this.#w.deleteKey(`keyringAccounts.${e}`),this.#w.deleteKey(`transactions.${e}`),this.#w.deleteKey(`assets.${e}`)])}async deleteAccount(e){try{cy({accountId:e},fc),await this.#De(e),await this.emitEvent(gn.AccountDeleted,{id:e})}catch(e){throw this.#i.error({error:e},"Error deleting account"),e}}async listAccountAssets(e){try{cy({accountId:e},hc);const t=await this.getAccountOrThrow(e),n=await this.#be.listAccountAssets(t);return uy(n,nn),n}catch(e){throw this.#i.error({error:e},"Error listing account assets"),e}}async getAccountBalances(e,t){try{cy({accountId:e,assets:t},pc);const n=await this.getAccountOrThrow(e),r=await this.#be.getAccountBalances(n,t);return uy(r,mc),r}catch(e){throw this.#i.error({error:e},"Error getting account balances"),e}}async emitEvent(e,t){await vn(snap,e,t)}async filterAccountChains(e,t){throw new Error(`Implement me! ${e} ${t.toString()}`)}async updateAccount(e){throw new Error(`Implement me! ${JSON.stringify(e)}`)}async submitRequest(e){return{pending:!1,result:await this.#Le(e)}}async#Le(e){z(e,ly);const{request:{method:t,params:n},scope:r,account:o,origin:i}=e,a=await this.getAccountOrThrow(o);if(!a.scopes.includes(r))throw new Error(`Scope "${r}" is not allowed for this account`);if(!a.methods.includes(t))throw new Error(`Method "${t}" is not allowed for this account`);if("scope"in n&&r!==n.scope)throw new Error(`Scope "${r}" does not match "${n.scope}" in request.params`);if(!await this.#Be.handleKeyringRequest(e,a))throw new yo;switch(t){case Ft.SignAndSendTransaction:{const{transaction:e,options:t}=n;return this.#Ne.signAndSendTransaction(a,e,r,i,t)}case Ft.SignTransaction:return this.#Ne.signTransaction(a,e);case Ft.SignMessage:return this.#Ne.signMessage(a,e);case Ft.SignIn:return this.#Ne.signIn(a,e);default:throw new ao(`Unsupported method: ${t}`)}}async listAccountTransactions(e,t){try{cy({accountId:e,pagination:t},gc);const n=await this.getAccount(e);if(!n)throw new Error("Account not found");const r=await this.#w.getKey(`transactions.${e}`)??[];if(!r.length){const e=await this.#Ae.fetchLatestAccountTransactions(n,t.limit);return await this.#w.setKey(`transactions.${n.id}`,e),{data:e,next:null}}const o=t.next?r.findIndex((e=>e.id===t.next)):0,i=r.slice(o,o+t.limit),a=o+t.limit<r.length;return{data:i,next:a?r[o+t.limit]?.id??null:null}}catch(e){throw this.#i.error({error:e},"Error listing account transactions"),e}}async resolveAccountAddress(e,t){try{z(e,yc);const{method:n,params:r}=t,o={method:n,params:r};z(o,Ff);const i=await this.listAccounts();return{address:await this.#Ne.resolveAccountAddress(i,e,o)}}catch(e){return this.#i.error({error:e},"Error resolving account address"),null}}async discoverAccounts(e,t,n){try{z({scopes:e,entropySource:t,groupIndex:n},dy);const r=this.#Me(n),o=await Nm({entropySource:t,derivationPath:r}),i=js().decode(o.publicKeyBytes.slice(1)),a=[];for(const t of e)a.push(this.#Ae.fetchLatestSignatures(t,i,1));const s=await Promise.all(a);return s.some((e=>e.length>0))?[{type:"bip44",scopes:e,derivationPath:r}]:[]}catch(e){throw this.#i.error({error:e},"Error discovering accounts"),e}}}({state:Fb,transactionsService:aS,logger:Cd,assetsService:iS,walletService:cS,confirmationHandler:lS}),fS=new Fd(Vb,Cd),hS=new class{#$e;#Ne;#i;constructor(e,t,n){this.#$e=e,this.#Ne=t,this.#i=n}async handle(e){this.#i.log("[onClientRequest] Handling client request...",e);const{method:t}=e;if(t===Vd.SignAndSendTransactionWithoutConfirmation)return this.#Fe(e);throw new ao}async#Fe(e){try{z(e,qf)}catch(e){const t=new ro;throw t.cause=e,t}const{params:{transaction:t,options:n,account:{address:r},scope:o}}=e,i=(await this.#$e.listAccounts()).find((e=>e.address===r));if(!i)throw new ro(`Account not found: ${r}`);return this.#Ne.signAndSendTransaction(i,t,o,tc,n)}}(dS,cS,Cd),pS={configProvider:Lb,connection:Vb,keyring:dS,priceApiClient:tS,state:Fb,cache:qb,assetsService:iS,tokenPricesService:rS,transactionHelper:Yb,transactionsService:aS,sendSolBuilder:Xb,sendSplTokenBuilder:Qb,walletService:cS,transactionScanService:uS,analyticsService:sS,confirmationHandler:lS,nftService:fS,clientRequestHandler:hS,webSocketConnectionService:Gb,subscriptionService:Jb,eventEmitter:$b,nameResolutionService:oS},gS=ee({id:re(),jsonrpc:Z("2.0"),method:Z(Tv.OnTransactionAdded),params:ee({accountId:cc,base64EncodedTransaction:bc,metadata:ee({scope:yc,origin:re()})})}),mS=ee({id:re(),jsonrpc:Z("2.0"),method:Z(Tv.OnTransactionApproved),params:ee({accountId:cc,base64EncodedTransaction:bc,metadata:ee({scope:yc,origin:re()})})}),yS=ee({id:re(),jsonrpc:Z("2.0"),method:Z(Tv.OnTransactionRejected),params:ee({accountId:cc,base64EncodedTransaction:bc,metadata:ee({scope:yc,origin:re()})})}),vS={[Tv.OnTransactionAdded]:async({request:e})=>{try{Cd.info("[onTransactionAdded] Cronjob triggered",e),z(e,gS);const{accountId:t,base64EncodedTransaction:n,metadata:r}=e.params,o=await dS.getAccountOrThrow(t);await sS.trackEventTransactionAdded(o,n,r)}catch(e){throw Cd.error(e),new to(e)}},[Tv.OnTransactionApproved]:async({request:e})=>{try{Cd.info("[onTransactionApproved] Cronjob triggered",e),z(e,mS);const{accountId:t,base64EncodedTransaction:n,metadata:r}=e.params,o=await dS.getAccountOrThrow(t);await sS.trackEventTransactionApproved(o,n,r)}catch(e){throw Cd.error(e),new to(e)}},[Tv.OnTransactionRejected]:async({request:e})=>{try{Cd.info("[onTransactionRejected] Cronjob triggered",e),z(e,yS);const{accountId:t,base64EncodedTransaction:n,metadata:r}=e.params,o=await dS.getAccountOrThrow(t);await sS.trackEventTransactionRejected(o,n,r)}catch(e){throw Cd.error(e),new to(e)}},[Tv.OnAccountsRefresh]:async()=>{try{Cd.info("[onAccountsRefresh] Cronjob triggered");const e=await dS.listAccounts(),t=nc.Mainnet,n=e.map((async e=>{const n=await Fb.getKey(`signatures.${e.address}`)??[],[r]=await aS.fetchLatestSignatures(t,zs(e.address),1);return Cd.log(`[onAccountsRefresh] Latest signature for account ${e.address} is ${r}`),{account:e,didChange:r&&!n.includes(r)}})),r=(await Promise.all(n)).filter((e=>e.didChange)).map((e=>e.account));if(0===r.length)return void Cd.info("[onAccountsRefresh] No accounts with changes, skipping refresh");Cd.info(`[onAccountsRefresh] Found ${r.length} accounts with changes`),await iS.refreshAssets(r).catch((e=>{Cd.warn("[onAccountsRefresh] Caught error while refreshing assets",e)})),await aS.refreshTransactions(r).catch((e=>{Cd.warn("[onAccountsRefresh] Caught error while refreshing transactions",e)})),Cd.info(`[onAccountsRefresh] Successfully refreshed ${r.length} accounts`)}catch(e){Cd.error("[onAccountsRefresh] Error",e)}}};var wS=function(e){return e.RefreshSend="refreshSend",e.RefreshConfirmationEstimation="refreshConfirmationEstimation",e.ScheduleRefreshAccounts="scheduleRefreshAccounts",e}({});const AS=by("Form"),bS=by("Field"),SS=by("AssetSelector"),ES=({title:e,backButtonName:t})=>vy(Ey,{direction:"horizontal",alignment:"space-between",center:!0,children:[t?yy(Py,{name:t,children:yy(Hy,{name:"arrow-left",color:"primary",size:"md"})}):null,yy(xy,{size:"sm",children:e}),vy(Ey,{direction:"horizontal",children:[yy(Ey,{children:null}),yy(Ey,{children:null}),yy(Ey,{children:null}),yy(Ey,{children:null})]})]}),xS=by("Selector"),TS=by("SelectorOption"),kS=by("Card");function IS(e){return e?e.length<=10?"":`${e.slice(0,6)}...${e.slice(-4)}`:""}const _S=({accounts:e,balances:t,price:n,name:r,scope:o,selectedAccountId:i,error:a,locale:s,currency:c})=>{const u=jy(s),l=Object.values(e);return yy(bS,{label:u("send.fromField"),error:a,children:yy(xS,{name:r,value:i,title:"From",children:l.map((e=>{const r=t[e.id]?.[`${o}/${oc.SOL}`],{amount:i,unit:a}=r??{},u=void 0!==i&&a?Av(i,a,s):"",l=void 0!==i&&null!==n&&c?Wy(bv(i,n),c,s):"-";return yy(TS,{value:e.id,children:yy(kS,{value:u,extra:l,description:IS(e.address),title:yy(_y,{address:Oy(o,e.address),truncate:!0,displayName:!0,avatar:!0})})})}))})})},CS=by("Input");var RS=function(e){return e.Form="send-form",e.DestinationAccountInput="send-to",e.BackButton="send-back-button",e.SourceAccountSelector="send-account-selector",e.AmountInput="send-amount-input",e.AssetSelector="send-asset-selector",e.SwapCurrencyButton="send-swap-currency",e.MaxAmountButton="send-amount-input-max",e.CancelButton="send-cancel-button",e.SendButton="send-submit-button",e.ClearButton="send-clear-button",e.CloseButton="send-close-button",e}({}),PS=function(e){return e.TOKEN="TOKEN",e.FIAT="USD",e}({});const OS=({name:e,value:t,tokenSymbol:n,currency:r,currencyType:o,locale:i,swapCurrencyButtonDisabled:a=!1})=>{const s=jy(i),c=o===PS.FIAT?r.toUpperCase():n;return vy(bS,{label:s("send.amountField"),children:[yy(CS,{name:e,type:"number",min:0,placeholder:"0",step:.01,value:t??void 0}),vy(Ey,{direction:"horizontal",center:!0,children:[yy(Ey,{direction:"vertical",alignment:"center",children:yy(Ty,{size:"sm",children:c})}),yy(Py,{name:RS.SwapCurrencyButton,disabled:a,children:yy(Hy,{name:"swap-vertical",color:a?"muted":"primary",size:"md"})})]})]})},NS={initial:null,fetching:"default",fetched:"success",error:null},BS=({name:e,value:t,error:n,locale:r,showClearButton:o,disabled:i,domainResolutionStatus:a})=>{const s=jy(r);return vy(Ey,{children:[vy(bS,{label:s("send.toField"),error:n,children:[yy(CS,{name:e,placeholder:i?"":s("send.toPlaceholder"),value:t??void 0,disabled:i}),o?yy(Ey,{children:yy(Py,{name:RS.ClearButton,children:yy(Hy,{name:Gy.Close,color:"primary"})})}):null]}),a&&null!==NS[a]&&yy(Ty,{size:"sm",color:NS[a],children:s(`send.toDomainResolutionStatus.${a}`)})]})},zS=e=>{const{amount:t,tokenPrices:n,tokenCaipId:r,currencyType:o}=e,i=n?.[r]?.price;if(o===PS.TOKEN)return t;if(void 0===i)throw new Error("Token price is undefined, cannot convert to fiat amount.");return null===t?null:jo(t).dividedBy(jo(i)).toString()},MS=e=>{const{selectedTokenMetadata:t}=e;return{...t??{},tokenSymbol:t?.symbol??"UNKNOWN",tokenImage:t?.imageSvg??Ib}},jS=e=>{const{tokenCaipId:t,tokenPrices:n}=e;return n?.[t]?.price},US=e=>{const{balances:t,fromAccountId:n,tokenCaipId:r}=e;return t?.[n]?.[r]?.amount??"0"},DS=e=>{const{tokenCaipId:t,scope:n}=e;return t===sc[n]?.nativeToken?.caip19Id},LS=by("Spinner"),$S=({title:e,subtitle:t,iconSrc:n,isLoading:r})=>vy(Ey,{alignment:"center",center:!0,children:[vy(Ey,{direction:"horizontal",center:!0,children:[r?yy(LS,{}):null,n&&!r?yy(Cy,{borderRadius:"full",src:n}):null]}),yy(xy,{size:"lg",children:e}),t?yy(Ty,{color:"muted",children:t}):null]}),FS=by("Value"),qS=({context:e})=>{const{scope:t,fromAccountId:n,toAddress:r,accounts:o,feeEstimatedInSol:i,preferences:{locale:a,currency:s},transaction:c,feePaidInSol:u,tokenPrices:l}=e,d=jy(a),f=sc[t],h=o.find((e=>e.id===n))?.address,p=Oy(t,h),g=f.name,m=f.nativeToken.symbol,y=l[f.nativeToken.caip19Id]?.price,v=c?u:i,w=v?Av(v,m,a):"",A=void 0===y||null===v?"":Wy(bv(v,y),s,a);return vy(Ey,{children:[vy(ky,{children:[yy(Iy,{label:d("send.confirmation.from"),children:yy(uv,{href:lv(t,"address",h),children:yy(_y,{address:p,displayName:!0})})}),r?yy(Iy,{label:d("send.confirmation.recipient"),children:yy(uv,{href:lv(t,"address",r),children:yy(_y,{address:Oy(t,r),displayName:!0})})}):null]}),vy(ky,{children:[yy(Iy,{label:d("send.confirmation.network"),children:yy(Ty,{children:g})}),yy(Iy,{label:d("send.confirmation.transactionSpeed"),children:yy(Ty,{children:"<1s"})}),yy(Iy,{label:d("send.confirmation.fee"),children:yy(FS,{extra:A,value:w})})]})]})};var WS=function(e){return e.BackButton="transaction-confirmation-back-button",e.CancelButton="transaction-confirmation-cancel-button",e.ConfirmButton="transaction-confirmation-submit-button",e}({});const VS={"send-form":({context:e,inputToAddress:t,inputAmount:n})=>{const{accounts:r,fromAccountId:o,amount:i,destinationAddressOrDomain:a,domainResolutionStatus:s,validation:c,currencyType:u,tokenCaipId:l,scope:d,balances:f,tokenPricesFetchStatus:h,buildingTransaction:p,error:g,loading:m,transactionMessage:y,preferences:{locale:v,currency:w}}=e,A=jy(v),b=f[o]?.[l],S=b?.amount,E=b?.unit??"",x=void 0!==S,T=r.find((e=>e.id===o)),k=T?.address?Oy(d,T.address):"",I=(e=>{const{tokenPrices:t,scope:n}=e;return t?.[sc[n]?.nativeToken?.caip19Id]?.price})(e),_=jS(e),C=void 0===S||"0"===S,R=void 0===_,P="error"===h||"fetched"===h&&R,O=(x?{[PS.FIAT]:Wy(bv(S,_??0),w,v),[PS.TOKEN]:Av(S,E,v)}:{[PS.FIAT]:"",[PS.TOKEN]:""})[u],N=o.length>0&&!!a&&a.length>0&&uf(c?.[RS.DestinationAccountInput]),B=!uf(y)&&""!==y,z=Boolean(a&&a.length>0),M=Boolean(c?.[RS.AmountInput]?.message),j=M?c?.[RS.AmountInput]?.message??"":`${A("send.balance")}: ${O}`,U=o.length>0&&!!i&&i.length>0&&!!a&&a.length>0&&Object.values(c).every(uf)&&x&&!p&&B;return vy(Sy,{backgroundColor:"alternative",children:[vy(Ey,{children:[yy(ES,{title:A("send.title"),backButtonName:RS.BackButton}),vy(AS,{name:RS.Form,children:[P&&yy(gv,{title:"",severity:"info",children:yy(Ty,{children:A("send.selectedTokenPriceNotAvailable",{currency:w})})}),yy(Ey,{children:null}),yy(Ey,{children:null}),yy(Ey,{children:null}),yy(_S,{name:RS.SourceAccountSelector,scope:d,error:c?.[RS.SourceAccountSelector]?.message??"",accounts:r,selectedAccountId:o,balances:f,price:I??null,locale:v,currency:w}),yy(Ey,{children:null}),yy(Ey,{children:null}),yy(Ey,{children:null}),yy(BS,{locale:v,disabled:m,name:RS.DestinationAccountInput,value:t??null,showClearButton:z,domainResolutionStatus:s,error:c?.[RS.DestinationAccountInput]?.message??""}),N&&vy(Ey,{children:[yy(Ey,{children:null}),yy(Ey,{children:null}),yy(Ey,{children:null}),vy(Ey,{direction:"horizontal",children:[yy(bS,{label:A("send.assetField"),children:yy(SS,{chainIds:[d],value:l,name:RS.AssetSelector,addresses:k?[k]:[]})}),yy(OS,{name:RS.AmountInput,currencyType:u,tokenSymbol:E,currency:w,value:n??null,locale:v,swapCurrencyButtonDisabled:R||C})]}),vy(Ey,{direction:"horizontal",alignment:"space-between",crossAlignment:"start",children:[yy(Ey,{direction:"vertical",alignment:"start",children:yy(Ty,{size:"sm",color:M?"error":"muted",children:j})}),yy(Py,{size:"sm",name:RS.MaxAmountButton,disabled:C,children:A("send.maxButton")})]})]}),g&&vy(Ey,{children:[yy(Ey,{children:null}),yy(gv,{title:A(g.title),severity:"warning",children:yy(Ty,{children:A(g.message)})})]})]})]}),vy(Ry,{children:[yy(Py,{name:RS.CancelButton,children:A("send.cancelButton")}),yy(Py,{name:RS.SendButton,disabled:!U,loading:p,children:A("send.continueButton")})]})]})},"transaction-confirmation":({context:e})=>{const{preferences:{currency:t,locale:n}}=e,r=jy(n),{tokenImage:o,tokenSymbol:i}=MS(e),a=zS(e),s=jS(e),c=void 0===s?"":Wy(bv(a??"0",s),t,n);return vy(Sy,{children:[vy(Ey,{children:[yy(ES,{title:r("send.confirmation.title"),backButtonName:"transaction-confirmation-back-button"}),yy($S,{title:Av(a??"0",i,n),subtitle:c,iconSrc:o}),yy(qS,{context:e})]}),vy(Ry,{children:[yy(Py,{name:"transaction-confirmation-cancel-button",children:r("send.confirmation.cancelButton")}),yy(Py,{name:"transaction-confirmation-submit-button",loading:e.loading,disabled:e.loading,children:r("send.confirmation.sendButton")})]})]})},"send-pending":({context:e})=>{const t=jy(e.preferences.locale);return yy(Sy,{children:vy(Ey,{children:[yy(Ey,{children:null}),yy($S,{title:t("send.send-pending.title"),subtitle:t("send.send-pending.subtitle"),isLoading:!0}),yy(qS,{context:e})]})})},"transaction-success":({context:e})=>{const{preferences:t,transaction:n,scope:r}=e,o=jy(t.locale),{tokenSymbol:i}=MS(e),a=zS(e);return yy(Sy,{children:vy(Ey,{children:[yy(Ey,{children:null}),yy($S,{title:o("send.transaction-success.title"),subtitle:o("send.transaction-success.subtitle",{amount:qy(a??"0",t.locale),tokenSymbol:i}),iconSrc:'<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M24.0002 3.99902C12.9802 3.99902 4.00024 12.979 4.00024 23.999C4.00024 35.019 12.9802 43.999 24.0002 43.999C35.0202 43.999 44.0002 35.019 44.0002 23.999C44.0002 12.979 35.0202 3.99902 24.0002 3.99902ZM33.5602 19.399L22.2202 30.739C21.9402 31.019 21.5602 31.179 21.1602 31.179C20.7602 31.179 20.3802 31.019 20.1002 30.739L14.4402 25.079C13.8602 24.499 13.8602 23.539 14.4402 22.959C15.0202 22.379 15.9802 22.379 16.5602 22.959L21.1602 27.559L31.4402 17.279C32.0202 16.699 32.9802 16.699 33.5602 17.279C34.1402 17.859 34.1402 18.799 33.5602 19.399Z" fill="#1C8234"/>\n</svg>\n'}),yy(qS,{context:e}),n?.signature?yy(Ey,{alignment:"center",center:!0,children:yy(uv,{href:lv(r,"tx",n?.signature),children:o("send.confirmation.viewTransaction")})}):null]})})},"transaction-failure":({context:e})=>{const{preferences:t}=e,n=jy(t.locale),{tokenSymbol:r}=MS(e),o=zS(e);return yy(Sy,{children:vy(Ey,{children:[yy(Ey,{children:null}),yy($S,{title:n("send.transaction-failure.title"),subtitle:n("send.transaction-failure.subtitle",{amount:o??"0",tokenSymbol:r}),iconSrc:'<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M40.8277 29.5283L29.7931 8.40143C28.3104 5.55884 26.2586 4 24 4C21.7414 4 19.6896 5.55884 18.2069 8.40143L7.17228 29.5283C5.77572 32.2241 5.62055 34.81 6.74125 36.8456C7.86194 38.8813 10.0689 40 12.9654 40H35.0346C37.9311 40 40.1381 38.8813 41.2588 36.8456C42.3795 34.81 42.2243 32.2058 40.8277 29.5283ZM22.7069 16.8375C22.7069 16.0856 23.2931 15.462 24 15.462C24.7069 15.462 25.2931 16.0856 25.2931 16.8375V26.0071C25.2931 26.759 24.7069 27.3826 24 27.3826C23.2931 27.3826 22.7069 26.759 22.7069 26.0071V16.8375ZM25.2241 32.811C25.1379 32.8844 25.0517 32.9577 24.9655 33.0311C24.8621 33.1044 24.7586 33.1595 24.6552 33.1961C24.5517 33.2511 24.4483 33.2878 24.3276 33.3062C24.2241 33.3245 24.1034 33.3428 24 33.3428C23.8965 33.3428 23.7759 33.3245 23.6552 33.3062C23.5517 33.2878 23.4483 33.2511 23.3448 33.1961C23.2414 33.1595 23.1379 33.1044 23.0345 33.0311C22.9483 32.9577 22.8621 32.8844 22.7759 32.811C22.4655 32.4626 22.2758 31.9857 22.2758 31.5089C22.2758 31.0321 22.4655 30.5553 22.7759 30.2068C22.8621 30.1335 22.9483 30.0601 23.0345 29.9868C23.1379 29.9134 23.2414 29.8584 23.3448 29.8217C23.4483 29.7667 23.5517 29.73 23.6552 29.7117C23.8793 29.6567 24.1207 29.6567 24.3276 29.7117C24.4483 29.73 24.5517 29.7667 24.6552 29.8217C24.7586 29.8584 24.8621 29.9134 24.9655 29.9868C25.0517 30.0601 25.1379 30.1335 25.2241 30.2068C25.5345 30.5553 25.7241 31.0321 25.7241 31.5089C25.7241 31.9857 25.5345 32.4626 25.2241 32.811Z" fill="#BF5208"/>\n</svg>\n'}),yy(qS,{context:e})]})})}},KS=({context:e,inputToAddress:t,inputAmount:n})=>{const r=e.stage??"send-form";return yy(VS[r],{context:e,inputToAddress:t,inputAmount:n})};function GS(e){if(!e)return!1;return/^[a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?(\.[a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?)*\.sol$/u.test(e)}function HS(e,t,n){return n[e]?n[e]?.map((e=>e(t))).find((e=>null!==e))??null:null}function JS(e){const t=eE(e),n={[RS.SourceAccountSelector]:e.fromAccountId,[RS.AmountInput]:e.amount,[RS.DestinationAccountInput]:e.toAddress};return Object.entries(t).every((([e,t])=>{const r=n[e];return!!r&&t.every((e=>null===e(r)))}))}const ZS=(e,t)=>{const n=jy(t);return t=>{const r=""===t?{message:n(e),value:t}:null;return r?{message:r.message,value:t}:null}},YS=(e,t)=>{const n=jy(t);return t=>{try{return GS(t)||zs(t),null}catch{return{message:n(e),value:t}}}},XS=e=>{const{minimumBalanceForRentExemptionSol:t,preferences:{locale:n},feeEstimatedInSol:r,selectedTokenMetadata:o}=e,i=jy(n);return n=>{if(""===n)return{message:"",value:n};const a=zS({...e,amount:n}),s=av(a??"0"),c=US(e),u=av(c),l=av(r??"0"),d=av(t??"0"),f=(e=>US({...e,tokenCaipId:sc[e.scope].nativeToken.caip19Id}))(e),h=av(f),p=DS(e);if(s.gt(u))return{message:`${i("send.insufficientBalance")}: ${c} ${o?.symbol??""}`,value:n};if(p){if(s.lt(d))return{message:i("send.amountGreatherThanMinimumBalanceForRentExemptionError",{minimumValue:t}),value:n};if(s.plus(l).plus(d).gt(u))return{message:i("send.insuffientSolToCoverFee"),value:n}}else{if(l.plus(d).gt(h))return{message:i("send.insuffientSolToCoverFee"),value:n}}return s.isZero()?{message:"",value:n}:h.isZero()?{message:i("send.insuffientSolToCoverFee"),value:n}:null}},QS=ee({scope:H([...Object.values(nc)]),account:cc,assetId:te(Jo)}),eE=e=>({[RS.SourceAccountSelector]:[ZS("send.fromRequiredError",e.preferences.locale)],[RS.AmountInput]:[XS(e),ZS("send.amountRequiredError",e.preferences.locale)],[RS.DestinationAccountInput]:[ZS("send.toRequiredError",e.preferences.locale),YS("send.toInvalidError",e.preferences.locale)]}),tE={scope:nc.Mainnet,fromAccountId:"",amount:"",destinationAddressOrDomain:null,toAddress:null,domainResolutionStatus:null,feeEstimatedInSol:"0",feePaidInSol:"0",tokenCaipId:rc.SolMainnet,accounts:[],currencyType:PS.TOKEN,validation:{},balances:{},assets:[],tokenPrices:{},selectedTokenMetadata:null,tokenPricesFetchStatus:"initial",preferences:{locale:"en",currency:"usd",hideBalances:!1,useSecurityAlerts:!0,useExternalPricingData:!0,simulateOnChainActions:!0,useTokenDetection:!0,batchCheckBalances:!0,displayNftMedia:!0,useNftDetection:!0},error:null,buildingTransaction:!1,transactionMessage:null,transaction:null,stage:"send-form",minimumBalanceForRentExemptionSol:"0.002",loading:!0},nE={...{[wS.RefreshSend]:async()=>{const[e,t,n]=await Promise.all([Fb.getKey("assets"),Fb.getKey("mapInterfaceNameToId"),Fm().catch((()=>tE.preferences))]);try{Cd.info(`[${wS.RefreshSend}] Cronjob triggered`);const r=Object.values(e??{}).flatMap((e=>Object.keys(e)));let o={};try{o=await tS.getMultipleSpotPrices(r,n.currency),await Fb.setKey("tokenPrices",o),Cd.info(`[${wS.RefreshSend}] ✅ Token prices were properly refreshed and saved in the state.`)}catch(e){Cd.info({error:e},`[${wS.RefreshSend}] ❌ Could not update the token prices in the state.`)}try{const e=t?.[Mm];if(e){const t=await qm(e);if("transaction-confirmation"!==t.stage)return void Cd.info(`[${wS.RefreshSend}] ❌ Not in transaction confirmation stage`);if(!t.assets)return void Cd.info(`[${wS.RefreshSend}] ❌ No assets found`);const n={...t,tokenPrices:{...t.tokenPrices,...o}};await Dm(e,yy(KS,{context:n}),n)}}catch(e){Cd.info({error:e},`[${wS.RefreshSend}] ❌ Could not update the interface`)}Cd.info(`[${wS.RefreshSend}] ✅ Cronjob suceeded`)}catch(e){Cd.info({error:e},`[${wS.RefreshSend}] ❌ Cronjob failed`)}},[wS.RefreshConfirmationEstimation]:async()=>{try{Cd.info(`[${wS.RefreshConfirmationEstimation}] Cronjob triggered`);const e=(await Fb.getKey("mapInterfaceNameToId")??{})[jm];try{if(e){const t=await qm(e);if(!(t.account?.address&&t.transaction&&t.scope&&t.method))return void Cd.info(`[${wS.RefreshConfirmationEstimation}] Context is missing required fields`);if(!t.preferences?.simulateOnChainActions)return void Cd.info(`[${wS.RefreshConfirmationEstimation}] Transaction simulation is disabled in preferences`);const n={...t,scanFetchStatus:"fetching"};await Dm(e,yy(Ev,{context:n}),n);const r=await uS.scanTransaction({method:t.method,accountAddress:t.account.address,transaction:t.transaction,scope:t.scope,origin:t.origin,account:t.account}),o={...await qm(e),scanFetchStatus:"fetched",scan:r};Cd.info(`[${wS.RefreshConfirmationEstimation}] New scan fetched`),await Dm(e,yy(Ev,{context:o}),o)}Cd.info(`[${wS.RefreshConfirmationEstimation}] Cronjob suceeded`)}catch(t){if(!e)return void Cd.info(`[${wS.RefreshConfirmationEstimation}] No interface context found`);const n={...await qm(e),scanFetchStatus:"fetched"};await Dm(e,yy(Ev,{context:n}),n),Cd.info({error:t},`[${wS.RefreshConfirmationEstimation}] Could not update the interface. But rolled back status to fetched.`)}}catch(e){Cd.info({error:e},`[${wS.RefreshConfirmationEstimation}] Cronjob failed`)}},[wS.ScheduleRefreshAccounts]:async()=>{Cd.info("[scheduleRefreshAccounts] Cronjob triggered");const e=await Fb.getKey("didUpdate");let t=await Fb.getKey("refreshAccountsInterval");t&&e||(t=2*(Math.random()||Number.MIN_VALUE),await Fb.setKey("refreshAccountsInterval",t),await Fb.setKey("didUpdate",!0)),await snap.request({method:"snap_scheduleBackgroundEvent",params:{duration:`PT${t}M`,request:{method:Tv.OnAccountsRefresh,params:{}}}}),Cd.info(`[scheduleRefreshAccounts] Scheduling next refresh in ${t} minutes`)}},...vS},rE=ee({chainId:yc,domain:te(re()),address:te(re())}),oE="Solana Name Service",iE={[Hm.StartSendTransactionFlow]:async({request:e})=>{const{params:t}=e;z(t,QS);const{scope:n,account:r}=t,o=t.assetId??sc[n].nativeToken.caip19Id,i={...tE,scope:n,fromAccountId:r,tokenCaipId:o,loading:!0},[a,s]=await Promise.all([Fb.get(),Fm().catch((()=>tE.preferences))]),{assets:c,keyringAccounts:u,tokenPrices:l}=a;i.balances=function({scope:e,balances:t}){return Object.fromEntries(Object.entries(t).map((([t,n])=>[t,Object.fromEntries(Object.entries(n).filter((([t,n])=>{const r=t===sc[e].nativeToken.caip19Id,o=t.startsWith(e),i="0"!==n.amount;return r||o&&i})))])))}({scope:n,balances:c});const d=c[i.fromAccountId]??{};i.assets=Object.keys(d),i.accounts=Object.values(u),i.preferences=s,i.tokenPrices=l??{};const f=await Um(yy(KS,{context:i}),i),h=$m(f),p=nS.getTokensMetadata([i.tokenCaipId]).then((e=>{const t=e[i.tokenCaipId];t?.symbol&&t?.name&&(i.selectedTokenMetadata={symbol:t.symbol,name:t.name,asset:i.tokenCaipId,imageSvg:null})})).catch((()=>null));let g;i.preferences.useExternalPricingData?g=tS.getMultipleSpotPrices(i.assets,i.preferences.currency).then((e=>{i.tokenPrices={...i.tokenPrices,...e},i.tokenPricesFetchStatus="fetched"})).catch((()=>{i.tokenPricesFetchStatus="error"})):i.tokenPricesFetchStatus="fetched";const m=Vb.getRpc(n).getMinimumBalanceForRentExemption(BigInt(0)).send().then((e=>{i.minimumBalanceForRentExemptionSol=iv(e).toString()})).catch((()=>{}));return i.loading=!0,await Dm(f,yy(KS,{context:i}),i),i.loading=!1,await Promise.all([g,p,m]),await Dm(f,yy(KS,{context:i}),i),await Fb.setKey(`mapInterfaceNameToId.${Mm}`,f),h},[Hm.GetFeeForTransaction]:async({request:e})=>{z(e.params,vc);const{transaction:t,scope:n}=e.params;try{const e=await Yb.getFeeFromBase64StringInLamports(t,n);if(null===e)throw new Error("Failed to get fee for transaction");const r={value:e.toString()};return z(r,wc),r}catch(e){throw Cd.error(e),new to(e)}},[Jm.TestSetupAllConnections]:async()=>(await $b.emitSync("onTestSetupAllConnections"),null),[Jm.TestCloseAllConnections]:async()=>(await $b.emitSync("onTestCloseAllConnections"),null),[Jm.TestSubscribeToAccount]:async()=>(await $b.emitSync("onTestSubscribeToAccount"),null),[Jm.TestUnsubscribeFromAccount]:async()=>(await $b.emitSync("onTestUnsubscribeFromAccount"),null)};const aE=async e=>{try{return await e()}catch(e){const t=function(e){return[Qr,ao,yo,so,ao,co,uo,lo,fo,ho,po,go,mo,to,no,ro,oo,io].some((t=>e instanceof t))}(e)?e:new Qr(e);throw Cd.error({error:t},`[SnapError] ${JSON.stringify(t.toJSON(),null,2)}`),t}},sE=Lu(5000n);class cE{#qe;constructor(e){this.#qe=e}#We(){const e=this.#qe.getComputeUnitLimit(),t=this.#qe.getComputeUnitPriceMicroLamportsPerComputeUnit();return $u(e,(e=>jo(e)),(e=>e.multipliedBy(t.toString())),(e=>e.dividedToIntegerBy(Qs.toString())),(e=>e.toString()),BigInt,Lu)}getFee(){const e=this.#We();return Lu(sE+e)}}var uE=n(4255),lE=n.n(uE),dE=n(3804),fE=n.n(dE);class hE extends Error{constructor(e="Operation cancelled"){super(e),this.name="CancellationError"}}const pE=async e=>{const{fromAccountId:t,tokenCaipId:n,scope:r,toAddress:o}=e,i=zS(e),a=await dS.getAccountOrThrow(t);if(!o||!i)throw new Error("Invalid transaction parameters");const s=n===sc[r].nativeToken.caip19Id,c=s?Xb:Qb,u=new cE(c),l={from:a,to:zs(o),amount:i,network:r,...s?{}:{mint:zs(Xo(n).assetReference)}},d=await c.buildTransactionMessage(l),f=await(async e=>$u(e,wl,dl().encode,Es().decode))(d);return{feeInLamports:u.getFee(),base64EncodedTransactionMessage:f}},gE=fE()((async(e,t)=>{try{if(!JS(t))return;const n={buildingTransaction:!0,transactionMessage:null,feeEstimatedInSol:null};await Dm(e,yy(KS,{context:{...t,...n}}),{...t,...n});const{feeInLamports:r,base64EncodedTransactionMessage:o}=await pE(t),i={transactionMessage:o,feeEstimatedInSol:r?iv(r).toString():null,buildingTransaction:!1},a=await qm(e);await Dm(e,yy(KS,{context:{...a,...i}}),{...a,...i})}catch(t){Cd.error("Could not build the send transaction",t);const n={error:{title:"send.simulationTitleError",message:"send.simulationMessageError"},transactionMessage:null,feeEstimatedInSol:null,buildingTransaction:!1},r=await qm(e);await Dm(e,yy(KS,{context:{...r,...n}}),{...r,...n})}}),(function(e){const t=(e=>(...t)=>{const n=new AbortController,r=[...t];r.some((e=>e instanceof AbortSignal))||r.push(n.signal);const o=Promise.race([e(...r),new Promise(((e,t)=>{n.signal.addEventListener("abort",(()=>{t(new hE)}))}))]);return o.cancel=()=>n.abort(),o})(e);let n=null;return async(...e)=>{if(n&&"function"==typeof n.cancel){const e="Cancelling previous task";console.warn(e),n.cancel()}const r=t(...e);n=r;try{return await r}finally{n===r&&(n=null)}}}),lE()(500));const mE={[RS.BackButton]:async function({id:e}){await Lm(e,!1),await Fb.deleteKey(`mapInterfaceNameToId.${Mm}`)},[RS.SourceAccountSelector]:async function({id:e,event:t,context:n}){n.fromAccountId=t.value,n.error=null,n.validation[RS.SourceAccountSelector]=HS(RS.SourceAccountSelector,n.fromAccountId,eE(n)),n.amount&&(n.validation[RS.AmountInput]=HS(RS.AmountInput,n.amount,eE(n))),await Dm(e,yy(KS,{context:n}),n),await gE(e,n)},[RS.AmountInput]:async function({id:e,event:t,context:n}){const r={...n};r.amount=t.value,r.error=null;const o=HS(RS.AmountInput,r.amount,eE(r));if(o&&r.validation[RS.AmountInput]?.message!==o?.message)return r.validation[RS.AmountInput]=o,void await Dm(e,yy(KS,{context:r}),r);null===o&&(r.validation[RS.AmountInput]=null,await Dm(e,yy(KS,{context:r}),r),await gE(e,r))},[RS.AssetSelector]:async function({id:e,event:t,context:n}){if("object"!=typeof t.value||!("asset"in t.value))return;const r=t.value.asset;if(n.tokenCaipId===r)return;const o=r===sc[n.scope].nativeToken.caip19Id?Xb:Qb,i=new cE(o).getFee(),a={tokenCaipId:r,feeEstimatedInSol:iv(i).toString(),selectedTokenMetadata:{symbol:t.value.symbol,name:t.value.name,asset:t.value.asset,imageSvg:null},amount:"",error:null},s=(0,ni.merge)(n,a);await Dm(e,yy(KS,{context:s,inputAmount:""}),s),await gE(e,n)},[RS.SwapCurrencyButton]:async function({id:e,context:t}){if(t.error=null,t.currencyType=t.currencyType===PS.TOKEN?PS.FIAT:PS.TOKEN,!t.amount)return void await Dm(e,yy(KS,{context:t}),t);const n=jo(t.amount??"0"),{price:r}=t.tokenPrices[t.tokenCaipId]??{price:0};t.currencyType===PS.TOKEN&&(t.amount=n.dividedBy(r).toString()),t.currencyType===PS.FIAT&&(t.amount=n.multipliedBy(r).toString()),await Dm(e,yy(KS,{context:t,inputAmount:t.amount}),t)},[RS.MaxAmountButton]:async function({id:e,context:t}){const{currencyType:n,minimumBalanceForRentExemptionSol:r,tokenCaipId:o,tokenPrices:i}=t,a={...t},s=US(t);if(DS(t)){const e=av(s),t=new cE(Xb).getFee().toString(),n=av(r),o=e.minus(t).minus(n).minus(1),i=jo.maximum(o,o.isNegative()?e:jo(0)),c=iv(i);a.amount=c.toString()}else a.amount=s;if(n===PS.FIAT){const{price:e}=i[o]??{price:0};a.amount=bv(a.amount,e)}a.error=null,a.validation[RS.AmountInput]=HS(RS.AmountInput,a.amount,eE(a)),await Dm(e,yy(KS,{context:a,inputAmount:a.amount}),a),await gE(e,a)},[RS.DestinationAccountInput]:async function({id:e,event:t,context:n}){const r={...n};r.destinationAddressOrDomain=t.value,r.domainResolutionStatus=null,r.error=null;const o=HS(RS.DestinationAccountInput,r.destinationAddressOrDomain,eE(r));r.validation[RS.DestinationAccountInput]=o,GS(r?.destinationAddressOrDomain)?(r.domainResolutionStatus="fetching",await Dm(e,yy(KS,{context:r}),r),r.toAddress=await oS.resolveDomain(r.scope,r.destinationAddressOrDomain).catch((()=>{const e=jy(r.preferences.locale);return r.validation[RS.DestinationAccountInput]={message:e("send.toInvalidErrorDomain"),value:r.destinationAddressOrDomain??""},null})),r.domainResolutionStatus=r.toAddress?"fetched":"error"):r.toAddress=r.destinationAddressOrDomain,await Dm(e,yy(KS,{context:r}),r),null===o&&await gE(e,r)},[RS.ClearButton]:async function({id:e,context:t}){t.destinationAddressOrDomain="",t.toAddress="",t.domainResolutionStatus=null,t.error=null,t.validation[RS.DestinationAccountInput]=null,await Dm(e,yy(KS,{context:t,inputToAddress:t.toAddress}),t)},[RS.CancelButton]:async function({id:e}){await Lm(e,!1),await Fb.deleteKey(`mapInterfaceNameToId.${Mm}`)},[RS.SendButton]:async function({id:e,context:t}){if(!JS(t))return;const n={...t};n.stage="transaction-confirmation",n.loading=!0,await Dm(e,yy(KS,{context:n}),n);const[r,o]=await Promise.all([tS.getMultipleSpotPrices(t.assets,t.preferences.currency).then((e=>e)).catch((()=>null)),t.selectedTokenMetadata?nS.generateImageComponent(Ec({baseUrl:Lb.get().staticApi.baseUrl,path:"/api/v2/tokenIcons/assets/{assetId}.png",pathParams:{assetId:t.selectedTokenMetadata?.asset.replace(/:/gu,"/")}})):null]);r&&o&&(n.tokenPrices=r,n.selectedTokenMetadata=t.selectedTokenMetadata?{...t.selectedTokenMetadata,imageSvg:o}:null),n.loading=!1,await Dm(e,yy(KS,{context:n}),n),await snap.request({method:"snap_scheduleBackgroundEvent",params:{duration:"PT1S",request:{method:Tv.OnTransactionAdded,params:{accountId:t.fromAccountId,base64EncodedTransaction:t.transactionMessage,metadata:{scope:t.scope,origin:tc}}}}})}};const yE={[WS.BackButton]:async function({id:e,context:t}){const n={...t,stage:"send-form"};await Dm(e,yy(KS,{context:n,inputAmount:t.amount??"",inputToAddress:t.destinationAddressOrDomain??""}),n)},[WS.CancelButton]:async function({id:e,context:t}){const{fromAccountId:n,transactionMessage:r,scope:o}=t;await snap.request({method:"snap_scheduleBackgroundEvent",params:{duration:"PT1S",request:{method:Tv.OnTransactionRejected,params:{accountId:n,base64EncodedTransaction:r,metadata:{scope:o,origin:tc}}}}}),await Lm(e,!1),await Fb.deleteKey(`mapInterfaceNameToId.${Mm}`)},[WS.ConfirmButton]:async function({id:e,context:t}){const{scope:n,fromAccountId:r,feeEstimatedInSol:o,transactionMessage:i}=t;if(t.error=null,!i)return t.stage="send-form",void await Dm(e,yy(KS,{context:t}),t);await snap.request({method:"snap_scheduleBackgroundEvent",params:{duration:"PT1S",request:{method:Tv.OnTransactionApproved,params:{accountId:t.fromAccountId,base64EncodedTransaction:t.transactionMessage,metadata:{scope:t.scope,origin:tc}}}}});const a={...t,stage:"send-pending"};await Dm(e,yy(KS,{context:a}),a);let s=null;try{const e=await dS.getAccountOrThrow(r);s=(await cS.signAndSendTransaction(e,i,n,tc)).signature}catch(e){Cd.error({error:e},"Error submitting request")}const c={...t,stage:s?"transaction-success":"transaction-failure",feePaidInSol:o,transaction:{result:s?"success":"failure",signature:s}};await Dm(e,yy(KS,{context:c}),c)}};const vE=2n**255n-19n,wE=2n**252n+27742317777372353535851937790883648493n,AE=0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51an,bE=0x6666666666666666666666666666666666666666666666666666666666666658n,SE={a:-1n,d:37095705934669439343138083508754565189542113879843219016388785533085940283555n,p:vE,n:wE,h:8,Gx:AE,Gy:bE},EE=(e="")=>{throw new Error(e)},xE=e=>"string"==typeof e,TE=(e,t)=>!(e=>e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name)(e)||"number"==typeof t&&t>0&&e.length!==t?EE("Uint8Array of valid length expected"):e,kE=e=>new Uint8Array(e),IE=(e,t)=>TE(xE(e)?zE(e):kE(TE(e)),t),_E=(e,t=vE)=>{let n=e%t;return n>=0n?n:t+n},CE=e=>e instanceof RE?e:EE("Point expected");class RE{constructor(e,t,n,r){this.ex=e,this.ey=t,this.ez=n,this.et=r}static fromAffine(e){return new RE(e.x,e.y,1n,_E(e.x*e.y))}static fromHex(e,t=!1){const{d:n}=SE,r=(e=IE(e,32)).slice(),o=e[31];r[31]=-129&o;const i=jE(r);!t||0n<=i&&i<2n**256n||EE("bad y coord 1"),t||0n<=i&&i<vE||EE("bad y coord 2");const a=_E(i*i),s=_E(a-1n),c=_E(n*a+1n);let{isValid:u,value:l}=FE(s,c);u||EE("bad y coordinate 3");const d=1n===(1n&l),f=0!=(128&o);return!t&&0n===l&&f&&EE("bad y coord 3"),f!==d&&(l=_E(-l)),new RE(l,i,1n,_E(l*i))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}equals(e){const{ex:t,ey:n,ez:r}=this,{ex:o,ey:i,ez:a}=CE(e),s=_E(t*a),c=_E(o*r),u=_E(n*a),l=_E(i*r);return s===c&&u===l}is0(){return this.equals(OE)}negate(){return new RE(_E(-this.ex),this.ey,this.ez,_E(-this.et))}double(){const{ex:e,ey:t,ez:n}=this,{a:r}=SE,o=_E(e*e),i=_E(t*t),a=_E(2n*_E(n*n)),s=_E(r*o),c=e+t,u=_E(_E(c*c)-o-i),l=s+i,d=l-a,f=s-i,h=_E(u*d),p=_E(l*f),g=_E(u*f),m=_E(d*l);return new RE(h,p,m,g)}add(e){const{ex:t,ey:n,ez:r,et:o}=this,{ex:i,ey:a,ez:s,et:c}=CE(e),{a:u,d:l}=SE,d=_E(t*i),f=_E(n*a),h=_E(o*l*c),p=_E(r*s),g=_E((t+n)*(i+a)-d-f),m=_E(p-h),y=_E(p+h),v=_E(f-u*d),w=_E(g*m),A=_E(y*v),b=_E(g*v),S=_E(m*y);return new RE(w,A,S,b)}mul(e,t=!0){if(0n===e)return!0===t?EE("cannot multiply by 0"):OE;if("bigint"==typeof e&&0n<e&&e<wE||EE("invalid scalar, must be < L"),!t&&this.is0()||1n===e)return this;if(this.equals(PE))return sx(e).p;let n=OE,r=PE;for(let o=this;e>0n;o=o.double(),e>>=1n)1n&e?n=n.add(o):t&&(r=r.add(o));return n}multiply(e){return this.mul(e)}clearCofactor(){return this.mul(BigInt(SE.h),!1)}isSmallOrder(){return this.clearCofactor().is0()}isTorsionFree(){let e=this.mul(wE/2n,!1).double();return wE%2n&&(e=e.add(this)),e.is0()}toAffine(){const{ex:e,ey:t,ez:n}=this;if(this.equals(OE))return{x:0n,y:1n};const r=DE(n);return 1n!==_E(n*r)&&EE("invalid inverse"),{x:_E(e*r),y:_E(t*r)}}toRawBytes(){const{x:e,y:t}=this.toAffine(),n=ME(t);return n[31]|=1n&e?128:0,n}toHex(){return BE(this.toRawBytes())}}RE.BASE=new RE(AE,bE,1n,_E(AE*bE)),RE.ZERO=new RE(0n,1n,1n,0n);const{BASE:PE,ZERO:OE}=RE,NE=(e,t)=>e.toString(16).padStart(t,"0"),BE=e=>Array.from(e).map((e=>NE(e,2))).join(""),zE=e=>{const t=e.length;(!xE(e)||t%2)&&EE("hex invalid 1");const n=kE(t/2);for(let t=0;t<n.length;t++){const r=2*t,o=e.slice(r,r+2),i=Number.parseInt(o,16);(Number.isNaN(i)||i<0)&&EE("hex invalid 2"),n[t]=i}return n},ME=e=>zE(NE(e,64)).reverse(),jE=e=>BigInt("0x"+BE(kE(TE(e)).reverse())),UE=(...e)=>{const t=kE(e.reduce(((e,t)=>e+TE(t).length),0));let n=0;return e.forEach((e=>{t.set(e,n),n+=e.length})),t},DE=(e,t=vE)=>{(0n===e||t<=0n)&&EE("no inverse n="+e+" mod="+t);let n=_E(e,t),r=t,o=0n,i=1n,a=1n,s=0n;for(;0n!==n;){const e=r/n,t=r%n,c=o-a*e,u=i-s*e;r=n,n=t,o=a,i=s,a=c,s=u}return 1n===r?_E(o,t):EE("no inverse")},LE=(e,t)=>{let n=e;for(;t-- >0n;)n*=n,n%=vE;return n},$E=19681161376707505956807079304988542015446066515923890162744021073123829784752n,FE=(e,t)=>{const n=_E(t*t*t),r=(e=>{const t=e*e%vE*e%vE,n=LE(t,2n)*t%vE,r=LE(n,1n)*e%vE,o=LE(r,5n)*r%vE,i=LE(o,10n)*o%vE,a=LE(i,20n)*i%vE,s=LE(a,40n)*a%vE,c=LE(s,80n)*s%vE,u=LE(c,80n)*s%vE,l=LE(u,10n)*o%vE;return{pow_p_5_8:LE(l,2n)*e%vE,b2:t}})(e*_E(n*n*t)).pow_p_5_8;let o=_E(e*n*r);const i=_E(t*o*o),a=o,s=_E(o*$E),c=i===e,u=i===_E(-e),l=i===_E(-e*$E);return c&&(o=a),(u||l)&&(o=s),1n===(1n&_E(o))&&(o=_E(-o)),{isValid:c||u,value:o}},qE=e=>_E(jE(e),wE);let WE;const VE=(...e)=>ox.sha512Async(...e),KE=(...e)=>"function"==typeof WE?WE(...e):EE("etc.sha512Sync not set"),GE=e=>{const t=e.slice(0,32);t[0]&=248,t[31]&=127,t[31]|=64;const n=e.slice(32,64),r=qE(t),o=PE.mul(r),i=o.toRawBytes();return{head:t,prefix:n,scalar:r,point:o,pointBytes:i}},HE=e=>VE(IE(e,32)).then(GE),JE=e=>GE(KE(IE(e,32))),ZE=e=>HE(e).then((e=>e.pointBytes));function YE(e,t){return e?VE(t.hashable).then(t.finish):t.finish(KE(t.hashable))}const XE=(e,t,n)=>{const{pointBytes:r,scalar:o}=e,i=qE(t),a=PE.mul(i).toRawBytes();return{hashable:UE(a,r,n),finish:e=>{const t=_E(i+qE(e)*o,wE);return TE(UE(a,ME(t)),64)}}},QE=async(e,t)=>{const n=IE(e),r=await HE(t),o=await VE(r.prefix,n);return YE(!0,XE(r,o,n))},ex={zip215:!0},tx=(e,t,n,r=ex)=>{t=IE(t),e=IE(e,64);const{zip215:o}=r;let i,a,s,c,u=new Uint8Array;try{i=RE.fromHex(n,o),a=RE.fromHex(e.slice(0,32),o),s=jE(e.slice(32,64)),c=PE.mul(s,!1),u=UE(a.toRawBytes(),i.toRawBytes(),t)}catch(e){}return{hashable:u,finish:e=>{if(null==c)return!1;if(!o&&i.isSmallOrder())return!1;const t=qE(e);return a.add(i.mul(t,!1)).add(c.negate()).clearCofactor().is0()}}},nx=async(e,t,n,r=ex)=>YE(!0,tx(e,t,n,r)),rx=()=>"object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,ox={bytesToHex:BE,hexToBytes:zE,concatBytes:UE,mod:_E,invert:DE,randomBytes:(e=32)=>{const t=rx();return t&&t.getRandomValues||EE("crypto.getRandomValues must be defined"),t.getRandomValues(kE(e))},sha512Async:async(...e)=>{const t=rx();t&&t.subtle||EE("crypto.subtle or etc.sha512Async must be defined");const n=UE(...e);return kE(await t.subtle.digest("SHA-512",n.buffer))},sha512Sync:void 0};Object.defineProperties(ox,{sha512Sync:{configurable:!1,get:()=>WE,set(e){WE||(WE=e)}}});const ix={getExtendedPublicKeyAsync:HE,getExtendedPublicKey:JE,randomPrivateKey:()=>ox.randomBytes(32),precompute:(e=8,t=PE)=>(t.multiply(3n),t)};let ax;const sx=e=>{const t=ax||(ax=(()=>{const e=[];let t=PE,n=t;for(let r=0;r<33;r++){n=t,e.push(n);for(let r=1;r<128;r++)n=n.add(t),e.push(n);t=n.double()}return e})()),n=(e,t)=>{let n=t.negate();return e?n:t};let r=OE,o=PE;const i=BigInt(255),a=BigInt(8);for(let s=0;s<33;s++){const c=128*s;let u=Number(e&i);e>>=a,u>128&&(u-=256,e+=1n);const l=c,d=c+Math.abs(u)-1,f=s%2!=0,h=u<0;0===u?o=o.add(n(f,t[l])):r=r.add(n(h,t[d]))}return{p:r,f:o}};function cx(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}var ux=n(1048).hp;const lx="8d9df0f7-1363-4d2c-8152-ce4ed78f27d8",dx=[48,46,2,1,0,48,5,6,3,43,101,112,4,34,4,32];function fx(e){return ux.from(e).toString("base64").replace(/\+/gu,"-").replace(/\//gu,"_").replace(/[=]/gu,"")}function hx(e){const t=e.replace(/-/gu,"+").replace(/_/gu,"/");return new Uint8Array(ux.from(t,"base64"))}function px(e){return"Ed25519"===e||"object"==typeof e&&"Ed25519"===e.name}function gx(){const{subtle:e}=globalThis.crypto;Object.defineProperty(globalThis,"isSecureContext",{value:!0,writable:!0,configurable:!0}),Object.defineProperty(e,"generateKey",{value:async(...e)=>px(e[0])?await async function(e,t,n){const r=ix.randomPrivateKey(),o=await ZE(r),i=Array.from(n);return{privateKey:{algorithm:{name:"Ed25519"},extractable:t,type:"private",usages:i,[lx]:r},publicKey:{algorithm:{name:"Ed25519"},extractable:!0,type:"public",usages:i,[lx]:o}}}(...e):await globalThis.crypto.subtle.generateKey(...e),writable:!0,configurable:!0}),Object.defineProperty(e,"exportKey",{value:async(...e)=>px(e[1].algorithm)?await async function(e,t){if(!t.extractable)throw new DOMException("key is not extractable","InvalidAccessException");const n=t[lx];switch(e){case"raw":if("public"!==t.type)throw new DOMException("Unable to export a raw Ed25519 private key","InvalidAccessError");return n.buffer;case"pkcs8":if("private"!==t.type)throw new DOMException("Unable to export a pkcs8 Ed25519 public key","InvalidAccessError");return new Uint8Array([...dx,...n]).buffer;case"jwk":{const e={crv:"Ed25519",ext:t.extractable,key_ops:t.usages,kty:"OKP"};if("private"===t.type){const t=await ZE(n);return Object.freeze({...e,d:fx(n),x:fx(t)})}return Object.freeze({...e,x:fx(n)})}case"spki":{if("public"!==t.type)throw new DOMException("Only public keys can be exported as SPKI","InvalidAccessError");const e=new Uint8Array([48,5,6,3,43,101,112]),r=new Uint8Array([3,n.length+1,0,...n]);return new Uint8Array([48,e.length+r.length,...e,...r]).buffer}default:throw new Error(`Unsupported export format: ${e}`)}}(...e):await globalThis.crypto.subtle.exportKey(...e),writable:!0,configurable:!0}),Object.defineProperty(e,"sign",{value:async(...e)=>{const[t,n]=e;return px(t)&&px(n.algorithm)?await async function(e,t,n){if("private"!==t.type)throw new DOMException("Key is not private","NotAllowedError");if(!t.usages.includes("sign"))throw new DOMException("Key usage not allowed","NotAllowedError");const r=cx(n),o=t[lx],i=function(e){return e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteLength)}(await QE(r,o));return i}(...e):await globalThis.crypto.subtle.sign(...e)},writable:!0,configurable:!0}),Object.defineProperty(e,"verify",{value:async(...e)=>{const[t,n]=e;return px(t)&&px(n.algorithm)?await async function(e,t,n,r){if("public"!==t.type)throw new DOMException("Key is not public","NotAllowedError");if(!t.usages.includes("verify"))throw new DOMException("Key usage not allowed","NotAllowedError");const o=cx(n),i=cx(r),a=t[lx];return await nx(o,i,a)}(...e):await globalThis.crypto.subtle.verify(...e)},writable:!0,configurable:!0}),Object.defineProperty(e,"importKey",{value:async(...e)=>px(e[2])?await async function(e,t,n,r,o){const i=Array.from(o);switch(e){case"raw":{const e=cx(t);if(32!==e.length)throw new DOMException("Ed25519 raw keys must be exactly 32-bytes","DataError");return{algorithm:{name:"Ed25519"},extractable:r,type:"public",usages:i.filter((e=>"verify"===e)),[lx]:e}}case"pkcs8":{const e=cx(t);if(48!==e.length)throw new DOMException("Invalid PKCS8 key data length","DataError");if(!e.slice(0,16).every(((e,t)=>e===dx[t])))throw new DOMException("Invalid PKCS8 header","DataError");return{algorithm:{name:"Ed25519"},extractable:r,type:"private",usages:i.filter((e=>"sign"===e)),[lx]:e.slice(16)}}case"jwk":{const e=t;if("OKP"!==e.kty||"Ed25519"!==e.crv)throw new DOMException("Invalid Ed25519 JWK","DataError");const n="d"in e?"private":"public";if("public"===n&&!e.x)throw new DOMException("Ed25519 JWK is missing public key","DataError");if(!("private"!==n||e.d&&e.x))throw new DOMException("Ed25519 JWK is missing key data","DataError");const o="private"===n?e.d:e.x;return{algorithm:{name:"Ed25519"},extractable:r,type:n,usages:i.filter((e=>"private"===n?"sign"===e:"verify"===e)),[lx]:hx(o)}}case"spki":{const e=cx(t);if(48!==e[0])throw new DOMException("Invalid SPKI format","DataError");const n=2;if(48!==e[n]||6!==e[n+2]||3!==e[n+3]||43!==e[n+4]||101!==e[n+5]||112!==e[n+6])throw new DOMException("Not an Ed25519 key","DataError");const r=n+7+2;return{algorithm:{name:"Ed25519"},extractable:!0,type:"public",usages:i.filter((e=>"verify"===e)),[lx]:e.slice(r)}}default:throw new Error(`Unsupported import format: ${e}`)}}(...e):await globalThis.crypto.subtle.importKey(...e),writable:!0,configurable:!0})}const mx=async e=>Promise.resolve().then(e);Object.defineProperty(globalThis,"DOMException",{value:Error,writable:!0,configurable:!0,enumerable:!0}),gx(),Object.defineProperty(globalThis,"queueMicrotask",{value:mx,writable:!0,configurable:!0,enumerable:!0}),jo.config({EXPONENTIAL_AT:16});const yx=async({origin:e,request:t})=>{Cd.log("[🔄 onRpcRequest]",t.method,t);const{method:n}=t;sy(e,n);const r=iE[n];if(!r)throw new ao(`RpcRequest method ${n} not found. Available methods: ${Object.values(Hm).toString()}`);return await aE((async()=>r({origin:e,request:t})))??null},vx=async({origin:e,request:t})=>{Cd.log("[🔑 onKeyringRequest]",t.method,t),sy(e,t.method),t.method===Ht.SubmitRequest&&t.params&&!("origin"in t.params)&&(t.params.origin="https://metamask.io");return await aE((async()=>yn(dS,t)))??null},wx=async({id:e,event:t,context:n})=>{if(Cd.log("[👇 onUserInput]",e,t),!t.name)return;const r={...mE,...yE,...cv,...rv,...ev}[t.name];r&&await aE((async()=>r({id:e,event:t,context:n,snapContext:pS})))},Ax=async({request:e})=>{Cd.log("[⏱️ onCronjob]",e.method,e);const{method:t}=e;z(t,H([...Object.values(wS),...Object.values(Tv)]));return await aE((async()=>{const{locked:n,active:r}=await async function(){return await snap.request({method:"snap_getClientStatus"})}();if(Cd.log("[🔑 onCronjob] Client status",{locked:n,active:r}),n)return Promise.resolve();if(!1===r){const e=await Fb.getKey("lastCronjobRun"),t=18e5;if(Cd.log("[🔑 onCronjob] Last cronjob run",{lastCronjobRun:e}),e&&Date.now()-e<t)return Cd.log("[🔑 onCronjob] Skipping cronjob because it has been run in the last 30 minutes"),Promise.resolve()}await Fb.setKey("lastCronjobRun",Date.now()),Cd.log("[🔑 onCronjob] Running cronjob",{method:t});return(0,nE[t])({request:e})}))??null},bx=async e=>{const t=await aE((async()=>(async e=>{Cd.log("[🔍 onAssetsLookup]",e);const{assets:t}=e;return{assets:await eS.getTokenMetadataFromAddresses(t)}})(e)));return t??null},Sx=async e=>{const t=await aE((async()=>(async e=>{Cd.log("[💱 onAssetsConversion]",e);const{conversions:t}=e;return{conversionRates:await rS.getMultipleTokenConversions(t)}})(e)));return t??null},Ex=async e=>await aE((async()=>(async({scope:e,request:t})=>{switch(z(e,yc),t.method){case Wm.GetGenesisHash:return z(t,Vm),Vb.getRpc(e).getGenesisHash().send();case Wm.GetLatestBlockhash:return z(t,Km),(await Vb.getRpc(e).getLatestBlockhash().send()).value.blockhash;case Wm.GetMinimumBalanceForRentExemption:return z(t,Gm),(await Vb.getRpc(e).getMinimumBalanceForRentExemption(BigInt(t.params[0]),t.params[1]).send()).toString();default:throw new Error(`Unsupported method: ${t.method}`)}})(e)))??null,xx=async e=>{const t=await aE((async()=>(async e=>{Cd.log("[📈 onAssetHistoricalPrice]",e);const{from:t,to:n}=e;return z(t,Jo),z(n,Jo),{historicalPrice:await rS.getHistoricalPrice(t,n)}})(e)));return t??null},Tx=async({request:e})=>await aE((async()=>hS.handle(e)))??null,kx=async({event:e})=>aE((async()=>$b.emitSync("onWebSocketEvent",e))),Ix=async()=>aE((async()=>$b.emitSync("onStart"))),_x=async()=>aE((async()=>$b.emitSync("onUpdate"))),Cx=async()=>aE((async()=>$b.emitSync("onInstall"))),Rx=async e=>{const t=await aE((async()=>(async e=>{z(e,rE);const{chainId:t,domain:n,address:r}=e;if(n){const e=await oS.resolveDomain(t,n);if(e)return{resolvedAddresses:[{resolvedAddress:e,protocol:oE,domainName:n}]}}if(r){const e=await oS.resolveAddress(t,r);if(e)return{resolvedDomains:[{resolvedDomain:e,protocol:oE}]}}return null})(e)));return t??null},Px=async e=>{const t=await aE((async()=>(async e=>{Cd.log("[💰 onAssetsMarketData]",e);const{assets:t}=e;return{marketData:await iS.getAssetsMarketData(t)}})(e)));return t??null}})(),module.exports=r})();
\ No newline at end of file
+(()=>{var e={33:(e,t,n)=>{var r=n(9968),o=n(9756),i=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];e.exports=function(e,t){return r(i,(function(n){var r="_."+n[0];t&n[1]&&!o(e,r)&&e.push(r)})),e.sort()}},88:(e,t,n)=>{var r=n(4700);e.exports=function(e){return r(this,e).get(e)}},125:(e,t,n)=>{var r=n(9032),o=n(5288);e.exports=function(e,t){return e&&r(t,o(t),e)}},155:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},195:(e,t,n)=>{var r=n(4882),o=n(8121),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},282:e=>{e.exports=a,a.default=a,a.stable=l,a.stableStringify=l;var t="[...]",n="[Circular]",r=[],o=[];function i(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function a(e,t,n,a){var s;void 0===a&&(a=i()),c(e,"",0,[],void 0,0,a);try{s=0===o.length?JSON.stringify(e,t,n):JSON.stringify(e,f(t),n)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==r.length;){var u=r.pop();4===u.length?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}}return s}function s(e,t,n,i){var a=Object.getOwnPropertyDescriptor(i,n);void 0!==a.get?a.configurable?(Object.defineProperty(i,n,{value:e}),r.push([i,n,t,a])):o.push([t,n,e]):(i[n]=e,r.push([i,n,t]))}function c(e,r,o,i,a,u,l){var d;if(u+=1,"object"==typeof e&&null!==e){for(d=0;d<i.length;d++)if(i[d]===e)return void s(n,e,r,a);if(void 0!==l.depthLimit&&u>l.depthLimit)return void s(t,e,r,a);if(void 0!==l.edgesLimit&&o+1>l.edgesLimit)return void s(t,e,r,a);if(i.push(e),Array.isArray(e))for(d=0;d<e.length;d++)c(e[d],d,d,i,e,u,l);else{var f=Object.keys(e);for(d=0;d<f.length;d++){var h=f[d];c(e[h],h,d,i,e,u,l)}}i.pop()}}function u(e,t){return e<t?-1:e>t?1:0}function l(e,t,n,a){void 0===a&&(a=i());var s,c=d(e,"",0,[],void 0,0,a)||e;try{s=0===o.length?JSON.stringify(c,t,n):JSON.stringify(c,f(t),n)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==r.length;){var u=r.pop();4===u.length?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}}return s}function d(e,o,i,a,c,l,f){var h;if(l+=1,"object"==typeof e&&null!==e){for(h=0;h<a.length;h++)if(a[h]===e)return void s(n,e,o,c);try{if("function"==typeof e.toJSON)return}catch(e){return}if(void 0!==f.depthLimit&&l>f.depthLimit)return void s(t,e,o,c);if(void 0!==f.edgesLimit&&i+1>f.edgesLimit)return void s(t,e,o,c);if(a.push(e),Array.isArray(e))for(h=0;h<e.length;h++)d(e[h],h,h,a,e,l,f);else{var p={},g=Object.keys(e).sort(u);for(h=0;h<g.length;h++){var m=g[h];d(e[m],m,h,a,e,l,f),p[m]=e[m]}if(void 0===c)return p;r.push([c,o,e]),c[o]=p}a.pop()}}function f(e){return e=void 0!==e?e:function(e,t){return t},function(t,n){if(o.length>0)for(var r=0;r<o.length;r++){var i=o[r];if(i[1]===t&&i[0]===n){n=i[2],o.splice(r,1);break}}return e.call(this,t,n)}}},313:(e,t,n)=>{var r=n(1129),o=n(714);e.exports=function e(t,n,i,a,s){var c=-1,u=t.length;for(i||(i=o),s||(s=[]);++c<u;){var l=t[c];n>0&&i(l)?n>1?e(l,n-1,i,a,s):r(s,l):a||(s[s.length]=l)}return s}},353:(e,t,n)=>{var r=n(1340),o=n(3934),i=n(8861),a=n(1182),s=n(8486),c=n(3142),u=n(5853),l=n(8666),d="[object Arguments]",f="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,m,y){var v=c(e),w=c(t),A=v?f:s(e),b=w?f:s(t),S=(A=A==d?h:A)==h,E=(b=b==d?h:b)==h,x=A==b;if(x&&u(e)){if(!u(t))return!1;v=!0,S=!1}if(x&&!S)return y||(y=new r),v||l(e)?o(e,t,n,g,m,y):i(e,t,A,n,g,m,y);if(!(1&n)){var T=S&&p.call(e,"__wrapped__"),k=E&&p.call(t,"__wrapped__");if(T||k){var I=T?e.value():e,_=k?t.value():t;return y||(y=new r),m(I,_,n,g,y)}}return!!x&&(y||(y=new r),a(e,t,n,g,m,y))}},358:(e,t,n)=>{var r=n(6137),o=n(3283),i=n(3142),a=n(5853),s=n(9632),c=n(8666),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),l=!n&&o(e),d=!n&&!l&&a(e),f=!n&&!l&&!d&&c(e),h=n||l||d||f,p=h?r(e.length,String):[],g=p.length;for(var m in e)!t&&!u.call(e,m)||h&&("length"==m||d&&("offset"==m||"parent"==m)||f&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,g))||p.push(m);return p}},393:(e,t,n)=>{var r=n(8244),o=n(7979),i=n(1211);e.exports=function(e){return r(e,i,o)}},424:(e,t,n)=>{var r=n(8898),o=n(2480),i=n(8340),a=n(8069),s=n(2264);e.exports=function(e,t,n){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return o(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return i(e);case"[object Symbol]":return a(e)}}},441:(e,t,n)=>{var r=n(7379),o=n(547),i=n(8360);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!i(e)}},528:(e,t,n)=>{var r=n(9747),o=n(5962);function i(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}i.prototype=r(o.prototype),i.prototype.constructor=i,e.exports=i},547:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},674:(e,t,n)=>{var r=n(7379),o=n(5387),i=n(547),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},714:(e,t,n)=>{var r=n(5650),o=n(3283),i=n(3142),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||o(e)||!!(a&&e&&e[a])}},777:(e,t,n)=>{var r=n(8486),o=n(547);e.exports=function(e){return o(e)&&"[object Map]"==r(e)}},796:(e,t,n)=>{var r=n(7403),o=n(3316)(r);e.exports=o},864:(e,t,n)=>{var r=n(8638),o=n(1439),i=o((function(e,t){return r(e,256,void 0,void 0,void 0,t)}));e.exports=i},961:(e,t,n)=>{var r=n(3476),o=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+"",n=r[t],i=o.call(r,t)?n.length:0;i--;){var a=n[i],s=a.func;if(null==s||s==e)return a.name}return t}},1048:(e,t,n)=>{"use strict";const r=n(7991),o=n(9318),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.hp=c,t.IS=50;const a=2147483647;function s(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return u(e,t,n)}function u(e,t,n){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|g(e,t);let r=s(n);const o=r.write(e,t);o!==n&&(r=r.slice(0,o));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(J(e,Uint8Array)){const t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(J(e,ArrayBuffer)||e&&J(e.buffer,ArrayBuffer))return h(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(J(e,SharedArrayBuffer)||e&&J(e.buffer,SharedArrayBuffer)))return h(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return c.from(r,t,n);const o=function(e){if(c.isBuffer(e)){const t=0|p(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!=typeof e.length||Z(e.length)?s(0):f(e);if("Buffer"===e.type&&Array.isArray(e.data))return f(e.data)}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return l(e),s(e<0?0:0|p(e))}function f(e){const t=e.length<0?0:0|p(e.length),n=s(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function h(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,c.prototype),r}function p(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function g(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||J(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return K(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(e).length;default:if(o)return r?-1:K(e).length;t=(""+t).toLowerCase(),o=!0}}function m(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,n);case"utf8":case"utf-8":return k(this,t,n);case"ascii":return _(this,t,n);case"latin1":case"binary":return C(this,t,n);case"base64":return T(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Z(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:w(e,t,n,r,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):w(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function w(e,t,n,r,o){let i,a=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){let r=-1;for(i=n;i<s;i++)if(u(e,i)===u(t,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===c)return r*a}else-1!==r&&(i-=i-r),r=-1}else for(n+c>s&&(n=s-c),i=n;i>=0;i--){let n=!0;for(let r=0;r<c;r++)if(u(e,i+r)!==u(t,r)){n=!1;break}if(n)return i}return-1}function A(e,t,n,r){n=Number(n)||0;const o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;const i=t.length;let a;for(r>i/2&&(r=i/2),a=0;a<r;++a){const r=parseInt(t.substr(2*a,2),16);if(Z(r))return a;e[n+a]=r}return a}function b(e,t,n,r){return H(K(t,e.length-n),e,n,r)}function S(e,t,n,r){return H(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return H(G(t),e,n,r)}function x(e,t,n,r){return H(function(e,t){let n,r,o;const i=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function T(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function k(e,t,n){n=Math.min(e.length,n);const r=[];let o=t;for(;o<n;){const t=e[o];let i=null,a=t>239?4:t>223?3:t>191?2:1;if(o+a<=n){let n,r,s,c;switch(a){case 1:t<128&&(i=t);break;case 2:n=e[o+1],128==(192&n)&&(c=(31&t)<<6|63&n,c>127&&(i=c));break;case 3:n=e[o+1],r=e[o+2],128==(192&n)&&128==(192&r)&&(c=(15&t)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:n=e[o+1],r=e[o+2],s=e[o+3],128==(192&n)&&128==(192&r)&&128==(192&s)&&(c=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&s,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,a=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=a}return function(e){const t=e.length;if(t<=I)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=I));return n}(r)}c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,n){return u(e,t,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,n){return function(e,t,n){return l(e),e<=0?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},c.allocUnsafe=function(e){return d(e)},c.allocUnsafeSlow=function(e){return d(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(J(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),J(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=c.allocUnsafe(t);let o=0;for(n=0;n<e.length;++n){let t=e[n];if(J(t,Uint8Array))o+t.length>r.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(r,o)):Uint8Array.prototype.set.call(r,t,o);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,o)}o+=t.length}return r},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?k(this,0,e):m.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const n=t.IS;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},i&&(c.prototype[i]=c.prototype.inspect),c.prototype.compare=function(e,t,n,r,o){if(J(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;let i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0);const s=Math.min(i,a),u=this.slice(r,o),l=e.slice(t,n);for(let e=0;e<s;++e)if(u[e]!==l[e]){i=u[e],a=l[e];break}return i<a?-1:a<i?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return A(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":case"latin1":case"binary":return S(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const I=4096;function _(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function C(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function R(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let o="";for(let r=t;r<n;++r)o+=Y[e[r]];return o}function P(e,t,n){const r=e.slice(t,n);let o="";for(let e=0;e<r.length-1;e+=2)o+=String.fromCharCode(r[e]+256*r[e+1]);return o}function O(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,n,r,o,i){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function B(e,t,n,r,o){F(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function z(e,t,n,r,o){F(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n+7]=i,i>>=8,e[n+6]=i,i>>=8,e[n+5]=i,i>>=8,e[n+4]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function M(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(e,t,n,r,i){return t=+t,n>>>=0,i||M(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function U(e,t,n,r,i){return t=+t,n>>>=0,i||M(e,0,n,8),o.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);let r=this[e+--t],o=1;for(;t>0&&(o*=256);)r+=this[e+--t]*o;return r},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=X((function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))})),c.prototype.readBigUInt64BE=X((function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)})),c.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);let r=t,o=1,i=this[e+--r];for(;r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},c.prototype.readInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||O(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){e>>>=0,t||O(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=X((function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=X((function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||O(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||O(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||O(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||O(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){N(this,e,t,n,Math.pow(2,8*n)-1,0)}let o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){N(this,e,t,n,Math.pow(2,8*n)-1,0)}let o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=X((function(e,t=0){return B(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=X((function(e,t=0){return z(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);N(this,e,t,n,r-1,-r)}let o=0,i=1,a=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);N(this,e,t,n,r-1,-r)}let o=n-1,i=1,a=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=X((function(e,t=0){return B(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=X((function(e,t=0){return z(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,n){return j(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return j(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const o=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{const i=c.isBuffer(e)?e:c.from(e,r),a=i.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=i[o%a]}return this};const D={};function L(e,t,n){D[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function $(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function F(e,t,n,r,o,i){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let o;throw o=i>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new D.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,n){q(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||W(t,e.length-(n+1))}(r,o,i)}function q(e,t){if("number"!=typeof e)throw new D.ERR_INVALID_ARG_TYPE(t,"number",e)}function W(e,t,n){if(Math.floor(e)!==e)throw q(e,n),new D.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new D.ERR_BUFFER_OUT_OF_BOUNDS;throw new D.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}L("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),L("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),L("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=$(String(n)):"bigint"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=$(o)),o+="n"),r+=` It must be ${t}. Received ${o}`,r}),RangeError);const V=/[^+/0-9A-Za-z-_]/g;function K(e,t){let n;t=t||1/0;const r=e.length;let o=null;const i=[];for(let a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function G(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,n,r){let o;for(o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function J(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Z(e){return e!=e}const Y=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let o=0;o<16;++o)t[r+o]=e[n]+e[o]}return t}();function X(e){return"undefined"==typeof BigInt?Q:e}function Q(){throw new Error("BigInt not supported")}},1112:(e,t,n)=>{var r=n(4497),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},1129:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},1182:(e,t,n)=>{var r=n(393),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,a,s){var c=1&n,u=r(e),l=u.length;if(l!=r(t).length&&!c)return!1;for(var d=l;d--;){var f=u[d];if(!(c?f in t:o.call(t,f)))return!1}var h=s.get(e),p=s.get(t);if(h&&p)return h==t&&p==e;var g=!0;s.set(e,t),s.set(t,e);for(var m=c;++d<l;){var y=e[f=u[d]],v=t[f];if(i)var w=c?i(v,y,f,t,e,s):i(y,v,f,e,t,s);if(!(void 0===w?y===v||a(y,v,n,i,s):w)){g=!1;break}m||(m="constructor"==f)}if(g&&!m){var A=e.constructor,b=t.constructor;A==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof A&&A instanceof A&&"function"==typeof b&&b instanceof b||(g=!1)}return s.delete(e),s.delete(t),g}},1187:(e,t,n)=>{var r=n(7379),o=n(547);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},1211:(e,t,n)=>{var r=n(358),o=n(195),i=n(6529);e.exports=function(e){return i(e)?r(e):o(e)}},1340:(e,t,n)=>{var r=n(1386),o=n(4103),i=n(1779),a=n(4162),s=n(7462),c=n(6638);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=o,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=s,u.prototype.set=c,e.exports=u},1386:(e,t,n)=>{var r=n(2393),o=n(2049),i=n(7144),a=n(7452),s=n(3964);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},1439:(e,t,n)=>{var r=n(5857),o=n(5234),i=n(796);e.exports=function(e){return i(o(e,void 0,r),e+"")}},1580:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},1623:(e,t,n)=>{var r=n(8942).Uint8Array;e.exports=r},1779:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},1877:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1935:(e,t,n)=>{var r=n(8486),o=n(547);e.exports=function(e){return o(e)&&"[object Set]"==r(e)}},1942:(e,t,n)=>{var r=n(528),o=n(1439),i=n(5196),a=n(961),s=n(3142),c=n(6648);e.exports=function(e){return o((function(t){var n=t.length,o=n,u=r.prototype.thru;for(e&&t.reverse();o--;){var l=t[o];if("function"!=typeof l)throw new TypeError("Expected a function");if(u&&!d&&"wrapper"==a(l))var d=new r([],!0)}for(o=d?o:n;++o<n;){l=t[o];var f=a(l),h="wrapper"==f?i(l):void 0;d=h&&c(h[0])&&424==h[1]&&!h[4].length&&1==h[9]?d[a(h[0])].apply(d,h[3]):1==l.length&&c(l)?d[f]():d.thru(l)}return function(){var e=arguments,r=e[0];if(d&&1==e.length&&s(r))return d.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}}))}},1950:(e,t,n)=>{var r=n(8942)["__core-js_shared__"];e.exports=r},2049:(e,t,n)=>{var r=n(7034),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},2053:e=>{e.exports=function(e){return e}},2264:(e,t,n)=>{var r=n(8898);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},2291:(e,t,n)=>{var r=n(5650),o=n(5111),i=n(3142),a=n(1187),s=r?r.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},2306:(e,t,n)=>{e=n.nmd(e);var r=n(4967),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s},2343:(e,t,n)=>{var r=n(4687),o=n(6123),i=n(7276),a=n(5187),s=n(7267),c=n(3904),u=n(6040);e.exports=function(e,t){return a(e)&&s(t)?c(u(e),t):function(n){var a=o(n,e);return void 0===a&&a===t?i(n,e):r(t,a,3)}}},2393:e=>{e.exports=function(){this.__data__=[],this.size=0}},2443:(e,t,n)=>{var r=n(6912),o=n(4364),i=n(3504),a=n(4216),s=n(6850),c=n(8813),u=n(8942);e.exports=function(e,t,n){var l=o(e);return function o(){for(var d=arguments.length,f=Array(d),h=d,p=s(o);h--;)f[h]=arguments[h];var g=d<3&&f[0]!==p&&f[d-1]!==p?[]:c(f,p);return(d-=g.length)<n?a(e,t,i,o.placeholder,void 0,f,g,void 0,void 0,n-d):r(this&&this!==u&&this instanceof o?l:e,this,f)}}},2478:(e,t,n)=>{var r=n(7250),o=n(9454),i=n(7706);e.exports=function(e,t,n){return t==t?i(e,t,n):r(e,o,n)}},2480:(e,t,n)=>{var r=n(8898);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},2532:(e,t,n)=>{var r=n(4715),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},2590:(e,t,n)=>{var r=n(9334),o=n(3334);e.exports=function(e){return o("function"==typeof e?e:r(e,1))}},2613:(e,t,n)=>{var r=n(5111),o=n(4354),i=n(3142),a=n(1187),s=n(6493),c=n(6040),u=n(5243);e.exports=function(e){return i(e)?r(e,c):a(e)?[e]:o(s(u(e)))}},2619:e=>{e.exports=function(e){return function(){return e}}},2673:(e,t,n)=>{var r=n(3579),o=n(8055);e.exports=function(e,t,n){return r(o,e,t,n)}},2762:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},2784:(e,t,n)=>{var r=n(1580),o=n(4495),i=n(6131),a=Math.max,s=Math.min;e.exports=function(e,t,n){var c,u,l,d,f,h,p=0,g=!1,m=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=c,r=u;return c=u=void 0,p=t,d=e.apply(r,n)}function w(e){var n=e-h;return void 0===h||n>=t||n<0||m&&e-p>=l}function A(){var e=o();if(w(e))return b(e);f=setTimeout(A,function(e){var n=t-(e-h);return m?s(n,l-(e-p)):n}(e))}function b(e){return f=void 0,y&&c?v(e):(c=u=void 0,d)}function S(){var e=o(),n=w(e);if(c=arguments,u=this,h=e,n){if(void 0===f)return function(e){return p=e,f=setTimeout(A,t),g?v(e):d}(h);if(m)return clearTimeout(f),f=setTimeout(A,t),v(h)}return void 0===f&&(f=setTimeout(A,t)),d}return t=i(t)||0,r(n)&&(g=!!n.leading,l=(m="maxWait"in n)?a(i(n.maxWait)||0,t):l,y="trailing"in n?!!n.trailing:y),S.cancel=function(){void 0!==f&&clearTimeout(f),p=0,c=h=u=f=void 0},S.flush=function(){return void 0===f?d:b(o())},S}},2846:(e,t,n)=>{var r=n(9334);e.exports=function(e){return r(e,4)}},2879:(e,t,n)=>{var r=n(1942)();e.exports=r},2945:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},2991:e=>{e.exports={}},3092:(e,t,n)=>{var r=n(2673)("flow",n(2879));r.placeholder=n(2991),e.exports=r},3103:(e,t,n)=>{var r=n(4715)(n(8942),"DataView");e.exports=r},3142:e=>{var t=Array.isArray;e.exports=t},3212:(e,t,n)=>{var r=n(8250),o=n(1877),i=n(8006);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},3282:(e,t,n)=>{var r=n(2762),o=n(8880),i=n(5187),a=n(6040);e.exports=function(e){return i(e)?r(a(e)):o(e)}},3283:(e,t,n)=>{var r=n(6027),o=n(547),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},3301:(e,t,n)=>{var r=n(6131),o=1/0;e.exports=function(e){return e?(e=r(e))===o||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},3305:(e,t,n)=>{var r=n(4497);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},3316:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var o=t(),i=16-(o-r);if(r=o,i>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},3321:(e,t,n)=>{var r=n(7553),o=n(528),i=n(5962),a=n(3142),s=n(547),c=n(3410),u=Object.prototype.hasOwnProperty;function l(e){if(s(e)&&!a(e)&&!(e instanceof r)){if(e instanceof o)return e;if(u.call(e,"__wrapped__"))return c(e)}return new o(e)}l.prototype=i.prototype,l.prototype.constructor=l,e.exports=l},3334:(e,t,n)=>{var r=n(6526),o=n(2343),i=n(2053),a=n(3142),s=n(3282);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?a(e)?o(e[0],e[1]):r(e):s(e)}},3410:(e,t,n)=>{var r=n(7553),o=n(528),i=n(4354);e.exports=function(e){if(e instanceof r)return e.clone();var t=new o(e.__wrapped__,e.__chain__);return t.__actions__=i(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},3422:(e,t,n)=>{var r=n(7073),o=n(6285),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},3476:e=>{e.exports={}},3504:(e,t,n)=>{var r=n(4977),o=n(5755),i=n(3816),a=n(4364),s=n(4216),c=n(6850),u=n(6591),l=n(8813),d=n(8942);e.exports=function e(t,n,f,h,p,g,m,y,v,w){var A=128&n,b=1&n,S=2&n,E=24&n,x=512&n,T=S?void 0:a(t);return function k(){for(var I=arguments.length,_=Array(I),C=I;C--;)_[C]=arguments[C];if(E)var R=c(k),P=i(_,R);if(h&&(_=r(_,h,p,E)),g&&(_=o(_,g,m,E)),I-=P,E&&I<w){var O=l(_,R);return s(t,n,e,k.placeholder,f,_,O,y,v,w-I)}var N=b?f:this,B=S?N[t]:t;return I=_.length,y?_=u(_,y):x&&I>1&&_.reverse(),A&&v<I&&(_.length=v),this&&this!==d&&this instanceof k&&(B=T||a(B)),B.apply(N,_)}}},3526:(e,t,n)=>{var r=n(3142),o=n(5187),i=n(6493),a=n(5243);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},3546:(e,t,n)=>{var r=n(9032),o=n(7979);e.exports=function(e,t){return r(e,o(e),t)}},3565:(e,t)=>{t.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},t.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,n=t.aliasToReal,r={};for(var o in n){var i=n[o];e.call(r,i)?r[i].push(o):r[i]=[o]}return r}(),t.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},3579:(e,t,n)=>{var r=n(3565),o=n(2991),i=Array.prototype.push;function a(e,t){return 2==t?function(t,n){return e(t,n)}:function(t){return e(t)}}function s(e){for(var t=e?e.length:0,n=Array(t);t--;)n[t]=e[t];return n}function c(e,t){return function(){var n=arguments.length;if(n){for(var r=Array(n);n--;)r[n]=arguments[n];var o=r[0]=t.apply(void 0,r);return e.apply(void 0,r),o}}}e.exports=function e(t,n,u,l){var d="function"==typeof n,f=n===Object(n);if(f&&(l=u,u=n,n=void 0),null==u)throw new TypeError;l||(l={});var h={cap:!("cap"in l)||l.cap,curry:!("curry"in l)||l.curry,fixed:!("fixed"in l)||l.fixed,immutable:!("immutable"in l)||l.immutable,rearg:!("rearg"in l)||l.rearg},p=d?u:o,g="curry"in l&&l.curry,m="fixed"in l&&l.fixed,y="rearg"in l&&l.rearg,v=d?u.runInContext():void 0,w=d?u:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},A=w.ary,b=w.assign,S=w.clone,E=w.curry,x=w.forEach,T=w.isArray,k=w.isError,I=w.isFunction,_=w.isWeakMap,C=w.keys,R=w.rearg,P=w.toInteger,O=w.toPath,N=C(r.aryMethod),B={castArray:function(e){return function(){var t=arguments[0];return T(t)?e(s(t)):e.apply(void 0,arguments)}},iteratee:function(e){return function(){var t=arguments[1],n=e(arguments[0],t),r=n.length;return h.cap&&"number"==typeof t?(t=t>2?t-2:1,r&&r<=t?n:a(n,t)):n}},mixin:function(e){return function(t){var n=this;if(!I(n))return e(n,Object(t));var r=[];return x(C(t),(function(e){I(t[e])&&r.push([e,n.prototype[e]])})),e(n,Object(t)),x(r,(function(e){var t=e[1];I(t)?n.prototype[e[0]]=t:delete n.prototype[e[0]]})),n}},nthArg:function(e){return function(t){var n=t<0?1:P(t)+1;return E(e(t),n)}},rearg:function(e){return function(t,n){var r=n?n.length:0;return E(e(t,n),r)}},runInContext:function(n){return function(r){return e(t,n(r),l)}}};function z(e,t){if(h.cap){var n=r.iterateeRearg[e];if(n)return function(e,t){return L(e,(function(e){var n=t.length;return function(e,t){return 2==t?function(t,n){return e.apply(void 0,arguments)}:function(t){return e.apply(void 0,arguments)}}(R(a(e,n),t),n)}))}(t,n);var o=!d&&r.iterateeAry[e];if(o)return function(e,t){return L(e,(function(e){return"function"==typeof e?a(e,t):e}))}(t,o)}return t}function M(e,t,n){if(h.fixed&&(m||!r.skipFixed[e])){var o=r.methodSpread[e],a=o&&o.start;return void 0===a?A(t,n):function(e,t){return function(){for(var n=arguments.length,r=n-1,o=Array(n);n--;)o[n]=arguments[n];var a=o[t],s=o.slice(0,t);return a&&i.apply(s,a),t!=r&&i.apply(s,o.slice(t+1)),e.apply(this,s)}}(t,a)}return t}function j(e,t,n){return h.rearg&&n>1&&(y||!r.skipRearg[e])?R(t,r.methodRearg[e]||r.aryRearg[n]):t}function U(e,t){for(var n=-1,r=(t=O(t)).length,o=r-1,i=S(Object(e)),a=i;null!=a&&++n<r;){var s=t[n],c=a[s];null==c||I(c)||k(c)||_(c)||(a[s]=S(n==o?c:Object(c))),a=a[s]}return i}function D(t,n){var o=r.aliasToReal[t]||t,i=r.remap[o]||o,a=l;return function(t){var r=d?v:w,s=d?v[i]:n,c=b(b({},a),t);return e(r,o,s,c)}}function L(e,t){return function(){var n=arguments.length;if(!n)return e();for(var r=Array(n);n--;)r[n]=arguments[n];var o=h.rearg?0:n-1;return r[o]=t(r[o]),e.apply(void 0,r)}}function $(e,t,n){var o,i=r.aliasToReal[e]||e,a=t,u=B[i];return u?a=u(t):h.immutable&&(r.mutate.array[i]?a=c(t,s):r.mutate.object[i]?a=c(t,function(e){return function(t){return e({},t)}}(t)):r.mutate.set[i]&&(a=c(t,U))),x(N,(function(e){return x(r.aryMethod[e],(function(t){if(i==t){var n=r.methodSpread[i],s=n&&n.afterRearg;return o=s?M(i,j(i,a,e),e):j(i,M(i,a,e),e),o=function(e,t,n){return g||h.curry&&n>1?E(t,n):t}(0,o=z(i,o),e),!1}})),!o})),o||(o=a),o==t&&(o=g?E(o,1):function(){return t.apply(this,arguments)}),o.convert=D(i,t),o.placeholder=t.placeholder=n,o}if(!f)return $(n,u,p);var F=u,q=[];return x(N,(function(e){x(r.aryMethod[e],(function(e){var t=F[r.remap[e]||e];t&&q.push([e,$(e,t,F)])}))})),x(C(F),(function(e){var t=F[e];if("function"==typeof t){for(var n=q.length;n--;)if(q[n][0]==e)return;t.convert=D(e,t),q.push([e,t])}})),x(q,(function(e){F[e[0]]=e[1]})),F.convert=function(e){return F.runInContext.convert(e)(void 0)},F.placeholder=F,x(C(F),(function(e){x(r.realToAlias[e]||[],(function(t){F[t]=F[e]}))})),F}},3636:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},3650:(e,t,n)=>{var r=n(8244),o=n(5832),i=n(5288);e.exports=function(e){return r(e,i,o)}},3655:(e,t,n)=>{var r=n(7379),o=n(1580);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},3766:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},3804:(e,t,n)=>{e.exports=n(3092)},3816:e=>{e.exports=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}},3904:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},3934:(e,t,n)=>{var r=n(3212),o=n(6465),i=n(5568);e.exports=function(e,t,n,a,s,c){var u=1&n,l=e.length,d=t.length;if(l!=d&&!(u&&d>l))return!1;var f=c.get(e),h=c.get(t);if(f&&h)return f==t&&h==e;var p=-1,g=!0,m=2&n?new r:void 0;for(c.set(e,t),c.set(t,e);++p<l;){var y=e[p],v=t[p];if(a)var w=u?a(v,y,p,t,e,c):a(y,v,p,e,t,c);if(void 0!==w){if(w)continue;g=!1;break}if(m){if(!o(t,(function(e,t){if(!i(m,t)&&(y===e||s(y,e,n,a,c)))return m.push(t)}))){g=!1;break}}else if(y!==v&&!s(y,v,n,a,c)){g=!1;break}}return c.delete(e),c.delete(t),g}},3943:(e,t,n)=>{var r=n(1935),o=n(9460),i=n(2306),a=i&&i.isSet,s=a?o(a):r;e.exports=s},3964:(e,t,n)=>{var r=n(7034);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},4066:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},4103:(e,t,n)=>{var r=n(1386);e.exports=function(){this.__data__=new r,this.size=0}},4162:e=>{e.exports=function(e){return this.__data__.get(e)}},4216:(e,t,n)=>{var r=n(6648),o=n(5512),i=n(5620);e.exports=function(e,t,n,a,s,c,u,l,d,f){var h=8&t;t|=h?32:64,4&(t&=~(h?64:32))||(t&=-4);var p=[e,t,s,h?c:void 0,h?u:void 0,h?void 0:c,h?void 0:u,l,d,f],g=n.apply(void 0,p);return r(e)&&o(g,p),g.placeholder=a,i(g,e,t)}},4255:(e,t,n)=>{var r=n(2673)("debounce",n(2784));r.placeholder=n(2991),e.exports=r},4354:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},4364:(e,t,n)=>{var r=n(9747),o=n(1580);e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=r(e.prototype),i=e.apply(n,t);return o(i)?i:n}}},4367:(e,t,n)=>{var r=n(7267),o=n(1211);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,r(a)]}return t}},4495:(e,t,n)=>{var r=n(8942);e.exports=function(){return r.Date.now()}},4497:(e,t,n)=>{var r=n(4715)(Object,"create");e.exports=r},4512:(e,t,n)=>{var r=n(4715)(n(8942),"Set");e.exports=r},4687:(e,t,n)=>{var r=n(353),o=n(547);e.exports=function e(t,n,i,a,s){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,i,a,e,s))}},4700:(e,t,n)=>{var r=n(9067);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},4715:(e,t,n)=>{var r=n(9624),o=n(155);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},4732:(e,t,n)=>{var r=n(4700);e.exports=function(e){return r(this,e).has(e)}},4733:(e,t,n)=>{var r=n(9032),o=n(5832);e.exports=function(e,t){return r(e,o(e),t)}},4759:(e,t,n)=>{var r,o=n(1950),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},4772:e=>{e.exports=function(){return!1}},4784:(e,t,n)=>{var r=n(3766)(Object.getPrototypeOf,Object);e.exports=r},4882:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},4943:(e,t,n)=>{var r=n(2053),o=n(6065),i=o?function(e,t){return o.set(e,t),e}:r;e.exports=i},4967:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},4977:e=>{var t=Math.max;e.exports=function(e,n,r,o){for(var i=-1,a=e.length,s=r.length,c=-1,u=n.length,l=t(a-s,0),d=Array(u+l),f=!o;++c<u;)d[c]=n[c];for(;++i<s;)(f||i<a)&&(d[r[i]]=e[i]);for(;l--;)d[c++]=e[i++];return d}},5071:(e,t,n)=>{var r=n(4497);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},5098:(e,t,n)=>{var r=n(3305),o=n(9361),i=n(1112),a=n(5276),s=n(5071);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},5111:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},5187:(e,t,n)=>{var r=n(3142),o=n(1187),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(a.test(e)||!i.test(e)||null!=t&&e in Object(t))}},5196:(e,t,n)=>{var r=n(6065),o=n(9071),i=r?function(e){return r.get(e)}:o;e.exports=i},5234:(e,t,n)=>{var r=n(6912),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=o(i.length-t,0),c=Array(s);++a<s;)c[a]=i[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=i[a];return u[t]=n(c),r(e,this,u)}}},5243:(e,t,n)=>{var r=n(2291);e.exports=function(e){return null==e?"":r(e)}},5250:function(e,t,n){var r;e=n.nmd(e),function(){var o,i="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",c=16,u=32,l=64,d=128,f=256,h=1/0,p=9007199254740991,g=NaN,m=4294967295,y=[["ary",d],["bind",1],["bindKey",2],["curry",8],["curryRight",c],["flip",512],["partial",u],["partialRight",l],["rearg",f]],v="[object Arguments]",w="[object Array]",A="[object Boolean]",b="[object Date]",S="[object Error]",E="[object Function]",x="[object GeneratorFunction]",T="[object Map]",k="[object Number]",I="[object Object]",_="[object Promise]",C="[object RegExp]",R="[object Set]",P="[object String]",O="[object Symbol]",N="[object WeakMap]",B="[object ArrayBuffer]",z="[object DataView]",M="[object Float32Array]",j="[object Float64Array]",U="[object Int8Array]",D="[object Int16Array]",L="[object Int32Array]",$="[object Uint8Array]",F="[object Uint8ClampedArray]",q="[object Uint16Array]",W="[object Uint32Array]",V=/\b__p \+= '';/g,K=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,H=/&(?:amp|lt|gt|quot|#39);/g,J=/[&<>"']/g,Z=RegExp(H.source),Y=RegExp(J.source),X=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oe=/[\\^$.*+?()[\]{}|]/g,ie=RegExp(oe.source),ae=/^\s+/,se=/\s/,ce=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ue=/\{\n\/\* \[wrapped with (.+)\] \*/,le=/,? & /,de=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,fe=/[()=,{}\[\]\/\s]/,he=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ge=/\w*$/,me=/^[-+]0x[0-9a-f]+$/i,ye=/^0b[01]+$/i,ve=/^\[object .+?Constructor\]$/,we=/^0o[0-7]+$/i,Ae=/^(?:0|[1-9]\d*)$/,be=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Se=/($^)/,Ee=/['\n\r\u2028\u2029\\]/g,xe="\\ud800-\\udfff",Te="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ke="\\u2700-\\u27bf",Ie="a-z\\xdf-\\xf6\\xf8-\\xff",_e="A-Z\\xc0-\\xd6\\xd8-\\xde",Ce="\\ufe0e\\ufe0f",Re="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pe="['’]",Oe="["+xe+"]",Ne="["+Re+"]",Be="["+Te+"]",ze="\\d+",Me="["+ke+"]",je="["+Ie+"]",Ue="[^"+xe+Re+ze+ke+Ie+_e+"]",De="\\ud83c[\\udffb-\\udfff]",Le="[^"+xe+"]",$e="(?:\\ud83c[\\udde6-\\uddff]){2}",Fe="[\\ud800-\\udbff][\\udc00-\\udfff]",qe="["+_e+"]",We="\\u200d",Ve="(?:"+je+"|"+Ue+")",Ke="(?:"+qe+"|"+Ue+")",Ge="(?:['’](?:d|ll|m|re|s|t|ve))?",He="(?:['’](?:D|LL|M|RE|S|T|VE))?",Je="(?:"+Be+"|"+De+")"+"?",Ze="["+Ce+"]?",Ye=Ze+Je+("(?:"+We+"(?:"+[Le,$e,Fe].join("|")+")"+Ze+Je+")*"),Xe="(?:"+[Me,$e,Fe].join("|")+")"+Ye,Qe="(?:"+[Le+Be+"?",Be,$e,Fe,Oe].join("|")+")",et=RegExp(Pe,"g"),tt=RegExp(Be,"g"),nt=RegExp(De+"(?="+De+")|"+Qe+Ye,"g"),rt=RegExp([qe+"?"+je+"+"+Ge+"(?="+[Ne,qe,"$"].join("|")+")",Ke+"+"+He+"(?="+[Ne,qe+Ve,"$"].join("|")+")",qe+"?"+Ve+"+"+Ge,qe+"+"+He,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ze,Xe].join("|"),"g"),ot=RegExp("["+We+xe+Te+Ce+"]"),it=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,at=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],st=-1,ct={};ct[M]=ct[j]=ct[U]=ct[D]=ct[L]=ct[$]=ct[F]=ct[q]=ct[W]=!0,ct[v]=ct[w]=ct[B]=ct[A]=ct[z]=ct[b]=ct[S]=ct[E]=ct[T]=ct[k]=ct[I]=ct[C]=ct[R]=ct[P]=ct[N]=!1;var ut={};ut[v]=ut[w]=ut[B]=ut[z]=ut[A]=ut[b]=ut[M]=ut[j]=ut[U]=ut[D]=ut[L]=ut[T]=ut[k]=ut[I]=ut[C]=ut[R]=ut[P]=ut[O]=ut[$]=ut[F]=ut[q]=ut[W]=!0,ut[S]=ut[E]=ut[N]=!1;var lt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},dt=parseFloat,ft=parseInt,ht="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,pt="object"==typeof self&&self&&self.Object===Object&&self,gt=ht||pt||Function("return this")(),mt=t&&!t.nodeType&&t,yt=mt&&e&&!e.nodeType&&e,vt=yt&&yt.exports===mt,wt=vt&&ht.process,At=function(){try{var e=yt&&yt.require&&yt.require("util").types;return e||wt&&wt.binding&&wt.binding("util")}catch(e){}}(),bt=At&&At.isArrayBuffer,St=At&&At.isDate,Et=At&&At.isMap,xt=At&&At.isRegExp,Tt=At&&At.isSet,kt=At&&At.isTypedArray;function It(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function _t(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function Ct(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Rt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Pt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Ot(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function Nt(e,t){return!!(null==e?0:e.length)&&qt(e,t,0)>-1}function Bt(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function zt(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function Mt(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function jt(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function Ut(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function Dt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Lt=Gt("length");function $t(e,t,n){var r;return n(e,(function(e,n,o){if(t(e,n,o))return r=n,!1})),r}function Ft(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function qt(e,t,n){return t==t?function(e,t,n){var r=n-1,o=e.length;for(;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):Ft(e,Vt,n)}function Wt(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function Vt(e){return e!=e}function Kt(e,t){var n=null==e?0:e.length;return n?Zt(e,t)/n:g}function Gt(e){return function(t){return null==t?o:t[e]}}function Ht(e){return function(t){return null==e?o:e[t]}}function Jt(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}function Zt(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);a!==o&&(n=n===o?a:n+a)}return n}function Yt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Xt(e){return e?e.slice(0,mn(e)+1).replace(ae,""):e}function Qt(e){return function(t){return e(t)}}function en(e,t){return zt(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,r=e.length;++n<r&&qt(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&qt(t,e[n],0)>-1;);return n}var on=Ht({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),an=Ht({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function sn(e){return"\\"+lt[e]}function cn(e){return ot.test(e)}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function ln(e,t){return function(n){return e(t(n))}}function dn(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];a!==t&&a!==s||(e[n]=s,i[o++]=n)}return i}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return cn(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):Lt(e)}function gn(e){return cn(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function mn(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var yn=Ht({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var vn=function e(t){var n,r=(t=null==t?gt:vn.defaults(gt.Object(),t,vn.pick(gt,at))).Array,se=t.Date,xe=t.Error,Te=t.Function,ke=t.Math,Ie=t.Object,_e=t.RegExp,Ce=t.String,Re=t.TypeError,Pe=r.prototype,Oe=Te.prototype,Ne=Ie.prototype,Be=t["__core-js_shared__"],ze=Oe.toString,Me=Ne.hasOwnProperty,je=0,Ue=(n=/[^.]+$/.exec(Be&&Be.keys&&Be.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",De=Ne.toString,Le=ze.call(Ie),$e=gt._,Fe=_e("^"+ze.call(Me).replace(oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qe=vt?t.Buffer:o,We=t.Symbol,Ve=t.Uint8Array,Ke=qe?qe.allocUnsafe:o,Ge=ln(Ie.getPrototypeOf,Ie),He=Ie.create,Je=Ne.propertyIsEnumerable,Ze=Pe.splice,Ye=We?We.isConcatSpreadable:o,Xe=We?We.iterator:o,Qe=We?We.toStringTag:o,nt=function(){try{var e=hi(Ie,"defineProperty");return e({},"",{}),e}catch(e){}}(),ot=t.clearTimeout!==gt.clearTimeout&&t.clearTimeout,lt=se&&se.now!==gt.Date.now&&se.now,ht=t.setTimeout!==gt.setTimeout&&t.setTimeout,pt=ke.ceil,mt=ke.floor,yt=Ie.getOwnPropertySymbols,wt=qe?qe.isBuffer:o,At=t.isFinite,Lt=Pe.join,Ht=ln(Ie.keys,Ie),wn=ke.max,An=ke.min,bn=se.now,Sn=t.parseInt,En=ke.random,xn=Pe.reverse,Tn=hi(t,"DataView"),kn=hi(t,"Map"),In=hi(t,"Promise"),_n=hi(t,"Set"),Cn=hi(t,"WeakMap"),Rn=hi(Ie,"create"),Pn=Cn&&new Cn,On={},Nn=Di(Tn),Bn=Di(kn),zn=Di(In),Mn=Di(_n),jn=Di(Cn),Un=We?We.prototype:o,Dn=Un?Un.valueOf:o,Ln=Un?Un.toString:o;function $n(e){if(ns(e)&&!Va(e)&&!(e instanceof Vn)){if(e instanceof Wn)return e;if(Me.call(e,"__wrapped__"))return Li(e)}return new Wn(e)}var Fn=function(){function e(){}return function(t){if(!ts(t))return{};if(He)return He(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function qn(){}function Wn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function Vn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Jn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Hn;++t<n;)this.add(e[t])}function Zn(e){var t=this.__data__=new Gn(e);this.size=t.size}function Yn(e,t){var n=Va(e),r=!n&&Wa(e),o=!n&&!r&&Ja(e),i=!n&&!r&&!o&&ls(e),a=n||r||o||i,s=a?Yt(e.length,Ce):[],c=s.length;for(var u in e)!t&&!Me.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Ai(u,c))||s.push(u);return s}function Xn(e){var t=e.length;return t?e[Jr(0,t-1)]:o}function Qn(e,t){return Mi(Po(e),cr(t,0,e.length))}function er(e){return Mi(Po(e))}function tr(e,t,n){(n!==o&&!$a(e[t],n)||n===o&&!(t in e))&&ar(e,t,n)}function nr(e,t,n){var r=e[t];Me.call(e,t)&&$a(r,n)&&(n!==o||t in e)||ar(e,t,n)}function rr(e,t){for(var n=e.length;n--;)if($a(e[n][0],t))return n;return-1}function or(e,t,n,r){return hr(e,(function(e,o,i){t(r,e,n(e),i)})),r}function ir(e,t){return e&&Oo(t,Os(t),e)}function ar(e,t,n){"__proto__"==t&&nt?nt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function sr(e,t){for(var n=-1,i=t.length,a=r(i),s=null==e;++n<i;)a[n]=s?o:Is(e,t[n]);return a}function cr(e,t,n){return e==e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function ur(e,t,n,r,i,a){var s,c=1&t,u=2&t,l=4&t;if(n&&(s=i?n(e,r,i,a):n(e)),s!==o)return s;if(!ts(e))return e;var d=Va(e);if(d){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Me.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!c)return Po(e,s)}else{var f=mi(e),h=f==E||f==x;if(Ja(e))return To(e,c);if(f==I||f==v||h&&!i){if(s=u||h?{}:vi(e),!c)return u?function(e,t){return Oo(e,gi(e),t)}(e,function(e,t){return e&&Oo(t,Ns(t),e)}(s,e)):function(e,t){return Oo(e,pi(e),t)}(e,ir(s,e))}else{if(!ut[f])return i?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case B:return ko(e);case A:case b:return new r(+e);case z:return function(e,t){var n=t?ko(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case M:case j:case U:case D:case L:case $:case F:case q:case W:return Io(e,n);case T:return new r;case k:case P:return new r(e);case C:return function(e){var t=new e.constructor(e.source,ge.exec(e));return t.lastIndex=e.lastIndex,t}(e);case R:return new r;case O:return o=e,Dn?Ie(Dn.call(o)):{}}var o}(e,f,c)}}a||(a=new Zn);var p=a.get(e);if(p)return p;a.set(e,s),ss(e)?e.forEach((function(r){s.add(ur(r,t,n,r,e,a))})):rs(e)&&e.forEach((function(r,o){s.set(o,ur(r,t,n,o,e,a))}));var g=d?o:(l?u?ai:ii:u?Ns:Os)(e);return Ct(g||e,(function(r,o){g&&(r=e[o=r]),nr(s,o,ur(r,t,n,o,e,a))})),s}function lr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ie(e);r--;){var i=n[r],a=t[i],s=e[i];if(s===o&&!(i in e)||!a(s))return!1}return!0}function dr(e,t,n){if("function"!=typeof e)throw new Re(i);return Oi((function(){e.apply(o,n)}),t)}function fr(e,t,n,r){var o=-1,i=Nt,a=!0,s=e.length,c=[],u=t.length;if(!s)return c;n&&(t=zt(t,Qt(n))),r?(i=Bt,a=!1):t.length>=200&&(i=tn,a=!1,t=new Jn(t));e:for(;++o<s;){var l=e[o],d=null==n?l:n(l);if(l=r||0!==l?l:0,a&&d==d){for(var f=u;f--;)if(t[f]===d)continue e;c.push(l)}else i(t,d,r)||c.push(l)}return c}$n.templateSettings={escape:X,evaluate:Q,interpolate:ee,variable:"",imports:{_:$n}},$n.prototype=qn.prototype,$n.prototype.constructor=$n,Wn.prototype=Fn(qn.prototype),Wn.prototype.constructor=Wn,Vn.prototype=Fn(qn.prototype),Vn.prototype.constructor=Vn,Kn.prototype.clear=function(){this.__data__=Rn?Rn(null):{},this.size=0},Kn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Kn.prototype.get=function(e){var t=this.__data__;if(Rn){var n=t[e];return n===a?o:n}return Me.call(t,e)?t[e]:o},Kn.prototype.has=function(e){var t=this.__data__;return Rn?t[e]!==o:Me.call(t,e)},Kn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Rn&&t===o?a:t,this},Gn.prototype.clear=function(){this.__data__=[],this.size=0},Gn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ze.call(t,n,1),--this.size,!0)},Gn.prototype.get=function(e){var t=this.__data__,n=rr(t,e);return n<0?o:t[n][1]},Gn.prototype.has=function(e){return rr(this.__data__,e)>-1},Gn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Hn.prototype.clear=function(){this.size=0,this.__data__={hash:new Kn,map:new(kn||Gn),string:new Kn}},Hn.prototype.delete=function(e){var t=di(this,e).delete(e);return this.size-=t?1:0,t},Hn.prototype.get=function(e){return di(this,e).get(e)},Hn.prototype.has=function(e){return di(this,e).has(e)},Hn.prototype.set=function(e,t){var n=di(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Jn.prototype.add=Jn.prototype.push=function(e){return this.__data__.set(e,a),this},Jn.prototype.has=function(e){return this.__data__.has(e)},Zn.prototype.clear=function(){this.__data__=new Gn,this.size=0},Zn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Zn.prototype.get=function(e){return this.__data__.get(e)},Zn.prototype.has=function(e){return this.__data__.has(e)},Zn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Gn){var r=n.__data__;if(!kn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Hn(r)}return n.set(e,t),this.size=n.size,this};var hr=zo(br),pr=zo(Sr,!0);function gr(e,t){var n=!0;return hr(e,(function(e,r,o){return n=!!t(e,r,o)})),n}function mr(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],s=t(a);if(null!=s&&(c===o?s==s&&!us(s):n(s,c)))var c=s,u=a}return u}function yr(e,t){var n=[];return hr(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}function vr(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=wi),o||(o=[]);++i<a;){var s=e[i];t>0&&n(s)?t>1?vr(s,t-1,n,r,o):Mt(o,s):r||(o[o.length]=s)}return o}var wr=Mo(),Ar=Mo(!0);function br(e,t){return e&&wr(e,t,Os)}function Sr(e,t){return e&&Ar(e,t,Os)}function Er(e,t){return Ot(t,(function(t){return Xa(e[t])}))}function xr(e,t){for(var n=0,r=(t=bo(t,e)).length;null!=e&&n<r;)e=e[Ui(t[n++])];return n&&n==r?e:o}function Tr(e,t,n){var r=t(e);return Va(e)?r:Mt(r,n(e))}function kr(e){return null==e?e===o?"[object Undefined]":"[object Null]":Qe&&Qe in Ie(e)?function(e){var t=Me.call(e,Qe),n=e[Qe];try{e[Qe]=o;var r=!0}catch(e){}var i=De.call(e);r&&(t?e[Qe]=n:delete e[Qe]);return i}(e):function(e){return De.call(e)}(e)}function Ir(e,t){return e>t}function _r(e,t){return null!=e&&Me.call(e,t)}function Cr(e,t){return null!=e&&t in Ie(e)}function Rr(e,t,n){for(var i=n?Bt:Nt,a=e[0].length,s=e.length,c=s,u=r(s),l=1/0,d=[];c--;){var f=e[c];c&&t&&(f=zt(f,Qt(t))),l=An(f.length,l),u[c]=!n&&(t||a>=120&&f.length>=120)?new Jn(c&&f):o}f=e[0];var h=-1,p=u[0];e:for(;++h<a&&d.length<l;){var g=f[h],m=t?t(g):g;if(g=n||0!==g?g:0,!(p?tn(p,m):i(d,m,n))){for(c=s;--c;){var y=u[c];if(!(y?tn(y,m):i(e[c],m,n)))continue e}p&&p.push(m),d.push(g)}}return d}function Pr(e,t,n){var r=null==(e=Ci(e,t=bo(t,e)))?e:e[Ui(Yi(t))];return null==r?o:It(r,e,n)}function Or(e){return ns(e)&&kr(e)==v}function Nr(e,t,n,r,i){return e===t||(null==e||null==t||!ns(e)&&!ns(t)?e!=e&&t!=t:function(e,t,n,r,i,a){var s=Va(e),c=Va(t),u=s?w:mi(e),l=c?w:mi(t),d=(u=u==v?I:u)==I,f=(l=l==v?I:l)==I,h=u==l;if(h&&Ja(e)){if(!Ja(t))return!1;s=!0,d=!1}if(h&&!d)return a||(a=new Zn),s||ls(e)?ri(e,t,n,r,i,a):function(e,t,n,r,o,i,a){switch(n){case z:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case B:return!(e.byteLength!=t.byteLength||!i(new Ve(e),new Ve(t)));case A:case b:case k:return $a(+e,+t);case S:return e.name==t.name&&e.message==t.message;case C:case P:return e==t+"";case T:var s=un;case R:var c=1&r;if(s||(s=fn),e.size!=t.size&&!c)return!1;var u=a.get(e);if(u)return u==t;r|=2,a.set(e,t);var l=ri(s(e),s(t),r,o,i,a);return a.delete(e),l;case O:if(Dn)return Dn.call(e)==Dn.call(t)}return!1}(e,t,u,n,r,i,a);if(!(1&n)){var p=d&&Me.call(e,"__wrapped__"),g=f&&Me.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,y=g?t.value():t;return a||(a=new Zn),i(m,y,n,r,a)}}if(!h)return!1;return a||(a=new Zn),function(e,t,n,r,i,a){var s=1&n,c=ii(e),u=c.length,l=ii(t),d=l.length;if(u!=d&&!s)return!1;var f=u;for(;f--;){var h=c[f];if(!(s?h in t:Me.call(t,h)))return!1}var p=a.get(e),g=a.get(t);if(p&&g)return p==t&&g==e;var m=!0;a.set(e,t),a.set(t,e);var y=s;for(;++f<u;){var v=e[h=c[f]],w=t[h];if(r)var A=s?r(w,v,h,t,e,a):r(v,w,h,e,t,a);if(!(A===o?v===w||i(v,w,n,r,a):A)){m=!1;break}y||(y="constructor"==h)}if(m&&!y){var b=e.constructor,S=t.constructor;b==S||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof S&&S instanceof S||(m=!1)}return a.delete(e),a.delete(t),m}(e,t,n,r,i,a)}(e,t,n,r,Nr,i))}function Br(e,t,n,r){var i=n.length,a=i,s=!r;if(null==e)return!a;for(e=Ie(e);i--;){var c=n[i];if(s&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<a;){var u=(c=n[i])[0],l=e[u],d=c[1];if(s&&c[2]){if(l===o&&!(u in e))return!1}else{var f=new Zn;if(r)var h=r(l,d,u,e,t,f);if(!(h===o?Nr(d,l,3,r,f):h))return!1}}return!0}function zr(e){return!(!ts(e)||(t=e,Ue&&Ue in t))&&(Xa(e)?Fe:ve).test(Di(e));var t}function Mr(e){return"function"==typeof e?e:null==e?oc:"object"==typeof e?Va(e)?Fr(e[0],e[1]):$r(e):hc(e)}function jr(e){if(!Ti(e))return Ht(e);var t=[];for(var n in Ie(e))Me.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Ur(e){if(!ts(e))return function(e){var t=[];if(null!=e)for(var n in Ie(e))t.push(n);return t}(e);var t=Ti(e),n=[];for(var r in e)("constructor"!=r||!t&&Me.call(e,r))&&n.push(r);return n}function Dr(e,t){return e<t}function Lr(e,t){var n=-1,o=Ga(e)?r(e.length):[];return hr(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}function $r(e){var t=fi(e);return 1==t.length&&t[0][2]?Ii(t[0][0],t[0][1]):function(n){return n===e||Br(n,e,t)}}function Fr(e,t){return Si(e)&&ki(t)?Ii(Ui(e),t):function(n){var r=Is(n,e);return r===o&&r===t?_s(n,e):Nr(t,r,3)}}function qr(e,t,n,r,i){e!==t&&wr(t,(function(a,s){if(i||(i=new Zn),ts(a))!function(e,t,n,r,i,a,s){var c=Ri(e,n),u=Ri(t,n),l=s.get(u);if(l)return void tr(e,n,l);var d=a?a(c,u,n+"",e,t,s):o,f=d===o;if(f){var h=Va(u),p=!h&&Ja(u),g=!h&&!p&&ls(u);d=u,h||p||g?Va(c)?d=c:Ha(c)?d=Po(c):p?(f=!1,d=To(u,!0)):g?(f=!1,d=Io(u,!0)):d=[]:is(u)||Wa(u)?(d=c,Wa(c)?d=vs(c):ts(c)&&!Xa(c)||(d=vi(u))):f=!1}f&&(s.set(u,d),i(d,u,r,a,s),s.delete(u));tr(e,n,d)}(e,t,s,n,qr,r,i);else{var c=r?r(Ri(e,s),a,s+"",e,t,i):o;c===o&&(c=a),tr(e,s,c)}}),Ns)}function Wr(e,t){var n=e.length;if(n)return Ai(t+=t<0?n:0,n)?e[t]:o}function Vr(e,t,n){t=t.length?zt(t,(function(e){return Va(e)?function(t){return xr(t,1===e.length?e[0]:e)}:e})):[oc];var r=-1;t=zt(t,Qt(li()));var o=Lr(e,(function(e,n,o){var i=zt(t,(function(t){return t(e)}));return{criteria:i,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(o,(function(e,t){return function(e,t,n){var r=-1,o=e.criteria,i=t.criteria,a=o.length,s=n.length;for(;++r<a;){var c=_o(o[r],i[r]);if(c)return r>=s?c:c*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Kr(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],s=xr(e,a);n(s,a)&&eo(i,bo(a,e),s)}return i}function Gr(e,t,n,r){var o=r?Wt:qt,i=-1,a=t.length,s=e;for(e===t&&(t=Po(t)),n&&(s=zt(e,Qt(n)));++i<a;)for(var c=0,u=t[i],l=n?n(u):u;(c=o(s,l,c,r))>-1;)s!==e&&Ze.call(s,c,1),Ze.call(e,c,1);return e}function Hr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;Ai(o)?Ze.call(e,o,1):ho(e,o)}}return e}function Jr(e,t){return e+mt(En()*(t-e+1))}function Zr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=mt(t/2))&&(e+=e)}while(t);return n}function Yr(e,t){return Ni(_i(e,t,oc),e+"")}function Xr(e){return Xn($s(e))}function Qr(e,t){var n=$s(e);return Mi(n,cr(t,0,n.length))}function eo(e,t,n,r){if(!ts(e))return e;for(var i=-1,a=(t=bo(t,e)).length,s=a-1,c=e;null!=c&&++i<a;){var u=Ui(t[i]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(i!=s){var d=c[u];(l=r?r(d,u,c):o)===o&&(l=ts(d)?d:Ai(t[i+1])?[]:{})}nr(c,u,l),c=c[u]}return e}var to=Pn?function(e,t){return Pn.set(e,t),e}:oc,no=nt?function(e,t){return nt(e,"toString",{configurable:!0,enumerable:!1,value:tc(t),writable:!0})}:oc;function ro(e){return Mi($s(e))}function oo(e,t,n){var o=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=r(i);++o<i;)a[o]=e[o+t];return a}function io(e,t){var n;return hr(e,(function(e,r,o){return!(n=t(e,r,o))})),!!n}function ao(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,a=e[i];null!==a&&!us(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return so(e,t,oc,n)}function so(e,t,n,r){var i=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=n(t))!=t,c=null===t,u=us(t),l=t===o;i<a;){var d=mt((i+a)/2),f=n(e[d]),h=f!==o,p=null===f,g=f==f,m=us(f);if(s)var y=r||g;else y=l?g&&(r||h):c?g&&h&&(r||!p):u?g&&h&&!p&&(r||!m):!p&&!m&&(r?f<=t:f<t);y?i=d+1:a=d}return An(a,4294967294)}function co(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!$a(s,c)){var c=s;i[o++]=0===a?0:a}}return i}function uo(e){return"number"==typeof e?e:us(e)?g:+e}function lo(e){if("string"==typeof e)return e;if(Va(e))return zt(e,lo)+"";if(us(e))return Ln?Ln.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function fo(e,t,n){var r=-1,o=Nt,i=e.length,a=!0,s=[],c=s;if(n)a=!1,o=Bt;else if(i>=200){var u=t?null:Yo(e);if(u)return fn(u);a=!1,o=tn,c=new Jn}else c=t?[]:s;e:for(;++r<i;){var l=e[r],d=t?t(l):l;if(l=n||0!==l?l:0,a&&d==d){for(var f=c.length;f--;)if(c[f]===d)continue e;t&&c.push(d),s.push(l)}else o(c,d,n)||(c!==s&&c.push(d),s.push(l))}return s}function ho(e,t){return null==(e=Ci(e,t=bo(t,e)))||delete e[Ui(Yi(t))]}function po(e,t,n,r){return eo(e,t,n(xr(e,t)),r)}function go(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?oo(e,r?0:i,r?i+1:o):oo(e,r?i+1:0,r?o:i)}function mo(e,t){var n=e;return n instanceof Vn&&(n=n.value()),jt(t,(function(e,t){return t.func.apply(t.thisArg,Mt([e],t.args))}),n)}function yo(e,t,n){var o=e.length;if(o<2)return o?fo(e[0]):[];for(var i=-1,a=r(o);++i<o;)for(var s=e[i],c=-1;++c<o;)c!=i&&(a[i]=fr(a[i]||s,e[c],t,n));return fo(vr(a,1),t,n)}function vo(e,t,n){for(var r=-1,i=e.length,a=t.length,s={};++r<i;){var c=r<a?t[r]:o;n(s,e[r],c)}return s}function wo(e){return Ha(e)?e:[]}function Ao(e){return"function"==typeof e?e:oc}function bo(e,t){return Va(e)?e:Si(e,t)?[e]:ji(ws(e))}var So=Yr;function Eo(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:oo(e,t,n)}var xo=ot||function(e){return gt.clearTimeout(e)};function To(e,t){if(t)return e.slice();var n=e.length,r=Ke?Ke(n):new e.constructor(n);return e.copy(r),r}function ko(e){var t=new e.constructor(e.byteLength);return new Ve(t).set(new Ve(e)),t}function Io(e,t){var n=t?ko(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function _o(e,t){if(e!==t){var n=e!==o,r=null===e,i=e==e,a=us(e),s=t!==o,c=null===t,u=t==t,l=us(t);if(!c&&!l&&!a&&e>t||a&&s&&u&&!c&&!l||r&&s&&u||!n&&u||!i)return 1;if(!r&&!a&&!l&&e<t||l&&n&&i&&!r&&!a||c&&n&&i||!s&&i||!u)return-1}return 0}function Co(e,t,n,o){for(var i=-1,a=e.length,s=n.length,c=-1,u=t.length,l=wn(a-s,0),d=r(u+l),f=!o;++c<u;)d[c]=t[c];for(;++i<s;)(f||i<a)&&(d[n[i]]=e[i]);for(;l--;)d[c++]=e[i++];return d}function Ro(e,t,n,o){for(var i=-1,a=e.length,s=-1,c=n.length,u=-1,l=t.length,d=wn(a-c,0),f=r(d+l),h=!o;++i<d;)f[i]=e[i];for(var p=i;++u<l;)f[p+u]=t[u];for(;++s<c;)(h||i<a)&&(f[p+n[s]]=e[i++]);return f}function Po(e,t){var n=-1,o=e.length;for(t||(t=r(o));++n<o;)t[n]=e[n];return t}function Oo(e,t,n,r){var i=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var c=t[a],u=r?r(n[c],e[c],c,n,e):o;u===o&&(u=e[c]),i?ar(n,c,u):nr(n,c,u)}return n}function No(e,t){return function(n,r){var o=Va(n)?_t:or,i=t?t():{};return o(n,e,li(r,2),i)}}function Bo(e){return Yr((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,s=i>2?n[2]:o;for(a=e.length>3&&"function"==typeof a?(i--,a):o,s&&bi(n[0],n[1],s)&&(a=i<3?o:a,i=1),t=Ie(t);++r<i;){var c=n[r];c&&e(t,c,r,a)}return t}))}function zo(e,t){return function(n,r){if(null==n)return n;if(!Ga(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Ie(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function Mo(e){return function(t,n,r){for(var o=-1,i=Ie(t),a=r(t),s=a.length;s--;){var c=a[e?s:++o];if(!1===n(i[c],c,i))break}return t}}function jo(e){return function(t){var n=cn(t=ws(t))?gn(t):o,r=n?n[0]:t.charAt(0),i=n?Eo(n,1).join(""):t.slice(1);return r[e]()+i}}function Uo(e){return function(t){return jt(Xs(Ws(t).replace(et,"")),e,"")}}function Do(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Fn(e.prototype),r=e.apply(n,t);return ts(r)?r:n}}function Lo(e){return function(t,n,r){var i=Ie(t);if(!Ga(t)){var a=li(n,3);t=Os(t),n=function(e){return a(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[a?t[s]:s]:o}}function $o(e){return oi((function(t){var n=t.length,r=n,a=Wn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new Re(i);if(a&&!c&&"wrapper"==ci(s))var c=new Wn([],!0)}for(r=c?r:n;++r<n;){var u=ci(s=t[r]),l="wrapper"==u?si(s):o;c=l&&Ei(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?c[ci(l[0])].apply(c,l[3]):1==s.length&&Ei(s)?c[u]():c.thru(s)}return function(){var e=arguments,r=e[0];if(c&&1==e.length&&Va(r))return c.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}}))}function Fo(e,t,n,i,a,s,c,u,l,f){var h=t&d,p=1&t,g=2&t,m=24&t,y=512&t,v=g?o:Do(e);return function d(){for(var w=arguments.length,A=r(w),b=w;b--;)A[b]=arguments[b];if(m)var S=ui(d),E=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(A,S);if(i&&(A=Co(A,i,a,m)),s&&(A=Ro(A,s,c,m)),w-=E,m&&w<f){var x=dn(A,S);return Jo(e,t,Fo,d.placeholder,n,A,x,u,l,f-w)}var T=p?n:this,k=g?T[e]:e;return w=A.length,u?A=function(e,t){var n=e.length,r=An(t.length,n),i=Po(e);for(;r--;){var a=t[r];e[r]=Ai(a,n)?i[a]:o}return e}(A,u):y&&w>1&&A.reverse(),h&&l<w&&(A.length=l),this&&this!==gt&&this instanceof d&&(k=v||Do(k)),k.apply(T,A)}}function qo(e,t){return function(n,r){return function(e,t,n,r){return br(e,(function(e,o,i){t(r,n(e),o,i)})),r}(n,e,t(r),{})}}function Wo(e,t){return function(n,r){var i;if(n===o&&r===o)return t;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=lo(n),r=lo(r)):(n=uo(n),r=uo(r)),i=e(n,r)}return i}}function Vo(e){return oi((function(t){return t=zt(t,Qt(li())),Yr((function(n){var r=this;return e(t,(function(e){return It(e,r,n)}))}))}))}function Ko(e,t){var n=(t=t===o?" ":lo(t)).length;if(n<2)return n?Zr(t,e):t;var r=Zr(t,pt(e/pn(t)));return cn(t)?Eo(gn(r),0,e).join(""):r.slice(0,e)}function Go(e){return function(t,n,i){return i&&"number"!=typeof i&&bi(t,n,i)&&(n=i=o),t=ps(t),n===o?(n=t,t=0):n=ps(n),function(e,t,n,o){for(var i=-1,a=wn(pt((t-e)/(n||1)),0),s=r(a);a--;)s[o?a:++i]=e,e+=n;return s}(t,n,i=i===o?t<n?1:-1:ps(i),e)}}function Ho(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ys(t),n=ys(n)),e(t,n)}}function Jo(e,t,n,r,i,a,s,c,d,f){var h=8&t;t|=h?u:l,4&(t&=~(h?l:u))||(t&=-4);var p=[e,t,i,h?a:o,h?s:o,h?o:a,h?o:s,c,d,f],g=n.apply(o,p);return Ei(e)&&Pi(g,p),g.placeholder=r,Bi(g,e,t)}function Zo(e){var t=ke[e];return function(e,n){if(e=ys(e),(n=null==n?0:An(gs(n),292))&&At(e)){var r=(ws(e)+"e").split("e");return+((r=(ws(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Yo=_n&&1/fn(new _n([,-0]))[1]==h?function(e){return new _n(e)}:uc;function Xo(e){return function(t){var n=mi(t);return n==T?un(t):n==R?hn(t):function(e,t){return zt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Qo(e,t,n,a,h,p,g,m){var y=2&t;if(!y&&"function"!=typeof e)throw new Re(i);var v=a?a.length:0;if(v||(t&=-97,a=h=o),g=g===o?g:wn(gs(g),0),m=m===o?m:gs(m),v-=h?h.length:0,t&l){var w=a,A=h;a=h=o}var b=y?o:si(e),S=[e,t,n,a,h,w,A,p,g,m];if(b&&function(e,t){var n=e[1],r=t[1],o=n|r,i=o<131,a=r==d&&8==n||r==d&&n==f&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!i&&!a)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var c=t[3];if(c){var u=e[3];e[3]=u?Co(u,c,t[4]):c,e[4]=u?dn(e[3],s):t[4]}(c=t[5])&&(u=e[5],e[5]=u?Ro(u,c,t[6]):c,e[6]=u?dn(e[5],s):t[6]);(c=t[7])&&(e[7]=c);r&d&&(e[8]=null==e[8]?t[8]:An(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=o}(S,b),e=S[0],t=S[1],n=S[2],a=S[3],h=S[4],!(m=S[9]=S[9]===o?y?0:e.length:wn(S[9]-v,0))&&24&t&&(t&=-25),t&&1!=t)E=8==t||t==c?function(e,t,n){var i=Do(e);return function a(){for(var s=arguments.length,c=r(s),u=s,l=ui(a);u--;)c[u]=arguments[u];var d=s<3&&c[0]!==l&&c[s-1]!==l?[]:dn(c,l);return(s-=d.length)<n?Jo(e,t,Fo,a.placeholder,o,c,d,o,o,n-s):It(this&&this!==gt&&this instanceof a?i:e,this,c)}}(e,t,m):t!=u&&33!=t||h.length?Fo.apply(o,S):function(e,t,n,o){var i=1&t,a=Do(e);return function t(){for(var s=-1,c=arguments.length,u=-1,l=o.length,d=r(l+c),f=this&&this!==gt&&this instanceof t?a:e;++u<l;)d[u]=o[u];for(;c--;)d[u++]=arguments[++s];return It(f,i?n:this,d)}}(e,t,n,a);else var E=function(e,t,n){var r=1&t,o=Do(e);return function t(){return(this&&this!==gt&&this instanceof t?o:e).apply(r?n:this,arguments)}}(e,t,n);return Bi((b?to:Pi)(E,S),e,t)}function ei(e,t,n,r){return e===o||$a(e,Ne[n])&&!Me.call(r,n)?t:e}function ti(e,t,n,r,i,a){return ts(e)&&ts(t)&&(a.set(t,e),qr(e,t,o,ti,a),a.delete(t)),e}function ni(e){return is(e)?o:e}function ri(e,t,n,r,i,a){var s=1&n,c=e.length,u=t.length;if(c!=u&&!(s&&u>c))return!1;var l=a.get(e),d=a.get(t);if(l&&d)return l==t&&d==e;var f=-1,h=!0,p=2&n?new Jn:o;for(a.set(e,t),a.set(t,e);++f<c;){var g=e[f],m=t[f];if(r)var y=s?r(m,g,f,t,e,a):r(g,m,f,e,t,a);if(y!==o){if(y)continue;h=!1;break}if(p){if(!Dt(t,(function(e,t){if(!tn(p,t)&&(g===e||i(g,e,n,r,a)))return p.push(t)}))){h=!1;break}}else if(g!==m&&!i(g,m,n,r,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function oi(e){return Ni(_i(e,o,Ki),e+"")}function ii(e){return Tr(e,Os,pi)}function ai(e){return Tr(e,Ns,gi)}var si=Pn?function(e){return Pn.get(e)}:uc;function ci(e){for(var t=e.name+"",n=On[t],r=Me.call(On,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function ui(e){return(Me.call($n,"placeholder")?$n:e).placeholder}function li(){var e=$n.iteratee||ic;return e=e===ic?Mr:e,arguments.length?e(arguments[0],arguments[1]):e}function di(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function fi(e){for(var t=Os(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,ki(o)]}return t}function hi(e,t){var n=function(e,t){return null==e?o:e[t]}(e,t);return zr(n)?n:o}var pi=yt?function(e){return null==e?[]:(e=Ie(e),Ot(yt(e),(function(t){return Je.call(e,t)})))}:mc,gi=yt?function(e){for(var t=[];e;)Mt(t,pi(e)),e=Ge(e);return t}:mc,mi=kr;function yi(e,t,n){for(var r=-1,o=(t=bo(t,e)).length,i=!1;++r<o;){var a=Ui(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&es(o)&&Ai(a,o)&&(Va(e)||Wa(e))}function vi(e){return"function"!=typeof e.constructor||Ti(e)?{}:Fn(Ge(e))}function wi(e){return Va(e)||Wa(e)||!!(Ye&&e&&e[Ye])}function Ai(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&Ae.test(e))&&e>-1&&e%1==0&&e<t}function bi(e,t,n){if(!ts(n))return!1;var r=typeof t;return!!("number"==r?Ga(n)&&Ai(t,n.length):"string"==r&&t in n)&&$a(n[t],e)}function Si(e,t){if(Va(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!us(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Ie(t))}function Ei(e){var t=ci(e),n=$n[t];if("function"!=typeof n||!(t in Vn.prototype))return!1;if(e===n)return!0;var r=si(n);return!!r&&e===r[0]}(Tn&&mi(new Tn(new ArrayBuffer(1)))!=z||kn&&mi(new kn)!=T||In&&mi(In.resolve())!=_||_n&&mi(new _n)!=R||Cn&&mi(new Cn)!=N)&&(mi=function(e){var t=kr(e),n=t==I?e.constructor:o,r=n?Di(n):"";if(r)switch(r){case Nn:return z;case Bn:return T;case zn:return _;case Mn:return R;case jn:return N}return t});var xi=Be?Xa:yc;function Ti(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ne)}function ki(e){return e==e&&!ts(e)}function Ii(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==o||e in Ie(n)))}}function _i(e,t,n){return t=wn(t===o?e.length-1:t,0),function(){for(var o=arguments,i=-1,a=wn(o.length-t,0),s=r(a);++i<a;)s[i]=o[t+i];i=-1;for(var c=r(t+1);++i<t;)c[i]=o[i];return c[t]=n(s),It(e,this,c)}}function Ci(e,t){return t.length<2?e:xr(e,oo(t,0,-1))}function Ri(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Pi=zi(to),Oi=ht||function(e,t){return gt.setTimeout(e,t)},Ni=zi(no);function Bi(e,t,n){var r=t+"";return Ni(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ce,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Ct(y,(function(n){var r="_."+n[0];t&n[1]&&!Nt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ue);return t?t[1].split(le):[]}(r),n)))}function zi(e){var t=0,n=0;return function(){var r=bn(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(o,arguments)}}function Mi(e,t){var n=-1,r=e.length,i=r-1;for(t=t===o?r:t;++n<t;){var a=Jr(n,i),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var ji=function(e){var t=za(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,o){t.push(r?o.replace(he,"$1"):n||e)})),t}));function Ui(e){if("string"==typeof e||us(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Di(e){if(null!=e){try{return ze.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Li(e){if(e instanceof Vn)return e.clone();var t=new Wn(e.__wrapped__,e.__chain__);return t.__actions__=Po(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var $i=Yr((function(e,t){return Ha(e)?fr(e,vr(t,1,Ha,!0)):[]})),Fi=Yr((function(e,t){var n=Yi(t);return Ha(n)&&(n=o),Ha(e)?fr(e,vr(t,1,Ha,!0),li(n,2)):[]})),qi=Yr((function(e,t){var n=Yi(t);return Ha(n)&&(n=o),Ha(e)?fr(e,vr(t,1,Ha,!0),o,n):[]}));function Wi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:gs(n);return o<0&&(o=wn(r+o,0)),Ft(e,li(t,3),o)}function Vi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==o&&(i=gs(n),i=n<0?wn(r+i,0):An(i,r-1)),Ft(e,li(t,3),i,!0)}function Ki(e){return(null==e?0:e.length)?vr(e,1):[]}function Gi(e){return e&&e.length?e[0]:o}var Hi=Yr((function(e){var t=zt(e,wo);return t.length&&t[0]===e[0]?Rr(t):[]})),Ji=Yr((function(e){var t=Yi(e),n=zt(e,wo);return t===Yi(n)?t=o:n.pop(),n.length&&n[0]===e[0]?Rr(n,li(t,2)):[]})),Zi=Yr((function(e){var t=Yi(e),n=zt(e,wo);return(t="function"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?Rr(n,o,t):[]}));function Yi(e){var t=null==e?0:e.length;return t?e[t-1]:o}var Xi=Yr(Qi);function Qi(e,t){return e&&e.length&&t&&t.length?Gr(e,t):e}var ea=oi((function(e,t){var n=null==e?0:e.length,r=sr(e,t);return Hr(e,zt(t,(function(e){return Ai(e,n)?+e:e})).sort(_o)),r}));function ta(e){return null==e?e:xn.call(e)}var na=Yr((function(e){return fo(vr(e,1,Ha,!0))})),ra=Yr((function(e){var t=Yi(e);return Ha(t)&&(t=o),fo(vr(e,1,Ha,!0),li(t,2))})),oa=Yr((function(e){var t=Yi(e);return t="function"==typeof t?t:o,fo(vr(e,1,Ha,!0),o,t)}));function ia(e){if(!e||!e.length)return[];var t=0;return e=Ot(e,(function(e){if(Ha(e))return t=wn(e.length,t),!0})),Yt(t,(function(t){return zt(e,Gt(t))}))}function aa(e,t){if(!e||!e.length)return[];var n=ia(e);return null==t?n:zt(n,(function(e){return It(t,o,e)}))}var sa=Yr((function(e,t){return Ha(e)?fr(e,t):[]})),ca=Yr((function(e){return yo(Ot(e,Ha))})),ua=Yr((function(e){var t=Yi(e);return Ha(t)&&(t=o),yo(Ot(e,Ha),li(t,2))})),la=Yr((function(e){var t=Yi(e);return t="function"==typeof t?t:o,yo(Ot(e,Ha),o,t)})),da=Yr(ia);var fa=Yr((function(e){var t=e.length,n=t>1?e[t-1]:o;return n="function"==typeof n?(e.pop(),n):o,aa(e,n)}));function ha(e){var t=$n(e);return t.__chain__=!0,t}function pa(e,t){return t(e)}var ga=oi((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return sr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Vn&&Ai(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:pa,args:[i],thisArg:o}),new Wn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(o),e}))):this.thru(i)}));var ma=No((function(e,t,n){Me.call(e,n)?++e[n]:ar(e,n,1)}));var ya=Lo(Wi),va=Lo(Vi);function wa(e,t){return(Va(e)?Ct:hr)(e,li(t,3))}function Aa(e,t){return(Va(e)?Rt:pr)(e,li(t,3))}var ba=No((function(e,t,n){Me.call(e,n)?e[n].push(t):ar(e,n,[t])}));var Sa=Yr((function(e,t,n){var o=-1,i="function"==typeof t,a=Ga(e)?r(e.length):[];return hr(e,(function(e){a[++o]=i?It(t,e,n):Pr(e,t,n)})),a})),Ea=No((function(e,t,n){ar(e,n,t)}));function xa(e,t){return(Va(e)?zt:Lr)(e,li(t,3))}var Ta=No((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var ka=Yr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&bi(e,t[0],t[1])?t=[]:n>2&&bi(t[0],t[1],t[2])&&(t=[t[0]]),Vr(e,vr(t,1),[])})),Ia=lt||function(){return gt.Date.now()};function _a(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,Qo(e,d,o,o,o,o,t)}function Ca(e,t){var n;if("function"!=typeof t)throw new Re(i);return e=gs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var Ra=Yr((function(e,t,n){var r=1;if(n.length){var o=dn(n,ui(Ra));r|=u}return Qo(e,r,t,n,o)})),Pa=Yr((function(e,t,n){var r=3;if(n.length){var o=dn(n,ui(Pa));r|=u}return Qo(t,r,e,n,o)}));function Oa(e,t,n){var r,a,s,c,u,l,d=0,f=!1,h=!1,p=!0;if("function"!=typeof e)throw new Re(i);function g(t){var n=r,i=a;return r=a=o,d=t,c=e.apply(i,n)}function m(e){var n=e-l;return l===o||n>=t||n<0||h&&e-d>=s}function y(){var e=Ia();if(m(e))return v(e);u=Oi(y,function(e){var n=t-(e-l);return h?An(n,s-(e-d)):n}(e))}function v(e){return u=o,p&&r?g(e):(r=a=o,c)}function w(){var e=Ia(),n=m(e);if(r=arguments,a=this,l=e,n){if(u===o)return function(e){return d=e,u=Oi(y,t),f?g(e):c}(l);if(h)return xo(u),u=Oi(y,t),g(l)}return u===o&&(u=Oi(y,t)),c}return t=ys(t)||0,ts(n)&&(f=!!n.leading,s=(h="maxWait"in n)?wn(ys(n.maxWait)||0,t):s,p="trailing"in n?!!n.trailing:p),w.cancel=function(){u!==o&&xo(u),d=0,r=l=a=u=o},w.flush=function(){return u===o?c:v(Ia())},w}var Na=Yr((function(e,t){return dr(e,1,t)})),Ba=Yr((function(e,t,n){return dr(e,ys(t)||0,n)}));function za(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Re(i);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(za.Cache||Hn),n}function Ma(e){if("function"!=typeof e)throw new Re(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}za.Cache=Hn;var ja=So((function(e,t){var n=(t=1==t.length&&Va(t[0])?zt(t[0],Qt(li())):zt(vr(t,1),Qt(li()))).length;return Yr((function(r){for(var o=-1,i=An(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return It(e,this,r)}))})),Ua=Yr((function(e,t){var n=dn(t,ui(Ua));return Qo(e,u,o,t,n)})),Da=Yr((function(e,t){var n=dn(t,ui(Da));return Qo(e,l,o,t,n)})),La=oi((function(e,t){return Qo(e,f,o,o,o,t)}));function $a(e,t){return e===t||e!=e&&t!=t}var Fa=Ho(Ir),qa=Ho((function(e,t){return e>=t})),Wa=Or(function(){return arguments}())?Or:function(e){return ns(e)&&Me.call(e,"callee")&&!Je.call(e,"callee")},Va=r.isArray,Ka=bt?Qt(bt):function(e){return ns(e)&&kr(e)==B};function Ga(e){return null!=e&&es(e.length)&&!Xa(e)}function Ha(e){return ns(e)&&Ga(e)}var Ja=wt||yc,Za=St?Qt(St):function(e){return ns(e)&&kr(e)==b};function Ya(e){if(!ns(e))return!1;var t=kr(e);return t==S||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!is(e)}function Xa(e){if(!ts(e))return!1;var t=kr(e);return t==E||t==x||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Qa(e){return"number"==typeof e&&e==gs(e)}function es(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function ts(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ns(e){return null!=e&&"object"==typeof e}var rs=Et?Qt(Et):function(e){return ns(e)&&mi(e)==T};function os(e){return"number"==typeof e||ns(e)&&kr(e)==k}function is(e){if(!ns(e)||kr(e)!=I)return!1;var t=Ge(e);if(null===t)return!0;var n=Me.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ze.call(n)==Le}var as=xt?Qt(xt):function(e){return ns(e)&&kr(e)==C};var ss=Tt?Qt(Tt):function(e){return ns(e)&&mi(e)==R};function cs(e){return"string"==typeof e||!Va(e)&&ns(e)&&kr(e)==P}function us(e){return"symbol"==typeof e||ns(e)&&kr(e)==O}var ls=kt?Qt(kt):function(e){return ns(e)&&es(e.length)&&!!ct[kr(e)]};var ds=Ho(Dr),fs=Ho((function(e,t){return e<=t}));function hs(e){if(!e)return[];if(Ga(e))return cs(e)?gn(e):Po(e);if(Xe&&e[Xe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Xe]());var t=mi(e);return(t==T?un:t==R?fn:$s)(e)}function ps(e){return e?(e=ys(e))===h||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function gs(e){var t=ps(e),n=t%1;return t==t?n?t-n:t:0}function ms(e){return e?cr(gs(e),0,m):0}function ys(e){if("number"==typeof e)return e;if(us(e))return g;if(ts(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ts(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Xt(e);var n=ye.test(e);return n||we.test(e)?ft(e.slice(2),n?2:8):me.test(e)?g:+e}function vs(e){return Oo(e,Ns(e))}function ws(e){return null==e?"":lo(e)}var As=Bo((function(e,t){if(Ti(t)||Ga(t))Oo(t,Os(t),e);else for(var n in t)Me.call(t,n)&&nr(e,n,t[n])})),bs=Bo((function(e,t){Oo(t,Ns(t),e)})),Ss=Bo((function(e,t,n,r){Oo(t,Ns(t),e,r)})),Es=Bo((function(e,t,n,r){Oo(t,Os(t),e,r)})),xs=oi(sr);var Ts=Yr((function(e,t){e=Ie(e);var n=-1,r=t.length,i=r>2?t[2]:o;for(i&&bi(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],s=Ns(a),c=-1,u=s.length;++c<u;){var l=s[c],d=e[l];(d===o||$a(d,Ne[l])&&!Me.call(e,l))&&(e[l]=a[l])}return e})),ks=Yr((function(e){return e.push(o,ti),It(zs,o,e)}));function Is(e,t,n){var r=null==e?o:xr(e,t);return r===o?n:r}function _s(e,t){return null!=e&&yi(e,t,Cr)}var Cs=qo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=De.call(t)),e[t]=n}),tc(oc)),Rs=qo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=De.call(t)),Me.call(e,t)?e[t].push(n):e[t]=[n]}),li),Ps=Yr(Pr);function Os(e){return Ga(e)?Yn(e):jr(e)}function Ns(e){return Ga(e)?Yn(e,!0):Ur(e)}var Bs=Bo((function(e,t,n){qr(e,t,n)})),zs=Bo((function(e,t,n,r){qr(e,t,n,r)})),Ms=oi((function(e,t){var n={};if(null==e)return n;var r=!1;t=zt(t,(function(t){return t=bo(t,e),r||(r=t.length>1),t})),Oo(e,ai(e),n),r&&(n=ur(n,7,ni));for(var o=t.length;o--;)ho(n,t[o]);return n}));var js=oi((function(e,t){return null==e?{}:function(e,t){return Kr(e,t,(function(t,n){return _s(e,n)}))}(e,t)}));function Us(e,t){if(null==e)return{};var n=zt(ai(e),(function(e){return[e]}));return t=li(t),Kr(e,n,(function(e,n){return t(e,n[0])}))}var Ds=Xo(Os),Ls=Xo(Ns);function $s(e){return null==e?[]:en(e,Os(e))}var Fs=Uo((function(e,t,n){return t=t.toLowerCase(),e+(n?qs(t):t)}));function qs(e){return Ys(ws(e).toLowerCase())}function Ws(e){return(e=ws(e))&&e.replace(be,on).replace(tt,"")}var Vs=Uo((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ks=Uo((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Gs=jo("toLowerCase");var Hs=Uo((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Js=Uo((function(e,t,n){return e+(n?" ":"")+Ys(t)}));var Zs=Uo((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ys=jo("toUpperCase");function Xs(e,t,n){return e=ws(e),(t=n?o:t)===o?function(e){return it.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.match(de)||[]}(e):e.match(t)||[]}var Qs=Yr((function(e,t){try{return It(e,o,t)}catch(e){return Ya(e)?e:new xe(e)}})),ec=oi((function(e,t){return Ct(t,(function(t){t=Ui(t),ar(e,t,Ra(e[t],e))})),e}));function tc(e){return function(){return e}}var nc=$o(),rc=$o(!0);function oc(e){return e}function ic(e){return Mr("function"==typeof e?e:ur(e,1))}var ac=Yr((function(e,t){return function(n){return Pr(n,e,t)}})),sc=Yr((function(e,t){return function(n){return Pr(e,n,t)}}));function cc(e,t,n){var r=Os(t),o=Er(t,r);null!=n||ts(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=Er(t,Os(t)));var i=!(ts(n)&&"chain"in n&&!n.chain),a=Xa(e);return Ct(o,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__);return(n.__actions__=Po(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Mt([this.value()],arguments))})})),e}function uc(){}var lc=Vo(zt),dc=Vo(Pt),fc=Vo(Dt);function hc(e){return Si(e)?Gt(Ui(e)):function(e){return function(t){return xr(t,e)}}(e)}var pc=Go(),gc=Go(!0);function mc(){return[]}function yc(){return!1}var vc=Wo((function(e,t){return e+t}),0),wc=Zo("ceil"),Ac=Wo((function(e,t){return e/t}),1),bc=Zo("floor");var Sc,Ec=Wo((function(e,t){return e*t}),1),xc=Zo("round"),Tc=Wo((function(e,t){return e-t}),0);return $n.after=function(e,t){if("function"!=typeof t)throw new Re(i);return e=gs(e),function(){if(--e<1)return t.apply(this,arguments)}},$n.ary=_a,$n.assign=As,$n.assignIn=bs,$n.assignInWith=Ss,$n.assignWith=Es,$n.at=xs,$n.before=Ca,$n.bind=Ra,$n.bindAll=ec,$n.bindKey=Pa,$n.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Va(e)?e:[e]},$n.chain=ha,$n.chunk=function(e,t,n){t=(n?bi(e,t,n):t===o)?1:wn(gs(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,s=0,c=r(pt(i/t));a<i;)c[s++]=oo(e,a,a+=t);return c},$n.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},$n.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],o=e;o--;)t[o-1]=arguments[o];return Mt(Va(n)?Po(n):[n],vr(t,1))},$n.cond=function(e){var t=null==e?0:e.length,n=li();return e=t?zt(e,(function(e){if("function"!=typeof e[1])throw new Re(i);return[n(e[0]),e[1]]})):[],Yr((function(n){for(var r=-1;++r<t;){var o=e[r];if(It(o[0],this,n))return It(o[1],this,n)}}))},$n.conforms=function(e){return function(e){var t=Os(e);return function(n){return lr(n,e,t)}}(ur(e,1))},$n.constant=tc,$n.countBy=ma,$n.create=function(e,t){var n=Fn(e);return null==t?n:ir(n,t)},$n.curry=function e(t,n,r){var i=Qo(t,8,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},$n.curryRight=function e(t,n,r){var i=Qo(t,c,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},$n.debounce=Oa,$n.defaults=Ts,$n.defaultsDeep=ks,$n.defer=Na,$n.delay=Ba,$n.difference=$i,$n.differenceBy=Fi,$n.differenceWith=qi,$n.drop=function(e,t,n){var r=null==e?0:e.length;return r?oo(e,(t=n||t===o?1:gs(t))<0?0:t,r):[]},$n.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?oo(e,0,(t=r-(t=n||t===o?1:gs(t)))<0?0:t):[]},$n.dropRightWhile=function(e,t){return e&&e.length?go(e,li(t,3),!0,!0):[]},$n.dropWhile=function(e,t){return e&&e.length?go(e,li(t,3),!0):[]},$n.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&bi(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=gs(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:gs(r))<0&&(r+=i),r=n>r?0:ms(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},$n.filter=function(e,t){return(Va(e)?Ot:yr)(e,li(t,3))},$n.flatMap=function(e,t){return vr(xa(e,t),1)},$n.flatMapDeep=function(e,t){return vr(xa(e,t),h)},$n.flatMapDepth=function(e,t,n){return n=n===o?1:gs(n),vr(xa(e,t),n)},$n.flatten=Ki,$n.flattenDeep=function(e){return(null==e?0:e.length)?vr(e,h):[]},$n.flattenDepth=function(e,t){return(null==e?0:e.length)?vr(e,t=t===o?1:gs(t)):[]},$n.flip=function(e){return Qo(e,512)},$n.flow=nc,$n.flowRight=rc,$n.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},$n.functions=function(e){return null==e?[]:Er(e,Os(e))},$n.functionsIn=function(e){return null==e?[]:Er(e,Ns(e))},$n.groupBy=ba,$n.initial=function(e){return(null==e?0:e.length)?oo(e,0,-1):[]},$n.intersection=Hi,$n.intersectionBy=Ji,$n.intersectionWith=Zi,$n.invert=Cs,$n.invertBy=Rs,$n.invokeMap=Sa,$n.iteratee=ic,$n.keyBy=Ea,$n.keys=Os,$n.keysIn=Ns,$n.map=xa,$n.mapKeys=function(e,t){var n={};return t=li(t,3),br(e,(function(e,r,o){ar(n,t(e,r,o),e)})),n},$n.mapValues=function(e,t){var n={};return t=li(t,3),br(e,(function(e,r,o){ar(n,r,t(e,r,o))})),n},$n.matches=function(e){return $r(ur(e,1))},$n.matchesProperty=function(e,t){return Fr(e,ur(t,1))},$n.memoize=za,$n.merge=Bs,$n.mergeWith=zs,$n.method=ac,$n.methodOf=sc,$n.mixin=cc,$n.negate=Ma,$n.nthArg=function(e){return e=gs(e),Yr((function(t){return Wr(t,e)}))},$n.omit=Ms,$n.omitBy=function(e,t){return Us(e,Ma(li(t)))},$n.once=function(e){return Ca(2,e)},$n.orderBy=function(e,t,n,r){return null==e?[]:(Va(t)||(t=null==t?[]:[t]),Va(n=r?o:n)||(n=null==n?[]:[n]),Vr(e,t,n))},$n.over=lc,$n.overArgs=ja,$n.overEvery=dc,$n.overSome=fc,$n.partial=Ua,$n.partialRight=Da,$n.partition=Ta,$n.pick=js,$n.pickBy=Us,$n.property=hc,$n.propertyOf=function(e){return function(t){return null==e?o:xr(e,t)}},$n.pull=Xi,$n.pullAll=Qi,$n.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Gr(e,t,li(n,2)):e},$n.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Gr(e,t,o,n):e},$n.pullAt=ea,$n.range=pc,$n.rangeRight=gc,$n.rearg=La,$n.reject=function(e,t){return(Va(e)?Ot:yr)(e,Ma(li(t,3)))},$n.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=li(t,3);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return Hr(e,o),n},$n.rest=function(e,t){if("function"!=typeof e)throw new Re(i);return Yr(e,t=t===o?t:gs(t))},$n.reverse=ta,$n.sampleSize=function(e,t,n){return t=(n?bi(e,t,n):t===o)?1:gs(t),(Va(e)?Qn:Qr)(e,t)},$n.set=function(e,t,n){return null==e?e:eo(e,t,n)},$n.setWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:eo(e,t,n,r)},$n.shuffle=function(e){return(Va(e)?er:ro)(e)},$n.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&bi(e,t,n)?(t=0,n=r):(t=null==t?0:gs(t),n=n===o?r:gs(n)),oo(e,t,n)):[]},$n.sortBy=ka,$n.sortedUniq=function(e){return e&&e.length?co(e):[]},$n.sortedUniqBy=function(e,t){return e&&e.length?co(e,li(t,2)):[]},$n.split=function(e,t,n){return n&&"number"!=typeof n&&bi(e,t,n)&&(t=n=o),(n=n===o?m:n>>>0)?(e=ws(e))&&("string"==typeof t||null!=t&&!as(t))&&!(t=lo(t))&&cn(e)?Eo(gn(e),0,n):e.split(t,n):[]},$n.spread=function(e,t){if("function"!=typeof e)throw new Re(i);return t=null==t?0:wn(gs(t),0),Yr((function(n){var r=n[t],o=Eo(n,0,t);return r&&Mt(o,r),It(e,this,o)}))},$n.tail=function(e){var t=null==e?0:e.length;return t?oo(e,1,t):[]},$n.take=function(e,t,n){return e&&e.length?oo(e,0,(t=n||t===o?1:gs(t))<0?0:t):[]},$n.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?oo(e,(t=r-(t=n||t===o?1:gs(t)))<0?0:t,r):[]},$n.takeRightWhile=function(e,t){return e&&e.length?go(e,li(t,3),!1,!0):[]},$n.takeWhile=function(e,t){return e&&e.length?go(e,li(t,3)):[]},$n.tap=function(e,t){return t(e),e},$n.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new Re(i);return ts(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Oa(e,t,{leading:r,maxWait:t,trailing:o})},$n.thru=pa,$n.toArray=hs,$n.toPairs=Ds,$n.toPairsIn=Ls,$n.toPath=function(e){return Va(e)?zt(e,Ui):us(e)?[e]:Po(ji(ws(e)))},$n.toPlainObject=vs,$n.transform=function(e,t,n){var r=Va(e),o=r||Ja(e)||ls(e);if(t=li(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:ts(e)&&Xa(i)?Fn(Ge(e)):{}}return(o?Ct:br)(e,(function(e,r,o){return t(n,e,r,o)})),n},$n.unary=function(e){return _a(e,1)},$n.union=na,$n.unionBy=ra,$n.unionWith=oa,$n.uniq=function(e){return e&&e.length?fo(e):[]},$n.uniqBy=function(e,t){return e&&e.length?fo(e,li(t,2)):[]},$n.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?fo(e,o,t):[]},$n.unset=function(e,t){return null==e||ho(e,t)},$n.unzip=ia,$n.unzipWith=aa,$n.update=function(e,t,n){return null==e?e:po(e,t,Ao(n))},$n.updateWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:po(e,t,Ao(n),r)},$n.values=$s,$n.valuesIn=function(e){return null==e?[]:en(e,Ns(e))},$n.without=sa,$n.words=Xs,$n.wrap=function(e,t){return Ua(Ao(t),e)},$n.xor=ca,$n.xorBy=ua,$n.xorWith=la,$n.zip=da,$n.zipObject=function(e,t){return vo(e||[],t||[],nr)},$n.zipObjectDeep=function(e,t){return vo(e||[],t||[],eo)},$n.zipWith=fa,$n.entries=Ds,$n.entriesIn=Ls,$n.extend=bs,$n.extendWith=Ss,cc($n,$n),$n.add=vc,$n.attempt=Qs,$n.camelCase=Fs,$n.capitalize=qs,$n.ceil=wc,$n.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=ys(n))==n?n:0),t!==o&&(t=(t=ys(t))==t?t:0),cr(ys(e),t,n)},$n.clone=function(e){return ur(e,4)},$n.cloneDeep=function(e){return ur(e,5)},$n.cloneDeepWith=function(e,t){return ur(e,5,t="function"==typeof t?t:o)},$n.cloneWith=function(e,t){return ur(e,4,t="function"==typeof t?t:o)},$n.conformsTo=function(e,t){return null==t||lr(e,t,Os(t))},$n.deburr=Ws,$n.defaultTo=function(e,t){return null==e||e!=e?t:e},$n.divide=Ac,$n.endsWith=function(e,t,n){e=ws(e),t=lo(t);var r=e.length,i=n=n===o?r:cr(gs(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},$n.eq=$a,$n.escape=function(e){return(e=ws(e))&&Y.test(e)?e.replace(J,an):e},$n.escapeRegExp=function(e){return(e=ws(e))&&ie.test(e)?e.replace(oe,"\\$&"):e},$n.every=function(e,t,n){var r=Va(e)?Pt:gr;return n&&bi(e,t,n)&&(t=o),r(e,li(t,3))},$n.find=ya,$n.findIndex=Wi,$n.findKey=function(e,t){return $t(e,li(t,3),br)},$n.findLast=va,$n.findLastIndex=Vi,$n.findLastKey=function(e,t){return $t(e,li(t,3),Sr)},$n.floor=bc,$n.forEach=wa,$n.forEachRight=Aa,$n.forIn=function(e,t){return null==e?e:wr(e,li(t,3),Ns)},$n.forInRight=function(e,t){return null==e?e:Ar(e,li(t,3),Ns)},$n.forOwn=function(e,t){return e&&br(e,li(t,3))},$n.forOwnRight=function(e,t){return e&&Sr(e,li(t,3))},$n.get=Is,$n.gt=Fa,$n.gte=qa,$n.has=function(e,t){return null!=e&&yi(e,t,_r)},$n.hasIn=_s,$n.head=Gi,$n.identity=oc,$n.includes=function(e,t,n,r){e=Ga(e)?e:$s(e),n=n&&!r?gs(n):0;var o=e.length;return n<0&&(n=wn(o+n,0)),cs(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&qt(e,t,n)>-1},$n.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:gs(n);return o<0&&(o=wn(r+o,0)),qt(e,t,o)},$n.inRange=function(e,t,n){return t=ps(t),n===o?(n=t,t=0):n=ps(n),function(e,t,n){return e>=An(t,n)&&e<wn(t,n)}(e=ys(e),t,n)},$n.invoke=Ps,$n.isArguments=Wa,$n.isArray=Va,$n.isArrayBuffer=Ka,$n.isArrayLike=Ga,$n.isArrayLikeObject=Ha,$n.isBoolean=function(e){return!0===e||!1===e||ns(e)&&kr(e)==A},$n.isBuffer=Ja,$n.isDate=Za,$n.isElement=function(e){return ns(e)&&1===e.nodeType&&!is(e)},$n.isEmpty=function(e){if(null==e)return!0;if(Ga(e)&&(Va(e)||"string"==typeof e||"function"==typeof e.splice||Ja(e)||ls(e)||Wa(e)))return!e.length;var t=mi(e);if(t==T||t==R)return!e.size;if(Ti(e))return!jr(e).length;for(var n in e)if(Me.call(e,n))return!1;return!0},$n.isEqual=function(e,t){return Nr(e,t)},$n.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:o)?n(e,t):o;return r===o?Nr(e,t,o,n):!!r},$n.isError=Ya,$n.isFinite=function(e){return"number"==typeof e&&At(e)},$n.isFunction=Xa,$n.isInteger=Qa,$n.isLength=es,$n.isMap=rs,$n.isMatch=function(e,t){return e===t||Br(e,t,fi(t))},$n.isMatchWith=function(e,t,n){return n="function"==typeof n?n:o,Br(e,t,fi(t),n)},$n.isNaN=function(e){return os(e)&&e!=+e},$n.isNative=function(e){if(xi(e))throw new xe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return zr(e)},$n.isNil=function(e){return null==e},$n.isNull=function(e){return null===e},$n.isNumber=os,$n.isObject=ts,$n.isObjectLike=ns,$n.isPlainObject=is,$n.isRegExp=as,$n.isSafeInteger=function(e){return Qa(e)&&e>=-9007199254740991&&e<=p},$n.isSet=ss,$n.isString=cs,$n.isSymbol=us,$n.isTypedArray=ls,$n.isUndefined=function(e){return e===o},$n.isWeakMap=function(e){return ns(e)&&mi(e)==N},$n.isWeakSet=function(e){return ns(e)&&"[object WeakSet]"==kr(e)},$n.join=function(e,t){return null==e?"":Lt.call(e,t)},$n.kebabCase=Vs,$n.last=Yi,$n.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=gs(n))<0?wn(r+i,0):An(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):Ft(e,Vt,i,!0)},$n.lowerCase=Ks,$n.lowerFirst=Gs,$n.lt=ds,$n.lte=fs,$n.max=function(e){return e&&e.length?mr(e,oc,Ir):o},$n.maxBy=function(e,t){return e&&e.length?mr(e,li(t,2),Ir):o},$n.mean=function(e){return Kt(e,oc)},$n.meanBy=function(e,t){return Kt(e,li(t,2))},$n.min=function(e){return e&&e.length?mr(e,oc,Dr):o},$n.minBy=function(e,t){return e&&e.length?mr(e,li(t,2),Dr):o},$n.stubArray=mc,$n.stubFalse=yc,$n.stubObject=function(){return{}},$n.stubString=function(){return""},$n.stubTrue=function(){return!0},$n.multiply=Ec,$n.nth=function(e,t){return e&&e.length?Wr(e,gs(t)):o},$n.noConflict=function(){return gt._===this&&(gt._=$e),this},$n.noop=uc,$n.now=Ia,$n.pad=function(e,t,n){e=ws(e);var r=(t=gs(t))?pn(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return Ko(mt(o),n)+e+Ko(pt(o),n)},$n.padEnd=function(e,t,n){e=ws(e);var r=(t=gs(t))?pn(e):0;return t&&r<t?e+Ko(t-r,n):e},$n.padStart=function(e,t,n){e=ws(e);var r=(t=gs(t))?pn(e):0;return t&&r<t?Ko(t-r,n)+e:e},$n.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Sn(ws(e).replace(ae,""),t||0)},$n.random=function(e,t,n){if(n&&"boolean"!=typeof n&&bi(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=ps(e),t===o?(t=e,e=0):t=ps(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=En();return An(e+i*(t-e+dt("1e-"+((i+"").length-1))),t)}return Jr(e,t)},$n.reduce=function(e,t,n){var r=Va(e)?jt:Jt,o=arguments.length<3;return r(e,li(t,4),n,o,hr)},$n.reduceRight=function(e,t,n){var r=Va(e)?Ut:Jt,o=arguments.length<3;return r(e,li(t,4),n,o,pr)},$n.repeat=function(e,t,n){return t=(n?bi(e,t,n):t===o)?1:gs(t),Zr(ws(e),t)},$n.replace=function(){var e=arguments,t=ws(e[0]);return e.length<3?t:t.replace(e[1],e[2])},$n.result=function(e,t,n){var r=-1,i=(t=bo(t,e)).length;for(i||(i=1,e=o);++r<i;){var a=null==e?o:e[Ui(t[r])];a===o&&(r=i,a=n),e=Xa(a)?a.call(e):a}return e},$n.round=xc,$n.runInContext=e,$n.sample=function(e){return(Va(e)?Xn:Xr)(e)},$n.size=function(e){if(null==e)return 0;if(Ga(e))return cs(e)?pn(e):e.length;var t=mi(e);return t==T||t==R?e.size:jr(e).length},$n.snakeCase=Hs,$n.some=function(e,t,n){var r=Va(e)?Dt:io;return n&&bi(e,t,n)&&(t=o),r(e,li(t,3))},$n.sortedIndex=function(e,t){return ao(e,t)},$n.sortedIndexBy=function(e,t,n){return so(e,t,li(n,2))},$n.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ao(e,t);if(r<n&&$a(e[r],t))return r}return-1},$n.sortedLastIndex=function(e,t){return ao(e,t,!0)},$n.sortedLastIndexBy=function(e,t,n){return so(e,t,li(n,2),!0)},$n.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ao(e,t,!0)-1;if($a(e[n],t))return n}return-1},$n.startCase=Js,$n.startsWith=function(e,t,n){return e=ws(e),n=null==n?0:cr(gs(n),0,e.length),t=lo(t),e.slice(n,n+t.length)==t},$n.subtract=Tc,$n.sum=function(e){return e&&e.length?Zt(e,oc):0},$n.sumBy=function(e,t){return e&&e.length?Zt(e,li(t,2)):0},$n.template=function(e,t,n){var r=$n.templateSettings;n&&bi(e,t,n)&&(t=o),e=ws(e),t=Ss({},t,r,ei);var i,a,s=Ss({},t.imports,r.imports,ei),c=Os(s),u=en(s,c),l=0,d=t.interpolate||Se,f="__p += '",h=_e((t.escape||Se).source+"|"+d.source+"|"+(d===ee?pe:Se).source+"|"+(t.evaluate||Se).source+"|$","g"),p="//# sourceURL="+(Me.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++st+"]")+"\n";e.replace(h,(function(t,n,r,o,s,c){return r||(r=o),f+=e.slice(l,c).replace(Ee,sn),n&&(i=!0,f+="' +\n__e("+n+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=c+t.length,t})),f+="';\n";var g=Me.call(t,"variable")&&t.variable;if(g){if(fe.test(g))throw new xe("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(a?f.replace(V,""):f).replace(K,"$1").replace(G,"$1;"),f="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var m=Qs((function(){return Te(c,p+"return "+f).apply(o,u)}));if(m.source=f,Ya(m))throw m;return m},$n.times=function(e,t){if((e=gs(e))<1||e>p)return[];var n=m,r=An(e,m);t=li(t),e-=m;for(var o=Yt(r,t);++n<e;)t(n);return o},$n.toFinite=ps,$n.toInteger=gs,$n.toLength=ms,$n.toLower=function(e){return ws(e).toLowerCase()},$n.toNumber=ys,$n.toSafeInteger=function(e){return e?cr(gs(e),-9007199254740991,p):0===e?e:0},$n.toString=ws,$n.toUpper=function(e){return ws(e).toUpperCase()},$n.trim=function(e,t,n){if((e=ws(e))&&(n||t===o))return Xt(e);if(!e||!(t=lo(t)))return e;var r=gn(e),i=gn(t);return Eo(r,nn(r,i),rn(r,i)+1).join("")},$n.trimEnd=function(e,t,n){if((e=ws(e))&&(n||t===o))return e.slice(0,mn(e)+1);if(!e||!(t=lo(t)))return e;var r=gn(e);return Eo(r,0,rn(r,gn(t))+1).join("")},$n.trimStart=function(e,t,n){if((e=ws(e))&&(n||t===o))return e.replace(ae,"");if(!e||!(t=lo(t)))return e;var r=gn(e);return Eo(r,nn(r,gn(t))).join("")},$n.truncate=function(e,t){var n=30,r="...";if(ts(t)){var i="separator"in t?t.separator:i;n="length"in t?gs(t.length):n,r="omission"in t?lo(t.omission):r}var a=(e=ws(e)).length;if(cn(e)){var s=gn(e);a=s.length}if(n>=a)return e;var c=n-pn(r);if(c<1)return r;var u=s?Eo(s,0,c).join(""):e.slice(0,c);if(i===o)return u+r;if(s&&(c+=u.length-c),as(i)){if(e.slice(c).search(i)){var l,d=u;for(i.global||(i=_e(i.source,ws(ge.exec(i))+"g")),i.lastIndex=0;l=i.exec(d);)var f=l.index;u=u.slice(0,f===o?c:f)}}else if(e.indexOf(lo(i),c)!=c){var h=u.lastIndexOf(i);h>-1&&(u=u.slice(0,h))}return u+r},$n.unescape=function(e){return(e=ws(e))&&Z.test(e)?e.replace(H,yn):e},$n.uniqueId=function(e){var t=++je;return ws(e)+t},$n.upperCase=Zs,$n.upperFirst=Ys,$n.each=wa,$n.eachRight=Aa,$n.first=Gi,cc($n,(Sc={},br($n,(function(e,t){Me.call($n.prototype,t)||(Sc[t]=e)})),Sc),{chain:!1}),$n.VERSION="4.17.21",Ct(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){$n[e].placeholder=$n})),Ct(["drop","take"],(function(e,t){Vn.prototype[e]=function(n){n=n===o?1:wn(gs(n),0);var r=this.__filtered__&&!t?new Vn(this):this.clone();return r.__filtered__?r.__takeCount__=An(n,r.__takeCount__):r.__views__.push({size:An(n,m),type:e+(r.__dir__<0?"Right":"")}),r},Vn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Ct(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Vn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:li(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Ct(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Vn.prototype[e]=function(){return this[n](1).value()[0]}})),Ct(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Vn.prototype[e]=function(){return this.__filtered__?new Vn(this):this[n](1)}})),Vn.prototype.compact=function(){return this.filter(oc)},Vn.prototype.find=function(e){return this.filter(e).head()},Vn.prototype.findLast=function(e){return this.reverse().find(e)},Vn.prototype.invokeMap=Yr((function(e,t){return"function"==typeof e?new Vn(this):this.map((function(n){return Pr(n,e,t)}))})),Vn.prototype.reject=function(e){return this.filter(Ma(li(e)))},Vn.prototype.slice=function(e,t){e=gs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Vn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=gs(t))<0?n.dropRight(-t):n.take(t-e)),n)},Vn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Vn.prototype.toArray=function(){return this.take(m)},br(Vn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=$n[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);i&&($n.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,c=t instanceof Vn,u=s[0],l=c||Va(t),d=function(e){var t=i.apply($n,Mt([e],s));return r&&f?t[0]:t};l&&n&&"function"==typeof u&&1!=u.length&&(c=l=!1);var f=this.__chain__,h=!!this.__actions__.length,p=a&&!f,g=c&&!h;if(!a&&l){t=g?t:new Vn(this);var m=e.apply(t,s);return m.__actions__.push({func:pa,args:[d],thisArg:o}),new Wn(m,f)}return p&&g?e.apply(this,s):(m=this.thru(d),p?r?m.value()[0]:m.value():m)})})),Ct(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Pe[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);$n.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(Va(o)?o:[],e)}return this[n]((function(n){return t.apply(Va(n)?n:[],e)}))}})),br(Vn.prototype,(function(e,t){var n=$n[t];if(n){var r=n.name+"";Me.call(On,r)||(On[r]=[]),On[r].push({name:t,func:n})}})),On[Fo(o,2).name]=[{name:"wrapper",func:o}],Vn.prototype.clone=function(){var e=new Vn(this.__wrapped__);return e.__actions__=Po(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Po(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Po(this.__views__),e},Vn.prototype.reverse=function(){if(this.__filtered__){var e=new Vn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Vn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Va(e),r=t<0,o=n?e.length:0,i=function(e,t,n){var r=-1,o=n.length;for(;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=An(t,e+a);break;case"takeRight":e=wn(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=i.start,s=i.end,c=s-a,u=r?s:a-1,l=this.__iteratees__,d=l.length,f=0,h=An(c,this.__takeCount__);if(!n||!r&&o==c&&h==c)return mo(e,this.__actions__);var p=[];e:for(;c--&&f<h;){for(var g=-1,m=e[u+=t];++g<d;){var y=l[g],v=y.iteratee,w=y.type,A=v(m);if(2==w)m=A;else if(!A){if(1==w)continue e;break e}}p[f++]=m}return p},$n.prototype.at=ga,$n.prototype.chain=function(){return ha(this)},$n.prototype.commit=function(){return new Wn(this.value(),this.__chain__)},$n.prototype.next=function(){this.__values__===o&&(this.__values__=hs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},$n.prototype.plant=function(e){for(var t,n=this;n instanceof qn;){var r=Li(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},$n.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Vn){var t=e;return this.__actions__.length&&(t=new Vn(this)),(t=t.reverse()).__actions__.push({func:pa,args:[ta],thisArg:o}),new Wn(t,this.__chain__)}return this.thru(ta)},$n.prototype.toJSON=$n.prototype.valueOf=$n.prototype.value=function(){return mo(this.__wrapped__,this.__actions__)},$n.prototype.first=$n.prototype.head,Xe&&($n.prototype[Xe]=function(){return this}),$n}();gt._=vn,(r=function(){return vn}.call(t,n,t,e))===o||(e.exports=r)}.call(this)},5276:(e,t,n)=>{var r=n(4497),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},5288:(e,t,n)=>{var r=n(358),o=n(7200),i=n(6529);e.exports=function(e){return i(e)?r(e,!0):o(e)}},5353:(e,t,n)=>{var r=n(8638);e.exports=function(e,t,n){return t=n?void 0:t,t=e&&null==t?e.length:t,r(e,128,void 0,void 0,void 0,void 0,t)}},5387:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},5512:(e,t,n)=>{var r=n(4943),o=n(3316)(r);e.exports=o},5568:e=>{e.exports=function(e,t){return e.has(t)}},5620:(e,t,n)=>{var r=n(8788),o=n(9141),i=n(796),a=n(33);e.exports=function(e,t,n){var s=t+"";return i(e,o(s,a(r(s),n)))}},5650:(e,t,n)=>{var r=n(8942).Symbol;e.exports=r},5681:(e,t,n)=>{var r=n(4700);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},5755:e=>{var t=Math.max;e.exports=function(e,n,r,o){for(var i=-1,a=e.length,s=-1,c=r.length,u=-1,l=n.length,d=t(a-c,0),f=Array(d+l),h=!o;++i<d;)f[i]=e[i];for(var p=i;++u<l;)f[p+u]=n[u];for(;++s<c;)(h||i<a)&&(f[p+r[s]]=e[i++]);return f}},5832:(e,t,n)=>{var r=n(1129),o=n(4784),i=n(7979),a=n(9306),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,i(e)),e=o(e);return t}:a;e.exports=s},5853:(e,t,n)=>{e=n.nmd(e);var r=n(8942),o=n(4772),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||o;e.exports=c},5857:(e,t,n)=>{var r=n(313);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},5894:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},5899:(e,t,n)=>{var r=n(3526),o=n(3283),i=n(3142),a=n(9632),s=n(5387),c=n(6040);e.exports=function(e,t,n){for(var u=-1,l=(t=r(t,e)).length,d=!1;++u<l;){var f=c(t[u]);if(!(d=null!=e&&n(e,f)))break;e=e[f]}return d||++u!=l?d:!!(l=null==e?0:e.length)&&s(l)&&a(f,l)&&(i(e)||o(e))}},5962:e=>{e.exports=function(){}},5964:(e,t,n)=>{var r=n(9747),o=n(4784),i=n(4882);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},6027:(e,t,n)=>{var r=n(7379),o=n(547);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},6040:(e,t,n)=>{var r=n(1187);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},6065:(e,t,n)=>{var r=n(9270),o=r&&new r;e.exports=o},6123:(e,t,n)=>{var r=n(7923);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},6131:(e,t,n)=>{var r=n(6403),o=n(1580),i=n(1187),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):a.test(e)?NaN:+e}},6137:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},6285:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},6341:(e,t,n)=>{var r=n(6912),o=n(4364),i=n(8942);e.exports=function(e,t,n,a){var s=1&t,c=o(e);return function t(){for(var o=-1,u=arguments.length,l=-1,d=a.length,f=Array(d+u),h=this&&this!==i&&this instanceof t?c:e;++l<d;)f[l]=a[l];for(;u--;)f[l++]=arguments[++o];return r(h,s?n:this,f)}}},6403:(e,t,n)=>{var r=n(2945),o=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},6465:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},6493:(e,t,n)=>{var r=n(6853),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)})),t}));e.exports=a},6526:(e,t,n)=>{var r=n(8330),o=n(4367),i=n(3904);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},6529:(e,t,n)=>{var r=n(3655),o=n(5387);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},6591:(e,t,n)=>{var r=n(4354),o=n(9632),i=Math.min;e.exports=function(e,t){for(var n=e.length,a=i(t.length,n),s=r(e);a--;){var c=t[a];e[a]=o(c,n)?s[c]:void 0}return e}},6638:(e,t,n)=>{var r=n(1386),o=n(9770),i=n(8250);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(e,t),this.size=n.size,this}},6648:(e,t,n)=>{var r=n(7553),o=n(5196),i=n(961),a=n(3321);e.exports=function(e){var t=i(e),n=a[t];if("function"!=typeof n||!(t in r.prototype))return!1;if(e===n)return!0;var s=o(n);return!!s&&e===s[0]}},6713:(e,t,n)=>{var r=n(4364),o=n(8942);e.exports=function(e,t,n){var i=1&t,a=r(e);return function t(){return(this&&this!==o&&this instanceof t?a:e).apply(i?n:this,arguments)}}},6850:e=>{e.exports=function(e){return e.placeholder}},6853:(e,t,n)=>{var r=n(9011);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},6912:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},7028:(e,t,n)=>{var r=n(4977),o=n(5755),i=n(8813),a="__lodash_placeholder__",s=128,c=Math.min;e.exports=function(e,t){var n=e[1],u=t[1],l=n|u,d=l<131,f=u==s&&8==n||u==s&&256==n&&e[7].length<=t[8]||384==u&&t[7].length<=t[8]&&8==n;if(!d&&!f)return e;1&u&&(e[2]=t[2],l|=1&n?0:4);var h=t[3];if(h){var p=e[3];e[3]=p?r(p,h,t[4]):h,e[4]=p?i(e[3],a):t[4]}return(h=t[5])&&(p=e[5],e[5]=p?o(p,h,t[6]):h,e[6]=p?i(e[5],a):t[6]),(h=t[7])&&(e[7]=h),u&s&&(e[8]=null==e[8]?t[8]:c(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=l,e}},7034:(e,t,n)=>{var r=n(6285);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},7073:(e,t,n)=>{var r=n(2532);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},7099:(e,t,n)=>{e=n.nmd(e);var r=n(8942),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},7144:(e,t,n)=>{var r=n(7034);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7200:(e,t,n)=>{var r=n(1580),o=n(4882),i=n(8546),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=o(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},7250:e=>{e.exports=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}},7267:(e,t,n)=>{var r=n(1580);e.exports=function(e){return e==e&&!r(e)}},7276:(e,t,n)=>{var r=n(3636),o=n(5899);e.exports=function(e,t){return null!=e&&o(e,t,r)}},7336:(e,t,n)=>{var r=n(8638);function o(e,t,n){var i=r(e,8,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return i.placeholder=o.placeholder,i}o.placeholder={},e.exports=o},7350:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},7379:(e,t,n)=>{var r=n(5650),o=n(8870),i=n(9005),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},7403:(e,t,n)=>{var r=n(2619),o=n(2532),i=n(2053),a=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=a},7452:(e,t,n)=>{var r=n(7034);e.exports=function(e){return r(this.__data__,e)>-1}},7462:e=>{e.exports=function(e){return this.__data__.has(e)}},7553:(e,t,n)=>{var r=n(9747),o=n(5962);function i(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}i.prototype=r(o.prototype),i.prototype.constructor=i,e.exports=i},7642:(e,t,n)=>{var r=n(3301);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},7681:(e,t,n)=>{var r=n(777),o=n(9460),i=n(2306),a=i&&i.isMap,s=a?o(a):r;e.exports=s},7706:e=>{e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},7769:(e,t,n)=>{var r=n(8486),o=n(547);e.exports=function(e){return o(e)&&"[object WeakMap]"==r(e)}},7923:(e,t,n)=>{var r=n(3526),o=n(6040);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},7930:(e,t,n)=>{var r=n(9032),o=n(1211);e.exports=function(e,t){return e&&r(t,o(t),e)}},7979:(e,t,n)=>{var r=n(9847),o=n(9306),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return i.call(e,t)})))}:o;e.exports=s},7991:(e,t)=>{"use strict";t.byteLength=function(e){var t=s(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=s(e),a=i[0],c=i[1],u=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,c)),l=0,d=c>0?a-4:a;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===c&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,u[l++]=255&t);1===c&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],a=16383,s=0,u=r-o;s<u;s+=a)i.push(c(e,s,s+a>u?u:s+a));1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)n[a]=i[a],r[i.charCodeAt(a)]=a;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,r){for(var o,i,a=[],s=t;s<r;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},8006:e=>{e.exports=function(e){return this.__data__.has(e)}},8055:(e,t,n)=>{e.exports={ary:n(5353),assign:n(7930),clone:n(2846),curry:n(7336),forEach:n(9968),isArray:n(3142),isError:n(441),isFunction:n(3655),isWeakMap:n(7769),iteratee:n(2590),keys:n(195),rearg:n(864),toInteger:n(7642),toPath:n(2613)}},8069:(e,t,n)=>{var r=n(5650),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},8121:(e,t,n)=>{var r=n(3766)(Object.keys,Object);e.exports=r},8244:(e,t,n)=>{var r=n(1129),o=n(3142);e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},8250:(e,t,n)=>{var r=n(9753),o=n(5681),i=n(88),a=n(4732),s=n(9068);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},8330:(e,t,n)=>{var r=n(1340),o=n(4687);e.exports=function(e,t,n,i){var a=n.length,s=a,c=!i;if(null==e)return!s;for(e=Object(e);a--;){var u=n[a];if(c&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<s;){var l=(u=n[a])[0],d=e[l],f=u[1];if(c&&u[2]){if(void 0===d&&!(l in e))return!1}else{var h=new r;if(i)var p=i(d,f,l,e,t,h);if(!(void 0===p?o(f,d,3,i,h):p))return!1}}return!0}},8340:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},8360:(e,t,n)=>{var r=n(7379),o=n(4784),i=n(547),a=Function.prototype,s=Object.prototype,c=a.toString,u=s.hasOwnProperty,l=c.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=r(e))return!1;var t=o(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==l}},8486:(e,t,n)=>{var r=n(3103),o=n(9770),i=n(9413),a=n(4512),s=n(9270),c=n(7379),u=n(4066),l="[object Map]",d="[object Promise]",f="[object Set]",h="[object WeakMap]",p="[object DataView]",g=u(r),m=u(o),y=u(i),v=u(a),w=u(s),A=c;(r&&A(new r(new ArrayBuffer(1)))!=p||o&&A(new o)!=l||i&&A(i.resolve())!=d||a&&A(new a)!=f||s&&A(new s)!=h)&&(A=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case g:return p;case m:return l;case y:return d;case v:return f;case w:return h}return t}),e.exports=A},8546:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},8638:(e,t,n)=>{var r=n(4943),o=n(6713),i=n(2443),a=n(3504),s=n(6341),c=n(5196),u=n(7028),l=n(5512),d=n(5620),f=n(7642),h=Math.max;e.exports=function(e,t,n,p,g,m,y,v){var w=2&t;if(!w&&"function"!=typeof e)throw new TypeError("Expected a function");var A=p?p.length:0;if(A||(t&=-97,p=g=void 0),y=void 0===y?y:h(f(y),0),v=void 0===v?v:f(v),A-=g?g.length:0,64&t){var b=p,S=g;p=g=void 0}var E=w?void 0:c(e),x=[e,t,n,p,g,b,S,m,y,v];if(E&&u(x,E),e=x[0],t=x[1],n=x[2],p=x[3],g=x[4],!(v=x[9]=void 0===x[9]?w?0:e.length:h(x[9]-A,0))&&24&t&&(t&=-25),t&&1!=t)T=8==t||16==t?i(e,t,v):32!=t&&33!=t||g.length?a.apply(void 0,x):s(e,t,n,p);else var T=o(e,t,n);return d((E?r:l)(T,x),e,t)}},8666:(e,t,n)=>{var r=n(674),o=n(9460),i=n(2306),a=i&&i.isTypedArray,s=a?o(a):r;e.exports=s},8788:e=>{var t=/\{\n\/\* \[wrapped with (.+)\] \*/,n=/,? & /;e.exports=function(e){var r=e.match(t);return r?r[1].split(n):[]}},8813:e=>{var t="__lodash_placeholder__";e.exports=function(e,n){for(var r=-1,o=e.length,i=0,a=[];++r<o;){var s=e[r];s!==n&&s!==t||(e[r]=t,a[i++]=r)}return a}},8861:(e,t,n)=>{var r=n(5650),o=n(1623),i=n(6285),a=n(3934),s=n(5894),c=n(9828),u=r?r.prototype:void 0,l=u?u.valueOf:void 0;e.exports=function(e,t,n,r,u,d,f){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var p=1&r;if(h||(h=c),e.size!=t.size&&!p)return!1;var g=f.get(e);if(g)return g==t;r|=2,f.set(e,t);var m=a(h(e),h(t),r,u,d,f);return f.delete(e),m;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},8870:(e,t,n)=>{var r=n(5650),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},8880:(e,t,n)=>{var r=n(7923);e.exports=function(e){return function(t){return r(t,e)}}},8898:(e,t,n)=>{var r=n(1623);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},8942:(e,t,n)=>{var r=n(4967),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},9005:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},9011:(e,t,n)=>{var r=n(8250);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},9032:(e,t,n)=>{var r=n(3422),o=n(7073);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var u=t[s],l=i?i(n[u],e[u],u,n,e):void 0;void 0===l&&(l=e[u]),a?o(n,u,l):r(n,u,l)}return n}},9067:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},9068:(e,t,n)=>{var r=n(4700);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},9071:e=>{e.exports=function(){}},9141:e=>{var t=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;e.exports=function(e,n){var r=n.length;if(!r)return e;var o=r-1;return n[o]=(r>1?"& ":"")+n[o],n=n.join(r>2?", ":" "),e.replace(t,"{\n/* [wrapped with "+n+"] */\n")}},9270:(e,t,n)=>{var r=n(4715)(n(8942),"WeakMap");e.exports=r},9306:e=>{e.exports=function(){return[]}},9318:(e,t)=>{t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,c=(1<<s)-1,u=c>>1,l=-7,d=n?o-1:0,f=n?-1:1,h=e[t+d];for(d+=f,i=h&(1<<-l)-1,h>>=-l,l+=s;l>0;i=256*i+e[t+d],d+=f,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+e[t+d],d+=f,l-=8);if(0===i)i=1-u;else{if(i===c)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),i-=u}return(h?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,c,u=8*i-o-1,l=(1<<u)-1,d=l>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+d>=1?f/c:f*Math.pow(2,1-d))*c>=2&&(a++,c/=2),a+d>=l?(s=0,a=l):a+d>=1?(s=(t*c-1)*Math.pow(2,o),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;e[n+h]=255&s,h+=p,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;e[n+h]=255&a,h+=p,a/=256,u-=8);e[n+h-p]|=128*g}},9334:(e,t,n)=>{var r=n(1340),o=n(9968),i=n(3422),a=n(7930),s=n(125),c=n(7099),u=n(4354),l=n(3546),d=n(4733),f=n(393),h=n(3650),p=n(8486),g=n(7350),m=n(424),y=n(5964),v=n(3142),w=n(5853),A=n(7681),b=n(1580),S=n(3943),E=n(1211),x=n(5288),T="[object Arguments]",k="[object Function]",I="[object Object]",_={};_[T]=_["[object Array]"]=_["[object ArrayBuffer]"]=_["[object DataView]"]=_["[object Boolean]"]=_["[object Date]"]=_["[object Float32Array]"]=_["[object Float64Array]"]=_["[object Int8Array]"]=_["[object Int16Array]"]=_["[object Int32Array]"]=_["[object Map]"]=_["[object Number]"]=_[I]=_["[object RegExp]"]=_["[object Set]"]=_["[object String]"]=_["[object Symbol]"]=_["[object Uint8Array]"]=_["[object Uint8ClampedArray]"]=_["[object Uint16Array]"]=_["[object Uint32Array]"]=!0,_["[object Error]"]=_[k]=_["[object WeakMap]"]=!1,e.exports=function e(t,n,C,R,P,O){var N,B=1&n,z=2&n,M=4&n;if(C&&(N=P?C(t,R,P,O):C(t)),void 0!==N)return N;if(!b(t))return t;var j=v(t);if(j){if(N=g(t),!B)return u(t,N)}else{var U=p(t),D=U==k||"[object GeneratorFunction]"==U;if(w(t))return c(t,B);if(U==I||U==T||D&&!P){if(N=z||D?{}:y(t),!B)return z?d(t,s(N,t)):l(t,a(N,t))}else{if(!_[U])return P?t:{};N=m(t,U,B)}}O||(O=new r);var L=O.get(t);if(L)return L;O.set(t,N),S(t)?t.forEach((function(r){N.add(e(r,n,C,r,t,O))})):A(t)&&t.forEach((function(r,o){N.set(o,e(r,n,C,o,t,O))}));var $=j?void 0:(M?z?h:f:z?x:E)(t);return o($||t,(function(r,o){$&&(r=t[o=r]),i(N,o,e(r,n,C,o,t,O))})),N}},9361:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},9413:(e,t,n)=>{var r=n(4715)(n(8942),"Promise");e.exports=r},9454:e=>{e.exports=function(e){return e!=e}},9460:e=>{e.exports=function(e){return function(t){return e(t)}}},9624:(e,t,n)=>{var r=n(3655),o=n(4759),i=n(1580),a=n(4066),s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,d=u.hasOwnProperty,f=RegExp("^"+l.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?f:s).test(a(e))}},9632:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},9747:(e,t,n)=>{var r=n(1580),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},9753:(e,t,n)=>{var r=n(5098),o=n(1386),i=n(9770);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},9756:(e,t,n)=>{var r=n(2478);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},9770:(e,t,n)=>{var r=n(4715)(n(8942),"Map");e.exports=r},9828:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},9847:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}},9968:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var r={};(()=>{"use strict";n.r(r),n.d(r,{onAssetHistoricalPrice:()=>xx,onAssetsConversion:()=>Sx,onAssetsLookup:()=>bx,onAssetsMarketData:()=>Px,onClientRequest:()=>Tx,onCronjob:()=>Ax,onInstall:()=>Cx,onKeyringRequest:()=>vx,onNameLookup:()=>Rx,onProtocolRequest:()=>Ex,onRpcRequest:()=>yx,onStart:()=>Ix,onUpdate:()=>_x,onUserInput:()=>wx,onWebSocketEvent:()=>kx});var e=function(){return e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},e.apply(this,arguments)},t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";(()=>{const e=Array(256).fill(-1);for(let n=0;n<58;++n)e[t.charCodeAt(n)]=n})();var o,i,a=e=>{if(!e||"string"!=typeof e)throw new Error(`Expected base58 string but got “${e}”`);if(e.match(/[IOl0]/gmu))throw new Error(`Invalid base58 character “${e.match(/[IOl0]/gmu)}”`);const n=e.match(/^1+/gmu),r=n?n[0].length:0,o=(e.length-r)*(Math.log(58)/Math.log(256))+1>>>0;return new Uint8Array([...new Uint8Array(r),...e.match(/.{1}/gmu).map((e=>t.indexOf(e))).reduce(((e,t)=>e.map((e=>{const n=58*e+t;return t=n>>8,n}))),new Uint8Array(o)).reverse().filter((i=!1,e=>i=i||e))]);var i},s=(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.bech32m=t.bech32=void 0;const n="qpzry9x8gf2tvdw0s3jn54khce6mua7l",r={};for(let e=0;e<32;e++){const t=n.charAt(e);r[t]=e}function o(e){const t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function i(e){let t=1;for(let n=0;n<e.length;++n){const r=e.charCodeAt(n);if(r<33||r>126)return"Invalid prefix ("+e+")";t=o(t)^r>>5}t=o(t);for(let n=0;n<e.length;++n){const r=e.charCodeAt(n);t=o(t)^31&r}return t}function a(e,t,n,r){let o=0,i=0;const a=(1<<n)-1,s=[];for(let r=0;r<e.length;++r)for(o=o<<t|e[r],i+=t;i>=n;)i-=n,s.push(o>>i&a);if(r)i>0&&s.push(o<<n-i&a);else{if(i>=t)return"Excess padding";if(o<<n-i&a)return"Non-zero padding"}return s}function s(e){return a(e,8,5,!0)}function c(e){const t=a(e,5,8,!1);if(Array.isArray(t))return t}function u(e){const t=a(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}function l(e){let t;function a(e,n){if(n=n||90,e.length<8)return e+" too short";if(e.length>n)return"Exceeds length limit";const a=e.toLowerCase(),s=e.toUpperCase();if(e!==a&&e!==s)return"Mixed-case string "+e;const c=(e=a).lastIndexOf("1");if(-1===c)return"No separator character for "+e;if(0===c)return"Missing prefix for "+e;const u=e.slice(0,c),l=e.slice(c+1);if(l.length<6)return"Data too short";let d=i(u);if("string"==typeof d)return d;const f=[];for(let e=0;e<l.length;++e){const t=l.charAt(e),n=r[t];if(void 0===n)return"Unknown character "+t;d=o(d)^n,e+6>=l.length||f.push(n)}return d!==t?"Invalid checksum for "+e:{prefix:u,words:f}}return t="bech32"===e?1:734539939,{decodeUnsafe:function(e,t){const n=a(e,t);if("object"==typeof n)return n},decode:function(e,t){const n=a(e,t);if("object"==typeof n)return n;throw new Error(n)},encode:function(e,r,a){if(a=a||90,e.length+7+r.length>a)throw new TypeError("Exceeds length limit");let s=i(e=e.toLowerCase());if("string"==typeof s)throw new Error(s);let c=e+"1";for(let e=0;e<r.length;++e){const t=r[e];if(t>>5!=0)throw new Error("Non 5-bit word");s=o(s)^t,c+=n.charAt(t)}for(let e=0;e<6;++e)s=o(s);s^=t;for(let e=0;e<6;++e)c+=n.charAt(s>>5*(5-e)&31);return c},toWords:s,fromWordsUnsafe:c,fromWords:u}}t.bech32=l("bech32"),t.bech32m=l("bech32m")}(o={exports:{}},o.exports),o.exports);(i=s)&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")&&i.default;var c=s.bech32m,u=s.bech32;const l=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998];class d{constructor(){this.A=1779033703,this.B=-1150833019,this.C=1013904242,this.D=-1521486534,this.E=1359893119,this.F=-1694144372,this.G=528734635,this.H=1541459225,this._size=0,this._sp=0,(!h||p>=8e3)&&(h=new ArrayBuffer(8e3),p=0),this._byte=new Uint8Array(h,p,80),this._word=new Int32Array(h,p,20),p+=80}update(e){if("string"==typeof e)return this._utf8(e);if(null==e)throw new TypeError("Invalid type: "+typeof e);const t=e.byteOffset,n=e.byteLength;let r=n/64|0,o=0;if(r&&!(3&t)&&!(this._size%64)){const n=new Int32Array(e.buffer,t,16*r);for(;r--;)this._int32(n,o>>2),o+=64;this._size+=o}if(1!==e.BYTES_PER_ELEMENT&&e.buffer){const r=new Uint8Array(e.buffer,t+o,n-o);return this._uint8(r)}return o===n?this:this._uint8(e,o)}_uint8(e,t){const{_byte:n,_word:r}=this,o=e.length;for(t|=0;t<o;){const i=this._size%64;let a=i;for(;t<o&&a<64;)n[a++]=e[t++];a>=64&&this._int32(r),this._size+=a-i}return this}_utf8(e){const{_byte:t,_word:n}=this,r=e.length;let o=this._sp;for(let i=0;i<r;){const a=this._size%64;let s=a;for(;i<r&&s<64;){let n=0|e.charCodeAt(i++);n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|63&n):n<55296||n>57343?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|63&n):o?(n=((1023&o)<<10)+(1023&n)+65536,t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|63&n,o=0):o=n}s>=64&&(this._int32(n),n[0]=n[16]),this._size+=s-a}return this._sp=o,this}_int32(e,t){let{A:n,B:r,C:o,D:i,E:a,F:s,G:c,H:u}=this,d=0;for(t|=0;d<16;)f[d++]=m(e[t++]);for(d=16;d<64;d++)f[d]=S(f[d-2])+f[d-7]+b(f[d-15])+f[d-16]|0;for(d=0;d<64;d++){const e=u+A(a)+y(a,s,c)+l[d]+f[d]|0,t=w(n)+v(n,r,o)|0;u=c,c=s,s=a,a=i+e|0,i=o,o=r,r=n,n=e+t|0}this.A=n+this.A|0,this.B=r+this.B|0,this.C=o+this.C|0,this.D=i+this.D|0,this.E=a+this.E|0,this.F=s+this.F|0,this.G=c+this.G|0,this.H=u+this.H|0}digest(e){const{_byte:t,_word:n}=this;let r=this._size%64|0;for(t[r++]=128;3&r;)t[r++]=0;if(r>>=2,r>14){for(;r<16;)n[r++]=0;r=0,this._int32(n)}for(;r<16;)n[r++]=0;const o=8*this._size,i=(4294967295&o)>>>0,a=(o-i)/4294967296;return a&&(n[14]=m(a)),i&&(n[15]=m(i)),this._int32(n),"hex"===e?this._hex():this._bin()}_hex(){const{A:e,B:t,C:n,D:r,E:o,F:i,G:a,H:s}=this;return g(e)+g(t)+g(n)+g(r)+g(o)+g(i)+g(a)+g(s)}_bin(){const{A:e,B:t,C:n,D:r,E:o,F:i,G:a,H:s,_byte:c,_word:u}=this;return u[0]=m(e),u[1]=m(t),u[2]=m(n),u[3]=m(r),u[4]=m(o),u[5]=m(i),u[6]=m(a),u[7]=m(s),c.slice(0,32)}}const f=new Int32Array(64);let h,p=0;const g=e=>(e+4294967296).toString(16).substr(-8),m=254===new Uint8Array(new Uint16Array([65279]).buffer)[0]?e=>e:e=>e<<24&4278190080|e<<8&16711680|e>>8&65280|e>>24&255,y=(e,t,n)=>n^e&(t^n),v=(e,t,n)=>e&t|n&(e|t),w=e=>(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),A=e=>(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7),b=e=>(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3,S=e=>(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10;var E,x,T=function(e){return(new d).update(e).digest()};!function(e){e.mainnet="mainnet",e.testnet="testnet",e.regtest="regtest"}(E||(E={})),function(e){e.p2pkh="p2pkh",e.p2sh="p2sh",e.p2wpkh="p2wpkh",e.p2wsh="p2wsh",e.p2tr="p2tr"}(x||(x={}));var k={0:{type:x.p2pkh,network:E.mainnet},111:{type:x.p2pkh,network:E.testnet},5:{type:x.p2sh,network:E.mainnet},196:{type:x.p2sh,network:E.testnet}},I=function(t){var n,r=t.substr(0,2).toLowerCase();if("bc"===r||"tb"===r)return function(e){var t;try{t=e.startsWith("bc1p")||e.startsWith("tb1p")||e.startsWith("bcrt1p")?c.decode(e):u.decode(e)}catch(e){throw new Error("Invalid address")}var n={bc:E.mainnet,tb:E.testnet,bcrt:E.regtest}[t.prefix];if(void 0===n)throw new Error("Invalid address");var r=t.words[0];if(r<0||r>16)throw new Error("Invalid address");return{bech32:!0,network:n,address:e,type:20===u.fromWords(t.words.slice(1)).length?x.p2wpkh:1===r?x.p2tr:x.p2wsh}}(t);try{n=a(t)}catch(e){throw new Error("Invalid address")}var o=n.length;if(25!==o)throw new Error("Invalid address");var i=n[0],s=n.slice(o-4,o),l=n.slice(0,o-4),d=T(T(l)).slice(0,4);if(s.some((function(e,t){return e!==d[t]})))throw new Error("Invalid address");if(!Object.keys(k).map(Number).includes(i))throw new Error("Invalid address");return e(e({},k[i]),{address:t,bech32:!1})};class _ extends TypeError{constructor(e,t){let n;const{message:r,explanation:o,...i}=e,{path:a}=e,s=0===a.length?r:`At path: ${a.join(".")} -- ${r}`;super(o??s),null!=o&&(this.cause=s),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}}function C(e){return"object"==typeof e&&null!==e}function R(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function P(e,t,n,r){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:o,branch:i}=t,{type:a}=n,{refinement:s,message:c=`Expected a value of type \`${a}\`${s?` with refinement \`${s}\``:""}, but received: \`${R(r)}\``}=e;return{value:r,type:a,refinement:s,key:o[o.length-1],path:o,branch:i,...e,message:c}}function*O(e,t,n,r){(function(e){return C(e)&&"function"==typeof e[Symbol.iterator]})(e)||(e=[e]);for(const o of e){const e=P(o,t,n,r);e&&(yield e)}}function*N(e,t,n={}){const{path:r=[],branch:o=[e],coerce:i=!1,mask:a=!1}=n,s={path:r,branch:o};if(i&&(e=t.coercer(e,s),a&&"type"!==t.type&&C(t.schema)&&C(e)&&!Array.isArray(e)))for(const n in e)void 0===t.schema[n]&&delete e[n];let c="valid";for(const r of t.validator(e,s))r.explanation=n.message,c="not_valid",yield[r,void 0];for(let[u,l,d]of t.entries(e,s)){const t=N(l,d,{path:void 0===u?r:[...r,u],branch:void 0===u?o:[...o,l],coerce:i,mask:a,message:n.message});for(const n of t)n[0]?(c=null===n[0].refinement||void 0===n[0].refinement?"not_valid":"not_refined",yield[n[0],void 0]):i&&(l=n[1],void 0===u?e=l:e instanceof Map?e.set(u,l):e instanceof Set?e.add(l):C(e)&&(void 0!==l||u in e)&&(e[u]=l))}if("not_valid"!==c)for(const r of t.refiner(e,s))r.explanation=n.message,c="not_refined",yield[r,void 0];"valid"===c&&(yield[void 0,e])}class B{constructor(e){const{type:t,schema:n,validator:r,refiner:o,coercer:i=(e=>e),entries:a=function*(){}}=e;this.type=t,this.schema=n,this.entries=a,this.coercer=i,this.validator=r?(e,t)=>O(r(e,t),t,this,e):()=>[],this.refiner=o?(e,t)=>O(o(e,t),t,this,e):()=>[]}assert(e,t){return z(e,this,t)}create(e,t){return M(e,this,t)}is(e){return j(e,this)}mask(e,t){return function(e,t,n){const r=U(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}(e,this,t)}validate(e,t={}){return U(e,this,t)}}function z(e,t,n){const r=U(e,t,{message:n});if(r[0])throw r[0]}function M(e,t,n){const r=U(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function j(e,t){return!U(e,t)[0]}function U(e,t,n={}){const r=N(e,t,n),o=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(r);if(o[0]){return[new _(o[0],(function*(){for(const e of r)e[0]&&(yield e[0])})),void 0]}return[void 0,o[1]]}function D(e,t){return new B({type:e,schema:null,validator:t})}function L(e,t){return D(e,(e=>"string"==typeof e&&t.test(e)))}const $=L("UuidV4",/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/iu),F=$,q=D("Url",(e=>{try{const t=new URL(e);return"http:"===t.protocol||"https:"===t.protocol}catch{return!1}})),W=L("StringNumber",/^\d+(\.\d+)?$/u);function V(){return D("any",(()=>!0))}function K(e){return new B({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${R(e)}`})}function G(){return D("boolean",(e=>"boolean"==typeof e))}function H(e){const t={},n=e.map((e=>R(e))).join();for(const n of e)t[n]=n;return new B({type:"enums",schema:t,validator:t=>e.includes(t)||`Expected one of \`${n}\`, but received: ${R(t)}`})}function J(){return D("integer",(e=>"number"==typeof e&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${R(e)}`))}function Z(e){const t=R(e),n=typeof e;return new B({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?e:null,validator:n=>n===e||`Expected the literal \`${t}\`, but received: ${R(n)}`})}function Y(){return D("never",(()=>!1))}function X(e){return new B({...e,validator:(t,n)=>null===t||e.validator(t,n),refiner:(t,n)=>null===t||e.refiner(t,n)})}function Q(){return D("number",(e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${R(e)}`))}function ee(e){const t=e?Object.keys(e):[],n=Y();return new B({type:"object",schema:e??null,*entries(r){if(e&&C(r)){const o=new Set(Object.keys(r));for(const n of t)o.delete(n),yield[n,r[n],e[n]];for(const e of o)yield[e,r[e],n]}},validator:e=>C(e)||`Expected an object, but received: ${R(e)}`,coercer:e=>C(e)?{...e}:e})}function te(e){return new B({...e,validator:(t,n)=>void 0===t||e.validator(t,n),refiner:(t,n)=>void 0===t||e.refiner(t,n)})}function ne(e,t){return new B({type:"record",schema:null,*entries(n){if(C(n))for(const r in n){const o=n[r];yield[r,r,e],yield[r,o,t]}},validator:e=>C(e)||`Expected an object, but received: ${R(e)}`})}function re(){return D("string",(e=>"string"==typeof e||`Expected a string, but received: ${R(e)}`))}function oe(e){const t=Y();return new B({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(e.length,n.length);for(let o=0;o<r;o++)yield[o,n[o],e[o]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${R(e)}`})}function ie(e){const t=Object.keys(e);return new B({type:"type",schema:e,*entries(n){if(C(n))for(const r of t)yield[r,n[r],e[r]]},validator:e=>C(e)||`Expected an object, but received: ${R(e)}`,coercer:e=>C(e)?{...e}:e})}function ae(e){const t=e.map((e=>e.type)).join(" | ");return new B({type:"union",schema:null,coercer(t){for(const n of e){const[e,r]=n.validate(t,{coerce:!0});if(!e)return r}return t},validator(n,r){const o=[];for(const t of e){const[...e]=N(n,t,r),[i]=e;if(!i?.[0])return[];for(const[t]of e)t&&o.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${R(n)}`,...o]}})}function se(){return D("unknown",(()=>!0))}function ce(e){return ee(e)}function ue(e){return e.path[e.path.length-1]in e.branch[e.branch.length-2]}function le(e){return new B({...e,validator:(t,n)=>!ue(n)||e.validator(t,n),refiner:(t,n)=>!ue(n)||e.refiner(t,n)})}function de(e,t,n){return new B({...e,coercer:(r,o)=>j(r,t)?e.coercer(n(r,o),o):e.coercer(r,o)})}function fe(e){return e instanceof Map||e instanceof Set?e.size:e.length}function he(e,t,n={}){const{exclusive:r}=n;return me(e,"min",(n=>r?n>t:n>=t||`Expected a ${e.type} greater than ${r?"":"or equal to "}${t} but received \`${n}\``))}function pe(e){return me(e,"nonempty",(t=>fe(t)>0||`Expected a nonempty ${e.type} but received an empty one`))}function ge(e,t){return me(e,"pattern",(n=>t.test(n)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${n}"`))}function me(e,t,n){return new B({...e,*refiner(r,o){yield*e.refiner(r,o);const i=O(n(r,o),o,e,r);for(const e of i)yield{...e,refinement:t}}})}const ye=(e,t)=>Object.hasOwnProperty.call(e,t);var ve;!function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(ve=ve||(ve={}));const we=e=>ee(e);function Ae({path:e,branch:t}){const n=e[e.length-1];return ye(t[t.length-2],n)}function be(e){return new B({...e,type:`optional ${e.type}`,validator:(t,n)=>!Ae(n)||e.validator(t,n),refiner:(t,n)=>!Ae(n)||e.refiner(t,n)})}function Se(e){if(null===e||"boolean"==typeof e||"string"==typeof e)return!0;if("number"==typeof e&&Number.isFinite(e))return!0;if("object"==typeof e){let t=!0;if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(!Se(e[n])){t=!1;break}return t}const n=Object.entries(e);for(let e=0;e<n.length;e++)if("string"!=typeof n[e][0]||!Se(n[e][1])){t=!1;break}return t}return!1}const Ee=D("JSON",(e=>Se(e))),xe=de(Ee,me(V(),"JSON",(e=>j(e,Ee))),(e=>JSON.parse(JSON.stringify(e,((e,t)=>{if("__proto__"!==e&&"constructor"!==e)return t})))));const Te=Z("2.0"),ke=X(ae([Q(),re()])),Ie=we({code:J(),message:re(),data:be(xe),stack:be(re())}),_e=ae([ne(re(),xe),K(xe)]);we({id:ke,jsonrpc:Te,method:re(),params:be(_e)}),we({jsonrpc:Te,method:re(),params:be(_e)});ee({id:ke,jsonrpc:Te,result:te(se()),error:te(Ie)});const Ce=we({id:ke,jsonrpc:Te,result:xe}),Re=we({id:ke,jsonrpc:Te,error:Ie});ae([Ce,Re]);const Pe=ce({jsonrpc:Z("2.0"),id:ae([re(),Q(),Z(null)]),method:re(),params:le(ae([K(xe),ne(re(),xe)]))});const Oe=(e,t)=>Object.hasOwnProperty.call(e,t);var Ne;!function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(Ne=Ne||(Ne={}));const Be=e=>ee(e);function ze({path:e,branch:t}){const n=e[e.length-1];return Oe(t[t.length-2],n)}function Me(e){return new B({...e,type:`optional ${e.type}`,validator:(t,n)=>!ze(n)||e.validator(t,n),refiner:(t,n)=>!ze(n)||e.refiner(t,n)})}function je(e){if(null===e||"boolean"==typeof e||"string"==typeof e)return!0;if("number"==typeof e&&Number.isFinite(e))return!0;if("object"==typeof e){let t=!0;if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(!je(e[n])){t=!1;break}return t}const n=Object.entries(e);for(let e=0;e<n.length;e++)if("string"!=typeof n[e][0]||!je(n[e][1])){t=!1;break}return t}return!1}const Ue=D("JSON",(e=>je(e))),De=de(Ue,me(V(),"JSON",(e=>j(e,Ue))),(e=>JSON.parse(JSON.stringify(e,((e,t)=>{if("__proto__"!==e&&"constructor"!==e)return t})))));const Le=Z("2.0"),$e=X(ae([Q(),re()])),Fe=Be({code:J(),message:re(),data:Me(De),stack:Me(re())}),qe=ae([ne(re(),De),K(De)]);Be({id:$e,jsonrpc:Le,method:re(),params:Me(qe)}),Be({jsonrpc:Le,method:re(),params:Me(qe)});ee({id:$e,jsonrpc:Le,result:te(se()),error:te(Fe)});const We=Be({id:$e,jsonrpc:Le,result:De}),Ve=Be({id:$e,jsonrpc:Le,error:Fe});ae([We,Ve]);function Ke(e,t){return D(e,(e=>"string"==typeof e&&t.test(e)))}const Ge=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$/u,He=/^[-a-z0-9]{3,8}$/u,Je=/^[-_a-zA-Z0-9]{1,32}$/u,Ze=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$/u,Ye=/^[-.%a-zA-Z0-9]{1,128}$/u,Xe=/^[-a-z0-9]{3,8}$/u,Qe=/^[-.%a-zA-Z0-9]{1,128}$/u,et=/^[-.%a-zA-Z0-9]{1,78}$/u,tt=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})$/u,nt=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})\/(?<tokenId>[-.%a-zA-Z0-9]{1,78})$/u,rt=Ke("CaipChainId",Ge),ot=(Ke("CaipNamespace",He),Ke("CaipReference",Je),Ke("CaipAccountId",Ze)),it=(Ke("CaipAccountAddress",Ye),Ke("CaipAssetNamespace",Xe),Ke("CaipAssetReference",Qe),Ke("CaipTokenId",et),Ke("CaipAssetType",tt)),at=Ke("CaipAssetId",nt),st=Ke("CaipAssetTypeOrId",/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})(\/(?<tokenId>[-.%a-zA-Z0-9]{1,78}))?$/u);var ct,ut,lt,dt;!function(e){e.Bip122="bip122",e.Solana="solana",e.Eip155="eip155",e.Wallet="wallet"}(ct=ct||(ct={})),function(e){e.Eoa="eip155:eoa",e.Erc4337="eip155:erc4337"}(ut||(ut={})),function(e){e.P2pkh="bip122:p2pkh",e.P2sh="bip122:p2sh",e.P2wpkh="bip122:p2wpkh",e.P2tr="bip122:p2tr"}(lt||(lt={})),function(e){e.DataAccount="solana:data-account"}(dt||(dt={}));const ft=ce({id:F,type:H([`${ut.Eoa}`,`${ut.Erc4337}`,`${lt.P2pkh}`,`${lt.P2sh}`,`${lt.P2wpkh}`,`${lt.P2tr}`,`${dt.DataAccount}`]),address:re(),scopes:pe(K(rt)),options:ne(re(),De),methods:K(re())}),ht=(ee({address:ot}),ce({unit:re(),amount:W})),pt=ce({fungible:Z(!0),type:it,...ht.schema}),gt=ce({fungible:Z(!1),id:at}),mt=(yt=e=>function(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}}(e)&&!e.fungible?gt:pt,new B({type:"union",schema:null,*entries(e,t){yield*yt(e).entries(e,t)},*refiner(e,t){yield*yt(e).refiner(e,t)},coercer:(e,t)=>yt(e).coercer(e,t),validator:(e,t)=>yt(e).validator(e,t)}));var yt;const vt=ce({amount:W,unit:re()}),wt=Ke("DerivationPath",/^m(?:\/\d+'?)+$/u);var At;!function(e){e.Bip44="bip44"}(At||(At={}));const bt=ee({type:Z(`${At.Bip44}`),scopes:K(rt),derivationPath:wt}),St=(ne(re(),De),ce({id:$,scope:re(),account:$,origin:re(),request:ce({method:re(),params:le(ae([K(De),ne(re(),De)]))})})),Et=(ae([ce({pending:Z(!0),redirect:le(ce({message:le(re()),url:le(re())}))}),ce({pending:Z(!1),result:De})]),ce({address:re(),asset:X(mt)}));var xt;!function(e){e.Base="base",e.Priority="priority"}(xt||(xt={}));const Tt=ce({type:H([`${xt.Base}`,`${xt.Priority}`]),asset:mt});var kt,It;!function(e){e.Submitted="submitted",e.Unconfirmed="unconfirmed",e.Confirmed="confirmed",e.Failed="failed"}(kt||(kt={})),function(e){e.Send="send",e.Receive="receive",e.Swap="swap",e.BridgeSend="bridge:send",e.BridgeReceive="bridge:receive",e.Unknown="unknown"}(It||(It={}));const _t=ce({status:H([`${kt.Submitted}`,`${kt.Unconfirmed}`,`${kt.Confirmed}`,`${kt.Failed}`]),timestamp:X(Q())}),Ct=ce({id:re(),chain:rt,account:$,status:H([`${kt.Submitted}`,`${kt.Unconfirmed}`,`${kt.Confirmed}`,`${kt.Failed}`]),timestamp:X(Q()),type:H([`${It.Send}`,`${It.Receive}`,`${It.Swap}`,`${It.BridgeSend}`,`${It.BridgeReceive}`,`${It.Unknown}`]),from:K(Et),to:K(Et),fees:K(Tt),events:K(_t)}),Rt=(ce({data:K(Ct),next:X(re())}),ce({limit:Q(),next:le(X(re()))})),Pt=ce({metamask:le(ce({correlationId:$}))});var Ot;!function(e){e.Mainnet="bip122:000000000019d6689c085ae165831e93",e.Testnet="bip122:000000000933ea01ad0ee984209779ba",e.Testnet4="bip122:00000000da84f2bafbbc53dee25a72ae",e.Signet="bip122:00000008819873e925422c1ff0f99f7c",e.Regtest="bip122:regtest"}(Ot||(Ot={}));const Nt=(e,t)=>{try{return I(e).type===t||new Error(`Invalid ${t} address`)}catch(e){return new Error(`Failed to decode ${t} address: ${e.message}`)}},Bt=me(re(),"BtcP2pkhAddressStruct",(e=>Nt(e,x.p2pkh))),zt=me(re(),"BtcP2shAddressStruct",(e=>Nt(e,x.p2sh))),Mt=me(re(),"BtcP2wpkhAddressStruct",(e=>Nt(e,x.p2wpkh))),jt=me(re(),"BtcP2trAddressStruct",(e=>Nt(e,x.p2tr)));var Ut;!function(e){e.SendBitcoin="sendBitcoin"}(Ut||(Ut={}));const Dt=ce({...ft.schema,scopes:pe(K(rt)),methods:K(H([`${Ut.SendBitcoin}`]))});ce({...Dt.schema,address:Bt,type:Z(`${lt.P2pkh}`)}),ce({...Dt.schema,address:zt,type:Z(`${lt.P2sh}`)}),ce({...Dt.schema,address:Mt,type:Z(`${lt.P2wpkh}`)}),ce({...Dt.schema,address:jt,type:Z(`${lt.P2tr}`)});var Lt;!function(e){e.Devnet="solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",e.Mainnet="solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",e.Testnet="solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"}(Lt||(Lt={}));const $t=Ke("SolAddress",/^[1-9A-HJ-NP-Za-km-z]{32,44}$/iu);var Ft;!function(e){e.SendAndConfirmTransaction="sendAndConfirmTransaction",e.SignAndSendTransaction="signAndSendTransaction",e.SignTransaction="signTransaction",e.SignMessage="signMessage",e.SignIn="signIn"}(Ft||(Ft={}));ce({...ft.schema,address:$t,type:Z(`${dt.DataAccount}`),scopes:pe(K(rt)),methods:K(H(Object.values(Ft)))});var qt;!function(e){e.Eoa="eip155:0",e.Mainnet="eip155:1",e.Testnet="eip155:11155111"}(qt||(qt={}));const Wt=Ke("EthBytes",/^0x[0-9a-f]*$/iu),Vt=Ke("EthAddress",/^0x[0-9a-f]{40}$/iu),Kt=Ke("EthUint256",/^0x([1-9a-f][0-9a-f]*|0)$/iu);var Gt;!function(e){e.PersonalSign="personal_sign",e.Sign="eth_sign",e.SignTransaction="eth_signTransaction",e.SignTypedDataV1="eth_signTypedData_v1",e.SignTypedDataV3="eth_signTypedData_v3",e.SignTypedDataV4="eth_signTypedData_v4",e.PrepareUserOperation="eth_prepareUserOperation",e.PatchUserOperation="eth_patchUserOperation",e.SignUserOperation="eth_signUserOperation"}(Gt||(Gt={}));ce({...ft.schema,address:Vt,type:Z(`${ut.Eoa}`),scopes:pe(K(Z(qt.Eoa))),methods:K(H([`${Gt.PersonalSign}`,`${Gt.Sign}`,`${Gt.SignTransaction}`,`${Gt.SignTypedDataV1}`,`${Gt.SignTypedDataV3}`,`${Gt.SignTypedDataV4}`]))}),ce({...ft.schema,address:Vt,type:Z(`${ut.Erc4337}`),scopes:pe(K(rt)),methods:K(H([`${Gt.PersonalSign}`,`${Gt.Sign}`,`${Gt.SignTypedDataV1}`,`${Gt.SignTypedDataV3}`,`${Gt.SignTypedDataV4}`,`${Gt.PrepareUserOperation}`,`${Gt.PatchUserOperation}`,`${Gt.SignUserOperation}`]))}),ce({sender:Vt,nonce:Kt,initCode:Wt,callData:Wt,callGasLimit:Kt,verificationGasLimit:Kt,preVerificationGas:Kt,maxFeePerGas:Kt,maxPriorityFeePerGas:Kt,paymasterAndData:Wt,signature:Wt}),ce({to:Vt,value:Kt,data:Wt}),ce({nonce:Kt,initCode:Wt,callData:Wt,gasLimits:le(ce({callGasLimit:Kt,verificationGasLimit:Kt,preVerificationGas:Kt})),dummyPaymasterAndData:Wt,dummySignature:Wt,bundlerUrl:q}),ce({paymasterAndData:Wt,callGasLimit:le(Kt),verificationGasLimit:le(Kt),preVerificationGas:le(Kt)});var Ht;!function(e){e.ListAccounts="keyring_listAccounts",e.GetAccount="keyring_getAccount",e.CreateAccount="keyring_createAccount",e.DiscoverAccounts="keyring_discoverAccounts",e.ListAccountAssets="keyring_listAccountAssets",e.ListAccountTransactions="keyring_listAccountTransactions",e.GetAccountBalances="keyring_getAccountBalances",e.ResolveAccountAddress="keyring_resolveAccountAddress",e.FilterAccountChains="keyring_filterAccountChains",e.UpdateAccount="keyring_updateAccount",e.DeleteAccount="keyring_deleteAccount",e.ExportAccount="keyring_exportAccount",e.ListRequests="keyring_listRequests",e.GetRequest="keyring_getRequest",e.SubmitRequest="keyring_submitRequest",e.ApproveRequest="keyring_approveRequest",e.RejectRequest="keyring_rejectRequest"}(Ht||(Ht={}));const Jt={jsonrpc:Z("2.0"),id:ae([re(),Q(),Z(null)])},Zt=ce({...Jt,method:Z("keyring_listAccounts")}),Yt=(K(ft),ce({...Jt,method:Z("keyring_getAccount"),params:ce({id:$})})),Xt=ce({...Jt,method:Z("keyring_createAccount"),params:ce({options:ne(re(),De)})}),Qt=ce({...Jt,method:Z("keyring_discoverAccounts"),params:ce({scopes:K(rt),entropySource:re(),groupIndex:Q()})}),en=(K(bt),ce({...Jt,method:Z("keyring_listAccountTransactions"),params:ce({id:$,pagination:Rt})})),tn=ce({...Jt,method:Z("keyring_listAccountAssets"),params:ce({id:$})}),nn=K(st),rn=ce({...Jt,method:Z(`${Ht.GetAccountBalances}`),params:ce({id:$,assets:K(it)})}),on=(ne(it,vt),ce({...Jt,method:Z("keyring_resolveAccountAddress"),params:ce({scope:rt,request:Pe})})),an=(X(ce({address:ot})),ce({...Jt,method:Z("keyring_filterAccountChains"),params:ce({id:$,chains:K(re())})})),sn=(K(re()),ce({...Jt,method:Z("keyring_updateAccount"),params:ce({account:ft})})),cn=(Z(null),ce({...Jt,method:Z("keyring_deleteAccount"),params:ce({id:$})})),un=(Z(null),ce({...Jt,method:Z("keyring_exportAccount"),params:ce({id:$})})),ln=ce({...Jt,method:Z("keyring_listRequests")}),dn=(K(St),ce({...Jt,method:Z("keyring_getRequest"),params:ce({id:$})})),fn=ce({...Jt,method:Z("keyring_submitRequest"),params:St}),hn=ce({...Jt,method:Z("keyring_approveRequest"),params:ce({id:$,data:ne(re(),De)})}),pn=(Z(null),ce({...Jt,method:Z("keyring_rejectRequest"),params:ce({id:$})}));Z(null);var gn;!function(e){e.AccountCreated="notify:accountCreated",e.AccountUpdated="notify:accountUpdated",e.AccountDeleted="notify:accountDeleted",e.RequestApproved="notify:requestApproved",e.RequestRejected="notify:requestRejected",e.AccountBalancesUpdated="notify:accountBalancesUpdated",e.AccountAssetListUpdated="notify:accountAssetListUpdated",e.AccountTransactionsUpdated="notify:accountTransactionsUpdated"}(gn||(gn={}));ce({method:Z(`${gn.AccountCreated}`),params:ce({account:ft,accountNameSuggestion:le(re()),displayConfirmation:le(G()),displayAccountNameSuggestion:le(G()),...Pt.schema})}),ce({method:Z(`${gn.AccountUpdated}`),params:ce({account:ft})}),ce({method:Z(`${gn.AccountDeleted}`),params:ce({id:$})}),ce({method:Z(`${gn.RequestApproved}`),params:ce({id:$,result:De})}),ce({method:Z(`${gn.RequestRejected}`),params:ce({id:$})}),ce({method:Z(`${gn.AccountBalancesUpdated}`),params:ce({balances:ne(F,ne(it,ht))})}),ce({method:Z(`${gn.AccountTransactionsUpdated}`),params:ce({transactions:ne(F,K(Ct))})}),ce({method:Z(`${gn.AccountAssetListUpdated}`),params:ce({assets:ne(F,ce({added:K(st),removed:K(st)}))})});class mn extends Error{constructor(e){super(`Method not supported: ${e}`)}}async function yn(e,t){try{return await async function(e,t){switch(z(t,Pe),t.method){case`${Ht.ListAccounts}`:return z(t,Zt),e.listAccounts();case`${Ht.GetAccount}`:return z(t,Yt),e.getAccount(t.params.id);case`${Ht.CreateAccount}`:return z(t,Xt),e.createAccount(t.params.options);case`${Ht.DiscoverAccounts}`:if(void 0===e.discoverAccounts)throw new mn(t.method);return z(t,Qt),e.discoverAccounts(t.params.scopes,t.params.entropySource,t.params.groupIndex);case`${Ht.ListAccountTransactions}`:if(void 0===e.listAccountTransactions)throw new mn(t.method);return z(t,en),e.listAccountTransactions(t.params.id,t.params.pagination);case`${Ht.ListAccountAssets}`:if(void 0===e.listAccountAssets)throw new mn(t.method);return z(t,tn),e.listAccountAssets(t.params.id);case`${Ht.GetAccountBalances}`:if(void 0===e.getAccountBalances)throw new mn(t.method);return z(t,rn),e.getAccountBalances(t.params.id,t.params.assets);case`${Ht.ResolveAccountAddress}`:if(void 0===e.resolveAccountAddress)throw new mn(t.method);return z(t,on),e.resolveAccountAddress(t.params.scope,t.params.request);case`${Ht.FilterAccountChains}`:return z(t,an),e.filterAccountChains(t.params.id,t.params.chains);case`${Ht.UpdateAccount}`:return z(t,sn),e.updateAccount(t.params.account);case`${Ht.DeleteAccount}`:return z(t,cn),e.deleteAccount(t.params.id);case`${Ht.ExportAccount}`:if(void 0===e.exportAccount)throw new mn(t.method);return z(t,un),e.exportAccount(t.params.id);case`${Ht.ListRequests}`:if(void 0===e.listRequests)throw new mn(t.method);return z(t,ln),e.listRequests();case`${Ht.GetRequest}`:if(void 0===e.getRequest)throw new mn(t.method);return z(t,dn),e.getRequest(t.params.id);case`${Ht.SubmitRequest}`:return z(t,fn),e.submitRequest(t.params);case`${Ht.ApproveRequest}`:if(void 0===e.approveRequest)throw new mn(t.method);return z(t,hn),e.approveRequest(t.params.id,t.params.data);case`${Ht.RejectRequest}`:if(void 0===e.rejectRequest)throw new mn(t.method);return z(t,pn),e.rejectRequest(t.params.id);default:throw new mn(t.method)}}(e,t)}catch(e){const t=e instanceof Error&&"string"==typeof e.message?e.message:"An unknown error occurred while handling the keyring request";throw new Error(t)}}async function vn(e,t,n){await e.request({method:"snap_manageAccounts",params:{method:t,params:{...n}}})}function wn(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)}const An=(e,t)=>Object.hasOwnProperty.call(e,t);var bn;!function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(bn=bn||(bn={}));var Sn=n(282);const En=e=>ee(e);function xn({path:e,branch:t}){const n=e[e.length-1];return An(t[t.length-2],n)}function Tn(e){return new B({...e,type:`optional ${e.type}`,validator:(t,n)=>!xn(n)||e.validator(t,n),refiner:(t,n)=>!xn(n)||e.refiner(t,n)})}function kn(e){if(null===e||"boolean"==typeof e||"string"==typeof e)return!0;if("number"==typeof e&&Number.isFinite(e))return!0;if("object"==typeof e){let t=!0;if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(!kn(e[n])){t=!1;break}return t}const n=Object.entries(e);for(let e=0;e<n.length;e++)if("string"!=typeof n[e][0]||!kn(n[e][1])){t=!1;break}return t}return!1}const In=D("JSON",(e=>kn(e))),_n=de(In,me(V(),"JSON",(e=>j(e,In))),(e=>JSON.parse(JSON.stringify(e,((e,t)=>{if("__proto__"!==e&&"constructor"!==e)return t})))));function Cn(e){try{return function(e){M(e,_n)}(e),!0}catch{return!1}}const Rn=Z("2.0"),Pn=X(ae([Q(),re()])),On=En({code:J(),message:re(),data:Tn(_n),stack:Tn(re())}),Nn=ae([ne(re(),_n),K(_n)]);En({id:Pn,jsonrpc:Rn,method:re(),params:Tn(Nn)}),En({jsonrpc:Rn,method:re(),params:Tn(Nn)});ee({id:Pn,jsonrpc:Rn,result:te(se()),error:te(On)});const Bn=En({id:Pn,jsonrpc:Rn,result:_n}),zn=En({id:Pn,jsonrpc:Rn,error:On});ae([Bn,zn]);const Mn={invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},jn={userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901},Un={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}},Dn=Mn.internal,Ln="Unspecified error message. This is a bug, please report it.",$n=(Fn(Dn),"Unspecified server error.");function Fn(e,t=Ln){if(function(e){return Number.isInteger(e)}(e)){const t=e.toString();if(An(Un,t))return Un[t].message;if(function(e){return e>=-32099&&e<=-32e3}(e))return $n}return t}function qn(e){return Array.isArray(e)?e.map((e=>Cn(e)?e:wn(e)?Wn(e):null)):wn(e)?Wn(e):Cn(e)?e:null}function Wn(e){return Object.getOwnPropertyNames(e).reduce(((t,n)=>{const r=e[n];return Cn(r)&&(t[n]=r),t}),{})}const Vn=function(e){return e?.__esModule?e.default:e}(Sn);class Kn extends Error{constructor(e,t,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw new Error('"message" must be a non-empty string.');!function(e){return wn(e)&&An(e,"cause")&&wn(e.cause)}(n)?super(t):(super(t,{cause:n.cause}),An(this,"cause")||Object.assign(this,{cause:n.cause})),void 0!==n&&(this.data=n),this.code=e}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data,function(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}}(this.data)&&(e.data.cause=qn(this.data.cause))),this.stack&&(e.stack=this.stack),e}toString(){return Vn(this.serialize(),Hn,2)}}class Gn extends Kn{constructor(e,t,n){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,n)}}function Hn(e,t){if("[Circular]"!==t)return t}const Jn=e=>dr(Mn.parse,e),Zn=e=>dr(Mn.invalidRequest,e),Yn=e=>dr(Mn.invalidParams,e),Xn=e=>dr(Mn.methodNotFound,e),Qn=e=>dr(Mn.internal,e),er=e=>dr(Mn.invalidInput,e),tr=e=>dr(Mn.resourceNotFound,e),nr=e=>dr(Mn.resourceUnavailable,e),rr=e=>dr(Mn.transactionRejected,e),or=e=>dr(Mn.methodNotSupported,e),ir=e=>dr(Mn.limitExceeded,e),ar=e=>fr(jn.userRejectedRequest,e),sr=e=>fr(jn.unauthorized,e),cr=e=>fr(jn.unsupportedMethod,e),ur=e=>fr(jn.disconnected,e),lr=e=>fr(jn.chainDisconnected,e);function dr(e,t){const[n,r]=hr(t);return new Kn(e,n??Fn(e),r)}function fr(e,t){const[n,r]=hr(t);return new Gn(e,n??Fn(e),r)}function hr(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){const{message:t,data:n}=e;if(t&&"string"!=typeof t)throw new Error("Must specify string message.");return[t??void 0,n]}}return[]}const pr=(e,t)=>Object.hasOwnProperty.call(e,t);var gr;!function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(gr=gr||(gr={}));class mr extends TypeError{constructor(e,t){let n;const{message:r,explanation:o,...i}=e,{path:a}=e,s=0===a.length?r:`At path: ${a.join(".")} -- ${r}`;super(o??s),null!=o&&(this.cause=s),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}}function yr(e){return"object"==typeof e&&null!==e}function vr(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function wr(e,t,n,r){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:o,branch:i}=t,{type:a}=n,{refinement:s,message:c=`Expected a value of type \`${a}\`${s?` with refinement \`${s}\``:""}, but received: \`${vr(r)}\``}=e;return{value:r,type:a,refinement:s,key:o[o.length-1],path:o,branch:i,...e,message:c}}function*Ar(e,t,n,r){(function(e){return yr(e)&&"function"==typeof e[Symbol.iterator]})(e)||(e=[e]);for(const o of e){const e=wr(o,t,n,r);e&&(yield e)}}function*br(e,t,n={}){const{path:r=[],branch:o=[e],coerce:i=!1,mask:a=!1}=n,s={path:r,branch:o};if(i&&(e=t.coercer(e,s),a&&"type"!==t.type&&yr(t.schema)&&yr(e)&&!Array.isArray(e)))for(const n in e)void 0===t.schema[n]&&delete e[n];let c="valid";for(const r of t.validator(e,s))r.explanation=n.message,c="not_valid",yield[r,void 0];for(let[u,l,d]of t.entries(e,s)){const t=br(l,d,{path:void 0===u?r:[...r,u],branch:void 0===u?o:[...o,l],coerce:i,mask:a,message:n.message});for(const n of t)n[0]?(c=null===n[0].refinement||void 0===n[0].refinement?"not_valid":"not_refined",yield[n[0],void 0]):i&&(l=n[1],void 0===u?e=l:e instanceof Map?e.set(u,l):e instanceof Set?e.add(l):yr(e)&&(void 0!==l||u in e)&&(e[u]=l))}if("not_valid"!==c)for(const r of t.refiner(e,s))r.explanation=n.message,c="not_refined",yield[r,void 0];"valid"===c&&(yield[void 0,e])}class Sr{constructor(e){const{type:t,schema:n,validator:r,refiner:o,coercer:i=(e=>e),entries:a=function*(){}}=e;this.type=t,this.schema=n,this.entries=a,this.coercer=i,this.validator=r?(e,t)=>Ar(r(e,t),t,this,e):()=>[],this.refiner=o?(e,t)=>Ar(o(e,t),t,this,e):()=>[]}assert(e,t){return Er(e,this,t)}create(e,t){return xr(e,this,t)}is(e){return Tr(e,this)}mask(e,t){return function(e,t,n){const r=kr(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}(e,this,t)}validate(e,t={}){return kr(e,this,t)}}function Er(e,t,n){const r=kr(e,t,{message:n});if(r[0])throw r[0]}function xr(e,t,n){const r=kr(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function Tr(e,t){return!kr(e,t)[0]}function kr(e,t,n={}){const r=br(e,t,n),o=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(r);if(o[0]){return[new mr(o[0],(function*(){for(const e of r)e[0]&&(yield e[0])})),void 0]}return[void 0,o[1]]}function Ir(e,t){return new Sr({type:e,schema:null,validator:t})}function _r(){return Ir("never",(()=>!1))}function Cr(e){const t=e?Object.keys(e):[],n=_r();return new Sr({type:"object",schema:e??null,*entries(r){if(e&&yr(r)){const o=new Set(Object.keys(r));for(const n of t)o.delete(n),yield[n,r[n],e[n]];for(const e of o)yield[e,r[e],n]}},validator:e=>yr(e)||`Expected an object, but received: ${vr(e)}`,coercer:e=>yr(e)?{...e}:e})}function Rr(e){return new Sr({...e,validator:(t,n)=>void 0===t||e.validator(t,n),refiner:(t,n)=>void 0===t||e.refiner(t,n)})}function Pr(){return Ir("string",(e=>"string"==typeof e||`Expected a string, but received: ${vr(e)}`))}function Or(e){const t=e.map((e=>e.type)).join(" | ");return new Sr({type:"union",schema:null,coercer(t){for(const n of e){const[e,r]=n.validate(t,{coerce:!0});if(!e)return r}return t},validator(n,r){const o=[];for(const t of e){const[...e]=br(n,t,r),[i]=e;if(!i?.[0])return[];for(const[t]of e)t&&o.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${vr(n)}`,...o]}})}function Nr(e,t,n){return new Sr({...e,coercer:(r,o)=>Tr(r,t)?e.coercer(n(r,o),o):e.coercer(r,o)})}function Br(e,t,n){return new Sr({...e,*refiner(r,o){yield*e.refiner(r,o);const i=Ar(n(r,o),o,e,r);for(const e of i)yield{...e,refinement:t}}})}const zr=e=>Cr(e);function Mr({path:e,branch:t}){const n=e[e.length-1];return pr(t[t.length-2],n)}function jr(e){return new Sr({...e,type:`optional ${e.type}`,validator:(t,n)=>!Mr(n)||e.validator(t,n),refiner:(t,n)=>!Mr(n)||e.refiner(t,n)})}function Ur(e){if(null===e||"boolean"==typeof e||"string"==typeof e)return!0;if("number"==typeof e&&Number.isFinite(e))return!0;if("object"==typeof e){let t=!0;if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(!Ur(e[n])){t=!1;break}return t}const n=Object.entries(e);for(let e=0;e<n.length;e++)if("string"!=typeof n[e][0]||!Ur(n[e][1])){t=!1;break}return t}return!1}const Dr=Ir("JSON",(e=>Ur(e))),Lr=Nr(Dr,Br(Ir("any",(()=>!0)),"JSON",(e=>Tr(e,Dr))),(e=>JSON.parse(JSON.stringify(e,((e,t)=>{if("__proto__"!==e&&"constructor"!==e)return t})))));function $r(e){try{return function(e){xr(e,Lr)}(e),!0}catch{return!1}}const Fr=function(e){const t=vr(e),n=typeof e;return new Sr({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?e:null,validator:n=>n===e||`Expected the literal \`${t}\`, but received: ${vr(n)}`})}("2.0"),qr=(Wr=Or([Ir("number",(e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${vr(e)}`)),Pr()]),new Sr({...Wr,validator:(e,t)=>null===e||Wr.validator(e,t),refiner:(e,t)=>null===e||Wr.refiner(e,t)}));var Wr;const Vr=zr({code:Ir("integer",(e=>"number"==typeof e&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${vr(e)}`)),message:Pr(),data:jr(Lr),stack:jr(Pr())}),Kr=Or([function(e,t){return new Sr({type:"record",schema:null,*entries(n){if(yr(n))for(const r in n){const o=n[r];yield[r,r,e],yield[r,o,t]}},validator:e=>yr(e)||`Expected an object, but received: ${vr(e)}`})}(Pr(),Lr),(Gr=Lr,new Sr({type:"array",schema:Gr,*entries(e){if(Gr&&Array.isArray(e))for(const[t,n]of e.entries())yield[t,n,Gr]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${vr(e)}`}))]);var Gr;zr({id:qr,jsonrpc:Fr,method:Pr(),params:jr(Kr)}),zr({jsonrpc:Fr,method:Pr(),params:jr(Kr)});Cr({id:qr,jsonrpc:Fr,result:Rr(Ir("unknown",(()=>!0))),error:Rr(Vr)});const Hr=zr({id:qr,jsonrpc:Fr,result:Lr}),Jr=zr({id:qr,jsonrpc:Fr,error:Vr});Or([Hr,Jr]);function Zr(e,t,n=null){return r=e,Boolean(r)&&"object"==typeof r&&!Array.isArray(r)&&pr(e,t)?e[t]:n;var r}function Yr(e,t,n=String(e)){const r=Zr(e,t);return"string"==typeof r?r:n}function Xr(e){const t=Zr(e,"data");return null!==t&&$r(t)&&!Array.isArray(t)?t:{}}class Qr extends Error{#e;#t;#n;#r;constructor(e,t={}){const n=function(e){return Yr(e,"message")}(e);super(n),this.#t=n,this.#e=function(e){const t=Zr(e,"code");return"number"==typeof t&&Number.isInteger(t)?t:-32603}(e);const r={...Xr(e),...t};Object.keys(r).length>0&&(this.#n=r),this.#r=super.stack}get name(){return"SnapError"}get code(){return this.#e}get message(){return this.#t}get data(){return this.#n}get stack(){return this.#r}toJSON(){return{code:-31002,message:"Snap Error",data:{cause:{code:this.code,message:this.message,stack:this.stack,...this.data?{data:this.data}:{}}}}}serialize(){return this.toJSON()}}function eo(e){return class extends Qr{constructor(t,n){if("object"==typeof t){const n=e();return void super({code:n.code,message:n.message,data:t})}const r=e(t);super({code:r.code,message:r.message,data:n})}}}const to=eo(Qn),no=eo(er),ro=eo(Yn),oo=eo(Zn),io=eo(ir),ao=eo(Xn),so=eo(or),co=eo(Jn),uo=eo(tr),lo=eo(nr),fo=eo(rr),ho=eo(lr),po=eo(ur),go=eo(sr),mo=eo(cr),yo=eo(ar);var vo=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,wo=Math.ceil,Ao=Math.floor,bo="[BigNumber Error] ",So=bo+"Number primitive has more than 15 significant digits: ",Eo=1e14,xo=14,To=9007199254740991,ko=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Io=1e7,_o=1e9;function Co(e){var t=0|e;return e>0||e===t?t:t-1}function Ro(e){for(var t,n,r=1,o=e.length,i=e[0]+"";r<o;){for(t=e[r++]+"",n=xo-t.length;n--;t="0"+t);i+=t}for(o=i.length;48===i.charCodeAt(--o););return i.slice(0,o+1||1)}function Po(e,t){var n,r,o=e.c,i=t.c,a=e.s,s=t.s,c=e.e,u=t.e;if(!a||!s)return null;if(n=o&&!o[0],r=i&&!i[0],n||r)return n?r?0:-s:a;if(a!=s)return a;if(n=a<0,r=c==u,!o||!i)return r?0:!o^n?1:-1;if(!r)return c>u^n?1:-1;for(s=(c=o.length)<(u=i.length)?c:u,a=0;a<s;a++)if(o[a]!=i[a])return o[a]>i[a]^n?1:-1;return c==u?0:c>u^n?1:-1}function Oo(e,t,n,r){if(e<t||e>n||e!==Ao(e))throw Error(bo+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function No(e){var t=e.c.length-1;return Co(e.e/xo)==t&&e.c[t]%2!=0}function Bo(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function zo(e,t,n){var r,o;if(t<0){for(o=n+".";++t;o+=n);e=o+e}else if(++t>(r=e.length)){for(o=n,t-=r;--t;o+=n);e+=o}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}var Mo=function e(t){var n,r,o,i,a,s,c,u,l,d,f=k.prototype={constructor:k,toString:null,valueOf:null},h=new k(1),p=20,g=4,m=-7,y=21,v=-1e7,w=1e7,A=!1,b=1,S=0,E={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},x="0123456789abcdefghijklmnopqrstuvwxyz",T=!0;function k(e,t){var n,i,a,s,c,u,l,d,f=this;if(!(f instanceof k))return new k(e,t);if(null==t){if(e&&!0===e._isBigNumber)return f.s=e.s,void(!e.c||e.e>w?f.c=f.e=null:e.e<v?f.c=[f.e=0]:(f.e=e.e,f.c=e.c.slice()));if((u="number"==typeof e)&&0*e==0){if(f.s=1/e<0?(e=-e,-1):1,e===~~e){for(s=0,c=e;c>=10;c/=10,s++);return void(s>w?f.c=f.e=null:(f.e=s,f.c=[e]))}d=String(e)}else{if(!vo.test(d=String(e)))return o(f,d,u);f.s=45==d.charCodeAt(0)?(d=d.slice(1),-1):1}(s=d.indexOf("."))>-1&&(d=d.replace(".","")),(c=d.search(/e/i))>0?(s<0&&(s=c),s+=+d.slice(c+1),d=d.substring(0,c)):s<0&&(s=d.length)}else{if(Oo(t,2,x.length,"Base"),10==t&&T)return R(f=new k(e),p+f.e+1,g);if(d=String(e),u="number"==typeof e){if(0*e!=0)return o(f,d,u,t);if(f.s=1/e<0?(d=d.slice(1),-1):1,k.DEBUG&&d.replace(/^0\.0*|\./,"").length>15)throw Error(So+e)}else f.s=45===d.charCodeAt(0)?(d=d.slice(1),-1):1;for(n=x.slice(0,t),s=c=0,l=d.length;c<l;c++)if(n.indexOf(i=d.charAt(c))<0){if("."==i){if(c>s){s=l;continue}}else if(!a&&(d==d.toUpperCase()&&(d=d.toLowerCase())||d==d.toLowerCase()&&(d=d.toUpperCase()))){a=!0,c=-1,s=0;continue}return o(f,String(e),u,t)}u=!1,(s=(d=r(d,t,10,f.s)).indexOf("."))>-1?d=d.replace(".",""):s=d.length}for(c=0;48===d.charCodeAt(c);c++);for(l=d.length;48===d.charCodeAt(--l););if(d=d.slice(c,++l)){if(l-=c,u&&k.DEBUG&&l>15&&(e>To||e!==Ao(e)))throw Error(So+f.s*e);if((s=s-c-1)>w)f.c=f.e=null;else if(s<v)f.c=[f.e=0];else{if(f.e=s,f.c=[],c=(s+1)%xo,s<0&&(c+=xo),c<l){for(c&&f.c.push(+d.slice(0,c)),l-=xo;c<l;)f.c.push(+d.slice(c,c+=xo));c=xo-(d=d.slice(c)).length}else c-=l;for(;c--;d+="0");f.c.push(+d)}}else f.c=[f.e=0]}function I(e,t,n,r){var o,i,a,s,c;if(null==n?n=g:Oo(n,0,8),!e.c)return e.toString();if(o=e.c[0],a=e.e,null==t)c=Ro(e.c),c=1==r||2==r&&(a<=m||a>=y)?Bo(c,a):zo(c,a,"0");else if(i=(e=R(new k(e),t,n)).e,s=(c=Ro(e.c)).length,1==r||2==r&&(t<=i||i<=m)){for(;s<t;c+="0",s++);c=Bo(c,i)}else if(t-=a,c=zo(c,i,"0"),i+1>s){if(--t>0)for(c+=".";t--;c+="0");}else if((t+=i-s)>0)for(i+1==s&&(c+=".");t--;c+="0");return e.s<0&&o?"-"+c:c}function _(e,t){for(var n,r,o=1,i=new k(e[0]);o<e.length;o++)(!(r=new k(e[o])).s||(n=Po(i,r))===t||0===n&&i.s===t)&&(i=r);return i}function C(e,t,n){for(var r=1,o=t.length;!t[--o];t.pop());for(o=t[0];o>=10;o/=10,r++);return(n=r+n*xo-1)>w?e.c=e.e=null:n<v?e.c=[e.e=0]:(e.e=n,e.c=t),e}function R(e,t,n,r){var o,i,a,s,c,u,l,d=e.c,f=ko;if(d){e:{for(o=1,s=d[0];s>=10;s/=10,o++);if((i=t-o)<0)i+=xo,a=t,c=d[u=0],l=Ao(c/f[o-a-1]%10);else if((u=wo((i+1)/xo))>=d.length){if(!r)break e;for(;d.length<=u;d.push(0));c=l=0,o=1,a=(i%=xo)-xo+1}else{for(c=s=d[u],o=1;s>=10;s/=10,o++);l=(a=(i%=xo)-xo+o)<0?0:Ao(c/f[o-a-1]%10)}if(r=r||t<0||null!=d[u+1]||(a<0?c:c%f[o-a-1]),r=n<4?(l||r)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||r||6==n&&(i>0?a>0?c/f[o-a]:0:d[u-1])%10&1||n==(e.s<0?8:7)),t<1||!d[0])return d.length=0,r?(t-=e.e+1,d[0]=f[(xo-t%xo)%xo],e.e=-t||0):d[0]=e.e=0,e;if(0==i?(d.length=u,s=1,u--):(d.length=u+1,s=f[xo-i],d[u]=a>0?Ao(c/f[o-a]%f[a])*s:0),r)for(;;){if(0==u){for(i=1,a=d[0];a>=10;a/=10,i++);for(a=d[0]+=s,s=1;a>=10;a/=10,s++);i!=s&&(e.e++,d[0]==Eo&&(d[0]=1));break}if(d[u]+=s,d[u]!=Eo)break;d[u--]=0,s=1}for(i=d.length;0===d[--i];d.pop());}e.e>w?e.c=e.e=null:e.e<v&&(e.c=[e.e=0])}return e}function P(e){var t,n=e.e;return null===n?e.toString():(t=Ro(e.c),t=n<=m||n>=y?Bo(t,n):zo(t,n,"0"),e.s<0?"-"+t:t)}return k.clone=e,k.ROUND_UP=0,k.ROUND_DOWN=1,k.ROUND_CEIL=2,k.ROUND_FLOOR=3,k.ROUND_HALF_UP=4,k.ROUND_HALF_DOWN=5,k.ROUND_HALF_EVEN=6,k.ROUND_HALF_CEIL=7,k.ROUND_HALF_FLOOR=8,k.EUCLID=9,k.config=k.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(bo+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(Oo(n=e[t],0,_o,t),p=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(Oo(n=e[t],0,8,t),g=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(Oo(n[0],-_o,0,t),Oo(n[1],0,_o,t),m=n[0],y=n[1]):(Oo(n,-_o,_o,t),m=-(y=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)Oo(n[0],-_o,-1,t),Oo(n[1],1,_o,t),v=n[0],w=n[1];else{if(Oo(n,-_o,_o,t),!n)throw Error(bo+t+" cannot be zero: "+n);v=-(w=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(bo+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw A=!n,Error(bo+"crypto unavailable");A=n}else A=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(Oo(n=e[t],0,9,t),b=n),e.hasOwnProperty(t="POW_PRECISION")&&(Oo(n=e[t],0,_o,t),S=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(bo+t+" not an object: "+n);E=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(bo+t+" invalid: "+n);T="0123456789"==n.slice(0,10),x=n}}return{DECIMAL_PLACES:p,ROUNDING_MODE:g,EXPONENTIAL_AT:[m,y],RANGE:[v,w],CRYPTO:A,MODULO_MODE:b,POW_PRECISION:S,FORMAT:E,ALPHABET:x}},k.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!k.DEBUG)return!0;var t,n,r=e.c,o=e.e,i=e.s;e:if("[object Array]"=={}.toString.call(r)){if((1===i||-1===i)&&o>=-_o&&o<=_o&&o===Ao(o)){if(0===r[0]){if(0===o&&1===r.length)return!0;break e}if((t=(o+1)%xo)<1&&(t+=xo),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||n>=Eo||n!==Ao(n))break e;if(0!==n)return!0}}}else if(null===r&&null===o&&(null===i||1===i||-1===i))return!0;throw Error(bo+"Invalid BigNumber: "+e)},k.maximum=k.max=function(){return _(arguments,-1)},k.minimum=k.min=function(){return _(arguments,1)},k.random=(i=9007199254740992,a=Math.random()*i&2097151?function(){return Ao(Math.random()*i)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,o,i,s=0,c=[],u=new k(h);if(null==e?e=p:Oo(e,0,_o),o=wo(e/xo),A)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(o*=2));s<o;)(i=131072*t[s]+(t[s+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[s]=n[0],t[s+1]=n[1]):(c.push(i%1e14),s+=2);s=o/2}else{if(!crypto.randomBytes)throw A=!1,Error(bo+"crypto unavailable");for(t=crypto.randomBytes(o*=7);s<o;)(i=281474976710656*(31&t[s])+1099511627776*t[s+1]+4294967296*t[s+2]+16777216*t[s+3]+(t[s+4]<<16)+(t[s+5]<<8)+t[s+6])>=9e15?crypto.randomBytes(7).copy(t,s):(c.push(i%1e14),s+=7);s=o/7}if(!A)for(;s<o;)(i=a())<9e15&&(c[s++]=i%1e14);for(o=c[--s],e%=xo,o&&e&&(i=ko[xo-e],c[s]=Ao(o/i)*i);0===c[s];c.pop(),s--);if(s<0)c=[r=0];else{for(r=-1;0===c[0];c.splice(0,1),r-=xo);for(s=1,i=c[0];i>=10;i/=10,s++);s<xo&&(r-=xo-s)}return u.e=r,u.c=c,u}),k.sum=function(){for(var e=1,t=arguments,n=new k(t[0]);e<t.length;)n=n.plus(t[e++]);return n},r=function(){var e="0123456789";function t(e,t,n,r){for(var o,i,a=[0],s=0,c=e.length;s<c;){for(i=a.length;i--;a[i]*=t);for(a[0]+=r.indexOf(e.charAt(s++)),o=0;o<a.length;o++)a[o]>n-1&&(null==a[o+1]&&(a[o+1]=0),a[o+1]+=a[o]/n|0,a[o]%=n)}return a.reverse()}return function(r,o,i,a,s){var c,u,l,d,f,h,m,y,v=r.indexOf("."),w=p,A=g;for(v>=0&&(d=S,S=0,r=r.replace(".",""),h=(y=new k(o)).pow(r.length-v),S=d,y.c=t(zo(Ro(h.c),h.e,"0"),10,i,e),y.e=y.c.length),l=d=(m=t(r,o,i,s?(c=x,e):(c=e,x))).length;0==m[--d];m.pop());if(!m[0])return c.charAt(0);if(v<0?--l:(h.c=m,h.e=l,h.s=a,m=(h=n(h,y,w,A,i)).c,f=h.r,l=h.e),v=m[u=l+w+1],d=i/2,f=f||u<0||null!=m[u+1],f=A<4?(null!=v||f)&&(0==A||A==(h.s<0?3:2)):v>d||v==d&&(4==A||f||6==A&&1&m[u-1]||A==(h.s<0?8:7)),u<1||!m[0])r=f?zo(c.charAt(1),-w,c.charAt(0)):c.charAt(0);else{if(m.length=u,f)for(--i;++m[--u]>i;)m[u]=0,u||(++l,m=[1].concat(m));for(d=m.length;!m[--d];);for(v=0,r="";v<=d;r+=c.charAt(m[v++]));r=zo(r,l,c.charAt(0))}return r}}(),n=function(){function e(e,t,n){var r,o,i,a,s=0,c=e.length,u=t%Io,l=t/Io|0;for(e=e.slice();c--;)s=((o=u*(i=e[c]%Io)+(r=l*i+(a=e[c]/Io|0)*u)%Io*Io+s)/n|0)+(r/Io|0)+l*a,e[c]=o%n;return s&&(e=[s].concat(e)),e}function t(e,t,n,r){var o,i;if(n!=r)i=n>r?1:-1;else for(o=i=0;o<n;o++)if(e[o]!=t[o]){i=e[o]>t[o]?1:-1;break}return i}function n(e,t,n,r){for(var o=0;n--;)e[n]-=o,o=e[n]<t[n]?1:0,e[n]=o*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,o,i,a,s){var c,u,l,d,f,h,p,g,m,y,v,w,A,b,S,E,x,T=r.s==o.s?1:-1,I=r.c,_=o.c;if(!(I&&I[0]&&_&&_[0]))return new k(r.s&&o.s&&(I?!_||I[0]!=_[0]:_)?I&&0==I[0]||!_?0*T:T/0:NaN);for(m=(g=new k(T)).c=[],T=i+(u=r.e-o.e)+1,s||(s=Eo,u=Co(r.e/xo)-Co(o.e/xo),T=T/xo|0),l=0;_[l]==(I[l]||0);l++);if(_[l]>(I[l]||0)&&u--,T<0)m.push(1),d=!0;else{for(b=I.length,E=_.length,l=0,T+=2,(f=Ao(s/(_[0]+1)))>1&&(_=e(_,f,s),I=e(I,f,s),E=_.length,b=I.length),A=E,v=(y=I.slice(0,E)).length;v<E;y[v++]=0);x=_.slice(),x=[0].concat(x),S=_[0],_[1]>=s/2&&S++;do{if(f=0,(c=t(_,y,E,v))<0){if(w=y[0],E!=v&&(w=w*s+(y[1]||0)),(f=Ao(w/S))>1)for(f>=s&&(f=s-1),p=(h=e(_,f,s)).length,v=y.length;1==t(h,y,p,v);)f--,n(h,E<p?x:_,p,s),p=h.length,c=1;else 0==f&&(c=f=1),p=(h=_.slice()).length;if(p<v&&(h=[0].concat(h)),n(y,h,v,s),v=y.length,-1==c)for(;t(_,y,E,v)<1;)f++,n(y,E<v?x:_,v,s),v=y.length}else 0===c&&(f++,y=[0]);m[l++]=f,y[0]?y[v++]=I[A]||0:(y=[I[A]],v=1)}while((A++<b||null!=y[0])&&T--);d=null!=y[0],m[0]||m.splice(0,1)}if(s==Eo){for(l=1,T=m[0];T>=10;T/=10,l++);R(g,i+(g.e=l+u*xo-1)+1,a,d)}else g.e=u,g.r=+d;return g}}(),s=/^(-?)0([xbo])(?=\w[\w.]*$)/i,c=/^([^.]+)\.$/,u=/^\.([^.]+)$/,l=/^-?(Infinity|NaN)$/,d=/^\s*\+(?=[\w.])|^\s+|\s+$/g,o=function(e,t,n,r){var o,i=n?t:t.replace(d,"");if(l.test(i))e.s=isNaN(i)?null:i<0?-1:1;else{if(!n&&(i=i.replace(s,(function(e,t,n){return o="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=o?e:t})),r&&(o=r,i=i.replace(c,"$1").replace(u,"0.$1")),t!=i))return new k(i,o);if(k.DEBUG)throw Error(bo+"Not a"+(r?" base "+r:"")+" number: "+t);e.s=null}e.c=e.e=null},f.absoluteValue=f.abs=function(){var e=new k(this);return e.s<0&&(e.s=1),e},f.comparedTo=function(e,t){return Po(this,new k(e,t))},f.decimalPlaces=f.dp=function(e,t){var n,r,o,i=this;if(null!=e)return Oo(e,0,_o),null==t?t=g:Oo(t,0,8),R(new k(i),e+i.e+1,t);if(!(n=i.c))return null;if(r=((o=n.length-1)-Co(this.e/xo))*xo,o=n[o])for(;o%10==0;o/=10,r--);return r<0&&(r=0),r},f.dividedBy=f.div=function(e,t){return n(this,new k(e,t),p,g)},f.dividedToIntegerBy=f.idiv=function(e,t){return n(this,new k(e,t),0,1)},f.exponentiatedBy=f.pow=function(e,t){var n,r,o,i,a,s,c,u,l=this;if((e=new k(e)).c&&!e.isInteger())throw Error(bo+"Exponent not an integer: "+P(e));if(null!=t&&(t=new k(t)),a=e.e>14,!l.c||!l.c[0]||1==l.c[0]&&!l.e&&1==l.c.length||!e.c||!e.c[0])return u=new k(Math.pow(+P(l),a?e.s*(2-No(e)):+P(e))),t?u.mod(t):u;if(s=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new k(NaN);(r=!s&&l.isInteger()&&t.isInteger())&&(l=l.mod(t))}else{if(e.e>9&&(l.e>0||l.e<-1||(0==l.e?l.c[0]>1||a&&l.c[1]>=24e7:l.c[0]<8e13||a&&l.c[0]<=9999975e7)))return i=l.s<0&&No(e)?-0:0,l.e>-1&&(i=1/i),new k(s?1/i:i);S&&(i=wo(S/xo+2))}for(a?(n=new k(.5),s&&(e.s=1),c=No(e)):c=(o=Math.abs(+P(e)))%2,u=new k(h);;){if(c){if(!(u=u.times(l)).c)break;i?u.c.length>i&&(u.c.length=i):r&&(u=u.mod(t))}if(o){if(0===(o=Ao(o/2)))break;c=o%2}else if(R(e=e.times(n),e.e+1,1),e.e>14)c=No(e);else{if(0===(o=+P(e)))break;c=o%2}l=l.times(l),i?l.c&&l.c.length>i&&(l.c.length=i):r&&(l=l.mod(t))}return r?u:(s&&(u=h.div(u)),t?u.mod(t):i?R(u,S,g,undefined):u)},f.integerValue=function(e){var t=new k(this);return null==e?e=g:Oo(e,0,8),R(t,t.e+1,e)},f.isEqualTo=f.eq=function(e,t){return 0===Po(this,new k(e,t))},f.isFinite=function(){return!!this.c},f.isGreaterThan=f.gt=function(e,t){return Po(this,new k(e,t))>0},f.isGreaterThanOrEqualTo=f.gte=function(e,t){return 1===(t=Po(this,new k(e,t)))||0===t},f.isInteger=function(){return!!this.c&&Co(this.e/xo)>this.c.length-2},f.isLessThan=f.lt=function(e,t){return Po(this,new k(e,t))<0},f.isLessThanOrEqualTo=f.lte=function(e,t){return-1===(t=Po(this,new k(e,t)))||0===t},f.isNaN=function(){return!this.s},f.isNegative=function(){return this.s<0},f.isPositive=function(){return this.s>0},f.isZero=function(){return!!this.c&&0==this.c[0]},f.minus=function(e,t){var n,r,o,i,a=this,s=a.s;if(t=(e=new k(e,t)).s,!s||!t)return new k(NaN);if(s!=t)return e.s=-t,a.plus(e);var c=a.e/xo,u=e.e/xo,l=a.c,d=e.c;if(!c||!u){if(!l||!d)return l?(e.s=-t,e):new k(d?a:NaN);if(!l[0]||!d[0])return d[0]?(e.s=-t,e):new k(l[0]?a:3==g?-0:0)}if(c=Co(c),u=Co(u),l=l.slice(),s=c-u){for((i=s<0)?(s=-s,o=l):(u=c,o=d),o.reverse(),t=s;t--;o.push(0));o.reverse()}else for(r=(i=(s=l.length)<(t=d.length))?s:t,s=t=0;t<r;t++)if(l[t]!=d[t]){i=l[t]<d[t];break}if(i&&(o=l,l=d,d=o,e.s=-e.s),(t=(r=d.length)-(n=l.length))>0)for(;t--;l[n++]=0);for(t=Eo-1;r>s;){if(l[--r]<d[r]){for(n=r;n&&!l[--n];l[n]=t);--l[n],l[r]+=Eo}l[r]-=d[r]}for(;0==l[0];l.splice(0,1),--u);return l[0]?C(e,l,u):(e.s=3==g?-1:1,e.c=[e.e=0],e)},f.modulo=f.mod=function(e,t){var r,o,i=this;return e=new k(e,t),!i.c||!e.s||e.c&&!e.c[0]?new k(NaN):!e.c||i.c&&!i.c[0]?new k(i):(9==b?(o=e.s,e.s=1,r=n(i,e,0,3),e.s=o,r.s*=o):r=n(i,e,0,b),(e=i.minus(r.times(e))).c[0]||1!=b||(e.s=i.s),e)},f.multipliedBy=f.times=function(e,t){var n,r,o,i,a,s,c,u,l,d,f,h,p,g,m,y=this,v=y.c,w=(e=new k(e,t)).c;if(!(v&&w&&v[0]&&w[0]))return!y.s||!e.s||v&&!v[0]&&!w||w&&!w[0]&&!v?e.c=e.e=e.s=null:(e.s*=y.s,v&&w?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=Co(y.e/xo)+Co(e.e/xo),e.s*=y.s,(c=v.length)<(d=w.length)&&(p=v,v=w,w=p,o=c,c=d,d=o),o=c+d,p=[];o--;p.push(0));for(g=Eo,m=Io,o=d;--o>=0;){for(n=0,f=w[o]%m,h=w[o]/m|0,i=o+(a=c);i>o;)n=((u=f*(u=v[--a]%m)+(s=h*u+(l=v[a]/m|0)*f)%m*m+p[i]+n)/g|0)+(s/m|0)+h*l,p[i--]=u%g;p[i]=n}return n?++r:p.splice(0,1),C(e,p,r)},f.negated=function(){var e=new k(this);return e.s=-e.s||null,e},f.plus=function(e,t){var n,r=this,o=r.s;if(t=(e=new k(e,t)).s,!o||!t)return new k(NaN);if(o!=t)return e.s=-t,r.minus(e);var i=r.e/xo,a=e.e/xo,s=r.c,c=e.c;if(!i||!a){if(!s||!c)return new k(o/0);if(!s[0]||!c[0])return c[0]?e:new k(s[0]?r:0*o)}if(i=Co(i),a=Co(a),s=s.slice(),o=i-a){for(o>0?(a=i,n=c):(o=-o,n=s),n.reverse();o--;n.push(0));n.reverse()}for((o=s.length)-(t=c.length)<0&&(n=c,c=s,s=n,t=o),o=0;t;)o=(s[--t]=s[t]+c[t]+o)/Eo|0,s[t]=Eo===s[t]?0:s[t]%Eo;return o&&(s=[o].concat(s),++a),C(e,s,a)},f.precision=f.sd=function(e,t){var n,r,o,i=this;if(null!=e&&e!==!!e)return Oo(e,1,_o),null==t?t=g:Oo(t,0,8),R(new k(i),e,t);if(!(n=i.c))return null;if(r=(o=n.length-1)*xo+1,o=n[o]){for(;o%10==0;o/=10,r--);for(o=n[0];o>=10;o/=10,r++);}return e&&i.e+1>r&&(r=i.e+1),r},f.shiftedBy=function(e){return Oo(e,-9007199254740991,To),this.times("1e"+e)},f.squareRoot=f.sqrt=function(){var e,t,r,o,i,a=this,s=a.c,c=a.s,u=a.e,l=p+4,d=new k("0.5");if(1!==c||!s||!s[0])return new k(!c||c<0&&(!s||s[0])?NaN:s?a:1/0);if(0==(c=Math.sqrt(+P(a)))||c==1/0?(((t=Ro(s)).length+u)%2==0&&(t+="0"),c=Math.sqrt(+t),u=Co((u+1)/2)-(u<0||u%2),r=new k(t=c==1/0?"5e"+u:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+u)):r=new k(c+""),r.c[0])for((c=(u=r.e)+l)<3&&(c=0);;)if(i=r,r=d.times(i.plus(n(a,i,l,1))),Ro(i.c).slice(0,c)===(t=Ro(r.c)).slice(0,c)){if(r.e<u&&--c,"9999"!=(t=t.slice(c-3,c+1))&&(o||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(R(r,r.e+p+2,1),e=!r.times(r).eq(a));break}if(!o&&(R(i,i.e+p+2,0),i.times(i).eq(a))){r=i;break}l+=4,c+=4,o=1}return R(r,r.e+p+1,g,e)},f.toExponential=function(e,t){return null!=e&&(Oo(e,0,_o),e++),I(this,e,t,1)},f.toFixed=function(e,t){return null!=e&&(Oo(e,0,_o),e=e+this.e+1),I(this,e,t)},f.toFormat=function(e,t,n){var r,o=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=E;else if("object"!=typeof n)throw Error(bo+"Argument not an object: "+n);if(r=o.toFixed(e,t),o.c){var i,a=r.split("."),s=+n.groupSize,c=+n.secondaryGroupSize,u=n.groupSeparator||"",l=a[0],d=a[1],f=o.s<0,h=f?l.slice(1):l,p=h.length;if(c&&(i=s,s=c,c=i,p-=i),s>0&&p>0){for(i=p%s||s,l=h.substr(0,i);i<p;i+=s)l+=u+h.substr(i,s);c>0&&(l+=u+h.slice(i)),f&&(l="-"+l)}r=d?l+(n.decimalSeparator||"")+((c=+n.fractionGroupSize)?d.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):d):l}return(n.prefix||"")+r+(n.suffix||"")},f.toFraction=function(e){var t,r,o,i,a,s,c,u,l,d,f,p,m=this,y=m.c;if(null!=e&&(!(c=new k(e)).isInteger()&&(c.c||1!==c.s)||c.lt(h)))throw Error(bo+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+P(c));if(!y)return new k(m);for(t=new k(h),l=r=new k(h),o=u=new k(h),p=Ro(y),a=t.e=p.length-m.e-1,t.c[0]=ko[(s=a%xo)<0?xo+s:s],e=!e||c.comparedTo(t)>0?a>0?t:l:c,s=w,w=1/0,c=new k(p),u.c[0]=0;d=n(c,t,0,1),1!=(i=r.plus(d.times(o))).comparedTo(e);)r=o,o=i,l=u.plus(d.times(i=l)),u=i,t=c.minus(d.times(i=t)),c=i;return i=n(e.minus(r),o,0,1),u=u.plus(i.times(l)),r=r.plus(i.times(o)),u.s=l.s=m.s,f=n(l,o,a*=2,g).minus(m).abs().comparedTo(n(u,r,a,g).minus(m).abs())<1?[l,o]:[u,r],w=s,f},f.toNumber=function(){return+P(this)},f.toPrecision=function(e,t){return null!=e&&Oo(e,1,_o),I(this,e,t,2)},f.toString=function(e){var t,n=this,o=n.s,i=n.e;return null===i?o?(t="Infinity",o<0&&(t="-"+t)):t="NaN":(null==e?t=i<=m||i>=y?Bo(Ro(n.c),i):zo(Ro(n.c),i,"0"):10===e&&T?t=zo(Ro((n=R(new k(n),p+i+1,g)).c),n.e,"0"):(Oo(e,2,x.length,"Base"),t=r(zo(Ro(n.c),i,"0"),10,e,o,!0)),o<0&&n.c[0]&&(t="-"+t)),t},f.valueOf=f.toJSON=function(){return P(this)},f._isBigNumber=!0,f[Symbol.toStringTag]="BigNumber",f[Symbol.for("nodejs.util.inspect.custom")]=f.valueOf,null!=t&&k.set(t),k}();const jo=Mo;function Uo(e,t){return D(e,(e=>"string"==typeof e&&t.test(e)))}const Do=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$/u,Lo=/^[-a-z0-9]{3,8}$/u,$o=/^[-_a-zA-Z0-9]{1,32}$/u,Fo=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$/u,qo=/^[-.%a-zA-Z0-9]{1,128}$/u,Wo=/^[-a-z0-9]{3,8}$/u,Vo=/^[-.%a-zA-Z0-9]{1,128}$/u,Ko=/^[-.%a-zA-Z0-9]{1,78}$/u,Go=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})$/u,Ho=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})\/(?<tokenId>[-.%a-zA-Z0-9]{1,78})$/u,Jo=(Uo("CaipChainId",Do),Uo("CaipNamespace",Lo),Uo("CaipReference",$o),Uo("CaipAccountId",Fo),Uo("CaipAccountAddress",qo),Uo("CaipAssetNamespace",Wo),Uo("CaipAssetReference",Vo),Uo("CaipTokenId",Ko),Uo("CaipAssetType",Go));Uo("CaipAssetId",Ho),Uo("CaipAssetTypeOrId",/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})(\/(?<tokenId>[-.%a-zA-Z0-9]{1,78}))?$/u);var Zo,Yo;function Xo(e){const t=Go.exec(e);if(!t?.groups)throw new Error("Invalid CAIP asset type.");return{assetNamespace:t.groups.assetNamespace,assetReference:t.groups.assetReference,chainId:t.groups.chainId,chain:{namespace:t.groups.namespace,reference:t.groups.reference}}}function Qo(e,t){return n=e,Boolean("string"==typeof n?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var n}!function(e){e.Bip122="bip122",e.Solana="solana",e.Eip155="eip155",e.Wallet="wallet"}(Zo=Zo||(Zo={}));class ei extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}function ti(e,t="Assertion failed.",n=ei){if(!e){if(t instanceof Error)throw t;throw Qo(n,t)}}!function(e){e[e.Millisecond=1]="Millisecond",e[e.Second=1e3]="Second",e[e.Minute=6e4]="Minute",e[e.Hour=36e5]="Hour",e[e.Day=864e5]="Day",e[e.Week=6048e5]="Week",e[e.Year=31536e6]="Year"}(Yo=Yo||(Yo={}));var ni=n(5250);const ri=(e,t)=>`${e}:${t.map((e=>JSON.stringify(e))).join(":")}`,oi=(e,t,{ttlMilliseconds:n,functionName:r,generateCacheKey:o})=>{const i=o??ri,a=r??e.name??"anonymousFunction";return async(...r)=>{const o=i(a,r);try{const e=await t.get(o);if(void 0!==e)return e}catch(e){console.error(`Cache get error for key "${o}":`,e)}const s=await e(...r);return t.set(o,s,n).catch((e=>{console.error(`Cache set error for key "${o}":`,e)})),s}};var ii=4,ai=5,si=6,ci=10,ui=-32700,li=-32603,di=-32602,fi=-32601,hi=-32600,pi=-32015,gi=-32014,mi=-32012,yi=-32010,vi=-32009,wi=-32007,Ai=-32006,bi=-32004,Si=-32002,Ei=-32001,xi=28e5,Ti=2800001,ki=2800003,Ii=2800006,_i=2800007,Ci=2800008,Ri=2800009,Pi=32300001,Oi=3230004,Ni=361e4,Bi=3610001,zi=3610003,Mi=3610005,ji=3610006,Ui=3610007,Di=3704001,Li=3704002,$i=3704003,Fi=4615e3,qi=4615026,Wi=4615045,Vi=5508e3,Ki=5663e3,Gi=5663001,Hi=5663004,Ji=5663005,Zi=5663006,Yi=5663007,Xi=5663008,Qi=5663009,ea=5663012,ta=5663015,na=5663016,ra=5663017,oa=5663018,ia=5663019,aa=705e4,sa=7050030,ca=7050031,ua=7050035,la=8078e3,da=8078001,fa=8078002,ha=8078004,pa=8078005,ga=8078006,ma=8078007,ya=8078008,va=8078010,wa=8078011,Aa=8078012,ba=8078013,Sa=8078014,Ea=8078017,xa=8078018,Ta=8078022,ka=81e5,Ia=8100002,_a=8100003,Ca=9900003;function Ra(e){if(Array.isArray(e)){return"%5B"+e.map(Ra).join("%2C%20")+"%5D"}return"bigint"==typeof e?`${e}n`:encodeURIComponent(String(null!=e&&null===Object.getPrototypeOf(e)?{...e}:e))}function Pa([e,t]){return`${e}=${Ra(t)}`}function Oa(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${function(e){const t=Object.entries(e).map(Pa).join("&");return btoa(t)}(t)}'`),`${n}\``}}function Na(e,t){return!!(e instanceof Error&&"SolanaError"===e.name)&&(void 0===t||e.context.__code===t)}var Ba=class extends Error{cause=this.cause;context;constructor(...[e,t]){let n,r;if(t){const{cause:e,...o}=t;e&&(r={cause:e}),Object.keys(o).length>0&&(n=o)}super(Oa(e,n),r),this.context={__code:e,...n},this.name="SolanaError"}};function za(...e){"captureStackTrace"in Error&&"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(...e)}function Ma({errorCodeBaseOffset:e,getErrorContext:t,orderedErrorNames:n,rpcEnumError:r},o){let i,a;"string"==typeof r?i=r:(i=Object.keys(r)[0],a=r[i]);const s=e+n.indexOf(i),c=t(s,i,a),u=new Ba(s,c);return za(u,o),u}var ja=["GenericError","InvalidArgument","InvalidInstructionData","InvalidAccountData","AccountDataTooSmall","InsufficientFunds","IncorrectProgramId","MissingRequiredSignature","AccountAlreadyInitialized","UninitializedAccount","UnbalancedInstruction","ModifiedProgramId","ExternalAccountLamportSpend","ExternalAccountDataModified","ReadonlyLamportChange","ReadonlyDataModified","DuplicateAccountIndex","ExecutableModified","RentEpochModified","NotEnoughAccountKeys","AccountDataSizeChanged","AccountNotExecutable","AccountBorrowFailed","AccountBorrowOutstanding","DuplicateAccountOutOfSync","Custom","InvalidError","ExecutableDataModified","ExecutableLamportChange","ExecutableAccountNotRentExempt","UnsupportedProgramId","CallDepth","MissingAccount","ReentrancyNotAllowed","MaxSeedLengthExceeded","InvalidSeeds","InvalidRealloc","ComputationalBudgetExceeded","PrivilegeEscalation","ProgramEnvironmentSetupFailure","ProgramFailedToComplete","ProgramFailedToCompile","Immutable","IncorrectAuthority","BorshIoError","AccountNotRentExempt","InvalidAccountOwner","ArithmeticOverflow","UnsupportedSysvar","IllegalOwner","MaxAccountsDataAllocationsExceeded","MaxAccountsExceeded","MaxInstructionTraceLengthExceeded","BuiltinProgramsMustConsumeComputeUnits"];function Ua(e,t){const n=Number(e);return Ma({errorCodeBaseOffset:4615001,getErrorContext:(e,t,r)=>e===Fi?{errorName:t,index:n,...void 0!==r?{instructionErrorContext:r}:null}:e===qi?{code:Number(r),index:n}:e===Wi?{encodedData:r,index:n}:{index:n},orderedErrorNames:ja,rpcEnumError:t},Ua)}var Da=["AccountInUse","AccountLoadedTwice","AccountNotFound","ProgramAccountNotFound","InsufficientFundsForFee","InvalidAccountForFee","AlreadyProcessed","BlockhashNotFound","CallChainTooDeep","MissingSignatureForFee","InvalidAccountIndex","SignatureFailure","InvalidProgramForExecution","SanitizeFailure","ClusterMaintenance","AccountBorrowOutstanding","WouldExceedMaxBlockCostLimit","UnsupportedVersion","InvalidWritableAccount","WouldExceedMaxAccountCostLimit","WouldExceedAccountDataBlockLimit","TooManyAccountLocks","AddressLookupTableNotFound","InvalidAddressLookupTableOwner","InvalidAddressLookupTableData","InvalidAddressLookupTableIndex","InvalidRentPayingAccount","WouldExceedMaxVoteCostLimit","WouldExceedAccountDataTotalLimit","DuplicateInstruction","InsufficientFundsForRent","MaxLoadedAccountsDataSizeExceeded","InvalidLoadedAccountsDataSizeLimit","ResanitizationNeeded","ProgramExecutionTemporarilyRestricted","UnbalancedTransaction"];function La(e){return"object"==typeof e&&"InstructionError"in e?Ua(...e.InstructionError):Ma({errorCodeBaseOffset:7050001,getErrorContext:(e,t,n)=>e===aa?{errorName:t,...void 0!==n?{transactionErrorContext:n}:null}:e===sa?{index:Number(n)}:e===ca||e===ua?{accountIndex:Number(n.account_index)}:void 0,orderedErrorNames:Da,rpcEnumError:e},La)}function $a(e){let t;if("object"==typeof(n=e)&&null!==n&&"code"in n&&"message"in n&&("number"==typeof n.code||"bigint"==typeof n.code)&&"string"==typeof n.message){const{code:n,data:r,message:o}=e,i=Number(n);if(i===Si){const{err:e,...n}=r,o=e?{cause:La(e)}:null;t=new Ba(Si,{...n,...o})}else{let e;switch(i){case li:case di:case hi:case fi:case ui:case mi:case Ei:case bi:case gi:case yi:case vi:case wi:case Ai:case pi:e={__serverMessage:o};break;default:"object"!=typeof r||Array.isArray(r)||(e=r)}t=new Ba(i,e)}}else{const n="object"==typeof e&&null!==e&&"message"in e&&"string"==typeof e.message?e.message:"Malformed JSON-RPC error with no message attribute";t=new Ba(ci,{error:e,message:n})}var n;return za(t,$a),t}var Fa=(e,t)=>((e,t)=>{if(e.length>=t)return e;const n=new Uint8Array(t).fill(0);return n.set(e),n})(e.length<=t?e:e.slice(0,t),t);function qa(e,t,n){const r=0===n&&e.length===t.length?e:e.slice(n,n+t.length);return r.length===t.length&&t.every(((e,t)=>e===r[t]))}function Wa(e,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(e)}function Va(e){return Object.freeze({...e,encode:t=>{const n=new Uint8Array(Wa(t,e));return e.write(t,n,0),n}})}function Ka(e){return Object.freeze({...e,decode:(t,n=0)=>e.read(t,n)[0]})}function Ga(e){return"fixedSize"in e&&"number"==typeof e.fixedSize}function Ha(e){if(!Ga(e))throw new Ba(fa)}function Ja(e){return!Ga(e)}function Za(e,t){if(Ga(e)!==Ga(t))throw new Ba(ha);if(Ga(e)&&Ga(t)&&e.fixedSize!==t.fixedSize)throw new Ba(pa,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!Ga(e)&&!Ga(t)&&e.maxSize!==t.maxSize)throw new Ba(ga,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}function Ya(e,t,n,r=0){const o=n.length-r;if(o<t)throw new Ba(da,{bytesLength:o,codecDescription:e,expected:t})}function Xa(e,t,n){if(t<0||t>n)throw new Ba(Sa,{bytesLength:n,codecDescription:e,offset:t})}function Qa(e,t){const n=(n,r,o)=>{const i=e.encode(n);return o=t.write(i.length,r,o),r.set(i,o),o+i.length};if(Ga(t)&&Ga(e))return Va({...e,fixedSize:t.fixedSize+e.fixedSize,write:n});const r=Ga(t)?t.fixedSize:t.maxSize??null,o=Ga(e)?e.fixedSize:e.maxSize??null,i=null!==r&&null!==o?r+o:null;return Va({...e,...null!==i?{maxSize:i}:{},getSizeFromValue:n=>{const r=Wa(n,e);return Wa(r,t)+r},write:n})}function es(e,t){const n=(n,r)=>{const[o,i]=t.read(n,r),a=Number(o);return((r=i)>0||n.length>a)&&(n=n.slice(r,r+a)),Ya("addDecoderSizePrefix",a,n),[e.decode(n),r+a]};if(Ga(t)&&Ga(e))return Ka({...e,fixedSize:t.fixedSize+e.fixedSize,read:n});const r=Ga(t)?t.fixedSize:t.maxSize??null,o=Ga(e)?e.fixedSize:e.maxSize??null,i=null!==r&&null!==o?r+o:null;return Ka({...e,...null!==i?{maxSize:i}:{},read:n})}function ts(e,t){return Va({fixedSize:t,write:(n,r,o)=>{const i=e.encode(n),a=i.length>t?i.slice(0,t):i;return r.set(a,o),o+t}})}function ns(e,t){return Ka({fixedSize:t,read:(n,r)=>{Ya("fixCodecSize",t,n,r),(r>0||n.length>t)&&(n=n.slice(r,r+t)),Ga(e)&&(n=Fa(n,e.fixedSize));const[o]=e.read(n,0);return[o,r+t]}})}function rs(e,t){return Ka({...e,read:(n,r)=>{const o=e=>os(e,n.length),i=t.preOffset?t.preOffset({bytes:n,preOffset:r,wrapBytes:o}):r;Xa("offsetDecoder",i,n.length);const[a,s]=e.read(n,i),c=t.postOffset?t.postOffset({bytes:n,newPreOffset:i,postOffset:s,preOffset:r,wrapBytes:o}):s;return Xa("offsetDecoder",c,n.length),[a,c]}})}function os(e,t){return 0===t?0:(e%t+t)%t}function is(e,t){if(Ga(e)){const n=t(e.fixedSize);if(n<0)throw new Ba(ba,{bytesLength:n,codecDescription:"resizeDecoder"});return Ka({...e,fixedSize:n})}return e}function as(e,t){return rs(is(e,(e=>e+t)),{postOffset:({postOffset:e})=>e+t})}function ss(e,t){return Va({...Ja(e)?{...e,getSizeFromValue:n=>e.getSizeFromValue(t(n))}:e,write:(n,r,o)=>e.write(t(n),r,o)})}function cs(e,t){return Ka({...e,read:(n,r)=>{const[o,i]=e.read(n,r);return[t(o,n,r),i]}})}function us(e,t,n=t){if(!t.match(new RegExp(`^[${e}]*$`)))throw new Ba(Aa,{alphabet:e,base:e.length,value:n})}var ls=e=>Va({getSizeFromValue:t=>{const[n,r]=hs(t,e[0]);if(!r)return t.length;const o=ps(r,e);return n.length+Math.ceil(o.toString(16).length/2)},write(t,n,r){if(us(e,t),""===t)return r;const[o,i]=hs(t,e[0]);if(!i)return n.set(new Uint8Array(o.length).fill(0),r),r+o.length;let a=ps(i,e);const s=[];for(;a>0n;)s.unshift(Number(a%256n)),a/=256n;const c=[...Array(o.length).fill(0),...s];return n.set(c,r),r+c.length}}),ds=e=>Ka({read(t,n){const r=0===n?t:t.slice(n);if(0===r.length)return["",0];let o=r.findIndex((e=>0!==e));o=-1===o?r.length:o;const i=e[0].repeat(o);if(o===r.length)return[i,t.length];const a=function(e,t){const n=BigInt(t.length),r=[];for(;e>0n;)r.unshift(t[Number(e%n)]),e/=n;return r.join("")}(r.slice(o).reduce(((e,t)=>256n*e+BigInt(t)),0n),e);return[i+a,t.length]}}),fs=e=>Za(ls(e),ds(e));function hs(e,t){const[n,r]=e.split(new RegExp(`((?!${t}).*)`));return[n,r]}function ps(e,t){const n=BigInt(t.length);let r=0n;for(const o of e)r*=n,r+=BigInt(t.indexOf(o));return r}var gs="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",ms=()=>ls(gs),ys=()=>ds(gs),vs=()=>fs(gs);var ws,As,bs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ss=()=>Va({getSizeFromValue:e=>{try{return atob(e).length}catch{throw new Ba(Aa,{alphabet:bs,base:64,value:e})}},write(e,t,n){try{const r=atob(e).split("").map((e=>e.charCodeAt(0)));return t.set(r,n),r.length+n}catch{throw new Ba(Aa,{alphabet:bs,base:64,value:e})}}}),Es=()=>Ka({read(e,t=0){const n=e.slice(t);return[btoa(String.fromCharCode(...n)),e.length]}}),xs=()=>Za(Ss(),Es()),Ts=e=>e.replace(/\u0000/g,""),ks=globalThis.TextDecoder,Is=globalThis.TextEncoder,_s=()=>{let e;return Ka({read(t,n){const r=(e||=new ks).decode(t.slice(n));return[Ts(r),t.length]}})},Cs=()=>Za((()=>{let e;return Va({getSizeFromValue:t=>(e||=new Is).encode(t).length,write:(t,n,r)=>{const o=(e||=new Is).encode(t);return n.set(o,r),r+o.length}})})(),_s());function Rs(){if(!globalThis.isSecureContext)throw new Ba(Ni)}function Ps(){if(Rs(),void 0===globalThis.crypto||"function"!=typeof globalThis.crypto.subtle?.exportKey)throw new Ba(zi)}function Os(){return ws||(ws=ms()),ws}function Ns(e){if(e.length<32||e.length>44)return!1;const t=Os();try{return 32===t.encode(e).byteLength}catch{return!1}}function Bs(e){if(e.length<32||e.length>44)throw new Ba(Ti,{actualLength:e.length});const t=Os().encode(e).byteLength;if(32!==t)throw new Ba(xi,{actualLength:t})}function zs(e){return Bs(e),e}function Ms(){return ss(ts(Os(),32),(e=>zs(e)))}function js(){return ns((As||(As=ys()),As),32)}function Us(){return Za(Ms(),js())}function Ds(){return new Intl.Collator("en",{caseFirst:"lower",ignorePunctuation:!1,localeMatcher:"best fit",numeric:!1,sensitivity:"variant",usage:"sort"}).compare}var Ls=37095705934669439343138083508754565189542113879843219016388785533085940283555n,$s=57896044618658097711785492504343953926634992332820282019728792003956564819949n,Fs=19681161376707505956807079304988542015446066515923890162744021073123829784752n;function qs(e){const t=e%$s;return t>=0n?t:$s+t}function Ws(e,t){let n=e;for(;t-- >0n;)n*=n,n%=$s;return n}function Vs(e,t){const n=qs(t*t*t),r=function(e){const t=e*e%$s*e%$s,n=Ws(t,2n)*t%$s,r=Ws(n,1n)*e%$s,o=Ws(r,5n)*r%$s,i=Ws(o,10n)*o%$s,a=Ws(i,20n)*i%$s,s=Ws(a,40n)*a%$s,c=Ws(s,80n)*s%$s,u=Ws(c,80n)*s%$s,l=Ws(u,10n)*o%$s;return Ws(l,2n)*e%$s}(e*qs(n*n*t));let o=qs(e*n*r);const i=qs(t*o*o),a=o,s=qs(o*Fs),c=i===e,u=i===qs(-e),l=i===qs(-e*Fs);return c&&(o=a),(u||l)&&(o=s),1n===(1n&qs(o))&&(o=qs(-o)),c||u?o:null}function Ks(e){if(32!==e.byteLength)return!1;const t=function(e){const t=e.reduce(((e,t,n)=>`${function(e){const t=e.toString(16);return 1===t.length?`0${t}`:t}(31===n?-129&t:t)}${e}`),"");return BigInt(`0x${t}`)}(e);return function(e,t){const n=qs(e*e),r=Vs(qs(n-1n),qs(Ls*n+1n));return null!==r&&(0n!==r||!(0!=(128&t)))}(t,e[31])}var Gs=32,Hs=16,Js=[80,114,111,103,114,97,109,68,101,114,105,118,101,100,65,100,100,114,101,115,115];async function Zs({programAddress:e,seeds:t}){if(function(){if(Rs(),void 0===globalThis.crypto||"function"!=typeof globalThis.crypto.subtle?.digest)throw new Ba(Bi)}(),t.length>Hs)throw new Ba(Ii,{actual:t.length,maxSeeds:Hs});let n;const r=t.reduce(((e,t,r)=>{const o="string"==typeof t?(n||=new TextEncoder).encode(t):t;if(o.byteLength>Gs)throw new Ba(_i,{actual:o.byteLength,index:r,maxSeedLength:Gs});return e.push(...o),e}),[]),o=Us(),i=o.encode(e),a=await crypto.subtle.digest("SHA-256",new Uint8Array([...r,...i,...Js])),s=new Uint8Array(a);if(Ks(s))throw new Ba(Ci);return o.decode(s)}async function Ys({programAddress:e,seeds:t}){let n=255;for(;n>0;)try{return[await Zs({programAddress:e,seeds:[...t,new Uint8Array([n])]}),n]}catch(e){if(!Na(e,Ci))throw e;n--}throw new Ba(Ri)}async function Xs(e){if(Ps(),"public"!==e.type||"Ed25519"!==e.algorithm.name)throw new Ba(ki);const t=await crypto.subtle.exportKey("raw",e);return js().decode(new Uint8Array(t))}const Qs=1000000n,ec=1e9,tc="metamask";var nc=function(e){return e.Mainnet="solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",e.Devnet="solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",e.Testnet="solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",e.Localnet="solana:123456789abcdef",e}({}),rc=function(e){return e.SolMainnet="solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp/slip44:501",e.SolDevnet="solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1/slip44:501",e.SolTestnet="solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z/slip44:501",e.SolLocalnet="solana:123456789abcdef/slip44:501",e.UsdcMainnet="solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp/token:EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",e.UsdcDevnet="solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1/token:4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",e.UsdcLocalnet="solana:123456789abcdef/token:4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",e.EurcMainnet="solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp/token:HzwqbKZw8HxMN6bF2yFZNrht3c2iXXzpKcFu7uBEDKtr",e.EurcDevnet="solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1/token:HzwqbKZw8HxMN6bF2yFZNrht3c2iXXzpKcFu7uBEDKtr",e.EurcLocalnet="solana:123456789abcdef/token:HzwqbKZw8HxMN6bF2yFZNrht3c2iXXzpKcFu7uBEDKtr",e.Ai16zLocalnet="solana:123456789abcdef/token:HeLp6NuQkmYB4pYWo2zYs22mESHXPQYzXbB8n4V98jwC",e}({});var oc=function(e){return e.SOL="slip44:501",e}({});const ic={"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp/slip44:501":{symbol:"SOL",caip19Id:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp/slip44:501",address:"So11111111111111111111111111111111111111112",decimals:9},"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1/slip44:501":{symbol:"SOL",caip19Id:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1/slip44:501",address:"So11111111111111111111111111111111111111112",decimals:9},"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z/slip44:501":{symbol:"SOL",caip19Id:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z/slip44:501",address:"So11111111111111111111111111111111111111112",decimals:9},"solana:123456789abcdef/slip44:501":{symbol:"SOL",caip19Id:"solana:123456789abcdef/slip44:501",address:"So11111111111111111111111111111111111111112",decimals:9},"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp/token:EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v":{symbol:"USDC",caip19Id:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp/token:EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",address:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",decimals:6},"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1/token:4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU":{symbol:"USDC",caip19Id:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1/token:4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",address:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",decimals:6},"solana:123456789abcdef/token:4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU":{symbol:"USDC",caip19Id:"solana:123456789abcdef/token:4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",address:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",decimals:6}},ac=zs("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),sc={"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":{caip2Id:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",cluster:"mainnet",name:"Solana Mainnet",nativeToken:ic["solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp/slip44:501"]},"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1":{caip2Id:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",cluster:"devnet",name:"Solana Devnet",nativeToken:ic["solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1/slip44:501"]},"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":{caip2Id:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",cluster:"testnet",name:"Solana Testnet",nativeToken:ic["solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z/slip44:501"]},"solana:123456789abcdef":{caip2Id:"solana:123456789abcdef",cluster:"local",name:"Solana Localnet",nativeToken:ic["solana:123456789abcdef/slip44:501"]}},cc=ge(re(),/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/u),uc=ge(re(),/^(?!0\d)(\d+(\.\d+)?)$/u),lc=me(re(),"safe-url",(e=>{try{const t=new URL(e),n=["http:","https:","wss:"];if(!n.includes(t.protocol))return`URL must use one of the following protocols: ${n}`;if(!e.match(/^(https?|wss):\/\/[^/]+\/?/u))return"Malformed URL - incorrect protocol format";const r=t.hostname.toLowerCase();if(!("localhost"===r||r.includes(".")&&/^[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/u.test(r)))return"Invalid hostname format";const o=decodeURIComponent(e.toLowerCase());if(e.includes("\\")||e.includes("@")||o.includes("\\")||o.includes("@")||e.toLowerCase().includes("%2f@")||e.toLowerCase().includes("%5c@"))return"URL contains protocol pollution attempts";const i=decodeURIComponent(r);if(r.includes("\\")||r.includes("@")||i.includes("/")||r.toLowerCase().includes("%2f"))return"Invalid hostname characters detected";if(e.includes("../")||e.includes("..%2f")||e.includes("..%2F"))return"Directory traversal attempts are not allowed";const a=[/<[^>]*>/u,/javascript:/u,/data:/u,/\\[@\\]/u,/%2f@/u,/[^\x20-\x7E]/u,/\$\{.*?\}/u,/#\{.*?\}/u,/[|;]/u,/%0[acd]|%0[acd]/u,/\/\/\w+@/u,/(?:[^a-z]|^)(?:union\s+(?:all\s+)?select|select\s+(?:.*\s+)?from|insert\s+into|update\s+.*\s+set|delete\s+from|drop\s+table|alter\s+table|create\s+table|exec(?:ute)?|union|where\s+[\d\w]\s*=\s*[\d\w]|\bor\b\s*[\d\w]\s*=\s*[\d\w])/iu,/'.*?(?:OR|UNION|SELECT|FROM|WHERE).*?'/iu,/%27.*?(?:OR|UNION|SELECT|FROM|WHERE).*?(?:%27|')/iu,/%20(?:OR|UNION|SELECT|FROM|WHERE)%20/iu,/[?&](?:url|redirect|next|return_to|return_url|goto|destination|continue|redirect_uri)=(?:[^&]*\/\/|https?:)/iu,/[?&](?:url|redirect|next|return_to|return_url|goto|destination|continue|redirect_uri)=%(?:[^&]*\/\/|https?:)/iu];for(const e of a)if(e.test(o))return"URL contains potentially malicious patterns";return!(t.port&&!/^\d+$/u.test(t.port))||"Invalid port number"}catch(e){return"Invalid URL format"}})),dc=ee({accountId:cc}),fc=ee({accountId:cc}),hc=ee({accountId:cc}),pc=ee({accountId:cc,assets:K(it)}),gc=ee({accountId:cc,pagination:ee({limit:J(),next:te(X(re()))})}),mc=ne(it,ee({amount:uc,unit:re()})),yc=(K(it),H(Object.values(Ft)),H(Object.values(nc))),vc=(H(["btc","eth","ltc","bch","bnb","eos","xrp","xlm","link","dot","yfi","usd","aed","ars","aud","bdt","bhd","bmd","brl","cad","chf","clp","cny","czk","dkk","eur","gbp","gel","hkd","huf","idr","ils","inr","jpy","krw","kwd","lkr","mmk","mxn","myr","ngn","nok","nzd","php","pkr","pln","rub","sar","sek","sgd","thb","try","twd","uah","vef","vnd","zar","xdr","xag","xau","bits","sats"]),ee({transaction:re(),scope:H(Object.values(nc))})),wc=ee({value:X(uc)}),Ac=D("Base58",(e=>"string"!=typeof e?"Expected a string, but received: "+typeof e:!!/^[123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]+$/u.test(e)||"Expected a Base58 encoded string, but received a string with invalid characters")),bc=ge(re(),/^(?:[A-Za-z0-9+/]{4})+(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/u),Sc=ge(re(),/^m\/44'\/501'/u);ge(re(),/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d{3})?Z$/u);function Ec(e){const{baseUrl:t,path:n,pathParams:r,queryParams:o}=e;z(t,lc);const i=n.replace(/\{(\w+)\}/gu,((e,t)=>{const n=r?.[t];if(void 0===n)throw new Error(`Path parameter ${t} is undefined`);return n})).replace(/^\/+/u,"").replace(/\/+/gu,"/").replace(/\/+$/u,""),a=new URL(i,t);Object.entries(o??{}).filter((([e,t])=>void 0!==t)).filter((([e,t])=>null!==t)).forEach((([e,t])=>{t&&a.searchParams.append(e,t)}));const s=a.toString();return z(s,lc),s}function xc(e,t,n,r){if(r<t||r>n)throw new Ba(wa,{codecDescription:e,max:n,min:t,value:r})}var Tc,kc=((Tc=kc||{})[Tc.Little=0]="Little",Tc[Tc.Big=1]="Big",Tc);function Ic(e){return 1!==e?.endian}function _c(e){return Va({fixedSize:e.size,write(t,n,r){e.range&&xc(e.name,e.range[0],e.range[1],t);const o=new ArrayBuffer(e.size);return e.set(new DataView(o),t,Ic(e.config)),n.set(new Uint8Array(o),r),r+e.size}})}function Cc(e){return Ka({fixedSize:e.size,read(t,n=0){!function(e,t,n=0){if(t.length-n<=0)throw new Ba(la,{codecDescription:e})}(e.name,t,n),Ya(e.name,e.size,t,n);const r=new DataView(function(e,t,n){const r=e.byteOffset+(t??0),o=n??e.byteLength;return e.buffer.slice(r,r+o)}(t,n,e.size));return[e.get(r,Ic(e.config)),n+e.size]}})}var Rc=(e={})=>Cc({config:e,get:(e,t)=>e.getFloat64(0,t),name:"f64",size:8}),Pc=(e={})=>Cc({config:e,get:(e,t)=>e.getInt16(0,t),name:"i16",size:2}),Oc=(e={})=>Cc({config:e,get:(e,t)=>e.getBigInt64(0,t),name:"i64",size:8}),Nc=()=>Cc({get:e=>e.getInt8(0),name:"i8",size:1}),Bc=()=>Va({getSizeFromValue:e=>e<=127?1:e<=16383?2:3,maxSize:3,write:(e,t,n)=>{xc("shortU16",0,65535,e);const r=[0];for(let t=0;;t+=1){const n=Number(e)>>7*t;if(0===n)break;const o=127&n;r[t]=o,t>0&&(r[t-1]|=128)}return t.set(r,n),n+r.length}}),zc=()=>Ka({maxSize:3,read:(e,t)=>{let n=0,r=0;for(;++r;){const o=r-1,i=e[t+o];if(n|=(127&i)<<7*o,0==(128&i))break}return[n,t+r]}}),Mc=(e={})=>Cc({config:e,get:(e,t)=>e.getUint16(0,t),name:"u16",size:2}),jc=(e={})=>_c({config:e,name:"u32",range:[0,Number("0xffffffff")],set:(e,t,n)=>e.setUint32(0,Number(t),n),size:4}),Uc=(e={})=>Cc({config:e,get:(e,t)=>e.getUint32(0,t),name:"u32",size:4}),Dc=(e={})=>_c({config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,t,n)=>e.setBigUint64(0,BigInt(t),n),size:8}),Lc=(e={})=>Cc({config:e,get:(e,t)=>e.getBigUint64(0,t),name:"u64",size:8}),$c=()=>_c({name:"u8",range:[0,Number("0xff")],set:(e,t)=>e.setUint8(0,Number(t)),size:1}),Fc=()=>Cc({get:e=>e.getUint8(0),name:"u8",size:1});var qc,Wc=((qc=Wc||{})[qc.WRITABLE_SIGNER=3]="WRITABLE_SIGNER",qc[qc.READONLY_SIGNER=2]="READONLY_SIGNER",qc[qc.WRITABLE=1]="WRITABLE",qc[qc.READONLY=0]="READONLY",qc),Vc=2,Kc=1;function Gc(e){return e>=2}function Hc(e){return 0!=(e&Kc)}function Jc(e,t){return e|t}function Zc(e){return e|Vc}var Yc,Xc=Object.freeze({name:"Ed25519"});async function Qc(e,t){const n=e.byteLength;if(32!==n)throw new Ba(Di,{actualLength:n});const r=function(e){return new Uint8Array([48,46,2,1,0,48,5,6,3,43,101,112,4,34,4,32,...e])}(e);return await crypto.subtle.importKey("pkcs8",r,Xc,t??!1,["sign"])}async function eu(e,t){!function(){if(Rs(),void 0===globalThis.crypto||"function"!=typeof globalThis.crypto.subtle?.sign)throw new Ba(Mi)}();const n=await crypto.subtle.sign(Xc,e,t);return new Uint8Array(n)}function tu(e){return function(e){if(Yc||(Yc=ms()),e.length<64||e.length>88)throw new Ba($i,{actualLength:e.length});const t=Yc.encode(e).byteLength;if(64!==t)throw new Ba(Li,{actualLength:t})}(e),e}async function nu(e,t,n){return function(){if(Rs(),void 0===globalThis.crypto||"function"!=typeof globalThis.crypto.subtle?.verify)throw new Ba(ji)}(),await crypto.subtle.verify(Xc,e,t,n)}async function ru(e,t=!1){const n=Qc(e,t),[r,o]=await Promise.all([(t?n:Qc(e,!0)).then((async e=>await async function(e,t=!1){if(Ps(),!1===e.extractable)throw new Ba(Ui,{key:e});const n=await crypto.subtle.exportKey("jwk",e);return await crypto.subtle.importKey("jwk",{crv:"Ed25519",ext:t,key_ops:["verify"],kty:"OKP",x:n.x},"Ed25519",t,["verify"])}(e,!0))),n]);return{privateKey:o,publicKey:r}}function ou(e,t,n){if(t!==n)throw new Ba(ma,{actual:n,codecDescription:e,expected:t})}function iu(e){return e.reduce(((e,t)=>null===e||null===t?null:e+t),0)}function au(e){return Ga(e)?e.fixedSize:null}function su(e){return Ga(e)?e.fixedSize:e.maxSize??null}function cu(e,t={}){const n=t.size??jc(),r=lu(n,au(e)),o=lu(n,su(e))??void 0;return Va({...null!==r?{fixedSize:r}:{getSizeFromValue:t=>("object"==typeof n?Wa(t.length,n):0)+[...t].reduce(((t,n)=>t+Wa(n,e)),0),maxSize:o},write:(t,r,o)=>("number"==typeof n&&ou("array",n,t.length),"object"==typeof n&&(o=n.write(t.length,r,o)),t.forEach((t=>{o=e.write(t,r,o)})),o)})}function uu(e,t={}){const n=t.size??Uc(),r=au(e),o=lu(n,r),i=lu(n,su(e))??void 0;return Ka({...null!==o?{fixedSize:o}:{maxSize:i},read:(t,r)=>{const o=[];if("object"==typeof n&&0===t.slice(r).length)return[o,r];if("remainder"===n){for(;r<t.length;){const[n,i]=e.read(t,r);r=i,o.push(n)}return[o,r]}const[i,a]="number"==typeof n?[n,r]:n.read(t,r);r=a;for(let n=0;n<i;n+=1){const[n,i]=e.read(t,r);r=i,o.push(n)}return[o,r]}})}function lu(e,t){return"number"!=typeof e?null:0===e?0:null===t?null:t*e}function du(e={}){return ss(e.size??$c(),(e=>e?1:0))}function fu(e={}){return cs(e.size??Fc(),(e=>1===Number(e)))}function hu(){return Va({getSizeFromValue:e=>e.length,write:(e,t,n)=>(t.set(e,n),n+e.length)})}function pu(){return Ka({read:(e,t)=>{const n=e.slice(t);return[n,t+n.length]}})}var gu=()=>Ka({read(e,t){const n=e.slice(t).reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),"");return[n,e.length]}});function mu(e){return Va({fixedSize:e.length,write:(t,n,r)=>(n.set(e,r),r+e.length)})}function yu(e){return Ka({fixedSize:e.length,read:(t,n)=>{const r=gu();if(!qa(t,e,n))throw new Ba(xa,{constant:e,data:t,hexConstant:r.decode(e),hexData:r.decode(t),offset:n});return[void 0,n+e.length]}})}function vu(e){const t=iu(e.map(au)),n=iu(e.map(su))??void 0;return Va({...null===t?{getSizeFromValue:t=>e.map(((e,n)=>Wa(t[n],e))).reduce(((e,t)=>e+t),0),maxSize:n}:{fixedSize:t},write:(t,n,r)=>(ou("tuple",e.length,t.length),e.forEach(((e,o)=>{r=e.write(t[o],n,r)})),r)})}function wu(e){const t=iu(e.map(au)),n=iu(e.map(su))??void 0;return Ka({...null===t?{maxSize:n}:{fixedSize:t},read:(t,n)=>{const r=[];return e.forEach((e=>{const[o,i]=e.read(t,n);r.push(o),n=i})),[r,n]}})}function Au(e,t){const n=Eu(e),r=(n,r,o)=>{const i=t(n);return Su(e,i),e[i].write(n,r,o)};if(null!==n)return Va({fixedSize:n,write:r});const o=xu(e);return Va({...null!==o?{maxSize:o}:{},getSizeFromValue:n=>{const r=t(n);return Su(e,r),Wa(n,e[r])},write:r})}function bu(e,t){const n=Eu(e),r=(n,r)=>{const o=t(n,r);return Su(e,o),e[o].read(n,r)};if(null!==n)return Ka({fixedSize:n,read:r});const o=xu(e);return Ka({...null!==o?{maxSize:o}:{},read:r})}function Su(e,t){if(void 0===e[t])throw new Ba(Ea,{maxRange:e.length-1,minRange:0,variant:t})}function Eu(e){if(0===e.length)return 0;if(!Ga(e[0]))return null;const t=e[0].fixedSize;return e.every((e=>Ga(e)&&e.fixedSize===t))?t:null}function xu(e){return e.map((e=>su(e))).reduce(((e,t)=>null===e||null===t?null:Math.max(e,t)),0)}function Tu(e,t={}){const n=t.discriminator??"__kind",r=t.size??Fc();return bu(e.map((([e,t])=>cs(wu([r,t]),(([,t])=>({[n]:e,...t}))))),((e,t)=>Number(r.read(e,t)[0])))}function ku(e){const t=[...new Set(Object.values(e).filter((e=>"number"==typeof e)))].sort(),n=Object.fromEntries(Object.entries(e).slice(t.length)),r=Object.keys(n),o=Object.values(n),i=[...new Set([...r,...o.filter((e=>"string"==typeof e))])];return{enumKeys:r,enumRecord:n,enumValues:o,numericalValues:t,stringValues:i}}function Iu(e,t){let n=e.length;for(;n--;)if(t(e[n],n,e))return n;return-1}function _u(e){if(0===e.length)return"";let t=[e[0],e[0]];const n=[];for(let r=1;r<e.length;r++){const o=e[r];t[1]+1===o?t[1]=o:(n.push(t[0]===t[1]?`${t[0]}`:`${t[0]}-${t[1]}`),t=[o,o])}return n.push(t[0]===t[1]?`${t[0]}`:`${t[0]}-${t[1]}`),n.join(", ")}function Cu(e,t={}){const n=t.size??$c(),r=t.useValuesAsDiscriminators??!1,{enumKeys:o,enumValues:i,numericalValues:a,stringValues:s}=ku(e);if(r&&i.some((e=>"string"==typeof e)))throw new Ba(Ta,{stringValues:i.filter((e=>"string"==typeof e))});return ss(n,(e=>{const t=function({enumKeys:e,enumValues:t,variant:n}){const r=Iu(t,(e=>e===n));return r>=0?r:e.findIndex((e=>e===n))}({enumKeys:o,enumValues:i,variant:e});if(t<0)throw new Ba(va,{formattedNumericalValues:_u(a),numericalValues:a,stringValues:s,variant:e});return r?i[t]:t}))}function Ru(e,t={}){const n=t.size??Fc(),r=t.useValuesAsDiscriminators??!1,{enumKeys:o,enumValues:i,numericalValues:a}=ku(e);if(r&&i.some((e=>"string"==typeof e)))throw new Ba(Ta,{stringValues:i.filter((e=>"string"==typeof e))});return cs(n,(e=>{const t=Number(e),n=function({discriminator:e,enumKeys:t,enumValues:n,useValuesAsDiscriminators:r}){return r?Iu(n,(t=>t===e)):e>=0&&e<t.length?e:-1}({discriminator:t,enumKeys:o,enumValues:i,useValuesAsDiscriminators:r});if(n<0){const e=r?a:[...Array(o.length).keys()];throw new Ba(ya,{discriminator:t,formattedValidDiscriminators:_u(e),validDiscriminators:e})}return i[n]}))}var Pu;function Ou(){return Va({fixedSize:0,write:(e,t,n)=>n})}function Nu(){return Ka({fixedSize:0,read:(e,t)=>[void 0,t]})}function Bu(e){const t=e.map((([,e])=>e)),n=iu(t.map(au)),r=iu(t.map(su))??void 0;return Va({...null===n?{getSizeFromValue:t=>e.map((([e,n])=>Wa(t[e],n))).reduce(((e,t)=>e+t),0),maxSize:r}:{fixedSize:n},write:(t,n,r)=>(e.forEach((([e,o])=>{r=o.write(t[e],n,r)})),r)})}function zu(e){const t=e.map((([,e])=>e)),n=iu(t.map(au)),r=iu(t.map(su))??void 0;return Ka({...null===n?{maxSize:r}:{fixedSize:n},read:(t,n)=>{const r={};return e.forEach((([e,o])=>{const[i,a]=o.read(t,n);n=a,r[e]=i})),[r,n]}})}function Mu(){return Pu||(Pu=ms()),Pu}function ju(e){if(e.length<32||e.length>44)throw new Ba(ii,{actualLength:e.length});const t=Mu().encode(e).byteLength;if(32!==t)throw new Ba(ai,{actualLength:t})}function Uu(e){switch(e){case"finalized":return 2;case"confirmed":return 1;case"processed":return 0;default:throw new Ba(Ca,{unexpectedValue:e})}}var Du=18446744073709551615n;function Lu(e){return function(e){if(e<0||e>Du)throw new Ba(si)}(e),e}function $u(e,...t){return t.reduce(((e,t)=>t(e)),e)}function Fu(e){if(!("lifetimeConstraint"in e&&"string"==typeof e.lifetimeConstraint.blockhash&&"bigint"==typeof e.lifetimeConstraint.lastValidBlockHeight))return!1;try{return ju(e.lifetimeConstraint.blockhash),!0}catch{return!1}}function qu(e,t){if("lifetimeConstraint"in t&&t.lifetimeConstraint.blockhash===e.blockhash&&t.lifetimeConstraint.lastValidBlockHeight===e.lastValidBlockHeight)return t;const n={...t,lifetimeConstraint:Object.freeze(e)};return Object.freeze(n),n}var Wu=e=>Va({getSizeFromValue:t=>{const[n,r]=Ku(t,e[0]);if(!r)return t.length;const o=Gu(r,e);return n.length+Math.ceil(o.toString(16).length/2)},write(t,n,r){if(function(e,t,n=t){if(!t.match(new RegExp(`^[${e}]*$`)))throw new Ba(Aa,{alphabet:e,base:e.length,value:n})}(e,t),""===t)return r;const[o,i]=Ku(t,e[0]);if(!i)return n.set(new Uint8Array(o.length).fill(0),r),r+o.length;let a=Gu(i,e);const s=[];for(;a>0n;)s.unshift(Number(a%256n)),a/=256n;const c=[...Array(o.length).fill(0),...s];return n.set(c,r),r+c.length}}),Vu=e=>Ka({read(t,n){const r=0===n?t:t.slice(n);if(0===r.length)return["",0];let o=r.findIndex((e=>0!==e));o=-1===o?r.length:o;const i=e[0].repeat(o);if(o===r.length)return[i,t.length];const a=function(e,t){const n=BigInt(t.length),r=[];for(;e>0n;)r.unshift(t[Number(e%n)]),e/=n;return r.join("")}(r.slice(o).reduce(((e,t)=>256n*e+BigInt(t)),0n),e);return[i+a,t.length]}});function Ku(e,t){const[n,r]=e.split(new RegExp(`((?!${t}).*)`));return[n,r]}function Gu(e,t){const n=BigInt(t.length);let r=0n;for(const o of e)r*=n,r+=BigInt(t.indexOf(o));return r}var Hu,Ju,Zu,Yu,Xu,Qu,el="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",tl=()=>Wu(el),nl=()=>Vu(el);function rl(){return Zu||(Zu=$c()),Zu}function ol(){return Yu||(Yu=Fc()),Yu}var il=128;function al(){return Va({getSizeFromValue:e=>"legacy"===e?0:1,maxSize:1,write:(e,t,n)=>{if("legacy"===e)return n;if(e<0||e>127)throw new Ba(Hi,{actualVersion:e});return t.set([e|il],n),n+1}})}function sl(){return Ka({maxSize:1,read:(e,t)=>{const n=e[t];if(0==(n&il))return["legacy",t];return[n^il,t+1]}})}function cl(){return Bu(ll())}function ul(){return ss(Bu([...ll(),["addressTableLookups",cu((Hu||(Hu=Bu([["lookupTableAddress",Ms()],["writableIndices",cu($c(),{size:Bc()})],["readableIndices",cu($c(),{size:Bc()})]])),Hu),{size:Bc()})]]),(e=>"legacy"===e.version?e:{...e,addressTableLookups:e.addressTableLookups??[]}))}function ll(){return[["version",al()],["header",Bu([["numSignerAccounts",rl()],["numReadonlySignerAccounts",rl()],["numReadonlyNonSignerAccounts",rl()]])],["staticAccounts",cu(Ms(),{size:Bc()})],["lifetimeToken",ts(tl(),32)],["instructions",cu((Xu||(Xu=ss(Bu([["programAddressIndex",$c()],["accountIndices",cu($c(),{size:Bc()})],["data",Qa(hu(),Bc())]]),(e=>void 0!==e.accountIndices&&void 0!==e.data?e:{...e,accountIndices:e.accountIndices??[],data:e.data??new Uint8Array(0)}))),Xu),{size:Bc()})]]}function dl(){return Va({getSizeFromValue:e=>"legacy"===e.version?cl().getSizeFromValue(e):ul().getSizeFromValue(e),write:(e,t,n)=>"legacy"===e.version?cl().write(e,t,n):ul().write(e,t,n)})}function fl(){return cs(zu([["version",sl()],["header",zu([["numSignerAccounts",ol()],["numReadonlySignerAccounts",ol()],["numReadonlyNonSignerAccounts",ol()]])],["staticAccounts",uu(js(),{size:zc()})],["lifetimeToken",ns(nl(),32)],["instructions",uu((Qu||(Qu=cs(zu([["programAddressIndex",Fc()],["accountIndices",uu(Fc(),{size:zc()})],["data",es(pu(),zc())]]),(e=>{if(e.accountIndices.length&&e.data.byteLength)return e;const{accountIndices:t,data:n,...r}=e;return{...r,...t.length?{accountIndices:t}:null,...n.byteLength?{data:n}:null}}))),Qu),{size:zc()})],["addressTableLookups",uu((Ju||(Ju=zu([["lookupTableAddress",js()],["writableIndices",uu(Fc(),{size:zc()})],["readableIndices",uu(Fc(),{size:zc()})]])),Ju),{size:zc()})]]),(({addressTableLookups:e,...t})=>"legacy"!==t.version&&e?.length?{...t,addressTableLookups:e}:t))}function hl(e,t,n){e[t]=n(e[t]??{role:Wc.READONLY})}var pl=Symbol("AddressMapTypeProperty");function gl(e){const t={};for(const n of e){if(!("lookupTableAddress"in n))continue;const e=t[n.lookupTableAddress]||={readableIndices:[],writableIndices:[]};n.role===Wc.WRITABLE?e.writableIndices.push(n.addressIndex):e.readableIndices.push(n.addressIndex)}return Object.keys(t).sort(Ds()).map((e=>({lookupTableAddress:e,...t[e]})))}function ml(e){let t=0,n=0,r=0;for(const o of e){if("lookupTableAddress"in o)break;const e=Hc(o.role);Gc(o.role)?(r++,e||n++):e||t++}return{numReadonlyNonSignerAccounts:t,numReadonlySignerAccounts:n,numSignerAccounts:r}}function yl(e,t){const n=function(e){const t={};for(const[n,r]of e.entries())t[r.address]=n;return t}(t);return e.map((({accounts:e,data:t,programAddress:r})=>({programAddressIndex:n[r],...e?{accountIndices:e.map((({address:e})=>n[e]))}:null,...t?{data:t}:null})))}function vl(e){const t=e.findIndex((e=>"lookupTableAddress"in e));return(-1===t?e:e.slice(0,t)).map((({address:e})=>e))}function wl(e){const t=function(e){let t;const n=Object.entries(e).sort((([e,n],[r,o])=>{if(n[pl]!==o[pl]){if(0===n[pl])return-1;if(0===o[pl])return 1;if(2===n[pl])return-1;if(2===o[pl])return 1}const i=Gc(n.role);if(i!==Gc(o.role))return i?-1:1;const a=Hc(n.role);return a!==Hc(o.role)?a?-1:1:(t||=Ds(),1===n[pl]&&1===o[pl]&&n.lookupTableAddress!==o.lookupTableAddress?t(n.lookupTableAddress,o.lookupTableAddress):t(e,r))})).map((([e,t])=>({address:e,...t})));return n}(function(e,t){const n={[e]:{[pl]:0,role:Wc.WRITABLE_SIGNER}},r=new Set;for(const e of t){let t;if(hl(n,e.programAddress,(t=>{if(r.add(e.programAddress),pl in t){if(Hc(t.role)){if(0===t[pl])throw new Ba(Ki,{programAddress:e.programAddress});throw new Ba(Gi,{programAddress:e.programAddress})}if(2===t[pl])return t}return{[pl]:2,role:Wc.READONLY}})),e.accounts)for(const o of e.accounts)hl(n,o.address,(e=>{const{address:n,...i}=o;if(pl in e)switch(e[pl]){case 0:return e;case 1:{const n=Jc(e.role,i.role);if("lookupTableAddress"in i){if(e.lookupTableAddress!==i.lookupTableAddress&&(t||=Ds())(i.lookupTableAddress,e.lookupTableAddress)<0)return{[pl]:1,...i,role:n}}else if(Gc(i.role))return{[pl]:2,role:n};return e.role!==n?{...e,role:n}:e}case 2:{const t=Jc(e.role,i.role);if(r.has(o.address)){if(Hc(i.role))throw new Ba(Gi,{programAddress:o.address});return e.role!==t?{...e,role:t}:e}return"lookupTableAddress"in i&&!Gc(e.role)?{...i,[pl]:1,role:t}:e.role!==t?{...e,role:t}:e}}return"lookupTableAddress"in i?{...i,[pl]:1}:{...i,[pl]:2}}))}return n}(e.feePayer.address,e.instructions));return{..."legacy"!==e.version?{addressTableLookups:gl(t)}:null,header:ml(t),instructions:yl(e.instructions,t),lifetimeToken:(n=e.lifetimeConstraint,"nonce"in n?n.nonce:n.blockhash),staticAccounts:vl(t),version:e.version};var n}function Al({version:e}){return Object.freeze({instructions:Object.freeze([]),version:e})}var bl,Sl="SysvarRecentB1ockHashes11111111111111111111",El="11111111111111111111111111111111";function xl(e,t){return{accounts:[{address:e,role:Wc.WRITABLE},{address:Sl,role:Wc.READONLY},{address:t,role:Wc.READONLY_SIGNER}],data:new Uint8Array([4,0,0,0]),programAddress:El}}function Tl(e){return e.programAddress===El&&null!=e.data&&(4===(t=e.data).byteLength&&4===t[0]&&0===t[1]&&0===t[2]&&0===t[3])&&3===e.accounts?.length&&null!=e.accounts[0].address&&e.accounts[0].role===Wc.WRITABLE&&e.accounts[1].address===Sl&&e.accounts[1].role===Wc.READONLY&&null!=e.accounts[2].address&&Gc(e.accounts[2].role);var t}function kl(e){return"lifetimeConstraint"in e&&"string"==typeof e.lifetimeConstraint.nonce&&null!=e.instructions[0]&&Tl(e.instructions[0])}function Il(e,t){if("feePayer"in t&&e===t.feePayer?.address&&function(e){return!!e&&"address"in e&&"string"==typeof e.address&&1===Object.keys(e).length}(t.feePayer))return t;const n={...t,feePayer:Object.freeze({address:e})};return Object.freeze(n),n}function _l(e,t){return Cl([e],t)}function Cl(e,t){return Object.freeze({...t,instructions:Object.freeze([...t.instructions,...e])})}function Rl(e,t){return Object.freeze({...t,instructions:Object.freeze([...e,...t.instructions])})}function Pl(e,t){const n=e.staticAccounts[0];if(!n)throw new Ba(Xi);const r=[...function(e){const{header:t}=e,n=t.numSignerAccounts-t.numReadonlySignerAccounts,r=e.staticAccounts.length-t.numSignerAccounts-t.numReadonlyNonSignerAccounts,o=[];let i=0;for(let t=0;t<n;t++)o.push({address:e.staticAccounts[i],role:Wc.WRITABLE_SIGNER}),i++;for(let n=0;n<t.numReadonlySignerAccounts;n++)o.push({address:e.staticAccounts[i],role:Wc.READONLY_SIGNER}),i++;for(let t=0;t<r;t++)o.push({address:e.staticAccounts[i],role:Wc.WRITABLE}),i++;for(let n=0;n<t.numReadonlyNonSignerAccounts;n++)o.push({address:e.staticAccounts[i],role:Wc.READONLY}),i++;return o}(e),..."addressTableLookups"in e&&void 0!==e.addressTableLookups&&e.addressTableLookups.length>0?function(e,t){const n=e.map((e=>e.lookupTableAddress)).filter((e=>void 0===t[e]));if(n.length>0)throw new Ba(Ji,{lookupTableAddresses:n});const r=[],o=[];for(const n of e){const e=t[n.lookupTableAddress],i=Math.max(...n.readableIndices,...n.writableIndices);if(i>=e.length)throw new Ba(Zi,{highestKnownIndex:e.length-1,highestRequestedIndex:i,lookupTableAddress:n.lookupTableAddress});const a=n.readableIndices.map((t=>({address:e[t],addressIndex:t,lookupTableAddress:n.lookupTableAddress,role:Wc.READONLY})));r.push(...a);const s=n.writableIndices.map((t=>({address:e[t],addressIndex:t,lookupTableAddress:n.lookupTableAddress,role:Wc.WRITABLE})));o.push(...s)}return[...o,...r]}(e.addressTableLookups,t?.addressesByLookupTableAddress??{}):[]],o=e.instructions.map((e=>function(e,t){const n=t[e.programAddressIndex]?.address;if(!n)throw new Ba(Yi,{index:e.programAddressIndex});const r=e.accountIndices?.map((e=>t[e])),{data:o}=e;return Object.freeze({programAddress:n,...r&&r.length?{accounts:Object.freeze(r)}:{},...o&&o.length?{data:o}:{}})}(e,r))),i=o[0],a=function(e,t,n){if(t&&Tl(t)){const n=t.accounts[0].address;Bs(n);const r=t.accounts[2].address;return Bs(r),{nonce:e,nonceAccountAddress:n,nonceAuthorityAddress:r}}return{blockhash:e,lastValidBlockHeight:n??2n**64n-1n}}(e.lifetimeToken,i,t?.lastValidBlockHeight);return $u(Al({version:e.version}),(e=>Il(n,e)),(e=>o.reduce(((e,t)=>_l(t,e)),e)),(e=>"blockhash"in a?qu(a,e):function({nonce:e,nonceAccountAddress:t,nonceAuthorityAddress:n},r){let o;const i=r.instructions[0];if(i&&Tl(i))if(function(e,t,n){return e.accounts[0].address===t&&e.accounts[2].address===n}(i,t,n)){if(kl(r)&&r.lifetimeConstraint.nonce===e)return r;o=[i,...r.instructions.slice(1)]}else o=[Object.freeze(xl(t,n)),...r.instructions.slice(1)];else o=[Object.freeze(xl(t,n)),...r.instructions];return Object.freeze({...r,instructions:Object.freeze(o),lifetimeConstraint:Object.freeze({nonce:e})})}(a,e)))}function Ol(e){const t=Object.values(e);if(0===t.length)throw new Ba(na);return t.map((e=>e||new Uint8Array(64).fill(0)))}function Nl(){return Bu([["signatures",ss(cu(ts(hu(),64),{size:Bc()}),Ol)],["messageBytes",hu()]])}function Bl(){return cs(zu([["signatures",uu(ns(pu(),64),{size:zc()})],["messageBytes",pu()]]),zl)}function zl(e){const{messageBytes:t,signatures:n}=e,r=wu([sl(),as(Fc(),2),uu(js(),{size:zc()})]),[o,i,a]=r.decode(t),s=a.slice(0,i);if(s.length!==n.length)throw new Ba(ra,{numRequiredSignatures:i,signaturesLength:n.length,signerAddresses:s});const c={};return s.forEach(((e,t)=>{const r=n[t];r.every((e=>0===e))?c[e]=null:c[e]=r})),{messageBytes:t,signatures:Object.freeze(c)}}function Ml(e){const t=wl(e),n=dl().encode(t),r=t.staticAccounts.slice(0,t.header.numSignerAccounts),o={};for(const e of r)o[e]=null;let i;i=Fu(e)?{blockhash:e.lifetimeConstraint.blockhash,lastValidBlockHeight:e.lifetimeConstraint.lastValidBlockHeight}:{nonce:e.lifetimeConstraint.nonce,nonceAccountAddress:e.instructions[0].accounts[0].address};const a={lifetimeConstraint:i,messageBytes:n,signatures:Object.freeze(o)};return Object.freeze(a)}function jl(e){bl||(bl=ys());const t=Object.values(e.signatures)[0];if(!t)throw new Ba(ea);return bl.decode(t)}async function Ul(e,t){let n,r;if(await Promise.all(e.map((async e=>{const o=await Xs(e.publicKey),i=t.signatures[o];if(void 0===i)return r||=new Set,void r.add(o);if(r)return;const a=await eu(e.privateKey,t.messageBytes);var s,c;null!==i&&(c=i,(s=a).length===c.length&&s.every(((e,t)=>e===c[t])))||(n||={},n[o]=a)}))),r&&r.size>0){const e=Object.keys(t.signatures);throw new Ba(ta,{expectedAddresses:e,unexpectedAddresses:[...r]})}return n?Object.freeze({...t,signatures:Object.freeze({...t.signatures,...n})}):t}function Dl(e){const t=[];if(Object.entries(e.signatures).forEach((([e,n])=>{n||t.push(e)})),t.length>0)throw new Ba(Qi,{addresses:t})}function Ll(e){const t=Nl().encode(e);return Es().decode(t)}function $l(e){const t={};return e.forEach((e=>{if(t[e.address]){if(t[e.address]!==e)throw new Ba(Vi,{address:e.address})}else t[e.address]=e})),Object.values(t)}function Fl(e){return"modifyAndSignTransactions"in e&&"function"==typeof e.modifyAndSignTransactions}function ql(e){return"signTransactions"in e&&"function"==typeof e.signTransactions}function Wl(e){return"signAndSendTransactions"in e&&"function"==typeof e.signAndSendTransactions}function Vl(e){return ql(e)||Fl(e)||Wl(e)}function Kl(e){return $l((e.accounts??[]).flatMap((e=>"signer"in e?e.signer:[])))}function Gl(e){return $l([...e.feePayer&&Vl(e.feePayer)?[e.feePayer]:[],...e.instructions.flatMap(Kl)])}function Hl(e,t){const n=(r=t)&&"feePayer"in r&&r.feePayer&&"string"==typeof r.feePayer.address&&!Vl(r.feePayer)?e.find((e=>e.address===t.feePayer.address)):void 0;var r;return n||0!==t.instructions.length?Object.freeze({...t,...n?{feePayer:n}:null,instructions:t.instructions.map((t=>function(e,t){if(!t.accounts||0===t.accounts.length)return t;const n=new Map($l(e).map((e=>[e.address,e])));return Object.freeze({...t,accounts:t.accounts.map((e=>{const t=n.get(e.address);return Gc(e.role)&&!("signer"in e)&&t?Object.freeze({...e,signer:t}):e}))})}(e,t)))}):t}async function Jl(e){const t=await Xs(e.publicKey),n={address:t,keyPair:e,signMessages:n=>Promise.all(n.map((async n=>Object.freeze({[t]:await eu(e.privateKey,n.content)})))),signTransactions:n=>Promise.all(n.map((async n=>{const r=await Ul([e],n);return Object.freeze({[t]:r.signatures[t]})})))};return Object.freeze(n)}async function Zl(e,t){return await Jl(await ru(e,t))}function Yl(e){const t={address:e,signMessages:e=>Promise.resolve(e.map((()=>Object.freeze({})))),signTransactions:e=>Promise.resolve(e.map((()=>Object.freeze({}))))};return Object.freeze(t)}async function Xl(e,t){const{partialSigners:n,modifyingSigners:r}=Ql($l(Gl(e).filter(Vl)),{identifySendingSigner:!1});return await ed(e,r,n,t)}function Ql(e,t={}){const n=t.identifySendingSigner??!0?function(e){const t=e.filter(Wl);if(0===t.length)return null;const n=t.filter((e=>!Fl(e)&&!ql(e)));if(n.length>0)return n[0];return t[0]}(e):null,r=e.filter((e=>e!==n&&(Fl(e)||ql(e)))),o=function(e){const t=e.filter(Fl);if(0===t.length)return[];const n=t.filter((e=>!ql(e)));return n.length>0?n:[t[0]]}(r),i=r.filter(ql).filter((e=>!o.includes(e)));return Object.freeze({modifyingSigners:o,partialSigners:i,sendingSigner:n})}async function ed(e,t=[],n=[],r){const o=Ml(e),i=await t.reduce((async(e,t)=>{r?.abortSignal?.throwIfAborted();const[n]=await t.modifyAndSignTransactions([await e],r);return Object.freeze(n)}),Promise.resolve(o));r?.abortSignal?.throwIfAborted();const a=await Promise.all(n.map((async e=>{const[t]=await e.signTransactions([i],r);return t}))),s={...i,signatures:Object.freeze(a.reduce(((e,t)=>({...e,...t})),i.signatures??{}))};return Object.freeze(s)}var td=globalThis.TextEncoder;var nd,rd=((nd=rd||{})[nd.Uninitialized=0]="Uninitialized",nd[nd.Initialized=1]="Initialized",nd);var od,id=((od=id||{})[od.Legacy=0]="Legacy",od[od.Current=1]="Current",od);var ad,sd,cd="11111111111111111111111111111111",ud=((ad=ud||{})[ad.Nonce=0]="Nonce",ad),ld=((sd=ld||{})[sd.CreateAccount=0]="CreateAccount",sd[sd.Assign=1]="Assign",sd[sd.TransferSol=2]="TransferSol",sd[sd.CreateAccountWithSeed=3]="CreateAccountWithSeed",sd[sd.AdvanceNonceAccount=4]="AdvanceNonceAccount",sd[sd.WithdrawNonceAccount=5]="WithdrawNonceAccount",sd[sd.InitializeNonceAccount=6]="InitializeNonceAccount",sd[sd.AuthorizeNonceAccount=7]="AuthorizeNonceAccount",sd[sd.Allocate=8]="Allocate",sd[sd.AllocateWithSeed=9]="AllocateWithSeed",sd[sd.AssignWithSeed=10]="AssignWithSeed",sd[sd.TransferSolWithSeed=11]="TransferSolWithSeed",sd[sd.UpgradeNonceAccount=12]="UpgradeNonceAccount",sd);function dd(e){if(!e)throw new Error("Expected a Address.");return"object"==typeof e&&"address"in e?e.address:Array.isArray(e)?e[0]:e}function fd(e,t){return t=>{if(!t.value)return Object.freeze({address:e,role:Wc.READONLY});const n=t.isWritable?Wc.WRITABLE:Wc.READONLY;return Object.freeze({address:dd(t.value),role:hd(t.value)?Zc(n):n,...hd(t.value)?{signer:t.value}:{}})}}function hd(e){return!!e&&"object"==typeof e&&"address"in e&&Vl(e)}function pd(){return zu([["discriminator",Uc()]])}function gd(){return zu([["discriminator",Uc()],["space",Lc()]])}function md(){return zu([["discriminator",Uc()],["base",js()],["seed",es(_s(),Lc())],["space",Lc()],["programAddress",js()]])}function yd(){return zu([["discriminator",Uc()],["programAddress",js()]])}function vd(){return zu([["discriminator",Uc()],["base",js()],["seed",es(_s(),Lc())],["programAddress",js()]])}function wd(){return zu([["discriminator",Uc()],["newNonceAuthority",js()]])}function Ad(){return zu([["discriminator",Uc()],["lamports",Lc()],["space",Lc()],["programAddress",js()]])}function bd(){return zu([["discriminator",Uc()],["base",js()],["seed",es(_s(),Lc())],["amount",Lc()],["space",Lc()],["programAddress",js()]])}function Sd(){return zu([["discriminator",Uc()],["nonceAuthority",js()]])}var Ed=2;function xd(){return ss(Bu([["discriminator",jc()],["amount",Dc()]]),(e=>({...e,discriminator:Ed})))}function Td(){return zu([["discriminator",Uc()],["amount",Lc()]])}function kd(){return zu([["discriminator",Uc()],["amount",Lc()],["fromSeed",es(_s(),Lc())],["fromOwner",js()]])}function Id(){return zu([["discriminator",Uc()]])}function _d(){return zu([["discriminator",Uc()],["withdrawAmount",Lc()]])}const Cd={log:(console.log,(...e)=>{}),info:(console.info,(...e)=>{}),warn:(console.warn,(...e)=>{}),debug:(console.debug,(...e)=>{}),error:(console.error,(...e)=>{})},Rd=ae([H(["btc","eth","ltc","bch","bnb","eos","xrp","xlm","link","dot","yfi","bits","sats","sol","sei","sonic"]),H(["usd","aed","amd","ars","aud","bam","bdt","bhd","bmd","brl","cad","chf","clp","cny","cop","crc","czk","dkk","dop","eur","gbp","gel","gtq","hkd","hnl","huf","idr","ils","inr","jpy","kes","krw","kwd","lbp","lkr","mmk","mxn","myr","ngn","nok","nzd","pen","php","pkr","pln","ron","rub","sar","sek","sgd","svc","thb","try","twd","uah","vef","vnd","xdr","zar","zmw"]),H(["xag","xau"])]),Pd=ee({id:re(),price:he(Q(),0),marketCap:te(X(he(Q(),0))),allTimeHigh:te(X(he(Q(),0))),allTimeLow:te(X(he(Q(),0))),totalVolume:te(X(he(Q(),0))),high1d:te(X(he(Q(),0))),low1d:te(X(he(Q(),0))),circulatingSupply:te(X(he(Q(),0))),dilutedMarketCap:te(X(he(Q(),0))),marketCapPercentChange1d:te(X(Q())),priceChange1d:te(X(Q())),pricePercentChange1h:te(X(Q())),pricePercentChange1d:te(X(Q())),pricePercentChange7d:te(X(Q())),pricePercentChange14d:te(X(Q())),pricePercentChange30d:te(X(Q())),pricePercentChange200d:te(X(Q())),pricePercentChange1y:te(X(Q())),bondingCurveProgressPercent:te(X(Q())),liquidity:te(X(Q())),totalSupply:te(X(Q())),holderCount:te(X(Q())),isMutable:te(X(G()))}),Od=ne(Jo,X(Pd)),Nd=Rd,Bd=ee({assetType:Jo,timePeriod:te(ge(re(),/^[1-9][0-9]*[dmy]$/u)),from:te(he(Q(),0)),to:te(he(Q(),0)),vsCurrency:te(Nd)}),zd=ee({prices:K(oe([Q(),Q()])),marketCaps:K(oe([Q(),Q()])),totalVolumes:K(oe([Q(),Q()]))}),Md={prices:[],marketCaps:[],totalVolumes:[]};class jd{#o;#i;#a;#s;#c;static cacheTtlsMilliseconds={fiatExchangeRates:Yo.Minute,spotPrices:Yo.Minute,historicalPrices:Yo.Minute};constructor(e,t,n=globalThis.fetch,r=Cd){const{baseUrl:o,chunkSize:i}=e.get().priceApi;z(o,lc),this.#o=n,this.#i=r,this.#a=o,this.#s=i,this.#c=t}async getFiatExchangeRates(){try{const e=await this.#o(`${this.#a}/v1/exchange-rates/fiat`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(e){throw this.#i.error(e,"Error fetching fiat exchange rates"),e}}async#u(e,t="usd"){try{if(z(e,K(Jo)),z(t,Nd),0===e.length)return{};const n=[...new Set(e)],r=[];for(let e=0;e<n.length;e+=this.#s)r.push(n.slice(e,e+this.#s));const o=await Promise.all(r.map((async e=>{const n=Ec({baseUrl:this.#a,path:"/v3/spot-prices",queryParams:{vsCurrency:t,assetIds:e.join(","),includeMarketData:"true"}}),r=await this.#o(n);if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const o=await r.json();return z(o,Od),o}))),i=o.reduce(((e,t)=>({...e,...t})),{});return await this.#c.mset(e.map((e=>({key:`PriceApiClient:getMultipleSpotPrices:${e}:${t}`,value:i[e],ttlMilliseconds:jd.cacheTtlsMilliseconds.spotPrices})))),i}catch(e){throw this.#i.error(e,"Error fetching spot prices"),e}}async#l(e,t="usd"){const n=[...new Set(e)],r="PriceApiClient:getMultipleSpotPrices",o=e=>`${r}:${e}:${t}`,i=await this.#c.mget(n.map(o)),a=(0,ni.mapKeys)(i,((e,t)=>(e=>{const t=new RegExp(`^${r}:(.+):(.+)$`,"u"),n=e.match(t);if(!n)throw new Error("Invalid cache key");return n})(t)[1])),s=n.filter((e=>void 0===a[e]));if(0===s.length)return a;const c=await this.#u(s,t);return await this.#c.mset(Object.entries(c).map((([e,t])=>({key:o(e),value:t,ttlMilliseconds:jd.cacheTtlsMilliseconds.spotPrices})))),{...a,...c}}async getMultipleSpotPrices(e,t="usd"){return this.#l(e,t)}async#d(e){z(e,Bd);const t=Ec({baseUrl:this.#a,path:"/v3/historical-prices/{assetType}",pathParams:{assetType:e.assetType},queryParams:{...e.timePeriod&&{timePeriod:e.timePeriod},...e.from&&{from:e.from.toString()},...e.to&&{to:e.to.toString()},...e.vsCurrency&&{vsCurrency:e.vsCurrency}}}),n=await this.#o(t),r=await n.json();return z(r,zd),r}async getHistoricalPrices(e){return oi(this.#d.bind(this),this.#c,{functionName:"PriceApiClient:getHistoricalPrices",ttlMilliseconds:jd.cacheTtlsMilliseconds.historicalPrices})(e)}}const Ud=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let e=0;e<t.length;e++)t[e]=255;for(let n=0;n<e.length;n++){const r=e.charAt(n),o=r.charCodeAt(0);if(255!==t[o])throw new TypeError(r+" is ambiguous");t[o]=n}const n=e.length,r=e.charAt(0),o=Math.log(n)/Math.log(256),i=Math.log(256)/Math.log(n);function a(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;let i=0,a=0,s=0;for(;e[i]===r;)a++,i++;const c=(e.length-i)*o+1>>>0,u=new Uint8Array(c);for(;e[i];){let r=t[e.charCodeAt(i)];if(255===r)return;let o=0;for(let e=c-1;(0!==r||o<s)&&-1!==e;e--,o++)r+=n*u[e]>>>0,u[e]=r%256>>>0,r=r/256>>>0;if(0!==r)throw new Error("Non-zero carry");s=o,i++}let l=c-s;for(;l!==c&&0===u[l];)l++;const d=new Uint8Array(a+(c-l));let f=a;for(;l!==c;)d[f++]=u[l++];return d}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";let o=0,a=0,s=0;const c=t.length;for(;s!==c&&0===t[s];)s++,o++;const u=(c-s)*i+1>>>0,l=new Uint8Array(u);for(;s!==c;){let e=t[s],r=0;for(let t=u-1;(0!==e||r<a)&&-1!==t;t--,r++)e+=256*l[t]>>>0,l[t]=e%n>>>0,e=e/n>>>0;if(0!==e)throw new Error("Non-zero carry");a=r,s++}let d=u-a;for(;d!==u&&0===l[d];)d++;let f=r.repeat(o);for(;d<u;++d)f+=e.charAt(l[d]);return f},decodeUnsafe:a,decode:function(e){const t=a(e);if(t)return t;throw new Error("Non-base"+n+" character")}}};const Dd=Ud("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var Ld=n(1048).hp;const $d={[nc.Mainnet]:"mainnet",[nc.Devnet]:"devnet",[nc.Testnet]:"testnet",[nc.Localnet]:"localnet"};class Fd{#f;#i;constructor(e,t=Cd){this.#f=e,this.#i=t}static isMaybeNonFungible(e){const{tokenAmount:t}=e,{decimals:n}=t;return!1}}const qd=K(ee({decimals:J(),assetId:Jo,name:te(re()),symbol:te(re()),iconUrl:te(lc)}));class Wd{#o;#i;#a;#s;#h;static supportedNetworks=[nc.Mainnet,nc.Devnet];constructor(e,t=globalThis.fetch,n=Cd){this.#o=t,this.#i=n;const{tokenApi:r,staticApi:o}=e.get(),{baseUrl:i,chunkSize:a}=r;z(i,lc),this.#a=i,this.#s=a,this.#h=o.baseUrl}async#p(e){z(e,K(Jo));const t=Ec({baseUrl:this.#a,path:"/v3/assets",queryParams:{assetIds:e.join(",")}}),n=await this.#o(t);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const r=await n.json();return z(r,qd),r}async getTokenMetadataFromAddresses(e){try{z(e,K(Jo));const t=e.filter((e=>{const{chainId:t}=Xo(e);return Wd.supportedNetworks.includes(t)}));t.length!==e.length&&this.#i.warn(`[TokenMetadataClient] Received some asset types on networks that the Token API doesn't support. They will be ignored. Supported networks: ${Wd.supportedNetworks.join(", ")}`);const n=[];for(let e=0;e<t.length;e+=this.#s)n.push(t.slice(e,e+this.#s));const r=await Promise.all(n.map((async e=>this.#p(e)))),o=new Map;return r.flat().forEach((e=>{const t=e?.symbol,n=e?.name??t,r=e?.decimals;t&&n?o.set(e.assetId,{name:n,symbol:t,fungible:!Fd.isMaybeNonFungible({tokenAmount:{decimals:r}}),iconUrl:e?.iconUrl??Ec({baseUrl:this.#h,path:"/api/v2/tokenIcons/assets/{assetId}.png",pathParams:{assetId:e.assetId.replace(/:/gu,"/")}}),units:[{name:n,symbol:t,decimals:r}]}):this.#i.warn(`No metadata for ${e.assetId}`)})),Object.fromEntries(o)}catch(e){throw this.#i.error(e,"Error fetching token metadata"),e}}}var Vd=function(e){return e.SignAndSendTransactionWithoutConfirmation="signAndSendTransactionWithoutConfirmation",e}({});class Kd extends TypeError{constructor(e,t){let n;const{message:r,explanation:o,...i}=e,{path:a}=e,s=0===a.length?r:`At path: ${a.join(".")} -- ${r}`;super(o??s),null!=o&&(this.cause=s),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}}function Gd(e){return"object"==typeof e&&null!==e}function Hd(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function Jd(e,t,n,r){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:o,branch:i}=t,{type:a}=n,{refinement:s,message:c=`Expected a value of type \`${a}\`${s?` with refinement \`${s}\``:""}, but received: \`${Hd(r)}\``}=e;return{value:r,type:a,refinement:s,key:o[o.length-1],path:o,branch:i,...e,message:c}}function*Zd(e,t,n,r){(function(e){return Gd(e)&&"function"==typeof e[Symbol.iterator]})(e)||(e=[e]);for(const o of e){const e=Jd(o,t,n,r);e&&(yield e)}}function*Yd(e,t,n={}){const{path:r=[],branch:o=[e],coerce:i=!1,mask:a=!1}=n,s={path:r,branch:o};if(i&&(e=t.coercer(e,s),a&&"type"!==t.type&&Gd(t.schema)&&Gd(e)&&!Array.isArray(e)))for(const n in e)void 0===t.schema[n]&&delete e[n];let c="valid";for(const r of t.validator(e,s))r.explanation=n.message,c="not_valid",yield[r,void 0];for(let[u,l,d]of t.entries(e,s)){const t=Yd(l,d,{path:void 0===u?r:[...r,u],branch:void 0===u?o:[...o,l],coerce:i,mask:a,message:n.message});for(const n of t)n[0]?(c=null===n[0].refinement||void 0===n[0].refinement?"not_valid":"not_refined",yield[n[0],void 0]):i&&(l=n[1],void 0===u?e=l:e instanceof Map?e.set(u,l):e instanceof Set?e.add(l):Gd(e)&&(void 0!==l||u in e)&&(e[u]=l))}if("not_valid"!==c)for(const r of t.refiner(e,s))r.explanation=n.message,c="not_refined",yield[r,void 0];"valid"===c&&(yield[void 0,e])}class Xd{constructor(e){const{type:t,schema:n,validator:r,refiner:o,coercer:i=(e=>e),entries:a=function*(){}}=e;this.type=t,this.schema=n,this.entries=a,this.coercer=i,this.validator=r?(e,t)=>Zd(r(e,t),t,this,e):()=>[],this.refiner=o?(e,t)=>Zd(o(e,t),t,this,e):()=>[]}assert(e,t){return function(e,t,n){const r=tf(e,t,{message:n});if(r[0])throw r[0]}(e,this,t)}create(e,t){return function(e,t,n){const r=tf(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}(e,this,t)}is(e){return function(e,t){const n=tf(e,t);return!n[0]}(e,this)}mask(e,t){return function(e,t,n){const r=tf(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}(e,this,t)}validate(e,t={}){return tf(e,this,t)}}const Qd="EXACT_OPTIONAL";class ef extends Xd{constructor(e){super({...e,type:`exact optional ${e.type}`}),this.brand=Qd}static isExactOptional(e){return Gd(e)&&"brand"in e&&e.brand===Qd}}function tf(e,t,n={}){const r=Yd(e,t,n),o=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(r);if(o[0]){return[new Kd(o[0],(function*(){for(const e of r)e[0]&&(yield e[0])})),void 0]}return[void 0,o[1]]}function nf(){return sf("never",(()=>!1))}function rf(e){const t=e?Object.keys(e):[],n=nf();return new Xd({type:"object",schema:e??null,*entries(r){if(e&&Gd(r)){const o=new Set(Object.keys(r));for(const n of t){o.delete(n);const t=e[n];ef.isExactOptional(t)&&!Object.prototype.hasOwnProperty.call(r,n)||(yield[n,r[n],e[n]])}for(const e of o)yield[e,r[e],n]}},validator:e=>Gd(e)||`Expected an object, but received: ${Hd(e)}`,coercer:e=>Gd(e)?{...e}:e})}function of(){return sf("string",(e=>"string"==typeof e||`Expected a string, but received: ${Hd(e)}`))}function af(...e){const t="type"===e[0]?.type,n=e.map((({schema:e})=>e)),r=Object.assign({},...n);return t?function(e){const t=Object.keys(e);return new Xd({type:"type",schema:e,*entries(n){if(Gd(n))for(const r of t)yield[r,n[r],e[r]]},validator:e=>Gd(e)||`Expected an object, but received: ${Hd(e)}`,coercer:e=>Gd(e)?{...e}:e})}(r):rf(r)}function sf(e,t){return new Xd({type:e,schema:null,validator:t})}function cf(e){return sf(JSON.stringify(e),function(e){const t=Hd(e),n=typeof e;return new Xd({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?e:null,validator:n=>n===e||`Expected the literal \`${t}\`, but received: ${Hd(n)}`})}(e).validator)}function uf(e){return null==e}const lf=(e,t)=>Object.hasOwnProperty.call(e,t);var df;!function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(df=df||(df={}));const ff=e=>ee(e);function hf({path:e,branch:t}){const n=e[e.length-1];return lf(t[t.length-2],n)}function pf(e){return new B({...e,type:`optional ${e.type}`,validator:(t,n)=>!hf(n)||e.validator(t,n),refiner:(t,n)=>!hf(n)||e.refiner(t,n)})}function gf(e){if(null===e||"boolean"==typeof e||"string"==typeof e)return!0;if("number"==typeof e&&Number.isFinite(e))return!0;if("object"==typeof e){let t=!0;if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(!gf(e[n])){t=!1;break}return t}const n=Object.entries(e);for(let e=0;e<n.length;e++)if("string"!=typeof n[e][0]||!gf(n[e][1])){t=!1;break}return t}return!1}const mf=D("JSON",(e=>gf(e))),yf=de(mf,me(V(),"JSON",(e=>j(e,mf))),(e=>JSON.parse(JSON.stringify(e,((e,t)=>{if("__proto__"!==e&&"constructor"!==e)return t})))));const vf=Z("2.0"),wf=X(ae([Q(),re()])),Af=ff({code:J(),message:re(),data:pf(yf),stack:pf(re())}),bf=ae([ne(re(),yf),K(yf)]);ff({id:wf,jsonrpc:vf,method:re(),params:pf(bf)}),ff({jsonrpc:vf,method:re(),params:pf(bf)});ee({id:wf,jsonrpc:vf,result:te(se()),error:te(Af)});const Sf=ff({id:wf,jsonrpc:vf,result:yf}),Ef=ff({id:wf,jsonrpc:vf,error:Af});ae([Sf,Ef]);const xf=H(Object.values(nc)),Tf=ie({address:re()}),kf=Z("ed25519"),If=ie({domain:te(re()),address:te(re()),statement:te(re()),uri:te(re()),version:te(re()),chainId:te(re()),nonce:te(re()),issuedAt:te(re()),expirationTime:te(re()),notBefore:te(re()),requestId:te(re()),resources:te(K(re()))}),_f=ie({account:Tf,message:bc}),Cf=H(["processed","confirmed","finalized"]),Rf=ie({preflightCommitment:te(Cf),minContextSlot:te(Q())}),Pf=ie({account:Tf,transaction:bc,scope:xf,options:te(Rf)}),Of=ie({...Rf.schema,commitment:te(Cf),skipPreflight:te(G()),maxRetries:te(Q())}),Nf=ie({...Pf.schema,scope:xf,options:te(Of)}),Bf=ee({method:H([Ft.SignAndSendTransaction]),params:Nf}),zf=ee({method:H([Ft.SignIn]),params:If}),Mf=ee({method:H([Ft.SignMessage]),params:_f}),jf=ee({method:H([Ft.SignTransaction]),params:Pf}),Uf=ee({signature:Ac}),Df=ee({signedTransaction:bc}),Lf=ee({signature:Ac,signedMessage:bc,signatureType:kf}),$f=ee({account:Tf,...Lf.schema}),Ff=ae([Bf,zf,Mf,jf]),qf=ee({jsonrpc:vf,id:wf,method:cf(Vd.SignAndSendTransactionWithoutConfirmation),params:Nf});var Wf,Vf="ComputeBudget111111111111111111111111111111",Kf=((Wf=Kf||{})[Wf.RequestUnits=0]="RequestUnits",Wf[Wf.RequestHeapFrame=1]="RequestHeapFrame",Wf[Wf.SetComputeUnitLimit=2]="SetComputeUnitLimit",Wf[Wf.SetComputeUnitPrice=3]="SetComputeUnitPrice",Wf[Wf.SetLoadedAccountsDataSizeLimit=4]="SetLoadedAccountsDataSizeLimit",Wf);function Gf(e){const t="data"in e?e.data:e;if(qa(t,$c().encode(0),0))return 0;if(qa(t,$c().encode(1),0))return 1;if(qa(t,$c().encode(2),0))return 2;if(qa(t,$c().encode(3),0))return 3;if(qa(t,$c().encode(4),0))return 4;throw new Error("The provided instruction could not be identified as a computeBudget instruction.")}function Hf(){return zu([["discriminator",Fc()],["bytes",Uc()]])}function Jf(){return zu([["discriminator",Fc()],["units",Uc()],["additionalFee",Uc()]])}var Zf=2;function Yf(){return ss(Bu([["discriminator",$c()],["units",jc()]]),(e=>({...e,discriminator:Zf})))}function Xf(){return zu([["discriminator",Fc()],["units",Uc()]])}function Qf(e,t){const n={...e};return{programAddress:t?.programAddress??Vf,data:Yf().encode(n)}}var eh=3;function th(){return ss(Bu([["discriminator",$c()],["microLamports",Dc()]]),(e=>({...e,discriminator:eh})))}function nh(){return zu([["discriminator",Fc()],["microLamports",Lc()]])}function rh(e,t){const n={...e};return{programAddress:t?.programAddress??Vf,data:th().encode(n)}}function oh(){return zu([["discriminator",Fc()],["accountDataSizeLimit",Uc()]])}var ih=e=>({__option:"Some",value:e}),ah=()=>({__option:"None"}),sh=e=>!!(e&&"object"==typeof e&&"__option"in e&&("Some"===e.__option&&"value"in e||"None"===e.__option)),ch=e=>"Some"===e.__option;var uh=e=>null!==e?ih(e):ah();function lh(e,t={}){const n=null===t.prefix?ss(Ou(),(e=>{})):du({size:t.prefix??$c()});return Au([ss(vu([n,"zeroes"===t.noneValue?(Ha(e),ts(Ou(),e.fixedSize)):t.noneValue?mu(t.noneValue):Ou()]),(e=>[!1,void 0])),ss(vu([n,e]),(e=>[!0,sh(e)&&ch(e)?e.value:e]))],(e=>{const t=sh(e)?e:uh(e);return Number(ch(t))}))}function dh(e,t={}){const n=null===t.prefix?cs(Nu(),(()=>!1)):fu({size:t.prefix??Fc()}),r="zeroes"===t.noneValue?(Ha(e),ns(Nu(),e.fixedSize)):t.noneValue?yu(t.noneValue):Nu();return bu([cs(wu([n,r]),(()=>ah())),cs(wu([n,e]),(([,e])=>ih(e)))],((e,o)=>{if(null===t.prefix&&!t.noneValue)return Number(o<e.length);if(null===t.prefix&&null!=t.noneValue){return qa(e,"zeroes"===t.noneValue?new Uint8Array(r.fixedSize).fill(0):t.noneValue,o)?0:1}return Number(n.read(e,o)[0])}))}var fh,hh=((fh=hh||{})[fh.Uninitialized=0]="Uninitialized",fh[fh.Initialized=1]="Initialized",fh[fh.Frozen=2]="Frozen",fh);var ph,gh=((ph=gh||{})[ph.MintTokens=0]="MintTokens",ph[ph.FreezeAccount=1]="FreezeAccount",ph[ph.AccountOwner=2]="AccountOwner",ph[ph.CloseAccount=3]="CloseAccount",ph);function mh(){return Ru(gh)}var yh,vh="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",wh=((yh=wh||{})[yh.CreateAssociatedToken=0]="CreateAssociatedToken",yh[yh.CreateAssociatedTokenIdempotent=1]="CreateAssociatedTokenIdempotent",yh[yh.RecoverNestedAssociatedToken=2]="RecoverNestedAssociatedToken",yh);var Ah,bh="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",Sh=((Ah=Sh||{})[Ah.Mint=0]="Mint",Ah[Ah.Token=1]="Token",Ah[Ah.Multisig=2]="Multisig",Ah);var Eh,xh=((Eh=xh||{})[Eh.InitializeMint=0]="InitializeMint",Eh[Eh.InitializeAccount=1]="InitializeAccount",Eh[Eh.InitializeMultisig=2]="InitializeMultisig",Eh[Eh.Transfer=3]="Transfer",Eh[Eh.Approve=4]="Approve",Eh[Eh.Revoke=5]="Revoke",Eh[Eh.SetAuthority=6]="SetAuthority",Eh[Eh.MintTo=7]="MintTo",Eh[Eh.Burn=8]="Burn",Eh[Eh.CloseAccount=9]="CloseAccount",Eh[Eh.FreezeAccount=10]="FreezeAccount",Eh[Eh.ThawAccount=11]="ThawAccount",Eh[Eh.TransferChecked=12]="TransferChecked",Eh[Eh.ApproveChecked=13]="ApproveChecked",Eh[Eh.MintToChecked=14]="MintToChecked",Eh[Eh.BurnChecked=15]="BurnChecked",Eh[Eh.InitializeAccount2=16]="InitializeAccount2",Eh[Eh.SyncNative=17]="SyncNative",Eh[Eh.InitializeAccount3=18]="InitializeAccount3",Eh[Eh.InitializeMultisig2=19]="InitializeMultisig2",Eh[Eh.InitializeMint2=20]="InitializeMint2",Eh[Eh.GetAccountDataSize=21]="GetAccountDataSize",Eh[Eh.InitializeImmutableOwner=22]="InitializeImmutableOwner",Eh[Eh.AmountToUiAmount=23]="AmountToUiAmount",Eh[Eh.UiAmountToAmount=24]="UiAmountToAmount",Eh);function Th(e){if(!e)throw new Error("Expected a Address.");return"object"==typeof e&&"address"in e?e.address:Array.isArray(e)?e[0]:e}function kh(e,t){return t=>{if(!t.value)return Object.freeze({address:e,role:Wc.READONLY});const n=t.isWritable?Wc.WRITABLE:Wc.READONLY;return Object.freeze({address:Th(t.value),role:Ih(t.value)?Zc(n):n,...Ih(t.value)?{signer:t.value}:{}})}}function Ih(e){return!!e&&"object"==typeof e&&"address"in e&&Vl(e)}function _h(){return zu([["discriminator",Fc()],["amount",Lc()]])}function Ch(){return zu([["discriminator",Fc()],["amount",Lc()]])}function Rh(){return zu([["discriminator",Fc()],["amount",Lc()],["decimals",Fc()]])}function Ph(){return zu([["discriminator",Fc()],["amount",Lc()]])}function Oh(){return zu([["discriminator",Fc()],["amount",Lc()],["decimals",Fc()]])}function Nh(){return zu([["discriminator",Fc()]])}async function Bh(e,t={}){const{programAddress:n="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}=t;return await Ys({programAddress:n,seeds:[Ms().encode(e.owner),Ms().encode(e.tokenProgram),Ms().encode(e.mint)]})}var zh=1;function Mh(){return ss(Bu([["discriminator",$c()]]),(e=>({...e,discriminator:zh})))}function jh(e,t){const n=t?.programAddress??vh,r={payer:{value:e.payer??null,isWritable:!0},ata:{value:e.ata??null,isWritable:!0},owner:{value:e.owner??null,isWritable:!1},mint:{value:e.mint??null,isWritable:!1},systemProgram:{value:e.systemProgram??null,isWritable:!1},tokenProgram:{value:e.tokenProgram??null,isWritable:!1}};r.tokenProgram.value||(r.tokenProgram.value="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.systemProgram.value||(r.systemProgram.value="11111111111111111111111111111111");const o=kh(n);return{accounts:[o(r.payer),o(r.ata),o(r.owner),o(r.mint),o(r.systemProgram),o(r.tokenProgram)],programAddress:n,data:Mh().encode({})}}function Uh(){return zu([["discriminator",Fc()]])}function Dh(){return zu([["discriminator",Fc()]])}function Lh(){return zu([["discriminator",Fc()]])}function $h(){return zu([["discriminator",Fc()],["owner",js()]])}function Fh(){return zu([["discriminator",Fc()],["owner",js()]])}function qh(){return zu([["discriminator",Fc()]])}function Wh(){return zu([["discriminator",Fc()],["decimals",Fc()],["mintAuthority",js()],["freezeAuthority",dh(js())]])}function Vh(){return zu([["discriminator",Fc()],["decimals",Fc()],["mintAuthority",js()],["freezeAuthority",dh(js())]])}function Kh(){return zu([["discriminator",Fc()],["m",Fc()]])}function Gh(){return zu([["discriminator",Fc()],["m",Fc()]])}function Hh(){return zu([["discriminator",Fc()],["amount",Lc()]])}function Jh(){return zu([["discriminator",Fc()],["amount",Lc()],["decimals",Fc()]])}function Zh(){return zu([["discriminator",Fc()]])}function Yh(){return zu([["discriminator",Fc()],["authorityType",mh()],["newAuthority",dh(js())]])}function Xh(){return zu([["discriminator",Fc()]])}function Qh(){return zu([["discriminator",Fc()]])}var ep=3;function tp(){return ss(Bu([["discriminator",$c()],["amount",Dc()]]),(e=>({...e,discriminator:ep})))}function np(){return zu([["discriminator",Fc()],["amount",Lc()]])}function rp(e,t){const n=t?.programAddress??bh,r={source:{value:e.source??null,isWritable:!0},destination:{value:e.destination??null,isWritable:!0},authority:{value:e.authority??null,isWritable:!1}},o={...e},i=(o.multiSigners??[]).map((e=>({address:e.address,role:Wc.READONLY_SIGNER,signer:e}))),a=kh(n);return{accounts:[a(r.source),a(r.destination),a(r.authority),...i],programAddress:n,data:tp().encode(o)}}function op(){return zu([["discriminator",Fc()],["amount",Lc()],["decimals",Fc()]])}function ip(){return zu([["discriminator",Fc()],["uiAmount",_s()]])}var ap=(e=>(e[e.Uninitialized=0]="Uninitialized",e[e.Initialized=1]="Initialized",e[e.Frozen=2]="Frozen",e))(ap||{});function sp(){return Ru(ap)}var cp=(e=>(e[e.MintTokens=0]="MintTokens",e[e.FreezeAccount=1]="FreezeAccount",e[e.AccountOwner=2]="AccountOwner",e[e.CloseAccount=3]="CloseAccount",e[e.TransferFeeConfig=4]="TransferFeeConfig",e[e.WithheldWithdraw=5]="WithheldWithdraw",e[e.CloseMint=6]="CloseMint",e[e.InterestRate=7]="InterestRate",e[e.PermanentDelegate=8]="PermanentDelegate",e[e.ConfidentialTransferMint=9]="ConfidentialTransferMint",e[e.TransferHookProgramId=10]="TransferHookProgramId",e[e.ConfidentialTransferFeeConfig=11]="ConfidentialTransferFeeConfig",e[e.MetadataPointer=12]="MetadataPointer",e[e.GroupPointer=13]="GroupPointer",e[e.GroupMemberPointer=14]="GroupMemberPointer",e[e.ScaledUiAmount=15]="ScaledUiAmount",e[e.Pause=16]="Pause",e))(cp||{});function up(){return Ru(cp)}function lp(){return ns(pu(),36)}var dp,fp=((dp=fp||{})[dp.Uninitialized=0]="Uninitialized",dp[dp.TransferFeeConfig=1]="TransferFeeConfig",dp[dp.TransferFeeAmount=2]="TransferFeeAmount",dp[dp.MintCloseAuthority=3]="MintCloseAuthority",dp[dp.ConfidentialTransferMint=4]="ConfidentialTransferMint",dp[dp.ConfidentialTransferAccount=5]="ConfidentialTransferAccount",dp[dp.DefaultAccountState=6]="DefaultAccountState",dp[dp.ImmutableOwner=7]="ImmutableOwner",dp[dp.MemoTransfer=8]="MemoTransfer",dp[dp.NonTransferable=9]="NonTransferable",dp[dp.InterestBearingConfig=10]="InterestBearingConfig",dp[dp.CpiGuard=11]="CpiGuard",dp[dp.PermanentDelegate=12]="PermanentDelegate",dp[dp.NonTransferableAccount=13]="NonTransferableAccount",dp[dp.TransferHook=14]="TransferHook",dp[dp.TransferHookAccount=15]="TransferHookAccount",dp[dp.ConfidentialTransferFee=16]="ConfidentialTransferFee",dp[dp.ConfidentialTransferFeeAmount=17]="ConfidentialTransferFeeAmount",dp[dp.ScaledUiAmountConfig=18]="ScaledUiAmountConfig",dp[dp.PausableConfig=19]="PausableConfig",dp[dp.PausableAccount=20]="PausableAccount",dp[dp.MetadataPointer=21]="MetadataPointer",dp[dp.TokenMetadata=22]="TokenMetadata",dp[dp.GroupPointer=23]="GroupPointer",dp[dp.TokenGroup=24]="TokenGroup",dp[dp.GroupMemberPointer=25]="GroupMemberPointer",dp[dp.TokenGroupMember=26]="TokenGroupMember",dp);function hp(){return Ru(fp,{size:Mc()})}function pp(){return Tu([["Name",Nu()],["Symbol",Nu()],["Uri",Nu()],["Key",zu([["fields",wu([es(_s(),Uc())])]])]])}var gp=(e=>(e[e.CreateAssociatedToken=0]="CreateAssociatedToken",e[e.CreateAssociatedTokenIdempotent=1]="CreateAssociatedTokenIdempotent",e[e.RecoverNestedAssociatedToken=2]="RecoverNestedAssociatedToken",e))(gp||{});var mp,yp="TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb",vp=((mp=vp||{})[mp.Mint=0]="Mint",mp[mp.Token=1]="Token",mp[mp.Multisig=2]="Multisig",mp);var wp,Ap=((wp=Ap||{})[wp.InitializeMint=0]="InitializeMint",wp[wp.InitializeAccount=1]="InitializeAccount",wp[wp.InitializeMultisig=2]="InitializeMultisig",wp[wp.Transfer=3]="Transfer",wp[wp.Approve=4]="Approve",wp[wp.Revoke=5]="Revoke",wp[wp.SetAuthority=6]="SetAuthority",wp[wp.MintTo=7]="MintTo",wp[wp.Burn=8]="Burn",wp[wp.CloseAccount=9]="CloseAccount",wp[wp.FreezeAccount=10]="FreezeAccount",wp[wp.ThawAccount=11]="ThawAccount",wp[wp.TransferChecked=12]="TransferChecked",wp[wp.ApproveChecked=13]="ApproveChecked",wp[wp.MintToChecked=14]="MintToChecked",wp[wp.BurnChecked=15]="BurnChecked",wp[wp.InitializeAccount2=16]="InitializeAccount2",wp[wp.SyncNative=17]="SyncNative",wp[wp.InitializeAccount3=18]="InitializeAccount3",wp[wp.InitializeMultisig2=19]="InitializeMultisig2",wp[wp.InitializeMint2=20]="InitializeMint2",wp[wp.GetAccountDataSize=21]="GetAccountDataSize",wp[wp.InitializeImmutableOwner=22]="InitializeImmutableOwner",wp[wp.AmountToUiAmount=23]="AmountToUiAmount",wp[wp.UiAmountToAmount=24]="UiAmountToAmount",wp[wp.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",wp[wp.InitializeTransferFeeConfig=26]="InitializeTransferFeeConfig",wp[wp.TransferCheckedWithFee=27]="TransferCheckedWithFee",wp[wp.WithdrawWithheldTokensFromMint=28]="WithdrawWithheldTokensFromMint",wp[wp.WithdrawWithheldTokensFromAccounts=29]="WithdrawWithheldTokensFromAccounts",wp[wp.HarvestWithheldTokensToMint=30]="HarvestWithheldTokensToMint",wp[wp.SetTransferFee=31]="SetTransferFee",wp[wp.InitializeConfidentialTransferMint=32]="InitializeConfidentialTransferMint",wp[wp.UpdateConfidentialTransferMint=33]="UpdateConfidentialTransferMint",wp[wp.ConfigureConfidentialTransferAccount=34]="ConfigureConfidentialTransferAccount",wp[wp.ApproveConfidentialTransferAccount=35]="ApproveConfidentialTransferAccount",wp[wp.EmptyConfidentialTransferAccount=36]="EmptyConfidentialTransferAccount",wp[wp.ConfidentialDeposit=37]="ConfidentialDeposit",wp[wp.ConfidentialWithdraw=38]="ConfidentialWithdraw",wp[wp.ConfidentialTransfer=39]="ConfidentialTransfer",wp[wp.ApplyConfidentialPendingBalance=40]="ApplyConfidentialPendingBalance",wp[wp.EnableConfidentialCredits=41]="EnableConfidentialCredits",wp[wp.DisableConfidentialCredits=42]="DisableConfidentialCredits",wp[wp.EnableNonConfidentialCredits=43]="EnableNonConfidentialCredits",wp[wp.DisableNonConfidentialCredits=44]="DisableNonConfidentialCredits",wp[wp.ConfidentialTransferWithFee=45]="ConfidentialTransferWithFee",wp[wp.InitializeDefaultAccountState=46]="InitializeDefaultAccountState",wp[wp.UpdateDefaultAccountState=47]="UpdateDefaultAccountState",wp[wp.Reallocate=48]="Reallocate",wp[wp.EnableMemoTransfers=49]="EnableMemoTransfers",wp[wp.DisableMemoTransfers=50]="DisableMemoTransfers",wp[wp.CreateNativeMint=51]="CreateNativeMint",wp[wp.InitializeNonTransferableMint=52]="InitializeNonTransferableMint",wp[wp.InitializeInterestBearingMint=53]="InitializeInterestBearingMint",wp[wp.UpdateRateInterestBearingMint=54]="UpdateRateInterestBearingMint",wp[wp.EnableCpiGuard=55]="EnableCpiGuard",wp[wp.DisableCpiGuard=56]="DisableCpiGuard",wp[wp.InitializePermanentDelegate=57]="InitializePermanentDelegate",wp[wp.InitializeTransferHook=58]="InitializeTransferHook",wp[wp.UpdateTransferHook=59]="UpdateTransferHook",wp[wp.InitializeConfidentialTransferFee=60]="InitializeConfidentialTransferFee",wp[wp.WithdrawWithheldTokensFromMintForConfidentialTransferFee=61]="WithdrawWithheldTokensFromMintForConfidentialTransferFee",wp[wp.WithdrawWithheldTokensFromAccountsForConfidentialTransferFee=62]="WithdrawWithheldTokensFromAccountsForConfidentialTransferFee",wp[wp.HarvestWithheldTokensToMintForConfidentialTransferFee=63]="HarvestWithheldTokensToMintForConfidentialTransferFee",wp[wp.EnableHarvestToMint=64]="EnableHarvestToMint",wp[wp.DisableHarvestToMint=65]="DisableHarvestToMint",wp[wp.WithdrawExcessLamports=66]="WithdrawExcessLamports",wp[wp.InitializeMetadataPointer=67]="InitializeMetadataPointer",wp[wp.UpdateMetadataPointer=68]="UpdateMetadataPointer",wp[wp.InitializeGroupPointer=69]="InitializeGroupPointer",wp[wp.UpdateGroupPointer=70]="UpdateGroupPointer",wp[wp.InitializeGroupMemberPointer=71]="InitializeGroupMemberPointer",wp[wp.UpdateGroupMemberPointer=72]="UpdateGroupMemberPointer",wp[wp.InitializeScaledUiAmountMint=73]="InitializeScaledUiAmountMint",wp[wp.UpdateMultiplierScaledUiMint=74]="UpdateMultiplierScaledUiMint",wp[wp.InitializePausableConfig=75]="InitializePausableConfig",wp[wp.Pause=76]="Pause",wp[wp.Resume=77]="Resume",wp[wp.InitializeTokenMetadata=78]="InitializeTokenMetadata",wp[wp.UpdateTokenMetadataField=79]="UpdateTokenMetadataField",wp[wp.RemoveTokenMetadataKey=80]="RemoveTokenMetadataKey",wp[wp.UpdateTokenMetadataUpdateAuthority=81]="UpdateTokenMetadataUpdateAuthority",wp[wp.EmitTokenMetadata=82]="EmitTokenMetadata",wp[wp.InitializeTokenGroup=83]="InitializeTokenGroup",wp[wp.UpdateTokenGroupMaxSize=84]="UpdateTokenGroupMaxSize",wp[wp.UpdateTokenGroupUpdateAuthority=85]="UpdateTokenGroupUpdateAuthority",wp[wp.InitializeTokenGroupMember=86]="InitializeTokenGroupMember",wp);function bp(){return zu([["discriminator",Fc()],["amount",Lc()]])}function Sp(){return zu([["discriminator",Fc()],["confidentialTransferDiscriminator",Fc()],["expectedPendingBalanceCreditCounter",Lc()],["newDecryptableAvailableBalance",lp()]])}function Ep(){return zu([["discriminator",Fc()],["amount",Lc()]])}function xp(){return zu([["discriminator",Fc()],["amount",Lc()],["decimals",Fc()]])}function Tp(){return zu([["discriminator",Fc()],["confidentialTransferDiscriminator",Fc()]])}function kp(){return zu([["discriminator",Fc()],["amount",Lc()]])}function Ip(){return zu([["discriminator",Fc()],["amount",Lc()],["decimals",Fc()]])}function _p(){return zu([["discriminator",Fc()]])}function Cp(){return zu([["discriminator",Fc()],["confidentialTransferDiscriminator",Fc()],["amount",Lc()],["decimals",Fc()]])}function Rp(){return zu([["discriminator",Fc()],["confidentialTransferDiscriminator",Fc()],["newSourceDecryptableAvailableBalance",lp()],["equalityProofInstructionOffset",Nc()],["ciphertextValidityProofInstructionOffset",Nc()],["rangeProofInstructionOffset",Nc()]])}function Pp(){return zu([["discriminator",Fc()],["confidentialTransferDiscriminator",Fc()],["newSourceDecryptableAvailableBalance",lp()],["equalityProofInstructionOffset",Nc()],["transferAmountCiphertextValidityProofInstructionOffset",Nc()],["feeSigmaProofInstructionOffset",Nc()],["feeCiphertextValidityProofInstructionOffset",Nc()],["rangeProofInstructionOffset",Nc()]])}function Op(){return zu([["discriminator",Fc()],["confidentialTransferDiscriminator",Fc()],["amount",Lc()],["decimals",Fc()],["newDecryptableAvailableBalance",lp()],["equalityProofInstructionOffset",Nc()],["rangeProofInstructionOffset",Nc()]])}function Np(){return zu([["discriminator",Fc()],["confidentialTransferDiscriminator",Fc()],["decryptableZeroBalance",lp()],["maximumPendingBalanceCreditCounter",Lc()],["proofInstructionOffset",Nc()]])}function Bp(){return zu([["discriminator",Fc()]])}function zp(){return zu([["discriminator",Fc()]])}function Mp(){return zu([["discriminator",Fc()]])}function jp(){return zu([["discriminator",Fc()],["confidentialTransferDiscriminator",Fc()]])}function Up(){return zu([["discriminator",Fc()],["cpiGuardDiscriminator",Fc()]])}function Dp(){return zu([["discriminator",Fc()],["confidentialTransferFeeDiscriminator",Fc()]])}function Lp(){return zu([["discriminator",Fc()],["memoTransfersDiscriminator",Fc()]])}function $p(){return zu([["discriminator",Fc()],["confidentialTransferDiscriminator",Fc()]])}new Uint8Array([250,166,180,250,13,12,184,70]);function Fp(){return zu([["discriminator",pu()],["start",dh(Lc())],["end",dh(Lc())]])}function qp(){return zu([["discriminator",Fc()],["confidentialTransferDiscriminator",Fc()],["proofInstructionOffset",Nc()]])}function Wp(){return zu([["discriminator",Fc()],["confidentialTransferDiscriminator",Fc()]])}function Vp(){return zu([["discriminator",Fc()],["cpiGuardDiscriminator",Fc()]])}function Kp(){return zu([["discriminator",Fc()],["confidentialTransferFeeDiscriminator",Fc()]])}function Gp(){return zu([["discriminator",Fc()],["memoTransfersDiscriminator",Fc()]])}function Hp(){return zu([["discriminator",Fc()],["confidentialTransferDiscriminator",Fc()]])}function Jp(){return zu([["discriminator",Fc()]])}function Zp(){return zu([["discriminator",Fc()]])}function Yp(){return zu([["discriminator",Fc()],["transferFeeDiscriminator",Fc()]])}function Xp(){return zu([["discriminator",Fc()],["confidentialTransferFeeDiscriminator",Fc()]])}function Qp(){return zu([["discriminator",Fc()]])}function eg(){return zu([["discriminator",Fc()],["owner",js()]])}function tg(){return zu([["discriminator",Fc()],["owner",js()]])}function ng(){return zu([["discriminator",Fc()],["confidentialTransferFeeDiscriminator",Fc()],["authority",dh(js(),{prefix:null,noneValue:"zeroes"})],["withdrawWithheldAuthorityElGamalPubkey",dh(js(),{prefix:null,noneValue:"zeroes"})]])}function rg(){return zu([["discriminator",Fc()],["confidentialTransferDiscriminator",Fc()],["authority",dh(js(),{prefix:null,noneValue:"zeroes"})],["autoApproveNewAccounts",fu()],["auditorElgamalPubkey",dh(js(),{prefix:null,noneValue:"zeroes"})]])}function og(){return zu([["discriminator",Fc()],["defaultAccountStateDiscriminator",Fc()],["state",sp()]])}function ig(){return zu([["discriminator",Fc()],["groupMemberPointerDiscriminator",Fc()],["authority",dh(js(),{prefix:null,noneValue:"zeroes"})],["memberAddress",dh(js(),{prefix:null,noneValue:"zeroes"})]])}function ag(){return zu([["discriminator",Fc()],["groupPointerDiscriminator",Fc()],["authority",dh(js(),{prefix:null,noneValue:"zeroes"})],["groupAddress",dh(js(),{prefix:null,noneValue:"zeroes"})]])}function sg(){return zu([["discriminator",Fc()]])}function cg(){return zu([["discriminator",Fc()],["interestBearingMintDiscriminator",Fc()],["rateAuthority",dh(js(),{prefix:null,noneValue:"zeroes"})],["rate",Pc()]])}function ug(){return zu([["discriminator",Fc()],["metadataPointerDiscriminator",Fc()],["authority",dh(js(),{prefix:null,noneValue:"zeroes"})],["metadataAddress",dh(js(),{prefix:null,noneValue:"zeroes"})]])}function lg(){return zu([["discriminator",Fc()],["decimals",Fc()],["mintAuthority",js()],["freezeAuthority",dh(js())]])}function dg(){return zu([["discriminator",Fc()],["decimals",Fc()],["mintAuthority",js()],["freezeAuthority",dh(js())]])}function fg(){return zu([["discriminator",Fc()],["closeAuthority",dh(js())]])}function hg(){return zu([["discriminator",Fc()],["m",Fc()]])}function pg(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{multisig:n(),rent:n()},data:hg().decode(e.data)}}function gg(){return zu([["discriminator",Fc()]])}function mg(){return zu([["discriminator",Fc()],["pausableDiscriminator",Fc()],["authority",dh(js(),{prefix:null,noneValue:"zeroes"})]])}function yg(){return zu([["discriminator",Fc()],["delegate",js()]])}function vg(){return zu([["discriminator",Fc()],["scaledUiAmountMintDiscriminator",Fc()],["authority",dh(js(),{prefix:null,noneValue:"zeroes"})],["multiplier",Rc()]])}new Uint8Array([121,113,108,39,54,51,0,4]);function wg(){return zu([["discriminator",pu()],["updateAuthority",dh(js(),{prefix:null,noneValue:"zeroes"})],["maxSize",Lc()]])}new Uint8Array([152,32,222,176,223,237,116,134]);function Ag(){return zu([["discriminator",pu()]])}new Uint8Array([210,225,30,162,88,184,77,141]);function bg(){return zu([["discriminator",pu()],["name",es(_s(),Uc())],["symbol",es(_s(),Uc())],["uri",es(_s(),Uc())]])}function Sg(){return zu([["discriminator",Fc()],["transferFeeDiscriminator",Fc()],["transferFeeConfigAuthority",dh(js())],["withdrawWithheldAuthority",dh(js())],["transferFeeBasisPoints",Mc()],["maximumFee",Lc()]])}function Eg(){return zu([["discriminator",Fc()],["transferHookDiscriminator",Fc()],["authority",dh(js(),{prefix:null,noneValue:"zeroes"})],["programId",dh(js(),{prefix:null,noneValue:"zeroes"})]])}function xg(){return zu([["discriminator",Fc()],["amount",Lc()]])}function Tg(){return zu([["discriminator",Fc()],["amount",Lc()],["decimals",Fc()]])}function kg(){return zu([["discriminator",Fc()],["pausableDiscriminator",Fc()]])}function Ig(){return zu([["discriminator",Fc()],["newExtensionTypes",uu(hp(),{size:"remainder"})]])}function _g(){return zu([["discriminator",Fc()]])}new Uint8Array([234,18,32,56,89,141,37,181]);function Cg(){return zu([["discriminator",pu()],["idempotent",fu()],["key",es(_s(),Uc())]])}function Rg(){return zu([["discriminator",Fc()],["pausableDiscriminator",Fc()]])}function Pg(){return zu([["discriminator",Fc()]])}function Og(){return zu([["discriminator",Fc()],["authorityType",up()],["newAuthority",dh(js())]])}function Ng(){return zu([["discriminator",Fc()],["transferFeeDiscriminator",Fc()],["transferFeeBasisPoints",Mc()],["maximumFee",Lc()]])}function Bg(){return zu([["discriminator",Fc()]])}function zg(){return zu([["discriminator",Fc()]])}function Mg(){return zu([["discriminator",Fc()],["amount",Lc()]])}function jg(){return zu([["discriminator",Fc()],["amount",Lc()],["decimals",Fc()]])}function Ug(){return zu([["discriminator",Fc()],["transferFeeDiscriminator",Fc()],["amount",Lc()],["decimals",Fc()],["fee",Lc()]])}function Dg(){return zu([["discriminator",Fc()],["uiAmount",_s()]])}function Lg(){return zu([["discriminator",Fc()],["confidentialTransferDiscriminator",Fc()],["autoApproveNewAccounts",fu()],["auditorElgamalPubkey",dh(js(),{prefix:null,noneValue:"zeroes"})]])}function $g(){return zu([["discriminator",Fc()],["defaultAccountStateDiscriminator",Fc()],["state",sp()]])}function Fg(){return zu([["discriminator",Fc()],["groupMemberPointerDiscriminator",Fc()],["memberAddress",dh(js(),{prefix:null,noneValue:"zeroes"})]])}function qg(){return zu([["discriminator",Fc()],["groupPointerDiscriminator",Fc()],["groupAddress",dh(js(),{prefix:null,noneValue:"zeroes"})]])}function Wg(){return zu([["discriminator",Fc()],["metadataPointerDiscriminator",Fc()],["metadataAddress",dh(js(),{prefix:null,noneValue:"zeroes"})]])}function Vg(){return zu([["discriminator",Fc()],["scaledUiAmountMintDiscriminator",Fc()],["multiplier",Rc()],["effectiveTimestamp",Oc()]])}function Kg(){return zu([["discriminator",Fc()],["interestBearingMintDiscriminator",Fc()],["rate",Pc()]])}new Uint8Array([108,37,171,143,248,30,18,110]);function Gg(){return zu([["discriminator",pu()],["maxSize",Lc()]])}new Uint8Array([161,105,88,1,237,221,216,203]);function Hg(){return zu([["discriminator",pu()],["newUpdateAuthority",dh(js(),{prefix:null,noneValue:"zeroes"})]])}new Uint8Array([221,233,49,45,181,202,220,200]);function Jg(){return zu([["discriminator",pu()],["field",pp()],["value",es(_s(),Uc())]])}new Uint8Array([215,228,166,228,84,100,86,123]);function Zg(){return zu([["discriminator",pu()],["newUpdateAuthority",dh(js(),{prefix:null,noneValue:"zeroes"})]])}function Yg(){return zu([["discriminator",Fc()],["transferHookDiscriminator",Fc()],["programId",dh(js(),{prefix:null,noneValue:"zeroes"})]])}function Xg(){return zu([["discriminator",Fc()]])}function Qg(){return zu([["discriminator",Fc()],["transferFeeDiscriminator",Fc()],["numTokenAccounts",Fc()]])}function em(){return zu([["discriminator",Fc()],["confidentialTransferFeeDiscriminator",Fc()],["numTokenAccounts",Fc()],["proofInstructionOffset",Nc()],["newDecryptableAvailableBalance",lp()]])}function tm(){return zu([["discriminator",Fc()],["transferFeeDiscriminator",Fc()]])}function nm(){return zu([["discriminator",Fc()],["confidentialTransferFeeDiscriminator",Fc()],["proofInstructionOffset",Nc()],["newDecryptableAvailableBalance",lp()]])}function rm(e){return!("exists"in e)||"exists"in e&&e.exists}function om(e,t){if(!t)return Object.freeze({address:e,exists:!1});const n=Ss().encode(t.data[0]);return Object.freeze({...am(t),address:e,data:n,exists:!0})}function im(e,t){if(!t)return Object.freeze({address:e,exists:!1});const n=t.data.parsed.info;return Object.freeze({...am(t),address:e,data:n,exists:!0})}function am(e){return Object.freeze({executable:e.executable,lamports:e.lamports,programAddress:e.owner,space:e.space})}async function sm(e,t,n={}){const{abortSignal:r,...o}=n;return om(t,(await e.getAccountInfo(t,{...o,encoding:"base64"}).send({abortSignal:r})).value)}async function cm(e,t,n={}){const{abortSignal:r,...o}=n;return(await e.getMultipleAccounts(t,{...o,encoding:"base64"}).send({abortSignal:r})).value.map(((e,n)=>om(t[n],e)))}var um="ComputeBudget111111111111111111111111111111",lm={blockhash:"11111111111111111111111111111111",lastValidBlockHeight:0n},dm=2;function fm(e){return function(e,t){return e.programAddress===t}(e,um)&&function(e){return void 0!==e.data}(e)&&e.data[0]===dm}async function hm({abortSignal:e,rpc:t,transactionMessage:n,...r}){const o=kl(n);let i;i=o||Fu(n)?n:qu(lm,n);const a=n.instructions.findIndex(fm),s=function(e){const t=new Uint8Array(5);return t[0]=dm,jc().write(e,t,1),Object.freeze({data:t,programAddress:um})}(14e5);if(-1===a)i=_l(s,i);else{const e=[...i.instructions];e.splice(a,1,s),i=Object.freeze({...i,instructions:e})}const c=Ll(Ml(i));try{const{value:{err:n,unitsConsumed:i}}=await t.simulateTransaction(c,{...r,encoding:"base64",replaceRecentBlockhash:!o,sigVerify:!1}).send({abortSignal:e});if(null==i)throw new Ba(oa);const a=i>4294967295n?4294967295:Number(i);if(n)throw new Ba(ia,{cause:n,unitsConsumed:a});return a}catch(e){if(Na(e,ia))throw e;throw new Ba(oa,{cause:e})}}function pm({rpc:e}){return async function(t,n){return await hm({...n,rpc:e,transactionMessage:t})}}async function gm(e,t,n){if(0===e.length)return{};const r=await async function(e,t,n={}){const{abortSignal:r,...o}=n;return(await e.getMultipleAccounts(t,{...o,encoding:"jsonParsed"}).send({abortSignal:r})).value.map(((e,n)=>e&&"object"==typeof e&&"parsed"in e.data?im(t[n],e):om(t[n],e)))}(t,e,n);return function(e){const t=e.filter((e=>rm(e)&&e.data instanceof Uint8Array));if(t.length>0){const e=t.map((e=>e.address));throw new Ba(Oi,{addresses:e})}}(r),function(e){const t=e.filter((e=>!e.exists));if(t.length>0){const e=t.map((e=>e.address));throw new Ba(Pi,{addresses:e})}}(r),r.reduce(((e,t)=>({...e,[t.address]:t.data.addresses})),{})}async function mm(e,t,n){const r=("addressTableLookups"in e&&void 0!==e.addressTableLookups&&e.addressTableLookups.length>0?e.addressTableLookups:[]).map((e=>e.lookupTableAddress)),{lastValidBlockHeight:o,...i}=n??{};return Pl(e,{addressesByLookupTableAddress:r.length>0?await gm(r,t,i):{},lastValidBlockHeight:o})}function ym(e,t){return!t?.preflightCommitment&&function(e,t){return e===t?0:Uu(e)<Uu(t)?-1:1}(e,"finalized")<0?{...t,preflightCommitment:e}:t}async function vm({abortSignal:e,commitment:t,rpc:n,transaction:r,...o}){const i=Ll(r);return await n.sendTransaction(i,{...ym(t,o),encoding:"base64"}).send({abortSignal:e})}const wm=async(e,t,n)=>$u(e,Ss().encode,fl().decode,(async e=>mm(e,t,n))),Am=async(e,t,n)=>$u(e,fl().decode,(async e=>mm(e,t,n))),bm=async e=>$u(e,Ss().encode,Bl().decode),Sm=async(e,t,n)=>(async e=>new Promise(((t,n)=>{if(0===e.length)return void n(new AggregateError([],"No promises to resolve"));let r=0;const o=[];e.forEach(((i,a)=>{Promise.resolve(i).then((e=>t(e)),(t=>{o[a]=t,r+=1,r===e.length&&n(new AggregateError(o,"All promises rejected"))}))}))})))([bm(e),wm(e,t,n)]);const Em={[cd]:{identifier:function(e){const t="data"in e?e.data:e;if(qa(t,jc().encode(0),0))return 0;if(qa(t,jc().encode(1),0))return 1;if(qa(t,jc().encode(2),0))return 2;if(qa(t,jc().encode(3),0))return 3;if(qa(t,jc().encode(4),0))return 4;if(qa(t,jc().encode(5),0))return 5;if(qa(t,jc().encode(6),0))return 6;if(qa(t,jc().encode(7),0))return 7;if(qa(t,jc().encode(8),0))return 8;if(qa(t,jc().encode(9),0))return 9;if(qa(t,jc().encode(10),0))return 10;if(qa(t,jc().encode(11),0))return 11;if(qa(t,jc().encode(12),0))return 12;throw new Error("The provided instruction could not be identified as a system instruction.")},instructionEnum:ld,typeToParserMap:{[ld.Assign]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{account:(()=>{const n=e.accounts[t];return t+=1,n})()},data:yd().decode(e.data)}},[ld.TransferSol]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),destination:n()},data:Td().decode(e.data)}},[ld.CreateAccount]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{payer:n(),newAccount:n()},data:Ad().decode(e.data)}},[ld.CreateAccountWithSeed]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{payer:n(),newAccount:n(),baseAccount:n()},data:bd().decode(e.data)}},[ld.AdvanceNonceAccount]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{nonceAccount:n(),recentBlockhashesSysvar:n(),nonceAuthority:n()},data:pd().decode(e.data)}},[ld.WithdrawNonceAccount]:function(e){if(e.accounts.length<5)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{nonceAccount:n(),recipientAccount:n(),recentBlockhashesSysvar:n(),rentSysvar:n(),nonceAuthority:n()},data:_d().decode(e.data)}},[ld.InitializeNonceAccount]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{nonceAccount:n(),recentBlockhashesSysvar:n(),rentSysvar:n()},data:Sd().decode(e.data)}},[ld.AuthorizeNonceAccount]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{nonceAccount:n(),nonceAuthority:n()},data:wd().decode(e.data)}},[ld.Allocate]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{newAccount:(()=>{const n=e.accounts[t];return t+=1,n})()},data:gd().decode(e.data)}},[ld.AllocateWithSeed]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{newAccount:n(),baseAccount:n()},data:md().decode(e.data)}},[ld.AssignWithSeed]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),baseAccount:n()},data:vd().decode(e.data)}},[ld.TransferSolWithSeed]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),baseAccount:n(),destination:n()},data:kd().decode(e.data)}},[ld.UpgradeNonceAccount]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{nonceAccount:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Id().decode(e.data)}}}},[Vf]:{identifier:Gf,instructionEnum:Kf,typeToParserMap:{[Kf.RequestUnits]:function(e){return{programAddress:e.programAddress,data:Jf().decode(e.data)}},[Kf.RequestHeapFrame]:function(e){return{programAddress:e.programAddress,data:Hf().decode(e.data)}},[Kf.SetComputeUnitPrice]:function(e){return{programAddress:e.programAddress,data:nh().decode(e.data)}},[Kf.SetComputeUnitLimit]:function(e){return{programAddress:e.programAddress,data:Xf().decode(e.data)}},[Kf.SetLoadedAccountsDataSizeLimit]:function(e){return{programAddress:e.programAddress,data:oh().decode(e.data)}}}},[bh]:{identifier:function(e){const t="data"in e?e.data:e;if(qa(t,$c().encode(0),0))return 0;if(qa(t,$c().encode(1),0))return 1;if(qa(t,$c().encode(2),0))return 2;if(qa(t,$c().encode(3),0))return 3;if(qa(t,$c().encode(4),0))return 4;if(qa(t,$c().encode(5),0))return 5;if(qa(t,$c().encode(6),0))return 6;if(qa(t,$c().encode(7),0))return 7;if(qa(t,$c().encode(8),0))return 8;if(qa(t,$c().encode(9),0))return 9;if(qa(t,$c().encode(10),0))return 10;if(qa(t,$c().encode(11),0))return 11;if(qa(t,$c().encode(12),0))return 12;if(qa(t,$c().encode(13),0))return 13;if(qa(t,$c().encode(14),0))return 14;if(qa(t,$c().encode(15),0))return 15;if(qa(t,$c().encode(16),0))return 16;if(qa(t,$c().encode(17),0))return 17;if(qa(t,$c().encode(18),0))return 18;if(qa(t,$c().encode(19),0))return 19;if(qa(t,$c().encode(20),0))return 20;if(qa(t,$c().encode(21),0))return 21;if(qa(t,$c().encode(22),0))return 22;if(qa(t,$c().encode(23),0))return 23;if(qa(t,$c().encode(24),0))return 24;throw new Error("The provided instruction could not be identified as a token instruction.")},instructionEnum:xh,typeToParserMap:{[xh.InitializeMint]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),rent:n()},data:Wh().decode(e.data)}},[xh.InitializeAccount]:function(e){if(e.accounts.length<4)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),owner:n(),rent:n()},data:Lh().decode(e.data)}},[xh.InitializeMultisig]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{multisig:n(),rent:n()},data:Kh().decode(e.data)}},[xh.Transfer]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),destination:n(),authority:n()},data:np().decode(e.data)}},[xh.Approve]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),delegate:n(),owner:n()},data:Ch().decode(e.data)}},[xh.Revoke]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),owner:n()},data:Zh().decode(e.data)}},[xh.SetAuthority]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{owned:n(),owner:n()},data:Yh().decode(e.data)}},[xh.MintTo]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),token:n(),mintAuthority:n()},data:Hh().decode(e.data)}},[xh.Burn]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),authority:n()},data:Ph().decode(e.data)}},[xh.CloseAccount]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),destination:n(),owner:n()},data:Nh().decode(e.data)}},[xh.FreezeAccount]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),owner:n()},data:Uh().decode(e.data)}},[xh.ThawAccount]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),owner:n()},data:Qh().decode(e.data)}},[xh.TransferChecked]:function(e){if(e.accounts.length<4)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),mint:n(),destination:n(),authority:n()},data:op().decode(e.data)}},[xh.ApproveChecked]:function(e){if(e.accounts.length<4)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),mint:n(),delegate:n(),owner:n()},data:Rh().decode(e.data)}},[xh.MintToChecked]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),token:n(),mintAuthority:n()},data:Jh().decode(e.data)}},[xh.BurnChecked]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),authority:n()},data:Oh().decode(e.data)}},[xh.InitializeAccount2]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),rent:n()},data:$h().decode(e.data)}},[xh.SyncNative]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{account:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Xh().decode(e.data)}},[xh.InitializeAccount3]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n()},data:Fh().decode(e.data)}},[xh.InitializeMultisig2]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{multisig:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Gh().decode(e.data)}},[xh.InitializeMint2]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Vh().decode(e.data)}},[xh.GetAccountDataSize]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Dh().decode(e.data)}},[xh.InitializeImmutableOwner]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{account:(()=>{const n=e.accounts[t];return t+=1,n})()},data:qh().decode(e.data)}},[xh.AmountToUiAmount]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:_h().decode(e.data)}},[xh.UiAmountToAmount]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:ip().decode(e.data)}}}},[yp]:{identifier:function(e){const t="data"in e?e.data:e;if(qa(t,$c().encode(0),0))return 0;if(qa(t,$c().encode(1),0))return 1;if(qa(t,$c().encode(2),0))return 2;if(qa(t,$c().encode(3),0))return 3;if(qa(t,$c().encode(4),0))return 4;if(qa(t,$c().encode(5),0))return 5;if(qa(t,$c().encode(6),0))return 6;if(qa(t,$c().encode(7),0))return 7;if(qa(t,$c().encode(8),0))return 8;if(qa(t,$c().encode(9),0))return 9;if(qa(t,$c().encode(10),0))return 10;if(qa(t,$c().encode(11),0))return 11;if(qa(t,$c().encode(12),0))return 12;if(qa(t,$c().encode(13),0))return 13;if(qa(t,$c().encode(14),0))return 14;if(qa(t,$c().encode(15),0))return 15;if(qa(t,$c().encode(16),0))return 16;if(qa(t,$c().encode(17),0))return 17;if(qa(t,$c().encode(18),0))return 18;if(qa(t,$c().encode(19),0))return 19;if(qa(t,$c().encode(20),0))return 20;if(qa(t,$c().encode(21),0))return 21;if(qa(t,$c().encode(22),0))return 22;if(qa(t,$c().encode(23),0))return 23;if(qa(t,$c().encode(24),0))return 24;if(qa(t,$c().encode(25),0))return 25;if(qa(t,$c().encode(26),0)&&qa(t,$c().encode(0),1))return 26;if(qa(t,$c().encode(26),0)&&qa(t,$c().encode(1),1))return 27;if(qa(t,$c().encode(26),0)&&qa(t,$c().encode(2),1))return 28;if(qa(t,$c().encode(26),0)&&qa(t,$c().encode(3),1))return 29;if(qa(t,$c().encode(26),0)&&qa(t,$c().encode(4),1))return 30;if(qa(t,$c().encode(26),0)&&qa(t,$c().encode(5),1))return 31;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(0),1))return 32;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(1),1))return 33;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(2),1))return 34;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(3),1))return 35;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(4),1))return 36;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(5),1))return 37;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(6),1))return 38;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(7),1))return 39;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(8),1))return 40;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(9),1))return 41;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(10),1))return 42;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(11),1))return 43;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(12),1))return 44;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(13),1))return 45;if(qa(t,$c().encode(28),0)&&qa(t,$c().encode(0),1))return 46;if(qa(t,$c().encode(28),0)&&qa(t,$c().encode(1),1))return 47;if(qa(t,$c().encode(29),0))return 48;if(qa(t,$c().encode(30),0)&&qa(t,$c().encode(0),1))return 49;if(qa(t,$c().encode(30),0)&&qa(t,$c().encode(1),1))return 50;if(qa(t,$c().encode(31),0))return 51;if(qa(t,$c().encode(32),0))return 52;if(qa(t,$c().encode(33),0)&&qa(t,$c().encode(0),1))return 53;if(qa(t,$c().encode(33),0)&&qa(t,$c().encode(1),1))return 54;if(qa(t,$c().encode(34),0)&&qa(t,$c().encode(0),1))return 55;if(qa(t,$c().encode(34),0)&&qa(t,$c().encode(1),1))return 56;if(qa(t,$c().encode(35),0))return 57;if(qa(t,$c().encode(36),0)&&qa(t,$c().encode(0),1))return 58;if(qa(t,$c().encode(36),0)&&qa(t,$c().encode(1),1))return 59;if(qa(t,$c().encode(37),0)&&qa(t,$c().encode(0),1))return 60;if(qa(t,$c().encode(37),0)&&qa(t,$c().encode(1),1))return 61;if(qa(t,$c().encode(37),0)&&qa(t,$c().encode(2),1))return 62;if(qa(t,$c().encode(37),0)&&qa(t,$c().encode(3),1))return 63;if(qa(t,$c().encode(37),0)&&qa(t,$c().encode(4),1))return 64;if(qa(t,$c().encode(37),0)&&qa(t,$c().encode(5),1))return 65;if(qa(t,$c().encode(38),0))return 66;if(qa(t,$c().encode(39),0)&&qa(t,$c().encode(0),1))return 67;if(qa(t,$c().encode(39),0)&&qa(t,$c().encode(1),1))return 68;if(qa(t,$c().encode(40),0)&&qa(t,$c().encode(0),1))return 69;if(qa(t,$c().encode(40),0)&&qa(t,$c().encode(1),1))return 70;if(qa(t,$c().encode(41),0)&&qa(t,$c().encode(0),1))return 71;if(qa(t,$c().encode(41),0)&&qa(t,$c().encode(1),1))return 72;if(qa(t,$c().encode(43),0)&&qa(t,$c().encode(0),1))return 73;if(qa(t,$c().encode(43),0)&&qa(t,$c().encode(1),1))return 74;if(qa(t,$c().encode(44),0)&&qa(t,$c().encode(0),1))return 75;if(qa(t,$c().encode(44),0)&&qa(t,$c().encode(1),1))return 76;if(qa(t,$c().encode(44),0)&&qa(t,$c().encode(2),1))return 77;if(qa(t,new Uint8Array([210,225,30,162,88,184,77,141]),0))return 78;if(qa(t,new Uint8Array([221,233,49,45,181,202,220,200]),0))return 79;if(qa(t,new Uint8Array([234,18,32,56,89,141,37,181]),0))return 80;if(qa(t,new Uint8Array([215,228,166,228,84,100,86,123]),0))return 81;if(qa(t,new Uint8Array([250,166,180,250,13,12,184,70]),0))return 82;if(qa(t,new Uint8Array([121,113,108,39,54,51,0,4]),0))return 83;if(qa(t,new Uint8Array([108,37,171,143,248,30,18,110]),0))return 84;if(qa(t,new Uint8Array([161,105,88,1,237,221,216,203]),0))return 85;if(qa(t,new Uint8Array([152,32,222,176,223,237,116,134]),0))return 86;throw new Error("The provided instruction could not be identified as a token-2022 instruction.")},instructionEnum:Ap,typeToParserMap:{[Ap.InitializeMint]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),rent:n()},data:lg().decode(e.data)}},[Ap.InitializeAccount]:function(e){if(e.accounts.length<4)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),owner:n(),rent:n()},data:Qp().decode(e.data)}},[Ap.InitializeMultisig]:pg,[Ap.Transfer]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),destination:n(),authority:n()},data:Mg().decode(e.data)}},[Ap.Approve]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),delegate:n(),owner:n()},data:Ep().decode(e.data)}},[Ap.Revoke]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),owner:n()},data:Pg().decode(e.data)}},[Ap.SetAuthority]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{owned:n(),owner:n()},data:Og().decode(e.data)}},[Ap.MintTo]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),token:n(),mintAuthority:n()},data:xg().decode(e.data)}},[Ap.Burn]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),authority:n()},data:kp().decode(e.data)}},[Ap.CloseAccount]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),destination:n(),owner:n()},data:_p().decode(e.data)}},[Ap.FreezeAccount]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),owner:n()},data:Jp().decode(e.data)}},[Ap.ThawAccount]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),owner:n()},data:zg().decode(e.data)}},[Ap.TransferChecked]:function(e){if(e.accounts.length<4)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),mint:n(),destination:n(),authority:n()},data:jg().decode(e.data)}},[Ap.ApproveChecked]:function(e){if(e.accounts.length<4)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),mint:n(),delegate:n(),owner:n()},data:xp().decode(e.data)}},[Ap.MintToChecked]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),token:n(),mintAuthority:n()},data:Tg().decode(e.data)}},[Ap.BurnChecked]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),authority:n()},data:Ip().decode(e.data)}},[Ap.InitializeAccount2]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),rent:n()},data:eg().decode(e.data)}},[Ap.SyncNative]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{account:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Bg().decode(e.data)}},[Ap.InitializeAccount3]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n()},data:tg().decode(e.data)}},[Ap.InitializeMultisig2]:pg,[Ap.InitializeMint2]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:dg().decode(e.data)}},[Ap.GetAccountDataSize]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Zp().decode(e.data)}},[Ap.InitializeImmutableOwner]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{account:(()=>{const n=e.accounts[t];return t+=1,n})()},data:sg().decode(e.data)}},[Ap.AmountToUiAmount]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:bp().decode(e.data)}},[Ap.UiAmountToAmount]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Dg().decode(e.data)}},[Ap.InitializeMintCloseAuthority]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:fg().decode(e.data)}},[Ap.InitializeTransferFeeConfig]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Sg().decode(e.data)}},[Ap.TransferCheckedWithFee]:function(e){if(e.accounts.length<4)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),mint:n(),destination:n(),authority:n()},data:Ug().decode(e.data)}},[Ap.WithdrawWithheldTokensFromMint]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),feeReceiver:n(),withdrawWithheldAuthority:n()},data:tm().decode(e.data)}},[Ap.WithdrawWithheldTokensFromAccounts]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),feeReceiver:n(),withdrawWithheldAuthority:n()},data:Qg().decode(e.data)}},[Ap.HarvestWithheldTokensToMint]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Yp().decode(e.data)}},[Ap.SetTransferFee]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),transferFeeConfigAuthority:n()},data:Ng().decode(e.data)}},[Ap.InitializeConfidentialTransferMint]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:rg().decode(e.data)}},[Ap.UpdateConfidentialTransferMint]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),authority:n()},data:Lg().decode(e.data)}},[Ap.ConfigureConfidentialTransferAccount]:function(e){if(e.accounts.length<5)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),mint:n(),instructionsSysvarOrContextState:n(),record:(()=>{const e=n();return e.address===yp?void 0:e})(),authority:n()},data:Np().decode(e.data)}},[Ap.ApproveConfidentialTransferAccount]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),mint:n(),authority:n()},data:Tp().decode(e.data)}},[Ap.EmptyConfidentialTransferAccount]:function(e){if(e.accounts.length<4)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),instructionsSysvarOrContextState:n(),record:(()=>{const e=n();return e.address===yp?void 0:e})(),authority:n()},data:qp().decode(e.data)}},[Ap.ConfidentialDeposit]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),mint:n(),authority:n()},data:Cp().decode(e.data)}},[Ap.ConfidentialWithdraw]:function(e){if(e.accounts.length<6)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n},r=()=>{const e=n();return e.address===yp?void 0:e};return{programAddress:e.programAddress,accounts:{token:n(),mint:n(),instructionsSysvar:r(),equalityRecord:r(),rangeRecord:r(),authority:n()},data:Op().decode(e.data)}},[Ap.ConfidentialTransfer]:function(e){if(e.accounts.length<8)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n},r=()=>{const e=n();return e.address===yp?void 0:e};return{programAddress:e.programAddress,accounts:{sourceToken:n(),mint:n(),destinationToken:n(),instructionsSysvar:r(),equalityRecord:r(),ciphertextValidityRecord:r(),rangeRecord:r(),authority:n()},data:Rp().decode(e.data)}},[Ap.ApplyConfidentialPendingBalance]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),authority:n()},data:Sp().decode(e.data)}},[Ap.EnableConfidentialCredits]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),authority:n()},data:Wp().decode(e.data)}},[Ap.DisableConfidentialCredits]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),authority:n()},data:jp().decode(e.data)}},[Ap.EnableNonConfidentialCredits]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),authority:n()},data:Hp().decode(e.data)}},[Ap.DisableNonConfidentialCredits]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),authority:n()},data:$p().decode(e.data)}},[Ap.ConfidentialTransferWithFee]:function(e){if(e.accounts.length<10)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n},r=()=>{const e=n();return e.address===yp?void 0:e};return{programAddress:e.programAddress,accounts:{sourceToken:n(),mint:n(),destinationToken:n(),instructionsSysvar:r(),equalityRecord:r(),transferAmountCiphertextValidityRecord:r(),feeSigmaRecord:r(),feeCiphertextValidityRecord:r(),rangeRecord:r(),authority:n()},data:Pp().decode(e.data)}},[Ap.InitializeDefaultAccountState]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:og().decode(e.data)}},[Ap.UpdateDefaultAccountState]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),freezeAuthority:n()},data:$g().decode(e.data)}},[Ap.Reallocate]:function(e){if(e.accounts.length<4)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),payer:n(),systemProgram:n(),owner:n()},data:Ig().decode(e.data)}},[Ap.EnableMemoTransfers]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),owner:n()},data:Gp().decode(e.data)}},[Ap.DisableMemoTransfers]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),owner:n()},data:Lp().decode(e.data)}},[Ap.CreateNativeMint]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{payer:n(),nativeMint:n(),systemProgram:n()},data:Mp().decode(e.data)}},[Ap.InitializeNonTransferableMint]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:gg().decode(e.data)}},[Ap.InitializeInterestBearingMint]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:cg().decode(e.data)}},[Ap.UpdateRateInterestBearingMint]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),rateAuthority:n()},data:Kg().decode(e.data)}},[Ap.EnableCpiGuard]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),owner:n()},data:Vp().decode(e.data)}},[Ap.DisableCpiGuard]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),owner:n()},data:Up().decode(e.data)}},[Ap.InitializePermanentDelegate]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:yg().decode(e.data)}},[Ap.InitializeTransferHook]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Eg().decode(e.data)}},[Ap.UpdateTransferHook]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),authority:n()},data:Yg().decode(e.data)}},[Ap.InitializeConfidentialTransferFee]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:ng().decode(e.data)}},[Ap.WithdrawWithheldTokensFromMintForConfidentialTransferFee]:function(e){if(e.accounts.length<5)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),destination:n(),instructionsSysvarOrContextState:n(),record:(()=>{const e=n();return e.address===yp?void 0:e})(),authority:n()},data:nm().decode(e.data)}},[Ap.WithdrawWithheldTokensFromAccountsForConfidentialTransferFee]:function(e){if(e.accounts.length<5)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),destination:n(),instructionsSysvarOrContextState:n(),record:(()=>{const e=n();return e.address===yp?void 0:e})(),authority:n()},data:em().decode(e.data)}},[Ap.HarvestWithheldTokensToMintForConfidentialTransferFee]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Xp().decode(e.data)}},[Ap.EnableHarvestToMint]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),authority:n()},data:Kp().decode(e.data)}},[Ap.DisableHarvestToMint]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),authority:n()},data:Dp().decode(e.data)}},[Ap.WithdrawExcessLamports]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{sourceAccount:n(),destinationAccount:n(),authority:n()},data:Xg().decode(e.data)}},[Ap.InitializeMetadataPointer]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:ug().decode(e.data)}},[Ap.UpdateMetadataPointer]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),metadataPointerAuthority:n()},data:Wg().decode(e.data)}},[Ap.InitializeGroupPointer]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:ag().decode(e.data)}},[Ap.UpdateGroupPointer]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),groupPointerAuthority:n()},data:qg().decode(e.data)}},[Ap.InitializeGroupMemberPointer]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:ig().decode(e.data)}},[Ap.UpdateGroupMemberPointer]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),groupMemberPointerAuthority:n()},data:Fg().decode(e.data)}},[Ap.InitializeScaledUiAmountMint]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:vg().decode(e.data)}},[Ap.UpdateMultiplierScaledUiMint]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),authority:n()},data:Vg().decode(e.data)}},[Ap.InitializePausableConfig]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:mg().decode(e.data)}},[Ap.Pause]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),authority:n()},data:kg().decode(e.data)}},[Ap.Resume]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),authority:n()},data:Rg().decode(e.data)}},[Ap.InitializeTokenMetadata]:function(e){if(e.accounts.length<4)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{metadata:n(),updateAuthority:n(),mint:n(),mintAuthority:n()},data:bg().decode(e.data)}},[Ap.UpdateTokenMetadataField]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{metadata:n(),updateAuthority:n()},data:Jg().decode(e.data)}},[Ap.RemoveTokenMetadataKey]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{metadata:n(),updateAuthority:n()},data:Cg().decode(e.data)}},[Ap.UpdateTokenMetadataUpdateAuthority]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{metadata:n(),updateAuthority:n()},data:Zg().decode(e.data)}},[Ap.EmitTokenMetadata]:function(e){if(e.accounts.length<1)throw new Error("Not enough accounts");let t=0;return{programAddress:e.programAddress,accounts:{metadata:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Fp().decode(e.data)}},[Ap.InitializeTokenGroup]:function(e){if(e.accounts.length<3)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{group:n(),mint:n(),mintAuthority:n()},data:wg().decode(e.data)}},[Ap.UpdateTokenGroupMaxSize]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{group:n(),updateAuthority:n()},data:Gg().decode(e.data)}},[Ap.UpdateTokenGroupUpdateAuthority]:function(e){if(e.accounts.length<2)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{group:n(),updateAuthority:n()},data:Hg().decode(e.data)}},[Ap.InitializeTokenGroupMember]:function(e){if(e.accounts.length<5)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{member:n(),memberMint:n(),memberMintAuthority:n(),group:n(),groupUpdateAuthority:n()},data:Ag().decode(e.data)}}}},[vh]:{identifier:function(e){const t="data"in e?e.data:e;if(qa(t,$c().encode(0),0))return 0;if(qa(t,$c().encode(1),0))return 1;if(qa(t,$c().encode(2),0))return 2;throw new Error("The provided instruction could not be identified as a associatedToken instruction.")},instructionEnum:gp,typeToParserMap:{[gp.CreateAssociatedToken]:function(e){if(e.accounts.length<6)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{payer:n(),ata:n(),owner:n(),mint:n(),systemProgram:n(),tokenProgram:n()},data:Bp().decode(e.data)}},[gp.CreateAssociatedTokenIdempotent]:function(e){if(e.accounts.length<6)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{payer:n(),ata:n(),owner:n(),mint:n(),systemProgram:n(),tokenProgram:n()},data:zp().decode(e.data)}},[gp.RecoverNestedAssociatedToken]:function(e){if(e.accounts.length<7)throw new Error("Not enough accounts");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{nestedAssociatedAccountAddress:n(),nestedTokenMintAddress:n(),destinationAssociatedAccountAddress:n(),ownerAssociatedAccountAddress:n(),ownerTokenMintAddress:n(),walletAddress:n(),tokenProgram:n()},data:_g().decode(e.data)}}}}},xm=async(e,t)=>{const n=await Sm(t,e),r="instructions"in n?n:await Am(n.messageBytes,e),{instructions:o}=r;return o.map((e=>{const{programAddress:t}=e;return((e,t)=>{const n={...e,dataBase58:vs().decode(e.data??new Uint8Array)};try{const r=Em[t];if(!r)throw new Error("Unsupported program address");const{identifier:o,typeToParserMap:i,instructionEnum:a}=r,s=o(e),c=a[s],u=i[s];if(!u)throw new Error("Unsupported instruction type");return{type:c,encoded:n,parsed:u(e)}}catch(e){return{type:"Unknown",encoded:n,parsed:null}}})(e,t)}))};function Tm(e){const{type:t,id:n,address:r,options:o,methods:i,scopes:a}=e;return{type:t,id:n,address:r,options:o,methods:i,scopes:a}}const km=ge(re(),/^(?:0x)?[0-9a-f]+$/iu);ge(re(),/^0x[0-9a-f]+$/iu),ge(re(),/^0x[0-9a-f]{40}$/u),ge(re(),/^0x[0-9a-fA-F]{40}$/u);function Im(e){ti(function(e){return j(e,km)}(e),"Value must be a hexadecimal string.")}function _m(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}n(1048).hp;const Cm=48,Rm=58,Pm=87;!function(){const e=[]}();function Om(e){if("0x"===e?.toLowerCase?.())return new Uint8Array;Im(e);const t=_m(e).toLowerCase(),n=t.length%2==0?t:`0${t}`,r=new Uint8Array(n.length/2);for(let e=0;e<r.length;e++){const t=n.charCodeAt(2*e),o=n.charCodeAt(2*e+1),i=t-(t<Rm?Cm:Pm),a=o-(o<Rm?Cm:Pm);r[e]=16*i+a}return r}async function Nm({entropySource:e,derivationPath:t}){Cd.log({derivationPath:t},"Generating solana wallet"),z(t,Sc);const n=t.split("/");try{const t=await async function({entropySource:e,path:t,curve:n}){return await snap.request({method:"snap_getBip32Entropy",params:{path:t,curve:n,...e?{source:e}:{}}})}({entropySource:e,path:n,curve:"ed25519"});if(!t.privateKey||!t.publicKey)throw new Error("Unable to derive private key");return{privateKeyBytes:Om(t.privateKey),publicKeyBytes:Om(t.publicKey)}}catch(e){throw Cd.error({error:e},"Error deriving keypair"),new Error(e)}}const Bm=e=>JSON.parse(JSON.stringify(e),((e,t)=>t?"undefined"!==t.__type?"BigNumber"===t.__type?new jo(t.value):"bigint"===t.__type?BigInt(t.value):"Uint8Array"===t.__type?xs().encode(t.value):t:void 0:t)),zm=e=>(0,ni.cloneDeepWith)(e,(e=>void 0===e?{__type:"undefined"}:e instanceof jo?{__type:"BigNumber",value:e.toString()}:"bigint"==typeof e?{__type:"bigint",value:e.toString()}:e instanceof Uint8Array?{__type:"Uint8Array",value:xs().decode(e)}:void 0)),Mm="send-form",jm="confirm-sign-and-send-transaction";async function Um(e,t){const n=zm(t);return snap.request({method:"snap_createInterface",params:{ui:e,context:n}})}async function Dm(e,t,n){const r=zm(n);return snap.request({method:"snap_updateInterface",params:{id:e,ui:t,context:r}})}async function Lm(e,t){return snap.request({method:"snap_resolveInterface",params:{id:e,value:t}})}async function $m(e){return snap.request({method:"snap_dialog",params:{id:e}})}async function Fm(){return snap.request({method:"snap_getPreferences"})}async function qm(e){const t=await async function(e){const t=await snap.request({method:"snap_getInterfaceContext",params:{id:e}});return t?Bm(t):null}(e);if(!t)throw new Error("Interface context not found");return t}var Wm=function(e){return e.GetGenesisHash="getGenesisHash",e.GetLatestBlockhash="getLatestBlockhash",e.GetMinimumBalanceForRentExemption="getMinimumBalanceForRentExemption",e}({});const Vm=ee({jsonrpc:vf,id:wf,method:Z("getGenesisHash"),params:te(K())}),Km=ee({jsonrpc:vf,id:wf,method:Z("getLatestBlockhash")}),Gm=ee({jsonrpc:vf,id:wf,method:Z("getMinimumBalanceForRentExemption"),params:oe([Q(),te(ee())])});var Hm=function(e){return e.StartSendTransactionFlow="startSendTransactionFlow",e.GetFeeForTransaction="getFeeForTransaction",e}({}),Jm=function(e){return e.TestSetupAllConnections="testSetupAllConnections",e.TestCloseAllConnections="testCloseAllConnections",e.TestSubscribeToAccount="testSubscribeToAccount",e.TestUnsubscribeFromAccount="testUnsubscribeFromAccount",e}({});const Zm={production:[nc.Mainnet],local:[nc.Mainnet,nc.Devnet],test:[nc.Localnet]},Ym=de(K(lc),re(),(e=>e.split(","))),Xm=de(K(re()),re(),(e=>e.split(","))),Qm=ee({ENVIRONMENT:H(["local","test","production"]),RPC_URL_MAINNET_LIST:Ym,RPC_URL_DEVNET_LIST:Ym,RPC_URL_TESTNET_LIST:Ym,RPC_URL_LOCALNET_LIST:Xm,RPC_WEB_SOCKET_URL_MAINNET:lc,RPC_WEB_SOCKET_URL_DEVNET:lc,RPC_WEB_SOCKET_URL_TESTNET:lc,RPC_WEB_SOCKET_URL_LOCALNET:lc,EXPLORER_BASE_URL:lc,PRICE_API_BASE_URL:lc,TOKEN_API_BASE_URL:lc,STATIC_API_BASE_URL:lc,SECURITY_ALERTS_API_BASE_URL:lc,LOCAL_API_BASE_URL:re()});class ey{#g;constructor(){const e=this.#m();this.#g=this.#y(e)}#m(){return M({ENVIRONMENT:"production",RPC_URL_MAINNET_LIST:"https://solana-mainnet.infura.io/v3/5b98a22672004ef1bf40a80123c5c48d",RPC_URL_DEVNET_LIST:"https://solana-devnet.infura.io/v3/5b98a22672004ef1bf40a80123c5c48d",RPC_URL_TESTNET_LIST:"https://api.testnet.solana.com",RPC_URL_LOCALNET_LIST:"http://localhost:8899",RPC_WEB_SOCKET_URL_MAINNET:"wss://solana-mainnet.infura.io/ws/v3/5b98a22672004ef1bf40a80123c5c48d",RPC_WEB_SOCKET_URL_DEVNET:"wss://solana-devnet.infura.io/ws/v3/5b98a22672004ef1bf40a80123c5c48d",RPC_WEB_SOCKET_URL_TESTNET:"wss://api.testnet.solana.com",RPC_WEB_SOCKET_URL_LOCALNET:"wss://localhost:8899",EXPLORER_BASE_URL:"https://solscan.io",PRICE_API_BASE_URL:"https://price.api.cx.metamask.io",TOKEN_API_BASE_URL:"https://tokens.api.cx.metamask.io",STATIC_API_BASE_URL:"https://static.cx.metamask.io",SECURITY_ALERTS_API_BASE_URL:"https://security-alerts.api.cx.metamask.io",LOCAL_API_BASE_URL:"http://localhost:8899"},Qm)}#y(e){return{environment:e.ENVIRONMENT,networks:[{...sc[nc.Mainnet],rpcUrls:e.RPC_URL_MAINNET_LIST,webSocketUrl:e.RPC_WEB_SOCKET_URL_MAINNET},{...sc[nc.Devnet],rpcUrls:e.RPC_URL_DEVNET_LIST,webSocketUrl:e.RPC_WEB_SOCKET_URL_DEVNET},{...sc[nc.Testnet],rpcUrls:e.RPC_URL_TESTNET_LIST,webSocketUrl:e.RPC_WEB_SOCKET_URL_TESTNET},{...sc[nc.Localnet],rpcUrls:e.RPC_URL_LOCALNET_LIST,webSocketUrl:e.RPC_WEB_SOCKET_URL_LOCALNET}],explorerBaseUrl:e.EXPLORER_BASE_URL,activeNetworks:Zm[e.ENVIRONMENT],priceApi:{baseUrl:"test"===e.ENVIRONMENT?e.LOCAL_API_BASE_URL:e.PRICE_API_BASE_URL,chunkSize:50},tokenApi:{baseUrl:"test"===e.ENVIRONMENT?e.LOCAL_API_BASE_URL:e.TOKEN_API_BASE_URL,chunkSize:50},staticApi:{baseUrl:e.STATIC_API_BASE_URL},transactions:{storageLimit:10},securityAlertsApi:{baseUrl:"test"===e.ENVIRONMENT?e.LOCAL_API_BASE_URL:e.SECURITY_ALERTS_API_BASE_URL},subscription:{maxReconnectAttempts:5,reconnectDelayMilliseconds:1e3}}}get(){return this.#g}getNetworkBy(e,t){const n=this.get().networks.find((n=>n[e]===t));if(!n)throw new Error(`Network ${e} not found`);return n}}const ty=(new ey).get(),ny=["local","test"].includes(ty.environment),ry=ny?["http://localhost:3000"]:["https://portfolio.metamask.io"],oy=ny?new Set([Ht.ListAccounts,Ht.GetAccount,Ht.CreateAccount,Ht.FilterAccountChains,Ht.DeleteAccount,Ht.DiscoverAccounts,Ht.GetAccountBalances,Ht.SubmitRequest,Ht.ListAccountTransactions,Ht.ListAccountAssets,Hm.StartSendTransactionFlow,Hm.GetFeeForTransaction,Wm.GetGenesisHash,Wm.GetLatestBlockhash,Vd.SignAndSendTransactionWithoutConfirmation,Jm.TestSetupAllConnections,Jm.TestCloseAllConnections,Jm.TestSubscribeToAccount,Jm.TestUnsubscribeFromAccount]):new Set([]),iy=new Set([Ht.ListAccounts,Ht.GetAccount,Ht.CreateAccount,Ht.DeleteAccount,Ht.DiscoverAccounts,Ht.GetAccountBalances,Ht.SubmitRequest,Ht.ListAccountTransactions,Ht.ListAccountAssets,Ht.ResolveAccountAddress,Hm.StartSendTransactionFlow,Hm.GetFeeForTransaction,Wm.GetGenesisHash,Wm.GetLatestBlockhash,Vd.SignAndSendTransactionWithoutConfirmation]),ay=new Map([]);for(const e of ry)ay.set(e,oy);ay.set("metamask",iy);const sy=(e,t)=>{if(!e)throw new go("Origin not found");if(!ay.get(e)?.has(t))throw new go("Permission denied")};function cy(e,t){try{z(e,t)}catch(e){throw new ro(e.message)}}function uy(e,t){try{z(e,t)}catch(e){throw new Qr("Invalid Response")}}const ly=ee({...St.schema,scope:yc,request:Ff}),dy=ee({scopes:pe(K(yc)),entropySource:re(),groupIndex:he(Q(),0)});function fy(e,t){const n=t.filter((t=>!e.includes(t))),r=e.filter((e=>!t.includes(e)));return{hasDiff:n.length>0||r.length>0,added:n,deleted:r}}function hy(e,t){const n={added:{},deleted:{},changed:{},hasDiff:!1},r=(e,o,i="")=>{for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){const s=i?`${i}.${a}`:a;if(Object.prototype.hasOwnProperty.call(o,a)){if("object"==typeof e[a]&&null!==e[a]&&"object"==typeof o[a]&&null!==o[a])r(e[a],o[a],s);else if(e[a]!==o[a]){const e=s.split(".")[0];n.changed[e??a]=t[e??a],n.hasDiff=!0}}else n.deleted[s]=e[a],n.hasDiff=!0}for(const t in o)if(Object.prototype.hasOwnProperty.call(o,t)&&!Object.prototype.hasOwnProperty.call(e,t)){const e=i?`${i}.${t}`:t;n.added[e]=o[t],n.hasDiff=!0}};return r(e,t),n}function py(e){return e.split("/")[0]}function gy(e,t){return`${e}/token:${t}`}class my{#i;#f;#v;#w;#A;#b;#c;static cacheTtlsMilliseconds={tokenAccountsByOwner:5*Yo.Second};constructor({connection:e,logger:t,configProvider:n,state:r,tokenMetadataService:o,tokenPricesService:i,cache:a}){this.#i=t,this.#f=e,this.#v=n,this.#w=r,this.#A=o,this.#b=i,this.#c=a}async listAccountAssets(e){const{activeNetworks:t}=this.#v.get();return[...t.map((e=>`${e}/${oc.SOL}`)),...(await this.#S(zs(e.address),[bh,ac],t)).flatMap((e=>e.assetType))]}async#S(e,t=[bh,ac],n=[nc.Mainnet]){if(0===t.length||0===n.length)return[];const r=n.flatMap((e=>t.map((t=>({scope:e,programId:t}))))),o=oi(this.#E.bind(this),this.#c,{functionName:"AssetsService:getTokenAccountsByOwner",ttlMilliseconds:my.cacheTtlsMilliseconds.tokenAccountsByOwner});return(await Promise.all(r.map((async({scope:t,programId:n})=>await o(e,n,t))))).flat()}async#E(e,t=bh,n=nc.Mainnet){return(await this.#f.getRpc(n).getTokenAccountsByOwner(e,{programId:t},{encoding:"jsonParsed"}).send()).value.map((e=>({...e,scope:n,assetType:gy(n,e.account.data.parsed.info.mint)})))}async getAccountBalances(e,t){const n=zs(e.address),r=await this.#A.getTokensMetadata(t),o=(0,ni.uniq)((0,ni.map)(t,py)),i=[bh,ac],a=await this.#S(n,i,o),s={},c=t.map((async e=>{const{chainId:t}=Xo(e);let o;if(e.endsWith(oc.SOL))o=(await this.#f.getRpc(t).getBalance(n).send()).value;else{const t=a.find((t=>t.assetType===e));o=t?BigInt(t.account.data.parsed.info.tokenAmount.amount):BigInt(0)}const i=r[e],c=function(e,t){return new jo(e.toString()).div(10**t).toFixed()}(o,i?.units[0]?.decimals??9);s[e]={amount:c,unit:i?.symbol??"UNKNOWN"}}));await Promise.all(c);const u={...await this.#w.getKey(`assets.${e.id}`),...s};return await this.#w.setKey(`assets.${e.id}`,u),s}async refreshAssets(e){if(0===e.length)return void this.#i.info("[AssetsService] No accounts found");this.#i.log(`[AssetsService] Refreshing assets for ${e.length} accounts`);const t=await this.#w.getKey("assets")??{};for(const n of e){this.#i.log(`[AssetsService] Fetching all assets for ${n.address} in all networks`);const e=await this.listAccountAssets(n),r=t[n.id],o=Object.keys(r??{}),i=e??{},{added:a,deleted:s,hasDiff:c}=fy(o,i);c&&(this.#i.info({assetsAdded:a,assetsDeleted:s,assetsChanged:c},`[refreshAssets] Found updated assets for ${n.address}`),await vn(snap,gn.AccountAssetListUpdated,{assets:{[n.id]:{added:a,removed:s}}}));const u=await this.getAccountBalances(n,e),l=t[n.id],{added:d,deleted:f,changed:h,hasDiff:p}=hy(l??{},u);p&&(this.#i.info({balancesAdded:d,balancesDeleted:f,balancesChanged:h},`[BalancesService] Found updated balances for ${n.address}`),await vn(snap,gn.AccountBalancesUpdated,{balances:{[n.id]:{...d,...h}}}),await this.#w.setKey(`assets.${n.id}`,u))}}async getAssetsMarketData(e){return await this.#b.getMultipleTokensMarketData(e)}}function yy(e,t,n){if("string"==typeof e)throw new Error(`An HTML element ("${String(e)}") was used in a Snap component, which is not supported by Snaps UI. Please use one of the supported Snap components.`);if(!e)throw new Error("A JSX fragment was used in a Snap component, which is not supported by Snaps UI. Please use one of the supported Snap components.");return e({...t,key:n})}function vy(e,t,n){return yy(e,t,n)}const wy='<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"><image width="16" height="16" href="data:image/png;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAUFBQUFBQUGBgUICAcICAsKCQkKCxEMDQwNDBEaEBMQEBMQGhcbFhUWGxcpIBwcICkvJyUnLzkzMzlHREddXX0BBQUFBQUFBQYGBQgIBwgICwoJCQoLEQwNDA0MERoQExAQExAaFxsWFRYbFykgHBwgKS8nJScvOTMzOUdER11dff/CABEIAPoA+gMBIgACEQEDEQH/xAA1AAEAAwEBAQEBAAAAAAAAAAAAAQIHBggEBQMBAQADAQEBAQAAAAAAAAAAAAACAwQBBQYH/9oADAMBAAIQAxAAAADxkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACx204cU3mdnnYLG+IQwNvsxhgLfrRh5/egLRh59egkYefXoRCPn6mv5BH2ajuwAAAACZdFZz6/SvzfofWfLWtS2jw7WpNGO01mjJaas+P+k0tRjtNbUY38Leccnq/DxFq5f2ao7cAAAAB+36W8/9p7+DZZxp6nl7LOM3qzbLOMqs2zzjF6suyzjNqqNlnGrU5NkY7zlHP75Wjzv0mg5pAAAAAAs6jqdsMuajacMsam5HLGqORytqkxjlTVbc5lLVpjDKGsfhQlwdb1p3QAAAAAADofSXk7q/cp9MT8n0/cebe1Jpx2tS2fJNqTRkvNLUY7TWaMdqXZ8vnHPvZHmrw/u+JTGL6EAAAAABMDuvQvkLQfo6PQU55P0WLRJztTl0Sc7U5tFnOppzaOzmacujTnSrLo3x8NNFOM8zsuM+H99Aq2AAAAAATMfpWPznbNXOJdqjHi47Wec4l2jnOLdo5zi57JFxrsp5HjadRy9d0CMgAAAAJPqm+j0X8fW/oV82rPvUWRNGObUmjHe1LUZLIUY7TDPk/opk2CP5uPy+U+1qKrwAAAAPo3zPdc+23fu2/BfYXdA/AmjL+/bn1GToZ55Tl6KedmjJ0c87anL0LnuZyUTgH9fm+Q9+Bk0AAAAAAWVdWVFlRZUWVFpo4uoLxV0HAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH//EAEEQAAECAwQHBAgDBgcBAAAAAAECBAADBgURF1UQMUFRkpPSEiFSohYgIjBAYaPiBzLBEyRUYnCRFBVDRYGhstH/2gAIAQEAAT8A/qXdF0XRd8ou9a4R3aOz8AO+KUo95Uc1SyoyGcs+3OIvvPhQDrMYUWPmbzhRGFFj5m74URhRY2Zu+FEYT2NmbvhRGE1jZm84URhNY2ZvOFEYTWNmjzhRGEti5o84URhLYuaPP7IjCWxc0ecKIwksXM3nCiMJLFzN5wojCSxczd/2RGEliZm8/siKt/DthYNkTLRbWlNUqWtIKJwA7Xa8JHwFK0w6qN6EJvQ1lkGfO2AeEb1HZDRq2YNpLVrJTLkyk9lCAO4D9TtJ2nQIv0C/QDAOgGL9Lp22Yt5rl1NTLky03rWrUB+p+W2KyqubUr72SpDOSSJEonzKHiPv6dsB7UT1LduLkJuM2afyy0bzvO4RZdmtbIZSGTRHZlS069qlbVK3k6AYGkQDA0DQDonTpTaVMnTpqUSkJKlrUbkhI1kmK3rJdQuRIaKUiz5BPYB7jMV41CD3++sWx3ltv5LNqm9au9Sj+VCRrUo7hFg2IzsBhLZthftmzCO+Yvao7vkNA0AxfA0A6RAMCCpKUqJUAALySbgBFeVsLXUuzbPWQxQr25m2coH/AMiFa/f0rVK6ZmO1hkiemehIIKuwoFBvFyrjGLByIc89MYsnIxz/ALIxZORjn/ZGLJyMc89MYspyP6/2xi0nIvr/AGxi2nI/r/bGLYyL6/2xi5LyM8/7Yxbl5Gef9sYuSsjPPHTGLkrI1c8dMYuSMjXzh0xi63yRfOHTFR/iO9tpktk1bBpJWLpp7fbWtPh1CCTBJPwN3udfqk6vgKcph7Ui3KW02VKEhIK1zL9atQFwJjCu1szZ+fpjCy18zZ+fpjCu1syZefpjCu1syZefpjCq18yZ+fpjCq18yZ+fpjCm18zZ+fpjCi1s0Z+fpjCe1szZ+fpjCe1s0Z+fpjCa180Z+fpjCa1szZ+fpjCa1szZefpjCW1s0Zefpi36Etan2gdrVKcSAblqlX+wTvBAMKB7ou9/T9vPKffJctriki6bLP5Vo3H9DFl2m1tdlIetV9qXMGralW1KtxGgGAYvgQDoBi+L9A0TZUtxKmSp0tK5cwFK0K7wUnWCIrWjlU+4DltethOPsE95lK8CjB+ApipnVPPAtN62yyBPk7FDeNyhsMNHbZ+2kum04TJMxPaSobR+hG0bIEXwDpB0AwIHqO2rZ+2nNXMlM2TMR2VoVqI/Q7jsisKWn049ISVTGc4kyJvy1lCvmII9+DdFH1VNsB0JThalMJyh+1RrKD40jeIkzpLiVLnSZqZkqYkKQtJvSUnUQdAOi+BF+gHQNA0WjZzO1Wc5m8lCZKmC4jaDsUk7FDYYqWnHtOv1t56SqUq8yJwHctH/ANG2B78G4xR1ZKsLttXiVzGSzeAk3mUraUg6wdojEum9zzkp64xMprc85KeuMTKa8Lzkp64xMprwvOSnrjE2mvC85KeuMTaa8LzlJ64xNprwveSnrjE6mvC95KeuMT6Z3POSnrjE+mdzzlJ6oxOpnc85Q6oxPpjc85SeqMT6YOx5yU9cYn0xue8lPXFY1tYFuWKtk1kT1zzNQpCpqAkIuPeoHtHX8APWv9S+L4vGjVo/4+Bs6zHtquA3ZN1TphBNydgG0k9wEYfVR/Ao5qIw9qj+BRzURh/VWXDmojD6qsuHNRGH1VZcOaiMPqqy4c1EYf1Xlf1ZfVGH9WZX9VHVGH1WZX9WX1Rh9VeWfVl9UYf1blJ5qOqMP6tyo81HVGH1W5T9VHVGH1XZSeajqi0qSt+yGxdPrPXLkhQSV9pKgCd/ZJ+As6z3dpu5LVrKMybMNwA/7JOwDaYpun29PMBIRcufMuLib41bh/KNnq3iL4ECO6Bd6m0d0fiBWMp6ldj2esKkBX7xOGpage5Cd6RtPvhDRrPeOJTeRKVMnTFBKEDWSYpSmJNPNSVkLezUj9rM2Aa+wn5DadI9QQDovgQNAivK2S2TPsezZl80jsOZwP5AdaE/PeYJJ99KlrmrQhAJWSAABeSdwikaTRYklLp0Ap/MRcdolJOwfPeY1QDov0iBoBi+AdNb1l/k6FWcwX+/LR7ax/oAjZ/OYUpSiSSSSbyT3kn39BubFZv5860ZqJc5KB/h1zPyJO0/JW6PSanh/vTXjj0mp7OmvHAqens6a8celFO501449Kacztrxx6U05nbXjj0ppzPGnHHpTTeeNOOPSqnM8accelVN54044FVU3njTjj0rprPWnHAqums8accelVNZ4044qav7PYNDLsp0hy7mC4LR3oljxE7VbhE+dNcTVzpswrmLUVKUokqJOsknWfgAbovMXnfF/wAzHai+L4vMdo747R3x2jvgKO+O18zHa+cXnfBJ/rX/AP/EADQRAAEDAQUFBAkFAAAAAAAAAAIAAQQDBRIUU5IREzBCVBUjMkMGICExM0RQUqIQImFyof/aAAgBAgEBPwD6pTpnVK6A3iT2fJ+z/U8GQ3InhyG5FhqzcqehUbkW7qfYnE25eBTA6piADeIlCgNFD2/ELxIhRCiFEKIUQqq93gWXXs+NT3lQu+/qitWC/m/i6e04b+annxcxFOi5iKZGfmRSo78yORS2ftJETk+1+BRgTK4bylQMhT2XO6U12ZOb5c12dMyDTwJWQawUnKNYORlIo9YG2vS4NkWoUM92fwS/H+UziY3hRCiFEKIUQog2+9S4z0ivD4eDY9rYd9xXLu+UvtRWlA6oEVowepBFPhZ4IpsPPBFMiZ4IpUbNBHXjG2x6oKsICbsBXh4AAVQhAAvES7Om9Kel1gJnSnpdYGY3y56Vg5TeQelYSVkHpWGkZJ6Vh6+UaISF9hD64iREIj73Vh2Jg6bSKw98X4ohRCiFEKIUQqVWCPTvEq1YqxuRev6Nw4Aji5MgN5yARN7EU6D1YamRTYXVBqZFMh9QGpkUqJ1AamRSonUBqZFJi54amVaXGpgRb0FKlHKqXn8PLwNqvOrzra6vP+u36t//xAA2EQABBAEBAwkECwEAAAAAAAACAAEDBAWiEjFDBhETFDAyQkRSICFBkhYjM1BTVGBhcrHB0f/aAAgBAwEBPwD70llCGMpJC2RT5jHtxtLp85jm42l0/KDFtvsaXT8pMS3mdLp+U+HbzOl0/KvCN5vS6+l+Cbfb0uqOQq5KBp6x7Ufd7rt/ftkTA3O+5ZC0dk9lvsxRgjBGCMEYI41hMBLl7PpgDvn/AIq1aGpBHBCGzGDcw+3binmbZDuosbYfwo8VbfhosNdfhamR4PIPwtTIsBkX4GpkfJzKPug1MoOSuSmmAZI+jDxntMqVOvQrhBCGyI6v3fsHkAX95J7ELeNPbr/GVddqNxl1+m3HBPk6Db7QJ8tjvjaBRZOhNIMYWgci7GWPbZHGjBGCMFJGjBOxCTEKwmYG4HQTF9cOrsZYtv3sjryP4UdSV+EjpWH4SPH2X3QGjxlx+AaPE338qaHFZSIwOOuYkKoS2ZawPZi6OT4/97F3ZOYN4l0sbeNl08P4oJ7EDcUF1mv+YD5l1uq3mA+ZkMkcjc4GxD2DROze9GCMFICMEYIwVelJbl2B3KtWjqxDFHub260cXNtmYI3i9aNg9aMWRx86OE/Qjry+hdSnM+ZgVatHWjYQb+X6F//Z" /></svg>';function Ay(e){return Object.fromEntries(Object.entries(e).filter((([,e])=>void 0!==e)))}function by(e){return t=>{const{key:n=null,...r}=t;return{type:e,props:Ay(r),key:n}}}const Sy=by("Container"),Ey=by("Box"),xy=by("Heading"),Ty=by("Text"),ky=by("Section"),Iy=by("Row"),_y=by("Address"),Cy=by("Image"),Ry=by("Footer"),Py=by("Button");function Oy(e,t){return`${e}:${t}`}const Ny=JSON.parse('{"D":{"send.title":{"message":"Send"},"send.balance":{"message":"Balance"},"send.maxButton":{"message":"Max"},"send.cancelButton":{"message":"Cancel"},"send.continueButton":{"message":"Continue"},"send.fromField":{"message":"From"},"send.toField":{"message":"To"},"send.amountField":{"message":"Amount"},"send.assetField":{"message":"Token"},"send.toPlaceholder":{"message":"Enter public address or domain name"},"send.fromRequiredError":{"message":"Account is required"},"send.amountRequiredError":{"message":"Amount is required"},"send.amountGreatherThanMinimumBalanceForRentExemptionError":{"message":"Amount must be greater than {minimumValue}"},"send.insuffientSolToCoverFee":{"message":"Insufficient SOL balance to cover the transaction fee"},"send.toRequiredError":{"message":"To address is required"},"send.toInvalidError":{"message":"Invalid Solana address or domain name"},"send.toInvalidErrorDomain":{"message":"Unable to resolve domain name"},"send.toDomainResolutionStatus.initial":{"message":"Domain"},"send.toDomainResolutionStatus.fetching":{"message":"Resolving domain name..."},"send.toDomainResolutionStatus.fetched":{"message":"Domain name resolved."},"send.toDomainResolutionStatus.error":{"message":"Unable to resolve domain name."},"send.insufficientBalance":{"message":"Insufficient balance"},"send.simulationTitleAPIError":{"message":"Because of an error, we couldn\'t check for security alerts."},"send.simulationMessageAPIError":{"message":"Only continue if you trust every address involved."},"send.simulationTitleError":{"message":"Transaction simulation failed"},"send.simulationMessageError":{"message":"This transaction was reverted during simulation."},"send.selectedTokenPriceNotAvailable":{"message":"Prices for tokens in {currency} are currently not available. You are still able to send tokens."},"send.confirmation.title":{"message":"Review"},"send.confirmation.from":{"message":"From"},"send.confirmation.recipient":{"message":"Recipient"},"send.confirmation.network":{"message":"Network"},"send.confirmation.transactionSpeed":{"message":"Transaction speed"},"send.confirmation.fee":{"message":"Network fee"},"send.confirmation.sendButton":{"message":"Send"},"send.confirmation.cancelButton":{"message":"Cancel"},"send.confirmation.viewTransaction":{"message":"View transaction"},"send.send-pending.title":{"message":"Sending..."},"send.send-pending.subtitle":{"message":"Your transaction was submitted."},"send.transaction-success.title":{"message":"Sent"},"send.transaction-success.subtitle":{"message":"{amount} {tokenSymbol} was successfully sent"},"send.transaction-failure.title":{"message":"Transaction failed"},"send.transaction-failure.subtitle":{"message":"Unable to send {amount} {tokenSymbol}"},"confirmation.account":{"message":"Account"},"confirmation.network":{"message":"Network"},"confirmation.estimatedChanges":{"message":"Estimated changes"},"confirmation.estimatedChanges.send":{"message":"You send"},"confirmation.estimatedChanges.receive":{"message":"You receive"},"confirmation.estimatedChanges.notAvailable":{"message":"Not available"},"confirmation.estimatedChanges.noChanges":{"message":"No changes"},"confirmation.estimatedChanges.tooltip":{"message":"Estimated changes are what might happen if you go through with this transaction. This is just a prediction, not a guarantee."},"confirmation.advanced.show":{"message":"Show advanced"},"confirmation.advanced.hide":{"message":"Hide advanced"},"confirmation.cancelButton":{"message":"Cancel"},"confirmation.confirmButton":{"message":"Confirm"},"confirmation.signAndSendTransaction.title":{"message":"Transaction request"},"confirmation.signTransaction.title":{"message":"Signing request"},"confirmation.sendAndConfirmTransaction.title":{"message":"Sending and confirming transaction"},"confirmation.advanced.unknownInstruction":{"message":"Unknown"},"confirmation.advanced.programId":{"message":"Program ID"},"confirmation.advanced.data":{"message":"Data"},"confirmation.fee":{"message":"Network fee"},"confirmation.feeError":{"message":"Unable to estimate fee"},"confirmation.origin":{"message":"Request from"},"confirmation.origin.tooltip":{"message":"This is the site asking for your confirmation."},"confirmation.simulationErrorTitle":{"message":"This transaction was reverted during simulation."},"confirmation.simulationErrorSubtitle":{"message":"{reason}"},"confirmation.validationErrorTitle":{"message":"This is a deceptive request"},"confirmation.validationErrorSubtitle":{"message":"If you approve this request, a third party known for scams will take all your assets."},"confirmation.validationErrorLearnMore":{"message":"Learn more"},"confirmation.validationErrorSecurityAdviced":{"message":"Security advice by"},"confirmation.signMessage.title":{"message":"Sign message"},"confirmation.signMessage.message":{"message":"Message"},"confirmation.signIn.title":{"message":"Sign-in request"},"confirmation.signIn.description":{"message":"A site wants you to sign in to prove you own this account."},"confirmation.signIn.domain":{"message":"Domain"},"confirmation.signIn.unknownDomain":{"message":"Unknown domain"},"confirmation.signIn.signingInWith":{"message":"Signing in with"},"confirmation.signIn.badAccount":{"message":"This site is asking you to sign in using the wrong account."},"confirmation.signIn.message":{"message":"Message"},"confirmation.signIn.statement":{"message":"Statement"},"confirmation.signIn.version":{"message":"Version"},"confirmation.signIn.chainId":{"message":"Chain ID"},"confirmation.signIn.nonce":{"message":"Nonce"},"confirmation.signIn.issuedAt":{"message":"Issued at"},"confirmation.signIn.expirationTime":{"message":"Expiration time"},"confirmation.signIn.notBefore":{"message":"Not before"},"confirmation.signIn.requestId":{"message":"Request ID"},"confirmation.signIn.resources":{"message":"Resources"},"confirmation.signIn.badDomain":{"message":"This site is asking you to sign in using the wrong domain."},"transactionScan.errors.accountAlreadyInUse":{"message":"An account with the same address already exists."},"transactionScan.errors.insufficientSol":{"message":"Account does not have enough SOL to perform the operation."},"transactionScan.errors.slippageToleranceExceeded":{"message":"The transaction was reverted because the slippage tolerance was exceeded."},"transactionScan.errors.unknownError":{"message":"An unknown error occurred."}}}'),By=JSON.parse('{"D":{"send.title":{"message":"Enviar"},"send.balance":{"message":"Saldo"},"send.maxButton":{"message":"Máx."},"send.cancelButton":{"message":"Cancelar"},"send.continueButton":{"message":"Continuar"},"send.fromField":{"message":"De"},"send.toField":{"message":"Para"},"send.amountField":{"message":"Monto"},"send.assetField":{"message":"Token"},"send.toPlaceholder":{"message":"Introduzca la dirección pública"},"send.fromRequiredError":{"message":"La cuenta es obligatoria"},"send.amountRequiredError":{"message":"El monto es obligatorio"},"send.amountGreatherThanMinimumBalanceForRentExemptionError":{"message":"El valor debe ser superior a {minimumValue}"},"send.insuffientSolToCoverFee":{"message":"Saldo de SOL insuficiente para cubrir la tarifa de transacción"},"send.toRequiredError":{"message":"La dirección del destinatario es obligatoria"},"send.toInvalidError":{"message":"Dirección de Solana no válida"},"send.insufficientBalance":{"message":"Saldo insuficiente"},"send.simulationTitleAPIError":{"message":"Debido a un error, no pudimos verificar las alertas de seguridad."},"send.simulationMessageAPIError":{"message":"Continúa solo si confías en todas las direcciones involucradas."},"send.simulationTitleError":{"message":"Simulación de transacción fallida"},"send.simulationMessageError":{"message":"Esta transacción se revirtió durante la simulación."},"send.selectedTokenPriceNotAvailable":{"message":"Los precios de los tokens en {currency} no están disponibles actualmente. Aún puede enviar tokens."},"send.confirmation.title":{"message":"Revisar"},"send.confirmation.from":{"message":"De"},"send.confirmation.recipient":{"message":"Destinatario"},"send.confirmation.network":{"message":"Red"},"send.confirmation.transactionSpeed":{"message":"Velocidad de la transacción"},"send.confirmation.fee":{"message":"Tarifa de red"},"send.confirmation.sendButton":{"message":"Enviar"},"send.confirmation.cancelButton":{"message":"Cancelar"},"send.confirmation.viewTransaction":{"message":"Ver transacción"},"send.send-pending.title":{"message":"Enviando..."},"send.send-pending.subtitle":{"message":"Se envió su transacción."},"send.transaction-success.title":{"message":"Enviado"},"send.transaction-success.subtitle":{"message":"El envío de {amount} {tokenSymbol} se realizó correctamente"},"send.transaction-failure.title":{"message":"Transacción fallida"},"send.transaction-failure.subtitle":{"message":"Error al enviar {amount} {tokenSymbol}"},"confirmation.account":{"message":"Cuenta"},"confirmation.network":{"message":"Red"},"confirmation.estimatedChanges":{"message":"Cambios estimados"},"confirmation.estimatedChanges.send":{"message":"Usted envía"},"confirmation.estimatedChanges.receive":{"message":"Usted recibe"},"confirmation.estimatedChanges.notAvailable":{"message":"No disponible"},"confirmation.estimatedChanges.noChanges":{"message":"Sin cambios"},"confirmation.estimatedChanges.tooltip":{"message":"Los cambios estimados son los que podrían producirse si sigue adelante con esta transacción. Esto es solo una predicción, no una garantía."},"confirmation.advanced.show":{"message":"Mostrar avanzadas"},"confirmation.advanced.hide":{"message":"Ocultar avanzadas"},"confirmation.cancelButton":{"message":"Cancelar"},"confirmation.confirmButton":{"message":"Confirmar"},"confirmation.signAndSendTransaction.title":{"message":"Solicitud de transacción"},"confirmation.signTransaction.title":{"message":"Signing request"},"confirmation.sendAndConfirmTransaction.title":{"message":"Sending and confirming transaction"},"confirmation.advanced.unknownInstruction":{"message":"Desconocida"},"confirmation.advanced.programId":{"message":"ID del programa"},"confirmation.advanced.data":{"message":"Datos"},"confirmation.fee":{"message":"Tarifa de red"},"confirmation.feeError":{"message":"No se puede calcular la tarifa"},"confirmation.origin":{"message":"Solicitud de"},"confirmation.origin.tooltip":{"message":"This is the site asking for your confirmation."},"confirmation.simulationErrorTitle":{"message":"Esta transacción se revirtió durante la simulación."},"confirmation.simulationErrorSubtitle":{"message":"Motivo: {reason}"},"confirmation.validationErrorTitle":{"message":"Esta es una solicitud engañosa"},"confirmation.validationErrorSubtitle":{"message":"Si aprueba esta solicitud, un tercero conocido por sus estafas se quedará con todos sus activos."},"confirmation.validationErrorLearnMore":{"message":"Conozca más"},"confirmation.validationErrorSecurityAdviced":{"message":"Asesoramiento de seguridad por"},"confirmation.signMessage.title":{"message":"Firmar mensaje"},"confirmation.signMessage.message":{"message":"Mensaje"},"confirmation.signIn.title":{"message":"Solicitud de inicio de sesión"},"confirmation.signIn.description":{"message":"Un sitio quiere que inicie sesión para demostrar que usted es el titular de esta cuenta."},"confirmation.signIn.domain":{"message":"Domain"},"confirmation.signIn.unknownDomain":{"message":"Dominio desconocido"},"confirmation.signIn.signingInWith":{"message":"Iniciar sesión con"},"confirmation.signIn.badAccount":{"message":"Este sitio le pide que inicie sesión con la cuenta incorrecta."},"confirmation.signIn.message":{"message":"Mensaje"},"confirmation.signIn.statement":{"message":"Declaración"},"confirmation.signIn.version":{"message":"Versión"},"confirmation.signIn.chainId":{"message":"ID de cadena"},"confirmation.signIn.nonce":{"message":"Nonce"},"confirmation.signIn.issuedAt":{"message":"Emitido a las"},"confirmation.signIn.expirationTime":{"message":"Hora de caducidad"},"confirmation.signIn.notBefore":{"message":"No antes de"},"confirmation.signIn.requestId":{"message":"ID de solicitud"},"confirmation.signIn.resources":{"message":"Recursos"},"confirmation.signIn.badDomain":{"message":"This site is asking you to sign in using the wrong domain."},"transactionScan.errors.accountAlreadyInUse":{"message":"Ya existe una cuenta con la misma dirección."},"transactionScan.errors.insufficientSol":{"message":"La cuenta no tiene suficiente SOL para realizar la operación."},"transactionScan.errors.slippageToleranceExceeded":{"message":"La transacción se revirtió porque se superó la tolerancia de deslizamiento."},"transactionScan.errors.unknownError":{"message":"An unknown error occurred."}}}'),zy={en:Ny.D,es:By.D},My="en";function jy(e){const t=zy[e]??zy[My];return(e,n)=>{let r=t?.[e]?.message??e;return n&&r&&Object.keys(n).forEach((e=>{const t=new RegExp(`\\{${e}\\}`,"gu");r=r.replace(t,n[e]??"")})),r}}const Uy=({label:e,value:t})=>null!=t?vy(Ey,{alignment:"space-between",direction:"horizontal",children:[yy(Ty,{fontWeight:"medium",color:"alternative",children:e}),yy(Ty,{children:t})]}):null,Dy=1e-6,Ly=3,$y="0",Fy=new jo(Dy).decimalPlaces();function qy(e,t){const[n]=t.split("_");try{const r=new jo(e);if(r.isNaN())return $y;if(r.isZero())return $y;if(r.abs().lt(Dy))return`<${function(e,t){const n=new jo(t),r=n.decimalPlaces(),o=n.toFixed(r??0),[i]=e.split("_"),[a,s]=o.split("."),c=new Intl.NumberFormat(i).format(a);return s?`${c}.${s}`:c}(t,Dy)}`;if(r.abs().lt(1))return new Intl.NumberFormat(n,{maximumSignificantDigits:Ly}).format(Number(r.toFixed(Fy??0)));const o=r.abs().integerValue().toString().length,i=Math.max(0,Ly-o+1);return new Intl.NumberFormat(t,{maximumFractionDigits:i}).format(r.toFixed(i))}catch(e){return console.error(e),$y}}function Wy(e,t,n){const r=new jo(e).toNumber(),[o]=n.split("_");return r.toLocaleString(o,{style:"currency",currency:t,maximumFractionDigits:2,minimumFractionDigits:2})}const Vy=({asset:e,preferences:t})=>{const n=e.type;return vy(Ey,{direction:"vertical",crossAlignment:"end",children:[vy(Ey,{direction:"horizontal",alignment:"center",children:[vy(Ty,{color:"in"===n?"success":"error",children:["in"===n?"+":"-",qy(e.value??0,t.locale)]}),e.imageSvg?yy(Ey,{alignment:"center",center:!0,children:yy(Cy,{borderRadius:"full",src:e.imageSvg})}):null,yy(Ty,{children:e.symbol??""})]}),e.price?yy(Ty,{color:"muted",children:Wy(e.price.toString(),t.currency,t.locale)}):null]})},Ky=by("Tooltip");var Gy;!function(e){e.AddSquare="add-square",e.Add="add",e.Arrow2Down="arrow-2-down",e.Arrow2Left="arrow-2-left",e.Arrow2Right="arrow-2-right",e.Arrow2Up="arrow-2-up",e.Arrow2UpRight="arrow-2-up-right",e.ArrowDoubleLeft="arrow-double-left",e.ArrowDoubleRight="arrow-double-right",e.ArrowDown="arrow-down",e.ArrowLeft="arrow-left",e.ArrowRight="arrow-right",e.ArrowUp="arrow-up",e.BankToken="bank-token",e.Bank="bank",e.Book="book",e.Bookmark="bookmark",e.Bridge="bridge",e.Calculator="calculator",e.CardPos="card-pos",e.CardToken="card-token",e.Card="card",e.Category="category",e.Chart="chart",e.CheckBold="check-bold",e.Check="check",e.Clock="clock",e.Close="close",e.CodeCircle="code-circle",e.Coin="coin",e.Confirmation="confirmation",e.Connect="connect",e.CopySuccess="copy-success",e.Copy="copy",e.Customize="customize",e.Danger="danger",e.Dark="dark",e.Data="data",e.Diagram="diagram",e.DocumentCode="document-code",e.DragDrop="drag-drop",e.DraggingAnimation="dragging-animation",e.PinningAnimation="pinning-animation",e.Edit="edit",e.Eraser="eraser",e.Ethereum="ethereum",e.Expand="expand",e.Explore="explore",e.Export="export",e.EyeSlash="eye-slash",e.Eye="eye",e.Filter="filter",e.Flag="flag",e.FlashSlash="flash-slash",e.Flash="flash",e.FullCircle="full-circle",e.Gas="gas",e.GlobalSearch="global-search",e.Global="global",e.Graph="graph",e.Hardware="hardware",e.Heart="heart",e.Hierarchy="hierarchy",e.Home="home",e.Import="import",e.Info="info",e.Key="key",e.Light="light",e.Link="link",e.Loading="loading",e.LockCircle="lock-circle",e.LockSlash="lock-slash",e.Lock="lock",e.Login="login",e.Logout="logout",e.Menu="menu",e.MessageQuestion="message-question",e.Messages="messages",e.MinusBold="minus-bold",e.MinusSquare="minus-square",e.Minus="minus",e.Mobile="mobile",e.Money="money",e.Monitor="monitor",e.MoreHorizontal="more-horizontal",e.MoreVertical="more-vertical",e.NotificationCircle="notification-circle",e.Notification="notification",e.PasswordCheck="password-check",e.People="people",e.Pin="pin",e.ProgrammingArrows="programming-arrows",e.Custody="custody",e.Question="question",e.Received="received",e.Refresh="refresh",e.Save="save",e.ScanBarcode="scan-barcode",e.ScanFocus="scan-focus",e.Scan="scan",e.Scroll="scroll",e.Search="search",e.SecurityCard="security-card",e.SecurityCross="security-cross",e.SecurityKey="security-key",e.SecuritySearch="security-search",e.SecuritySlash="security-slash",e.SecurityTick="security-tick",e.SecurityTime="security-time",e.SecurityUser="security-user",e.Security="security",e.Send1="send-1",e.Send2="send-2",e.Setting="setting",e.Slash="slash",e.SnapsMobile="snaps-mobile",e.SnapsPlus="snaps-plus",e.Snaps="snaps",e.Speedometer="speedometer",e.Star="star",e.Stake="stake",e.Student="student",e.SwapHorizontal="swap-horizontal",e.SwapVertical="swap-vertical",e.Tag="tag",e.Tilde="tilde",e.Timer="timer",e.Trash="trash",e.TrendDown="trend-down",e.TrendUp="trend-up",e.UserCircleAdd="user-circle-add",e.UserCircleLink="user-circle-link",e.UserCircleRemove="user-circle-remove",e.UserCircle="user-circle",e.User="user",e.WalletCard="wallet-card",e.WalletMoney="wallet-money",e.Wallet="wallet",e.Warning="warning",e.Twitter="twitter",e.QrCode="qr-code",e.UserCheck="user-check",e.Unpin="unpin",e.Ban="ban",e.Bold="bold",e.CircleX="circle-x",e.Download="download",e.FileIcon="file",e.Flask="flask",e.Plug="plug",e.Share="share",e.Square="square",e.Tint="tint",e.Upload="upload",e.Usb="usb",e.Wifi="wifi",e.PlusMinus="plus-minus"}(Gy||(Gy={}));const Hy=by("Icon"),Jy=({preferences:e})=>{const t=jy(e.locale);return vy(Ey,{direction:"horizontal",center:!0,children:[yy(Ty,{fontWeight:"medium",children:t("confirmation.estimatedChanges")}),yy(Ky,{content:t("confirmation.estimatedChanges.tooltip"),children:yy(Hy,{name:"info"})})]})},Zy=by("Skeleton"),Yy=({preferences:e})=>{const t=jy(e.locale);return vy(ky,{direction:"vertical",children:[yy(Jy,{preferences:e}),vy(Ey,{alignment:"space-between",direction:"horizontal",children:[yy(Ty,{fontWeight:"medium",color:"alternative",children:t("confirmation.estimatedChanges.send")}),yy(Ey,{children:vy(Ey,{direction:"vertical",crossAlignment:"end",children:[yy(Zy,{width:100,height:20}),yy(Zy,{width:40,height:20})]})})]}),vy(Ey,{alignment:"space-between",direction:"horizontal",children:[yy(Ty,{fontWeight:"medium",color:"alternative",children:t("confirmation.estimatedChanges.receive")}),yy(Ey,{children:vy(Ey,{direction:"vertical",crossAlignment:"end",children:[yy(Zy,{width:100,height:20}),yy(Zy,{width:40,height:20})]})})]})]})},Xy=({changes:e,preferences:t,scanFetchStatus:n,scanStatus:r})=>{const o=jy(t.locale),i="fetched"===n,a="error"===n;if("fetching"===n)return yy(Yy,{preferences:t});if(a||i&&"ERROR"===r)return vy(ky,{direction:"vertical",children:[yy(Jy,{preferences:t}),yy(Ty,{color:"alternative",children:o("confirmation.estimatedChanges.notAvailable")})]});const s=e?.assets.filter((e=>"out"===e.type))??[],c=e?.assets.filter((e=>"in"===e.type))??[],u=s.length>0||c.length>0;return vy(ky,i&&!u?{direction:"vertical",children:[yy(Jy,{preferences:t}),yy(Ty,{color:"alternative",children:o("confirmation.estimatedChanges.noChanges")})]}:{children:[yy(Jy,{preferences:t}),s?.length>0?vy(Ey,{alignment:"space-between",direction:"horizontal",children:[yy(Ty,{fontWeight:"medium",color:"alternative",children:o("confirmation.estimatedChanges.send")}),yy(Ey,{children:yy(Ey,{children:s?.map((e=>yy(Vy,{asset:e,preferences:t})))})})]}):null,yy(Ey,{children:null}),c?.length>0?vy(Ey,{alignment:"space-between",direction:"horizontal",children:[yy(Ty,{fontWeight:"medium",color:"alternative",children:o("confirmation.estimatedChanges.receive")}),yy(Ey,{children:yy(Ey,{children:c?.map((e=>yy(Vy,{asset:e,preferences:t})))})})]}):null]})};var Qy=function(e){return e.Cancel="confirm-sign-in-cancel",e.Confirm="confirm-sign-in-confirm",e}({});const ev={"confirm-sign-in-cancel":async function({id:e}){await Lm(e,!1)},"confirm-sign-in-confirm":async function({id:e}){await Lm(e,!0)}},tv=({params:e,origin:t,account:n,scope:r,preferences:o,networkImage:i})=>{const a=jy(o.locale),s=t?new URL(t).hostname:null,{domain:c,statement:u,uri:l,version:d,chainId:f,nonce:h,issuedAt:p,expirationTime:g,notBefore:m,requestId:y,resources:v,address:w}=e,A=Oy(r,n.address),b=w?Oy(r,w):null,S=b!==A,E=c!==s;return vy(Sy,{children:[vy(Ey,{children:[vy(Ey,{alignment:"center",center:!0,children:[yy(Ey,{children:null}),yy(xy,{size:"lg",children:a("confirmation.signIn.title")}),yy(Ty,{color:"muted",alignment:"center",children:a("confirmation.signIn.description")})]}),o.simulateOnChainActions?yy(Xy,{changes:null,scanStatus:null,preferences:o,scanFetchStatus:"fetched"}):null,vy(ky,{children:[s?yy(Iy,{label:a("confirmation.origin"),tooltip:a("confirmation.origin.tooltip"),children:yy(Ty,{children:s})}):null,yy(Iy,{variant:E?"critical":"default",label:a("confirmation.signIn.domain"),tooltip:E?a("confirmation.signIn.badDomain"):void 0,children:yy(Ty,{children:c??a("confirmation.signIn.unknownDomain")})}),yy(Iy,{label:a("confirmation.signIn.signingInWith"),tooltip:S?a("confirmation.signIn.badAccount"):void 0,variant:S?"warning":"default",children:yy(_y,{address:A,truncate:!0,displayName:!0,avatar:!0})})]}),vy(ky,{children:[yy(Ty,{fontWeight:"medium",children:a("confirmation.signIn.message")}),yy(Ty,{children:u??""}),yy(Uy,{label:"URL",value:l}),vy(Ey,{alignment:"space-between",direction:"horizontal",children:[yy(Ty,{fontWeight:"medium",color:"alternative",children:a("confirmation.network")}),vy(Ey,{direction:"horizontal",alignment:"center",children:[yy(Ey,{alignment:"center",center:!0,children:yy(Cy,{borderRadius:"medium",src:i??wy})}),yy(Ty,{children:sc[r].name})]})]}),b?vy(Ey,{alignment:"space-between",direction:"horizontal",children:[yy(Ty,{fontWeight:"medium",color:"alternative",children:a("confirmation.account")}),yy(_y,{address:b,truncate:!0,displayName:!0,avatar:!0})]}):null,yy(Uy,{label:a("confirmation.signIn.version"),value:d}),yy(Uy,{label:a("confirmation.signIn.chainId"),value:f}),yy(Uy,{label:a("confirmation.signIn.nonce"),value:h}),yy(Uy,{label:a("confirmation.signIn.issuedAt"),value:p}),yy(Uy,{label:a("confirmation.signIn.expirationTime"),value:g}),yy(Uy,{label:a("confirmation.signIn.notBefore"),value:m}),yy(Uy,{label:a("confirmation.signIn.requestId"),value:y}),v&&v.length>0?vy(Ey,{alignment:"space-between",direction:"vertical",children:[yy(Ty,{fontWeight:"medium",color:"alternative",children:a("confirmation.signIn.resources")}),yy(Ey,{direction:"vertical",children:v.map((e=>yy(Ty,{children:e},e)))})]}):null]})]}),vy(Ry,{children:[yy(Py,{name:Qy.Cancel,children:a("confirmation.cancelButton")}),yy(Py,{name:Qy.Confirm,variant:E?"destructive":"primary",children:a("confirmation.confirmButton")})]})]})};var nv=function(e){return e.Cancel="confirm-sign-message-cancel",e.Confirm="confirm-sign-message-confirm",e}({});const rv={"confirm-sign-message-cancel":async function({id:e}){await Lm(e,!1)},"confirm-sign-message-confirm":async function({id:e}){await Lm(e,!0)}},ov=({message:e,account:t,scope:n,locale:r,networkImage:o,origin:i})=>{const a=jy(r),{address:s}=t,c=i?new URL(i).hostname:null,u=Oy(n,s);return vy(Sy,{children:[vy(Ey,{children:[vy(Ey,{alignment:"center",center:!0,children:[yy(Ey,{children:null}),yy(xy,{size:"lg",children:a("confirmation.signMessage.title")})]}),vy(ky,{children:[yy(Ey,{direction:"horizontal",center:!0,children:yy(Ty,{fontWeight:"medium",children:a("confirmation.signMessage.message")})}),yy(Ey,{alignment:"space-between",children:yy(Ty,{children:e})})]}),vy(ky,{children:[c?vy(Ey,{alignment:"space-between",direction:"horizontal",children:[vy(Ey,{alignment:"space-between",direction:"horizontal",center:!0,children:[yy(Ty,{fontWeight:"medium",color:"alternative",children:a("confirmation.origin")}),yy(Ky,{content:a("confirmation.origin.tooltip"),children:yy(Hy,{name:"question",color:"muted"})})]}),yy(Ty,{children:c})]}):null,vy(Ey,{alignment:"space-between",direction:"horizontal",children:[yy(Ty,{fontWeight:"medium",color:"alternative",children:a("confirmation.account")}),yy(_y,{address:u,truncate:!0,displayName:!0,avatar:!0})]}),vy(Ey,{alignment:"space-between",direction:"horizontal",children:[yy(Ty,{fontWeight:"medium",color:"alternative",children:a("confirmation.network")}),vy(Ey,{direction:"horizontal",alignment:"center",children:[yy(Ey,{alignment:"center",center:!0,children:yy(Cy,{borderRadius:"medium",src:o??wy})}),yy(Ty,{children:sc[n].name})]})]})]})]}),vy(Ry,{children:[yy(Py,{name:nv.Cancel,children:a("confirmation.cancelButton")}),yy(Py,{name:nv.Confirm,children:a("confirmation.confirmButton")})]})]})};const iv=e=>jo(e.toString()).dividedBy(ec),av=e=>jo(e.toString()).multipliedBy(ec).integerValue(jo.ROUND_DOWN);var sv=function(e){return e.ShowAdvanced="confirm-sign-and-send-transaction-show-advanced",e.Cancel="confirm-sign-and-send-transaction-cancel",e.Confirm="confirm-sign-and-send-transaction-confirm",e}({});const cv={"confirm-sign-and-send-transaction-show-advanced":async function({id:e,context:t}){const n={...t,advanced:{...t.advanced,shown:!t.advanced.shown}};await Dm(e,yy(Ev,{context:n}),n)},"confirm-sign-and-send-transaction-cancel":async function({id:e}){await Lm(e,!1)},"confirm-sign-and-send-transaction-confirm":async function({id:e}){await Lm(e,!0)}},uv=by("Link");function lv(e,t,n){const{cluster:r}=sc[e];return Ec({baseUrl:"https://solscan.io",path:`/${t}/${n}`,queryParams:r?{cluster:r}:void 0})}const dv=e=>e.replace(/([A-Z])/gu," $1").trim().replace(/^./u,(e=>e.toUpperCase())),fv=({address:e,scope:t})=>yy(uv,{href:lv(t,"address",e),children:yy(_y,{avatar:!1,address:Oy(t,e),truncate:!0})}),hv=({instruction:e,scope:t,locale:n})=>{const r=jy(n),{type:o,encoded:i,parsed:a}=e,{programAddress:s,dataBase58:c}=i,u=null!==a,l=dv(o);return vy(ky,{alignment:"start",children:[yy(Ty,{color:"alternative",fontWeight:"bold",children:l}),vy(Ey,{alignment:"space-between",direction:"horizontal",children:[yy(Ty,{color:"alternative",alignment:"start",children:r("confirmation.advanced.programId")}),yy(fv,{address:s,scope:t})]}),u&&Object.entries(a.accounts??{}).map((([e,n])=>vy(Ey,{alignment:"space-between",direction:"horizontal",children:[yy(Ty,{color:"alternative",children:dv(e)}),Ns(n.address)?yy(fv,{address:n.address,scope:t}):yy(Ty,{children:Bm(n.address)?.toString()??""})]}))),u&&Object.entries(a.data).map((([e,n])=>vy(Ey,{alignment:"space-between",direction:"horizontal",children:[yy(Ty,{color:"alternative",children:dv(e)}),Ns(n)?yy(fv,{address:n,scope:t}):yy(Ty,{children:Bm(n)?.toString()??""})]}))),!u&&vy(Ey,{alignment:"space-between",direction:"horizontal",children:[yy(Ty,{color:"alternative",children:r("confirmation.advanced.data")}),yy(Ty,{children:(d=c,d.length>12?`${d.slice(0,5)}...${d.slice(-5)}`:d)})]})]});var d},pv=({instructions:e,showInstructions:t,locale:n,scope:r})=>{const o=jy(n),i=t?"hide":"show",a=t?"arrow-up":"arrow-down";return vy(Ey,{alignment:"start",children:[vy(Py,{name:sv.ShowAdvanced,children:[o(`confirmation.advanced.${i}`),"&nbsp;",yy(Hy,{name:a,color:"primary"})]}),t&&yy(Ey,{children:e.map((e=>yy(hv,{locale:n,scope:r,instruction:e})))})]})},gv=by("Banner"),mv={AccountAlreadyInUse:"transactionScan.errors.accountAlreadyInUse",ResultWithNegativeLamports:"transactionScan.errors.insufficientSol",SlippageToleranceExceeded:"transactionScan.errors.slippageToleranceExceeded",ExceededDesiredSlippageLimit:"transactionScan.errors.slippageToleranceExceeded"};function yv(e,t){const n=jy(t.locale),{code:r}=e;return n((r&&mv[r])??"transactionScan.errors.unknownError")}const vv={Malicious:"danger",Warning:"warning"},wv=({preferences:e,validation:t,error:n,scanFetchStatus:r})=>{const o=jy(e.locale);if("error"===r)return yy(gv,{title:o("send.simulationTitleAPIError"),severity:"danger",children:yy(Ty,{children:o("send.simulationMessageAPIError")})});if(!n&&!t)return yy(Ey,{children:null});if(n)return yy(gv,{title:o("confirmation.simulationErrorTitle"),severity:"warning",children:yy(Ty,{children:o("confirmation.simulationErrorSubtitle",{reason:yv(n,e)})})});if(!t)return yy(Ey,{children:null});const i=t?.type?vv[t.type]:void 0;return i?vy(gv,{title:o("confirmation.validationErrorTitle"),severity:i,children:[yy(Ty,{children:o("confirmation.validationErrorSubtitle")}),yy(Ty,{size:"sm",children:yy(uv,{href:"https://support.metamask.io/configure/wallet/how-to-turn-on-security-alerts/",children:o("confirmation.validationErrorLearnMore")})}),vy(Ty,{size:"sm",children:[yy(Hy,{color:"primary",name:"security-tick"})," ",o("confirmation.validationErrorSecurityAdviced")," ",yy(uv,{href:"https://www.blockaid.io",children:"Blockaid"})]})]}):yy(Ey,{children:null})};function Av(e,t,n){return`${qy(e,n)} ${t}`}function bv(e,t){return new jo(e).multipliedBy(t).toString()}const Sv=({origin:e,accountAddress:t,scope:n,feeInSol:r,nativePrice:o,fetchingPricesStatus:i,preferences:a,networkImage:s})=>{const{currency:c,locale:u}=a,l=jy(u),d=e?new URL(e).hostname:null,f="fetching"===i,h=r&&o&&!("error"===i)?Wy(bv(r,o),c,u):"";return vy(ky,{children:[d?vy(Ey,{children:[vy(Ey,{alignment:"space-between",direction:"horizontal",children:[vy(Ey,{alignment:"space-between",direction:"horizontal",center:!0,children:[yy(Ty,{fontWeight:"medium",color:"alternative",children:l("confirmation.origin")}),yy(Ky,{content:l("confirmation.origin.tooltip"),children:yy(Hy,{name:"question",color:"muted"})})]}),yy(Ty,{children:d})]}),yy(Ey,{children:null})]}):null,vy(Ey,{alignment:"space-between",direction:"horizontal",children:[yy(Ty,{fontWeight:"medium",color:"alternative",children:l("confirmation.account")}),yy(_y,{address:Oy(n,t),truncate:!0,displayName:!0,avatar:!0})]}),yy(Ey,{children:null}),vy(Ey,{alignment:"space-between",direction:"horizontal",children:[yy(Ty,{fontWeight:"medium",color:"alternative",children:l("confirmation.network")}),vy(Ey,{direction:"horizontal",alignment:"center",children:[yy(Ey,{alignment:"center",center:!0,children:yy(Cy,{borderRadius:"medium",src:s??""})}),yy(Ty,{children:sc[n].name})]})]}),yy(Ey,{children:null}),vy(Ey,{alignment:"space-between",direction:"horizontal",children:[yy(Ty,{fontWeight:"medium",color:"alternative",children:l("confirmation.fee")}),r?vy(Ey,{direction:"horizontal",alignment:"center",children:[f?yy(Zy,{width:80}):yy(Ty,{color:"muted",children:h}),yy(Ty,{children:Av(r,sc[n].nativeToken.symbol,u)})]}):yy(Ky,{content:l("confirmation.feeError"),children:yy(Hy,{name:"warning"})})]})]})},Ev=({context:e})=>{const t=jy(e.preferences.locale),n=e.feeEstimatedInSol,{nativeToken:r}=sc[e.scope],o=e.tokenPrices[r.caip19Id]?.price??null,i="fetching"===e.scanFetchStatus||"ERROR"===e.scan?.status;return vy(Sy,{children:[vy(Ey,{children:[e.preferences.useSecurityAlerts?yy(wv,{scanFetchStatus:e.scanFetchStatus,validation:e.scan?.validation??null,error:e.scan?.error??null,preferences:e.preferences}):null,vy(Ey,{alignment:"center",center:!0,children:[yy(Ey,{children:null}),yy(xy,{size:"lg",children:t(`confirmation.${e.method}.title`)}),yy(Ey,{children:null})]}),e.preferences.simulateOnChainActions?yy(Xy,{scanStatus:e.scan?.status??null,scanFetchStatus:e.scanFetchStatus,changes:e.scan?.estimatedChanges??null,preferences:e.preferences}):null,yy(Sv,{accountAddress:e.account?.address??null,scope:e.scope,feeInSol:n,nativePrice:o,fetchingPricesStatus:e.tokenPricesFetchStatus,preferences:e.preferences,networkImage:e.networkImage,origin:e.origin}),yy(pv,{instructions:e.advanced.instructions,showInstructions:e.advanced.shown,locale:e.preferences.locale,scope:e.scope})]}),vy(Ry,{children:[yy(Py,{name:sv.Cancel,children:t("confirmation.cancelButton")}),yy(Py,{name:sv.Confirm,disabled:i,children:t("confirmation.confirmButton")})]})]})},xv={method:Ft.SignAndSendTransaction,scope:nc.Mainnet,networkImage:wy,account:null,transaction:"",scan:null,scanFetchStatus:"fetching",feeEstimatedInSol:"0",tokenPrices:{},tokenPricesFetchStatus:"fetching",origin:"",preferences:{locale:"en",currency:"usd",hideBalances:!1,useSecurityAlerts:!0,useExternalPricingData:!0,simulateOnChainActions:!0,useTokenDetection:!0,batchCheckBalances:!0,displayNftMedia:!0,useNftDetection:!0},advanced:{shown:!1,instructions:[]}};var Tv=function(e){return e.OnTransactionAdded="onTransactionAdded",e.OnTransactionApproved="onTransactionApproved",e.OnTransactionRejected="onTransactionRejected",e.OnAccountsRefresh="onAccountsRefresh",e}({});function kv(e){return JSON.parse(function(e){const t=[];let n=!1;for(let r=0;r<e.length;r++){let o=!1;if("\\"===e[r]&&(t.push(e[r++]),o=!o),'"'!==e[r]){if(!n){const n=Iv(e,r);if(n?.length){r+=n.length-1,n.match(/\.|[eE]-/)?t.push(n):t.push(_v(n));continue}}t.push(e[r])}else t.push(e[r]),o||(n=!n)}return t.join("")}(e),((e,t)=>function(e){return!!e&&"object"==typeof e&&"$n"in e&&"string"==typeof e.$n}(t)?function({$n:e}){if(e.match(/[eE]/)){const[t,n]=e.split(/[eE]/);return BigInt(t)*BigInt(10)**BigInt(n)}return BigInt(e)}(t):t))}function Iv(e,t){if(!e[t]?.match(/[-\d]/))return null;const n=e.slice(t).match(/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?/);return n?n[0]:null}function _v(e){return`{"$n":"${e}"}`}var Cv=0n;function Rv(){const e=Cv;return Cv++,e.toString()}function Pv(e){return function(e){return new Proxy(e.api,{defineProperty:()=>!1,deleteProperty:()=>!1,get:(t,n,r)=>function(...o){const i=n.toString(),a=Reflect.get(t,i,r);if(!a)throw new Ba(_a,{method:i,params:o});const s=a(...o);return function({transport:e},t){return{send:async n=>await t.execute({signal:n?.abortSignal,transport:e})}}(e,s)}})}(e)}function Ov(e){return new Proxy({},{defineProperty:()=>!1,deleteProperty:()=>!1,get(...t){const[n,r]=t,o=r.toString();return function(...t){const n=Object.freeze({methodName:o,params:t}),r=e?.requestTransformer?e?.requestTransformer(n):n;return Object.freeze({execute:async({signal:t,transport:n})=>{const o=function(e){return{id:Rv(),jsonrpc:"2.0",method:e.methodName,params:e.params}}(r),i=await n({payload:o,signal:t});return e?.responseTransformer?e.responseTransformer(i,r):i}})}}})}function Nv(e){return null!=e&&"object"==typeof e&&!Array.isArray(e)&&("jsonrpc"in e&&"2.0"===e.jsonrpc&&"method"in e&&"string"==typeof e.method&&"params"in e)}var Bv={};function zv(e){return function t(n,r){if(Array.isArray(n))return n.map(((e,n)=>{const o={...r,keyPath:[...r.keyPath,n]};return t(e,o)}));if("object"==typeof n&&null!==n){const e={};for(const o in n){if(!Object.prototype.hasOwnProperty.call(n,o))continue;const i={...r,keyPath:[...r.keyPath,o]};e[o]=t(n[o],i)}return e}return e.reduce(((e,t)=>t(e,r)),n)}}function Mv(e,t){return n=>{const r=zv(e);return Object.freeze({...n,params:r(n.params,t)})}}function jv(e){return"bigint"==typeof e?Number(e):e}function Uv({commitmentPropertyName:e,params:t,optionsObjectPositionInParams:n,overrideCommitment:r}){const o=t[n];if(void 0===o||o&&"object"==typeof o&&!Array.isArray(o))if(o&&e in o){if(!o[e]||"finalized"===o[e]){const r=[...t],{[e]:i,...a}=o;return Object.keys(a).length>0?r[n]=a:n===r.length-1?r.length--:r[n]=void 0,r}}else if("finalized"!==r){const i=[...t];return i[n]={...o,[e]:r},i}return t}function Dv(e){return(t,{keyPath:n})=>("bigint"==typeof t&&e&&(t>Number.MAX_SAFE_INTEGER||t<-Number.MAX_SAFE_INTEGER)&&e(n,t),t)}var Lv={accountNotifications:1,blockNotifications:1,getAccountInfo:1,getBalance:1,getBlock:1,getBlockHeight:0,getBlockProduction:0,getBlocks:2,getBlocksWithLimit:2,getEpochInfo:0,getFeeForMessage:1,getInflationGovernor:0,getInflationReward:1,getLargestAccounts:0,getLatestBlockhash:0,getLeaderSchedule:1,getMinimumBalanceForRentExemption:1,getMultipleAccounts:1,getProgramAccounts:1,getSignaturesForAddress:1,getSlot:0,getSlotLeader:0,getStakeMinimumDelegation:0,getSupply:0,getTokenAccountBalance:1,getTokenAccountsByDelegate:2,getTokenAccountsByOwner:2,getTokenLargestAccounts:1,getTokenSupply:1,getTransaction:1,getTransactionCount:0,getVoteAccounts:0,isBlockhashValid:1,logsNotifications:1,programNotifications:1,requestAirdrop:2,sendTransaction:1,signatureNotifications:1,simulateTransaction:1};function $v(e){const t=e?.onIntegerOverflow;return n=>{return $u(n,t?(r=t,e=>Mv([Dv(((...t)=>r(e,...t)))],{keyPath:[]})(e)):e=>e,Mv([jv],{keyPath:[]}),function({defaultCommitment:e,optionsObjectPositionByMethod:t}){return n=>{const{params:r,methodName:o}=n;if(!Array.isArray(r))return n;const i=t[o];return null==i?n:Object.freeze({methodName:o,params:Uv({commitmentPropertyName:"sendTransaction"===o?"preflightCommitment":"commitment",optionsObjectPositionInParams:i,overrideCommitment:e,params:r})})}}({defaultCommitment:e?.defaultCommitment,optionsObjectPositionByMethod:Lv}));var r}}function Fv(e){return t=[qv(e)],n={keyPath:[]},e=>zv(t)(e,n);var t,n}function qv(e){return function(t,{keyPath:n}){return"number"==typeof t&&Number.isInteger(t)||"bigint"==typeof t?function(e,t){return t.some((t=>{if(t.length!==e.length)return!1;for(let n=e.length-1;n>=0;n--){const r=e[n],o=t[n];if(o!==r&&(o!==Bv||"number"!=typeof r))return!1}return!0}))}(n,e)?Number(t):BigInt(t):t}}function Wv(e){return(t,n)=>{const r=n.methodName,o=e?.allowedNumericKeyPaths&&r?e.allowedNumericKeyPaths[r]:void 0;return $u(t,(e=>(e=>{const t=e;if("error"in t)throw $a(t.error);return t})(e)),(e=>e.result),(e=>Fv(o??[])(e,n)))}}var Vv,Kv=[["data","parsed","info","tokenAmount","decimals"],["data","parsed","info","tokenAmount","uiAmount"],["data","parsed","info","rentExemptReserve","decimals"],["data","parsed","info","rentExemptReserve","uiAmount"],["data","parsed","info","delegatedAmount","decimals"],["data","parsed","info","delegatedAmount","uiAmount"],["data","parsed","info","extensions",Bv,"state","olderTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",Bv,"state","newerTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",Bv,"state","preUpdateAverageRate"],["data","parsed","info","extensions",Bv,"state","currentRate"]],Gv=[...Kv,["data","parsed","info","lastExtendedSlotStartIndex"],["data","parsed","info","slashPenalty"],["data","parsed","info","warmupCooldownRate"],["data","parsed","info","decimals"],["data","parsed","info","numRequiredSigners"],["data","parsed","info","numValidSigners"],["data","parsed","info","stake","delegation","warmupCooldownRate"],["data","parsed","info","exemptionThreshold"],["data","parsed","info","burnPercent"],["data","parsed","info","commission"],["data","parsed","info","votes",Bv,"confirmationCount"]],Hv=[["index"],["instructions",Bv,"accounts",Bv],["instructions",Bv,"programIdIndex"],["instructions",Bv,"stackHeight"]],Jv=[["addressTableLookups",Bv,"writableIndexes",Bv],["addressTableLookups",Bv,"readonlyIndexes",Bv],["header","numReadonlySignedAccounts"],["header","numReadonlyUnsignedAccounts"],["header","numRequiredSignatures"],["instructions",Bv,"accounts",Bv],["instructions",Bv,"programIdIndex"],["instructions",Bv,"stackHeight"]];function Zv(e){return Ov({requestTransformer:$v(e),responseTransformer:Wv({allowedNumericKeyPaths:Yv()})})}function Yv(){return Vv||(Vv={getAccountInfo:Gv.map((e=>["value",...e])),getBlock:[["transactions",Bv,"meta","preTokenBalances",Bv,"accountIndex"],["transactions",Bv,"meta","preTokenBalances",Bv,"uiTokenAmount","decimals"],["transactions",Bv,"meta","postTokenBalances",Bv,"accountIndex"],["transactions",Bv,"meta","postTokenBalances",Bv,"uiTokenAmount","decimals"],["transactions",Bv,"meta","rewards",Bv,"commission"],...Hv.map((e=>["transactions",Bv,"meta","innerInstructions",Bv,...e])),...Jv.map((e=>["transactions",Bv,"transaction","message",...e])),["rewards",Bv,"commission"]],getClusterNodes:[[Bv,"featureSet"],[Bv,"shredVersion"]],getInflationGovernor:[["initial"],["foundation"],["foundationTerm"],["taper"],["terminal"]],getInflationRate:[["foundation"],["total"],["validator"]],getInflationReward:[[Bv,"commission"]],getMultipleAccounts:Gv.map((e=>["value",Bv,...e])),getProgramAccounts:Gv.flatMap((e=>[["value",Bv,"account",...e],[Bv,"account",...e]])),getRecentPerformanceSamples:[[Bv,"samplePeriodSecs"]],getTokenAccountBalance:[["value","decimals"],["value","uiAmount"]],getTokenAccountsByDelegate:Kv.map((e=>["value",Bv,"account",...e])),getTokenAccountsByOwner:Kv.map((e=>["value",Bv,"account",...e])),getTokenLargestAccounts:[["value",Bv,"decimals"],["value",Bv,"uiAmount"]],getTokenSupply:[["value","decimals"],["value","uiAmount"]],getTransaction:[["meta","preTokenBalances",Bv,"accountIndex"],["meta","preTokenBalances",Bv,"uiTokenAmount","decimals"],["meta","postTokenBalances",Bv,"accountIndex"],["meta","postTokenBalances",Bv,"uiTokenAmount","decimals"],["meta","rewards",Bv,"commission"],...Hv.map((e=>["meta","innerInstructions",Bv,...e])),...Jv.map((e=>["transaction","message",...e]))],getVersion:[["feature-set"]],getVoteAccounts:[["current",Bv,"commission"],["delinquent",Bv,"commission"]],simulateTransaction:[...Gv.map((e=>["value","accounts",Bv,...e])),...Hv.map((e=>["value","innerInstructions",Bv,...e]))]}),Vv}Object.assign({"accept-charset":!0,"access-control-request-headers":!0,"access-control-request-method":!0,connection:!0,"content-length":!0,cookie:!0,date:!0,dnt:!0,expect:!0,host:!0,"keep-alive":!0,origin:!0,"permissions-policy":!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,via:!0},{"accept-encoding":!0});var Xv=["getAccountInfo","getBalance","getBlock","getBlockCommitment","getBlockHeight","getBlockProduction","getBlocks","getBlocksWithLimit","getBlockTime","getClusterNodes","getEpochInfo","getEpochSchedule","getFeeForMessage","getFirstAvailableBlock","getGenesisHash","getHealth","getHighestSnapshotSlot","getIdentity","getInflationGovernor","getInflationRate","getInflationReward","getLargestAccounts","getLatestBlockhash","getLeaderSchedule","getMaxRetransmitSlot","getMaxShredInsertSlot","getMinimumBalanceForRentExemption","getMultipleAccounts","getProgramAccounts","getRecentPerformanceSamples","getRecentPrioritizationFees","getSignaturesForAddress","getSignatureStatuses","getSlot","getSlotLeader","getSlotLeaders","getStakeMinimumDelegation","getSupply","getTokenAccountBalance","getTokenAccountsByDelegate","getTokenAccountsByOwner","getTokenLargestAccounts","getTokenSupply","getTransaction","getTransactionCount","getVersion","getVoteAccounts","index","isBlockhashValid","minimumLedgerSlot","requestAirdrop","sendTransaction","simulateTransaction"];function Qv(e){return Nv(e)&&Xv.includes(e.method)}function ew(e){return function(e){const{fromJson:t,headers:n,toJson:r,url:o}=e,i=n&&function(e){const t={};for(const n in e)t[n.toLowerCase()]=e[n];return t}(n);return async function({payload:e,signal:n}){const a=r?r(e):JSON.stringify(e),s={body:a,headers:{...i,accept:"application/json","content-length":a.length.toString(),"content-type":"application/json; charset=utf-8"},method:"POST",signal:n},c=await fetch(o,s);if(!c.ok)throw new Ba(Ia,{headers:c.headers,message:c.statusText,statusCode:c.status});return t?t(await c.text(),e):await c.json()}}({...e,fromJson:(e,t)=>Qv(t)?kv(e):JSON.parse(e),toJson:e=>{return Qv(e)?(t=e,function(e){return e.replace(/\{\s*"\$n"\s*:\s*"(-?\d+)"\s*\}/g,"$1")}(JSON.stringify(t,((e,t)=>"bigint"==typeof t?function(e){return{$n:`${e}`}}(t):t),n))):JSON.stringify(e);var t,n}})}var tw=Object.prototype.toString,nw=Object.keys||function(e){const t=[];for(const n in e)t.push(n);return t};function rw(e,t){let n,r,o,i,a,s,c;if(!0===e)return"true";if(!1===e)return"false";switch(typeof e){case"object":if(null===e)return null;if("toJSON"in e&&"function"==typeof e.toJSON)return rw(e.toJSON(),t);if(c=tw.call(e),"[object Array]"===c){for(o="[",r=e.length-1,n=0;n<r;n++)o+=rw(e[n],!0)+",";return r>-1&&(o+=rw(e[n],!0)),o+"]"}if("[object Object]"===c){for(i=nw(e).sort(),r=i.length,o="",n=0;n<r;)a=i[n],s=rw(e[a],!1),void 0!==s&&(o&&(o+=","),o+=JSON.stringify(a)+":"+s),n++;return"{"+o+"}"}return JSON.stringify(e);case"function":case"undefined":return t?null:void 0;case"bigint":return`${e.toString()}n`;case"string":return JSON.stringify(e);default:return isFinite(e)?e:null}}function ow(e){const t=rw(e,!1);if(void 0!==t)return""+t}function iw(e,t,n){let r="";if("number"==typeof t[0]){const e=t[0]+1,n=e%10,o=e%100;r=1==n&&11!=o?e+"st":2==n&&12!=o?e+"nd":3==n&&13!=o?e+"rd":e+"th"}else r=`\`${t[0].toString()}\``;const o=t.length>1?t.slice(1).map((e=>"number"==typeof e?`[${e}]`:e)).join("."):void 0,i=new Ba(ka,{argumentLabel:r,keyPath:t,methodName:e,optionalPathLabel:o?` at path \`${o}\``:"",value:n,...void 0!==o?{path:o}:void 0});return za(i,iw),i}var aw,sw={defaultCommitment:"confirmed",onIntegerOverflow(e,t,n){throw iw(e.methodName,t,n)}},cw=globalThis.AbortController;function uw(e){return Nv(e)?ow([e.method,e.params]):void 0}function lw(e){const t={};for(const n in e)t[n.toLowerCase()]=e[n];return t}function dw(e){return $u(ew({...e,headers:{...!1,...e.headers?lw(e.headers):void 0,"solana-client":"js/2.1.0"}}),(e=>function(e,t){let n;return async function(r){const{payload:o,signal:i}=r,a=t(o);if(void 0===a)return await e(r);if(n||(queueMicrotask((()=>{n=void 0})),n={}),null==n[a]){const t=new cw,o=(async()=>{try{return await e({...r,signal:t.signal})}catch(e){if(e===(aw||={}))return;throw e}})();n[a]={abortController:t,numConsumers:0,responsePromise:o}}const s=n[a];if(s.numConsumers++,i){const e=s.responsePromise;return await new Promise(((t,n)=>{const r=e=>{i.removeEventListener("abort",r),s.numConsumers-=1,queueMicrotask((()=>{0===s.numConsumers&&s.abortController.abort(aw||={})})),n(e.target.reason)};i.addEventListener("abort",r),e.then(t).catch(n).finally((()=>{i.removeEventListener("abort",r)}))}))}return await s.responsePromise}}(e,uw)))}function fw(e){return Pv({api:Zv(sw),transport:e})}const hw=["getTransaction","getSignaturesForAddress"],pw=e=>{const t=dw({url:e}),n=dw({url:e,headers:{"x-bigtable":"disabled"}});return async(...e)=>{const{payload:r}=e[0],{method:o}=r,i=hw.includes(o);return Cd.info(`[🚌 ToggleInfuraBigtableLookupsTransport] RPC method is ${o}. ${i?"Enabling":"Disabling"} BigTable lookups.`),i?t(...e):n(...e)}},gw=e=>async(...t)=>{let n;const r=e.length;for(const[o,i]of e.entries())try{return Cd.info(`[🚌 FailoverTransport] Attempting to use transport ${o+1} of ${r}`),await i(...t)}catch(e){n=e;const t=o===r-1;Cd.error(`[🚌 FailoverTransport] Transport failed: ${e}. ${t?"No more transports to try.":"Trying next transport..."}`)}throw n};async function mw(e){return new Promise((t=>setTimeout(t,e)))}const yw=e=>async(...t)=>{const{payload:n}=t[0],{method:r}=n;let o;for(let n=0;n<4;n++)try{return Cd.info(`[🚌 RetryingTransport] Attempt "${r}" ${n+1} of 4`),await e(...t)}catch(e){if(Cd.error(`[🚌 RetryingTransport] Error during attempt "${r}" ${n+1} of 4: ${e}`),o=e,n<3){const e=(i=n,Math.min(400*Math.pow(2,i),1500));Cd.info(`[🚌 RetryingTransport] Sleeping for ${e}ms`),await mw(e)}}var i;throw o};const vw=(e,t)=>(e=>Boolean(e.feePayer))(t)?t:Il(e,t),ww=e=>e.programAddress===Vf&&Gf({data:new Uint8Array,...e})===Kf.SetComputeUnitPrice,Aw=e=>e.instructions.filter(Boolean).some(ww),bw=e=>e.programAddress===Vf&&Gf({data:new Uint8Array,...e})===Kf.SetComputeUnitLimit,Sw=e=>e.instructions.filter(Boolean).some(bw);class Ew{#f;#i;static defaultComputeUnitPriceInMicroLamportsPerComputeUnit=10000n;constructor(e,t){this.#f=e,this.#i=t}async getLatestBlockhash(e){try{return(await this.#f.getRpc(e).getLatestBlockhash().send()).value}catch(e){throw this.#i.error(e),e}}async getComputeUnitEstimate(e,t){const n=pm({rpc:this.#f.getRpc(t)});return await n(e)}async getFeeFromBase64StringInLamports(e,t){try{z(e,bc);const n=await Sm(e,this.#f.getRpc(t)),r="instructions"in n?e:xs().decode(n.messageBytes),o=this.#f.getRpc(t),i=await o.getFeeForMessage(r,{commitment:"confirmed"}).send();return this.#i.log(`Transaction is estimated to cost ${i.value} lamports`),i.value}catch(e){return this.#i.error(e),null}}async waitForTransactionCommitment(e,t,n){z(e,Ac);const r=this.#f.getRpc(n);return async function(e,t){const n=t?.maxAttempts??10,r=t?.delayMs??1e3;let o=0;for(;o<n;)try{return await e()}catch(e){if(o+=1,o===n)throw e;await new Promise((e=>setTimeout(e,r)))}throw new Error("Unreachable")}((async()=>{this.#i.log(`🔎 Checking if transaction ${e} has reached commitment level ${t}`);const n=await r.getTransaction(tu(e),{commitment:t,maxSupportedTransactionVersion:0}).send();if(n)return this.#i.log(`🎉 Transaction ${e} has reached commitment level ${t}`),n;const o=`⚠️ Transaction with signature ${e} not found or has not yet reached requested commitment level: ${t}`;throw this.#i.warn(o),new Error(o)}),{delayMs:200})}async partiallySignBase64String(e,t,n,r){const o=this.#f.getRpc(n),i=await Sm(e,o,r);if("instructions"in i)return this.#x(i,t,n);if(Object.values(i.signatures).every((e=>!e))){const{messageBytes:e}=i,a=await Am(e,o,r);return this.#x(a,t,n)}return this.#T(i,t)}async#x(e,t,n){const{privateKeyBytes:r}=await Nm({entropySource:t.entropySource,derivationPath:t.derivationPath}),o=await Zl(r),i=Fu(e)?e.lifetimeConstraint:await this.getLatestBlockhash(n),a=Aw(e),s=Ew.defaultComputeUnitPriceInMicroLamportsPerComputeUnit,c=!Sw(e)||!a,u=await $u(e,(e=>vw(o.address,e)),(e=>{return t=i,Fu(n=e)?n:qu(t,n);var t,n}),(e=>((e,t,n)=>Aw(e)?e:Rl([rh(t,n)],e))(e,{microLamports:s})),(async e=>c?(async(e,t,n)=>{try{const r=e.instructions.filter(Boolean),o=pm({rpc:t}),i=await o(e,n?.getComputeUnitEstimateConfig).catch((e=>{if(Na(e,ia))return e.context.unitsConsumed;throw e}));return{...(0,ni.cloneDeep)(e),instructions:[...r.filter((e=>!bw(e))),Qf({units:i},n?.getSetComputeUnitLimitInstructionConfig)]}}catch(t){return e}})(e,this.#f.getRpc(n)):e)),l=Hl([o],u);return await Xl(l)}async#T(e,t){const{privateKeyBytes:n}=await Nm({entropySource:t.entropySource,derivationPath:t.derivationPath});return Ul([await ru(n)],e)}}var xw,Tw=["u8","u16","u32","u64","u128","i8","i16","i32","i64","i128","f32","f64"],kw=function(){function e(){this.offset=0,this.buffer_size=256,this.buffer=new ArrayBuffer(this.buffer_size),this.view=new DataView(this.buffer)}return e.prototype.resize_if_necessary=function(e){if(this.buffer_size-this.offset<e){this.buffer_size=Math.max(2*this.buffer_size,this.buffer_size+e);var t=new ArrayBuffer(this.buffer_size);new Uint8Array(t).set(new Uint8Array(this.buffer)),this.buffer=t,this.view=new DataView(t)}},e.prototype.get_used_buffer=function(){return new Uint8Array(this.buffer).slice(0,this.offset)},e.prototype.store_value=function(e,t){var n=t.substring(1),r=parseInt(n)/8;this.resize_if_necessary(r);var o="f"===t[0]?"setFloat".concat(n):"i"===t[0]?"setInt".concat(n):"setUint".concat(n);this.view[o](this.offset,e,!0),this.offset+=r},e.prototype.store_bytes=function(e){this.resize_if_necessary(e.length),new Uint8Array(this.buffer).set(new Uint8Array(e),this.offset),this.offset+=e.length},e}(),Iw=function(){function e(e){this.offset=0,this.buffer_size=e.length,this.buffer=new ArrayBuffer(e.length),new Uint8Array(this.buffer).set(e),this.view=new DataView(this.buffer)}return e.prototype.assert_enough_buffer=function(e){if(this.offset+e>this.buffer.byteLength)throw new Error("Error in schema, the buffer is smaller than expected")},e.prototype.consume_value=function(e){var t=e.substring(1),n=parseInt(t)/8;this.assert_enough_buffer(n);var r="f"===e[0]?"getFloat".concat(t):"i"===e[0]?"getInt".concat(t):"getUint".concat(t),o=this.view[r](this.offset,!0);return this.offset+=n,o},e.prototype.consume_bytes=function(e){this.assert_enough_buffer(e);var t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t},e}(),_w=(xw=function(e,t){return xw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},xw(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}xw(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function Cw(e,t,n){if(typeof e!==t)throw new Error("Expected ".concat(t," not ").concat(typeof e,"(").concat(e,") at ").concat(n.join(".")))}function Rw(e,t,n){if(e!==t)throw new Error("Array length ".concat(e," does not match schema length ").concat(t," at ").concat(n.join(".")))}var Pw=Tw.concat(["bool","string"]),Ow=["option","enum","array","set","map","struct"],Nw=function(e){function t(t,n){var r="Invalid schema: ".concat(JSON.stringify(t)," expected ").concat(n);return e.call(this,r)||this}return _w(t,e),t}(Error);function Bw(e){if("string"!=typeof e||!Pw.includes(e)){if(e&&"object"==typeof e){var t=Object.keys(e);if(1===t.length&&Ow.includes(t[0])){var n=t[0];if("option"===n)return Bw(e[n]);if("enum"===n)return function(e){if(!Array.isArray(e))throw new Nw(e,"Array");for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"!=typeof r||!("struct"in r))throw new Error('Missing "struct" key in enum schema');if("object"!=typeof r.struct||1!==Object.keys(r.struct).length)throw new Error('The "struct" in each enum must have a single key');Bw({struct:r.struct})}}(e[n]);if("array"===n)return function(e){if("object"!=typeof e)throw new Nw(e,"{ type, len? }");if(e.len&&"number"!=typeof e.len)throw new Error("Invalid schema: ".concat(e));if("type"in e)return Bw(e.type);throw new Nw(e,"{ type, len? }")}(e[n]);if("set"===n)return Bw(e[n]);if("map"===n)return function(e){if("object"!=typeof e||!("key"in e)||!("value"in e))throw new Nw(e,"{ key, value }");Bw(e.key),Bw(e.value)}(e[n]);if("struct"===n)return function(e){if("object"!=typeof e)throw new Nw(e,"object");for(var t in e)Bw(e[t])}(e[n])}}throw new Nw(e,Ow.join(", ")+" or "+Pw.join(", "))}}!function(){function e(e){this.encoded=new kw,this.fieldPath=["value"],this.checkTypes=e}e.prototype.encode=function(e,t){return this.encode_value(e,t),this.encoded.get_used_buffer()},e.prototype.encode_value=function(e,t){if("string"==typeof t){if(Tw.includes(t))return this.encode_integer(e,t);if("string"===t)return this.encode_string(e);if("bool"===t)return this.encode_boolean(e)}if("object"==typeof t){if("option"in t)return this.encode_option(e,t);if("enum"in t)return this.encode_enum(e,t);if("array"in t)return this.encode_array(e,t);if("set"in t)return this.encode_set(e,t);if("map"in t)return this.encode_map(e,t);if("struct"in t)return this.encode_struct(e,t)}},e.prototype.encode_integer=function(e,t){var n=parseInt(t.substring(1));n<=32||"f64"==t?(this.checkTypes&&Cw(e,"number",this.fieldPath),this.encoded.store_value(e,t)):(this.checkTypes&&function(e,t){if(!(["number","string","bigint","boolean"].includes(typeof e)||"object"==typeof e&&null!==e&&"toString"in e))throw new Error("Expected bigint, number, boolean or string not ".concat(typeof e,"(").concat(e,") at ").concat(t.join(".")))}(e,this.fieldPath),this.encode_bigint(BigInt(e),n))},e.prototype.encode_bigint=function(e,t){for(var n=t/8,r=new Uint8Array(n),o=0;o<n;o++)r[o]=Number(e&BigInt(255)),e>>=BigInt(8);this.encoded.store_bytes(new Uint8Array(r))},e.prototype.encode_string=function(e){this.checkTypes&&Cw(e,"string",this.fieldPath);for(var t=e,n=[],r=0;r<t.length;r++){var o=t.charCodeAt(r);o<128?n.push(o):o<2048?n.push(192|o>>6,128|63&o):o<55296||o>=57344?n.push(224|o>>12,128|o>>6&63,128|63&o):(r++,o=65536+((1023&o)<<10|1023&t.charCodeAt(r)),n.push(240|o>>18,128|o>>12&63,128|o>>6&63,128|63&o))}this.encoded.store_value(n.length,"u32"),this.encoded.store_bytes(new Uint8Array(n))},e.prototype.encode_boolean=function(e){this.checkTypes&&Cw(e,"boolean",this.fieldPath),this.encoded.store_value(e?1:0,"u8")},e.prototype.encode_option=function(e,t){null==e?this.encoded.store_value(0,"u8"):(this.encoded.store_value(1,"u8"),this.encode_value(e,t.option))},e.prototype.encode_enum=function(e,t){this.checkTypes&&function(e,t){if("object"!=typeof e||null===e)throw new Error("Expected object not ".concat(typeof e,"(").concat(e,") at ").concat(t.join(".")))}(e,this.fieldPath);for(var n=Object.keys(e)[0],r=0;r<t.enum.length;r++){var o=t.enum[r];if(n===Object.keys(o.struct)[0])return this.encoded.store_value(r,"u8"),this.encode_struct(e,o)}throw new Error("Enum key (".concat(n,") not found in enum schema: ").concat(JSON.stringify(t)," at ").concat(this.fieldPath.join(".")))},e.prototype.encode_array=function(e,t){if(function(e){return Array.isArray(e)||!!e&&"object"==typeof e&&"length"in e&&"number"==typeof e.length&&(0===e.length||e.length>0&&e.length-1 in e)}(e))return this.encode_arraylike(e,t);if(e instanceof ArrayBuffer)return this.encode_buffer(e,t);throw new Error("Expected Array-like not ".concat(typeof e,"(").concat(e,") at ").concat(this.fieldPath.join(".")))},e.prototype.encode_arraylike=function(e,t){t.array.len?Rw(e.length,t.array.len,this.fieldPath):this.encoded.store_value(e.length,"u32");for(var n=0;n<e.length;n++)this.encode_value(e[n],t.array.type)},e.prototype.encode_buffer=function(e,t){t.array.len?Rw(e.byteLength,t.array.len,this.fieldPath):this.encoded.store_value(e.byteLength,"u32"),this.encoded.store_bytes(new Uint8Array(e))},e.prototype.encode_set=function(e,t){this.checkTypes&&Cw(e,"object",this.fieldPath);var n=e instanceof Set?Array.from(e.values()):Object.values(e);this.encoded.store_value(n.length,"u32");for(var r=0,o=n;r<o.length;r++){var i=o[r];this.encode_value(i,t.set)}},e.prototype.encode_map=function(e,t){this.checkTypes&&Cw(e,"object",this.fieldPath);var n=e instanceof Map,r=n?Array.from(e.keys()):Object.keys(e);this.encoded.store_value(r.length,"u32");for(var o=0,i=r;o<i.length;o++){var a=i[o];this.encode_value(a,t.map.key),this.encode_value(n?e.get(a):e[a],t.map.value)}},e.prototype.encode_struct=function(e,t){this.checkTypes&&Cw(e,"object",this.fieldPath);for(var n=0,r=Object.keys(t.struct);n<r.length;n++){var o=r[n];this.fieldPath.push(o),this.encode_value(e[o],t.struct[o]),this.fieldPath.pop()}}}();var zw=function(){function e(e){this.buffer=new Iw(e)}return e.prototype.decode=function(e){return this.decode_value(e)},e.prototype.decode_value=function(e){if("string"==typeof e){if(Tw.includes(e))return this.decode_integer(e);if("string"===e)return this.decode_string();if("bool"===e)return this.decode_boolean()}if("object"==typeof e){if("option"in e)return this.decode_option(e);if("enum"in e)return this.decode_enum(e);if("array"in e)return this.decode_array(e);if("set"in e)return this.decode_set(e);if("map"in e)return this.decode_map(e);if("struct"in e)return this.decode_struct(e)}throw new Error("Unsupported type: ".concat(e))},e.prototype.decode_integer=function(e){var t=parseInt(e.substring(1));return t<=32||"f64"==e?this.buffer.consume_value(e):this.decode_bigint(t,e.startsWith("i"))},e.prototype.decode_bigint=function(e,t){void 0===t&&(t=!1);var n=e/8,r=new Uint8Array(this.buffer.consume_bytes(n)),o=r.reduceRight((function(e,t){return e+t.toString(16).padStart(2,"0")}),"");return t&&r[n-1]?BigInt.asIntN(e,BigInt("0x".concat(o))):BigInt("0x".concat(o))},e.prototype.decode_string=function(){for(var e=this.decode_integer("u32"),t=new Uint8Array(this.buffer.consume_bytes(e)),n=[],r=0;r<e;++r){var o=t[r];if(o<128)n.push(o);else if(o<224)n.push((31&o)<<6|63&t[++r]);else if(o<240)n.push((15&o)<<12|(63&t[++r])<<6|63&t[++r]);else{var i=(7&o)<<18|(63&t[++r])<<12|(63&t[++r])<<6|63&t[++r];n.push(i)}}return String.fromCodePoint.apply(String,n)},e.prototype.decode_boolean=function(){return this.buffer.consume_value("u8")>0},e.prototype.decode_option=function(e){var t=this.buffer.consume_value("u8");if(1===t)return this.decode_value(e.option);if(0!==t)throw new Error("Invalid option ".concat(t));return null},e.prototype.decode_enum=function(e){var t,n=this.buffer.consume_value("u8");if(n>e.enum.length)throw new Error("Enum option ".concat(n," is not available"));var r=e.enum[n].struct,o=Object.keys(r)[0];return(t={})[o]=this.decode_value(r[o]),t},e.prototype.decode_array=function(e){for(var t=[],n=e.array.len?e.array.len:this.decode_integer("u32"),r=0;r<n;++r)t.push(this.decode_value(e.array.type));return t},e.prototype.decode_set=function(e){for(var t=this.decode_integer("u32"),n=new Set,r=0;r<t;++r)n.add(this.decode_value(e.set));return n},e.prototype.decode_map=function(e){for(var t=this.decode_integer("u32"),n=new Map,r=0;r<t;++r){var o=this.decode_value(e.map.key),i=this.decode_value(e.map.value);n.set(o,i)}return n},e.prototype.decode_struct=function(e){var t={};for(var n in e.struct)t[n]=this.decode_value(e.struct[n]);return t},e}();function Mw(e,t,n){return void 0===n&&(n=!0),n&&Bw(e),new zw(t).decode(e)}var jw=(e=>(e[e.Uninitialized=0]="Uninitialized",e[e.Initialized=1]="Initialized",e[e.Frozen=2]="Frozen",e))(jw||{});const Uw=Us(),Dw=(vs(),xs()),Lw=Cs(),$w=Za(Bu([["mint",Ms()],["owner",Ms()],["amount",Dc()],["delegate",lh(Ms(),{prefix:jc(),noneValue:"zeroes"})],["state",Cu(jw)],["isNative",lh(Dc(),{prefix:jc(),noneValue:"zeroes"})],["delegatedAmount",Dc()],["closeAuthority",lh(Ms(),{prefix:jc(),noneValue:"zeroes"})]]),zu([["mint",js()],["owner",js()],["amount",Lc()],["delegate",dh(js(),{prefix:Uc(),noneValue:"zeroes"})],["state",Ru(jw)],["isNative",dh(Lc(),{prefix:Uc(),noneValue:"zeroes"})],["delegatedAmount",Lc()],["closeAuthority",dh(js(),{prefix:Uc(),noneValue:"zeroes"})]]));var Fw;!function(e){e.SymbolNotFound="SymbolNotFound",e.InvalidSubdomain="InvalidSubdomain",e.PrimaryDomainNotFound="PrimaryDomainNotFound",e.MissingParentOwner="MissingParentOwner",e.U32Overflow="U32Overflow",e.InvalidBufferLength="InvalidBufferLength",e.U64Overflow="U64Overflow",e.NoRecordData="NoRecordData",e.InvalidRecordData="InvalidRecordData",e.UnsupportedRecord="UnsupportedRecord",e.InvalidEvmAddress="InvalidEvmAddress",e.InvalidInjectiveAddress="InvalidInjectiveAddress",e.InvalidARecord="InvalidARecord",e.InvalidAAAARecord="InvalidAAAARecord",e.InvalidRecordInput="InvalidRecordInput",e.InvalidSignature="InvalidSignature",e.AccountDoesNotExist="AccountDoesNotExist",e.MultipleRegistries="MultipleRegistries",e.InvalidReverseTwitter="InvalidReverseTwitter",e.NoAccountData="NoAccountData",e.InvalidInput="InvalidInput",e.InvalidDomain="InvalidDomain",e.InvalidCustomBg="InvalidCustomBackground",e.UnsupportedSignature="UnsupportedSignature",e.RecordDoestNotSupportGuardianSig="RecordDoestNotSupportGuardianSig",e.RecordIsNotSigned="RecordIsNotSigned",e.UnsupportedSignatureType="UnsupportedSignatureType",e.InvalidSolRecordV2="InvalidSolRecordV2",e.MissingVerifier="MissingVerifier",e.PythFeedNotFound="PythFeedNotFound",e.InvalidRoA="InvalidRoA",e.InvalidPda="InvalidPda",e.InvalidParent="InvalidParent",e.NftAccountNotFound="NftRecordNotFound",e.PdaOwnerNotAllowed="PdaOwnerNotAllowed",e.DomainDoesNotExist="DomainDoesNotExist",e.RecordMalformed="RecordMalformed",e.CouldNotFindNftOwner="CouldNotFindNftOwner",e.InvalidValidation="InvalidValidation",e.InvalidSerializedData="InvalidSerializedData"}(Fw||(Fw={}));class qw extends Error{type;constructor(e,t){super(t),this.name="SNSError",this.type=e,Error.captureStackTrace&&Error.captureStackTrace(this,qw)}}class Ww extends qw{constructor(e){super(Fw.PrimaryDomainNotFound,e)}}class Vw extends qw{constructor(e){super(Fw.NoRecordData,e)}}class Kw extends qw{constructor(e){super(Fw.AccountDoesNotExist,e)}}class Gw extends qw{constructor(e){super(Fw.NoAccountData,e)}}class Hw extends qw{constructor(e){super(Fw.InvalidInput,e)}}class Jw extends qw{constructor(e){super(Fw.InvalidRoA,e)}}class Zw extends qw{constructor(e){super(Fw.NftAccountNotFound,e)}}class Yw extends qw{constructor(e){super(Fw.PdaOwnerNotAllowed,e)}}class Xw extends qw{constructor(e){super(Fw.DomainDoesNotExist,e)}}class Qw extends qw{constructor(e){super(Fw.RecordMalformed,e)}}class eA extends qw{constructor(e){super(Fw.CouldNotFindNftOwner,e)}}class tA extends qw{constructor(e){super(Fw.InvalidValidation,e)}}class nA extends qw{constructor(e){super(Fw.InvalidSerializedData,e)}}class rA{static HEADER_LEN=96;parentName;owner;class;data;static schema={struct:{parentName:{array:{type:"u8",len:32}},owner:{array:{type:"u8",len:32}},class:{array:{type:"u8",len:32}}}};constructor(e){this.parentName=Uw.decode(e.parentName),this.owner=Uw.decode(e.owner),this.class=Uw.decode(e.class)}static deserialize(e){try{const t=new rA(Mw(this.schema,e));return t.data=e?.slice(this.HEADER_LEN),t}catch{throw new Error("Failed to deserialize RegistryState data")}}static async retrieve(e,t){const n=await sm(e,t);if(!n.exists)throw new Kw("The domain account does not exist");return this.deserialize(n.data)}static async _retrieveBatch(e,t){return(await cm(e,t)).map((e=>e.exists?this.deserialize(e.data):void 0))}static async retrieveBatch(e,t){const n=[],r=[...t];for(;r.length>0;)n.push(...await this._retrieveBatch(e,r.splice(0,100)));return n}}const oA="58PwtjSDuFHuUkYjH9BYnnQKHfwo9reZhC2zMJv9JPkx",iA="nftD3vbNkNqfj2Sd3HZwbpw4BxxKWr4AjGb9X38JeZk",aA="33m47vH6Eav6jr5Ry86XjhRft2jRBLDnDgPSHoquXi2Z",sA="2pMnqHvei2N5oDcVGCRdZx48gqti199wr5CsyTTafsbo",cA=async(e,t,n)=>{const r=await(async e=>{const t=Lw.encode("SPL Name Service"+e),n=await crypto.subtle.digest("SHA-256",t);return new Uint8Array(n)})(e);return await(async(e,t,n)=>{const r=[e];r.push(n?Uw.encode(n):new Uint8Array(32)),r.push(t?Uw.encode(t):new Uint8Array(32));const[o]=await Ys({programAddress:"namesLPneVptA9Z5rqUDD9tMTWEJwofgaYwp8cawRkX",seeds:r});return o})(r,t,n)};var uA;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.CentralState=1]="CentralState",e[e.ActiveRecord=2]="ActiveRecord",e[e.InactiveRecord=3]="InactiveRecord"}(uA||(uA={}));class lA{tag;nonce;nameAccount;owner;nftMint;static LEN=98;static schema={struct:{tag:"u8",nonce:"u8",nameAccount:{array:{type:"u8",len:32}},owner:{array:{type:"u8",len:32}},nftMint:{array:{type:"u8",len:32}}}};constructor(e){this.tag=e.tag,this.nonce=e.nonce,this.nameAccount=Uw.decode(e.nameAccount),this.owner=Uw.decode(e.owner),this.nftMint=Uw.decode(e.nftMint)}static deserialize(e){try{return new lA(Mw(this.schema,e))}catch{throw new nA("Failed to deserialize NftState data")}}static async retrieve(e,t){const n=await sm(e,t);if(!n.exists)throw new Zw(`NFT not found: ${t}`);return this.deserialize(n.data)}static async retrieveFromMint(e,t){const n=await e.getProgramAccounts(iA,{encoding:"base64",filters:[{dataSize:BigInt(lA.LEN)},{memcmp:{offset:BigInt(0),bytes:"3",encoding:"base58"}},{memcmp:{offset:BigInt(66),bytes:t,encoding:"base58"}}]}).send();if(1!==n.length)throw new Zw(`NFT not found: ${t}`);return this.deserialize(Dw.encode(n[0].account.data[0]))}static async getAddress(e){const[t]=await Ys({programAddress:iA,seeds:[Lw.encode("nft_record"),Uw.encode(e)]});return t}}const dA=Lw.encode("tokenized_name"),fA=async(e,t)=>{try{const n=await(async e=>{const[t]=await Ys({programAddress:iA,seeds:[dA,Uw.encode(e)]});return t})(t),r=await e.getTokenLargestAccounts(n).send();if(0===r.value.length)return null;const o=await sm(e,r.value[0].address);if(!o.exists)return null;const i=$w.decode(o.data);return"1"===i.amount.toString()?i.owner:null}catch(e){if(Na(e,di))return null;throw e}};class hA{tag;nameAccount;static schema={struct:{tag:"u8",nameAccount:{array:{type:"u8",len:32}}}};constructor(e){this.tag=e.tag,this.nameAccount=Uw.decode(e.nameAccount)}static deserialize(e){try{return new hA(Mw(this.schema,e))}catch{throw new nA("Failed to deserialize PrimaryDomainState data")}}static async retrieve(e,t){const n=await sm(e,t);if(!n.exists)throw new Ww("The favourite account does not exist");return this.deserialize(n.data)}static async _retrieveBatch(e,t){return(await cm(e,t)).map((e=>e.exists?this.deserialize(e.data):void 0))}static async retrieveBatch(e,t){const n=[],r=[...t];for(;r.length>0;)n.push(...await this._retrieveBatch(e,r.splice(0,100)));return n}static async getAddress(e,t){const[n]=await Ys({programAddress:e,seeds:[Lw.encode("favourite_domain"),Uw.encode(t)]});return n}}async function pA(e,t,n){const r=await(async(e,t)=>await cA(e,t,aA))(t,n),o=await rA.retrieve(e,r);if(!o.data)throw new Gw("The registry data is empty");return function(e,t=!1){if(!e)return;const n=new DataView(e.buffer).getUint32(0,!0);return Lw.decode(e.subarray(4,4+n)).replace(/^\0/,t?"":"\0")}(o.data,!!n)}var gA;!function(e){e.IPFS="IPFS",e.ARWV="ARWV",e.SOL="SOL",e.ETH="ETH",e.BTC="BTC",e.LTC="LTC",e.DOGE="DOGE",e.Email="email",e.Url="url",e.Discord="discord",e.Github="github",e.Reddit="reddit",e.Twitter="twitter",e.Telegram="telegram",e.Pic="pic",e.SHDW="SHDW",e.POINT="POINT",e.BSC="BSC",e.Injective="INJ",e.Backpack="backpack",e.A="A",e.AAAA="AAAA",e.CNAME="CNAME",e.TXT="TXT",e.Background="background",e.BASE="BASE",e.IPNS="IPNS"}(gA||(gA={}));new Map([[gA.SOL,96],[gA.ETH,20],[gA.BSC,20],[gA.Injective,20],[gA.A,4],[gA.AAAA,16],[gA.Background,32]]);var mA;!function(e){e[e.V1=1]="V1",e[e.V2=2]="V2"}(mA||(mA={}));const yA=async(e,t)=>{e.endsWith(".sol")&&(e=e.slice(0,-4));const n=t===mA.V2?sA:void 0,r={[mA.V2]:"",[mA.V1]:""}[t]||"\0",o=e.split(".");if(2===o.length){const e=await cA(o[1],oA);return{address:await cA(r+o[0],e,n),parentAddress:e,isSub:!0}}if(3===o.length&&t){const e=await cA(o[2],oA),t=await cA("\0"+o[1],e);return{address:await cA(r+o[0],t,n),parentAddress:e,isSub:!0,isSubRecord:!0}}if(o.length>=3)throw new Hw("The domain is malformed");return{address:await cA(e,oA),isSub:!1}};function vA(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function wA(e,t){return!!Array.isArray(t)&&(0===t.length||(e?t.every((e=>"string"==typeof e)):t.every((e=>Number.isSafeInteger(e)))))}function AA(e,t){if("string"!=typeof t)throw new Error(`${e}: string expected`);return!0}function bA(e){if(!Number.isSafeInteger(e))throw new Error(`invalid integer: ${e}`)}function SA(e){if(!Array.isArray(e))throw new Error("array expected")}function EA(e,t){if(!wA(!0,t))throw new Error(`${e}: array of strings expected`)}function xA(e,t){if(!wA(!1,t))throw new Error(`${e}: array of numbers expected`)}const TA=(e,t)=>0===t?e:TA(t,e%t),kA=(e,t)=>e+(t-TA(e,t)),IA=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function _A(e,t,n,r){if(SA(e),t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(kA(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${kA(t,n)}`);let o=0,i=0;const a=IA[t],s=IA[n]-1,c=[];for(const r of e){if(bA(r),r>=a)throw new Error(`convertRadix2: invalid data word=${r} from=${t}`);if(o=o<<t|r,i+t>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${t}`);for(i+=t;i>=n;i-=n)c.push((o>>i-n&s)>>>0);const e=IA[i];if(void 0===e)throw new Error("invalid carry");o&=e-1}if(o=o<<n-i&s,!r&&i>=t)throw new Error("Excess padding");if(!r&&o>0)throw new Error(`Non-zero padding: ${o}`);return r&&i>0&&c.push(o>>>0),c}function CA(e){return function(e){if("function"!=typeof e)throw new Error("function expected")}(e),function(...t){try{return e.apply(null,t)}catch(e){}}}const RA=function(...e){const t=e=>e,n=(e,t)=>n=>e(t(n));return{encode:e.map((e=>e.encode)).reduceRight(n,t),decode:e.map((e=>e.decode)).reduce(n,t)}}(function(e){const t=e.split(""),n=t.length;EA("alphabet",t);const r=new Map(t.map(((e,t)=>[e,t])));return{encode:r=>(SA(r),r.map((r=>{if(!Number.isSafeInteger(r)||r<0||r>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${r}". Allowed: ${e}`);return t[r]}))),decode:t=>(SA(t),t.map((t=>{AA("alphabet.decode",t);const n=r.get(t);if(void 0===n)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return n})))}}("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),function(e=""){return AA("join",e),{encode:t=>(EA("join.decode",t),t.join(e)),decode:t=>(AA("join.decode",t),t.split(e))}}("")),PA=[996825010,642813549,513874426,1027748829,705979059];function OA(e){const t=e>>25;let n=(33554431&e)<<5;for(let e=0;e<PA.length;e++)1==(t>>e&1)&&(n^=PA[e]);return n}function NA(e,t,n=1){const r=e.length;let o=1;for(let t=0;t<r;t++){const n=e.charCodeAt(t);if(n<33||n>126)throw new Error(`Invalid prefix (${e})`);o=OA(o)^n>>5}o=OA(o);for(let t=0;t<r;t++)o=OA(o)^31&e.charCodeAt(t);for(let e of t)o=OA(o)^e;for(let e=0;e<6;e++)o=OA(o);return o^=n,RA.encode(_A([o%IA[30]],30,5,!1))}!function(e){const t=function(e,t=!1){if(bA(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(kA(8,e)>32||kA(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!vA(n))throw new Error("radix2.encode input should be Uint8Array");return _A(Array.from(n),8,e,!t)},decode:n=>(xA("radix2.decode",n),Uint8Array.from(_A(n,e,8,t)))}}(5),n=t.decode,r=t.encode,o=CA(n);function i(e,t,n=90){AA("bech32.encode prefix",e),vA(t)&&Array.from(t),xA("bech32.encode",t);const r=e.length;if(0===r)throw new TypeError(`Invalid prefix length ${r}`);const o=r+7+t.length;if(!1!==n&&o>n)throw new TypeError(`Length ${o} exceeds limit ${n}`);const i=e.toLowerCase(),a=NA(i,t,1);return`${i}1${RA.encode(t)}${a}`}function a(e,t=90){AA("bech32.decode input",e);const n=e.length;if(n<8||!1!==t&&n>t)throw new TypeError(`invalid string length: ${n} (${e}). Expected (8..${t})`);const r=e.toLowerCase();if(e!==r&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const o=r.lastIndexOf("1");if(0===o||-1===o)throw new Error('Letter "1" must be present between prefix and data only');const i=r.slice(0,o),a=r.slice(o+1);if(a.length<6)throw new Error("Data must be at least 6 characters long");const s=RA.decode(a).slice(0,-6),c=NA(i,s,1);if(!a.endsWith(c))throw new Error(`Invalid checksum in ${e}: expected "${c}"`);return{prefix:i,words:s}}CA(a)}();var BA,zA={exports:{}},MA=zA.exports;!function(){return BA||(BA=1,e=zA,function(t){const n="(0?\\d+|0x[a-f0-9]+)",r={fourOctet:new RegExp(`^${n}\\.${n}\\.${n}\\.${n}$`,"i"),threeOctet:new RegExp(`^${n}\\.${n}\\.${n}$`,"i"),twoOctet:new RegExp(`^${n}\\.${n}$`,"i"),longValue:new RegExp(`^${n}$`,"i")},o=new RegExp("^0[0-7]+$","i"),i=new RegExp("^0x[a-f0-9]+$","i"),a="%[0-9a-z]{1,}",s="(?:[0-9a-f]+::?)+",c={zoneIndex:new RegExp(a,"i"),native:new RegExp(`^(::)?(${s})?([0-9a-f]+)?(::)?(${a})?$`,"i"),deprecatedTransitional:new RegExp(`^(?:::)(${n}\\.${n}\\.${n}\\.${n}(${a})?)$`,"i"),transitional:new RegExp(`^((?:${s})|(?:::)(?:${s})?)${n}\\.${n}\\.${n}\\.${n}(${a})?$`,"i")};function u(e,t){if(e.indexOf("::")!==e.lastIndexOf("::"))return null;let n,r,o=0,i=-1,a=(e.match(c.zoneIndex)||[])[0];for(a&&(a=a.substring(1),e=e.replace(/%.+$/,""));(i=e.indexOf(":",i+1))>=0;)o++;if("::"===e.substr(0,2)&&o--,"::"===e.substr(-2,2)&&o--,o>t)return null;for(r=t-o,n=":";r--;)n+="0:";return":"===(e=e.replace("::",n))[0]&&(e=e.slice(1)),":"===e[e.length-1]&&(e=e.slice(0,-1)),{parts:t=function(){const t=e.split(":"),n=[];for(let e=0;e<t.length;e++)n.push(parseInt(t[e],16));return n}(),zoneId:a}}function l(e,t,n,r){if(e.length!==t.length)throw new Error("ipaddr: cannot match CIDR for objects with different lengths");let o,i=0;for(;r>0;){if(o=n-r,o<0&&(o=0),e[i]>>o!=t[i]>>o)return!1;r-=n,i+=1}return!0}function d(e){if(i.test(e))return parseInt(e,16);if("0"===e[0]&&!isNaN(parseInt(e[1],10))){if(o.test(e))return parseInt(e,8);throw new Error(`ipaddr: cannot parse ${e} as octal`)}return parseInt(e,10)}function f(e,t){for(;e.length<t;)e=`0${e}`;return e}const h={};h.IPv4=function(){function e(e){if(4!==e.length)throw new Error("ipaddr: ipv4 octet count should be 4");let t,n;for(t=0;t<e.length;t++)if(n=e[t],!(0<=n&&n<=255))throw new Error("ipaddr: ipv4 octet should fit in 8 bits");this.octets=e}return e.prototype.SpecialRanges={unspecified:[[new e([0,0,0,0]),8]],broadcast:[[new e([255,255,255,255]),32]],multicast:[[new e([224,0,0,0]),4]],linkLocal:[[new e([169,254,0,0]),16]],loopback:[[new e([127,0,0,0]),8]],carrierGradeNat:[[new e([100,64,0,0]),10]],private:[[new e([10,0,0,0]),8],[new e([172,16,0,0]),12],[new e([192,168,0,0]),16]],reserved:[[new e([192,0,0,0]),24],[new e([192,0,2,0]),24],[new e([192,88,99,0]),24],[new e([198,18,0,0]),15],[new e([198,51,100,0]),24],[new e([203,0,113,0]),24],[new e([240,0,0,0]),4]],as112:[[new e([192,175,48,0]),24],[new e([192,31,196,0]),24]],amt:[[new e([192,52,193,0]),24]]},e.prototype.kind=function(){return"ipv4"},e.prototype.match=function(e,t){let n;if(void 0===t&&(n=e,e=n[0],t=n[1]),"ipv4"!==e.kind())throw new Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return l(this.octets,e.octets,8,t)},e.prototype.prefixLengthFromSubnetMask=function(){let e=0,t=!1;const n={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0};let r,o,i;for(r=3;r>=0;r-=1){if(o=this.octets[r],!(o in n))return null;if(i=n[o],t&&0!==i)return null;8!==i&&(t=!0),e+=i}return 32-e},e.prototype.range=function(){return h.subnetMatch(this,this.SpecialRanges)},e.prototype.toByteArray=function(){return this.octets.slice(0)},e.prototype.toIPv4MappedAddress=function(){return h.IPv6.parse(`::ffff:${this.toString()}`)},e.prototype.toNormalizedString=function(){return this.toString()},e.prototype.toString=function(){return this.octets.join(".")},e}(),h.IPv4.broadcastAddressFromCIDR=function(e){try{const t=this.parseCIDR(e),n=t[0].toByteArray(),r=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),o=[];let i=0;for(;i<4;)o.push(parseInt(n[i],10)|255^parseInt(r[i],10)),i++;return new this(o)}catch(e){throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},h.IPv4.isIPv4=function(e){return null!==this.parser(e)},h.IPv4.isValid=function(e){try{return new this(this.parser(e)),!0}catch(e){return!1}},h.IPv4.isValidCIDR=function(e){try{return this.parseCIDR(e),!0}catch(e){return!1}},h.IPv4.isValidFourPartDecimal=function(e){return!(!h.IPv4.isValid(e)||!e.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/))},h.IPv4.networkAddressFromCIDR=function(e){let t,n,r,o,i;try{for(t=this.parseCIDR(e),r=t[0].toByteArray(),i=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),o=[],n=0;n<4;)o.push(parseInt(r[n],10)&parseInt(i[n],10)),n++;return new this(o)}catch(e){throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},h.IPv4.parse=function(e){const t=this.parser(e);if(null===t)throw new Error("ipaddr: string is not formatted like an IPv4 Address");return new this(t)},h.IPv4.parseCIDR=function(e){let t;if(t=e.match(/^(.+)\/(\d+)$/)){const e=parseInt(t[2]);if(e>=0&&e<=32){const n=[this.parse(t[1]),e];return Object.defineProperty(n,"toString",{value:function(){return this.join("/")}}),n}}throw new Error("ipaddr: string is not formatted like an IPv4 CIDR range")},h.IPv4.parser=function(e){let t,n,o;if(t=e.match(r.fourOctet))return function(){const e=t.slice(1,6),r=[];for(let t=0;t<e.length;t++)n=e[t],r.push(d(n));return r}();if(t=e.match(r.longValue)){if(o=d(t[1]),o>4294967295||o<0)throw new Error("ipaddr: address outside defined range");return function(){const e=[];let t;for(t=0;t<=24;t+=8)e.push(o>>t&255);return e}().reverse()}return(t=e.match(r.twoOctet))?function(){const e=t.slice(1,4),n=[];if(o=d(e[1]),o>16777215||o<0)throw new Error("ipaddr: address outside defined range");return n.push(d(e[0])),n.push(o>>16&255),n.push(o>>8&255),n.push(255&o),n}():(t=e.match(r.threeOctet))?function(){const e=t.slice(1,5),n=[];if(o=d(e[2]),o>65535||o<0)throw new Error("ipaddr: address outside defined range");return n.push(d(e[0])),n.push(d(e[1])),n.push(o>>8&255),n.push(255&o),n}():null},h.IPv4.subnetMaskFromPrefixLength=function(e){if((e=parseInt(e))<0||e>32)throw new Error("ipaddr: invalid IPv4 prefix length");const t=[0,0,0,0];let n=0;const r=Math.floor(e/8);for(;n<r;)t[n]=255,n++;return r<4&&(t[r]=Math.pow(2,e%8)-1<<8-e%8),new this(t)},h.IPv6=function(){function e(e,t){let n,r;if(16===e.length)for(this.parts=[],n=0;n<=14;n+=2)this.parts.push(e[n]<<8|e[n+1]);else{if(8!==e.length)throw new Error("ipaddr: ipv6 part count should be 8 or 16");this.parts=e}for(n=0;n<this.parts.length;n++)if(r=this.parts[n],!(0<=r&&r<=65535))throw new Error("ipaddr: ipv6 part should fit in 16 bits");t&&(this.zoneId=t)}return e.prototype.SpecialRanges={unspecified:[new e([0,0,0,0,0,0,0,0]),128],linkLocal:[new e([65152,0,0,0,0,0,0,0]),10],multicast:[new e([65280,0,0,0,0,0,0,0]),8],loopback:[new e([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new e([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new e([0,0,0,0,0,65535,0,0]),96],discard:[new e([256,0,0,0,0,0,0,0]),64],rfc6145:[new e([0,0,0,0,65535,0,0,0]),96],rfc6052:[new e([100,65435,0,0,0,0,0,0]),96],"6to4":[new e([8194,0,0,0,0,0,0,0]),16],teredo:[new e([8193,0,0,0,0,0,0,0]),32],benchmarking:[new e([8193,2,0,0,0,0,0,0]),48],amt:[new e([8193,3,0,0,0,0,0,0]),32],as112v6:[[new e([8193,4,274,0,0,0,0,0]),48],[new e([9760,79,32768,0,0,0,0,0]),48]],deprecated:[new e([8193,16,0,0,0,0,0,0]),28],orchid2:[new e([8193,32,0,0,0,0,0,0]),28],droneRemoteIdProtocolEntityTags:[new e([8193,48,0,0,0,0,0,0]),28],reserved:[[new e([8193,0,0,0,0,0,0,0]),23],[new e([8193,3512,0,0,0,0,0,0]),32]]},e.prototype.isIPv4MappedAddress=function(){return"ipv4Mapped"===this.range()},e.prototype.kind=function(){return"ipv6"},e.prototype.match=function(e,t){let n;if(void 0===t&&(n=e,e=n[0],t=n[1]),"ipv6"!==e.kind())throw new Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return l(this.parts,e.parts,16,t)},e.prototype.prefixLengthFromSubnetMask=function(){let e=0,t=!1;const n={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0};let r,o;for(let i=7;i>=0;i-=1){if(r=this.parts[i],!(r in n))return null;if(o=n[r],t&&0!==o)return null;16!==o&&(t=!0),e+=o}return 128-e},e.prototype.range=function(){return h.subnetMatch(this,this.SpecialRanges)},e.prototype.toByteArray=function(){let e;const t=[],n=this.parts;for(let r=0;r<n.length;r++)e=n[r],t.push(e>>8),t.push(255&e);return t},e.prototype.toFixedLengthString=function(){const e=function(){const e=[];for(let t=0;t<this.parts.length;t++)e.push(f(this.parts[t].toString(16),4));return e}.call(this).join(":");let t="";return this.zoneId&&(t=`%${this.zoneId}`),e+t},e.prototype.toIPv4Address=function(){if(!this.isIPv4MappedAddress())throw new Error("ipaddr: trying to convert a generic ipv6 address to ipv4");const e=this.parts.slice(-2),t=e[0],n=e[1];return new h.IPv4([t>>8,255&t,n>>8,255&n])},e.prototype.toNormalizedString=function(){const e=function(){const e=[];for(let t=0;t<this.parts.length;t++)e.push(this.parts[t].toString(16));return e}.call(this).join(":");let t="";return this.zoneId&&(t=`%${this.zoneId}`),e+t},e.prototype.toRFC5952String=function(){const e=/((^|:)(0(:|$)){2,})/g,t=this.toNormalizedString();let n,r=0,o=-1;for(;n=e.exec(t);)n[0].length>o&&(r=n.index,o=n[0].length);return o<0?t:`${t.substring(0,r)}::${t.substring(r+o)}`},e.prototype.toString=function(){return this.toRFC5952String()},e}(),h.IPv6.broadcastAddressFromCIDR=function(e){try{const t=this.parseCIDR(e),n=t[0].toByteArray(),r=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),o=[];let i=0;for(;i<16;)o.push(parseInt(n[i],10)|255^parseInt(r[i],10)),i++;return new this(o)}catch(e){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${e})`)}},h.IPv6.isIPv6=function(e){return null!==this.parser(e)},h.IPv6.isValid=function(e){if("string"==typeof e&&-1===e.indexOf(":"))return!1;try{const t=this.parser(e);return new this(t.parts,t.zoneId),!0}catch(e){return!1}},h.IPv6.isValidCIDR=function(e){if("string"==typeof e&&-1===e.indexOf(":"))return!1;try{return this.parseCIDR(e),!0}catch(e){return!1}},h.IPv6.networkAddressFromCIDR=function(e){let t,n,r,o,i;try{for(t=this.parseCIDR(e),r=t[0].toByteArray(),i=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),o=[],n=0;n<16;)o.push(parseInt(r[n],10)&parseInt(i[n],10)),n++;return new this(o)}catch(e){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${e})`)}},h.IPv6.parse=function(e){const t=this.parser(e);if(null===t.parts)throw new Error("ipaddr: string is not formatted like an IPv6 Address");return new this(t.parts,t.zoneId)},h.IPv6.parseCIDR=function(e){let t,n,r;if((n=e.match(/^(.+)\/(\d+)$/))&&(t=parseInt(n[2]),t>=0&&t<=128))return r=[this.parse(n[1]),t],Object.defineProperty(r,"toString",{value:function(){return this.join("/")}}),r;throw new Error("ipaddr: string is not formatted like an IPv6 CIDR range")},h.IPv6.parser=function(e){let t,n,r,o,i,a;if(r=e.match(c.deprecatedTransitional))return this.parser(`::ffff:${r[1]}`);if(c.native.test(e))return u(e,8);if((r=e.match(c.transitional))&&(a=r[6]||"",t=r[1],r[1].endsWith("::")||(t=t.slice(0,-1)),t=u(t+a,6),t.parts)){for(i=[parseInt(r[2]),parseInt(r[3]),parseInt(r[4]),parseInt(r[5])],n=0;n<i.length;n++)if(o=i[n],!(0<=o&&o<=255))return null;return t.parts.push(i[0]<<8|i[1]),t.parts.push(i[2]<<8|i[3]),{parts:t.parts,zoneId:t.zoneId}}return null},h.IPv6.subnetMaskFromPrefixLength=function(e){if((e=parseInt(e))<0||e>128)throw new Error("ipaddr: invalid IPv6 prefix length");const t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];let n=0;const r=Math.floor(e/8);for(;n<r;)t[n]=255,n++;return r<16&&(t[r]=Math.pow(2,e%8)-1<<8-e%8),new this(t)},h.fromByteArray=function(e){const t=e.length;if(4===t)return new h.IPv4(e);if(16===t)return new h.IPv6(e);throw new Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")},h.isValid=function(e){return h.IPv6.isValid(e)||h.IPv4.isValid(e)},h.isValidCIDR=function(e){return h.IPv6.isValidCIDR(e)||h.IPv4.isValidCIDR(e)},h.parse=function(e){if(h.IPv6.isValid(e))return h.IPv6.parse(e);if(h.IPv4.isValid(e))return h.IPv4.parse(e);throw new Error("ipaddr: the address has neither IPv6 nor IPv4 format")},h.parseCIDR=function(e){try{return h.IPv6.parseCIDR(e)}catch(t){try{return h.IPv4.parseCIDR(e)}catch(e){throw new Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},h.process=function(e){const t=this.parse(e);return"ipv6"===t.kind()&&t.isIPv4MappedAddress()?t.toIPv4Address():t},h.subnetMatch=function(e,t,n){let r,o,i,a;for(o in null==n&&(n="unicast"),t)if(Object.prototype.hasOwnProperty.call(t,o))for(i=t[o],!i[0]||i[0]instanceof Array||(i=[i]),r=0;r<i.length;r++)if(a=i[r],e.kind()===a[0].kind()&&e.match.apply(e,a))return o;return n},e.exports?e.exports=h:t.ipaddr=h}(MA)),zA.exports;var e}();Math.floor,String.fromCharCode;new Map([[gA.CNAME,"ExXjtfdQe8JacoqP9Z535WzQKjF4CzW1TTRKRgpxvya3"],[gA.Url,"ExXjtfdQe8JacoqP9Z535WzQKjF4CzW1TTRKRgpxvya3"]]),new Set([gA.BASE,gA.BSC,gA.ETH,gA.Injective]),new Set([gA.BASE,gA.BSC,gA.ETH]),new Set([gA.ARWV,gA.Backpack,gA.BTC,gA.CNAME,gA.Discord,gA.DOGE,gA.Email,gA.Github,gA.IPFS,gA.IPNS,gA.LTC,gA.Pic,gA.POINT,gA.Reddit,gA.SHDW,gA.Telegram,gA.Twitter,gA.TXT,gA.Url]),new Set([gA.BASE,gA.BSC,gA.ETH,gA.Injective,gA.SOL]);new Map([["EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",[234,160,32,198,28,196,121,113,40,19,70,28,225,83,137,74,150,166,192,11,33,237,12,252,39,152,209,249,169,233,201,74]],["Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB",[43,137,185,220,143,223,159,52,112,154,91,16,107,71,47,15,57,187,108,169,206,4,176,253,127,46,151,22,136,226,229,59]],["So11111111111111111111111111111111111111112",[239,13,139,111,218,44,235,164,29,161,93,64,149,209,218,57,42,13,47,142,208,198,199,188,15,76,250,200,194,128,181,109]],["EchesyfXePKdLtoiZSL8pBe8Myagyy8ZRqsACNCFGnvp",[200,6,87,183,246,243,234,194,114,24,208,157,90,78,84,228,123,37,118,141,159,94,16,172,21,254,44,249,0,136,20,0]],["mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So",[194,40,154,106,67,210,206,145,198,245,92,174,195,112,244,172,195,138,46,212,119,245,136,19,51,76,109,3,116,159,242,164]],["DezXAZ8z7PnrnRJjz3wXBoRgixCa6xjnB7YaB1pPB263",[114,176,33,33,124,163,254,104,146,42,25,170,249,144,16,156,185,216,78,154,208,4,180,210,2,90,214,245,41,49,68,25]],["EPeUFDgHRxs9xxEPVaL6kfGQvCon7jmAWKVUHuux1Tpz",[142,134,15,183,78,96,229,115,107,69,93,130,246,11,55,40,4,156,52,142,148,150,26,221,95,150,27,2,253,238,37,53]],["HZ1JovNiVvGrGNiiYvEozEVgZ58xaU3RKwX8eACQBCt3",[11,191,40,233,168,65,161,204,120,143,106,54,27,23,202,7,45,14,163,9,138,30,93,241,195,146,45,6,113,149,121,255]],["bSo13r4TkiE4KumL71LsHTPpL2euBYLFx6h9HP3piy1",[137,135,83,121,231,15,143,186,220,23,174,243,21,173,243,168,213,209,96,184,17,67,85,55,224,60,151,232,170,201,125,156]],["6McPRfPV6bY1e9hLxWyG54W9i9Epq75QBvXg2oetBVTB",[122,91,193,210,181,106,208,41,4,140,214,57,100,179,173,39,118,234,223,129,46,220,26,67,163,20,6,203,84,191,245,146]],["6p6xgHyF7AeE6TZkSmFsko444wqoP15icUSqi2jfGiPN",[135,149,81,2,24,83,238,199,167,220,130,117,120,232,230,157,167,228,250,129,72,51,154,160,211,213,41,100,5,190,75,26]]]);var jA;!function(e){e[e.None=0]="None",e[e.Solana=1]="Solana",e[e.Ethereum=2]="Ethereum",e[e.UnverifiedSolana=3]="UnverifiedSolana"}(jA||(jA={}));const UA=e=>{switch(e){case jA.None:return 0;case jA.Ethereum:return 20;case jA.Solana:case jA.UnverifiedSolana:return 32;default:throw new Error("Invalid validation enum")}};class DA{stalenessValidation;rightOfAssociationValidation;contentLength;static LEN=8;static schema={struct:{stalenessValidation:"u16",rightOfAssociationValidation:"u16",contentLength:"u32"}};constructor(e){this.stalenessValidation=e.stalenessValidation,this.rightOfAssociationValidation=e.rightOfAssociationValidation,this.contentLength=e.contentLength}static deserialize(e){return new DA(Mw(this.schema,e,!0))}static async retrieve(e,t){const n=await sm(e,t);if(!n.exists)throw new Error("Record header account not found");return this.deserialize(n.data.slice(96,96+this.LEN))}}class LA{header;data;constructor(e,t){this.data=t,this.header=e}static deserialize(e){const t=DA.deserialize(e.slice(96,96+DA.LEN));return new LA(t,e.slice(96+DA.LEN))}static async retrieve(e,t){const n=await sm(e,t);if(!n.exists)throw new Vw("Record account not found");return this.deserialize(n.data)}static async retrieveBatch(e,t){return(await cm(e,t)).map((e=>e.exists?this.deserialize(e.data):void 0))}getContent(){const e=UA(this.header.stalenessValidation)+UA(this.header.rightOfAssociationValidation);return this.data.slice(e)}getStalenessId(){const e=UA(this.header.stalenessValidation);return this.data.slice(0,e)}getRoAId(){const e=UA(this.header.stalenessValidation),t=e+UA(this.header.rightOfAssociationValidation);return this.data.slice(e,t)}}const $A=57896044618658097711785492504343953926634992332820282019728792003956564819949n,FA=19681161376707505956807079304988542015446066515923890162744021073123829784752n;function qA(e){const t=e%$A;return t>=0n?t:$A+t}function WA(e,t){let n=e;for(;t-- >0n;)n*=n,n%=$A;return n}function VA(e,t){const n=qA(e*e),r=function(e,t){const n=qA(t*t*t),r=function(e){const t=e*e%$A*e%$A,n=WA(t,2n)*t%$A,r=WA(n,1n)*e%$A,o=WA(r,5n)*r%$A,i=WA(o,10n)*o%$A,a=WA(i,20n)*i%$A,s=WA(a,40n)*a%$A,c=WA(s,80n)*s%$A,u=WA(c,80n)*s%$A,l=WA(u,10n)*o%$A;return WA(l,2n)*e%$A}(e*qA(n*n*t));let o=qA(e*n*r);const i=qA(t*o*o),a=o,s=qA(o*FA),c=i===e,u=i===qA(-e),l=i===qA(-e*FA);return c&&(o=a),(u||l)&&(o=s),1n===(1n&qA(o))&&(o=qA(-o)),c||u?o:null}(qA(n-1n),qA(37095705934669439343138083508754565189542113879843219016388785533085940283555n*n+1n));return null!==r&&(0n!==r||!(128&t))}const KA=async(e,t,n={allowPda:!1})=>{const{address:r}=await yA(t),o=await lA.getAddress(r),i=await(async(e,t)=>{const{address:n}=await yA(t+"."+e,mA.V1);return n})(t,gA.SOL),a=await(async(e,t)=>{const{address:n}=await yA(e);return await cA(`${t}`,n,sA)})(t,gA.SOL),[s,c,u,l]=await cm(e,[r,o,i,a]);if(!s.exists)throw new Xw(`Domain ${t} does not exist`);const d=rA.deserialize(s.data);if(c.exists&&lA.deserialize(c.data).tag===uA.ActiveRecord){const t=await fA(e,r);if(!t)throw new eA;return t}e:if(l.exists){const e=LA.deserialize(l.data),t=e.getStalenessId(),n=e.getRoAId(),r=e.getContent();if(32!==r.length)throw new Qw("Record is malformed");if(e.header.rightOfAssociationValidation!==jA.Solana||e.header.stalenessValidation!==jA.Solana)throw new tA;if(d.owner!==Uw.decode(t))break e;if(((e,t)=>e.length===t.length&&e.every(((e,n)=>e===t[n])))(n,r))return Uw.decode(r);throw new Jw(`The RoA ID shoudl be ${Uw.decode(r)} but is ${Uw.decode(n)} `)}if(u.exists){const e=new Uint8Array([...u.data.slice(rA.HEADER_LEN,rA.HEADER_LEN+32),...Uw.encode(i)]),t=u.data.slice(rA.HEADER_LEN+32,rA.HEADER_LEN+32+64),n=await(async({data:e,signature:t,address:n})=>{const r=await async function(e){const t=Ms().encode(e);return await crypto.subtle.importKey("raw",t,{name:"Ed25519"},!0,["verify"])}(n),o=Lw.encode((e=>Array.from(e).map((e=>e.toString(16).padStart(2,"0"))).join(""))(e));return await crypto.subtle.verify({name:"Ed25519"},r,t,o)})({data:e,signature:t,address:d.owner});if(n)return Uw.decode(u.data.slice(rA.HEADER_LEN,rA.HEADER_LEN+32))}if(!function(e){const t=Uw.encode(e);if(32!==t.byteLength)return!1;return VA(function(e){const t=e.reduce(((e,t,n)=>`${function(e){const t=e.toString(16);return 1===t.length?`0${t}`:t}(31===n?-129&t:t)}${e}`),"");return BigInt(`0x${t}`)}(t),t[31])}(d.owner)){if("any"===n.allowPda)return d.owner;if(n.allowPda){const t=await sm(e,d.owner);if(!t.exists)throw new Yw("Invalid domain owner account");const r=n.programIds?.some((e=>t.programAddress===e));if(r)return d.owner;throw new Yw(`The program ${t.programAddress} is not allowed`)}throw new Yw}return d.owner};Error;function GA(e){return function(e){return function(e){return"object"==typeof e&&null!==e&&"message"in e}(e)&&"string"==typeof e.message?e.message:null==e?"":String(e)}(e).replace(/\.$/u,"")}function HA(e,t){return n=e,Boolean("string"==typeof n?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var n}class JA extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}function ZA(e,t="Assertion failed.",n=JA){if(!e){if(t instanceof Error)throw t;throw HA(n,t)}}function YA(e,t,n="Assertion failed",r=JA){try{Er(e,t)}catch(e){throw HA(r,`${n}: ${GA(e)}.`)}}function XA(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function QA(...e){const t=(e,t)=>n=>e(t(n));return{encode:Array.from(e).reverse().reduce(((e,n)=>e?t(e,n.encode):n.encode),void 0),decode:e.reduce(((e,n)=>e?t(e,n.decode):n.decode),void 0)}}function eb(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map((t=>{if(XA(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map((t=>{if("string"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const n=e.indexOf(t);if(-1===n)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return n}))}}}function tb(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function nb(e,t="="){if(XA(e),"string"!=typeof t)throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function rb(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function ob(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0;const o=[],i=Array.from(e);for(i.forEach((e=>{if(XA(e),e<0||e>=t)throw new Error(`Wrong integer: ${e}`)}));;){let e=0,a=!0;for(let o=r;o<i.length;o++){const s=i[o],c=t*e+s;if(!Number.isSafeInteger(c)||t*e/t!==e||c-s!=t*e)throw new Error("convertRadix: carry overflow");e=c%n;const u=Math.floor(c/n);if(i[o]=u,!Number.isSafeInteger(u)||u*n+e!==c)throw new Error("convertRadix: carry overflow");a&&(u?a=!1:r=o)}if(o.push(e),a)break}for(let t=0;t<e.length-1&&0===e[t];t++)o.push(0);return o.reverse()}const ib=(e,t)=>t?ib(t,e%t):e,ab=(e,t)=>e+(t-ib(e,t));function sb(e,t,n,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(ab(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${ab(t,n)}`);let o=0,i=0;const a=2**n-1,s=[];for(const r of e){if(XA(r),r>=2**t)throw new Error(`convertRadix2: invalid data word=${r} from=${t}`);if(o=o<<t|r,i+t>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${t}`);for(i+=t;i>=n;i-=n)s.push((o>>i-n&a)>>>0);o&=2**i-1}if(o=o<<n-i&a,!r&&i>=t)throw new Error("Excess padding");if(!r&&o)throw new Error(`Non-zero padding: ${o}`);return r&&i>0&&s.push(o>>>0),s}function cb(e){return XA(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return ob(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(ob(t,e,256))}}}function ub(e,t=!1){if(XA(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(ab(8,e)>32||ab(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return sb(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(sb(n,e,8,t))}}}const lb=QA(ub(4),eb("0123456789ABCDEF"),tb("")),db=QA(ub(5),eb("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),nb(5),tb("")),fb=(QA(ub(5),eb("0123456789ABCDEFGHIJKLMNOPQRSTUV"),nb(5),tb("")),QA(ub(5),eb("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),tb(""),rb((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")))),QA(ub(6),eb("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),nb(6),tb(""))),hb=QA(ub(6),eb("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),nb(6),tb("")),pb=(QA(ub(6),eb("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),tb("")),e=>QA(cb(58),eb(e),tb(""))),gb=pb("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),mb=[0,2,3,5,6,7,9,10,11],yb={encode(e){let t="";for(let n=0;n<e.length;n+=8){const r=e.subarray(n,n+8);t+=gb.encode(r).padStart(mb[r.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const r=e.slice(n,n+11),o=mb.indexOf(r.length),i=gb.decode(r);for(let e=0;e<i.length-o;e++)if(0!==i[e])throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(i.slice(i.length-o)))}return Uint8Array.from(t)}};QA(eb("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),tb(""));const vb={encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)};QA(ub(4),eb("0123456789abcdef"),tb(""),rb((e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})));n(1048).hp;!function(){const e=[]}();function wb(e){return e instanceof Uint8Array}function Ab(e){ZA(wb(e),"Value must be a Uint8Array.")}function bb(e,t,n){return new Xd({...e,*refiner(r,o){yield*e.refiner(r,o);const i=Zd(n(r,o),o,e,r);for(const e of i)yield{...e,refinement:t}}})}var Sb;!function(e){e.Copyable="copyable",e.Divider="divider",e.Heading="heading",e.Panel="panel",e.Spinner="spinner",e.Text="text",e.Image="image",e.Row="row",e.Address="address",e.Button="button",e.Input="input",e.Form="form"}(Sb||(Sb={}));const Eb=rf({type:of()}),xb=(af(Eb,rf({value:sf("unknown",(()=>!0))})),af(Eb,rf({type:cf(Sb.Image),value:bb(of(),"SVG",(e=>!!e.includes("<svg")||"Value is not a valid SVG."))}))),Tb=function(e,t,n=[]){return(...r)=>{if(1===r.length&&function(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}}(r[0])){const n={...r[0],type:e};return YA(n,t,`Invalid ${e} component`),n}const o=n.reduce(((e,t,n)=>void 0!==r[n]?{...e,[t]:r[n]}:e),{type:e});return YA(o,t,`Invalid ${e} component`),o}}(Sb.Image,xb,["value"]);async function kb(e,t){const n=await async function(e,t){if("function"!=typeof fetch)throw new Error(`Failed to fetch image data from "${e}": Using this function requires the "endowment:network-access" permission.`);return fetch(e,t).then((async t=>{if(!t.ok)throw new Error(`Failed to fetch image data from "${e}": ${t.status} ${t.statusText}`);const n=await t.blob();return ZA("image/jpeg"===n.type||"image/png"===n.type,"Expected image data to be a JPEG or PNG image."),n}))}(e,t),r=new Uint8Array(await n.arrayBuffer());return`data:${n.type};base64,${function(e){return Ab(e),fb.encode(e)}(r)}`}const Ib='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="48" height="48">\n  <path fill="#999999" d="M42.75 24c0 10.59375-8.53125 19.21875-19.125 19.21875-10.6875 0-19.21875-8.625-19.21875-19.21875 0-10.59375 8.53125-19.21875 19.21875-19.21875 10.59375 0 19.125 8.625 19.125 19.21875zM23.625 14.0625c-3.09375 0-5.90625 2.25-5.90625 5.4375 0 0.84375 0.75 1.59375 1.59375 1.59375 0.84375 0 1.59375-0.75 1.59375-1.59375 0-1.125 1.03125-2.25 2.71875-2.25 1.59375 0 2.625 1.125 2.625 2.25 0 0.5625-0.375 1.03125-1.3125 1.59375l0 0c-1.125 0.75-3 1.96875-3 4.5l0 0.46875c0 0.84375 0.75 1.59375 1.6875 1.59375 0.84375 0 1.59375-0.75 1.59375-1.59375l0-0.46875c0-0.65625 0.28125-1.125 1.40625-1.78125 1.03125-0.65625 2.8125-1.875 2.8125-4.3125 0-3.1875-2.8125-5.4375-5.8125-5.4375zM23.53125 31.875c-0.84375 0-1.59375 0.65625-1.59375 1.59375 0 0.84375 0.75 1.59375 1.59375 1.59375l0.09375 0c0.84375 0 1.59375-0.75 1.59375-1.59375 0-0.9375-0.75-1.59375-1.59375-1.59375z"/>\n</svg>';function _b(e){return e.includes("swift:0/iso4217:")}var Cb=function(e){return e.Benign="Benign",e.Warning="Warning",e.Malicious="Malicious",e}({}),Rb=function(e){return e.SUCCESS="SUCCESS",e.ERROR="ERROR",e}({});const Pb=(e,t)=>{const{to:n,type:r,status:o}=e,{address:i}=t;if(!(r===It.Receive||o===kt.Failed))return!1;const{hasReceivedSOL:a,receivedSOLAmount:s}=n.reduce(((e,t)=>t.address!==i||!t.asset?.fungible||t.asset.type!==rc.SolMainnet&&t.asset.type!==rc.SolDevnet?e:{hasReceivedSOL:!0,receivedSOLAmount:e.receivedSOLAmount.plus(t.asset.amount)}),{hasReceivedSOL:!1,receivedSOLAmount:new jo(0)});return a&&s.isLessThan(.001)};function Ob(e,t){return[Pb].some((n=>n(e,t)))}function Nb({scope:e,transactionData:t}){const n=function(e){const t=new jo(e.meta?.fee?.toString()??"0");return t.dividedBy(ec)}(t),r=function(e){const t=e.transaction.signatures.length;return jo(5e3).dividedBy(ec).multipliedBy(t)}(t),o=n.minus(r),i=[{type:"base",asset:{fungible:!0,type:sc[e].nativeToken.caip19Id,unit:sc[e].nativeToken.symbol,amount:r.toString()}}];return o?.isGreaterThan(0)&&i.push({type:"priority",asset:{fungible:!0,type:sc[e].nativeToken.caip19Id,unit:sc[e].nativeToken.symbol,amount:o.toString()}}),i}function Bb({scope:e,transactionData:t}){const n=Nb({scope:e,transactionData:t}),r=[],o=[],i=new Map(t.meta?.preBalances?.map(((e,t)=>[t,new jo(e.toString())]))??[]),a=new Map(t.meta?.postBalances?.map(((e,t)=>[t,new jo(e.toString())]))??[]),s=[...t.transaction.message.accountKeys,...t.meta?.loadedAddresses?.writable??[],...t.meta?.loadedAddresses?.readonly??[]],c=new Set([...Array.from(i.keys()),...Array.from(a.keys())]);for(const n of c){const c=s[n]?.toString();if(!c)continue;const u=i.get(n)??new jo(0),l=a.get(n)??new jo(0),d=0===n?iv(t.meta?.fee??0):new jo(0),f=u.minus(l).dividedBy(new jo(ec)).minus(d);if(f.isZero())continue;const h=f.absoluteValue().toString();u.isGreaterThan(l)&&r.push({address:c,asset:{fungible:!0,type:sc[e].nativeToken.caip19Id,unit:sc[e].nativeToken.symbol,amount:h}}),u.isLessThan(l)&&o.push({address:c,asset:{fungible:!0,type:sc[e].nativeToken.caip19Id,unit:sc[e].nativeToken.symbol,amount:h}})}const u=function({scope:e,transactionData:t}){const{instructions:n}=t.transaction.message,r=[],o=[],i=t.transaction.message.accountKeys.findIndex((e=>e===cd));if(-1===i)return{from:r,to:o};return n.forEach((n=>{const{accounts:a,data:s,programIdIndex:c}=n;if(c!==i)return;const[u,l]=a;if(void 0===u||void 0===l||u!==l)return;const d=t.transaction.message.accountKeys[u],f=t.transaction.message.accountKeys[l];if(!d||!f||d!==f)return;const h=function(e){let t=BigInt(0);for(let n=4;n<12;n++)t|=BigInt(e[n]??0)<<BigInt(8*(n-4));return jo(t.toString()).dividedBy(ec)}(Dd.decode(s));r.push({address:d,asset:{amount:h.toString(),fungible:!0,type:sc[e].nativeToken.caip19Id,unit:sc[e].nativeToken.symbol}}),o.push({address:f,asset:{amount:h.toString(),fungible:!0,type:sc[e].nativeToken.caip19Id,unit:sc[e].nativeToken.symbol}})})),{from:r,to:o}}({scope:e,transactionData:t});return u.from.length>0&&r.push(...u.from),u.to.length>0&&o.push(...u.to),{fees:n,from:r,to:o}}function zb({scope:e,transactionData:t}){const n=Nb({scope:e,transactionData:t}),r=[...t.transaction.message.accountKeys,...t.meta?.loadedAddresses?.writable??[],...t.meta?.loadedAddresses?.readonly??[]],o=[],i=[],{instructions:a}=t.transaction.message;a.forEach((t=>{const{accounts:n,data:a,programIdIndex:s}=t;if(r[s]!==cd)return;const[c,u]=n;if(void 0===c||void 0===u)return;const l=r[c],d=r[u];if(!l||!d)return;const f=Dd.decode(a),h=function(e){let t=BigInt(0);for(let n=0;n<4;n++)t|=BigInt(e[n]??0)<<BigInt(8*n);return Number(t)}(f);if(2!==h)return;const p=function(e){let t=BigInt(0);for(let n=4;n<12;n++)t|=BigInt(e[n]??0)<<BigInt(8*(n-4));return jo(t.toString()).dividedBy(ec)}(f);o.push({address:l,asset:{amount:p.toString(),fungible:!0,type:sc[e].nativeToken.caip19Id,unit:sc[e].nativeToken.symbol}}),i.push({address:d,asset:{amount:p.toString(),fungible:!0,type:sc[e].nativeToken.caip19Id,unit:sc[e].nativeToken.symbol}})}));return{fees:n,from:Mb(o),to:Mb(i)}}function Mb(e){return e.reduce(((e,t)=>{const n=e.find((e=>!0===e?.asset?.fungible&&!0===t.asset?.fungible&&e.asset.type===t.asset.type&&e.address===t.address));if(n&&!0===n.asset?.fungible&&!0===t.asset?.fungible){const e=new jo(n.asset.amount).plus(t.asset.amount);n.asset.amount=e.toString()}else e.push(t);return e}),[])}function jb({scope:e,transactionData:t}){const n=[],r=[],o=new Map(t.meta?.preTokenBalances?.map((e=>[e.accountIndex,new jo(e.uiTokenAmount.amount)]))??[]),i=new Map(t.meta?.postTokenBalances?.map((e=>[e.accountIndex,new jo(e.uiTokenAmount.amount)]))??[]),a=new Set([...t.meta?.preTokenBalances?.map((e=>e.accountIndex))??[],...t.meta?.postTokenBalances?.map((e=>e.accountIndex))??[]]);for(const s of a){const a=o.get(s)??new jo(0),c=(i.get(s)??new jo(0)).minus(a);if(c.isZero())continue;const u=t.meta?.preTokenBalances?.find((e=>e.accountIndex===s))??t.meta?.postTokenBalances?.find((e=>e.accountIndex===s));if(!u)continue;const{mint:l,uiTokenAmount:{decimals:d},owner:f}=u,h=gy(e,l);if(!f)continue;const p=c.absoluteValue().dividedBy(new jo(10).pow(d)).toString();c.isNegative()&&n.push({address:f,asset:{fungible:!0,type:h,unit:"",amount:p}}),c.isPositive()&&r.push({address:f,asset:{fungible:!0,type:h,unit:"",amount:p}})}const s=function({scope:e,transactionData:t}){const{instructions:n}=t.transaction.message,r=[],o=[],i=t.transaction.message.accountKeys.findIndex((e=>e===bh));if(-1===i)return{from:r,to:o};return n.forEach((n=>{const{accounts:a,data:s,programIdIndex:c}=n;if(c!==i)return;let u,l;if(5===a.length?(u=a[0],l=a[2]):3===a.length&&(u=a[0],l=a[1]),void 0===u||void 0===l||u!==l)return;const d=t.transaction.message.accountKeys[u],f=t.transaction.message.accountKeys[l];if(!d||!f||d!==f)return;const h=function(e){let t=BigInt(0);for(let n=1;n<9;n++)t|=BigInt(e[n]??0)<<BigInt(8*(n-1));return jo(t.toString()).dividedBy(1e6)}(Dd.decode(s)),p=t.meta?.preTokenBalances?.find((e=>e.accountIndex===u))?.mint,g=t.meta?.preTokenBalances?.find((e=>e.accountIndex===u))?.owner;if(!p||!g)return;const m=gy(e,p);r.push({address:g,asset:{amount:h.toString(),fungible:!0,type:m,unit:""}}),o.push({address:g,asset:{amount:h.toString(),fungible:!0,type:m,unit:""}})})),{from:r,to:o}}({scope:e,transactionData:t});return s.from.length>0&&n.push(...s.from),s.to.length>0&&r.push(...s.to),{from:n,to:r}}function Ub({transactionData:e,account:t,scope:n}){try{const{blockTime:r}=e,{id:o,address:i}=t,a=e.transaction.signatures[0];if(!a)throw new Error("Transaction ID is required");const s=Number(r),c=function(e){const t=e.meta?.err||e.meta?.status&&"Err"in e.meta.status,n=t?kt.Failed:kt.Confirmed;return n}(e);let u=[],l=[],d=[];const f=(c===kt.Failed?zb:Bb)({scope:n,transactionData:e});u=f.fees,l=f.from,d=f.to;const{from:h,to:p}=jb({scope:n,transactionData:e});let g=[...h,...l],m=[...p,...d];const y=function({address:e,status:t,from:n,to:r}){if(0===n.length||0===r.length||t===kt.Failed)return It.Unknown;const o=n.filter((t=>t.address===e)),i=r.filter((t=>t.address===e)),a=o.length>0,s=i.length>0,c=n.every((t=>r.some((n=>n.address===e&&!0===t.asset?.fungible&&!0===n.asset?.fungible&&t.asset.type===n.asset.type)))),u=r.every((t=>n.some((n=>n.address===e&&!0===n.asset?.fungible&&!0===t.asset?.fungible&&n.asset.type===t.asset.type))));if(c&&u)return It.Send;if(a&&s)return It.Swap;if(a)return It.Send;return It.Receive}({address:zs(i),status:c,from:g,to:m});return y===It.Swap&&(g=g.filter((e=>e.address===i)),m=m.filter((e=>e.address===i))),y===It.Receive&&(m=m.filter((e=>e.address===i)),u=[]),{id:a,account:o,timestamp:s,chain:n,status:c,type:y,from:g,to:m,fees:u,events:[{status:c,timestamp:s}]}}catch(e){return Cd.warn(e,"Error mapping transaction"),null}}class Db{#f;#k;#i;#I=3e4;#_=10000n;constructor(e,t,n){this.#f=e,this.#k=t,this.#i=n}async buildTransactionMessage(e){this.#i.log("Build transfer SPL token transaction message");const{from:t,to:n,mint:r,amount:o,network:i}=e;ti(r,"Mint is required");const{privateKeyBytes:a}=await Nm({entropySource:t.entropySource,derivationPath:t.derivationPath}),s=await Zl(a),c=await this.getTokenAccount({mint:r,network:i});Db.assertAccountExists(c);const u=c.programAddress,l=function(e,t){const n=new jo(e.toString());if(n.isNegative())throw new Error("Token amount cannot be negative");const r=n.times(10**t).integerValue(jo.ROUND_DOWN);return BigInt(r.toString())}(o,this.getDecimals(c)),[d,f]=await Promise.all([Db.deriveAssociatedTokenAccountAddress({mint:r,owner:s.address,tokenProgram:u}),Db.deriveAssociatedTokenAccountAddress({mint:r,owner:n,tokenProgram:u})]),h=await this.#k.getLatestBlockhash(i),p=$u(Al({version:0}),(e=>Il(s.address,e)),(e=>qu(h,e)),(e=>Cl([jh({mint:r,payer:s,tokenProgram:u,owner:n,ata:f}),rp({source:d,destination:f,authority:s,amount:l},{programAddress:u})],e)));return Rl([Qf({units:this.#I}),rh({microLamports:this.#_})],p)}static async deriveAssociatedTokenAccountAddress({mint:e,owner:t,tokenProgram:n}){return(await Bh({mint:e,owner:t,tokenProgram:n}))[0]}async getTokenAccount({mint:e,network:t}){const n=this.#f.getRpc(t),r=await async function(e,t,n={}){const{abortSignal:r,...o}=n,{value:i}=await e.getAccountInfo(t,{...o,encoding:"jsonParsed"}).send({abortSignal:r});return i&&"object"==typeof i&&"parsed"in i.data?im(t,i):om(t,i)}(n,e);return r}getDecimals(e){Db.assertAccountExists(e),Db.assertAccountDecoded(e);const{decimals:t}=e.data;if(!t)throw new Error(`Decimals not found for ${e}`);return t}static isAccountExists(e){return e.exists}static assertAccountExists(e){if(!Db.isAccountExists(e))throw new Error("Token account does not exist")}static assertAccountNotExists(e){if(Db.isAccountExists(e))throw new Error("Token account exists")}static isAccountDecoded(e){return Db.assertAccountExists(e),!(e.data instanceof Uint8Array)}static assertAccountDecoded(e){if(Db.assertAccountExists(e),!Db.isAccountDecoded(e))throw new Error("Token account is encoded. Implement a decoder.")}getComputeUnitLimit(){return this.#I}getComputeUnitPriceMicroLamportsPerComputeUnit(){return this.#_}}const Lb=new ey,$b=new class{#i;#C="[⚡ EventEmitter]";#R=new Map;constructor(e){this.#i=e}on(e,t){this.#i.info(this.#C,`Adding listener for event ${e}`),this.#R.has(e)||this.#R.set(e,new Set),this.#R.get(e)?.add(t)}off(e,t){this.#i.info(this.#C,`Removing listener for event ${e}`);const n=this.#R.get(e);n&&(n.delete(t),0===n.size&&this.#R.delete(e))}async emitSync(e,t){this.#i.info(this.#C,`Emitting event ${e}`);const n=this.#R.get(e);if(n){const e=Array.from(n).map((async e=>await e(t)));await Promise.allSettled(e)}}removeAllListeners(e){e?(this.#i.info(this.#C,`Removing all listeners for event ${e}`),this.#R.delete(e)):(this.#i.info(this.#C,"Removing all listeners for all events"),this.#R.clear())}listenerCount(e){const t=this.#R.get(e);return t?t.size:0}eventNames(){return Array.from(this.#R.keys())}}(Cd),Fb=new class{#g;constructor(e){this.#g=e}async get(){const e=await snap.request({method:"snap_getState",params:{encrypted:this.#g.encrypted}}),t=Bm(e??{});var n,r;return n=this.#g.defaultState,r=t,{...n,...Object.fromEntries(Object.entries(r).filter((([e,t])=>null!=t&&(!t||"object"!=typeof t||Object.keys(t).length>0))))}}async getKey(e){const t=await snap.request({method:"snap_getState",params:{key:e,encrypted:this.#g.encrypted}});if(null!==t)return Bm(t)}async setKey(e,t){await snap.request({method:"snap_setState",params:{key:e,value:zm(t),encrypted:this.#g.encrypted}})}async update(e){return this.get().then((async t=>{const n=e(t);return await snap.request({method:"snap_manageState",params:{operation:"update",newState:zm(n),encrypted:this.#g.encrypted}}),n}))}async deleteKey(e){await this.update((t=>((0,ni.unset)(t,e),t)))}}({encrypted:!1,defaultState:{keyringAccounts:{},mapInterfaceNameToId:{},transactions:{},signatures:{},assets:{},tokenPrices:{},subscriptions:{}}}),qb=new class{#w;prefix;logger;constructor(e,t=console,n="__cache__default"){this.#w=e,this.logger=t,this.prefix=n}async get(e){return(await this.mget([e]))[e]}async set(e,t,n=Number.MAX_SAFE_INTEGER){this.#P(n),await this.#w.setKey(`${this.prefix}.${e}`,{value:t,expiresAt:Math.min(Date.now()+(n??Number.MAX_SAFE_INTEGER),Number.MAX_SAFE_INTEGER)})}#P(e){if(void 0!==e){if("number"!=typeof e)throw new Error("TTL must be a number");if(e<0)throw new Error("TTL must be positive");if(e>Number.MAX_SAFE_INTEGER)throw new Error("TTL must be less than 2^53 - 1")}}async delete(e){return(await this.mdelete([e]))[e]??!1}async clear(){await this.#w.setKey(this.prefix,{})}async has(e){return void 0!==await this.get(e)}async keys(){const e=await this.#w.getKey(this.prefix);return Object.keys(e??{})}async size(){const e=await this.#w.getKey(this.prefix);return Object.keys(e??{}).length}async peek(e){const t=await this.#w.getKey(this.prefix),n=t?.[e];return n?.value}async mget(e){const t=await this.#w.getKey(this.prefix),n=Object.entries(t??{}).filter((([t])=>e.includes(t))),r=n.filter((([e,t])=>t&&t.expiresAt<Date.now()));return await this.mdelete(r.map((([e])=>e))),n.reduce(((e,[t,n])=>void 0===n?(this.logger.info(`[StateCache] ❌ Cache miss for key "${t}"`),e):(n.expiresAt<Date.now()?(this.logger.info(`[StateCache] ⌛ Cache expired for key "${t}"`),e[t]=void 0):(this.logger.info(`[StateCache] 🎉 Cache hit for key "${t}"`),e[t]=n.value),e)),{})}async mset(e){if(0!==e.length)if(1!==e.length)e.forEach((({ttlMilliseconds:e})=>{this.#P(e)})),await this.#w.update((t=>{const n=t[this.prefix]??{};return e.forEach((({key:e,value:t,ttlMilliseconds:r})=>{void 0!==t&&(n[e]={value:t,expiresAt:Math.min(Date.now()+(r??Number.MAX_SAFE_INTEGER),Number.MAX_SAFE_INTEGER)})})),t[this.prefix]=n,t}));else{ti(e[0]);const{key:t,value:n,ttlMilliseconds:r}=e[0];await this.set(t,n,r)}}async mdelete(e){const t={};return await this.#w.update((n=>{const r=n[this.prefix]??{};return e.forEach((e=>{void 0===r[e]?t[e]=!1:(delete r[e],t[e]=!0)})),n[this.prefix]=r,n})),t}}(Fb,Cd),Wb=new class{#c=new Map;logger;constructor(e){this.logger=e}#P(e){if(void 0!==e){if("number"!=typeof e)throw new Error("TTL must be a number");if(e<0)throw new Error("TTL must be positive");if(e>Number.MAX_SAFE_INTEGER)throw new Error("TTL must be less than 2^53 - 1")}}#O(e){return e.expiresAt<Date.now()}async#N(){const e=[];for(const[t,n]of this.#c.entries())this.#O(n)&&e.push(t);await this.mdelete(e)}async get(e){return(await this.mget([e]))[e]}async set(e,t,n=Number.MAX_SAFE_INTEGER){this.#P(n),this.#c.set(e,{value:t,expiresAt:Math.min(Date.now()+(n??Number.MAX_SAFE_INTEGER),Number.MAX_SAFE_INTEGER)})}async delete(e){return(await this.mdelete([e]))[e]??!1}async clear(){this.#c.clear()}async has(e){const t=this.#c.get(e);return!!t&&(!this.#O(t)||(this.#c.delete(e),!1))}async keys(){return await this.#N(),Array.from(this.#c.keys())}async size(){return await this.#N(),this.#c.size}async peek(e){const t=this.#c.get(e);if(t){if(!this.#O(t))return t.value;this.#c.delete(e)}}async mget(e){await this.#N();const t={};for(const n of e){const e=this.#c.get(n);e?(this.logger.info(`[InMemoryCache] 🎉 Cache hit for key "${n}"`),t[n]=e.value):(this.logger.info(`[InMemoryCache] ❌ Cache miss for key "${n}"`),t[n]=void 0)}return t}async mset(e){if(0!==e.length)if(1!==e.length)e.forEach((({ttlMilliseconds:e})=>{this.#P(e)})),e.forEach((({key:e,value:t,ttlMilliseconds:n})=>{void 0!==t&&this.#c.set(e,{value:t,expiresAt:Math.min(Date.now()+(n??Number.MAX_SAFE_INTEGER),Number.MAX_SAFE_INTEGER)})}));else{ti(e[0]);const{key:t,value:n,ttlMilliseconds:r}=e[0];await this.set(t,n,r)}}async mdelete(e){return Object.fromEntries(e.map((e=>[e,this.#c.delete(e)])))}}(Cd),Vb=new class{#v;#B=new Map;constructor(e){this.#v=e}#z(e){const t=this.#v.getNetworkBy("caip2Id",e);var n;const r=fw($u(t.rpcUrls,(n=pw,e=>e.map(n)),gw,yw));return this.#B.set(e,r),r}getRpc(e){return z(e,yc),this.#B.get(e)??this.#z(e)}}(Lb),Kb=new class{#v;constructor(e){this.#v=e}async getAll(){return(await snap.request({method:"snap_getWebSockets"})).map((e=>({...e,network:this.#M(e.url)})))}async getById(e){return(await this.getAll()).find((t=>t.id===e))??null}async findByNetwork(e){return(await this.getAll()).find((t=>t.network===e))??null}async save(e){const{url:t,protocols:n}=e,r=await snap.request({method:"snap_openWebSocket",params:{url:t,...n?{protocols:n}:{}}});return{...e,id:r}}async delete(e){await snap.request({method:"snap_closeWebSocket",params:{id:e}})}#M(e){const t=this.#v.getNetworkBy("webSocketUrl",e);if(!t)throw new Error(`No network found for WebSocket URL: ${e}`);return t.caip2Id}}(Lb),Gb=new class{#v;#j;#i;#C="[🔌 WebSocketConnectionService]";#U;#D;#L=new Map;constructor(e,t,n,r){const{maxReconnectAttempts:o,reconnectDelayMilliseconds:i}=t.get().subscription;this.#j=e,this.#v=t,this.#i=r,this.#U=o,this.#D=i,n.on("onStart",this.setupAllConnections.bind(this)),n.on("onUpdate",this.setupAllConnections.bind(this)),n.on("onInstall",this.setupAllConnections.bind(this)),n.on("onWebSocketEvent",this.#$.bind(this)),n.on("onTestSetupAllConnections",this.setupAllConnections.bind(this)),n.on("onTestCloseAllConnections",this.#F.bind(this))}async setupAllConnections(){this.#i.info(this.#C,"Setting up all connections");const{activeNetworks:e}=this.#v.get(),t=(0,ni.difference)(Object.values(nc),e),n=await this.#j.getAll(),r=e=>n.some((t=>t.network===e)),o=e.filter((e=>!r(e))).map((async e=>this.openConnection(e))),i=t.filter(r).map((async e=>this.#q(e)));await Promise.allSettled([...o,...i])}async openConnection(e){this.#i.info(this.#C,`Opening connection for network ${e}`);const t=this.#v.getNetworkBy("caip2Id",e),{webSocketUrl:n}=t,r=await this.#j.findByNetwork(e);if(r)return this.#i.info(this.#C,`Connection for network ${e} already exists`,r),r;let o=0;for(;o<this.#U;)try{this.#i.info(this.#C,`Opening connection for network ${e} to ${n} (attempt ${o+1}/${this.#U})`);return await this.#j.save({network:e,url:n,protocols:[]})}catch(e){if(o+=1,o>=this.#U)throw this.#i.error(this.#C,"Failed to open connection after all retry attempts:",e),e;const t=this.#D*Math.pow(2,o-1);this.#i.info(this.#C,`Connection attempt ${o} failed, retrying in ${t}ms:`,e),await new Promise((e=>setTimeout(e,t)))}throw new Error("Unexpected end of openConnection method")}async#q(e){this.#i.info(this.#C,`Closing connection for network ${e}`),this.#L.delete(e);const t=await this.#j.findByNetwork(e);if(!t)return void this.#i.warn(this.#C,`Tried to close connection for network ${e} but no connection was found`);const n=t.id;try{await this.#j.delete(n),this.#i.info(this.#C,` ❌ Closed connection ${n}`)}catch(e){this.#i.error(this.#C,"Failed to close connection:",e)}}onConnectionRecovery(e,t){const n=this.#L.get(e)??[];this.#L.set(e,[...n,t])}async getConnectionIdByNetwork(e){const t=await this.#j.findByNetwork(e);return t?.id??null}async#$(e){if("open"!==e.type&&"close"!==e.type)return;const{id:t,type:n}=e,r=await this.#j.getById(t);if(!r)return void this.#i.warn(this.#C,`No connection found with id: ${t}`,e);const{network:o}=r;switch(this.#i.info(this.#C,`Handling connection event: ${n} for ${t}`),n){case"open":await this.#W(o);break;case"close":await this.#V(o);break;default:this.#i.warn(this.#C,`Unknown connection event type: ${n}`)}}async#W(e){this.#i.info(this.#C,"✅ Connected to",e),this.#i.info(this.#C,"Triggering connection recovery callbacks",e);const t=this.#L.get(e)?.map((async e=>{try{await e()}catch(e){this.#i.error(this.#C,"Error in connection recovery callback:",e)}}))??[];await Promise.allSettled(t)}async#V(e){await this.openConnection(e)}async#F(){this.#i.info(this.#C,"Closing all connections");const e=Object.values(nc).map((async e=>{await this.#q(e)}));await Promise.allSettled(e)}}(Kb,Lb,$b,Cd),Hb=new class{#w;#K="subscriptions";constructor(e){this.#w=e}async getAll(){const e=await this.#w.getKey(`${this.#K}`);return Object.values(e??{})}async getById(e){return await this.#w.getKey(`${this.#K}.${e}`)}async save(e){await this.#w.setKey(`${this.#K}.${e.id}`,e)}async delete(e){await this.#w.deleteKey(`${this.#K}.${e}`)}async deleteAll(){await this.#w.deleteKey(`${this.#K}`)}async update(e){await this.#w.setKey(`${this.#K}.${e.id}`,e)}async findBy(e,t){const n=await this.getAll();if(0!==n.length)return n.find((n=>e in n&&n[e]===t))}async clear(){await this.#w.deleteKey(`${this.#K}`)}}(Fb),Jb=new class{#G;#H;#i;loggerPrefix="[🔔 SubscriptionService]";#J=new Map;constructor(e,t,n,r){this.#G=e,this.#H=t,this.#i=r,n.on("onStart",this.#Z.bind(this)),n.on("onWebSocketEvent",this.#$.bind(this)),n.on("onTestSubscribeToAccount",this.#Y.bind(this)),n.on("onTestUnsubscribeFromAccount",this.#X.bind(this))}async subscribe(e,t){this.#i.info(this.loggerPrefix,"New subscription request",e,t);const{method:n,params:r,network:o}=e,{onConnectionRecovery:i}=t,a=this.#Q(),s={...e,id:a,status:"pending",requestId:a,createdAt:(new Date).toISOString()};await this.#H.save(s),this.#J.set(a,t),i&&this.#G.onConnectionRecovery(o,i);const c=await this.#G.getConnectionIdByNetwork(o),u=async e=>{const t={jsonrpc:"2.0",id:a,method:n,params:r};e&&await this.#ee(e,t)};return this.#G.onConnectionRecovery(o,(async()=>{const e=await this.#G.getConnectionIdByNetwork(o);e&&await u(e)})),c?await u(c):(this.#i.info(this.loggerPrefix,`No connection found for network ${o}, opening a new one`),await this.#G.openConnection(o)),s.id}async unsubscribe(e){this.#i.info(this.loggerPrefix,"Unsubscribing",e);const t=await this.#H.getById(e);if(!t)return void this.#i.warn(this.loggerPrefix,`Subscription not found: ${e}`);const{id:n,network:r,unsubscribeMethod:o}=t;if("confirmed"===t.status){const e=await this.#G.getConnectionIdByNetwork(r);e&&await this.#ee(e,{jsonrpc:"2.0",id:this.#Q(),method:o,params:[t.rpcSubscriptionId]})}await this.#H.delete(n)}async#$(e){if("message"===e.type){this.#i.info(this.loggerPrefix,"Received message",e);try{const{data:t}=e;let n;if(t&&"object"==typeof t&&"type"in t)if("text"===t.type)n="string"==typeof t.message?JSON.parse(t.message):t.message;else{if("binary"!==t.type)return void this.#i.warn(this.loggerPrefix,"Unknown message data",t);{const e=t.message,r=String.fromCharCode(...e);n=JSON.parse(r)}}else n="string"==typeof t?JSON.parse(t):t;this.#te(n)?await this.#ne(n):this.#re(n)?await this.#oe(n):(j(n,Ef)||"error"in n)&&await this.#ie(n)}catch(e){this.#i.error(this.loggerPrefix,"Failed to handle message",e)}}}async#ee(e,t){this.#i.info(this.loggerPrefix,`Sending message to connection ${e}`,t),await snap.request({method:"snap_sendWebSocketMessage",params:{id:e,message:JSON.stringify(t)}})}#te(e){return"method"in e&&void 0!==e.method&&"params"in e}#re(e){return"jsonrpc"in e&&"2.0"===e.jsonrpc&&"id"in e&&"result"in e}async#ne(e){const{subscription:t,result:n}=e.params,r=await this.#H.findBy("rpcSubscriptionId",t);if(r)try{const e=this.#J.get(r.id);if(!e)return void this.#i.warn(this.loggerPrefix,`Received a notification, but no matching callbacks found for subscription ID: ${r.id}.`);await e.onNotification(n)}catch(e){this.#i.error(this.loggerPrefix,`Error in subscription callback for ${t}:`,e)}else this.#i.warn(this.loggerPrefix,`Received a notification, but no matching confirmed subscription found for RPC subscription ID: ${t}.`)}async#oe(e){const{id:t,result:n}=e,r=await this.#H.getById(String(t));r?"confirmed"!==r.status?(await this.#H.update({...r,status:"confirmed",rpcSubscriptionId:n,confirmedAt:(new Date).toISOString()}),this.#i.info(this.loggerPrefix,`Subscription confirmed: request ID: ${t} -> RPC ID: ${n}`)):this.#i.warn(this.loggerPrefix,`Received subscription confirmation, but the subscription is already confirmed for request ID: ${t}.`):this.#i.warn(this.loggerPrefix,`Received subscription confirmation, but no matching pending subscription found for subscription ID: ${t}.`)}async#ie(e){if("id"in e&&void 0!==e.id){const t=await this.#H.getById(String(e.id));if("pending"===t?.status){await this.#H.delete(t.id),this.#i.error(this.loggerPrefix,`Subscription establishment failed for ${t.id}:`,e.error);const n=this.#J.get(t.id);if(n?.onSubscriptionFailed)try{await n.onSubscriptionFailed(e.error)}catch(e){this.#i.error("Error in subscription error callback:",e)}}else this.#i.error(this.loggerPrefix,`Received error for request ID: ${e.id}`,e.error)}else this.#i.error(this.loggerPrefix,"Connection-level error:",e.error)}async#Z(){this.#i.info(this.loggerPrefix,"Clearing subscriptions"),await this.#H.deleteAll()}#Q(){return globalThis.crypto.randomUUID()}async#Y(){const e={method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe",network:nc.Mainnet,params:["8A4AptCThfbuknsbteHgGKXczfJpfjuVA9SLTSGaaLGC",{commitment:"confirmed"}]};this.#i.info(this.loggerPrefix,"Testing subscription",e);const t={onNotification:async e=>{this.#i.info(this.loggerPrefix,"onNotification",e)},onSubscriptionFailed:async e=>{this.#i.info(this.loggerPrefix,"onSubscriptionFailed",e)},onConnectionRecovery:async()=>{this.#i.info(this.loggerPrefix,"onConnectionRecovery")}};await this.subscribe(e,t)}async#X(){const e=(await this.#H.getAll()).find((e=>"accountSubscribe"===e.method&&"8A4AptCThfbuknsbteHgGKXczfJpfjuVA9SLTSGaaLGC"===(0,ni.get)(e,"params[0]")));e&&await this.unsubscribe(e.id)}}(Gb,Hb,$b,Cd),Zb=new class{#ae;#f;#i;#C="[✍️ SignatureMonitor]";constructor(e,t,n){this.#ae=e,this.#f=t,this.#i=n}async monitor(e){this.#i.info(this.#C,"Monitoring signature",e);const{network:t,signature:n,commitment:r}=e;await this.#ae.subscribe({method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe",network:t,params:[n,{commitment:r,enableReceivedNotification:!1}]},{onNotification:async t=>{await this.#ne(e)},onConnectionRecovery:async()=>{await this.#se(e)}})}async#ne(e){const{signature:t,commitment:n,onCommitmentReached:r}=e;this.#i.info(this.#C,`🎉 Signature ${t} reached commitment "${n}"`);try{await r(e)}catch(e){this.#i.warn(this.#C,"⚠️ Error calling onCommitmentReached callback",e)}}async#se(e){const{signature:t,network:n}=e;await this.#ce(t,n)?await this.#ne(e):this.#i.warn(this.#C,`⚠️ Signature ${t} not found via HTTP fetch during connection recovery`)}async#ce(e,t){try{const n=await this.#f.getRpc(t).getSignatureStatuses([tu(e)],{searchTransactionHistory:!0}).send(),r=n.value[0]?.confirmationStatus;return r?(this.#i.info(this.#C,`✅ Signature ${e} found via HTTP fetch during connection recovery with confirmation status ${r}`),r):void this.#i.warn(this.#C,`⚠️ Signature ${e} not found via HTTP fetch during connection recovery`)}catch(t){return void this.#i.warn(this.#C,`⚠️ Could not fetch confirmation status for signature ${e}`,t)}}}(Jb,Vb,Cd),Yb=new Ew(Vb,Cd),Xb=new class{#f;#i;#I=450;#_=10000n;constructor(e,t){this.#f=e,this.#i=t}async buildTransactionMessage(e){try{const{from:t,to:n,amount:r,network:o}=e,i=zs(t.address),a=BigInt(av(r).toString()),s=(await this.#f.getRpc(o).getLatestBlockhash().send()).value,c=$u(Al({version:0}),(e=>Il(i,e)),(e=>qu(s,e)),(e=>_l(function(e,t){const n=t?.programAddress??cd,r={source:{value:e.source??null,isWritable:!0},destination:{value:e.destination??null,isWritable:!0}},o={...e},i=fd(n);return{accounts:[i(r.source),i(r.destination)],programAddress:n,data:xd().encode(o)}}({amount:a,destination:n,source:Yl(i)}),e)));return Rl([Qf({units:this.#I}),rh({microLamports:this.#_})],c)}catch(e){throw this.#i.error({error:e},"Error building transaction message"),e}}getComputeUnitLimit(){return this.#I}getComputeUnitPriceMicroLamportsPerComputeUnit(){return this.#_}}(Vb,Cd),Qb=new Db(Vb,Yb,Cd),eS=new Wd(Lb),tS=new jd(Lb,Wb),nS=new class{#ue;#i;constructor({tokenMetadataClient:e,logger:t}){this.#ue=e,this.#i=t}async getTokensMetadata(e){if(0===e.length)return this.#i.warn(`No tokens to get metadata for ${e.join(", ")}`),{};return await this.#ue.getTokenMetadataFromAddresses(e)}async generateImageComponent(e,t=48,n=48){return e?async function(e,{width:t,height:n=t,request:r}){ZA("number"==typeof t&&t>0,"Expected width to be a number greater than 0."),ZA("number"==typeof n&&n>0,"Expected height to be a number greater than 0.");const o=await kb(e,r),i=`width="${t}" height="${n}"`;return Tb(`<svg ${i.trim()} xmlns="http://www.w3.org/2000/svg"><image ${i.trim()} href="${o}" /></svg>`)}(e,{width:t,height:n}).then((e=>e.value)).catch((()=>Ib)):Ib}}({tokenMetadataClient:eS,logger:Cd}),rS=new class{#le;#i;constructor(e,t=Cd){this.#le=e,this.#i=t}#de(e){if(!_b(e))throw new Error("Passed caipAssetType is not a fiat asset");return Xo(e).assetReference.toLowerCase()}async#fe(e){const t=e.filter((e=>!_b(e))),[n,r]=await Promise.all([this.#le.getFiatExchangeRates(),this.#le.getMultipleSpotPrices(t,"usd")]);return{fiatExchangeRates:n,cryptoPrices:r}}async getMultipleTokenConversions(e){if(0===e.length)return{};const t=e.flatMap((e=>[e.from,e.to])),{fiatExchangeRates:n,cryptoPrices:r}=await this.#fe(t),o={};return e.forEach((e=>{const{from:t,to:i}=e;let a,s;if(o[t]||(o[t]={}),_b(t)){const e=n[this.#de(t)]?.value;if(!e)return void(o[t][i]=null);a=new jo(1).dividedBy(e)}else a=new jo(r[t]?.price??0);if(_b(i)){const e=n[this.#de(i)]?.value;if(!e)return void(o[t][i]=null);s=new jo(1).dividedBy(e)}else s=new jo(r[i]?.price??0);if(a.isZero()||s.isZero())return void(o[t][i]=null);const c=a.dividedBy(s).toString(),u=Date.now();o[t][i]={rate:c,conversionTime:u,expirationTime:u+jd.cacheTtlsMilliseconds.historicalPrices}})),o}#he(e,t){const n=(0,ni.pick)(e,["marketCap","totalVolume","circulatingSupply","allTimeHigh","allTimeLow","pricePercentChange1h","pricePercentChange1d","pricePercentChange7d","pricePercentChange14d","pricePercentChange30d","pricePercentChange200d","pricePercentChange1y"]),r=e=>null==e?"":new jo(e).dividedBy(t).toString(),o=(e,t)=>null==t?{}:{[e]:t},i={...o("PT1H",n.pricePercentChange1h),...o("P1D",n.pricePercentChange1d),...o("P7D",n.pricePercentChange7d),...o("P14D",n.pricePercentChange14d),...o("P30D",n.pricePercentChange30d),...o("P200D",n.pricePercentChange200d),...o("P1Y",n.pricePercentChange1y)};return{fungible:!0,marketCap:r(n.marketCap),totalVolume:r(n.totalVolume),circulatingSupply:(n.circulatingSupply??0).toString(),allTimeHigh:r(n.allTimeHigh),allTimeLow:r(n.allTimeLow),...Object.keys(i).length>0?{pricePercentChange:i}:{}}}async getMultipleTokensMarketData(e){if(0===e.length)return{};const t=e.flatMap((e=>[e.asset,e.unit])),{fiatExchangeRates:n,cryptoPrices:r}=await this.#fe(t),o={};return e.forEach((e=>{const{asset:t,unit:i}=e;if(!r[t])return;let a;if(_b(i)){const e=n[this.#de(i)]?.value;if(!e)return;a=new jo(1).dividedBy(e)}else a=new jo(r[i]?.price??0);a.isZero()||(o[t]||(o[t]={}),o[t][i]=this.#he(r[t],a))})),o}async getHistoricalPrice(e,t){z(e,it),z(t,it);const n=Xo(t).assetReference.toLowerCase();z(n,Nd);const r=["1d","7d","1m","3m","1y","1000y"].map((async r=>this.#le.getHistoricalPrices({assetType:e,timePeriod:r,vsCurrency:n}).then((e=>({timePeriod:r,response:e}))).catch((n=>(this.#i.warn(`Error fetching historical prices for ${e} to ${t} with time period ${r}. Returning null object.`,n),{timePeriod:r,response:Md}))))),o=(await Promise.all(r)).reduce(((e,{timePeriod:t,response:n})=>(e[`P${t.toUpperCase()}`]=n.prices.map((e=>[e[0],e[1].toString()])),e)),{}),i=Date.now();return{intervals:o,updateTime:i,expirationTime:i+jd.cacheTtlsMilliseconds.historicalPrices}}}(tS),oS=new class{#f;constructor(e){this.#f=e}async resolveDomain(e,t){const n=this.#f.getRpc(e);return KA(n,t)}async resolveAddress(e,t){const n=this.#f.getRpc(e);return(await(async(e,t)=>{const n=await hA.getAddress("85iDfUvr3HJyLM2zcq5BXSiDvUWfw6cSE1FfNBo8Ap29",t),r=await hA.retrieve(e,n),[o,i]=await Promise.all([rA.retrieve(e,r.nameAccount),fA(e,r.nameAccount)]),a=i||o.owner,s=o.parentName!==oA,c=[pA(e,r.nameAccount,s?o.parentName:void 0)];s&&c.push(pA(e,o.parentName));const u=(await Promise.all(c)).join(".");return{domainAddress:r.nameAccount,domainName:u,stale:t!==a}})(n,zs(t))).domainAddress}}(Vb),iS=new my({connection:Vb,logger:Cd,configProvider:Lb,state:Fb,tokenMetadataService:nS,cache:Wb,tokenPricesService:rS}),aS=new class{#f;#i;#A;#w;#v;constructor({logger:e,connection:t,tokenMetadataService:n,state:r,configProvider:o}){this.#f=t,this.#A=n,this.#i=e,this.#w=r,this.#v=o}async fetchLatestAccountTransactions(e,t){const n=this.#v.get().activeNetworks,r=(await Promise.all(n.map((async n=>this.#pe(e,n,{limit:t}))))).flatMap((({data:e})=>e)).sort(((e,t)=>(t.timestamp??0)-(e.timestamp??0)));return r}async#pe(e,t,n){const{address:r}=e,o=zs(r),i=(await this.#f.getRpc(t).getSignaturesForAddress(o,n.next?{limit:n.limit,before:n.next}:{limit:n.limit}).send()).map((({signature:e})=>e)),a=await this.#w.getKey(`signatures.${r}`)??[];await this.#w.setKey(`signatures.${r}`,[...new Set([...a,...i])]);const s=(await this.getTransactionsDataFromSignatures({scope:t,signatures:i})).filter((e=>null!==e)).map((n=>Ub({transactionData:n,account:e,scope:t}))).filter((e=>null!==e)).filter((t=>!Ob(t,e))),c=await this.#ge({[r]:s}),u=i.length===n.limit?i[i.length-1]??null:null;return{data:c[r]??[],next:u}}async fetchLatestSignatures(e,t,n){this.#i.log(`[TransactionsService.fetchAllSignatures] Fetching all signatures for ${t} on ${e}`);const r=(await this.#f.getRpc(e).getSignaturesForAddress(t,{limit:n}).send()).map((({signature:e})=>e)),o=await this.#w.getKey(`signatures.${t}`)??[];return await this.#w.setKey(`signatures.${t}`,[...new Set([...o,...r])]),r}async getTransactionsDataFromSignatures({scope:e,signatures:t}){return await Promise.all(t.map((async t=>this.#f.getRpc(e).getTransaction(t,{maxSupportedTransactionVersion:0}).send())))}async fetchBySignature(e,t,n){const r=await this.#f.getRpc(n).getTransaction(tu(e),{maxSupportedTransactionVersion:0}).send();return r?Ub({transactionData:r,scope:n,account:t}):null}async saveTransaction(e,t){const{id:n,address:r}=t,{id:o}=e;await Promise.all([(async()=>{const t=await this.#w.getKey(`transactions.${n}`)??[],r=t.findIndex((e=>e.id===o));-1!==r&&(t[r]=e);const i=(0,ni.uniqBy)([...t,e],"id");await this.#w.setKey(`transactions.${n}`,i)})(),(async()=>{const e=await this.#w.getKey(`signatures.${r}`)??[];if(e.map((e=>e.toString())).includes(o.toString()))return;const t=(0,ni.uniq)([...e,o]);await this.#w.setKey(`signatures.${r}`,t)})()])}async refreshTransactions(e){try{if(this.#i.log(`[TransactionsService] Refreshing transactions for ${e.length} accounts`),!e.length)return void this.#i.log("[TransactionsService] No accounts found");const t=this.#v.get().activeNetworks,n=await this.#w.getKey("transactions")??{},r=this.#me(n),o=await this.#ye({scopes:t,accounts:e,existingSignatures:r}),i=await this.#ve({scopes:t,accounts:e,newSignaturesMapping:o}),a=await this.#ge(i);await vn(snap,gn.AccountTransactionsUpdated,{transactions:a});const s=this.#we({accounts:e,previousTransactionsByAccount:n,newTransactionsByAccount:i});await this.#w.setKey("transactions",s)}catch(e){this.#i.error("[TransactionsService] Error. Releasing lock...",e)}}#me(e){return new Set(Object.values(e??{}).flat().map((e=>e.id)))}async#ye({scopes:e=[nc.Mainnet,nc.Devnet],accounts:t,existingSignatures:n}){const r={byNetwork:new Map(e.map((e=>[e,new Set]))),byAccountAndNetwork:new Map(t.map((t=>[t.id,new Map(e.map((e=>[e,new Set])))])))};for(const o of t)for(const t of e){this.#i.log(`[TransactionsService] Fetching signatures for ${o.address} on ${t}...`);const e=await this.fetchLatestSignatures(t,zs(o.address),this.#v.get().transactions.storageLimit),i=e.filter((e=>!n.has(e)));if(!i.length){this.#i.log(`[TransactionsService] Found 0 new signatures out of ${e.length} total for address ${o.address} on network ${t}`);continue}const a=r.byNetwork.get(t),s=r.byAccountAndNetwork.get(o.id).get(t);i.forEach((e=>{a.add(e),s.add(e)})),this.#i.info(`[TransactionsService] Found ${i.length} new signatures (${e.length} total) for ${o.address} on ${t}`)}return r}async#ve({scopes:e=[nc.Mainnet,nc.Devnet],accounts:t,newSignaturesMapping:n}){const r={};for(const o of e){const e=n.byNetwork.get(o);if(!e.size)continue;const i=Array.from(e),a=await this.getTransactionsDataFromSignatures({scope:o,signatures:i});for(const e of t){r[e.id]||(r[e.id]=[]);const t=n.byAccountAndNetwork.get(e.id).get(o),i=a.filter((e=>null!==e)).filter((e=>{const n=e?.transaction?.signatures[0];return n&&t.has(n)})).map((t=>Ub({transactionData:t,account:e,scope:o}))).filter((e=>null!==e)).filter((t=>!Ob(t,e)));r[e.id]?.push(...i)}}return r}#we({accounts:e,previousTransactionsByAccount:t,newTransactionsByAccount:n}){return Object.fromEntries(e.map((e=>[e.id,[...t[e.id]??[],...n[e.id]??[]].sort(((e,t)=>(e.timestamp??0)-(t.timestamp??0))).slice(0,this.#v.get().transactions.storageLimit)])))}async#ge(e){const t=[...new Set(Object.values(e).flatMap((e=>e.flatMap((({from:e,to:t})=>[...e,...t].filter((e=>e.asset?.fungible)).map((e=>e.asset.type)))))))],n=await this.#A.getTokensMetadata(t);return Object.keys(e).forEach((t=>{e[t]?.forEach((e=>{e.from.forEach((e=>{e.asset?.fungible&&n[e.asset.type]&&(e.asset.unit=n[e.asset.type]?.symbol??"")})),e.to.forEach((e=>{e.asset?.fungible&&n[e.asset.type]&&(e.asset.unit=n[e.asset.type]?.symbol??"")}))}))})),e}}({logger:Cd,connection:Vb,tokenMetadataService:nS,state:Fb,configProvider:Lb}),sS=new class{#i=Cd;#C="[📣 AnalyticsService]";constructor(e=Cd){this.#i=e}async trackEventTransactionAdded(e,t,n){try{this.#i.log(this.#C,"Tracking event transaction added"),z(t,bc),await snap.request({method:"snap_trackEvent",params:{event:{event:"Transaction Added",properties:{message:"Snap transaction added",origin:n.origin,account_id:e.id,account_address:e.address,account_type:e.type,chain_id:n.scope}}}})}catch(e){this.#i.warn(this.#C,"Error tracking event transaction added",{error:e,base64EncodedTransaction:t,metadata:n})}}async trackEventTransactionApproved(e,t,n){try{this.#i.log(this.#C,"Tracking event transaction approved"),z(t,bc),await snap.request({method:"snap_trackEvent",params:{event:{event:"Transaction Approved",properties:{message:"Snap transaction approved",origin:n.origin,account_id:e.id,account_address:e.address,account_type:e.type,chain_id:n.scope}}}})}catch(e){this.#i.warn(this.#C,"Error tracking event transaction approved",{error:e,base64EncodedTransaction:t,metadata:n})}}async trackEventTransactionSubmitted(e,t,n,r){try{this.#i.log(this.#C,"Tracking event transaction submitted"),z(t,bc),await snap.request({method:"snap_trackEvent",params:{event:{event:"Transaction Submitted",properties:{message:"Snap transaction submitted",origin:r.origin,account_id:e.id,account_address:e.address,account_type:e.type,chain_id:r.scope}}}})}catch(e){this.#i.warn(this.#C,"Error tracking event transaction submitted",{error:e,transactionMessageBase64Encoded:t,signature:n,metadata:r})}}async trackEventTransactionFinalized(e,t,n){try{this.#i.log(this.#C,"Tracking event transaction finalized"),await snap.request({method:"snap_trackEvent",params:{event:{event:"Transaction Finalized",properties:{message:"Snap transaction finalized",origin:n.origin,account_id:e.id,account_address:e.address,account_type:e.type,chain_id:t.chain,transaction_status:t.status,transaction_type:t.type}}}})}catch(e){this.#i.warn(this.#C,"Error tracking event transaction finalized",{error:e,transaction:t,metadata:n})}}async trackEventTransactionRejected(e,t,n){try{this.#i.log(this.#C,"Tracking event transaction rejected"),z(t,bc),await snap.request({method:"snap_trackEvent",params:{event:{event:"Transaction Rejected",properties:{message:"Snap transaction rejected",origin:n.origin,account_id:e.id,account_address:e.address,account_type:e.type,chain_id:n.scope}}}})}catch(e){this.#i.warn(this.#C,"Error tracking event transaction rejected",{error:e,base64EncodedTransaction:t,metadata:n})}}async trackEventSecurityAlertDetected(e,t,n,r,o,i,a){try{this.#i.log(this.#C,"Tracking event security alert detected"),z(t,bc),await snap.request({method:"snap_trackEvent",params:{event:{event:"Security Alert Detected",properties:{message:"Snap security alert detected",origin:n,account_id:e.id,account_address:e.address,account_type:e.type,chain_id:r,security_alert_response:o,security_alert_reason:i,security_alert_description:a}}}})}catch(e){this.#i.warn(this.#C,"Error tracking event security alert detected",{error:e,base64EncodedTransaction:t,origin:n,scope:r,securityAlertResponse:o,securityAlertReason:i,securityAlertDescription:a})}}async trackEventSecurityScanCompleted(e,t,n,r,o,i){try{this.#i.log(this.#C,"Tracking event security scan completed"),z(t,bc),await snap.request({method:"snap_trackEvent",params:{event:{event:"Security Scan Completed",properties:{message:"Snap security scan completed",origin:n,account_id:e.id,account_address:e.address,account_type:e.type,chain_id:r,scan_status:o,has_security_alerts:i}}}})}catch(e){this.#i.warn(this.#C,"Error tracking event security scan completed",{error:e,base64EncodedTransaction:t,origin:n,scope:r,scanStatus:o,hasSecurityAlerts:i})}}}(Cd),cS=new class{#Ae;#be;#Se;#f;#k;#Ee;#i;#C="[👛 WalletService]";constructor(e,t,n,r,o,i,a=Cd){this.#Ae=e,this.#be=t,this.#Se=n,this.#f=r,this.#k=o,this.#Ee=i,this.#i=a}async resolveAccountAddress(e,t,n){this.#i.log(this.#C,"Resolving account address",{keyringAccounts:e,scope:t,request:n});const{method:r,params:o}=n,i=e.filter((e=>e.scopes.includes(t)));if(0===i.length)throw new Error("No accounts with this scope");switch(r){case Ft.SignIn:{const{address:e}=o;if(!e)throw new Error("No address");return Oy(t,e)}case Ft.SignAndSendTransaction:case Ft.SignMessage:case Ft.SignTransaction:{const{account:e}=o,n=i.find((t=>t.address===e.address))?.address;if(!n)throw new Error("Account not found");return Oy(t,n)}default:throw this.#i.warn({method:r},"Unsupported method"),new Error("Unsupported method")}}async signTransaction(e,t){this.#i.log(this.#C,"Signing transaction",{account:e,request:t}),z(t.request,jf),z(t.scope,yc);const{transaction:n,scope:r,options:o}=t.request.params,i=o?.minContextSlot?{minContextSlot:BigInt(o.minContextSlot)}:void 0,a=await this.#k.partiallySignBase64String(n,e,r,i),s=(e=>$u(e,Nl().encode,Es().decode))(a),c={signedTransaction:s};z(c,Df);const u=jl(a);return await Promise.allSettled([this.#Ee.monitor({network:r,signature:u,commitment:"confirmed",onCommitmentReached:async n=>{await this.#xe(n.signature,e,r,t.origin)}})]),c}async signAndSendTransaction(e,t,n,r,o){this.#i.log(this.#C,"Signing and sending transaction",e);const i=o?.minContextSlot?{minContextSlot:BigInt(o.minContextSlot)}:void 0,a=await this.#k.partiallySignBase64String(t,e,n,i),s=jl(a),c=function({rpc:e}){return async function(t,n){await vm({...n,rpc:e,transaction:t})}}({rpc:this.#f.getRpc(n)}),u=lv(n,"tx",s);this.#i.info(`Sending transaction: ${u}`),Dl(a);const l={...o?.preflightCommitment?{preflightCommitment:o.preflightCommitment}:{},...o?.minContextSlot?{minContextSlot:BigInt(o.minContextSlot)}:{},...o?.maxRetries?{maxRetries:BigInt(o.maxRetries)}:{},commitment:"confirmed",skipPreflight:!0};await c(a,l),await this.#Te(s,t,e,n,r),await this.#Ee.monitor({network:n,signature:s,commitment:o?.commitment??"confirmed",onCommitmentReached:async t=>{await this.#xe(t.signature,e,n,r)}});const d={signature:s};return z(d,Uf),d}async#Te(e,t,n,r,o){this.#i.info(this.#C,"Handling transaction submitted",{signature:e,transactionMessageBase64Encoded:t,account:n,network:r,origin:o}),await this.#Se.trackEventTransactionSubmitted(n,t,e,{scope:r,origin:o})}async#xe(e,t,n,r){this.#i.info(this.#C,"Handling transaction confirmed",{signature:e,account:t,network:n,origin:r});const o=await this.#Ae.fetchBySignature(e,t,n);if(!o)throw new Error(`Transaction with signature ${e} not found on network ${n}`);await this.#Ae.saveTransaction(o,t),await Promise.allSettled([this.#be.refreshAssets([t]),vn(snap,gn.AccountTransactionsUpdated,{transactions:{[t.id]:[o]}}),this.#Se.trackEventTransactionFinalized(t,o,{scope:n,origin:r})])}async signMessage(e,t){this.#i.log(this.#C,"Signing message",e,t),z(t.request,Mf);const{address:n,entropySource:r,derivationPath:o}=e,i=zs(n),{scope:a}=t;z(a,yc);const{message:s}=t.request.params,c=xs().encode(s),u=Cs().decode(c),{privateKeyBytes:l}=await Nm({entropySource:r,derivationPath:o}),d=await Zl(l),f=function(e,t={}){return Object.freeze({content:"string"==typeof e?(new td).encode(e):e,signatures:Object.freeze({...t})})}(u),[h]=await d.signMessages([f]);z(h,ee());const p=h[i];var g;z(p,(g=Uint8Array,D("instance",(e=>e instanceof g||`Expected a \`${g.name}\` instance, but received: ${R(e)}`))));const m={signature:ys().decode(p),signedMessage:s,signatureType:"ed25519"};return z(m,Lf),m}async signIn(e,t){this.#i.log(this.#C,"Signing in",e,t),z(t.request,zf);const{address:n}=e,{params:r}=t.request,o=this.#ke(r),i=Cs().encode(o),a=xs().decode(i),s={id:globalThis.crypto.randomUUID(),scope:t.scope,account:e.id,origin:t.origin,request:{method:Ft.SignMessage,params:{account:{address:n},message:a}}},c={account:{address:n},...await this.signMessage(e,s)};return z(c,$f),c}async verifySignature(e,t,n){this.#i.log(this.#C,"Verifying signature",{account:e,signatureBase58:t,messageBase64:n}),z(t,Ac),z(n,bc);const{privateKeyBytes:r}=await Nm({entropySource:e.entropySource,derivationPath:e.derivationPath}),o=await Zl(r),i=vs().encode(t),a=xs().encode(n);return await nu(o.keyPair.publicKey,i,a)}#ke(e){const{domain:t,address:n,statement:r,uri:o,version:i,chainId:a,nonce:s,issuedAt:c,expirationTime:u,notBefore:l,requestId:d,resources:f}=e;let h=`${t} wants you to sign in with your Solana account:\n`;h+=`${n}`,r&&(h+=`\n\n${r}`);const p=[];if(o&&p.push(`URI: ${o}`),i&&p.push(`Version: ${i}`),a&&p.push(`Chain ID: ${a}`),s&&p.push(`Nonce: ${s}`),c&&p.push(`Issued At: ${c}`),u&&p.push(`Expiration Time: ${u}`),l&&p.push(`Not Before: ${l}`),d&&p.push(`Request ID: ${d}`),f){p.push("Resources:");for(const e of f)p.push(`- ${e}`)}return p.length&&(h+=`\n\n${p.join("\n")}`),h}}(aS,iS,sS,Vb,Yb,Zb,Cd),uS=new class{#Ie;#i;#A;#Se;constructor(e,t,n,r){this.#Ie=e,this.#A=t,this.#Se=n,this.#i=r}async scanTransaction({method:e,accountAddress:t,transaction:n,scope:r,origin:o,options:i=["simulation","validation"],account:a}){try{const s=await this.#Ie.scanTransactions({method:e,accountAddress:t,transactions:[n],scope:r,origin:o,options:i}),c=this.#_e(s);if(!c?.status)return this.#i.warn("Invalid scan result received from security alerts API"),a&&await this.#Se.trackEventSecurityScanCompleted(a,n,o,r,Rb.ERROR,!1),null;if(a){const e=Object.values(Rb).includes(c.status)?c.status:Rb.ERROR,t=Boolean(c.validation?.type&&c.validation.type!==Cb.Benign),i=[this.#Se.trackEventSecurityScanCompleted(a,n,o,r,e,t)];if(t){const e=Object.values(Cb).includes(c.validation.type)?c.validation.type:Cb.Warning;i.push(this.#Se.trackEventSecurityAlertDetected(a,n,o,r,e,c.validation.reason??"unknown",this.#Ce(c.validation)))}await Promise.all(i)}if(!c?.estimatedChanges?.assets)return null;const u={...c},l=c.estimatedChanges.assets.map((async(e,t)=>{const{logo:n}=e;if(n)return this.#A.generateImageComponent(n,16,16).then((e=>{e&&u?.estimatedChanges?.assets?.[t]&&(u.estimatedChanges.assets[t].imageSvg=e)})).catch((()=>null))}));return await Promise.all(l??[]),u}catch(e){return this.#i.error(e),a&&await this.#Se.trackEventSecurityScanCompleted(a,n,o,r,Rb.ERROR,!1),null}}#Ce(e){if(!e?.reason)return"Security alert: Unknown reason";return{unfair_trade:"Unfair trade of assets, without adequate compensation to the owner's account",transfer_farming:"Substantial transfer of the account's assets to untrusted entities",writable_accounts_farming:"Transaction exposes unused writable account, can be utilized in BIT-FLIP attacks patterns",native_ownership_change:"The account transferred ownership of its native SOL to untrusted entities",spl_token_ownership_change:"The account transferred ownership of its SPL tokens to untrusted entities",exposure_farming:"The account delegates ownership, thereby exposing its assets to untrusted spenders",known_attacker:"A known attacker's account is involved in the transaction",invalid_signature:"One of the transactions provided contains non valid signatures, that can lead misleading simulation results",honeypot:"The account invests funds in a token that is part of an orchestrated honeypot scheme",other:"The transaction was marked as malicious for other reason, further details would be described in features field"}[e.reason]??`Security alert: ${e.reason}`}#_e(e){return e?{status:"SUCCESS"===e.status||"ERROR"===e.status?e.status:"ERROR",estimatedChanges:{assets:e.result?.simulation?.account_summary?.account_assets_diff?.map((e=>({type:e.in?"in":"out",symbol:"symbol"in e.asset?e.asset.symbol:e.asset_type,name:"name"in e.asset?e.asset.name:e.asset_type,logo:"logo"in e.asset?e.asset.logo:null,value:e.in?.value??e.out?.value??null,price:e.in?.usd_price??e.out?.usd_price??null,imageSvg:null})))??[]},validation:{type:e.result?.validation?.result_type??null,reason:e.result?.validation?.reason??null},error:e?.error_details?{type:"type"in e.error_details?e.error_details.type:null,code:"code"in e.error_details?e.error_details.code:null}:null}:null}}(new class{#o;#i;#a;constructor(e,t=globalThis.fetch,n=Cd){const{baseUrl:r}=e.get().securityAlertsApi;this.#o=t,this.#i=n,this.#a=r}async scanTransactions({method:e,accountAddress:t,transactions:n,scope:r,origin:o,options:i}){const a=Ld.from(Dd.decode(t)).toString("base64");this.#i.info("Scanning transaction");return(await this.#o(`${this.#a}/solana/message/scan`,{headers:{"Content-Type":"application/json",accept:"application/json"},method:"POST",body:JSON.stringify({method:e,encoding:"base64",account_address:a,metadata:{url:o},chain:$d[r],transactions:n,options:i})})).json()}}(Lb),nS,sS,Cd),lS=new class{async handleKeyringRequest(e,t){const{request:{method:n}}=e;switch(n){case Ft.SignAndSendTransaction:case Ft.SignTransaction:return this.#Re(e,t);case Ft.SignMessage:return this.#Pe(e,t);case Ft.SignIn:return this.#Oe(e,t);default:throw new Error(`Unsupported method: ${n}`)}}async#Re(e,t){z(e.request,ae([Bf,jf]));const{request:{method:n,params:{transaction:r}},scope:o,account:i,origin:a}=e;await snap.request({method:"snap_scheduleBackgroundEvent",params:{duration:"PT1S",request:{method:Tv.OnTransactionAdded,params:{accountId:i,base64EncodedTransaction:r,metadata:{scope:o,origin:a}}}}});return await async function(e){const t={...xv,...e},n=Fm().then((e=>{t.preferences=e})).catch((()=>{t.preferences=xv.preferences})),r=xm(Vb.getRpc(t.scope),t.transaction).then((e=>{t.advanced.instructions=e})).catch((e=>{console.error(e),t.advanced.instructions=[]}));await Promise.all([n,r]);const{currency:o,useExternalPricingData:i,useSecurityAlerts:a,simulateOnChainActions:s}=t.preferences,c=await Um(yy(Ev,{context:t}),t),u=$m(c),l={...t},d=[sc[t.scope].nativeToken.caip19Id];let f;i?f=tS.getMultipleSpotPrices(d,o).then((e=>{l.tokenPrices=e,l.tokenPricesFetchStatus="fetched"})).catch((()=>{l.tokenPricesFetchStatus="error"})):(l.tokenPricesFetchStatus="fetched",l.tokenPrices={});const h=Yb.getFeeFromBase64StringInLamports(t.transaction,l.scope).then((e=>{l.feeEstimatedInSol=e?iv(e).toString():null})).catch((()=>{l.feeEstimatedInSol=null}));await Promise.all([f,h]),await Dm(c,yy(Ev,{context:l}),l);const p={...l},g=[];if(s&&g.push("simulation"),a&&g.push("validation"),s||a){const e=uS.scanTransaction({method:p.method,accountAddress:p.account?.address??"",transaction:p.transaction,scope:p.scope,origin:p.origin,options:g}).then((async e=>{p.scan=e,p.scanFetchStatus=e?"fetched":"error"})).catch((()=>{p.scan=null,p.scanFetchStatus="error"}));await Promise.all([e])}else p.scanFetchStatus="fetched",p.scan=null;return await Dm(c,yy(Ev,{context:p}),p),await Fb.setKey(`mapInterfaceNameToId.${jm}`,c),u}({...xv,scope:o,method:n,origin:e.origin,transaction:r,account:t})?(await snap.request({method:"snap_scheduleBackgroundEvent",params:{duration:"PT1S",request:{method:Tv.OnTransactionApproved,params:{accountId:i,base64EncodedTransaction:r,metadata:{scope:o,origin:a}}}}}),!0):(await snap.request({method:"snap_scheduleBackgroundEvent",params:{duration:"PT1S",request:{method:Tv.OnTransactionRejected,params:{accountId:i,base64EncodedTransaction:r,metadata:{scope:o,origin:a}}}}}),!1)}async#Pe(e,t){const n=await async function(e,t){z(e.request,Mf);const{request:{params:{message:n}},scope:r,origin:o}=e,i=xs().encode(n),a=Cs().decode(i),s=await Fm().then((e=>e.locale)).catch((()=>My));return $m(await Um(yy(ov,{message:a,account:t,scope:r,locale:s,networkImage:wy,origin:o}),{}))}(e,t);return Boolean(n)}async#Oe(e,t){const n=await async function(e,t){z(e.request,zf);const{request:{params:n},scope:r,origin:o}=e,i=await Fm();return $m(await Um(yy(tv,{params:n,account:t,scope:r,preferences:i,networkImage:wy,origin:o}),{}))}(e,t);return Boolean(n)}},dS=new class{#w;#i;#Ae;#be;#Ne;#Be;constructor({state:e,logger:t,transactionsService:n,assetsService:r,walletService:o,confirmationHandler:i}){this.#w=e,this.#i=t,this.#Ae=n,this.#be=r,this.#Ne=o,this.#Be=i}async listAccounts(){try{const e=await this.#w.getKey("keyringAccounts")??{};return(0,ni.sortBy)(Object.values(e),["entropySource","index"])}catch(e){throw this.#i.error({error:e},"Error listing accounts"),new Error("Error listing accounts")}}async getAccount(e){try{cy({accountId:e},dc);return await this.#w.getKey(`keyringAccounts.${e}`)}catch(e){throw this.#i.error({error:e},"Error getting account"),new Qr(e)}}async getAccountOrThrow(e){const t=await this.getAccount(e);if(!t)throw new Error(`Account "${e}" not found`);return t}#ze(e,t){return function(e){if(0===e.length)return 0;const t=e.map((e=>e.index)).sort(((e,t)=>e-t));let n=0;for(const e of t){if(e!==n)break;n+=1}return n}(e.filter((e=>e.entropySource===t)))}#Me(e){return`m/44'/501'/${e}'/0'`}#je(e){const t=e.split("/")[3];if(!t)throw new Error("Invalid derivation path");const n=parseInt(t.replace("'",""),10);return z(n,J()),n}async#Ue(){const e=(await async function(){return await snap.request({method:"snap_listEntropySources"})}()).find((({primary:e})=>e));if(!e)throw new Error("No default entropy source found - this can never happen");return e.id}async createAccount(e){const t=globalThis.crypto.randomUUID();try{const n=await this.listAccounts(),r=e?.entropySource??await this.#Ue(),o=e?.derivationPath?this.#je(e.derivationPath):this.#ze(n,r),i=e?.derivationPath?e.derivationPath:this.#Me(o),a=n.find((e=>e.derivationPath===i&&e.entropySource===r));if(a)return this.#i.warn("[🔑 Keyring] An account already exists with the same derivation path and entropy source. Skipping account creation."),Tm(a);const{publicKeyBytes:s}=await Nm({entropySource:r,derivationPath:i}),c=js().decode(s.slice(1)),{importedAccount:u,accountNameSuggestion:l,metamask:d,...f}=e??{},h={id:t,entropySource:r,derivationPath:i,index:o,type:dt.DataAccount,address:c,scopes:[Lt.Mainnet,Lt.Testnet,Lt.Devnet],options:{...f,entropySource:r,derivationPath:i,index:o},methods:[Ft.SignAndSendTransaction,Ft.SignTransaction,Ft.SignMessage,Ft.SignIn]};await this.#w.setKey(`keyringAccounts.${h.id}`,h);const p=Tm(h);return await this.emitEvent(gn.AccountCreated,{account:p,accountNameSuggestion:l??`Solana Account ${o+1}`,displayAccountNameSuggestion:!l,displayConfirmation:!1,...d?{metamask:d}:{}}),p}catch(e){throw this.#i.error({error:e},"Error creating account"),await this.#De(t),new Error(`Error creating account: ${e.message}`)}}async#De(e){await Promise.all([this.#w.deleteKey(`keyringAccounts.${e}`),this.#w.deleteKey(`transactions.${e}`),this.#w.deleteKey(`assets.${e}`)])}async deleteAccount(e){try{cy({accountId:e},fc),await this.#De(e),await this.emitEvent(gn.AccountDeleted,{id:e})}catch(e){throw this.#i.error({error:e},"Error deleting account"),e}}async listAccountAssets(e){try{cy({accountId:e},hc);const t=await this.getAccountOrThrow(e),n=await this.#be.listAccountAssets(t);return uy(n,nn),n}catch(e){throw this.#i.error({error:e},"Error listing account assets"),e}}async getAccountBalances(e,t){try{cy({accountId:e,assets:t},pc);const n=await this.getAccountOrThrow(e),r=await this.#be.getAccountBalances(n,t);return uy(r,mc),r}catch(e){throw this.#i.error({error:e},"Error getting account balances"),e}}async emitEvent(e,t){await vn(snap,e,t)}async filterAccountChains(e,t){throw new Error(`Implement me! ${e} ${t.toString()}`)}async updateAccount(e){throw new Error(`Implement me! ${JSON.stringify(e)}`)}async submitRequest(e){return{pending:!1,result:await this.#Le(e)}}async#Le(e){z(e,ly);const{request:{method:t,params:n},scope:r,account:o,origin:i}=e,a=await this.getAccountOrThrow(o);if(!a.scopes.includes(r))throw new Error(`Scope "${r}" is not allowed for this account`);if(!a.methods.includes(t))throw new Error(`Method "${t}" is not allowed for this account`);if("scope"in n&&r!==n.scope)throw new Error(`Scope "${r}" does not match "${n.scope}" in request.params`);if(!await this.#Be.handleKeyringRequest(e,a))throw new yo;switch(t){case Ft.SignAndSendTransaction:{const{transaction:e,options:t}=n;return this.#Ne.signAndSendTransaction(a,e,r,i,t)}case Ft.SignTransaction:return this.#Ne.signTransaction(a,e);case Ft.SignMessage:return this.#Ne.signMessage(a,e);case Ft.SignIn:return this.#Ne.signIn(a,e);default:throw new ao(`Unsupported method: ${t}`)}}async listAccountTransactions(e,t){try{cy({accountId:e,pagination:t},gc);const n=await this.getAccount(e);if(!n)throw new Error("Account not found");const r=await this.#w.getKey(`transactions.${e}`)??[];if(!r.length){const e=await this.#Ae.fetchLatestAccountTransactions(n,t.limit);return await this.#w.setKey(`transactions.${n.id}`,e),{data:e,next:null}}const o=t.next?r.findIndex((e=>e.id===t.next)):0,i=r.slice(o,o+t.limit),a=o+t.limit<r.length;return{data:i,next:a?r[o+t.limit]?.id??null:null}}catch(e){throw this.#i.error({error:e},"Error listing account transactions"),e}}async resolveAccountAddress(e,t){try{z(e,yc);const{method:n,params:r}=t,o={method:n,params:r};z(o,Ff);const i=await this.listAccounts();return{address:await this.#Ne.resolveAccountAddress(i,e,o)}}catch(e){return this.#i.error({error:e},"Error resolving account address"),null}}async discoverAccounts(e,t,n){try{z({scopes:e,entropySource:t,groupIndex:n},dy);const r=this.#Me(n),o=await Nm({entropySource:t,derivationPath:r}),i=js().decode(o.publicKeyBytes.slice(1)),a=[];for(const t of e)a.push(this.#Ae.fetchLatestSignatures(t,i,1));const s=await Promise.all(a);return s.some((e=>e.length>0))?[{type:"bip44",scopes:e,derivationPath:r}]:[]}catch(e){throw this.#i.error({error:e},"Error discovering accounts"),e}}}({state:Fb,transactionsService:aS,logger:Cd,assetsService:iS,walletService:cS,confirmationHandler:lS}),fS=new Fd(Vb,Cd),hS=new class{#$e;#Ne;#i;constructor(e,t,n){this.#$e=e,this.#Ne=t,this.#i=n}async handle(e){this.#i.log("[onClientRequest] Handling client request...",e);const{method:t}=e;if(t===Vd.SignAndSendTransactionWithoutConfirmation)return this.#Fe(e);throw new ao}async#Fe(e){try{z(e,qf)}catch(e){const t=new ro;throw t.cause=e,t}const{params:{transaction:t,options:n,account:{address:r},scope:o}}=e,i=(await this.#$e.listAccounts()).find((e=>e.address===r));if(!i)throw new ro(`Account not found: ${r}`);return this.#Ne.signAndSendTransaction(i,t,o,tc,n)}}(dS,cS,Cd),pS={configProvider:Lb,connection:Vb,keyring:dS,priceApiClient:tS,state:Fb,cache:qb,assetsService:iS,tokenPricesService:rS,transactionHelper:Yb,transactionsService:aS,sendSolBuilder:Xb,sendSplTokenBuilder:Qb,walletService:cS,transactionScanService:uS,analyticsService:sS,confirmationHandler:lS,nftService:fS,clientRequestHandler:hS,webSocketConnectionService:Gb,subscriptionService:Jb,eventEmitter:$b,nameResolutionService:oS},gS=ee({id:re(),jsonrpc:Z("2.0"),method:Z(Tv.OnTransactionAdded),params:ee({accountId:cc,base64EncodedTransaction:bc,metadata:ee({scope:yc,origin:re()})})}),mS=ee({id:re(),jsonrpc:Z("2.0"),method:Z(Tv.OnTransactionApproved),params:ee({accountId:cc,base64EncodedTransaction:bc,metadata:ee({scope:yc,origin:re()})})}),yS=ee({id:re(),jsonrpc:Z("2.0"),method:Z(Tv.OnTransactionRejected),params:ee({accountId:cc,base64EncodedTransaction:bc,metadata:ee({scope:yc,origin:re()})})}),vS={[Tv.OnTransactionAdded]:async({request:e})=>{try{Cd.info("[onTransactionAdded] Cronjob triggered",e),z(e,gS);const{accountId:t,base64EncodedTransaction:n,metadata:r}=e.params,o=await dS.getAccountOrThrow(t);await sS.trackEventTransactionAdded(o,n,r)}catch(e){throw Cd.error(e),new to(e)}},[Tv.OnTransactionApproved]:async({request:e})=>{try{Cd.info("[onTransactionApproved] Cronjob triggered",e),z(e,mS);const{accountId:t,base64EncodedTransaction:n,metadata:r}=e.params,o=await dS.getAccountOrThrow(t);await sS.trackEventTransactionApproved(o,n,r)}catch(e){throw Cd.error(e),new to(e)}},[Tv.OnTransactionRejected]:async({request:e})=>{try{Cd.info("[onTransactionRejected] Cronjob triggered",e),z(e,yS);const{accountId:t,base64EncodedTransaction:n,metadata:r}=e.params,o=await dS.getAccountOrThrow(t);await sS.trackEventTransactionRejected(o,n,r)}catch(e){throw Cd.error(e),new to(e)}},[Tv.OnAccountsRefresh]:async()=>{try{Cd.info("[onAccountsRefresh] Cronjob triggered");const e=await dS.listAccounts(),t=nc.Mainnet,n=e.map((async e=>{const n=await Fb.getKey(`signatures.${e.address}`)??[],[r]=await aS.fetchLatestSignatures(t,zs(e.address),1);return Cd.log(`[onAccountsRefresh] Latest signature for account ${e.address} is ${r}`),{account:e,didChange:r&&!n.includes(r)}})),r=(await Promise.all(n)).filter((e=>e.didChange)).map((e=>e.account));if(0===r.length)return void Cd.info("[onAccountsRefresh] No accounts with changes, skipping refresh");Cd.info(`[onAccountsRefresh] Found ${r.length} accounts with changes`),await iS.refreshAssets(r).catch((e=>{Cd.warn("[onAccountsRefresh] Caught error while refreshing assets",e)})),await aS.refreshTransactions(r).catch((e=>{Cd.warn("[onAccountsRefresh] Caught error while refreshing transactions",e)})),Cd.info(`[onAccountsRefresh] Successfully refreshed ${r.length} accounts`)}catch(e){Cd.error("[onAccountsRefresh] Error",e)}}};var wS=function(e){return e.RefreshSend="refreshSend",e.RefreshConfirmationEstimation="refreshConfirmationEstimation",e.ScheduleRefreshAccounts="scheduleRefreshAccounts",e}({});const AS=by("Form"),bS=by("Field"),SS=by("AssetSelector"),ES=({title:e,backButtonName:t})=>vy(Ey,{direction:"horizontal",alignment:"space-between",center:!0,children:[t?yy(Py,{name:t,children:yy(Hy,{name:"arrow-left",color:"primary",size:"md"})}):null,yy(xy,{size:"sm",children:e}),vy(Ey,{direction:"horizontal",children:[yy(Ey,{children:null}),yy(Ey,{children:null}),yy(Ey,{children:null}),yy(Ey,{children:null})]})]}),xS=by("Selector"),TS=by("SelectorOption"),kS=by("Card");function IS(e){return e?e.length<=10?"":`${e.slice(0,6)}...${e.slice(-4)}`:""}const _S=({accounts:e,balances:t,price:n,name:r,scope:o,selectedAccountId:i,error:a,locale:s,currency:c})=>{const u=jy(s),l=Object.values(e);return yy(bS,{label:u("send.fromField"),error:a,children:yy(xS,{name:r,value:i,title:"From",children:l.map((e=>{const r=t[e.id]?.[`${o}/${oc.SOL}`],{amount:i,unit:a}=r??{},u=void 0!==i&&a?Av(i,a,s):"",l=void 0!==i&&null!==n&&c?Wy(bv(i,n),c,s):"-";return yy(TS,{value:e.id,children:yy(kS,{value:u,extra:l,description:IS(e.address),title:yy(_y,{address:Oy(o,e.address),truncate:!0,displayName:!0,avatar:!0})})})}))})})},CS=by("Input");var RS=function(e){return e.Form="send-form",e.DestinationAccountInput="send-to",e.BackButton="send-back-button",e.SourceAccountSelector="send-account-selector",e.AmountInput="send-amount-input",e.AssetSelector="send-asset-selector",e.SwapCurrencyButton="send-swap-currency",e.MaxAmountButton="send-amount-input-max",e.CancelButton="send-cancel-button",e.SendButton="send-submit-button",e.ClearButton="send-clear-button",e.CloseButton="send-close-button",e}({}),PS=function(e){return e.TOKEN="TOKEN",e.FIAT="USD",e}({});const OS=({name:e,value:t,tokenSymbol:n,currency:r,currencyType:o,locale:i,swapCurrencyButtonDisabled:a=!1})=>{const s=jy(i),c=o===PS.FIAT?r.toUpperCase():n;return vy(bS,{label:s("send.amountField"),children:[yy(CS,{name:e,type:"number",min:0,placeholder:"0",step:.01,value:t??void 0}),vy(Ey,{direction:"horizontal",center:!0,children:[yy(Ey,{direction:"vertical",alignment:"center",children:yy(Ty,{size:"sm",children:c})}),yy(Py,{name:RS.SwapCurrencyButton,disabled:a,children:yy(Hy,{name:"swap-vertical",color:a?"muted":"primary",size:"md"})})]})]})},NS={initial:null,fetching:"default",fetched:"success",error:null},BS=({name:e,value:t,error:n,locale:r,showClearButton:o,disabled:i,domainResolutionStatus:a})=>{const s=jy(r);return vy(Ey,{children:[vy(bS,{label:s("send.toField"),error:n,children:[yy(CS,{name:e,placeholder:i?"":s("send.toPlaceholder"),value:t??void 0,disabled:i}),o?yy(Ey,{children:yy(Py,{name:RS.ClearButton,children:yy(Hy,{name:Gy.Close,color:"primary"})})}):null]}),a&&null!==NS[a]&&yy(Ty,{size:"sm",color:NS[a],children:s(`send.toDomainResolutionStatus.${a}`)})]})},zS=e=>{const{amount:t,tokenPrices:n,tokenCaipId:r,currencyType:o}=e,i=n?.[r]?.price;if(o===PS.TOKEN)return t;if(void 0===i)throw new Error("Token price is undefined, cannot convert to fiat amount.");return null===t?null:jo(t).dividedBy(jo(i)).toString()},MS=e=>{const{selectedTokenMetadata:t}=e;return{...t??{},tokenSymbol:t?.symbol??"UNKNOWN",tokenImage:t?.imageSvg??Ib}},jS=e=>{const{tokenCaipId:t,tokenPrices:n}=e;return n?.[t]?.price},US=e=>{const{balances:t,fromAccountId:n,tokenCaipId:r}=e;return t?.[n]?.[r]?.amount??"0"},DS=e=>{const{tokenCaipId:t,scope:n}=e;return t===sc[n]?.nativeToken?.caip19Id},LS=by("Spinner"),$S=({title:e,subtitle:t,iconSrc:n,isLoading:r})=>vy(Ey,{alignment:"center",center:!0,children:[vy(Ey,{direction:"horizontal",center:!0,children:[r?yy(LS,{}):null,n&&!r?yy(Cy,{borderRadius:"full",src:n}):null]}),yy(xy,{size:"lg",children:e}),t?yy(Ty,{color:"muted",children:t}):null]}),FS=by("Value"),qS=({context:e})=>{const{scope:t,fromAccountId:n,toAddress:r,accounts:o,feeEstimatedInSol:i,preferences:{locale:a,currency:s},transaction:c,feePaidInSol:u,tokenPrices:l}=e,d=jy(a),f=sc[t],h=o.find((e=>e.id===n))?.address,p=Oy(t,h),g=f.name,m=f.nativeToken.symbol,y=l[f.nativeToken.caip19Id]?.price,v=c?u:i,w=v?Av(v,m,a):"",A=void 0===y||null===v?"":Wy(bv(v,y),s,a);return vy(Ey,{children:[vy(ky,{children:[yy(Iy,{label:d("send.confirmation.from"),children:yy(uv,{href:lv(t,"address",h),children:yy(_y,{address:p,displayName:!0})})}),r?yy(Iy,{label:d("send.confirmation.recipient"),children:yy(uv,{href:lv(t,"address",r),children:yy(_y,{address:Oy(t,r),displayName:!0})})}):null]}),vy(ky,{children:[yy(Iy,{label:d("send.confirmation.network"),children:yy(Ty,{children:g})}),yy(Iy,{label:d("send.confirmation.transactionSpeed"),children:yy(Ty,{children:"<1s"})}),yy(Iy,{label:d("send.confirmation.fee"),children:yy(FS,{extra:A,value:w})})]})]})};var WS=function(e){return e.BackButton="transaction-confirmation-back-button",e.CancelButton="transaction-confirmation-cancel-button",e.ConfirmButton="transaction-confirmation-submit-button",e}({});const VS={"send-form":({context:e,inputToAddress:t,inputAmount:n})=>{const{accounts:r,fromAccountId:o,amount:i,destinationAddressOrDomain:a,domainResolutionStatus:s,validation:c,currencyType:u,tokenCaipId:l,scope:d,balances:f,tokenPricesFetchStatus:h,buildingTransaction:p,error:g,loading:m,transactionMessage:y,preferences:{locale:v,currency:w}}=e,A=jy(v),b=f[o]?.[l],S=b?.amount,E=b?.unit??"",x=void 0!==S,T=r.find((e=>e.id===o)),k=T?.address?Oy(d,T.address):"",I=(e=>{const{tokenPrices:t,scope:n}=e;return t?.[sc[n]?.nativeToken?.caip19Id]?.price})(e),_=jS(e),C=void 0===S||"0"===S,R=void 0===_,P="error"===h||"fetched"===h&&R,O=(x?{[PS.FIAT]:Wy(bv(S,_??0),w,v),[PS.TOKEN]:Av(S,E,v)}:{[PS.FIAT]:"",[PS.TOKEN]:""})[u],N=o.length>0&&!!a&&a.length>0&&uf(c?.[RS.DestinationAccountInput]),B=!uf(y)&&""!==y,z=Boolean(a&&a.length>0),M=Boolean(c?.[RS.AmountInput]?.message),j=M?c?.[RS.AmountInput]?.message??"":`${A("send.balance")}: ${O}`,U=o.length>0&&!!i&&i.length>0&&!!a&&a.length>0&&Object.values(c).every(uf)&&x&&!p&&B;return vy(Sy,{backgroundColor:"alternative",children:[vy(Ey,{children:[yy(ES,{title:A("send.title"),backButtonName:RS.BackButton}),vy(AS,{name:RS.Form,children:[P&&yy(gv,{title:"",severity:"info",children:yy(Ty,{children:A("send.selectedTokenPriceNotAvailable",{currency:w})})}),yy(Ey,{children:null}),yy(Ey,{children:null}),yy(Ey,{children:null}),yy(_S,{name:RS.SourceAccountSelector,scope:d,error:c?.[RS.SourceAccountSelector]?.message??"",accounts:r,selectedAccountId:o,balances:f,price:I??null,locale:v,currency:w}),yy(Ey,{children:null}),yy(Ey,{children:null}),yy(Ey,{children:null}),yy(BS,{locale:v,disabled:m,name:RS.DestinationAccountInput,value:t??null,showClearButton:z,domainResolutionStatus:s,error:c?.[RS.DestinationAccountInput]?.message??""}),N&&vy(Ey,{children:[yy(Ey,{children:null}),yy(Ey,{children:null}),yy(Ey,{children:null}),vy(Ey,{direction:"horizontal",children:[yy(bS,{label:A("send.assetField"),children:yy(SS,{chainIds:[d],value:l,name:RS.AssetSelector,addresses:k?[k]:[]})}),yy(OS,{name:RS.AmountInput,currencyType:u,tokenSymbol:E,currency:w,value:n??null,locale:v,swapCurrencyButtonDisabled:R||C})]}),vy(Ey,{direction:"horizontal",alignment:"space-between",crossAlignment:"start",children:[yy(Ey,{direction:"vertical",alignment:"start",children:yy(Ty,{size:"sm",color:M?"error":"muted",children:j})}),yy(Py,{size:"sm",name:RS.MaxAmountButton,disabled:C,children:A("send.maxButton")})]})]}),g&&vy(Ey,{children:[yy(Ey,{children:null}),yy(gv,{title:A(g.title),severity:"warning",children:yy(Ty,{children:A(g.message)})})]})]})]}),vy(Ry,{children:[yy(Py,{name:RS.CancelButton,children:A("send.cancelButton")}),yy(Py,{name:RS.SendButton,disabled:!U,loading:p,children:A("send.continueButton")})]})]})},"transaction-confirmation":({context:e})=>{const{preferences:{currency:t,locale:n}}=e,r=jy(n),{tokenImage:o,tokenSymbol:i}=MS(e),a=zS(e),s=jS(e),c=void 0===s?"":Wy(bv(a??"0",s),t,n);return vy(Sy,{children:[vy(Ey,{children:[yy(ES,{title:r("send.confirmation.title"),backButtonName:"transaction-confirmation-back-button"}),yy($S,{title:Av(a??"0",i,n),subtitle:c,iconSrc:o}),yy(qS,{context:e})]}),vy(Ry,{children:[yy(Py,{name:"transaction-confirmation-cancel-button",children:r("send.confirmation.cancelButton")}),yy(Py,{name:"transaction-confirmation-submit-button",loading:e.loading,disabled:e.loading,children:r("send.confirmation.sendButton")})]})]})},"send-pending":({context:e})=>{const t=jy(e.preferences.locale);return yy(Sy,{children:vy(Ey,{children:[yy(Ey,{children:null}),yy($S,{title:t("send.send-pending.title"),subtitle:t("send.send-pending.subtitle"),isLoading:!0}),yy(qS,{context:e})]})})},"transaction-success":({context:e})=>{const{preferences:t,transaction:n,scope:r}=e,o=jy(t.locale),{tokenSymbol:i}=MS(e),a=zS(e);return yy(Sy,{children:vy(Ey,{children:[yy(Ey,{children:null}),yy($S,{title:o("send.transaction-success.title"),subtitle:o("send.transaction-success.subtitle",{amount:qy(a??"0",t.locale),tokenSymbol:i}),iconSrc:'<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M24.0002 3.99902C12.9802 3.99902 4.00024 12.979 4.00024 23.999C4.00024 35.019 12.9802 43.999 24.0002 43.999C35.0202 43.999 44.0002 35.019 44.0002 23.999C44.0002 12.979 35.0202 3.99902 24.0002 3.99902ZM33.5602 19.399L22.2202 30.739C21.9402 31.019 21.5602 31.179 21.1602 31.179C20.7602 31.179 20.3802 31.019 20.1002 30.739L14.4402 25.079C13.8602 24.499 13.8602 23.539 14.4402 22.959C15.0202 22.379 15.9802 22.379 16.5602 22.959L21.1602 27.559L31.4402 17.279C32.0202 16.699 32.9802 16.699 33.5602 17.279C34.1402 17.859 34.1402 18.799 33.5602 19.399Z" fill="#1C8234"/>\n</svg>\n'}),yy(qS,{context:e}),n?.signature?yy(Ey,{alignment:"center",center:!0,children:yy(uv,{href:lv(r,"tx",n?.signature),children:o("send.confirmation.viewTransaction")})}):null]})})},"transaction-failure":({context:e})=>{const{preferences:t}=e,n=jy(t.locale),{tokenSymbol:r}=MS(e),o=zS(e);return yy(Sy,{children:vy(Ey,{children:[yy(Ey,{children:null}),yy($S,{title:n("send.transaction-failure.title"),subtitle:n("send.transaction-failure.subtitle",{amount:o??"0",tokenSymbol:r}),iconSrc:'<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M40.8277 29.5283L29.7931 8.40143C28.3104 5.55884 26.2586 4 24 4C21.7414 4 19.6896 5.55884 18.2069 8.40143L7.17228 29.5283C5.77572 32.2241 5.62055 34.81 6.74125 36.8456C7.86194 38.8813 10.0689 40 12.9654 40H35.0346C37.9311 40 40.1381 38.8813 41.2588 36.8456C42.3795 34.81 42.2243 32.2058 40.8277 29.5283ZM22.7069 16.8375C22.7069 16.0856 23.2931 15.462 24 15.462C24.7069 15.462 25.2931 16.0856 25.2931 16.8375V26.0071C25.2931 26.759 24.7069 27.3826 24 27.3826C23.2931 27.3826 22.7069 26.759 22.7069 26.0071V16.8375ZM25.2241 32.811C25.1379 32.8844 25.0517 32.9577 24.9655 33.0311C24.8621 33.1044 24.7586 33.1595 24.6552 33.1961C24.5517 33.2511 24.4483 33.2878 24.3276 33.3062C24.2241 33.3245 24.1034 33.3428 24 33.3428C23.8965 33.3428 23.7759 33.3245 23.6552 33.3062C23.5517 33.2878 23.4483 33.2511 23.3448 33.1961C23.2414 33.1595 23.1379 33.1044 23.0345 33.0311C22.9483 32.9577 22.8621 32.8844 22.7759 32.811C22.4655 32.4626 22.2758 31.9857 22.2758 31.5089C22.2758 31.0321 22.4655 30.5553 22.7759 30.2068C22.8621 30.1335 22.9483 30.0601 23.0345 29.9868C23.1379 29.9134 23.2414 29.8584 23.3448 29.8217C23.4483 29.7667 23.5517 29.73 23.6552 29.7117C23.8793 29.6567 24.1207 29.6567 24.3276 29.7117C24.4483 29.73 24.5517 29.7667 24.6552 29.8217C24.7586 29.8584 24.8621 29.9134 24.9655 29.9868C25.0517 30.0601 25.1379 30.1335 25.2241 30.2068C25.5345 30.5553 25.7241 31.0321 25.7241 31.5089C25.7241 31.9857 25.5345 32.4626 25.2241 32.811Z" fill="#BF5208"/>\n</svg>\n'}),yy(qS,{context:e})]})})}},KS=({context:e,inputToAddress:t,inputAmount:n})=>{const r=e.stage??"send-form";return yy(VS[r],{context:e,inputToAddress:t,inputAmount:n})};function GS(e){if(!e)return!1;return/^[a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?(\.[a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?)*\.sol$/u.test(e)}function HS(e,t,n){return n[e]?n[e]?.map((e=>e(t))).find((e=>null!==e))??null:null}function JS(e){const t=eE(e),n={[RS.SourceAccountSelector]:e.fromAccountId,[RS.AmountInput]:e.amount,[RS.DestinationAccountInput]:e.toAddress};return Object.entries(t).every((([e,t])=>{const r=n[e];return!!r&&t.every((e=>null===e(r)))}))}const ZS=(e,t)=>{const n=jy(t);return t=>{const r=""===t?{message:n(e),value:t}:null;return r?{message:r.message,value:t}:null}},YS=(e,t)=>{const n=jy(t);return t=>{try{return GS(t)||zs(t),null}catch{return{message:n(e),value:t}}}},XS=e=>{const{minimumBalanceForRentExemptionSol:t,preferences:{locale:n},feeEstimatedInSol:r,selectedTokenMetadata:o}=e,i=jy(n);return n=>{if(""===n)return{message:"",value:n};const a=zS({...e,amount:n}),s=av(a??"0"),c=US(e),u=av(c),l=av(r??"0"),d=av(t??"0"),f=(e=>US({...e,tokenCaipId:sc[e.scope].nativeToken.caip19Id}))(e),h=av(f),p=DS(e);if(s.gt(u))return{message:`${i("send.insufficientBalance")}: ${c} ${o?.symbol??""}`,value:n};if(p){if(s.lt(d))return{message:i("send.amountGreatherThanMinimumBalanceForRentExemptionError",{minimumValue:t}),value:n};if(s.plus(l).plus(d).gt(u))return{message:i("send.insuffientSolToCoverFee"),value:n}}else{if(l.plus(d).gt(h))return{message:i("send.insuffientSolToCoverFee"),value:n}}return s.isZero()?{message:"",value:n}:h.isZero()?{message:i("send.insuffientSolToCoverFee"),value:n}:null}},QS=ee({scope:H([...Object.values(nc)]),account:cc,assetId:te(Jo)}),eE=e=>({[RS.SourceAccountSelector]:[ZS("send.fromRequiredError",e.preferences.locale)],[RS.AmountInput]:[XS(e),ZS("send.amountRequiredError",e.preferences.locale)],[RS.DestinationAccountInput]:[ZS("send.toRequiredError",e.preferences.locale),YS("send.toInvalidError",e.preferences.locale)]}),tE={scope:nc.Mainnet,fromAccountId:"",amount:"",destinationAddressOrDomain:null,toAddress:null,domainResolutionStatus:null,feeEstimatedInSol:"0",feePaidInSol:"0",tokenCaipId:rc.SolMainnet,accounts:[],currencyType:PS.TOKEN,validation:{},balances:{},assets:[],tokenPrices:{},selectedTokenMetadata:null,tokenPricesFetchStatus:"initial",preferences:{locale:"en",currency:"usd",hideBalances:!1,useSecurityAlerts:!0,useExternalPricingData:!0,simulateOnChainActions:!0,useTokenDetection:!0,batchCheckBalances:!0,displayNftMedia:!0,useNftDetection:!0},error:null,buildingTransaction:!1,transactionMessage:null,transaction:null,stage:"send-form",minimumBalanceForRentExemptionSol:"0.002",loading:!0},nE={...{[wS.RefreshSend]:async()=>{const[e,t,n]=await Promise.all([Fb.getKey("assets"),Fb.getKey("mapInterfaceNameToId"),Fm().catch((()=>tE.preferences))]);try{Cd.info(`[${wS.RefreshSend}] Cronjob triggered`);const r=Object.values(e??{}).flatMap((e=>Object.keys(e)));let o={};try{o=await tS.getMultipleSpotPrices(r,n.currency),await Fb.setKey("tokenPrices",o),Cd.info(`[${wS.RefreshSend}] ✅ Token prices were properly refreshed and saved in the state.`)}catch(e){Cd.info({error:e},`[${wS.RefreshSend}] ❌ Could not update the token prices in the state.`)}try{const e=t?.[Mm];if(e){const t=await qm(e);if("transaction-confirmation"!==t.stage)return void Cd.info(`[${wS.RefreshSend}] ❌ Not in transaction confirmation stage`);if(!t.assets)return void Cd.info(`[${wS.RefreshSend}] ❌ No assets found`);const n={...t,tokenPrices:{...t.tokenPrices,...o}};await Dm(e,yy(KS,{context:n}),n)}}catch(e){Cd.info({error:e},`[${wS.RefreshSend}] ❌ Could not update the interface`)}Cd.info(`[${wS.RefreshSend}] ✅ Cronjob suceeded`)}catch(e){Cd.info({error:e},`[${wS.RefreshSend}] ❌ Cronjob failed`)}},[wS.RefreshConfirmationEstimation]:async()=>{try{Cd.info(`[${wS.RefreshConfirmationEstimation}] Cronjob triggered`);const e=(await Fb.getKey("mapInterfaceNameToId")??{})[jm];try{if(e){const t=await qm(e);if(!(t.account?.address&&t.transaction&&t.scope&&t.method))return void Cd.info(`[${wS.RefreshConfirmationEstimation}] Context is missing required fields`);if(!t.preferences?.simulateOnChainActions)return void Cd.info(`[${wS.RefreshConfirmationEstimation}] Transaction simulation is disabled in preferences`);const n={...t,scanFetchStatus:"fetching"};await Dm(e,yy(Ev,{context:n}),n);const r=await uS.scanTransaction({method:t.method,accountAddress:t.account.address,transaction:t.transaction,scope:t.scope,origin:t.origin,account:t.account}),o={...await qm(e),scanFetchStatus:"fetched",scan:r};Cd.info(`[${wS.RefreshConfirmationEstimation}] New scan fetched`),await Dm(e,yy(Ev,{context:o}),o)}Cd.info(`[${wS.RefreshConfirmationEstimation}] Cronjob suceeded`)}catch(t){if(!e)return void Cd.info(`[${wS.RefreshConfirmationEstimation}] No interface context found`);const n={...await qm(e),scanFetchStatus:"fetched"};await Dm(e,yy(Ev,{context:n}),n),Cd.info({error:t},`[${wS.RefreshConfirmationEstimation}] Could not update the interface. But rolled back status to fetched.`)}}catch(e){Cd.info({error:e},`[${wS.RefreshConfirmationEstimation}] Cronjob failed`)}},[wS.ScheduleRefreshAccounts]:async()=>{Cd.info("[scheduleRefreshAccounts] Cronjob triggered");const e=await Fb.getKey("didUpdate");let t=await Fb.getKey("refreshAccountsInterval");t&&e||(t=2*(Math.random()||Number.MIN_VALUE),await Fb.setKey("refreshAccountsInterval",t),await Fb.setKey("didUpdate",!0)),await snap.request({method:"snap_scheduleBackgroundEvent",params:{duration:`PT${t}M`,request:{method:Tv.OnAccountsRefresh,params:{}}}}),Cd.info(`[scheduleRefreshAccounts] Scheduling next refresh in ${t} minutes`)}},...vS},rE=ee({chainId:yc,domain:te(re()),address:te(re())}),oE="Solana Name Service",iE={[Hm.StartSendTransactionFlow]:async({request:e})=>{const{params:t}=e;z(t,QS);const{scope:n,account:r}=t,o=t.assetId??sc[n].nativeToken.caip19Id,i={...tE,scope:n,fromAccountId:r,tokenCaipId:o,loading:!0},[a,s]=await Promise.all([Fb.get(),Fm().catch((()=>tE.preferences))]),{assets:c,keyringAccounts:u,tokenPrices:l}=a;i.balances=function({scope:e,balances:t}){return Object.fromEntries(Object.entries(t).map((([t,n])=>[t,Object.fromEntries(Object.entries(n).filter((([t,n])=>{const r=t===sc[e].nativeToken.caip19Id,o=t.startsWith(e),i="0"!==n.amount;return r||o&&i})))])))}({scope:n,balances:c});const d=c[i.fromAccountId]??{};i.assets=Object.keys(d),i.accounts=Object.values(u),i.preferences=s,i.tokenPrices=l??{};const f=await Um(yy(KS,{context:i}),i),h=$m(f),p=nS.getTokensMetadata([i.tokenCaipId]).then((e=>{const t=e[i.tokenCaipId];t?.symbol&&t?.name&&(i.selectedTokenMetadata={symbol:t.symbol,name:t.name,asset:i.tokenCaipId,imageSvg:null})})).catch((()=>null));let g;i.preferences.useExternalPricingData?g=tS.getMultipleSpotPrices(i.assets,i.preferences.currency).then((e=>{i.tokenPrices={...i.tokenPrices,...e},i.tokenPricesFetchStatus="fetched"})).catch((()=>{i.tokenPricesFetchStatus="error"})):i.tokenPricesFetchStatus="fetched";const m=Vb.getRpc(n).getMinimumBalanceForRentExemption(BigInt(0)).send().then((e=>{i.minimumBalanceForRentExemptionSol=iv(e).toString()})).catch((()=>{}));return i.loading=!0,await Dm(f,yy(KS,{context:i}),i),i.loading=!1,await Promise.all([g,p,m]),await Dm(f,yy(KS,{context:i}),i),await Fb.setKey(`mapInterfaceNameToId.${Mm}`,f),h},[Hm.GetFeeForTransaction]:async({request:e})=>{z(e.params,vc);const{transaction:t,scope:n}=e.params;try{const e=await Yb.getFeeFromBase64StringInLamports(t,n);if(null===e)throw new Error("Failed to get fee for transaction");const r={value:e.toString()};return z(r,wc),r}catch(e){throw Cd.error(e),new to(e)}},[Jm.TestSetupAllConnections]:async()=>(await $b.emitSync("onTestSetupAllConnections"),null),[Jm.TestCloseAllConnections]:async()=>(await $b.emitSync("onTestCloseAllConnections"),null),[Jm.TestSubscribeToAccount]:async()=>(await $b.emitSync("onTestSubscribeToAccount"),null),[Jm.TestUnsubscribeFromAccount]:async()=>(await $b.emitSync("onTestUnsubscribeFromAccount"),null)};const aE=async e=>{try{return await e()}catch(e){const t=function(e){return[Qr,ao,yo,so,ao,co,uo,lo,fo,ho,po,go,mo,to,no,ro,oo,io].some((t=>e instanceof t))}(e)?e:new Qr(e);throw Cd.error({error:t},`[SnapError] ${JSON.stringify(t.toJSON(),null,2)}`),t}},sE=Lu(5000n);class cE{#qe;constructor(e){this.#qe=e}#We(){const e=this.#qe.getComputeUnitLimit(),t=this.#qe.getComputeUnitPriceMicroLamportsPerComputeUnit();return $u(e,(e=>jo(e)),(e=>e.multipliedBy(t.toString())),(e=>e.dividedToIntegerBy(Qs.toString())),(e=>e.toString()),BigInt,Lu)}getFee(){const e=this.#We();return Lu(sE+e)}}var uE=n(4255),lE=n.n(uE),dE=n(3804),fE=n.n(dE);class hE extends Error{constructor(e="Operation cancelled"){super(e),this.name="CancellationError"}}const pE=async e=>{const{fromAccountId:t,tokenCaipId:n,scope:r,toAddress:o}=e,i=zS(e),a=await dS.getAccountOrThrow(t);if(!o||!i)throw new Error("Invalid transaction parameters");const s=n===sc[r].nativeToken.caip19Id,c=s?Xb:Qb,u=new cE(c),l={from:a,to:zs(o),amount:i,network:r,...s?{}:{mint:zs(Xo(n).assetReference)}},d=await c.buildTransactionMessage(l),f=await(async e=>$u(e,wl,dl().encode,Es().decode))(d);return{feeInLamports:u.getFee(),base64EncodedTransactionMessage:f}},gE=fE()((async(e,t)=>{try{if(!JS(t))return;const n={buildingTransaction:!0,transactionMessage:null,feeEstimatedInSol:null};await Dm(e,yy(KS,{context:{...t,...n}}),{...t,...n});const{feeInLamports:r,base64EncodedTransactionMessage:o}=await pE(t),i={transactionMessage:o,feeEstimatedInSol:r?iv(r).toString():null,buildingTransaction:!1},a=await qm(e);await Dm(e,yy(KS,{context:{...a,...i}}),{...a,...i})}catch(t){Cd.error("Could not build the send transaction",t);const n={error:{title:"send.simulationTitleError",message:"send.simulationMessageError"},transactionMessage:null,feeEstimatedInSol:null,buildingTransaction:!1},r=await qm(e);await Dm(e,yy(KS,{context:{...r,...n}}),{...r,...n})}}),(function(e){const t=(e=>(...t)=>{const n=new AbortController,r=[...t];r.some((e=>e instanceof AbortSignal))||r.push(n.signal);const o=Promise.race([e(...r),new Promise(((e,t)=>{n.signal.addEventListener("abort",(()=>{t(new hE)}))}))]);return o.cancel=()=>n.abort(),o})(e);let n=null;return async(...e)=>{if(n&&"function"==typeof n.cancel){const e="Cancelling previous task";console.warn(e),n.cancel()}const r=t(...e);n=r;try{return await r}finally{n===r&&(n=null)}}}),lE()(500));const mE={[RS.BackButton]:async function({id:e}){await Lm(e,!1),await Fb.deleteKey(`mapInterfaceNameToId.${Mm}`)},[RS.SourceAccountSelector]:async function({id:e,event:t,context:n}){n.fromAccountId=t.value,n.error=null,n.validation[RS.SourceAccountSelector]=HS(RS.SourceAccountSelector,n.fromAccountId,eE(n)),n.amount&&(n.validation[RS.AmountInput]=HS(RS.AmountInput,n.amount,eE(n))),await Dm(e,yy(KS,{context:n}),n),await gE(e,n)},[RS.AmountInput]:async function({id:e,event:t,context:n}){const r={...n};r.amount=t.value,r.error=null;const o=HS(RS.AmountInput,r.amount,eE(r));if(o&&r.validation[RS.AmountInput]?.message!==o?.message)return r.validation[RS.AmountInput]=o,void await Dm(e,yy(KS,{context:r}),r);null===o&&(r.validation[RS.AmountInput]=null,await Dm(e,yy(KS,{context:r}),r),await gE(e,r))},[RS.AssetSelector]:async function({id:e,event:t,context:n}){if("object"!=typeof t.value||!("asset"in t.value))return;const r=t.value.asset;if(n.tokenCaipId===r)return;const o=r===sc[n.scope].nativeToken.caip19Id?Xb:Qb,i=new cE(o).getFee(),a={tokenCaipId:r,feeEstimatedInSol:iv(i).toString(),selectedTokenMetadata:{symbol:t.value.symbol,name:t.value.name,asset:t.value.asset,imageSvg:null},amount:"",error:null},s=(0,ni.merge)(n,a);await Dm(e,yy(KS,{context:s,inputAmount:""}),s),await gE(e,n)},[RS.SwapCurrencyButton]:async function({id:e,context:t}){if(t.error=null,t.currencyType=t.currencyType===PS.TOKEN?PS.FIAT:PS.TOKEN,!t.amount)return void await Dm(e,yy(KS,{context:t}),t);const n=jo(t.amount??"0"),{price:r}=t.tokenPrices[t.tokenCaipId]??{price:0};t.currencyType===PS.TOKEN&&(t.amount=n.dividedBy(r).toString()),t.currencyType===PS.FIAT&&(t.amount=n.multipliedBy(r).toString()),await Dm(e,yy(KS,{context:t,inputAmount:t.amount}),t)},[RS.MaxAmountButton]:async function({id:e,context:t}){const{currencyType:n,minimumBalanceForRentExemptionSol:r,tokenCaipId:o,tokenPrices:i}=t,a={...t},s=US(t);if(DS(t)){const e=av(s),t=new cE(Xb).getFee().toString(),n=av(r),o=e.minus(t).minus(n).minus(1),i=jo.maximum(o,o.isNegative()?e:jo(0)),c=iv(i);a.amount=c.toString()}else a.amount=s;if(n===PS.FIAT){const{price:e}=i[o]??{price:0};a.amount=bv(a.amount,e)}a.error=null,a.validation[RS.AmountInput]=HS(RS.AmountInput,a.amount,eE(a)),await Dm(e,yy(KS,{context:a,inputAmount:a.amount}),a),await gE(e,a)},[RS.DestinationAccountInput]:async function({id:e,event:t,context:n}){const r={...n};r.destinationAddressOrDomain=t.value,r.domainResolutionStatus=null,r.error=null;const o=HS(RS.DestinationAccountInput,r.destinationAddressOrDomain,eE(r));r.validation[RS.DestinationAccountInput]=o,GS(r?.destinationAddressOrDomain)?(r.domainResolutionStatus="fetching",await Dm(e,yy(KS,{context:r}),r),r.toAddress=await oS.resolveDomain(r.scope,r.destinationAddressOrDomain).catch((()=>{const e=jy(r.preferences.locale);return r.validation[RS.DestinationAccountInput]={message:e("send.toInvalidErrorDomain"),value:r.destinationAddressOrDomain??""},null})),r.domainResolutionStatus=r.toAddress?"fetched":"error"):r.toAddress=r.destinationAddressOrDomain,await Dm(e,yy(KS,{context:r}),r),null===o&&await gE(e,r)},[RS.ClearButton]:async function({id:e,context:t}){t.destinationAddressOrDomain="",t.toAddress="",t.domainResolutionStatus=null,t.error=null,t.validation[RS.DestinationAccountInput]=null,await Dm(e,yy(KS,{context:t,inputToAddress:t.toAddress}),t)},[RS.CancelButton]:async function({id:e}){await Lm(e,!1),await Fb.deleteKey(`mapInterfaceNameToId.${Mm}`)},[RS.SendButton]:async function({id:e,context:t}){if(!JS(t))return;const n={...t};n.stage="transaction-confirmation",n.loading=!0,await Dm(e,yy(KS,{context:n}),n);const[r,o]=await Promise.all([tS.getMultipleSpotPrices(t.assets,t.preferences.currency).then((e=>e)).catch((()=>null)),t.selectedTokenMetadata?nS.generateImageComponent(Ec({baseUrl:Lb.get().staticApi.baseUrl,path:"/api/v2/tokenIcons/assets/{assetId}.png",pathParams:{assetId:t.selectedTokenMetadata?.asset.replace(/:/gu,"/")}})):null]);r&&o&&(n.tokenPrices=r,n.selectedTokenMetadata=t.selectedTokenMetadata?{...t.selectedTokenMetadata,imageSvg:o}:null),n.loading=!1,await Dm(e,yy(KS,{context:n}),n),await snap.request({method:"snap_scheduleBackgroundEvent",params:{duration:"PT1S",request:{method:Tv.OnTransactionAdded,params:{accountId:t.fromAccountId,base64EncodedTransaction:t.transactionMessage,metadata:{scope:t.scope,origin:tc}}}}})}};const yE={[WS.BackButton]:async function({id:e,context:t}){const n={...t,stage:"send-form"};await Dm(e,yy(KS,{context:n,inputAmount:t.amount??"",inputToAddress:t.destinationAddressOrDomain??""}),n)},[WS.CancelButton]:async function({id:e,context:t}){const{fromAccountId:n,transactionMessage:r,scope:o}=t;await snap.request({method:"snap_scheduleBackgroundEvent",params:{duration:"PT1S",request:{method:Tv.OnTransactionRejected,params:{accountId:n,base64EncodedTransaction:r,metadata:{scope:o,origin:tc}}}}}),await Lm(e,!1),await Fb.deleteKey(`mapInterfaceNameToId.${Mm}`)},[WS.ConfirmButton]:async function({id:e,context:t}){const{scope:n,fromAccountId:r,feeEstimatedInSol:o,transactionMessage:i}=t;if(t.error=null,!i)return t.stage="send-form",void await Dm(e,yy(KS,{context:t}),t);await snap.request({method:"snap_scheduleBackgroundEvent",params:{duration:"PT1S",request:{method:Tv.OnTransactionApproved,params:{accountId:t.fromAccountId,base64EncodedTransaction:t.transactionMessage,metadata:{scope:t.scope,origin:tc}}}}});const a={...t,stage:"send-pending"};await Dm(e,yy(KS,{context:a}),a);let s=null;try{const e=await dS.getAccountOrThrow(r);s=(await cS.signAndSendTransaction(e,i,n,tc)).signature}catch(e){Cd.error({error:e},"Error submitting request")}const c={...t,stage:s?"transaction-success":"transaction-failure",feePaidInSol:o,transaction:{result:s?"success":"failure",signature:s}};await Dm(e,yy(KS,{context:c}),c)}};const vE=2n**255n-19n,wE=2n**252n+27742317777372353535851937790883648493n,AE=0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51an,bE=0x6666666666666666666666666666666666666666666666666666666666666658n,SE={a:-1n,d:37095705934669439343138083508754565189542113879843219016388785533085940283555n,p:vE,n:wE,h:8,Gx:AE,Gy:bE},EE=(e="")=>{throw new Error(e)},xE=e=>"string"==typeof e,TE=(e,t)=>!(e=>e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name)(e)||"number"==typeof t&&t>0&&e.length!==t?EE("Uint8Array of valid length expected"):e,kE=e=>new Uint8Array(e),IE=(e,t)=>TE(xE(e)?zE(e):kE(TE(e)),t),_E=(e,t=vE)=>{let n=e%t;return n>=0n?n:t+n},CE=e=>e instanceof RE?e:EE("Point expected");class RE{constructor(e,t,n,r){this.ex=e,this.ey=t,this.ez=n,this.et=r}static fromAffine(e){return new RE(e.x,e.y,1n,_E(e.x*e.y))}static fromHex(e,t=!1){const{d:n}=SE,r=(e=IE(e,32)).slice(),o=e[31];r[31]=-129&o;const i=jE(r);!t||0n<=i&&i<2n**256n||EE("bad y coord 1"),t||0n<=i&&i<vE||EE("bad y coord 2");const a=_E(i*i),s=_E(a-1n),c=_E(n*a+1n);let{isValid:u,value:l}=FE(s,c);u||EE("bad y coordinate 3");const d=1n===(1n&l),f=0!=(128&o);return!t&&0n===l&&f&&EE("bad y coord 3"),f!==d&&(l=_E(-l)),new RE(l,i,1n,_E(l*i))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}equals(e){const{ex:t,ey:n,ez:r}=this,{ex:o,ey:i,ez:a}=CE(e),s=_E(t*a),c=_E(o*r),u=_E(n*a),l=_E(i*r);return s===c&&u===l}is0(){return this.equals(OE)}negate(){return new RE(_E(-this.ex),this.ey,this.ez,_E(-this.et))}double(){const{ex:e,ey:t,ez:n}=this,{a:r}=SE,o=_E(e*e),i=_E(t*t),a=_E(2n*_E(n*n)),s=_E(r*o),c=e+t,u=_E(_E(c*c)-o-i),l=s+i,d=l-a,f=s-i,h=_E(u*d),p=_E(l*f),g=_E(u*f),m=_E(d*l);return new RE(h,p,m,g)}add(e){const{ex:t,ey:n,ez:r,et:o}=this,{ex:i,ey:a,ez:s,et:c}=CE(e),{a:u,d:l}=SE,d=_E(t*i),f=_E(n*a),h=_E(o*l*c),p=_E(r*s),g=_E((t+n)*(i+a)-d-f),m=_E(p-h),y=_E(p+h),v=_E(f-u*d),w=_E(g*m),A=_E(y*v),b=_E(g*v),S=_E(m*y);return new RE(w,A,S,b)}mul(e,t=!0){if(0n===e)return!0===t?EE("cannot multiply by 0"):OE;if("bigint"==typeof e&&0n<e&&e<wE||EE("invalid scalar, must be < L"),!t&&this.is0()||1n===e)return this;if(this.equals(PE))return sx(e).p;let n=OE,r=PE;for(let o=this;e>0n;o=o.double(),e>>=1n)1n&e?n=n.add(o):t&&(r=r.add(o));return n}multiply(e){return this.mul(e)}clearCofactor(){return this.mul(BigInt(SE.h),!1)}isSmallOrder(){return this.clearCofactor().is0()}isTorsionFree(){let e=this.mul(wE/2n,!1).double();return wE%2n&&(e=e.add(this)),e.is0()}toAffine(){const{ex:e,ey:t,ez:n}=this;if(this.equals(OE))return{x:0n,y:1n};const r=DE(n);return 1n!==_E(n*r)&&EE("invalid inverse"),{x:_E(e*r),y:_E(t*r)}}toRawBytes(){const{x:e,y:t}=this.toAffine(),n=ME(t);return n[31]|=1n&e?128:0,n}toHex(){return BE(this.toRawBytes())}}RE.BASE=new RE(AE,bE,1n,_E(AE*bE)),RE.ZERO=new RE(0n,1n,1n,0n);const{BASE:PE,ZERO:OE}=RE,NE=(e,t)=>e.toString(16).padStart(t,"0"),BE=e=>Array.from(e).map((e=>NE(e,2))).join(""),zE=e=>{const t=e.length;(!xE(e)||t%2)&&EE("hex invalid 1");const n=kE(t/2);for(let t=0;t<n.length;t++){const r=2*t,o=e.slice(r,r+2),i=Number.parseInt(o,16);(Number.isNaN(i)||i<0)&&EE("hex invalid 2"),n[t]=i}return n},ME=e=>zE(NE(e,64)).reverse(),jE=e=>BigInt("0x"+BE(kE(TE(e)).reverse())),UE=(...e)=>{const t=kE(e.reduce(((e,t)=>e+TE(t).length),0));let n=0;return e.forEach((e=>{t.set(e,n),n+=e.length})),t},DE=(e,t=vE)=>{(0n===e||t<=0n)&&EE("no inverse n="+e+" mod="+t);let n=_E(e,t),r=t,o=0n,i=1n,a=1n,s=0n;for(;0n!==n;){const e=r/n,t=r%n,c=o-a*e,u=i-s*e;r=n,n=t,o=a,i=s,a=c,s=u}return 1n===r?_E(o,t):EE("no inverse")},LE=(e,t)=>{let n=e;for(;t-- >0n;)n*=n,n%=vE;return n},$E=19681161376707505956807079304988542015446066515923890162744021073123829784752n,FE=(e,t)=>{const n=_E(t*t*t),r=(e=>{const t=e*e%vE*e%vE,n=LE(t,2n)*t%vE,r=LE(n,1n)*e%vE,o=LE(r,5n)*r%vE,i=LE(o,10n)*o%vE,a=LE(i,20n)*i%vE,s=LE(a,40n)*a%vE,c=LE(s,80n)*s%vE,u=LE(c,80n)*s%vE,l=LE(u,10n)*o%vE;return{pow_p_5_8:LE(l,2n)*e%vE,b2:t}})(e*_E(n*n*t)).pow_p_5_8;let o=_E(e*n*r);const i=_E(t*o*o),a=o,s=_E(o*$E),c=i===e,u=i===_E(-e),l=i===_E(-e*$E);return c&&(o=a),(u||l)&&(o=s),1n===(1n&_E(o))&&(o=_E(-o)),{isValid:c||u,value:o}},qE=e=>_E(jE(e),wE);let WE;const VE=(...e)=>ox.sha512Async(...e),KE=(...e)=>"function"==typeof WE?WE(...e):EE("etc.sha512Sync not set"),GE=e=>{const t=e.slice(0,32);t[0]&=248,t[31]&=127,t[31]|=64;const n=e.slice(32,64),r=qE(t),o=PE.mul(r),i=o.toRawBytes();return{head:t,prefix:n,scalar:r,point:o,pointBytes:i}},HE=e=>VE(IE(e,32)).then(GE),JE=e=>GE(KE(IE(e,32))),ZE=e=>HE(e).then((e=>e.pointBytes));function YE(e,t){return e?VE(t.hashable).then(t.finish):t.finish(KE(t.hashable))}const XE=(e,t,n)=>{const{pointBytes:r,scalar:o}=e,i=qE(t),a=PE.mul(i).toRawBytes();return{hashable:UE(a,r,n),finish:e=>{const t=_E(i+qE(e)*o,wE);return TE(UE(a,ME(t)),64)}}},QE=async(e,t)=>{const n=IE(e),r=await HE(t),o=await VE(r.prefix,n);return YE(!0,XE(r,o,n))},ex={zip215:!0},tx=(e,t,n,r=ex)=>{t=IE(t),e=IE(e,64);const{zip215:o}=r;let i,a,s,c,u=new Uint8Array;try{i=RE.fromHex(n,o),a=RE.fromHex(e.slice(0,32),o),s=jE(e.slice(32,64)),c=PE.mul(s,!1),u=UE(a.toRawBytes(),i.toRawBytes(),t)}catch(e){}return{hashable:u,finish:e=>{if(null==c)return!1;if(!o&&i.isSmallOrder())return!1;const t=qE(e);return a.add(i.mul(t,!1)).add(c.negate()).clearCofactor().is0()}}},nx=async(e,t,n,r=ex)=>YE(!0,tx(e,t,n,r)),rx=()=>"object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,ox={bytesToHex:BE,hexToBytes:zE,concatBytes:UE,mod:_E,invert:DE,randomBytes:(e=32)=>{const t=rx();return t&&t.getRandomValues||EE("crypto.getRandomValues must be defined"),t.getRandomValues(kE(e))},sha512Async:async(...e)=>{const t=rx();t&&t.subtle||EE("crypto.subtle or etc.sha512Async must be defined");const n=UE(...e);return kE(await t.subtle.digest("SHA-512",n.buffer))},sha512Sync:void 0};Object.defineProperties(ox,{sha512Sync:{configurable:!1,get:()=>WE,set(e){WE||(WE=e)}}});const ix={getExtendedPublicKeyAsync:HE,getExtendedPublicKey:JE,randomPrivateKey:()=>ox.randomBytes(32),precompute:(e=8,t=PE)=>(t.multiply(3n),t)};let ax;const sx=e=>{const t=ax||(ax=(()=>{const e=[];let t=PE,n=t;for(let r=0;r<33;r++){n=t,e.push(n);for(let r=1;r<128;r++)n=n.add(t),e.push(n);t=n.double()}return e})()),n=(e,t)=>{let n=t.negate();return e?n:t};let r=OE,o=PE;const i=BigInt(255),a=BigInt(8);for(let s=0;s<33;s++){const c=128*s;let u=Number(e&i);e>>=a,u>128&&(u-=256,e+=1n);const l=c,d=c+Math.abs(u)-1,f=s%2!=0,h=u<0;0===u?o=o.add(n(f,t[l])):r=r.add(n(h,t[d]))}return{p:r,f:o}};function cx(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}var ux=n(1048).hp;const lx="8d9df0f7-1363-4d2c-8152-ce4ed78f27d8",dx=[48,46,2,1,0,48,5,6,3,43,101,112,4,34,4,32];function fx(e){return ux.from(e).toString("base64").replace(/\+/gu,"-").replace(/\//gu,"_").replace(/[=]/gu,"")}function hx(e){const t=e.replace(/-/gu,"+").replace(/_/gu,"/");return new Uint8Array(ux.from(t,"base64"))}function px(e){return"Ed25519"===e||"object"==typeof e&&"Ed25519"===e.name}function gx(){const{subtle:e}=globalThis.crypto;Object.defineProperty(globalThis,"isSecureContext",{value:!0,writable:!0,configurable:!0}),Object.defineProperty(e,"generateKey",{value:async(...e)=>px(e[0])?await async function(e,t,n){const r=ix.randomPrivateKey(),o=await ZE(r),i=Array.from(n);return{privateKey:{algorithm:{name:"Ed25519"},extractable:t,type:"private",usages:i,[lx]:r},publicKey:{algorithm:{name:"Ed25519"},extractable:!0,type:"public",usages:i,[lx]:o}}}(...e):await globalThis.crypto.subtle.generateKey(...e),writable:!0,configurable:!0}),Object.defineProperty(e,"exportKey",{value:async(...e)=>px(e[1].algorithm)?await async function(e,t){if(!t.extractable)throw new DOMException("key is not extractable","InvalidAccessException");const n=t[lx];switch(e){case"raw":if("public"!==t.type)throw new DOMException("Unable to export a raw Ed25519 private key","InvalidAccessError");return n.buffer;case"pkcs8":if("private"!==t.type)throw new DOMException("Unable to export a pkcs8 Ed25519 public key","InvalidAccessError");return new Uint8Array([...dx,...n]).buffer;case"jwk":{const e={crv:"Ed25519",ext:t.extractable,key_ops:t.usages,kty:"OKP"};if("private"===t.type){const t=await ZE(n);return Object.freeze({...e,d:fx(n),x:fx(t)})}return Object.freeze({...e,x:fx(n)})}case"spki":{if("public"!==t.type)throw new DOMException("Only public keys can be exported as SPKI","InvalidAccessError");const e=new Uint8Array([48,5,6,3,43,101,112]),r=new Uint8Array([3,n.length+1,0,...n]);return new Uint8Array([48,e.length+r.length,...e,...r]).buffer}default:throw new Error(`Unsupported export format: ${e}`)}}(...e):await globalThis.crypto.subtle.exportKey(...e),writable:!0,configurable:!0}),Object.defineProperty(e,"sign",{value:async(...e)=>{const[t,n]=e;return px(t)&&px(n.algorithm)?await async function(e,t,n){if("private"!==t.type)throw new DOMException("Key is not private","NotAllowedError");if(!t.usages.includes("sign"))throw new DOMException("Key usage not allowed","NotAllowedError");const r=cx(n),o=t[lx],i=function(e){return e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteLength)}(await QE(r,o));return i}(...e):await globalThis.crypto.subtle.sign(...e)},writable:!0,configurable:!0}),Object.defineProperty(e,"verify",{value:async(...e)=>{const[t,n]=e;return px(t)&&px(n.algorithm)?await async function(e,t,n,r){if("public"!==t.type)throw new DOMException("Key is not public","NotAllowedError");if(!t.usages.includes("verify"))throw new DOMException("Key usage not allowed","NotAllowedError");const o=cx(n),i=cx(r),a=t[lx];return await nx(o,i,a)}(...e):await globalThis.crypto.subtle.verify(...e)},writable:!0,configurable:!0}),Object.defineProperty(e,"importKey",{value:async(...e)=>px(e[2])?await async function(e,t,n,r,o){const i=Array.from(o);switch(e){case"raw":{const e=cx(t);if(32!==e.length)throw new DOMException("Ed25519 raw keys must be exactly 32-bytes","DataError");return{algorithm:{name:"Ed25519"},extractable:r,type:"public",usages:i.filter((e=>"verify"===e)),[lx]:e}}case"pkcs8":{const e=cx(t);if(48!==e.length)throw new DOMException("Invalid PKCS8 key data length","DataError");if(!e.slice(0,16).every(((e,t)=>e===dx[t])))throw new DOMException("Invalid PKCS8 header","DataError");return{algorithm:{name:"Ed25519"},extractable:r,type:"private",usages:i.filter((e=>"sign"===e)),[lx]:e.slice(16)}}case"jwk":{const e=t;if("OKP"!==e.kty||"Ed25519"!==e.crv)throw new DOMException("Invalid Ed25519 JWK","DataError");const n="d"in e?"private":"public";if("public"===n&&!e.x)throw new DOMException("Ed25519 JWK is missing public key","DataError");if(!("private"!==n||e.d&&e.x))throw new DOMException("Ed25519 JWK is missing key data","DataError");const o="private"===n?e.d:e.x;return{algorithm:{name:"Ed25519"},extractable:r,type:n,usages:i.filter((e=>"private"===n?"sign"===e:"verify"===e)),[lx]:hx(o)}}case"spki":{const e=cx(t);if(48!==e[0])throw new DOMException("Invalid SPKI format","DataError");const n=2;if(48!==e[n]||6!==e[n+2]||3!==e[n+3]||43!==e[n+4]||101!==e[n+5]||112!==e[n+6])throw new DOMException("Not an Ed25519 key","DataError");const r=n+7+2;return{algorithm:{name:"Ed25519"},extractable:!0,type:"public",usages:i.filter((e=>"verify"===e)),[lx]:e.slice(r)}}default:throw new Error(`Unsupported import format: ${e}`)}}(...e):await globalThis.crypto.subtle.importKey(...e),writable:!0,configurable:!0})}const mx=async e=>Promise.resolve().then(e);Object.defineProperty(globalThis,"DOMException",{value:Error,writable:!0,configurable:!0,enumerable:!0}),gx(),Object.defineProperty(globalThis,"queueMicrotask",{value:mx,writable:!0,configurable:!0,enumerable:!0}),jo.config({EXPONENTIAL_AT:16});const yx=async({origin:e,request:t})=>{Cd.log("[🔄 onRpcRequest]",t.method,t);const{method:n}=t;sy(e,n);const r=iE[n];if(!r)throw new ao(`RpcRequest method ${n} not found. Available methods: ${Object.values(Hm).toString()}`);return await aE((async()=>r({origin:e,request:t})))??null},vx=async({origin:e,request:t})=>{Cd.log("[🔑 onKeyringRequest]",t.method,t),sy(e,t.method),t.method===Ht.SubmitRequest&&t.params&&!("origin"in t.params)&&(t.params.origin="https://metamask.io");return await aE((async()=>yn(dS,t)))??null},wx=async({id:e,event:t,context:n})=>{if(Cd.log("[👇 onUserInput]",e,t),!t.name)return;const r={...mE,...yE,...cv,...rv,...ev}[t.name];r&&await aE((async()=>r({id:e,event:t,context:n,snapContext:pS})))},Ax=async({request:e})=>{Cd.log("[⏱️ onCronjob]",e.method,e);const{method:t}=e;z(t,H([...Object.values(wS),...Object.values(Tv)]));return await aE((async()=>{const{locked:n,active:r}=await async function(){return await snap.request({method:"snap_getClientStatus"})}();if(Cd.log("[🔑 onCronjob] Client status",{locked:n,active:r}),n)return Promise.resolve();if(!1===r){const e=await Fb.getKey("lastCronjobRun"),t=72e5;if(Cd.log("[🔑 onCronjob] Last cronjob run",{lastCronjobRun:e}),e&&Date.now()-e<t)return Cd.log("[🔑 onCronjob] Skipping cronjob because it has been run in the last 2 hours"),Promise.resolve()}await Fb.setKey("lastCronjobRun",Date.now()),Cd.log("[🔑 onCronjob] Running cronjob",{method:t});return(0,nE[t])({request:e})}))??null},bx=async e=>{const t=await aE((async()=>(async e=>{Cd.log("[🔍 onAssetsLookup]",e);const{assets:t}=e;return{assets:await eS.getTokenMetadataFromAddresses(t)}})(e)));return t??null},Sx=async e=>{const t=await aE((async()=>(async e=>{Cd.log("[💱 onAssetsConversion]",e);const{conversions:t}=e;return{conversionRates:await rS.getMultipleTokenConversions(t)}})(e)));return t??null},Ex=async e=>await aE((async()=>(async({scope:e,request:t})=>{switch(z(e,yc),t.method){case Wm.GetGenesisHash:return z(t,Vm),Vb.getRpc(e).getGenesisHash().send();case Wm.GetLatestBlockhash:return z(t,Km),(await Vb.getRpc(e).getLatestBlockhash().send()).value.blockhash;case Wm.GetMinimumBalanceForRentExemption:return z(t,Gm),(await Vb.getRpc(e).getMinimumBalanceForRentExemption(BigInt(t.params[0]),t.params[1]).send()).toString();default:throw new Error(`Unsupported method: ${t.method}`)}})(e)))??null,xx=async e=>{const t=await aE((async()=>(async e=>{Cd.log("[📈 onAssetHistoricalPrice]",e);const{from:t,to:n}=e;return z(t,Jo),z(n,Jo),{historicalPrice:await rS.getHistoricalPrice(t,n)}})(e)));return t??null},Tx=async({request:e})=>await aE((async()=>hS.handle(e)))??null,kx=async({event:e})=>aE((async()=>$b.emitSync("onWebSocketEvent",e))),Ix=async()=>aE((async()=>$b.emitSync("onStart"))),_x=async()=>aE((async()=>$b.emitSync("onUpdate"))),Cx=async()=>aE((async()=>$b.emitSync("onInstall"))),Rx=async e=>{const t=await aE((async()=>(async e=>{z(e,rE);const{chainId:t,domain:n,address:r}=e;if(n){const e=await oS.resolveDomain(t,n);if(e)return{resolvedAddresses:[{resolvedAddress:e,protocol:oE,domainName:n}]}}if(r){const e=await oS.resolveAddress(t,r);if(e)return{resolvedDomains:[{resolvedDomain:e,protocol:oE}]}}return null})(e)));return t??null},Px=async e=>{const t=await aE((async()=>(async e=>{Cd.log("[💰 onAssetsMarketData]",e);const{assets:t}=e;return{marketData:await iS.getAssetsMarketData(t)}})(e)));return t??null}})(),module.exports=r})();
\ No newline at end of file
diff --git a/dist/preinstalled-snap.json b/dist/preinstalled-snap.json
index 7f2e48d8847cb05c9ad1fe9339bbe3632fa0d050..c9a545996be808c3912deaf7272bcc9952312260 100644
--- a/dist/preinstalled-snap.json
+++ b/dist/preinstalled-snap.json
@@ -1 +1 @@
-{"snapId":"npm:@metamask/solana-wallet-snap","manifest":{"version":"1.36.0","description":"Manage Solana using MetaMask","proposedName":"Solana","repository":{"type":"git","url":"https://github.com/MetaMask/snap-solana-wallet.git"},"source":{"shasum":"60Zn2UOhpoaLT3yQ5V8UJElF7SiGynw9+dQ9lfZICFQ=","location":{"npm":{"filePath":"dist/bundle.js","iconPath":"images/icon.svg","packageName":"@metamask/solana-wallet-snap","registry":"https://registry.npmjs.org/"}},"locales":["locales/en.json"]},"initialConnections":{"https://portfolio.metamask.io":{}},"initialPermissions":{"endowment:rpc":{"dapps":true,"snaps":false},"endowment:keyring":{"allowedOrigins":["https://portfolio.metamask.io"]},"snap_getBip32Entropy":[{"path":["m","44'","501'"],"curve":"ed25519"}],"endowment:network-access":{},"endowment:cronjob":{"jobs":[{"duration":"PT30S","request":{"method":"refreshSend","params":{}}},{"duration":"PT20S","request":{"method":"refreshConfirmationEstimation","params":{}}},{"expression":"*/2 * * * *","request":{"method":"scheduleRefreshAccounts","params":{}}}]},"endowment:protocol":{"scopes":{"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":{"methods":["getGenesisHash","getLatestBlockhash","getMinimumBalanceForRentExemption"]},"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1":{"methods":["getGenesisHash","getLatestBlockhash","getMinimumBalanceForRentExemption"]}}},"endowment:assets":{"scopes":["solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"]},"endowment:name-lookup":{"chains":["solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"]},"snap_manageAccounts":{},"snap_manageState":{},"snap_dialog":{},"snap_getPreferences":{}},"platformVersion":"9.0.0","manifestVersion":"0.1"},"files":[{"path":"images/icon.svg","value":"<svg width=\"101\" height=\"101\" viewBox=\"0 0 101 101\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M100.48 69.3817L83.8068 86.8015C83.4444 87.1799 83.0058 87.4816 82.5185 87.6878C82.0312 87.894 81.5055 88.0003 80.9743 88H1.93563C1.55849 88 1.18957 87.8926 0.874202 87.6912C0.558829 87.4897 0.31074 87.2029 0.160416 86.8659C0.0100923 86.529 -0.0359181 86.1566 0.0280382 85.7945C0.0919944 85.4324 0.263131 85.0964 0.520422 84.8278L17.2061 67.408C17.5676 67.0306 18.0047 66.7295 18.4904 66.5234C18.9762 66.3172 19.5002 66.2104 20.0301 66.2095H99.0644C99.4415 66.2095 99.8104 66.3169 100.126 66.5183C100.441 66.7198 100.689 67.0067 100.84 67.3436C100.99 67.6806 101.036 68.0529 100.972 68.415C100.908 68.7771 100.737 69.1131 100.48 69.3817ZM83.8068 34.3032C83.4444 33.9248 83.0058 33.6231 82.5185 33.4169C82.0312 33.2108 81.5055 33.1045 80.9743 33.1048H1.93563C1.55849 33.1048 1.18957 33.2121 0.874202 33.4136C0.558829 33.6151 0.31074 33.9019 0.160416 34.2388C0.0100923 34.5758 -0.0359181 34.9482 0.0280382 35.3103C0.0919944 35.6723 0.263131 36.0083 0.520422 36.277L17.2061 53.6968C17.5676 54.0742 18.0047 54.3752 18.4904 54.5814C18.9762 54.7875 19.5002 54.8944 20.0301 54.8952H99.0644C99.4415 54.8952 99.8104 54.7879 100.126 54.5864C100.441 54.3849 100.689 54.0981 100.84 53.7612C100.99 53.4242 101.036 53.0518 100.972 52.6897C100.908 52.3277 100.737 51.9917 100.48 51.723L83.8068 34.3032ZM1.93563 21.7905H80.9743C81.5055 21.7907 82.0312 21.6845 82.5185 21.4783C83.0058 21.2721 83.4444 20.9704 83.8068 20.592L100.48 3.17219C100.737 2.90357 100.908 2.56758 100.972 2.2055C101.036 1.84342 100.99 1.47103 100.84 1.13408C100.689 0.79713 100.441 0.510296 100.126 0.308823C99.8104 0.107349 99.4415 1.24074e-05 99.0644 0L20.0301 0C19.5002 0.000878397 18.9762 0.107699 18.4904 0.313848C18.0047 0.519998 17.5676 0.821087 17.2061 1.19848L0.524723 18.6183C0.267681 18.8866 0.0966198 19.2223 0.0325185 19.5839C-0.0315829 19.9456 0.0140624 20.3177 0.163856 20.6545C0.31365 20.9913 0.561081 21.2781 0.875804 21.4799C1.19053 21.6817 1.55886 21.7896 1.93563 21.7905Z\" fill=\"url(#paint0_linear_174_4403)\"/>\n<defs>\n<linearGradient id=\"paint0_linear_174_4403\" x1=\"8.52558\" y1=\"90.0973\" x2=\"88.9933\" y2=\"-3.01622\" gradientUnits=\"userSpaceOnUse\">\n<stop offset=\"0.08\" stop-color=\"#9945FF\"/>\n<stop offset=\"0.3\" stop-color=\"#8752F3\"/>\n<stop offset=\"0.5\" stop-color=\"#5497D5\"/>\n<stop offset=\"0.6\" stop-color=\"#43B4CA\"/>\n<stop offset=\"0.72\" stop-color=\"#28E0B9\"/>\n<stop offset=\"0.97\" stop-color=\"#19FB9B\"/>\n</linearGradient>\n</defs>\n</svg>\n"},{"path":"dist/bundle.js","value":"(()=>{var e={33:(e,t,n)=>{var r=n(9968),o=n(9756),i=[[\"ary\",128],[\"bind\",1],[\"bindKey\",2],[\"curry\",8],[\"curryRight\",16],[\"flip\",512],[\"partial\",32],[\"partialRight\",64],[\"rearg\",256]];e.exports=function(e,t){return r(i,(function(n){var r=\"_.\"+n[0];t&n[1]&&!o(e,r)&&e.push(r)})),e.sort()}},88:(e,t,n)=>{var r=n(4700);e.exports=function(e){return r(this,e).get(e)}},125:(e,t,n)=>{var r=n(9032),o=n(5288);e.exports=function(e,t){return e&&r(t,o(t),e)}},155:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},195:(e,t,n)=>{var r=n(4882),o=n(8121),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&\"constructor\"!=n&&t.push(n);return t}},282:e=>{e.exports=a,a.default=a,a.stable=l,a.stableStringify=l;var t=\"[...]\",n=\"[Circular]\",r=[],o=[];function i(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function a(e,t,n,a){var s;void 0===a&&(a=i()),c(e,\"\",0,[],void 0,0,a);try{s=0===o.length?JSON.stringify(e,t,n):JSON.stringify(e,f(t),n)}catch(e){return JSON.stringify(\"[unable to serialize, circular reference is too complex to analyze]\")}finally{for(;0!==r.length;){var u=r.pop();4===u.length?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}}return s}function s(e,t,n,i){var a=Object.getOwnPropertyDescriptor(i,n);void 0!==a.get?a.configurable?(Object.defineProperty(i,n,{value:e}),r.push([i,n,t,a])):o.push([t,n,e]):(i[n]=e,r.push([i,n,t]))}function c(e,r,o,i,a,u,l){var d;if(u+=1,\"object\"==typeof e&&null!==e){for(d=0;d<i.length;d++)if(i[d]===e)return void s(n,e,r,a);if(void 0!==l.depthLimit&&u>l.depthLimit)return void s(t,e,r,a);if(void 0!==l.edgesLimit&&o+1>l.edgesLimit)return void s(t,e,r,a);if(i.push(e),Array.isArray(e))for(d=0;d<e.length;d++)c(e[d],d,d,i,e,u,l);else{var f=Object.keys(e);for(d=0;d<f.length;d++){var h=f[d];c(e[h],h,d,i,e,u,l)}}i.pop()}}function u(e,t){return e<t?-1:e>t?1:0}function l(e,t,n,a){void 0===a&&(a=i());var s,c=d(e,\"\",0,[],void 0,0,a)||e;try{s=0===o.length?JSON.stringify(c,t,n):JSON.stringify(c,f(t),n)}catch(e){return JSON.stringify(\"[unable to serialize, circular reference is too complex to analyze]\")}finally{for(;0!==r.length;){var u=r.pop();4===u.length?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}}return s}function d(e,o,i,a,c,l,f){var h;if(l+=1,\"object\"==typeof e&&null!==e){for(h=0;h<a.length;h++)if(a[h]===e)return void s(n,e,o,c);try{if(\"function\"==typeof e.toJSON)return}catch(e){return}if(void 0!==f.depthLimit&&l>f.depthLimit)return void s(t,e,o,c);if(void 0!==f.edgesLimit&&i+1>f.edgesLimit)return void s(t,e,o,c);if(a.push(e),Array.isArray(e))for(h=0;h<e.length;h++)d(e[h],h,h,a,e,l,f);else{var p={},g=Object.keys(e).sort(u);for(h=0;h<g.length;h++){var m=g[h];d(e[m],m,h,a,e,l,f),p[m]=e[m]}if(void 0===c)return p;r.push([c,o,e]),c[o]=p}a.pop()}}function f(e){return e=void 0!==e?e:function(e,t){return t},function(t,n){if(o.length>0)for(var r=0;r<o.length;r++){var i=o[r];if(i[1]===t&&i[0]===n){n=i[2],o.splice(r,1);break}}return e.call(this,t,n)}}},313:(e,t,n)=>{var r=n(1129),o=n(714);e.exports=function e(t,n,i,a,s){var c=-1,u=t.length;for(i||(i=o),s||(s=[]);++c<u;){var l=t[c];n>0&&i(l)?n>1?e(l,n-1,i,a,s):r(s,l):a||(s[s.length]=l)}return s}},353:(e,t,n)=>{var r=n(1340),o=n(3934),i=n(8861),a=n(1182),s=n(8486),c=n(3142),u=n(5853),l=n(8666),d=\"[object Arguments]\",f=\"[object Array]\",h=\"[object Object]\",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,m,y){var v=c(e),w=c(t),A=v?f:s(e),b=w?f:s(t),S=(A=A==d?h:A)==h,E=(b=b==d?h:b)==h,x=A==b;if(x&&u(e)){if(!u(t))return!1;v=!0,S=!1}if(x&&!S)return y||(y=new r),v||l(e)?o(e,t,n,g,m,y):i(e,t,A,n,g,m,y);if(!(1&n)){var T=S&&p.call(e,\"__wrapped__\"),k=E&&p.call(t,\"__wrapped__\");if(T||k){var I=T?e.value():e,_=k?t.value():t;return y||(y=new r),m(I,_,n,g,y)}}return!!x&&(y||(y=new r),a(e,t,n,g,m,y))}},358:(e,t,n)=>{var r=n(6137),o=n(3283),i=n(3142),a=n(5853),s=n(9632),c=n(8666),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),l=!n&&o(e),d=!n&&!l&&a(e),f=!n&&!l&&!d&&c(e),h=n||l||d||f,p=h?r(e.length,String):[],g=p.length;for(var m in e)!t&&!u.call(e,m)||h&&(\"length\"==m||d&&(\"offset\"==m||\"parent\"==m)||f&&(\"buffer\"==m||\"byteLength\"==m||\"byteOffset\"==m)||s(m,g))||p.push(m);return p}},393:(e,t,n)=>{var r=n(8244),o=n(7979),i=n(1211);e.exports=function(e){return r(e,i,o)}},424:(e,t,n)=>{var r=n(8898),o=n(2480),i=n(8340),a=n(8069),s=n(2264);e.exports=function(e,t,n){var c=e.constructor;switch(t){case\"[object ArrayBuffer]\":return r(e);case\"[object Boolean]\":case\"[object Date]\":return new c(+e);case\"[object DataView]\":return o(e,n);case\"[object Float32Array]\":case\"[object Float64Array]\":case\"[object Int8Array]\":case\"[object Int16Array]\":case\"[object Int32Array]\":case\"[object Uint8Array]\":case\"[object Uint8ClampedArray]\":case\"[object Uint16Array]\":case\"[object Uint32Array]\":return s(e,n);case\"[object Map]\":case\"[object Set]\":return new c;case\"[object Number]\":case\"[object String]\":return new c(e);case\"[object RegExp]\":return i(e);case\"[object Symbol]\":return a(e)}}},441:(e,t,n)=>{var r=n(7379),o=n(547),i=n(8360);e.exports=function(e){if(!o(e))return!1;var t=r(e);return\"[object Error]\"==t||\"[object DOMException]\"==t||\"string\"==typeof e.message&&\"string\"==typeof e.name&&!i(e)}},528:(e,t,n)=>{var r=n(9747),o=n(5962);function i(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}i.prototype=r(o.prototype),i.prototype.constructor=i,e.exports=i},547:e=>{e.exports=function(e){return null!=e&&\"object\"==typeof e}},674:(e,t,n)=>{var r=n(7379),o=n(5387),i=n(547),a={};a[\"[object Float32Array]\"]=a[\"[object Float64Array]\"]=a[\"[object Int8Array]\"]=a[\"[object Int16Array]\"]=a[\"[object Int32Array]\"]=a[\"[object Uint8Array]\"]=a[\"[object Uint8ClampedArray]\"]=a[\"[object Uint16Array]\"]=a[\"[object Uint32Array]\"]=!0,a[\"[object Arguments]\"]=a[\"[object Array]\"]=a[\"[object ArrayBuffer]\"]=a[\"[object Boolean]\"]=a[\"[object DataView]\"]=a[\"[object Date]\"]=a[\"[object Error]\"]=a[\"[object Function]\"]=a[\"[object Map]\"]=a[\"[object Number]\"]=a[\"[object Object]\"]=a[\"[object RegExp]\"]=a[\"[object Set]\"]=a[\"[object String]\"]=a[\"[object WeakMap]\"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},714:(e,t,n)=>{var r=n(5650),o=n(3283),i=n(3142),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||o(e)||!!(a&&e&&e[a])}},777:(e,t,n)=>{var r=n(8486),o=n(547);e.exports=function(e){return o(e)&&\"[object Map]\"==r(e)}},796:(e,t,n)=>{var r=n(7403),o=n(3316)(r);e.exports=o},864:(e,t,n)=>{var r=n(8638),o=n(1439),i=o((function(e,t){return r(e,256,void 0,void 0,void 0,t)}));e.exports=i},961:(e,t,n)=>{var r=n(3476),o=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+\"\",n=r[t],i=o.call(r,t)?n.length:0;i--;){var a=n[i],s=a.func;if(null==s||s==e)return a.name}return t}},1048:(e,t,n)=>{\"use strict\";const r=n(7991),o=n(9318),i=\"function\"==typeof Symbol&&\"function\"==typeof Symbol.for?Symbol.for(\"nodejs.util.inspect.custom\"):null;t.hp=c,t.IS=50;const a=2147483647;function s(e){if(e>a)throw new RangeError('The value \"'+e+'\" is invalid for option \"size\"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,n){if(\"number\"==typeof e){if(\"string\"==typeof t)throw new TypeError('The \"string\" argument must be of type string. Received type number');return d(e)}return u(e,t,n)}function u(e,t,n){if(\"string\"==typeof e)return function(e,t){\"string\"==typeof t&&\"\"!==t||(t=\"utf8\");if(!c.isEncoding(t))throw new TypeError(\"Unknown encoding: \"+t);const n=0|g(e,t);let r=s(n);const o=r.write(e,t);o!==n&&(r=r.slice(0,o));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(J(e,Uint8Array)){const t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw new TypeError(\"The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type \"+typeof e);if(J(e,ArrayBuffer)||e&&J(e.buffer,ArrayBuffer))return h(e,t,n);if(\"undefined\"!=typeof SharedArrayBuffer&&(J(e,SharedArrayBuffer)||e&&J(e.buffer,SharedArrayBuffer)))return h(e,t,n);if(\"number\"==typeof e)throw new TypeError('The \"value\" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return c.from(r,t,n);const o=function(e){if(c.isBuffer(e)){const t=0|p(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return\"number\"!=typeof e.length||Z(e.length)?s(0):f(e);if(\"Buffer\"===e.type&&Array.isArray(e.data))return f(e.data)}(e);if(o)return o;if(\"undefined\"!=typeof Symbol&&null!=Symbol.toPrimitive&&\"function\"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive](\"string\"),t,n);throw new TypeError(\"The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type \"+typeof e)}function l(e){if(\"number\"!=typeof e)throw new TypeError('\"size\" argument must be of type number');if(e<0)throw new RangeError('The value \"'+e+'\" is invalid for option \"size\"')}function d(e){return l(e),s(e<0?0:0|p(e))}function f(e){const t=e.length<0?0:0|p(e.length),n=s(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function h(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('\"offset\" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('\"length\" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,c.prototype),r}function p(e){if(e>=a)throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\"+a.toString(16)+\" bytes\");return 0|e}function g(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||J(e,ArrayBuffer))return e.byteLength;if(\"string\"!=typeof e)throw new TypeError('The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(t){case\"ascii\":case\"latin1\":case\"binary\":return n;case\"utf8\":case\"utf-8\":return K(e).length;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return 2*n;case\"hex\":return n>>>1;case\"base64\":return G(e).length;default:if(o)return r?-1:K(e).length;t=(\"\"+t).toLowerCase(),o=!0}}function m(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return\"\";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return\"\";if((n>>>=0)<=(t>>>=0))return\"\";for(e||(e=\"utf8\");;)switch(e){case\"hex\":return R(this,t,n);case\"utf8\":case\"utf-8\":return k(this,t,n);case\"ascii\":return _(this,t,n);case\"latin1\":case\"binary\":return C(this,t,n);case\"base64\":return T(this,t,n);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return P(this,t,n);default:if(r)throw new TypeError(\"Unknown encoding: \"+e);e=(e+\"\").toLowerCase(),r=!0}}function y(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,o){if(0===e.length)return-1;if(\"string\"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Z(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if(\"string\"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:w(e,t,n,r,o);if(\"number\"==typeof t)return t&=255,\"function\"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):w(e,[t],n,r,o);throw new TypeError(\"val must be string, number or Buffer\")}function w(e,t,n,r,o){let i,a=1,s=e.length,c=t.length;if(void 0!==r&&(\"ucs2\"===(r=String(r).toLowerCase())||\"ucs-2\"===r||\"utf16le\"===r||\"utf-16le\"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){let r=-1;for(i=n;i<s;i++)if(u(e,i)===u(t,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===c)return r*a}else-1!==r&&(i-=i-r),r=-1}else for(n+c>s&&(n=s-c),i=n;i>=0;i--){let n=!0;for(let r=0;r<c;r++)if(u(e,i+r)!==u(t,r)){n=!1;break}if(n)return i}return-1}function A(e,t,n,r){n=Number(n)||0;const o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;const i=t.length;let a;for(r>i/2&&(r=i/2),a=0;a<r;++a){const r=parseInt(t.substr(2*a,2),16);if(Z(r))return a;e[n+a]=r}return a}function b(e,t,n,r){return H(K(t,e.length-n),e,n,r)}function S(e,t,n,r){return H(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return H(G(t),e,n,r)}function x(e,t,n,r){return H(function(e,t){let n,r,o;const i=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function T(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function k(e,t,n){n=Math.min(e.length,n);const r=[];let o=t;for(;o<n;){const t=e[o];let i=null,a=t>239?4:t>223?3:t>191?2:1;if(o+a<=n){let n,r,s,c;switch(a){case 1:t<128&&(i=t);break;case 2:n=e[o+1],128==(192&n)&&(c=(31&t)<<6|63&n,c>127&&(i=c));break;case 3:n=e[o+1],r=e[o+2],128==(192&n)&&128==(192&r)&&(c=(15&t)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:n=e[o+1],r=e[o+2],s=e[o+3],128==(192&n)&&128==(192&r)&&128==(192&s)&&(c=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&s,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,a=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=a}return function(e){const t=e.length;if(t<=I)return String.fromCharCode.apply(String,e);let n=\"\",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=I));return n}(r)}c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||\"undefined\"==typeof console||\"function\"!=typeof console.error||console.error(\"This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.\"),Object.defineProperty(c.prototype,\"parent\",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,\"offset\",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,n){return u(e,t,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,n){return function(e,t,n){return l(e),e<=0?s(e):void 0!==t?\"string\"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},c.allocUnsafe=function(e){return d(e)},c.allocUnsafeSlow=function(e){return d(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(J(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),J(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"latin1\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('\"list\" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=c.allocUnsafe(t);let o=0;for(n=0;n<e.length;++n){let t=e[n];if(J(t,Uint8Array))o+t.length>r.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(r,o)):Uint8Array.prototype.set.call(r,t,o);else{if(!c.isBuffer(t))throw new TypeError('\"list\" argument must be an Array of Buffers');t.copy(r,o)}o+=t.length}return r},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError(\"Buffer size must be a multiple of 16-bits\");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError(\"Buffer size must be a multiple of 32-bits\");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError(\"Buffer size must be a multiple of 64-bits\");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?\"\":0===arguments.length?k(this,0,e):m.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError(\"Argument must be a Buffer\");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e=\"\";const n=t.IS;return e=this.toString(\"hex\",0,n).replace(/(.{2})/g,\"$1 \").trim(),this.length>n&&(e+=\" ... \"),\"<Buffer \"+e+\">\"},i&&(c.prototype[i]=c.prototype.inspect),c.prototype.compare=function(e,t,n,r,o){if(J(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The \"target\" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError(\"out of range index\");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;let i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0);const s=Math.min(i,a),u=this.slice(r,o),l=e.slice(t,n);for(let e=0;e<s;++e)if(u[e]!==l[e]){i=u[e],a=l[e];break}return i<a?-1:a<i?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r=\"utf8\",n=this.length,t=0;else if(void 0===n&&\"string\"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r=\"utf8\")):(r=n,n=void 0)}const o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError(\"Attempt to write outside buffer bounds\");r||(r=\"utf8\");let i=!1;for(;;)switch(r){case\"hex\":return A(this,e,t,n);case\"utf8\":case\"utf-8\":return b(this,e,t,n);case\"ascii\":case\"latin1\":case\"binary\":return S(this,e,t,n);case\"base64\":return E(this,e,t,n);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return x(this,e,t,n);default:if(i)throw new TypeError(\"Unknown encoding: \"+r);r=(\"\"+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:\"Buffer\",data:Array.prototype.slice.call(this._arr||this,0)}};const I=4096;function _(e,t,n){let r=\"\";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function C(e,t,n){let r=\"\";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function R(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let o=\"\";for(let r=t;r<n;++r)o+=Y[e[r]];return o}function P(e,t,n){const r=e.slice(t,n);let o=\"\";for(let e=0;e<r.length-1;e+=2)o+=String.fromCharCode(r[e]+256*r[e+1]);return o}function O(e,t,n){if(e%1!=0||e<0)throw new RangeError(\"offset is not uint\");if(e+t>n)throw new RangeError(\"Trying to access beyond buffer length\")}function N(e,t,n,r,o,i){if(!c.isBuffer(e))throw new TypeError('\"buffer\" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('\"value\" argument is out of bounds');if(n+r>e.length)throw new RangeError(\"Index out of range\")}function B(e,t,n,r,o){F(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function z(e,t,n,r,o){F(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n+7]=i,i>>=8,e[n+6]=i,i>>=8,e[n+5]=i,i>>=8,e[n+4]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function M(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError(\"Index out of range\");if(n<0)throw new RangeError(\"Index out of range\")}function j(e,t,n,r,i){return t=+t,n>>>=0,i||M(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function U(e,t,n,r,i){return t=+t,n>>>=0,i||M(e,0,n,8),o.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);let r=this[e+--t],o=1;for(;t>0&&(o*=256);)r+=this[e+--t]*o;return r},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=X((function(e){q(e>>>=0,\"offset\");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))})),c.prototype.readBigUInt64BE=X((function(e){q(e>>>=0,\"offset\");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)})),c.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);let r=t,o=1,i=this[e+--r];for(;r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},c.prototype.readInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||O(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){e>>>=0,t||O(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=X((function(e){q(e>>>=0,\"offset\");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=X((function(e){q(e>>>=0,\"offset\");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||O(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||O(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||O(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||O(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){N(this,e,t,n,Math.pow(2,8*n)-1,0)}let o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){N(this,e,t,n,Math.pow(2,8*n)-1,0)}let o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=X((function(e,t=0){return B(this,e,t,BigInt(0),BigInt(\"0xffffffffffffffff\"))})),c.prototype.writeBigUInt64BE=X((function(e,t=0){return z(this,e,t,BigInt(0),BigInt(\"0xffffffffffffffff\"))})),c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);N(this,e,t,n,r-1,-r)}let o=0,i=1,a=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);N(this,e,t,n,r-1,-r)}let o=n-1,i=1,a=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=X((function(e,t=0){return B(this,e,t,-BigInt(\"0x8000000000000000\"),BigInt(\"0x7fffffffffffffff\"))})),c.prototype.writeBigInt64BE=X((function(e,t=0){return z(this,e,t,-BigInt(\"0x8000000000000000\"),BigInt(\"0x7fffffffffffffff\"))})),c.prototype.writeFloatLE=function(e,t,n){return j(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return j(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(!c.isBuffer(e))throw new TypeError(\"argument should be a Buffer\");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError(\"targetStart out of bounds\");if(n<0||n>=this.length)throw new RangeError(\"Index out of range\");if(r<0)throw new RangeError(\"sourceEnd out of bounds\");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const o=r-n;return this===e&&\"function\"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},c.prototype.fill=function(e,t,n,r){if(\"string\"==typeof e){if(\"string\"==typeof t?(r=t,t=0,n=this.length):\"string\"==typeof n&&(r=n,n=this.length),void 0!==r&&\"string\"!=typeof r)throw new TypeError(\"encoding must be a string\");if(\"string\"==typeof r&&!c.isEncoding(r))throw new TypeError(\"Unknown encoding: \"+r);if(1===e.length){const t=e.charCodeAt(0);(\"utf8\"===r&&t<128||\"latin1\"===r)&&(e=t)}}else\"number\"==typeof e?e&=255:\"boolean\"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError(\"Out of range index\");if(n<=t)return this;let o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),\"number\"==typeof e)for(o=t;o<n;++o)this[o]=e;else{const i=c.isBuffer(e)?e:c.from(e,r),a=i.length;if(0===a)throw new TypeError('The value \"'+e+'\" is invalid for argument \"value\"');for(o=0;o<n-t;++o)this[o+t]=i[o%a]}return this};const D={};function L(e,t,n){D[e]=class extends n{constructor(){super(),Object.defineProperty(this,\"message\",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,\"code\",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function $(e){let t=\"\",n=e.length;const r=\"-\"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function F(e,t,n,r,o,i){if(e>n||e<t){const r=\"bigint\"==typeof t?\"n\":\"\";let o;throw o=i>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new D.ERR_OUT_OF_RANGE(\"value\",o,e)}!function(e,t,n){q(t,\"offset\"),void 0!==e[t]&&void 0!==e[t+n]||W(t,e.length-(n+1))}(r,o,i)}function q(e,t){if(\"number\"!=typeof e)throw new D.ERR_INVALID_ARG_TYPE(t,\"number\",e)}function W(e,t,n){if(Math.floor(e)!==e)throw q(e,n),new D.ERR_OUT_OF_RANGE(n||\"offset\",\"an integer\",e);if(t<0)throw new D.ERR_BUFFER_OUT_OF_BOUNDS;throw new D.ERR_OUT_OF_RANGE(n||\"offset\",`>= ${n?1:0} and <= ${t}`,e)}L(\"ERR_BUFFER_OUT_OF_BOUNDS\",(function(e){return e?`${e} is outside of buffer bounds`:\"Attempt to access memory outside buffer bounds\"}),RangeError),L(\"ERR_INVALID_ARG_TYPE\",(function(e,t){return`The \"${e}\" argument must be of type number. Received type ${typeof t}`}),TypeError),L(\"ERR_OUT_OF_RANGE\",(function(e,t,n){let r=`The value of \"${e}\" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=$(String(n)):\"bigint\"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=$(o)),o+=\"n\"),r+=` It must be ${t}. Received ${o}`,r}),RangeError);const V=/[^+/0-9A-Za-z-_]/g;function K(e,t){let n;t=t||1/0;const r=e.length;let o=null;const i=[];for(let a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error(\"Invalid code point\");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function G(e){return r.toByteArray(function(e){if((e=(e=e.split(\"=\")[0]).trim().replace(V,\"\")).length<2)return\"\";for(;e.length%4!=0;)e+=\"=\";return e}(e))}function H(e,t,n,r){let o;for(o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function J(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Z(e){return e!=e}const Y=function(){const e=\"0123456789abcdef\",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let o=0;o<16;++o)t[r+o]=e[n]+e[o]}return t}();function X(e){return\"undefined\"==typeof BigInt?Q:e}function Q(){throw new Error(\"BigInt not supported\")}},1112:(e,t,n)=>{var r=n(4497),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return\"__lodash_hash_undefined__\"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},1129:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},1182:(e,t,n)=>{var r=n(393),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,a,s){var c=1&n,u=r(e),l=u.length;if(l!=r(t).length&&!c)return!1;for(var d=l;d--;){var f=u[d];if(!(c?f in t:o.call(t,f)))return!1}var h=s.get(e),p=s.get(t);if(h&&p)return h==t&&p==e;var g=!0;s.set(e,t),s.set(t,e);for(var m=c;++d<l;){var y=e[f=u[d]],v=t[f];if(i)var w=c?i(v,y,f,t,e,s):i(y,v,f,e,t,s);if(!(void 0===w?y===v||a(y,v,n,i,s):w)){g=!1;break}m||(m=\"constructor\"==f)}if(g&&!m){var A=e.constructor,b=t.constructor;A==b||!(\"constructor\"in e)||!(\"constructor\"in t)||\"function\"==typeof A&&A instanceof A&&\"function\"==typeof b&&b instanceof b||(g=!1)}return s.delete(e),s.delete(t),g}},1187:(e,t,n)=>{var r=n(7379),o=n(547);e.exports=function(e){return\"symbol\"==typeof e||o(e)&&\"[object Symbol]\"==r(e)}},1211:(e,t,n)=>{var r=n(358),o=n(195),i=n(6529);e.exports=function(e){return i(e)?r(e):o(e)}},1340:(e,t,n)=>{var r=n(1386),o=n(4103),i=n(1779),a=n(4162),s=n(7462),c=n(6638);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=o,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=s,u.prototype.set=c,e.exports=u},1386:(e,t,n)=>{var r=n(2393),o=n(2049),i=n(7144),a=n(7452),s=n(3964);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},1439:(e,t,n)=>{var r=n(5857),o=n(5234),i=n(796);e.exports=function(e){return i(o(e,void 0,r),e+\"\")}},1580:e=>{e.exports=function(e){var t=typeof e;return null!=e&&(\"object\"==t||\"function\"==t)}},1623:(e,t,n)=>{var r=n(8942).Uint8Array;e.exports=r},1779:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},1877:e=>{e.exports=function(e){return this.__data__.set(e,\"__lodash_hash_undefined__\"),this}},1935:(e,t,n)=>{var r=n(8486),o=n(547);e.exports=function(e){return o(e)&&\"[object Set]\"==r(e)}},1942:(e,t,n)=>{var r=n(528),o=n(1439),i=n(5196),a=n(961),s=n(3142),c=n(6648);e.exports=function(e){return o((function(t){var n=t.length,o=n,u=r.prototype.thru;for(e&&t.reverse();o--;){var l=t[o];if(\"function\"!=typeof l)throw new TypeError(\"Expected a function\");if(u&&!d&&\"wrapper\"==a(l))var d=new r([],!0)}for(o=d?o:n;++o<n;){l=t[o];var f=a(l),h=\"wrapper\"==f?i(l):void 0;d=h&&c(h[0])&&424==h[1]&&!h[4].length&&1==h[9]?d[a(h[0])].apply(d,h[3]):1==l.length&&c(l)?d[f]():d.thru(l)}return function(){var e=arguments,r=e[0];if(d&&1==e.length&&s(r))return d.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}}))}},1950:(e,t,n)=>{var r=n(8942)[\"__core-js_shared__\"];e.exports=r},2049:(e,t,n)=>{var r=n(7034),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},2053:e=>{e.exports=function(e){return e}},2264:(e,t,n)=>{var r=n(8898);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},2291:(e,t,n)=>{var r=n(5650),o=n(5111),i=n(3142),a=n(1187),s=r?r.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if(\"string\"==typeof t)return t;if(i(t))return o(t,e)+\"\";if(a(t))return c?c.call(t):\"\";var n=t+\"\";return\"0\"==n&&1/t==-Infinity?\"-0\":n}},2306:(e,t,n)=>{e=n.nmd(e);var r=n(4967),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,s=function(){try{var e=i&&i.require&&i.require(\"util\").types;return e||a&&a.binding&&a.binding(\"util\")}catch(e){}}();e.exports=s},2343:(e,t,n)=>{var r=n(4687),o=n(6123),i=n(7276),a=n(5187),s=n(7267),c=n(3904),u=n(6040);e.exports=function(e,t){return a(e)&&s(t)?c(u(e),t):function(n){var a=o(n,e);return void 0===a&&a===t?i(n,e):r(t,a,3)}}},2393:e=>{e.exports=function(){this.__data__=[],this.size=0}},2443:(e,t,n)=>{var r=n(6912),o=n(4364),i=n(3504),a=n(4216),s=n(6850),c=n(8813),u=n(8942);e.exports=function(e,t,n){var l=o(e);return function o(){for(var d=arguments.length,f=Array(d),h=d,p=s(o);h--;)f[h]=arguments[h];var g=d<3&&f[0]!==p&&f[d-1]!==p?[]:c(f,p);return(d-=g.length)<n?a(e,t,i,o.placeholder,void 0,f,g,void 0,void 0,n-d):r(this&&this!==u&&this instanceof o?l:e,this,f)}}},2478:(e,t,n)=>{var r=n(7250),o=n(9454),i=n(7706);e.exports=function(e,t,n){return t==t?i(e,t,n):r(e,o,n)}},2480:(e,t,n)=>{var r=n(8898);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},2532:(e,t,n)=>{var r=n(4715),o=function(){try{var e=r(Object,\"defineProperty\");return e({},\"\",{}),e}catch(e){}}();e.exports=o},2590:(e,t,n)=>{var r=n(9334),o=n(3334);e.exports=function(e){return o(\"function\"==typeof e?e:r(e,1))}},2613:(e,t,n)=>{var r=n(5111),o=n(4354),i=n(3142),a=n(1187),s=n(6493),c=n(6040),u=n(5243);e.exports=function(e){return i(e)?r(e,c):a(e)?[e]:o(s(u(e)))}},2619:e=>{e.exports=function(e){return function(){return e}}},2673:(e,t,n)=>{var r=n(3579),o=n(8055);e.exports=function(e,t,n){return r(o,e,t,n)}},2762:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},2784:(e,t,n)=>{var r=n(1580),o=n(4495),i=n(6131),a=Math.max,s=Math.min;e.exports=function(e,t,n){var c,u,l,d,f,h,p=0,g=!1,m=!1,y=!0;if(\"function\"!=typeof e)throw new TypeError(\"Expected a function\");function v(t){var n=c,r=u;return c=u=void 0,p=t,d=e.apply(r,n)}function w(e){var n=e-h;return void 0===h||n>=t||n<0||m&&e-p>=l}function A(){var e=o();if(w(e))return b(e);f=setTimeout(A,function(e){var n=t-(e-h);return m?s(n,l-(e-p)):n}(e))}function b(e){return f=void 0,y&&c?v(e):(c=u=void 0,d)}function S(){var e=o(),n=w(e);if(c=arguments,u=this,h=e,n){if(void 0===f)return function(e){return p=e,f=setTimeout(A,t),g?v(e):d}(h);if(m)return clearTimeout(f),f=setTimeout(A,t),v(h)}return void 0===f&&(f=setTimeout(A,t)),d}return t=i(t)||0,r(n)&&(g=!!n.leading,l=(m=\"maxWait\"in n)?a(i(n.maxWait)||0,t):l,y=\"trailing\"in n?!!n.trailing:y),S.cancel=function(){void 0!==f&&clearTimeout(f),p=0,c=h=u=f=void 0},S.flush=function(){return void 0===f?d:b(o())},S}},2846:(e,t,n)=>{var r=n(9334);e.exports=function(e){return r(e,4)}},2879:(e,t,n)=>{var r=n(1942)();e.exports=r},2945:e=>{var t=/\\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},2991:e=>{e.exports={}},3092:(e,t,n)=>{var r=n(2673)(\"flow\",n(2879));r.placeholder=n(2991),e.exports=r},3103:(e,t,n)=>{var r=n(4715)(n(8942),\"DataView\");e.exports=r},3142:e=>{var t=Array.isArray;e.exports=t},3212:(e,t,n)=>{var r=n(8250),o=n(1877),i=n(8006);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},3282:(e,t,n)=>{var r=n(2762),o=n(8880),i=n(5187),a=n(6040);e.exports=function(e){return i(e)?r(a(e)):o(e)}},3283:(e,t,n)=>{var r=n(6027),o=n(547),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,\"callee\")&&!s.call(e,\"callee\")};e.exports=c},3301:(e,t,n)=>{var r=n(6131),o=1/0;e.exports=function(e){return e?(e=r(e))===o||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},3305:(e,t,n)=>{var r=n(4497);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},3316:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var o=t(),i=16-(o-r);if(r=o,i>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},3321:(e,t,n)=>{var r=n(7553),o=n(528),i=n(5962),a=n(3142),s=n(547),c=n(3410),u=Object.prototype.hasOwnProperty;function l(e){if(s(e)&&!a(e)&&!(e instanceof r)){if(e instanceof o)return e;if(u.call(e,\"__wrapped__\"))return c(e)}return new o(e)}l.prototype=i.prototype,l.prototype.constructor=l,e.exports=l},3334:(e,t,n)=>{var r=n(6526),o=n(2343),i=n(2053),a=n(3142),s=n(3282);e.exports=function(e){return\"function\"==typeof e?e:null==e?i:\"object\"==typeof e?a(e)?o(e[0],e[1]):r(e):s(e)}},3410:(e,t,n)=>{var r=n(7553),o=n(528),i=n(4354);e.exports=function(e){if(e instanceof r)return e.clone();var t=new o(e.__wrapped__,e.__chain__);return t.__actions__=i(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},3422:(e,t,n)=>{var r=n(7073),o=n(6285),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},3476:e=>{e.exports={}},3504:(e,t,n)=>{var r=n(4977),o=n(5755),i=n(3816),a=n(4364),s=n(4216),c=n(6850),u=n(6591),l=n(8813),d=n(8942);e.exports=function e(t,n,f,h,p,g,m,y,v,w){var A=128&n,b=1&n,S=2&n,E=24&n,x=512&n,T=S?void 0:a(t);return function k(){for(var I=arguments.length,_=Array(I),C=I;C--;)_[C]=arguments[C];if(E)var R=c(k),P=i(_,R);if(h&&(_=r(_,h,p,E)),g&&(_=o(_,g,m,E)),I-=P,E&&I<w){var O=l(_,R);return s(t,n,e,k.placeholder,f,_,O,y,v,w-I)}var N=b?f:this,B=S?N[t]:t;return I=_.length,y?_=u(_,y):x&&I>1&&_.reverse(),A&&v<I&&(_.length=v),this&&this!==d&&this instanceof k&&(B=T||a(B)),B.apply(N,_)}}},3526:(e,t,n)=>{var r=n(3142),o=n(5187),i=n(6493),a=n(5243);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},3546:(e,t,n)=>{var r=n(9032),o=n(7979);e.exports=function(e,t){return r(e,o(e),t)}},3565:(e,t)=>{t.aliasToReal={each:\"forEach\",eachRight:\"forEachRight\",entries:\"toPairs\",entriesIn:\"toPairsIn\",extend:\"assignIn\",extendAll:\"assignInAll\",extendAllWith:\"assignInAllWith\",extendWith:\"assignInWith\",first:\"head\",conforms:\"conformsTo\",matches:\"isMatch\",property:\"get\",__:\"placeholder\",F:\"stubFalse\",T:\"stubTrue\",all:\"every\",allPass:\"overEvery\",always:\"constant\",any:\"some\",anyPass:\"overSome\",apply:\"spread\",assoc:\"set\",assocPath:\"set\",complement:\"negate\",compose:\"flowRight\",contains:\"includes\",dissoc:\"unset\",dissocPath:\"unset\",dropLast:\"dropRight\",dropLastWhile:\"dropRightWhile\",equals:\"isEqual\",identical:\"eq\",indexBy:\"keyBy\",init:\"initial\",invertObj:\"invert\",juxt:\"over\",omitAll:\"omit\",nAry:\"ary\",path:\"get\",pathEq:\"matchesProperty\",pathOr:\"getOr\",paths:\"at\",pickAll:\"pick\",pipe:\"flow\",pluck:\"map\",prop:\"get\",propEq:\"matchesProperty\",propOr:\"getOr\",props:\"at\",symmetricDifference:\"xor\",symmetricDifferenceBy:\"xorBy\",symmetricDifferenceWith:\"xorWith\",takeLast:\"takeRight\",takeLastWhile:\"takeRightWhile\",unapply:\"rest\",unnest:\"flatten\",useWith:\"overArgs\",where:\"conformsTo\",whereEq:\"isMatch\",zipObj:\"zipObject\"},t.aryMethod={1:[\"assignAll\",\"assignInAll\",\"attempt\",\"castArray\",\"ceil\",\"create\",\"curry\",\"curryRight\",\"defaultsAll\",\"defaultsDeepAll\",\"floor\",\"flow\",\"flowRight\",\"fromPairs\",\"invert\",\"iteratee\",\"memoize\",\"method\",\"mergeAll\",\"methodOf\",\"mixin\",\"nthArg\",\"over\",\"overEvery\",\"overSome\",\"rest\",\"reverse\",\"round\",\"runInContext\",\"spread\",\"template\",\"trim\",\"trimEnd\",\"trimStart\",\"uniqueId\",\"words\",\"zipAll\"],2:[\"add\",\"after\",\"ary\",\"assign\",\"assignAllWith\",\"assignIn\",\"assignInAllWith\",\"at\",\"before\",\"bind\",\"bindAll\",\"bindKey\",\"chunk\",\"cloneDeepWith\",\"cloneWith\",\"concat\",\"conformsTo\",\"countBy\",\"curryN\",\"curryRightN\",\"debounce\",\"defaults\",\"defaultsDeep\",\"defaultTo\",\"delay\",\"difference\",\"divide\",\"drop\",\"dropRight\",\"dropRightWhile\",\"dropWhile\",\"endsWith\",\"eq\",\"every\",\"filter\",\"find\",\"findIndex\",\"findKey\",\"findLast\",\"findLastIndex\",\"findLastKey\",\"flatMap\",\"flatMapDeep\",\"flattenDepth\",\"forEach\",\"forEachRight\",\"forIn\",\"forInRight\",\"forOwn\",\"forOwnRight\",\"get\",\"groupBy\",\"gt\",\"gte\",\"has\",\"hasIn\",\"includes\",\"indexOf\",\"intersection\",\"invertBy\",\"invoke\",\"invokeMap\",\"isEqual\",\"isMatch\",\"join\",\"keyBy\",\"lastIndexOf\",\"lt\",\"lte\",\"map\",\"mapKeys\",\"mapValues\",\"matchesProperty\",\"maxBy\",\"meanBy\",\"merge\",\"mergeAllWith\",\"minBy\",\"multiply\",\"nth\",\"omit\",\"omitBy\",\"overArgs\",\"pad\",\"padEnd\",\"padStart\",\"parseInt\",\"partial\",\"partialRight\",\"partition\",\"pick\",\"pickBy\",\"propertyOf\",\"pull\",\"pullAll\",\"pullAt\",\"random\",\"range\",\"rangeRight\",\"rearg\",\"reject\",\"remove\",\"repeat\",\"restFrom\",\"result\",\"sampleSize\",\"some\",\"sortBy\",\"sortedIndex\",\"sortedIndexOf\",\"sortedLastIndex\",\"sortedLastIndexOf\",\"sortedUniqBy\",\"split\",\"spreadFrom\",\"startsWith\",\"subtract\",\"sumBy\",\"take\",\"takeRight\",\"takeRightWhile\",\"takeWhile\",\"tap\",\"throttle\",\"thru\",\"times\",\"trimChars\",\"trimCharsEnd\",\"trimCharsStart\",\"truncate\",\"union\",\"uniqBy\",\"uniqWith\",\"unset\",\"unzipWith\",\"without\",\"wrap\",\"xor\",\"zip\",\"zipObject\",\"zipObjectDeep\"],3:[\"assignInWith\",\"assignWith\",\"clamp\",\"differenceBy\",\"differenceWith\",\"findFrom\",\"findIndexFrom\",\"findLastFrom\",\"findLastIndexFrom\",\"getOr\",\"includesFrom\",\"indexOfFrom\",\"inRange\",\"intersectionBy\",\"intersectionWith\",\"invokeArgs\",\"invokeArgsMap\",\"isEqualWith\",\"isMatchWith\",\"flatMapDepth\",\"lastIndexOfFrom\",\"mergeWith\",\"orderBy\",\"padChars\",\"padCharsEnd\",\"padCharsStart\",\"pullAllBy\",\"pullAllWith\",\"rangeStep\",\"rangeStepRight\",\"reduce\",\"reduceRight\",\"replace\",\"set\",\"slice\",\"sortedIndexBy\",\"sortedLastIndexBy\",\"transform\",\"unionBy\",\"unionWith\",\"update\",\"xorBy\",\"xorWith\",\"zipWith\"],4:[\"fill\",\"setWith\",\"updateWith\"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,n=t.aliasToReal,r={};for(var o in n){var i=n[o];e.call(r,i)?r[i].push(o):r[i]=[o]}return r}(),t.remap={assignAll:\"assign\",assignAllWith:\"assignWith\",assignInAll:\"assignIn\",assignInAllWith:\"assignInWith\",curryN:\"curry\",curryRightN:\"curryRight\",defaultsAll:\"defaults\",defaultsDeepAll:\"defaultsDeep\",findFrom:\"find\",findIndexFrom:\"findIndex\",findLastFrom:\"findLast\",findLastIndexFrom:\"findLastIndex\",getOr:\"get\",includesFrom:\"includes\",indexOfFrom:\"indexOf\",invokeArgs:\"invoke\",invokeArgsMap:\"invokeMap\",lastIndexOfFrom:\"lastIndexOf\",mergeAll:\"merge\",mergeAllWith:\"mergeWith\",padChars:\"pad\",padCharsEnd:\"padEnd\",padCharsStart:\"padStart\",propertyOf:\"get\",rangeStep:\"range\",rangeStepRight:\"rangeRight\",restFrom:\"rest\",spreadFrom:\"spread\",trimChars:\"trim\",trimCharsEnd:\"trimEnd\",trimCharsStart:\"trimStart\",zipAll:\"zip\"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},3579:(e,t,n)=>{var r=n(3565),o=n(2991),i=Array.prototype.push;function a(e,t){return 2==t?function(t,n){return e(t,n)}:function(t){return e(t)}}function s(e){for(var t=e?e.length:0,n=Array(t);t--;)n[t]=e[t];return n}function c(e,t){return function(){var n=arguments.length;if(n){for(var r=Array(n);n--;)r[n]=arguments[n];var o=r[0]=t.apply(void 0,r);return e.apply(void 0,r),o}}}e.exports=function e(t,n,u,l){var d=\"function\"==typeof n,f=n===Object(n);if(f&&(l=u,u=n,n=void 0),null==u)throw new TypeError;l||(l={});var h={cap:!(\"cap\"in l)||l.cap,curry:!(\"curry\"in l)||l.curry,fixed:!(\"fixed\"in l)||l.fixed,immutable:!(\"immutable\"in l)||l.immutable,rearg:!(\"rearg\"in l)||l.rearg},p=d?u:o,g=\"curry\"in l&&l.curry,m=\"fixed\"in l&&l.fixed,y=\"rearg\"in l&&l.rearg,v=d?u.runInContext():void 0,w=d?u:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},A=w.ary,b=w.assign,S=w.clone,E=w.curry,x=w.forEach,T=w.isArray,k=w.isError,I=w.isFunction,_=w.isWeakMap,C=w.keys,R=w.rearg,P=w.toInteger,O=w.toPath,N=C(r.aryMethod),B={castArray:function(e){return function(){var t=arguments[0];return T(t)?e(s(t)):e.apply(void 0,arguments)}},iteratee:function(e){return function(){var t=arguments[1],n=e(arguments[0],t),r=n.length;return h.cap&&\"number\"==typeof t?(t=t>2?t-2:1,r&&r<=t?n:a(n,t)):n}},mixin:function(e){return function(t){var n=this;if(!I(n))return e(n,Object(t));var r=[];return x(C(t),(function(e){I(t[e])&&r.push([e,n.prototype[e]])})),e(n,Object(t)),x(r,(function(e){var t=e[1];I(t)?n.prototype[e[0]]=t:delete n.prototype[e[0]]})),n}},nthArg:function(e){return function(t){var n=t<0?1:P(t)+1;return E(e(t),n)}},rearg:function(e){return function(t,n){var r=n?n.length:0;return E(e(t,n),r)}},runInContext:function(n){return function(r){return e(t,n(r),l)}}};function z(e,t){if(h.cap){var n=r.iterateeRearg[e];if(n)return function(e,t){return L(e,(function(e){var n=t.length;return function(e,t){return 2==t?function(t,n){return e.apply(void 0,arguments)}:function(t){return e.apply(void 0,arguments)}}(R(a(e,n),t),n)}))}(t,n);var o=!d&&r.iterateeAry[e];if(o)return function(e,t){return L(e,(function(e){return\"function\"==typeof e?a(e,t):e}))}(t,o)}return t}function M(e,t,n){if(h.fixed&&(m||!r.skipFixed[e])){var o=r.methodSpread[e],a=o&&o.start;return void 0===a?A(t,n):function(e,t){return function(){for(var n=arguments.length,r=n-1,o=Array(n);n--;)o[n]=arguments[n];var a=o[t],s=o.slice(0,t);return a&&i.apply(s,a),t!=r&&i.apply(s,o.slice(t+1)),e.apply(this,s)}}(t,a)}return t}function j(e,t,n){return h.rearg&&n>1&&(y||!r.skipRearg[e])?R(t,r.methodRearg[e]||r.aryRearg[n]):t}function U(e,t){for(var n=-1,r=(t=O(t)).length,o=r-1,i=S(Object(e)),a=i;null!=a&&++n<r;){var s=t[n],c=a[s];null==c||I(c)||k(c)||_(c)||(a[s]=S(n==o?c:Object(c))),a=a[s]}return i}function D(t,n){var o=r.aliasToReal[t]||t,i=r.remap[o]||o,a=l;return function(t){var r=d?v:w,s=d?v[i]:n,c=b(b({},a),t);return e(r,o,s,c)}}function L(e,t){return function(){var n=arguments.length;if(!n)return e();for(var r=Array(n);n--;)r[n]=arguments[n];var o=h.rearg?0:n-1;return r[o]=t(r[o]),e.apply(void 0,r)}}function $(e,t,n){var o,i=r.aliasToReal[e]||e,a=t,u=B[i];return u?a=u(t):h.immutable&&(r.mutate.array[i]?a=c(t,s):r.mutate.object[i]?a=c(t,function(e){return function(t){return e({},t)}}(t)):r.mutate.set[i]&&(a=c(t,U))),x(N,(function(e){return x(r.aryMethod[e],(function(t){if(i==t){var n=r.methodSpread[i],s=n&&n.afterRearg;return o=s?M(i,j(i,a,e),e):j(i,M(i,a,e),e),o=function(e,t,n){return g||h.curry&&n>1?E(t,n):t}(0,o=z(i,o),e),!1}})),!o})),o||(o=a),o==t&&(o=g?E(o,1):function(){return t.apply(this,arguments)}),o.convert=D(i,t),o.placeholder=t.placeholder=n,o}if(!f)return $(n,u,p);var F=u,q=[];return x(N,(function(e){x(r.aryMethod[e],(function(e){var t=F[r.remap[e]||e];t&&q.push([e,$(e,t,F)])}))})),x(C(F),(function(e){var t=F[e];if(\"function\"==typeof t){for(var n=q.length;n--;)if(q[n][0]==e)return;t.convert=D(e,t),q.push([e,t])}})),x(q,(function(e){F[e[0]]=e[1]})),F.convert=function(e){return F.runInContext.convert(e)(void 0)},F.placeholder=F,x(C(F),(function(e){x(r.realToAlias[e]||[],(function(t){F[t]=F[e]}))})),F}},3636:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},3650:(e,t,n)=>{var r=n(8244),o=n(5832),i=n(5288);e.exports=function(e){return r(e,i,o)}},3655:(e,t,n)=>{var r=n(7379),o=n(1580);e.exports=function(e){if(!o(e))return!1;var t=r(e);return\"[object Function]\"==t||\"[object GeneratorFunction]\"==t||\"[object AsyncFunction]\"==t||\"[object Proxy]\"==t}},3766:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},3804:(e,t,n)=>{e.exports=n(3092)},3816:e=>{e.exports=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}},3904:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},3934:(e,t,n)=>{var r=n(3212),o=n(6465),i=n(5568);e.exports=function(e,t,n,a,s,c){var u=1&n,l=e.length,d=t.length;if(l!=d&&!(u&&d>l))return!1;var f=c.get(e),h=c.get(t);if(f&&h)return f==t&&h==e;var p=-1,g=!0,m=2&n?new r:void 0;for(c.set(e,t),c.set(t,e);++p<l;){var y=e[p],v=t[p];if(a)var w=u?a(v,y,p,t,e,c):a(y,v,p,e,t,c);if(void 0!==w){if(w)continue;g=!1;break}if(m){if(!o(t,(function(e,t){if(!i(m,t)&&(y===e||s(y,e,n,a,c)))return m.push(t)}))){g=!1;break}}else if(y!==v&&!s(y,v,n,a,c)){g=!1;break}}return c.delete(e),c.delete(t),g}},3943:(e,t,n)=>{var r=n(1935),o=n(9460),i=n(2306),a=i&&i.isSet,s=a?o(a):r;e.exports=s},3964:(e,t,n)=>{var r=n(7034);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},4066:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+\"\"}catch(e){}}return\"\"}},4103:(e,t,n)=>{var r=n(1386);e.exports=function(){this.__data__=new r,this.size=0}},4162:e=>{e.exports=function(e){return this.__data__.get(e)}},4216:(e,t,n)=>{var r=n(6648),o=n(5512),i=n(5620);e.exports=function(e,t,n,a,s,c,u,l,d,f){var h=8&t;t|=h?32:64,4&(t&=~(h?64:32))||(t&=-4);var p=[e,t,s,h?c:void 0,h?u:void 0,h?void 0:c,h?void 0:u,l,d,f],g=n.apply(void 0,p);return r(e)&&o(g,p),g.placeholder=a,i(g,e,t)}},4255:(e,t,n)=>{var r=n(2673)(\"debounce\",n(2784));r.placeholder=n(2991),e.exports=r},4354:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},4364:(e,t,n)=>{var r=n(9747),o=n(1580);e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=r(e.prototype),i=e.apply(n,t);return o(i)?i:n}}},4367:(e,t,n)=>{var r=n(7267),o=n(1211);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,r(a)]}return t}},4495:(e,t,n)=>{var r=n(8942);e.exports=function(){return r.Date.now()}},4497:(e,t,n)=>{var r=n(4715)(Object,\"create\");e.exports=r},4512:(e,t,n)=>{var r=n(4715)(n(8942),\"Set\");e.exports=r},4687:(e,t,n)=>{var r=n(353),o=n(547);e.exports=function e(t,n,i,a,s){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,i,a,e,s))}},4700:(e,t,n)=>{var r=n(9067);e.exports=function(e,t){var n=e.__data__;return r(t)?n[\"string\"==typeof t?\"string\":\"hash\"]:n.map}},4715:(e,t,n)=>{var r=n(9624),o=n(155);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},4732:(e,t,n)=>{var r=n(4700);e.exports=function(e){return r(this,e).has(e)}},4733:(e,t,n)=>{var r=n(9032),o=n(5832);e.exports=function(e,t){return r(e,o(e),t)}},4759:(e,t,n)=>{var r,o=n(1950),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||\"\"))?\"Symbol(src)_1.\"+r:\"\";e.exports=function(e){return!!i&&i in e}},4772:e=>{e.exports=function(){return!1}},4784:(e,t,n)=>{var r=n(3766)(Object.getPrototypeOf,Object);e.exports=r},4882:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===(\"function\"==typeof n&&n.prototype||t)}},4943:(e,t,n)=>{var r=n(2053),o=n(6065),i=o?function(e,t){return o.set(e,t),e}:r;e.exports=i},4967:(e,t,n)=>{var r=\"object\"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},4977:e=>{var t=Math.max;e.exports=function(e,n,r,o){for(var i=-1,a=e.length,s=r.length,c=-1,u=n.length,l=t(a-s,0),d=Array(u+l),f=!o;++c<u;)d[c]=n[c];for(;++i<s;)(f||i<a)&&(d[r[i]]=e[i]);for(;l--;)d[c++]=e[i++];return d}},5071:(e,t,n)=>{var r=n(4497);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?\"__lodash_hash_undefined__\":t,this}},5098:(e,t,n)=>{var r=n(3305),o=n(9361),i=n(1112),a=n(5276),s=n(5071);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},5111:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},5187:(e,t,n)=>{var r=n(3142),o=n(1187),i=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,a=/^\\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!(\"number\"!=n&&\"symbol\"!=n&&\"boolean\"!=n&&null!=e&&!o(e))||(a.test(e)||!i.test(e)||null!=t&&e in Object(t))}},5196:(e,t,n)=>{var r=n(6065),o=n(9071),i=r?function(e){return r.get(e)}:o;e.exports=i},5234:(e,t,n)=>{var r=n(6912),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=o(i.length-t,0),c=Array(s);++a<s;)c[a]=i[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=i[a];return u[t]=n(c),r(e,this,u)}}},5243:(e,t,n)=>{var r=n(2291);e.exports=function(e){return null==e?\"\":r(e)}},5250:function(e,t,n){var r;e=n.nmd(e),function(){var o,i=\"Expected a function\",a=\"__lodash_hash_undefined__\",s=\"__lodash_placeholder__\",c=16,u=32,l=64,d=128,f=256,h=1/0,p=9007199254740991,g=NaN,m=4294967295,y=[[\"ary\",d],[\"bind\",1],[\"bindKey\",2],[\"curry\",8],[\"curryRight\",c],[\"flip\",512],[\"partial\",u],[\"partialRight\",l],[\"rearg\",f]],v=\"[object Arguments]\",w=\"[object Array]\",A=\"[object Boolean]\",b=\"[object Date]\",S=\"[object Error]\",E=\"[object Function]\",x=\"[object GeneratorFunction]\",T=\"[object Map]\",k=\"[object Number]\",I=\"[object Object]\",_=\"[object Promise]\",C=\"[object RegExp]\",R=\"[object Set]\",P=\"[object String]\",O=\"[object Symbol]\",N=\"[object WeakMap]\",B=\"[object ArrayBuffer]\",z=\"[object DataView]\",M=\"[object Float32Array]\",j=\"[object Float64Array]\",U=\"[object Int8Array]\",D=\"[object Int16Array]\",L=\"[object Int32Array]\",$=\"[object Uint8Array]\",F=\"[object Uint8ClampedArray]\",q=\"[object Uint16Array]\",W=\"[object Uint32Array]\",V=/\\b__p \\+= '';/g,K=/\\b(__p \\+=) '' \\+/g,G=/(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g,H=/&(?:amp|lt|gt|quot|#39);/g,J=/[&<>\"']/g,Z=RegExp(H.source),Y=RegExp(J.source),X=/<%-([\\s\\S]+?)%>/g,Q=/<%([\\s\\S]+?)%>/g,ee=/<%=([\\s\\S]+?)%>/g,te=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,ne=/^\\w*$/,re=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,oe=/[\\\\^$.*+?()[\\]{}|]/g,ie=RegExp(oe.source),ae=/^\\s+/,se=/\\s/,ce=/\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,ue=/\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,le=/,? & /,de=/[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g,fe=/[()=,{}\\[\\]\\/\\s]/,he=/\\\\(\\\\)?/g,pe=/\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g,ge=/\\w*$/,me=/^[-+]0x[0-9a-f]+$/i,ye=/^0b[01]+$/i,ve=/^\\[object .+?Constructor\\]$/,we=/^0o[0-7]+$/i,Ae=/^(?:0|[1-9]\\d*)$/,be=/[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g,Se=/($^)/,Ee=/['\\n\\r\\u2028\\u2029\\\\]/g,xe=\"\\\\ud800-\\\\udfff\",Te=\"\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff\",ke=\"\\\\u2700-\\\\u27bf\",Ie=\"a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff\",_e=\"A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde\",Ce=\"\\\\ufe0e\\\\ufe0f\",Re=\"\\\\xac\\\\xb1\\\\xd7\\\\xf7\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf\\\\u2000-\\\\u206f \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\",Pe=\"['’]\",Oe=\"[\"+xe+\"]\",Ne=\"[\"+Re+\"]\",Be=\"[\"+Te+\"]\",ze=\"\\\\d+\",Me=\"[\"+ke+\"]\",je=\"[\"+Ie+\"]\",Ue=\"[^\"+xe+Re+ze+ke+Ie+_e+\"]\",De=\"\\\\ud83c[\\\\udffb-\\\\udfff]\",Le=\"[^\"+xe+\"]\",$e=\"(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}\",Fe=\"[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]\",qe=\"[\"+_e+\"]\",We=\"\\\\u200d\",Ve=\"(?:\"+je+\"|\"+Ue+\")\",Ke=\"(?:\"+qe+\"|\"+Ue+\")\",Ge=\"(?:['’](?:d|ll|m|re|s|t|ve))?\",He=\"(?:['’](?:D|LL|M|RE|S|T|VE))?\",Je=\"(?:\"+Be+\"|\"+De+\")\"+\"?\",Ze=\"[\"+Ce+\"]?\",Ye=Ze+Je+(\"(?:\"+We+\"(?:\"+[Le,$e,Fe].join(\"|\")+\")\"+Ze+Je+\")*\"),Xe=\"(?:\"+[Me,$e,Fe].join(\"|\")+\")\"+Ye,Qe=\"(?:\"+[Le+Be+\"?\",Be,$e,Fe,Oe].join(\"|\")+\")\",et=RegExp(Pe,\"g\"),tt=RegExp(Be,\"g\"),nt=RegExp(De+\"(?=\"+De+\")|\"+Qe+Ye,\"g\"),rt=RegExp([qe+\"?\"+je+\"+\"+Ge+\"(?=\"+[Ne,qe,\"$\"].join(\"|\")+\")\",Ke+\"+\"+He+\"(?=\"+[Ne,qe+Ve,\"$\"].join(\"|\")+\")\",qe+\"?\"+Ve+\"+\"+Ge,qe+\"+\"+He,\"\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])\",\"\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])\",ze,Xe].join(\"|\"),\"g\"),ot=RegExp(\"[\"+We+xe+Te+Ce+\"]\"),it=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,at=[\"Array\",\"Buffer\",\"DataView\",\"Date\",\"Error\",\"Float32Array\",\"Float64Array\",\"Function\",\"Int8Array\",\"Int16Array\",\"Int32Array\",\"Map\",\"Math\",\"Object\",\"Promise\",\"RegExp\",\"Set\",\"String\",\"Symbol\",\"TypeError\",\"Uint8Array\",\"Uint8ClampedArray\",\"Uint16Array\",\"Uint32Array\",\"WeakMap\",\"_\",\"clearTimeout\",\"isFinite\",\"parseInt\",\"setTimeout\"],st=-1,ct={};ct[M]=ct[j]=ct[U]=ct[D]=ct[L]=ct[$]=ct[F]=ct[q]=ct[W]=!0,ct[v]=ct[w]=ct[B]=ct[A]=ct[z]=ct[b]=ct[S]=ct[E]=ct[T]=ct[k]=ct[I]=ct[C]=ct[R]=ct[P]=ct[N]=!1;var ut={};ut[v]=ut[w]=ut[B]=ut[z]=ut[A]=ut[b]=ut[M]=ut[j]=ut[U]=ut[D]=ut[L]=ut[T]=ut[k]=ut[I]=ut[C]=ut[R]=ut[P]=ut[O]=ut[$]=ut[F]=ut[q]=ut[W]=!0,ut[S]=ut[E]=ut[N]=!1;var lt={\"\\\\\":\"\\\\\",\"'\":\"'\",\"\\n\":\"n\",\"\\r\":\"r\",\"\\u2028\":\"u2028\",\"\\u2029\":\"u2029\"},dt=parseFloat,ft=parseInt,ht=\"object\"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,pt=\"object\"==typeof self&&self&&self.Object===Object&&self,gt=ht||pt||Function(\"return this\")(),mt=t&&!t.nodeType&&t,yt=mt&&e&&!e.nodeType&&e,vt=yt&&yt.exports===mt,wt=vt&&ht.process,At=function(){try{var e=yt&&yt.require&&yt.require(\"util\").types;return e||wt&&wt.binding&&wt.binding(\"util\")}catch(e){}}(),bt=At&&At.isArrayBuffer,St=At&&At.isDate,Et=At&&At.isMap,xt=At&&At.isRegExp,Tt=At&&At.isSet,kt=At&&At.isTypedArray;function It(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function _t(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function Ct(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Rt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Pt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Ot(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function Nt(e,t){return!!(null==e?0:e.length)&&qt(e,t,0)>-1}function Bt(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function zt(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function Mt(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function jt(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function Ut(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function Dt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Lt=Gt(\"length\");function $t(e,t,n){var r;return n(e,(function(e,n,o){if(t(e,n,o))return r=n,!1})),r}function Ft(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function qt(e,t,n){return t==t?function(e,t,n){var r=n-1,o=e.length;for(;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):Ft(e,Vt,n)}function Wt(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function Vt(e){return e!=e}function Kt(e,t){var n=null==e?0:e.length;return n?Zt(e,t)/n:g}function Gt(e){return function(t){return null==t?o:t[e]}}function Ht(e){return function(t){return null==e?o:e[t]}}function Jt(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}function Zt(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);a!==o&&(n=n===o?a:n+a)}return n}function Yt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Xt(e){return e?e.slice(0,mn(e)+1).replace(ae,\"\"):e}function Qt(e){return function(t){return e(t)}}function en(e,t){return zt(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,r=e.length;++n<r&&qt(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&qt(t,e[n],0)>-1;);return n}var on=Ht({À:\"A\",Á:\"A\",Â:\"A\",Ã:\"A\",Ä:\"A\",Å:\"A\",à:\"a\",á:\"a\",â:\"a\",ã:\"a\",ä:\"a\",å:\"a\",Ç:\"C\",ç:\"c\",Ð:\"D\",ð:\"d\",È:\"E\",É:\"E\",Ê:\"E\",Ë:\"E\",è:\"e\",é:\"e\",ê:\"e\",ë:\"e\",Ì:\"I\",Í:\"I\",Î:\"I\",Ï:\"I\",ì:\"i\",í:\"i\",î:\"i\",ï:\"i\",Ñ:\"N\",ñ:\"n\",Ò:\"O\",Ó:\"O\",Ô:\"O\",Õ:\"O\",Ö:\"O\",Ø:\"O\",ò:\"o\",ó:\"o\",ô:\"o\",õ:\"o\",ö:\"o\",ø:\"o\",Ù:\"U\",Ú:\"U\",Û:\"U\",Ü:\"U\",ù:\"u\",ú:\"u\",û:\"u\",ü:\"u\",Ý:\"Y\",ý:\"y\",ÿ:\"y\",Æ:\"Ae\",æ:\"ae\",Þ:\"Th\",þ:\"th\",ß:\"ss\",Ā:\"A\",Ă:\"A\",Ą:\"A\",ā:\"a\",ă:\"a\",ą:\"a\",Ć:\"C\",Ĉ:\"C\",Ċ:\"C\",Č:\"C\",ć:\"c\",ĉ:\"c\",ċ:\"c\",č:\"c\",Ď:\"D\",Đ:\"D\",ď:\"d\",đ:\"d\",Ē:\"E\",Ĕ:\"E\",Ė:\"E\",Ę:\"E\",Ě:\"E\",ē:\"e\",ĕ:\"e\",ė:\"e\",ę:\"e\",ě:\"e\",Ĝ:\"G\",Ğ:\"G\",Ġ:\"G\",Ģ:\"G\",ĝ:\"g\",ğ:\"g\",ġ:\"g\",ģ:\"g\",Ĥ:\"H\",Ħ:\"H\",ĥ:\"h\",ħ:\"h\",Ĩ:\"I\",Ī:\"I\",Ĭ:\"I\",Į:\"I\",İ:\"I\",ĩ:\"i\",ī:\"i\",ĭ:\"i\",į:\"i\",ı:\"i\",Ĵ:\"J\",ĵ:\"j\",Ķ:\"K\",ķ:\"k\",ĸ:\"k\",Ĺ:\"L\",Ļ:\"L\",Ľ:\"L\",Ŀ:\"L\",Ł:\"L\",ĺ:\"l\",ļ:\"l\",ľ:\"l\",ŀ:\"l\",ł:\"l\",Ń:\"N\",Ņ:\"N\",Ň:\"N\",Ŋ:\"N\",ń:\"n\",ņ:\"n\",ň:\"n\",ŋ:\"n\",Ō:\"O\",Ŏ:\"O\",Ő:\"O\",ō:\"o\",ŏ:\"o\",ő:\"o\",Ŕ:\"R\",Ŗ:\"R\",Ř:\"R\",ŕ:\"r\",ŗ:\"r\",ř:\"r\",Ś:\"S\",Ŝ:\"S\",Ş:\"S\",Š:\"S\",ś:\"s\",ŝ:\"s\",ş:\"s\",š:\"s\",Ţ:\"T\",Ť:\"T\",Ŧ:\"T\",ţ:\"t\",ť:\"t\",ŧ:\"t\",Ũ:\"U\",Ū:\"U\",Ŭ:\"U\",Ů:\"U\",Ű:\"U\",Ų:\"U\",ũ:\"u\",ū:\"u\",ŭ:\"u\",ů:\"u\",ű:\"u\",ų:\"u\",Ŵ:\"W\",ŵ:\"w\",Ŷ:\"Y\",ŷ:\"y\",Ÿ:\"Y\",Ź:\"Z\",Ż:\"Z\",Ž:\"Z\",ź:\"z\",ż:\"z\",ž:\"z\",Ĳ:\"IJ\",ĳ:\"ij\",Œ:\"Oe\",œ:\"oe\",ŉ:\"'n\",ſ:\"s\"}),an=Ht({\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\"});function sn(e){return\"\\\\\"+lt[e]}function cn(e){return ot.test(e)}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function ln(e,t){return function(n){return e(t(n))}}function dn(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];a!==t&&a!==s||(e[n]=s,i[o++]=n)}return i}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return cn(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):Lt(e)}function gn(e){return cn(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split(\"\")}(e)}function mn(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var yn=Ht({\"&amp;\":\"&\",\"&lt;\":\"<\",\"&gt;\":\">\",\"&quot;\":'\"',\"&#39;\":\"'\"});var vn=function e(t){var n,r=(t=null==t?gt:vn.defaults(gt.Object(),t,vn.pick(gt,at))).Array,se=t.Date,xe=t.Error,Te=t.Function,ke=t.Math,Ie=t.Object,_e=t.RegExp,Ce=t.String,Re=t.TypeError,Pe=r.prototype,Oe=Te.prototype,Ne=Ie.prototype,Be=t[\"__core-js_shared__\"],ze=Oe.toString,Me=Ne.hasOwnProperty,je=0,Ue=(n=/[^.]+$/.exec(Be&&Be.keys&&Be.keys.IE_PROTO||\"\"))?\"Symbol(src)_1.\"+n:\"\",De=Ne.toString,Le=ze.call(Ie),$e=gt._,Fe=_e(\"^\"+ze.call(Me).replace(oe,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),qe=vt?t.Buffer:o,We=t.Symbol,Ve=t.Uint8Array,Ke=qe?qe.allocUnsafe:o,Ge=ln(Ie.getPrototypeOf,Ie),He=Ie.create,Je=Ne.propertyIsEnumerable,Ze=Pe.splice,Ye=We?We.isConcatSpreadable:o,Xe=We?We.iterator:o,Qe=We?We.toStringTag:o,nt=function(){try{var e=hi(Ie,\"defineProperty\");return e({},\"\",{}),e}catch(e){}}(),ot=t.clearTimeout!==gt.clearTimeout&&t.clearTimeout,lt=se&&se.now!==gt.Date.now&&se.now,ht=t.setTimeout!==gt.setTimeout&&t.setTimeout,pt=ke.ceil,mt=ke.floor,yt=Ie.getOwnPropertySymbols,wt=qe?qe.isBuffer:o,At=t.isFinite,Lt=Pe.join,Ht=ln(Ie.keys,Ie),wn=ke.max,An=ke.min,bn=se.now,Sn=t.parseInt,En=ke.random,xn=Pe.reverse,Tn=hi(t,\"DataView\"),kn=hi(t,\"Map\"),In=hi(t,\"Promise\"),_n=hi(t,\"Set\"),Cn=hi(t,\"WeakMap\"),Rn=hi(Ie,\"create\"),Pn=Cn&&new Cn,On={},Nn=Di(Tn),Bn=Di(kn),zn=Di(In),Mn=Di(_n),jn=Di(Cn),Un=We?We.prototype:o,Dn=Un?Un.valueOf:o,Ln=Un?Un.toString:o;function $n(e){if(ns(e)&&!Va(e)&&!(e instanceof Vn)){if(e instanceof Wn)return e;if(Me.call(e,\"__wrapped__\"))return Li(e)}return new Wn(e)}var Fn=function(){function e(){}return function(t){if(!ts(t))return{};if(He)return He(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function qn(){}function Wn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function Vn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Jn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Hn;++t<n;)this.add(e[t])}function Zn(e){var t=this.__data__=new Gn(e);this.size=t.size}function Yn(e,t){var n=Va(e),r=!n&&Wa(e),o=!n&&!r&&Ja(e),i=!n&&!r&&!o&&ls(e),a=n||r||o||i,s=a?Yt(e.length,Ce):[],c=s.length;for(var u in e)!t&&!Me.call(e,u)||a&&(\"length\"==u||o&&(\"offset\"==u||\"parent\"==u)||i&&(\"buffer\"==u||\"byteLength\"==u||\"byteOffset\"==u)||Ai(u,c))||s.push(u);return s}function Xn(e){var t=e.length;return t?e[Jr(0,t-1)]:o}function Qn(e,t){return Mi(Po(e),cr(t,0,e.length))}function er(e){return Mi(Po(e))}function tr(e,t,n){(n!==o&&!$a(e[t],n)||n===o&&!(t in e))&&ar(e,t,n)}function nr(e,t,n){var r=e[t];Me.call(e,t)&&$a(r,n)&&(n!==o||t in e)||ar(e,t,n)}function rr(e,t){for(var n=e.length;n--;)if($a(e[n][0],t))return n;return-1}function or(e,t,n,r){return hr(e,(function(e,o,i){t(r,e,n(e),i)})),r}function ir(e,t){return e&&Oo(t,Os(t),e)}function ar(e,t,n){\"__proto__\"==t&&nt?nt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function sr(e,t){for(var n=-1,i=t.length,a=r(i),s=null==e;++n<i;)a[n]=s?o:Is(e,t[n]);return a}function cr(e,t,n){return e==e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function ur(e,t,n,r,i,a){var s,c=1&t,u=2&t,l=4&t;if(n&&(s=i?n(e,r,i,a):n(e)),s!==o)return s;if(!ts(e))return e;var d=Va(e);if(d){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&\"string\"==typeof e[0]&&Me.call(e,\"index\")&&(n.index=e.index,n.input=e.input);return n}(e),!c)return Po(e,s)}else{var f=mi(e),h=f==E||f==x;if(Ja(e))return To(e,c);if(f==I||f==v||h&&!i){if(s=u||h?{}:vi(e),!c)return u?function(e,t){return Oo(e,gi(e),t)}(e,function(e,t){return e&&Oo(t,Ns(t),e)}(s,e)):function(e,t){return Oo(e,pi(e),t)}(e,ir(s,e))}else{if(!ut[f])return i?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case B:return ko(e);case A:case b:return new r(+e);case z:return function(e,t){var n=t?ko(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case M:case j:case U:case D:case L:case $:case F:case q:case W:return Io(e,n);case T:return new r;case k:case P:return new r(e);case C:return function(e){var t=new e.constructor(e.source,ge.exec(e));return t.lastIndex=e.lastIndex,t}(e);case R:return new r;case O:return o=e,Dn?Ie(Dn.call(o)):{}}var o}(e,f,c)}}a||(a=new Zn);var p=a.get(e);if(p)return p;a.set(e,s),ss(e)?e.forEach((function(r){s.add(ur(r,t,n,r,e,a))})):rs(e)&&e.forEach((function(r,o){s.set(o,ur(r,t,n,o,e,a))}));var g=d?o:(l?u?ai:ii:u?Ns:Os)(e);return Ct(g||e,(function(r,o){g&&(r=e[o=r]),nr(s,o,ur(r,t,n,o,e,a))})),s}function lr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ie(e);r--;){var i=n[r],a=t[i],s=e[i];if(s===o&&!(i in e)||!a(s))return!1}return!0}function dr(e,t,n){if(\"function\"!=typeof e)throw new Re(i);return Oi((function(){e.apply(o,n)}),t)}function fr(e,t,n,r){var o=-1,i=Nt,a=!0,s=e.length,c=[],u=t.length;if(!s)return c;n&&(t=zt(t,Qt(n))),r?(i=Bt,a=!1):t.length>=200&&(i=tn,a=!1,t=new Jn(t));e:for(;++o<s;){var l=e[o],d=null==n?l:n(l);if(l=r||0!==l?l:0,a&&d==d){for(var f=u;f--;)if(t[f]===d)continue e;c.push(l)}else i(t,d,r)||c.push(l)}return c}$n.templateSettings={escape:X,evaluate:Q,interpolate:ee,variable:\"\",imports:{_:$n}},$n.prototype=qn.prototype,$n.prototype.constructor=$n,Wn.prototype=Fn(qn.prototype),Wn.prototype.constructor=Wn,Vn.prototype=Fn(qn.prototype),Vn.prototype.constructor=Vn,Kn.prototype.clear=function(){this.__data__=Rn?Rn(null):{},this.size=0},Kn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Kn.prototype.get=function(e){var t=this.__data__;if(Rn){var n=t[e];return n===a?o:n}return Me.call(t,e)?t[e]:o},Kn.prototype.has=function(e){var t=this.__data__;return Rn?t[e]!==o:Me.call(t,e)},Kn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Rn&&t===o?a:t,this},Gn.prototype.clear=function(){this.__data__=[],this.size=0},Gn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ze.call(t,n,1),--this.size,!0)},Gn.prototype.get=function(e){var t=this.__data__,n=rr(t,e);return n<0?o:t[n][1]},Gn.prototype.has=function(e){return rr(this.__data__,e)>-1},Gn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Hn.prototype.clear=function(){this.size=0,this.__data__={hash:new Kn,map:new(kn||Gn),string:new Kn}},Hn.prototype.delete=function(e){var t=di(this,e).delete(e);return this.size-=t?1:0,t},Hn.prototype.get=function(e){return di(this,e).get(e)},Hn.prototype.has=function(e){return di(this,e).has(e)},Hn.prototype.set=function(e,t){var n=di(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Jn.prototype.add=Jn.prototype.push=function(e){return this.__data__.set(e,a),this},Jn.prototype.has=function(e){return this.__data__.has(e)},Zn.prototype.clear=function(){this.__data__=new Gn,this.size=0},Zn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Zn.prototype.get=function(e){return this.__data__.get(e)},Zn.prototype.has=function(e){return this.__data__.has(e)},Zn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Gn){var r=n.__data__;if(!kn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Hn(r)}return n.set(e,t),this.size=n.size,this};var hr=zo(br),pr=zo(Sr,!0);function gr(e,t){var n=!0;return hr(e,(function(e,r,o){return n=!!t(e,r,o)})),n}function mr(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],s=t(a);if(null!=s&&(c===o?s==s&&!us(s):n(s,c)))var c=s,u=a}return u}function yr(e,t){var n=[];return hr(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}function vr(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=wi),o||(o=[]);++i<a;){var s=e[i];t>0&&n(s)?t>1?vr(s,t-1,n,r,o):Mt(o,s):r||(o[o.length]=s)}return o}var wr=Mo(),Ar=Mo(!0);function br(e,t){return e&&wr(e,t,Os)}function Sr(e,t){return e&&Ar(e,t,Os)}function Er(e,t){return Ot(t,(function(t){return Xa(e[t])}))}function xr(e,t){for(var n=0,r=(t=bo(t,e)).length;null!=e&&n<r;)e=e[Ui(t[n++])];return n&&n==r?e:o}function Tr(e,t,n){var r=t(e);return Va(e)?r:Mt(r,n(e))}function kr(e){return null==e?e===o?\"[object Undefined]\":\"[object Null]\":Qe&&Qe in Ie(e)?function(e){var t=Me.call(e,Qe),n=e[Qe];try{e[Qe]=o;var r=!0}catch(e){}var i=De.call(e);r&&(t?e[Qe]=n:delete e[Qe]);return i}(e):function(e){return De.call(e)}(e)}function Ir(e,t){return e>t}function _r(e,t){return null!=e&&Me.call(e,t)}function Cr(e,t){return null!=e&&t in Ie(e)}function Rr(e,t,n){for(var i=n?Bt:Nt,a=e[0].length,s=e.length,c=s,u=r(s),l=1/0,d=[];c--;){var f=e[c];c&&t&&(f=zt(f,Qt(t))),l=An(f.length,l),u[c]=!n&&(t||a>=120&&f.length>=120)?new Jn(c&&f):o}f=e[0];var h=-1,p=u[0];e:for(;++h<a&&d.length<l;){var g=f[h],m=t?t(g):g;if(g=n||0!==g?g:0,!(p?tn(p,m):i(d,m,n))){for(c=s;--c;){var y=u[c];if(!(y?tn(y,m):i(e[c],m,n)))continue e}p&&p.push(m),d.push(g)}}return d}function Pr(e,t,n){var r=null==(e=Ci(e,t=bo(t,e)))?e:e[Ui(Yi(t))];return null==r?o:It(r,e,n)}function Or(e){return ns(e)&&kr(e)==v}function Nr(e,t,n,r,i){return e===t||(null==e||null==t||!ns(e)&&!ns(t)?e!=e&&t!=t:function(e,t,n,r,i,a){var s=Va(e),c=Va(t),u=s?w:mi(e),l=c?w:mi(t),d=(u=u==v?I:u)==I,f=(l=l==v?I:l)==I,h=u==l;if(h&&Ja(e)){if(!Ja(t))return!1;s=!0,d=!1}if(h&&!d)return a||(a=new Zn),s||ls(e)?ri(e,t,n,r,i,a):function(e,t,n,r,o,i,a){switch(n){case z:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case B:return!(e.byteLength!=t.byteLength||!i(new Ve(e),new Ve(t)));case A:case b:case k:return $a(+e,+t);case S:return e.name==t.name&&e.message==t.message;case C:case P:return e==t+\"\";case T:var s=un;case R:var c=1&r;if(s||(s=fn),e.size!=t.size&&!c)return!1;var u=a.get(e);if(u)return u==t;r|=2,a.set(e,t);var l=ri(s(e),s(t),r,o,i,a);return a.delete(e),l;case O:if(Dn)return Dn.call(e)==Dn.call(t)}return!1}(e,t,u,n,r,i,a);if(!(1&n)){var p=d&&Me.call(e,\"__wrapped__\"),g=f&&Me.call(t,\"__wrapped__\");if(p||g){var m=p?e.value():e,y=g?t.value():t;return a||(a=new Zn),i(m,y,n,r,a)}}if(!h)return!1;return a||(a=new Zn),function(e,t,n,r,i,a){var s=1&n,c=ii(e),u=c.length,l=ii(t),d=l.length;if(u!=d&&!s)return!1;var f=u;for(;f--;){var h=c[f];if(!(s?h in t:Me.call(t,h)))return!1}var p=a.get(e),g=a.get(t);if(p&&g)return p==t&&g==e;var m=!0;a.set(e,t),a.set(t,e);var y=s;for(;++f<u;){var v=e[h=c[f]],w=t[h];if(r)var A=s?r(w,v,h,t,e,a):r(v,w,h,e,t,a);if(!(A===o?v===w||i(v,w,n,r,a):A)){m=!1;break}y||(y=\"constructor\"==h)}if(m&&!y){var b=e.constructor,S=t.constructor;b==S||!(\"constructor\"in e)||!(\"constructor\"in t)||\"function\"==typeof b&&b instanceof b&&\"function\"==typeof S&&S instanceof S||(m=!1)}return a.delete(e),a.delete(t),m}(e,t,n,r,i,a)}(e,t,n,r,Nr,i))}function Br(e,t,n,r){var i=n.length,a=i,s=!r;if(null==e)return!a;for(e=Ie(e);i--;){var c=n[i];if(s&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<a;){var u=(c=n[i])[0],l=e[u],d=c[1];if(s&&c[2]){if(l===o&&!(u in e))return!1}else{var f=new Zn;if(r)var h=r(l,d,u,e,t,f);if(!(h===o?Nr(d,l,3,r,f):h))return!1}}return!0}function zr(e){return!(!ts(e)||(t=e,Ue&&Ue in t))&&(Xa(e)?Fe:ve).test(Di(e));var t}function Mr(e){return\"function\"==typeof e?e:null==e?oc:\"object\"==typeof e?Va(e)?Fr(e[0],e[1]):$r(e):hc(e)}function jr(e){if(!Ti(e))return Ht(e);var t=[];for(var n in Ie(e))Me.call(e,n)&&\"constructor\"!=n&&t.push(n);return t}function Ur(e){if(!ts(e))return function(e){var t=[];if(null!=e)for(var n in Ie(e))t.push(n);return t}(e);var t=Ti(e),n=[];for(var r in e)(\"constructor\"!=r||!t&&Me.call(e,r))&&n.push(r);return n}function Dr(e,t){return e<t}function Lr(e,t){var n=-1,o=Ga(e)?r(e.length):[];return hr(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}function $r(e){var t=fi(e);return 1==t.length&&t[0][2]?Ii(t[0][0],t[0][1]):function(n){return n===e||Br(n,e,t)}}function Fr(e,t){return Si(e)&&ki(t)?Ii(Ui(e),t):function(n){var r=Is(n,e);return r===o&&r===t?_s(n,e):Nr(t,r,3)}}function qr(e,t,n,r,i){e!==t&&wr(t,(function(a,s){if(i||(i=new Zn),ts(a))!function(e,t,n,r,i,a,s){var c=Ri(e,n),u=Ri(t,n),l=s.get(u);if(l)return void tr(e,n,l);var d=a?a(c,u,n+\"\",e,t,s):o,f=d===o;if(f){var h=Va(u),p=!h&&Ja(u),g=!h&&!p&&ls(u);d=u,h||p||g?Va(c)?d=c:Ha(c)?d=Po(c):p?(f=!1,d=To(u,!0)):g?(f=!1,d=Io(u,!0)):d=[]:is(u)||Wa(u)?(d=c,Wa(c)?d=vs(c):ts(c)&&!Xa(c)||(d=vi(u))):f=!1}f&&(s.set(u,d),i(d,u,r,a,s),s.delete(u));tr(e,n,d)}(e,t,s,n,qr,r,i);else{var c=r?r(Ri(e,s),a,s+\"\",e,t,i):o;c===o&&(c=a),tr(e,s,c)}}),Ns)}function Wr(e,t){var n=e.length;if(n)return Ai(t+=t<0?n:0,n)?e[t]:o}function Vr(e,t,n){t=t.length?zt(t,(function(e){return Va(e)?function(t){return xr(t,1===e.length?e[0]:e)}:e})):[oc];var r=-1;t=zt(t,Qt(li()));var o=Lr(e,(function(e,n,o){var i=zt(t,(function(t){return t(e)}));return{criteria:i,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(o,(function(e,t){return function(e,t,n){var r=-1,o=e.criteria,i=t.criteria,a=o.length,s=n.length;for(;++r<a;){var c=_o(o[r],i[r]);if(c)return r>=s?c:c*(\"desc\"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Kr(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],s=xr(e,a);n(s,a)&&eo(i,bo(a,e),s)}return i}function Gr(e,t,n,r){var o=r?Wt:qt,i=-1,a=t.length,s=e;for(e===t&&(t=Po(t)),n&&(s=zt(e,Qt(n)));++i<a;)for(var c=0,u=t[i],l=n?n(u):u;(c=o(s,l,c,r))>-1;)s!==e&&Ze.call(s,c,1),Ze.call(e,c,1);return e}function Hr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;Ai(o)?Ze.call(e,o,1):ho(e,o)}}return e}function Jr(e,t){return e+mt(En()*(t-e+1))}function Zr(e,t){var n=\"\";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=mt(t/2))&&(e+=e)}while(t);return n}function Yr(e,t){return Ni(_i(e,t,oc),e+\"\")}function Xr(e){return Xn($s(e))}function Qr(e,t){var n=$s(e);return Mi(n,cr(t,0,n.length))}function eo(e,t,n,r){if(!ts(e))return e;for(var i=-1,a=(t=bo(t,e)).length,s=a-1,c=e;null!=c&&++i<a;){var u=Ui(t[i]),l=n;if(\"__proto__\"===u||\"constructor\"===u||\"prototype\"===u)return e;if(i!=s){var d=c[u];(l=r?r(d,u,c):o)===o&&(l=ts(d)?d:Ai(t[i+1])?[]:{})}nr(c,u,l),c=c[u]}return e}var to=Pn?function(e,t){return Pn.set(e,t),e}:oc,no=nt?function(e,t){return nt(e,\"toString\",{configurable:!0,enumerable:!1,value:tc(t),writable:!0})}:oc;function ro(e){return Mi($s(e))}function oo(e,t,n){var o=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=r(i);++o<i;)a[o]=e[o+t];return a}function io(e,t){var n;return hr(e,(function(e,r,o){return!(n=t(e,r,o))})),!!n}function ao(e,t,n){var r=0,o=null==e?r:e.length;if(\"number\"==typeof t&&t==t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,a=e[i];null!==a&&!us(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return so(e,t,oc,n)}function so(e,t,n,r){var i=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=n(t))!=t,c=null===t,u=us(t),l=t===o;i<a;){var d=mt((i+a)/2),f=n(e[d]),h=f!==o,p=null===f,g=f==f,m=us(f);if(s)var y=r||g;else y=l?g&&(r||h):c?g&&h&&(r||!p):u?g&&h&&!p&&(r||!m):!p&&!m&&(r?f<=t:f<t);y?i=d+1:a=d}return An(a,4294967294)}function co(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!$a(s,c)){var c=s;i[o++]=0===a?0:a}}return i}function uo(e){return\"number\"==typeof e?e:us(e)?g:+e}function lo(e){if(\"string\"==typeof e)return e;if(Va(e))return zt(e,lo)+\"\";if(us(e))return Ln?Ln.call(e):\"\";var t=e+\"\";return\"0\"==t&&1/e==-1/0?\"-0\":t}function fo(e,t,n){var r=-1,o=Nt,i=e.length,a=!0,s=[],c=s;if(n)a=!1,o=Bt;else if(i>=200){var u=t?null:Yo(e);if(u)return fn(u);a=!1,o=tn,c=new Jn}else c=t?[]:s;e:for(;++r<i;){var l=e[r],d=t?t(l):l;if(l=n||0!==l?l:0,a&&d==d){for(var f=c.length;f--;)if(c[f]===d)continue e;t&&c.push(d),s.push(l)}else o(c,d,n)||(c!==s&&c.push(d),s.push(l))}return s}function ho(e,t){return null==(e=Ci(e,t=bo(t,e)))||delete e[Ui(Yi(t))]}function po(e,t,n,r){return eo(e,t,n(xr(e,t)),r)}function go(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?oo(e,r?0:i,r?i+1:o):oo(e,r?i+1:0,r?o:i)}function mo(e,t){var n=e;return n instanceof Vn&&(n=n.value()),jt(t,(function(e,t){return t.func.apply(t.thisArg,Mt([e],t.args))}),n)}function yo(e,t,n){var o=e.length;if(o<2)return o?fo(e[0]):[];for(var i=-1,a=r(o);++i<o;)for(var s=e[i],c=-1;++c<o;)c!=i&&(a[i]=fr(a[i]||s,e[c],t,n));return fo(vr(a,1),t,n)}function vo(e,t,n){for(var r=-1,i=e.length,a=t.length,s={};++r<i;){var c=r<a?t[r]:o;n(s,e[r],c)}return s}function wo(e){return Ha(e)?e:[]}function Ao(e){return\"function\"==typeof e?e:oc}function bo(e,t){return Va(e)?e:Si(e,t)?[e]:ji(ws(e))}var So=Yr;function Eo(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:oo(e,t,n)}var xo=ot||function(e){return gt.clearTimeout(e)};function To(e,t){if(t)return e.slice();var n=e.length,r=Ke?Ke(n):new e.constructor(n);return e.copy(r),r}function ko(e){var t=new e.constructor(e.byteLength);return new Ve(t).set(new Ve(e)),t}function Io(e,t){var n=t?ko(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function _o(e,t){if(e!==t){var n=e!==o,r=null===e,i=e==e,a=us(e),s=t!==o,c=null===t,u=t==t,l=us(t);if(!c&&!l&&!a&&e>t||a&&s&&u&&!c&&!l||r&&s&&u||!n&&u||!i)return 1;if(!r&&!a&&!l&&e<t||l&&n&&i&&!r&&!a||c&&n&&i||!s&&i||!u)return-1}return 0}function Co(e,t,n,o){for(var i=-1,a=e.length,s=n.length,c=-1,u=t.length,l=wn(a-s,0),d=r(u+l),f=!o;++c<u;)d[c]=t[c];for(;++i<s;)(f||i<a)&&(d[n[i]]=e[i]);for(;l--;)d[c++]=e[i++];return d}function Ro(e,t,n,o){for(var i=-1,a=e.length,s=-1,c=n.length,u=-1,l=t.length,d=wn(a-c,0),f=r(d+l),h=!o;++i<d;)f[i]=e[i];for(var p=i;++u<l;)f[p+u]=t[u];for(;++s<c;)(h||i<a)&&(f[p+n[s]]=e[i++]);return f}function Po(e,t){var n=-1,o=e.length;for(t||(t=r(o));++n<o;)t[n]=e[n];return t}function Oo(e,t,n,r){var i=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var c=t[a],u=r?r(n[c],e[c],c,n,e):o;u===o&&(u=e[c]),i?ar(n,c,u):nr(n,c,u)}return n}function No(e,t){return function(n,r){var o=Va(n)?_t:or,i=t?t():{};return o(n,e,li(r,2),i)}}function Bo(e){return Yr((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,s=i>2?n[2]:o;for(a=e.length>3&&\"function\"==typeof a?(i--,a):o,s&&bi(n[0],n[1],s)&&(a=i<3?o:a,i=1),t=Ie(t);++r<i;){var c=n[r];c&&e(t,c,r,a)}return t}))}function zo(e,t){return function(n,r){if(null==n)return n;if(!Ga(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Ie(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function Mo(e){return function(t,n,r){for(var o=-1,i=Ie(t),a=r(t),s=a.length;s--;){var c=a[e?s:++o];if(!1===n(i[c],c,i))break}return t}}function jo(e){return function(t){var n=cn(t=ws(t))?gn(t):o,r=n?n[0]:t.charAt(0),i=n?Eo(n,1).join(\"\"):t.slice(1);return r[e]()+i}}function Uo(e){return function(t){return jt(Xs(Ws(t).replace(et,\"\")),e,\"\")}}function Do(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Fn(e.prototype),r=e.apply(n,t);return ts(r)?r:n}}function Lo(e){return function(t,n,r){var i=Ie(t);if(!Ga(t)){var a=li(n,3);t=Os(t),n=function(e){return a(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[a?t[s]:s]:o}}function $o(e){return oi((function(t){var n=t.length,r=n,a=Wn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if(\"function\"!=typeof s)throw new Re(i);if(a&&!c&&\"wrapper\"==ci(s))var c=new Wn([],!0)}for(r=c?r:n;++r<n;){var u=ci(s=t[r]),l=\"wrapper\"==u?si(s):o;c=l&&Ei(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?c[ci(l[0])].apply(c,l[3]):1==s.length&&Ei(s)?c[u]():c.thru(s)}return function(){var e=arguments,r=e[0];if(c&&1==e.length&&Va(r))return c.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}}))}function Fo(e,t,n,i,a,s,c,u,l,f){var h=t&d,p=1&t,g=2&t,m=24&t,y=512&t,v=g?o:Do(e);return function d(){for(var w=arguments.length,A=r(w),b=w;b--;)A[b]=arguments[b];if(m)var S=ui(d),E=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(A,S);if(i&&(A=Co(A,i,a,m)),s&&(A=Ro(A,s,c,m)),w-=E,m&&w<f){var x=dn(A,S);return Jo(e,t,Fo,d.placeholder,n,A,x,u,l,f-w)}var T=p?n:this,k=g?T[e]:e;return w=A.length,u?A=function(e,t){var n=e.length,r=An(t.length,n),i=Po(e);for(;r--;){var a=t[r];e[r]=Ai(a,n)?i[a]:o}return e}(A,u):y&&w>1&&A.reverse(),h&&l<w&&(A.length=l),this&&this!==gt&&this instanceof d&&(k=v||Do(k)),k.apply(T,A)}}function qo(e,t){return function(n,r){return function(e,t,n,r){return br(e,(function(e,o,i){t(r,n(e),o,i)})),r}(n,e,t(r),{})}}function Wo(e,t){return function(n,r){var i;if(n===o&&r===o)return t;if(n!==o&&(i=n),r!==o){if(i===o)return r;\"string\"==typeof n||\"string\"==typeof r?(n=lo(n),r=lo(r)):(n=uo(n),r=uo(r)),i=e(n,r)}return i}}function Vo(e){return oi((function(t){return t=zt(t,Qt(li())),Yr((function(n){var r=this;return e(t,(function(e){return It(e,r,n)}))}))}))}function Ko(e,t){var n=(t=t===o?\" \":lo(t)).length;if(n<2)return n?Zr(t,e):t;var r=Zr(t,pt(e/pn(t)));return cn(t)?Eo(gn(r),0,e).join(\"\"):r.slice(0,e)}function Go(e){return function(t,n,i){return i&&\"number\"!=typeof i&&bi(t,n,i)&&(n=i=o),t=ps(t),n===o?(n=t,t=0):n=ps(n),function(e,t,n,o){for(var i=-1,a=wn(pt((t-e)/(n||1)),0),s=r(a);a--;)s[o?a:++i]=e,e+=n;return s}(t,n,i=i===o?t<n?1:-1:ps(i),e)}}function Ho(e){return function(t,n){return\"string\"==typeof t&&\"string\"==typeof n||(t=ys(t),n=ys(n)),e(t,n)}}function Jo(e,t,n,r,i,a,s,c,d,f){var h=8&t;t|=h?u:l,4&(t&=~(h?l:u))||(t&=-4);var p=[e,t,i,h?a:o,h?s:o,h?o:a,h?o:s,c,d,f],g=n.apply(o,p);return Ei(e)&&Pi(g,p),g.placeholder=r,Bi(g,e,t)}function Zo(e){var t=ke[e];return function(e,n){if(e=ys(e),(n=null==n?0:An(gs(n),292))&&At(e)){var r=(ws(e)+\"e\").split(\"e\");return+((r=(ws(t(r[0]+\"e\"+(+r[1]+n)))+\"e\").split(\"e\"))[0]+\"e\"+(+r[1]-n))}return t(e)}}var Yo=_n&&1/fn(new _n([,-0]))[1]==h?function(e){return new _n(e)}:uc;function Xo(e){return function(t){var n=mi(t);return n==T?un(t):n==R?hn(t):function(e,t){return zt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Qo(e,t,n,a,h,p,g,m){var y=2&t;if(!y&&\"function\"!=typeof e)throw new Re(i);var v=a?a.length:0;if(v||(t&=-97,a=h=o),g=g===o?g:wn(gs(g),0),m=m===o?m:gs(m),v-=h?h.length:0,t&l){var w=a,A=h;a=h=o}var b=y?o:si(e),S=[e,t,n,a,h,w,A,p,g,m];if(b&&function(e,t){var n=e[1],r=t[1],o=n|r,i=o<131,a=r==d&&8==n||r==d&&n==f&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!i&&!a)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var c=t[3];if(c){var u=e[3];e[3]=u?Co(u,c,t[4]):c,e[4]=u?dn(e[3],s):t[4]}(c=t[5])&&(u=e[5],e[5]=u?Ro(u,c,t[6]):c,e[6]=u?dn(e[5],s):t[6]);(c=t[7])&&(e[7]=c);r&d&&(e[8]=null==e[8]?t[8]:An(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=o}(S,b),e=S[0],t=S[1],n=S[2],a=S[3],h=S[4],!(m=S[9]=S[9]===o?y?0:e.length:wn(S[9]-v,0))&&24&t&&(t&=-25),t&&1!=t)E=8==t||t==c?function(e,t,n){var i=Do(e);return function a(){for(var s=arguments.length,c=r(s),u=s,l=ui(a);u--;)c[u]=arguments[u];var d=s<3&&c[0]!==l&&c[s-1]!==l?[]:dn(c,l);return(s-=d.length)<n?Jo(e,t,Fo,a.placeholder,o,c,d,o,o,n-s):It(this&&this!==gt&&this instanceof a?i:e,this,c)}}(e,t,m):t!=u&&33!=t||h.length?Fo.apply(o,S):function(e,t,n,o){var i=1&t,a=Do(e);return function t(){for(var s=-1,c=arguments.length,u=-1,l=o.length,d=r(l+c),f=this&&this!==gt&&this instanceof t?a:e;++u<l;)d[u]=o[u];for(;c--;)d[u++]=arguments[++s];return It(f,i?n:this,d)}}(e,t,n,a);else var E=function(e,t,n){var r=1&t,o=Do(e);return function t(){return(this&&this!==gt&&this instanceof t?o:e).apply(r?n:this,arguments)}}(e,t,n);return Bi((b?to:Pi)(E,S),e,t)}function ei(e,t,n,r){return e===o||$a(e,Ne[n])&&!Me.call(r,n)?t:e}function ti(e,t,n,r,i,a){return ts(e)&&ts(t)&&(a.set(t,e),qr(e,t,o,ti,a),a.delete(t)),e}function ni(e){return is(e)?o:e}function ri(e,t,n,r,i,a){var s=1&n,c=e.length,u=t.length;if(c!=u&&!(s&&u>c))return!1;var l=a.get(e),d=a.get(t);if(l&&d)return l==t&&d==e;var f=-1,h=!0,p=2&n?new Jn:o;for(a.set(e,t),a.set(t,e);++f<c;){var g=e[f],m=t[f];if(r)var y=s?r(m,g,f,t,e,a):r(g,m,f,e,t,a);if(y!==o){if(y)continue;h=!1;break}if(p){if(!Dt(t,(function(e,t){if(!tn(p,t)&&(g===e||i(g,e,n,r,a)))return p.push(t)}))){h=!1;break}}else if(g!==m&&!i(g,m,n,r,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function oi(e){return Ni(_i(e,o,Ki),e+\"\")}function ii(e){return Tr(e,Os,pi)}function ai(e){return Tr(e,Ns,gi)}var si=Pn?function(e){return Pn.get(e)}:uc;function ci(e){for(var t=e.name+\"\",n=On[t],r=Me.call(On,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function ui(e){return(Me.call($n,\"placeholder\")?$n:e).placeholder}function li(){var e=$n.iteratee||ic;return e=e===ic?Mr:e,arguments.length?e(arguments[0],arguments[1]):e}function di(e,t){var n=e.__data__;return function(e){var t=typeof e;return\"string\"==t||\"number\"==t||\"symbol\"==t||\"boolean\"==t?\"__proto__\"!==e:null===e}(t)?n[\"string\"==typeof t?\"string\":\"hash\"]:n.map}function fi(e){for(var t=Os(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,ki(o)]}return t}function hi(e,t){var n=function(e,t){return null==e?o:e[t]}(e,t);return zr(n)?n:o}var pi=yt?function(e){return null==e?[]:(e=Ie(e),Ot(yt(e),(function(t){return Je.call(e,t)})))}:mc,gi=yt?function(e){for(var t=[];e;)Mt(t,pi(e)),e=Ge(e);return t}:mc,mi=kr;function yi(e,t,n){for(var r=-1,o=(t=bo(t,e)).length,i=!1;++r<o;){var a=Ui(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&es(o)&&Ai(a,o)&&(Va(e)||Wa(e))}function vi(e){return\"function\"!=typeof e.constructor||Ti(e)?{}:Fn(Ge(e))}function wi(e){return Va(e)||Wa(e)||!!(Ye&&e&&e[Ye])}function Ai(e,t){var n=typeof e;return!!(t=null==t?p:t)&&(\"number\"==n||\"symbol\"!=n&&Ae.test(e))&&e>-1&&e%1==0&&e<t}function bi(e,t,n){if(!ts(n))return!1;var r=typeof t;return!!(\"number\"==r?Ga(n)&&Ai(t,n.length):\"string\"==r&&t in n)&&$a(n[t],e)}function Si(e,t){if(Va(e))return!1;var n=typeof e;return!(\"number\"!=n&&\"symbol\"!=n&&\"boolean\"!=n&&null!=e&&!us(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Ie(t))}function Ei(e){var t=ci(e),n=$n[t];if(\"function\"!=typeof n||!(t in Vn.prototype))return!1;if(e===n)return!0;var r=si(n);return!!r&&e===r[0]}(Tn&&mi(new Tn(new ArrayBuffer(1)))!=z||kn&&mi(new kn)!=T||In&&mi(In.resolve())!=_||_n&&mi(new _n)!=R||Cn&&mi(new Cn)!=N)&&(mi=function(e){var t=kr(e),n=t==I?e.constructor:o,r=n?Di(n):\"\";if(r)switch(r){case Nn:return z;case Bn:return T;case zn:return _;case Mn:return R;case jn:return N}return t});var xi=Be?Xa:yc;function Ti(e){var t=e&&e.constructor;return e===(\"function\"==typeof t&&t.prototype||Ne)}function ki(e){return e==e&&!ts(e)}function Ii(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==o||e in Ie(n)))}}function _i(e,t,n){return t=wn(t===o?e.length-1:t,0),function(){for(var o=arguments,i=-1,a=wn(o.length-t,0),s=r(a);++i<a;)s[i]=o[t+i];i=-1;for(var c=r(t+1);++i<t;)c[i]=o[i];return c[t]=n(s),It(e,this,c)}}function Ci(e,t){return t.length<2?e:xr(e,oo(t,0,-1))}function Ri(e,t){if((\"constructor\"!==t||\"function\"!=typeof e[t])&&\"__proto__\"!=t)return e[t]}var Pi=zi(to),Oi=ht||function(e,t){return gt.setTimeout(e,t)},Ni=zi(no);function Bi(e,t,n){var r=t+\"\";return Ni(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?\"& \":\"\")+t[r],t=t.join(n>2?\", \":\" \"),e.replace(ce,\"{\\n/* [wrapped with \"+t+\"] */\\n\")}(r,function(e,t){return Ct(y,(function(n){var r=\"_.\"+n[0];t&n[1]&&!Nt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ue);return t?t[1].split(le):[]}(r),n)))}function zi(e){var t=0,n=0;return function(){var r=bn(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(o,arguments)}}function Mi(e,t){var n=-1,r=e.length,i=r-1;for(t=t===o?r:t;++n<t;){var a=Jr(n,i),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var ji=function(e){var t=za(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(\"\"),e.replace(re,(function(e,n,r,o){t.push(r?o.replace(he,\"$1\"):n||e)})),t}));function Ui(e){if(\"string\"==typeof e||us(e))return e;var t=e+\"\";return\"0\"==t&&1/e==-1/0?\"-0\":t}function Di(e){if(null!=e){try{return ze.call(e)}catch(e){}try{return e+\"\"}catch(e){}}return\"\"}function Li(e){if(e instanceof Vn)return e.clone();var t=new Wn(e.__wrapped__,e.__chain__);return t.__actions__=Po(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var $i=Yr((function(e,t){return Ha(e)?fr(e,vr(t,1,Ha,!0)):[]})),Fi=Yr((function(e,t){var n=Yi(t);return Ha(n)&&(n=o),Ha(e)?fr(e,vr(t,1,Ha,!0),li(n,2)):[]})),qi=Yr((function(e,t){var n=Yi(t);return Ha(n)&&(n=o),Ha(e)?fr(e,vr(t,1,Ha,!0),o,n):[]}));function Wi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:gs(n);return o<0&&(o=wn(r+o,0)),Ft(e,li(t,3),o)}function Vi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==o&&(i=gs(n),i=n<0?wn(r+i,0):An(i,r-1)),Ft(e,li(t,3),i,!0)}function Ki(e){return(null==e?0:e.length)?vr(e,1):[]}function Gi(e){return e&&e.length?e[0]:o}var Hi=Yr((function(e){var t=zt(e,wo);return t.length&&t[0]===e[0]?Rr(t):[]})),Ji=Yr((function(e){var t=Yi(e),n=zt(e,wo);return t===Yi(n)?t=o:n.pop(),n.length&&n[0]===e[0]?Rr(n,li(t,2)):[]})),Zi=Yr((function(e){var t=Yi(e),n=zt(e,wo);return(t=\"function\"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?Rr(n,o,t):[]}));function Yi(e){var t=null==e?0:e.length;return t?e[t-1]:o}var Xi=Yr(Qi);function Qi(e,t){return e&&e.length&&t&&t.length?Gr(e,t):e}var ea=oi((function(e,t){var n=null==e?0:e.length,r=sr(e,t);return Hr(e,zt(t,(function(e){return Ai(e,n)?+e:e})).sort(_o)),r}));function ta(e){return null==e?e:xn.call(e)}var na=Yr((function(e){return fo(vr(e,1,Ha,!0))})),ra=Yr((function(e){var t=Yi(e);return Ha(t)&&(t=o),fo(vr(e,1,Ha,!0),li(t,2))})),oa=Yr((function(e){var t=Yi(e);return t=\"function\"==typeof t?t:o,fo(vr(e,1,Ha,!0),o,t)}));function ia(e){if(!e||!e.length)return[];var t=0;return e=Ot(e,(function(e){if(Ha(e))return t=wn(e.length,t),!0})),Yt(t,(function(t){return zt(e,Gt(t))}))}function aa(e,t){if(!e||!e.length)return[];var n=ia(e);return null==t?n:zt(n,(function(e){return It(t,o,e)}))}var sa=Yr((function(e,t){return Ha(e)?fr(e,t):[]})),ca=Yr((function(e){return yo(Ot(e,Ha))})),ua=Yr((function(e){var t=Yi(e);return Ha(t)&&(t=o),yo(Ot(e,Ha),li(t,2))})),la=Yr((function(e){var t=Yi(e);return t=\"function\"==typeof t?t:o,yo(Ot(e,Ha),o,t)})),da=Yr(ia);var fa=Yr((function(e){var t=e.length,n=t>1?e[t-1]:o;return n=\"function\"==typeof n?(e.pop(),n):o,aa(e,n)}));function ha(e){var t=$n(e);return t.__chain__=!0,t}function pa(e,t){return t(e)}var ga=oi((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return sr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Vn&&Ai(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:pa,args:[i],thisArg:o}),new Wn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(o),e}))):this.thru(i)}));var ma=No((function(e,t,n){Me.call(e,n)?++e[n]:ar(e,n,1)}));var ya=Lo(Wi),va=Lo(Vi);function wa(e,t){return(Va(e)?Ct:hr)(e,li(t,3))}function Aa(e,t){return(Va(e)?Rt:pr)(e,li(t,3))}var ba=No((function(e,t,n){Me.call(e,n)?e[n].push(t):ar(e,n,[t])}));var Sa=Yr((function(e,t,n){var o=-1,i=\"function\"==typeof t,a=Ga(e)?r(e.length):[];return hr(e,(function(e){a[++o]=i?It(t,e,n):Pr(e,t,n)})),a})),Ea=No((function(e,t,n){ar(e,n,t)}));function xa(e,t){return(Va(e)?zt:Lr)(e,li(t,3))}var Ta=No((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var ka=Yr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&bi(e,t[0],t[1])?t=[]:n>2&&bi(t[0],t[1],t[2])&&(t=[t[0]]),Vr(e,vr(t,1),[])})),Ia=lt||function(){return gt.Date.now()};function _a(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,Qo(e,d,o,o,o,o,t)}function Ca(e,t){var n;if(\"function\"!=typeof t)throw new Re(i);return e=gs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var Ra=Yr((function(e,t,n){var r=1;if(n.length){var o=dn(n,ui(Ra));r|=u}return Qo(e,r,t,n,o)})),Pa=Yr((function(e,t,n){var r=3;if(n.length){var o=dn(n,ui(Pa));r|=u}return Qo(t,r,e,n,o)}));function Oa(e,t,n){var r,a,s,c,u,l,d=0,f=!1,h=!1,p=!0;if(\"function\"!=typeof e)throw new Re(i);function g(t){var n=r,i=a;return r=a=o,d=t,c=e.apply(i,n)}function m(e){var n=e-l;return l===o||n>=t||n<0||h&&e-d>=s}function y(){var e=Ia();if(m(e))return v(e);u=Oi(y,function(e){var n=t-(e-l);return h?An(n,s-(e-d)):n}(e))}function v(e){return u=o,p&&r?g(e):(r=a=o,c)}function w(){var e=Ia(),n=m(e);if(r=arguments,a=this,l=e,n){if(u===o)return function(e){return d=e,u=Oi(y,t),f?g(e):c}(l);if(h)return xo(u),u=Oi(y,t),g(l)}return u===o&&(u=Oi(y,t)),c}return t=ys(t)||0,ts(n)&&(f=!!n.leading,s=(h=\"maxWait\"in n)?wn(ys(n.maxWait)||0,t):s,p=\"trailing\"in n?!!n.trailing:p),w.cancel=function(){u!==o&&xo(u),d=0,r=l=a=u=o},w.flush=function(){return u===o?c:v(Ia())},w}var Na=Yr((function(e,t){return dr(e,1,t)})),Ba=Yr((function(e,t,n){return dr(e,ys(t)||0,n)}));function za(e,t){if(\"function\"!=typeof e||null!=t&&\"function\"!=typeof t)throw new Re(i);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(za.Cache||Hn),n}function Ma(e){if(\"function\"!=typeof e)throw new Re(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}za.Cache=Hn;var ja=So((function(e,t){var n=(t=1==t.length&&Va(t[0])?zt(t[0],Qt(li())):zt(vr(t,1),Qt(li()))).length;return Yr((function(r){for(var o=-1,i=An(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return It(e,this,r)}))})),Ua=Yr((function(e,t){var n=dn(t,ui(Ua));return Qo(e,u,o,t,n)})),Da=Yr((function(e,t){var n=dn(t,ui(Da));return Qo(e,l,o,t,n)})),La=oi((function(e,t){return Qo(e,f,o,o,o,t)}));function $a(e,t){return e===t||e!=e&&t!=t}var Fa=Ho(Ir),qa=Ho((function(e,t){return e>=t})),Wa=Or(function(){return arguments}())?Or:function(e){return ns(e)&&Me.call(e,\"callee\")&&!Je.call(e,\"callee\")},Va=r.isArray,Ka=bt?Qt(bt):function(e){return ns(e)&&kr(e)==B};function Ga(e){return null!=e&&es(e.length)&&!Xa(e)}function Ha(e){return ns(e)&&Ga(e)}var Ja=wt||yc,Za=St?Qt(St):function(e){return ns(e)&&kr(e)==b};function Ya(e){if(!ns(e))return!1;var t=kr(e);return t==S||\"[object DOMException]\"==t||\"string\"==typeof e.message&&\"string\"==typeof e.name&&!is(e)}function Xa(e){if(!ts(e))return!1;var t=kr(e);return t==E||t==x||\"[object AsyncFunction]\"==t||\"[object Proxy]\"==t}function Qa(e){return\"number\"==typeof e&&e==gs(e)}function es(e){return\"number\"==typeof e&&e>-1&&e%1==0&&e<=p}function ts(e){var t=typeof e;return null!=e&&(\"object\"==t||\"function\"==t)}function ns(e){return null!=e&&\"object\"==typeof e}var rs=Et?Qt(Et):function(e){return ns(e)&&mi(e)==T};function os(e){return\"number\"==typeof e||ns(e)&&kr(e)==k}function is(e){if(!ns(e)||kr(e)!=I)return!1;var t=Ge(e);if(null===t)return!0;var n=Me.call(t,\"constructor\")&&t.constructor;return\"function\"==typeof n&&n instanceof n&&ze.call(n)==Le}var as=xt?Qt(xt):function(e){return ns(e)&&kr(e)==C};var ss=Tt?Qt(Tt):function(e){return ns(e)&&mi(e)==R};function cs(e){return\"string\"==typeof e||!Va(e)&&ns(e)&&kr(e)==P}function us(e){return\"symbol\"==typeof e||ns(e)&&kr(e)==O}var ls=kt?Qt(kt):function(e){return ns(e)&&es(e.length)&&!!ct[kr(e)]};var ds=Ho(Dr),fs=Ho((function(e,t){return e<=t}));function hs(e){if(!e)return[];if(Ga(e))return cs(e)?gn(e):Po(e);if(Xe&&e[Xe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Xe]());var t=mi(e);return(t==T?un:t==R?fn:$s)(e)}function ps(e){return e?(e=ys(e))===h||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function gs(e){var t=ps(e),n=t%1;return t==t?n?t-n:t:0}function ms(e){return e?cr(gs(e),0,m):0}function ys(e){if(\"number\"==typeof e)return e;if(us(e))return g;if(ts(e)){var t=\"function\"==typeof e.valueOf?e.valueOf():e;e=ts(t)?t+\"\":t}if(\"string\"!=typeof e)return 0===e?e:+e;e=Xt(e);var n=ye.test(e);return n||we.test(e)?ft(e.slice(2),n?2:8):me.test(e)?g:+e}function vs(e){return Oo(e,Ns(e))}function ws(e){return null==e?\"\":lo(e)}var As=Bo((function(e,t){if(Ti(t)||Ga(t))Oo(t,Os(t),e);else for(var n in t)Me.call(t,n)&&nr(e,n,t[n])})),bs=Bo((function(e,t){Oo(t,Ns(t),e)})),Ss=Bo((function(e,t,n,r){Oo(t,Ns(t),e,r)})),Es=Bo((function(e,t,n,r){Oo(t,Os(t),e,r)})),xs=oi(sr);var Ts=Yr((function(e,t){e=Ie(e);var n=-1,r=t.length,i=r>2?t[2]:o;for(i&&bi(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],s=Ns(a),c=-1,u=s.length;++c<u;){var l=s[c],d=e[l];(d===o||$a(d,Ne[l])&&!Me.call(e,l))&&(e[l]=a[l])}return e})),ks=Yr((function(e){return e.push(o,ti),It(zs,o,e)}));function Is(e,t,n){var r=null==e?o:xr(e,t);return r===o?n:r}function _s(e,t){return null!=e&&yi(e,t,Cr)}var Cs=qo((function(e,t,n){null!=t&&\"function\"!=typeof t.toString&&(t=De.call(t)),e[t]=n}),tc(oc)),Rs=qo((function(e,t,n){null!=t&&\"function\"!=typeof t.toString&&(t=De.call(t)),Me.call(e,t)?e[t].push(n):e[t]=[n]}),li),Ps=Yr(Pr);function Os(e){return Ga(e)?Yn(e):jr(e)}function Ns(e){return Ga(e)?Yn(e,!0):Ur(e)}var Bs=Bo((function(e,t,n){qr(e,t,n)})),zs=Bo((function(e,t,n,r){qr(e,t,n,r)})),Ms=oi((function(e,t){var n={};if(null==e)return n;var r=!1;t=zt(t,(function(t){return t=bo(t,e),r||(r=t.length>1),t})),Oo(e,ai(e),n),r&&(n=ur(n,7,ni));for(var o=t.length;o--;)ho(n,t[o]);return n}));var js=oi((function(e,t){return null==e?{}:function(e,t){return Kr(e,t,(function(t,n){return _s(e,n)}))}(e,t)}));function Us(e,t){if(null==e)return{};var n=zt(ai(e),(function(e){return[e]}));return t=li(t),Kr(e,n,(function(e,n){return t(e,n[0])}))}var Ds=Xo(Os),Ls=Xo(Ns);function $s(e){return null==e?[]:en(e,Os(e))}var Fs=Uo((function(e,t,n){return t=t.toLowerCase(),e+(n?qs(t):t)}));function qs(e){return Ys(ws(e).toLowerCase())}function Ws(e){return(e=ws(e))&&e.replace(be,on).replace(tt,\"\")}var Vs=Uo((function(e,t,n){return e+(n?\"-\":\"\")+t.toLowerCase()})),Ks=Uo((function(e,t,n){return e+(n?\" \":\"\")+t.toLowerCase()})),Gs=jo(\"toLowerCase\");var Hs=Uo((function(e,t,n){return e+(n?\"_\":\"\")+t.toLowerCase()}));var Js=Uo((function(e,t,n){return e+(n?\" \":\"\")+Ys(t)}));var Zs=Uo((function(e,t,n){return e+(n?\" \":\"\")+t.toUpperCase()})),Ys=jo(\"toUpperCase\");function Xs(e,t,n){return e=ws(e),(t=n?o:t)===o?function(e){return it.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.match(de)||[]}(e):e.match(t)||[]}var Qs=Yr((function(e,t){try{return It(e,o,t)}catch(e){return Ya(e)?e:new xe(e)}})),ec=oi((function(e,t){return Ct(t,(function(t){t=Ui(t),ar(e,t,Ra(e[t],e))})),e}));function tc(e){return function(){return e}}var nc=$o(),rc=$o(!0);function oc(e){return e}function ic(e){return Mr(\"function\"==typeof e?e:ur(e,1))}var ac=Yr((function(e,t){return function(n){return Pr(n,e,t)}})),sc=Yr((function(e,t){return function(n){return Pr(e,n,t)}}));function cc(e,t,n){var r=Os(t),o=Er(t,r);null!=n||ts(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=Er(t,Os(t)));var i=!(ts(n)&&\"chain\"in n&&!n.chain),a=Xa(e);return Ct(o,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__);return(n.__actions__=Po(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Mt([this.value()],arguments))})})),e}function uc(){}var lc=Vo(zt),dc=Vo(Pt),fc=Vo(Dt);function hc(e){return Si(e)?Gt(Ui(e)):function(e){return function(t){return xr(t,e)}}(e)}var pc=Go(),gc=Go(!0);function mc(){return[]}function yc(){return!1}var vc=Wo((function(e,t){return e+t}),0),wc=Zo(\"ceil\"),Ac=Wo((function(e,t){return e/t}),1),bc=Zo(\"floor\");var Sc,Ec=Wo((function(e,t){return e*t}),1),xc=Zo(\"round\"),Tc=Wo((function(e,t){return e-t}),0);return $n.after=function(e,t){if(\"function\"!=typeof t)throw new Re(i);return e=gs(e),function(){if(--e<1)return t.apply(this,arguments)}},$n.ary=_a,$n.assign=As,$n.assignIn=bs,$n.assignInWith=Ss,$n.assignWith=Es,$n.at=xs,$n.before=Ca,$n.bind=Ra,$n.bindAll=ec,$n.bindKey=Pa,$n.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Va(e)?e:[e]},$n.chain=ha,$n.chunk=function(e,t,n){t=(n?bi(e,t,n):t===o)?1:wn(gs(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,s=0,c=r(pt(i/t));a<i;)c[s++]=oo(e,a,a+=t);return c},$n.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},$n.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],o=e;o--;)t[o-1]=arguments[o];return Mt(Va(n)?Po(n):[n],vr(t,1))},$n.cond=function(e){var t=null==e?0:e.length,n=li();return e=t?zt(e,(function(e){if(\"function\"!=typeof e[1])throw new Re(i);return[n(e[0]),e[1]]})):[],Yr((function(n){for(var r=-1;++r<t;){var o=e[r];if(It(o[0],this,n))return It(o[1],this,n)}}))},$n.conforms=function(e){return function(e){var t=Os(e);return function(n){return lr(n,e,t)}}(ur(e,1))},$n.constant=tc,$n.countBy=ma,$n.create=function(e,t){var n=Fn(e);return null==t?n:ir(n,t)},$n.curry=function e(t,n,r){var i=Qo(t,8,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},$n.curryRight=function e(t,n,r){var i=Qo(t,c,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},$n.debounce=Oa,$n.defaults=Ts,$n.defaultsDeep=ks,$n.defer=Na,$n.delay=Ba,$n.difference=$i,$n.differenceBy=Fi,$n.differenceWith=qi,$n.drop=function(e,t,n){var r=null==e?0:e.length;return r?oo(e,(t=n||t===o?1:gs(t))<0?0:t,r):[]},$n.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?oo(e,0,(t=r-(t=n||t===o?1:gs(t)))<0?0:t):[]},$n.dropRightWhile=function(e,t){return e&&e.length?go(e,li(t,3),!0,!0):[]},$n.dropWhile=function(e,t){return e&&e.length?go(e,li(t,3),!0):[]},$n.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&\"number\"!=typeof n&&bi(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=gs(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:gs(r))<0&&(r+=i),r=n>r?0:ms(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},$n.filter=function(e,t){return(Va(e)?Ot:yr)(e,li(t,3))},$n.flatMap=function(e,t){return vr(xa(e,t),1)},$n.flatMapDeep=function(e,t){return vr(xa(e,t),h)},$n.flatMapDepth=function(e,t,n){return n=n===o?1:gs(n),vr(xa(e,t),n)},$n.flatten=Ki,$n.flattenDeep=function(e){return(null==e?0:e.length)?vr(e,h):[]},$n.flattenDepth=function(e,t){return(null==e?0:e.length)?vr(e,t=t===o?1:gs(t)):[]},$n.flip=function(e){return Qo(e,512)},$n.flow=nc,$n.flowRight=rc,$n.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},$n.functions=function(e){return null==e?[]:Er(e,Os(e))},$n.functionsIn=function(e){return null==e?[]:Er(e,Ns(e))},$n.groupBy=ba,$n.initial=function(e){return(null==e?0:e.length)?oo(e,0,-1):[]},$n.intersection=Hi,$n.intersectionBy=Ji,$n.intersectionWith=Zi,$n.invert=Cs,$n.invertBy=Rs,$n.invokeMap=Sa,$n.iteratee=ic,$n.keyBy=Ea,$n.keys=Os,$n.keysIn=Ns,$n.map=xa,$n.mapKeys=function(e,t){var n={};return t=li(t,3),br(e,(function(e,r,o){ar(n,t(e,r,o),e)})),n},$n.mapValues=function(e,t){var n={};return t=li(t,3),br(e,(function(e,r,o){ar(n,r,t(e,r,o))})),n},$n.matches=function(e){return $r(ur(e,1))},$n.matchesProperty=function(e,t){return Fr(e,ur(t,1))},$n.memoize=za,$n.merge=Bs,$n.mergeWith=zs,$n.method=ac,$n.methodOf=sc,$n.mixin=cc,$n.negate=Ma,$n.nthArg=function(e){return e=gs(e),Yr((function(t){return Wr(t,e)}))},$n.omit=Ms,$n.omitBy=function(e,t){return Us(e,Ma(li(t)))},$n.once=function(e){return Ca(2,e)},$n.orderBy=function(e,t,n,r){return null==e?[]:(Va(t)||(t=null==t?[]:[t]),Va(n=r?o:n)||(n=null==n?[]:[n]),Vr(e,t,n))},$n.over=lc,$n.overArgs=ja,$n.overEvery=dc,$n.overSome=fc,$n.partial=Ua,$n.partialRight=Da,$n.partition=Ta,$n.pick=js,$n.pickBy=Us,$n.property=hc,$n.propertyOf=function(e){return function(t){return null==e?o:xr(e,t)}},$n.pull=Xi,$n.pullAll=Qi,$n.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Gr(e,t,li(n,2)):e},$n.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Gr(e,t,o,n):e},$n.pullAt=ea,$n.range=pc,$n.rangeRight=gc,$n.rearg=La,$n.reject=function(e,t){return(Va(e)?Ot:yr)(e,Ma(li(t,3)))},$n.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=li(t,3);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return Hr(e,o),n},$n.rest=function(e,t){if(\"function\"!=typeof e)throw new Re(i);return Yr(e,t=t===o?t:gs(t))},$n.reverse=ta,$n.sampleSize=function(e,t,n){return t=(n?bi(e,t,n):t===o)?1:gs(t),(Va(e)?Qn:Qr)(e,t)},$n.set=function(e,t,n){return null==e?e:eo(e,t,n)},$n.setWith=function(e,t,n,r){return r=\"function\"==typeof r?r:o,null==e?e:eo(e,t,n,r)},$n.shuffle=function(e){return(Va(e)?er:ro)(e)},$n.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&\"number\"!=typeof n&&bi(e,t,n)?(t=0,n=r):(t=null==t?0:gs(t),n=n===o?r:gs(n)),oo(e,t,n)):[]},$n.sortBy=ka,$n.sortedUniq=function(e){return e&&e.length?co(e):[]},$n.sortedUniqBy=function(e,t){return e&&e.length?co(e,li(t,2)):[]},$n.split=function(e,t,n){return n&&\"number\"!=typeof n&&bi(e,t,n)&&(t=n=o),(n=n===o?m:n>>>0)?(e=ws(e))&&(\"string\"==typeof t||null!=t&&!as(t))&&!(t=lo(t))&&cn(e)?Eo(gn(e),0,n):e.split(t,n):[]},$n.spread=function(e,t){if(\"function\"!=typeof e)throw new Re(i);return t=null==t?0:wn(gs(t),0),Yr((function(n){var r=n[t],o=Eo(n,0,t);return r&&Mt(o,r),It(e,this,o)}))},$n.tail=function(e){var t=null==e?0:e.length;return t?oo(e,1,t):[]},$n.take=function(e,t,n){return e&&e.length?oo(e,0,(t=n||t===o?1:gs(t))<0?0:t):[]},$n.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?oo(e,(t=r-(t=n||t===o?1:gs(t)))<0?0:t,r):[]},$n.takeRightWhile=function(e,t){return e&&e.length?go(e,li(t,3),!1,!0):[]},$n.takeWhile=function(e,t){return e&&e.length?go(e,li(t,3)):[]},$n.tap=function(e,t){return t(e),e},$n.throttle=function(e,t,n){var r=!0,o=!0;if(\"function\"!=typeof e)throw new Re(i);return ts(n)&&(r=\"leading\"in n?!!n.leading:r,o=\"trailing\"in n?!!n.trailing:o),Oa(e,t,{leading:r,maxWait:t,trailing:o})},$n.thru=pa,$n.toArray=hs,$n.toPairs=Ds,$n.toPairsIn=Ls,$n.toPath=function(e){return Va(e)?zt(e,Ui):us(e)?[e]:Po(ji(ws(e)))},$n.toPlainObject=vs,$n.transform=function(e,t,n){var r=Va(e),o=r||Ja(e)||ls(e);if(t=li(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:ts(e)&&Xa(i)?Fn(Ge(e)):{}}return(o?Ct:br)(e,(function(e,r,o){return t(n,e,r,o)})),n},$n.unary=function(e){return _a(e,1)},$n.union=na,$n.unionBy=ra,$n.unionWith=oa,$n.uniq=function(e){return e&&e.length?fo(e):[]},$n.uniqBy=function(e,t){return e&&e.length?fo(e,li(t,2)):[]},$n.uniqWith=function(e,t){return t=\"function\"==typeof t?t:o,e&&e.length?fo(e,o,t):[]},$n.unset=function(e,t){return null==e||ho(e,t)},$n.unzip=ia,$n.unzipWith=aa,$n.update=function(e,t,n){return null==e?e:po(e,t,Ao(n))},$n.updateWith=function(e,t,n,r){return r=\"function\"==typeof r?r:o,null==e?e:po(e,t,Ao(n),r)},$n.values=$s,$n.valuesIn=function(e){return null==e?[]:en(e,Ns(e))},$n.without=sa,$n.words=Xs,$n.wrap=function(e,t){return Ua(Ao(t),e)},$n.xor=ca,$n.xorBy=ua,$n.xorWith=la,$n.zip=da,$n.zipObject=function(e,t){return vo(e||[],t||[],nr)},$n.zipObjectDeep=function(e,t){return vo(e||[],t||[],eo)},$n.zipWith=fa,$n.entries=Ds,$n.entriesIn=Ls,$n.extend=bs,$n.extendWith=Ss,cc($n,$n),$n.add=vc,$n.attempt=Qs,$n.camelCase=Fs,$n.capitalize=qs,$n.ceil=wc,$n.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=ys(n))==n?n:0),t!==o&&(t=(t=ys(t))==t?t:0),cr(ys(e),t,n)},$n.clone=function(e){return ur(e,4)},$n.cloneDeep=function(e){return ur(e,5)},$n.cloneDeepWith=function(e,t){return ur(e,5,t=\"function\"==typeof t?t:o)},$n.cloneWith=function(e,t){return ur(e,4,t=\"function\"==typeof t?t:o)},$n.conformsTo=function(e,t){return null==t||lr(e,t,Os(t))},$n.deburr=Ws,$n.defaultTo=function(e,t){return null==e||e!=e?t:e},$n.divide=Ac,$n.endsWith=function(e,t,n){e=ws(e),t=lo(t);var r=e.length,i=n=n===o?r:cr(gs(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},$n.eq=$a,$n.escape=function(e){return(e=ws(e))&&Y.test(e)?e.replace(J,an):e},$n.escapeRegExp=function(e){return(e=ws(e))&&ie.test(e)?e.replace(oe,\"\\\\$&\"):e},$n.every=function(e,t,n){var r=Va(e)?Pt:gr;return n&&bi(e,t,n)&&(t=o),r(e,li(t,3))},$n.find=ya,$n.findIndex=Wi,$n.findKey=function(e,t){return $t(e,li(t,3),br)},$n.findLast=va,$n.findLastIndex=Vi,$n.findLastKey=function(e,t){return $t(e,li(t,3),Sr)},$n.floor=bc,$n.forEach=wa,$n.forEachRight=Aa,$n.forIn=function(e,t){return null==e?e:wr(e,li(t,3),Ns)},$n.forInRight=function(e,t){return null==e?e:Ar(e,li(t,3),Ns)},$n.forOwn=function(e,t){return e&&br(e,li(t,3))},$n.forOwnRight=function(e,t){return e&&Sr(e,li(t,3))},$n.get=Is,$n.gt=Fa,$n.gte=qa,$n.has=function(e,t){return null!=e&&yi(e,t,_r)},$n.hasIn=_s,$n.head=Gi,$n.identity=oc,$n.includes=function(e,t,n,r){e=Ga(e)?e:$s(e),n=n&&!r?gs(n):0;var o=e.length;return n<0&&(n=wn(o+n,0)),cs(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&qt(e,t,n)>-1},$n.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:gs(n);return o<0&&(o=wn(r+o,0)),qt(e,t,o)},$n.inRange=function(e,t,n){return t=ps(t),n===o?(n=t,t=0):n=ps(n),function(e,t,n){return e>=An(t,n)&&e<wn(t,n)}(e=ys(e),t,n)},$n.invoke=Ps,$n.isArguments=Wa,$n.isArray=Va,$n.isArrayBuffer=Ka,$n.isArrayLike=Ga,$n.isArrayLikeObject=Ha,$n.isBoolean=function(e){return!0===e||!1===e||ns(e)&&kr(e)==A},$n.isBuffer=Ja,$n.isDate=Za,$n.isElement=function(e){return ns(e)&&1===e.nodeType&&!is(e)},$n.isEmpty=function(e){if(null==e)return!0;if(Ga(e)&&(Va(e)||\"string\"==typeof e||\"function\"==typeof e.splice||Ja(e)||ls(e)||Wa(e)))return!e.length;var t=mi(e);if(t==T||t==R)return!e.size;if(Ti(e))return!jr(e).length;for(var n in e)if(Me.call(e,n))return!1;return!0},$n.isEqual=function(e,t){return Nr(e,t)},$n.isEqualWith=function(e,t,n){var r=(n=\"function\"==typeof n?n:o)?n(e,t):o;return r===o?Nr(e,t,o,n):!!r},$n.isError=Ya,$n.isFinite=function(e){return\"number\"==typeof e&&At(e)},$n.isFunction=Xa,$n.isInteger=Qa,$n.isLength=es,$n.isMap=rs,$n.isMatch=function(e,t){return e===t||Br(e,t,fi(t))},$n.isMatchWith=function(e,t,n){return n=\"function\"==typeof n?n:o,Br(e,t,fi(t),n)},$n.isNaN=function(e){return os(e)&&e!=+e},$n.isNative=function(e){if(xi(e))throw new xe(\"Unsupported core-js use. Try https://npms.io/search?q=ponyfill.\");return zr(e)},$n.isNil=function(e){return null==e},$n.isNull=function(e){return null===e},$n.isNumber=os,$n.isObject=ts,$n.isObjectLike=ns,$n.isPlainObject=is,$n.isRegExp=as,$n.isSafeInteger=function(e){return Qa(e)&&e>=-9007199254740991&&e<=p},$n.isSet=ss,$n.isString=cs,$n.isSymbol=us,$n.isTypedArray=ls,$n.isUndefined=function(e){return e===o},$n.isWeakMap=function(e){return ns(e)&&mi(e)==N},$n.isWeakSet=function(e){return ns(e)&&\"[object WeakSet]\"==kr(e)},$n.join=function(e,t){return null==e?\"\":Lt.call(e,t)},$n.kebabCase=Vs,$n.last=Yi,$n.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=gs(n))<0?wn(r+i,0):An(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):Ft(e,Vt,i,!0)},$n.lowerCase=Ks,$n.lowerFirst=Gs,$n.lt=ds,$n.lte=fs,$n.max=function(e){return e&&e.length?mr(e,oc,Ir):o},$n.maxBy=function(e,t){return e&&e.length?mr(e,li(t,2),Ir):o},$n.mean=function(e){return Kt(e,oc)},$n.meanBy=function(e,t){return Kt(e,li(t,2))},$n.min=function(e){return e&&e.length?mr(e,oc,Dr):o},$n.minBy=function(e,t){return e&&e.length?mr(e,li(t,2),Dr):o},$n.stubArray=mc,$n.stubFalse=yc,$n.stubObject=function(){return{}},$n.stubString=function(){return\"\"},$n.stubTrue=function(){return!0},$n.multiply=Ec,$n.nth=function(e,t){return e&&e.length?Wr(e,gs(t)):o},$n.noConflict=function(){return gt._===this&&(gt._=$e),this},$n.noop=uc,$n.now=Ia,$n.pad=function(e,t,n){e=ws(e);var r=(t=gs(t))?pn(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return Ko(mt(o),n)+e+Ko(pt(o),n)},$n.padEnd=function(e,t,n){e=ws(e);var r=(t=gs(t))?pn(e):0;return t&&r<t?e+Ko(t-r,n):e},$n.padStart=function(e,t,n){e=ws(e);var r=(t=gs(t))?pn(e):0;return t&&r<t?Ko(t-r,n)+e:e},$n.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Sn(ws(e).replace(ae,\"\"),t||0)},$n.random=function(e,t,n){if(n&&\"boolean\"!=typeof n&&bi(e,t,n)&&(t=n=o),n===o&&(\"boolean\"==typeof t?(n=t,t=o):\"boolean\"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=ps(e),t===o?(t=e,e=0):t=ps(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=En();return An(e+i*(t-e+dt(\"1e-\"+((i+\"\").length-1))),t)}return Jr(e,t)},$n.reduce=function(e,t,n){var r=Va(e)?jt:Jt,o=arguments.length<3;return r(e,li(t,4),n,o,hr)},$n.reduceRight=function(e,t,n){var r=Va(e)?Ut:Jt,o=arguments.length<3;return r(e,li(t,4),n,o,pr)},$n.repeat=function(e,t,n){return t=(n?bi(e,t,n):t===o)?1:gs(t),Zr(ws(e),t)},$n.replace=function(){var e=arguments,t=ws(e[0]);return e.length<3?t:t.replace(e[1],e[2])},$n.result=function(e,t,n){var r=-1,i=(t=bo(t,e)).length;for(i||(i=1,e=o);++r<i;){var a=null==e?o:e[Ui(t[r])];a===o&&(r=i,a=n),e=Xa(a)?a.call(e):a}return e},$n.round=xc,$n.runInContext=e,$n.sample=function(e){return(Va(e)?Xn:Xr)(e)},$n.size=function(e){if(null==e)return 0;if(Ga(e))return cs(e)?pn(e):e.length;var t=mi(e);return t==T||t==R?e.size:jr(e).length},$n.snakeCase=Hs,$n.some=function(e,t,n){var r=Va(e)?Dt:io;return n&&bi(e,t,n)&&(t=o),r(e,li(t,3))},$n.sortedIndex=function(e,t){return ao(e,t)},$n.sortedIndexBy=function(e,t,n){return so(e,t,li(n,2))},$n.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ao(e,t);if(r<n&&$a(e[r],t))return r}return-1},$n.sortedLastIndex=function(e,t){return ao(e,t,!0)},$n.sortedLastIndexBy=function(e,t,n){return so(e,t,li(n,2),!0)},$n.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ao(e,t,!0)-1;if($a(e[n],t))return n}return-1},$n.startCase=Js,$n.startsWith=function(e,t,n){return e=ws(e),n=null==n?0:cr(gs(n),0,e.length),t=lo(t),e.slice(n,n+t.length)==t},$n.subtract=Tc,$n.sum=function(e){return e&&e.length?Zt(e,oc):0},$n.sumBy=function(e,t){return e&&e.length?Zt(e,li(t,2)):0},$n.template=function(e,t,n){var r=$n.templateSettings;n&&bi(e,t,n)&&(t=o),e=ws(e),t=Ss({},t,r,ei);var i,a,s=Ss({},t.imports,r.imports,ei),c=Os(s),u=en(s,c),l=0,d=t.interpolate||Se,f=\"__p += '\",h=_e((t.escape||Se).source+\"|\"+d.source+\"|\"+(d===ee?pe:Se).source+\"|\"+(t.evaluate||Se).source+\"|$\",\"g\"),p=\"//# sourceURL=\"+(Me.call(t,\"sourceURL\")?(t.sourceURL+\"\").replace(/\\s/g,\" \"):\"lodash.templateSources[\"+ ++st+\"]\")+\"\\n\";e.replace(h,(function(t,n,r,o,s,c){return r||(r=o),f+=e.slice(l,c).replace(Ee,sn),n&&(i=!0,f+=\"' +\\n__e(\"+n+\") +\\n'\"),s&&(a=!0,f+=\"';\\n\"+s+\";\\n__p += '\"),r&&(f+=\"' +\\n((__t = (\"+r+\")) == null ? '' : __t) +\\n'\"),l=c+t.length,t})),f+=\"';\\n\";var g=Me.call(t,\"variable\")&&t.variable;if(g){if(fe.test(g))throw new xe(\"Invalid `variable` option passed into `_.template`\")}else f=\"with (obj) {\\n\"+f+\"\\n}\\n\";f=(a?f.replace(V,\"\"):f).replace(K,\"$1\").replace(G,\"$1;\"),f=\"function(\"+(g||\"obj\")+\") {\\n\"+(g?\"\":\"obj || (obj = {});\\n\")+\"var __t, __p = ''\"+(i?\", __e = _.escape\":\"\")+(a?\", __j = Array.prototype.join;\\nfunction print() { __p += __j.call(arguments, '') }\\n\":\";\\n\")+f+\"return __p\\n}\";var m=Qs((function(){return Te(c,p+\"return \"+f).apply(o,u)}));if(m.source=f,Ya(m))throw m;return m},$n.times=function(e,t){if((e=gs(e))<1||e>p)return[];var n=m,r=An(e,m);t=li(t),e-=m;for(var o=Yt(r,t);++n<e;)t(n);return o},$n.toFinite=ps,$n.toInteger=gs,$n.toLength=ms,$n.toLower=function(e){return ws(e).toLowerCase()},$n.toNumber=ys,$n.toSafeInteger=function(e){return e?cr(gs(e),-9007199254740991,p):0===e?e:0},$n.toString=ws,$n.toUpper=function(e){return ws(e).toUpperCase()},$n.trim=function(e,t,n){if((e=ws(e))&&(n||t===o))return Xt(e);if(!e||!(t=lo(t)))return e;var r=gn(e),i=gn(t);return Eo(r,nn(r,i),rn(r,i)+1).join(\"\")},$n.trimEnd=function(e,t,n){if((e=ws(e))&&(n||t===o))return e.slice(0,mn(e)+1);if(!e||!(t=lo(t)))return e;var r=gn(e);return Eo(r,0,rn(r,gn(t))+1).join(\"\")},$n.trimStart=function(e,t,n){if((e=ws(e))&&(n||t===o))return e.replace(ae,\"\");if(!e||!(t=lo(t)))return e;var r=gn(e);return Eo(r,nn(r,gn(t))).join(\"\")},$n.truncate=function(e,t){var n=30,r=\"...\";if(ts(t)){var i=\"separator\"in t?t.separator:i;n=\"length\"in t?gs(t.length):n,r=\"omission\"in t?lo(t.omission):r}var a=(e=ws(e)).length;if(cn(e)){var s=gn(e);a=s.length}if(n>=a)return e;var c=n-pn(r);if(c<1)return r;var u=s?Eo(s,0,c).join(\"\"):e.slice(0,c);if(i===o)return u+r;if(s&&(c+=u.length-c),as(i)){if(e.slice(c).search(i)){var l,d=u;for(i.global||(i=_e(i.source,ws(ge.exec(i))+\"g\")),i.lastIndex=0;l=i.exec(d);)var f=l.index;u=u.slice(0,f===o?c:f)}}else if(e.indexOf(lo(i),c)!=c){var h=u.lastIndexOf(i);h>-1&&(u=u.slice(0,h))}return u+r},$n.unescape=function(e){return(e=ws(e))&&Z.test(e)?e.replace(H,yn):e},$n.uniqueId=function(e){var t=++je;return ws(e)+t},$n.upperCase=Zs,$n.upperFirst=Ys,$n.each=wa,$n.eachRight=Aa,$n.first=Gi,cc($n,(Sc={},br($n,(function(e,t){Me.call($n.prototype,t)||(Sc[t]=e)})),Sc),{chain:!1}),$n.VERSION=\"4.17.21\",Ct([\"bind\",\"bindKey\",\"curry\",\"curryRight\",\"partial\",\"partialRight\"],(function(e){$n[e].placeholder=$n})),Ct([\"drop\",\"take\"],(function(e,t){Vn.prototype[e]=function(n){n=n===o?1:wn(gs(n),0);var r=this.__filtered__&&!t?new Vn(this):this.clone();return r.__filtered__?r.__takeCount__=An(n,r.__takeCount__):r.__views__.push({size:An(n,m),type:e+(r.__dir__<0?\"Right\":\"\")}),r},Vn.prototype[e+\"Right\"]=function(t){return this.reverse()[e](t).reverse()}})),Ct([\"filter\",\"map\",\"takeWhile\"],(function(e,t){var n=t+1,r=1==n||3==n;Vn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:li(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Ct([\"head\",\"last\"],(function(e,t){var n=\"take\"+(t?\"Right\":\"\");Vn.prototype[e]=function(){return this[n](1).value()[0]}})),Ct([\"initial\",\"tail\"],(function(e,t){var n=\"drop\"+(t?\"\":\"Right\");Vn.prototype[e]=function(){return this.__filtered__?new Vn(this):this[n](1)}})),Vn.prototype.compact=function(){return this.filter(oc)},Vn.prototype.find=function(e){return this.filter(e).head()},Vn.prototype.findLast=function(e){return this.reverse().find(e)},Vn.prototype.invokeMap=Yr((function(e,t){return\"function\"==typeof e?new Vn(this):this.map((function(n){return Pr(n,e,t)}))})),Vn.prototype.reject=function(e){return this.filter(Ma(li(e)))},Vn.prototype.slice=function(e,t){e=gs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Vn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=gs(t))<0?n.dropRight(-t):n.take(t-e)),n)},Vn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Vn.prototype.toArray=function(){return this.take(m)},br(Vn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=$n[r?\"take\"+(\"last\"==t?\"Right\":\"\"):t],a=r||/^find/.test(t);i&&($n.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,c=t instanceof Vn,u=s[0],l=c||Va(t),d=function(e){var t=i.apply($n,Mt([e],s));return r&&f?t[0]:t};l&&n&&\"function\"==typeof u&&1!=u.length&&(c=l=!1);var f=this.__chain__,h=!!this.__actions__.length,p=a&&!f,g=c&&!h;if(!a&&l){t=g?t:new Vn(this);var m=e.apply(t,s);return m.__actions__.push({func:pa,args:[d],thisArg:o}),new Wn(m,f)}return p&&g?e.apply(this,s):(m=this.thru(d),p?r?m.value()[0]:m.value():m)})})),Ct([\"pop\",\"push\",\"shift\",\"sort\",\"splice\",\"unshift\"],(function(e){var t=Pe[e],n=/^(?:push|sort|unshift)$/.test(e)?\"tap\":\"thru\",r=/^(?:pop|shift)$/.test(e);$n.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(Va(o)?o:[],e)}return this[n]((function(n){return t.apply(Va(n)?n:[],e)}))}})),br(Vn.prototype,(function(e,t){var n=$n[t];if(n){var r=n.name+\"\";Me.call(On,r)||(On[r]=[]),On[r].push({name:t,func:n})}})),On[Fo(o,2).name]=[{name:\"wrapper\",func:o}],Vn.prototype.clone=function(){var e=new Vn(this.__wrapped__);return e.__actions__=Po(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Po(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Po(this.__views__),e},Vn.prototype.reverse=function(){if(this.__filtered__){var e=new Vn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Vn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Va(e),r=t<0,o=n?e.length:0,i=function(e,t,n){var r=-1,o=n.length;for(;++r<o;){var i=n[r],a=i.size;switch(i.type){case\"drop\":e+=a;break;case\"dropRight\":t-=a;break;case\"take\":t=An(t,e+a);break;case\"takeRight\":e=wn(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=i.start,s=i.end,c=s-a,u=r?s:a-1,l=this.__iteratees__,d=l.length,f=0,h=An(c,this.__takeCount__);if(!n||!r&&o==c&&h==c)return mo(e,this.__actions__);var p=[];e:for(;c--&&f<h;){for(var g=-1,m=e[u+=t];++g<d;){var y=l[g],v=y.iteratee,w=y.type,A=v(m);if(2==w)m=A;else if(!A){if(1==w)continue e;break e}}p[f++]=m}return p},$n.prototype.at=ga,$n.prototype.chain=function(){return ha(this)},$n.prototype.commit=function(){return new Wn(this.value(),this.__chain__)},$n.prototype.next=function(){this.__values__===o&&(this.__values__=hs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},$n.prototype.plant=function(e){for(var t,n=this;n instanceof qn;){var r=Li(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},$n.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Vn){var t=e;return this.__actions__.length&&(t=new Vn(this)),(t=t.reverse()).__actions__.push({func:pa,args:[ta],thisArg:o}),new Wn(t,this.__chain__)}return this.thru(ta)},$n.prototype.toJSON=$n.prototype.valueOf=$n.prototype.value=function(){return mo(this.__wrapped__,this.__actions__)},$n.prototype.first=$n.prototype.head,Xe&&($n.prototype[Xe]=function(){return this}),$n}();gt._=vn,(r=function(){return vn}.call(t,n,t,e))===o||(e.exports=r)}.call(this)},5276:(e,t,n)=>{var r=n(4497),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},5288:(e,t,n)=>{var r=n(358),o=n(7200),i=n(6529);e.exports=function(e){return i(e)?r(e,!0):o(e)}},5353:(e,t,n)=>{var r=n(8638);e.exports=function(e,t,n){return t=n?void 0:t,t=e&&null==t?e.length:t,r(e,128,void 0,void 0,void 0,void 0,t)}},5387:e=>{e.exports=function(e){return\"number\"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},5512:(e,t,n)=>{var r=n(4943),o=n(3316)(r);e.exports=o},5568:e=>{e.exports=function(e,t){return e.has(t)}},5620:(e,t,n)=>{var r=n(8788),o=n(9141),i=n(796),a=n(33);e.exports=function(e,t,n){var s=t+\"\";return i(e,o(s,a(r(s),n)))}},5650:(e,t,n)=>{var r=n(8942).Symbol;e.exports=r},5681:(e,t,n)=>{var r=n(4700);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},5755:e=>{var t=Math.max;e.exports=function(e,n,r,o){for(var i=-1,a=e.length,s=-1,c=r.length,u=-1,l=n.length,d=t(a-c,0),f=Array(d+l),h=!o;++i<d;)f[i]=e[i];for(var p=i;++u<l;)f[p+u]=n[u];for(;++s<c;)(h||i<a)&&(f[p+r[s]]=e[i++]);return f}},5832:(e,t,n)=>{var r=n(1129),o=n(4784),i=n(7979),a=n(9306),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,i(e)),e=o(e);return t}:a;e.exports=s},5853:(e,t,n)=>{e=n.nmd(e);var r=n(8942),o=n(4772),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||o;e.exports=c},5857:(e,t,n)=>{var r=n(313);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},5894:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},5899:(e,t,n)=>{var r=n(3526),o=n(3283),i=n(3142),a=n(9632),s=n(5387),c=n(6040);e.exports=function(e,t,n){for(var u=-1,l=(t=r(t,e)).length,d=!1;++u<l;){var f=c(t[u]);if(!(d=null!=e&&n(e,f)))break;e=e[f]}return d||++u!=l?d:!!(l=null==e?0:e.length)&&s(l)&&a(f,l)&&(i(e)||o(e))}},5962:e=>{e.exports=function(){}},5964:(e,t,n)=>{var r=n(9747),o=n(4784),i=n(4882);e.exports=function(e){return\"function\"!=typeof e.constructor||i(e)?{}:r(o(e))}},6027:(e,t,n)=>{var r=n(7379),o=n(547);e.exports=function(e){return o(e)&&\"[object Arguments]\"==r(e)}},6040:(e,t,n)=>{var r=n(1187);e.exports=function(e){if(\"string\"==typeof e||r(e))return e;var t=e+\"\";return\"0\"==t&&1/e==-Infinity?\"-0\":t}},6065:(e,t,n)=>{var r=n(9270),o=r&&new r;e.exports=o},6123:(e,t,n)=>{var r=n(7923);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},6131:(e,t,n)=>{var r=n(6403),o=n(1580),i=n(1187),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if(\"number\"==typeof e)return e;if(i(e))return NaN;if(o(e)){var t=\"function\"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+\"\":t}if(\"string\"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):a.test(e)?NaN:+e}},6137:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},6285:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},6341:(e,t,n)=>{var r=n(6912),o=n(4364),i=n(8942);e.exports=function(e,t,n,a){var s=1&t,c=o(e);return function t(){for(var o=-1,u=arguments.length,l=-1,d=a.length,f=Array(d+u),h=this&&this!==i&&this instanceof t?c:e;++l<d;)f[l]=a[l];for(;u--;)f[l++]=arguments[++o];return r(h,s?n:this,f)}}},6403:(e,t,n)=>{var r=n(2945),o=/^\\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,\"\"):e}},6465:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},6493:(e,t,n)=>{var r=n(6853),o=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,i=/\\\\(\\\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(\"\"),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(i,\"$1\"):n||e)})),t}));e.exports=a},6526:(e,t,n)=>{var r=n(8330),o=n(4367),i=n(3904);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},6529:(e,t,n)=>{var r=n(3655),o=n(5387);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},6591:(e,t,n)=>{var r=n(4354),o=n(9632),i=Math.min;e.exports=function(e,t){for(var n=e.length,a=i(t.length,n),s=r(e);a--;){var c=t[a];e[a]=o(c,n)?s[c]:void 0}return e}},6638:(e,t,n)=>{var r=n(1386),o=n(9770),i=n(8250);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(e,t),this.size=n.size,this}},6648:(e,t,n)=>{var r=n(7553),o=n(5196),i=n(961),a=n(3321);e.exports=function(e){var t=i(e),n=a[t];if(\"function\"!=typeof n||!(t in r.prototype))return!1;if(e===n)return!0;var s=o(n);return!!s&&e===s[0]}},6713:(e,t,n)=>{var r=n(4364),o=n(8942);e.exports=function(e,t,n){var i=1&t,a=r(e);return function t(){return(this&&this!==o&&this instanceof t?a:e).apply(i?n:this,arguments)}}},6850:e=>{e.exports=function(e){return e.placeholder}},6853:(e,t,n)=>{var r=n(9011);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},6912:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},7028:(e,t,n)=>{var r=n(4977),o=n(5755),i=n(8813),a=\"__lodash_placeholder__\",s=128,c=Math.min;e.exports=function(e,t){var n=e[1],u=t[1],l=n|u,d=l<131,f=u==s&&8==n||u==s&&256==n&&e[7].length<=t[8]||384==u&&t[7].length<=t[8]&&8==n;if(!d&&!f)return e;1&u&&(e[2]=t[2],l|=1&n?0:4);var h=t[3];if(h){var p=e[3];e[3]=p?r(p,h,t[4]):h,e[4]=p?i(e[3],a):t[4]}return(h=t[5])&&(p=e[5],e[5]=p?o(p,h,t[6]):h,e[6]=p?i(e[5],a):t[6]),(h=t[7])&&(e[7]=h),u&s&&(e[8]=null==e[8]?t[8]:c(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=l,e}},7034:(e,t,n)=>{var r=n(6285);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},7073:(e,t,n)=>{var r=n(2532);e.exports=function(e,t,n){\"__proto__\"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},7099:(e,t,n)=>{e=n.nmd(e);var r=n(8942),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},7144:(e,t,n)=>{var r=n(7034);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7200:(e,t,n)=>{var r=n(1580),o=n(4882),i=n(8546),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=o(e),n=[];for(var s in e)(\"constructor\"!=s||!t&&a.call(e,s))&&n.push(s);return n}},7250:e=>{e.exports=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}},7267:(e,t,n)=>{var r=n(1580);e.exports=function(e){return e==e&&!r(e)}},7276:(e,t,n)=>{var r=n(3636),o=n(5899);e.exports=function(e,t){return null!=e&&o(e,t,r)}},7336:(e,t,n)=>{var r=n(8638);function o(e,t,n){var i=r(e,8,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return i.placeholder=o.placeholder,i}o.placeholder={},e.exports=o},7350:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&\"string\"==typeof e[0]&&t.call(e,\"index\")&&(r.index=e.index,r.input=e.input),r}},7379:(e,t,n)=>{var r=n(5650),o=n(8870),i=n(9005),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?\"[object Undefined]\":\"[object Null]\":a&&a in Object(e)?o(e):i(e)}},7403:(e,t,n)=>{var r=n(2619),o=n(2532),i=n(2053),a=o?function(e,t){return o(e,\"toString\",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=a},7452:(e,t,n)=>{var r=n(7034);e.exports=function(e){return r(this.__data__,e)>-1}},7462:e=>{e.exports=function(e){return this.__data__.has(e)}},7553:(e,t,n)=>{var r=n(9747),o=n(5962);function i(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}i.prototype=r(o.prototype),i.prototype.constructor=i,e.exports=i},7642:(e,t,n)=>{var r=n(3301);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},7681:(e,t,n)=>{var r=n(777),o=n(9460),i=n(2306),a=i&&i.isMap,s=a?o(a):r;e.exports=s},7706:e=>{e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},7769:(e,t,n)=>{var r=n(8486),o=n(547);e.exports=function(e){return o(e)&&\"[object WeakMap]\"==r(e)}},7923:(e,t,n)=>{var r=n(3526),o=n(6040);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},7930:(e,t,n)=>{var r=n(9032),o=n(1211);e.exports=function(e,t){return e&&r(t,o(t),e)}},7979:(e,t,n)=>{var r=n(9847),o=n(9306),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return i.call(e,t)})))}:o;e.exports=s},7991:(e,t)=>{\"use strict\";t.byteLength=function(e){var t=s(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=s(e),a=i[0],c=i[1],u=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,c)),l=0,d=c>0?a-4:a;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===c&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,u[l++]=255&t);1===c&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],a=16383,s=0,u=r-o;s<u;s+=a)i.push(c(e,s,s+a>u?u:s+a));1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+\"==\")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+\"=\"));return i.join(\"\")};for(var n=[],r=[],o=\"undefined\"!=typeof Uint8Array?Uint8Array:Array,i=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",a=0;a<64;++a)n[a]=i[a],r[i.charCodeAt(a)]=a;function s(e){var t=e.length;if(t%4>0)throw new Error(\"Invalid string. Length must be a multiple of 4\");var n=e.indexOf(\"=\");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,r){for(var o,i,a=[],s=t;s<r;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join(\"\")}r[\"-\".charCodeAt(0)]=62,r[\"_\".charCodeAt(0)]=63},8006:e=>{e.exports=function(e){return this.__data__.has(e)}},8055:(e,t,n)=>{e.exports={ary:n(5353),assign:n(7930),clone:n(2846),curry:n(7336),forEach:n(9968),isArray:n(3142),isError:n(441),isFunction:n(3655),isWeakMap:n(7769),iteratee:n(2590),keys:n(195),rearg:n(864),toInteger:n(7642),toPath:n(2613)}},8069:(e,t,n)=>{var r=n(5650),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},8121:(e,t,n)=>{var r=n(3766)(Object.keys,Object);e.exports=r},8244:(e,t,n)=>{var r=n(1129),o=n(3142);e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},8250:(e,t,n)=>{var r=n(9753),o=n(5681),i=n(88),a=n(4732),s=n(9068);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},8330:(e,t,n)=>{var r=n(1340),o=n(4687);e.exports=function(e,t,n,i){var a=n.length,s=a,c=!i;if(null==e)return!s;for(e=Object(e);a--;){var u=n[a];if(c&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<s;){var l=(u=n[a])[0],d=e[l],f=u[1];if(c&&u[2]){if(void 0===d&&!(l in e))return!1}else{var h=new r;if(i)var p=i(d,f,l,e,t,h);if(!(void 0===p?o(f,d,3,i,h):p))return!1}}return!0}},8340:e=>{var t=/\\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},8360:(e,t,n)=>{var r=n(7379),o=n(4784),i=n(547),a=Function.prototype,s=Object.prototype,c=a.toString,u=s.hasOwnProperty,l=c.call(Object);e.exports=function(e){if(!i(e)||\"[object Object]\"!=r(e))return!1;var t=o(e);if(null===t)return!0;var n=u.call(t,\"constructor\")&&t.constructor;return\"function\"==typeof n&&n instanceof n&&c.call(n)==l}},8486:(e,t,n)=>{var r=n(3103),o=n(9770),i=n(9413),a=n(4512),s=n(9270),c=n(7379),u=n(4066),l=\"[object Map]\",d=\"[object Promise]\",f=\"[object Set]\",h=\"[object WeakMap]\",p=\"[object DataView]\",g=u(r),m=u(o),y=u(i),v=u(a),w=u(s),A=c;(r&&A(new r(new ArrayBuffer(1)))!=p||o&&A(new o)!=l||i&&A(i.resolve())!=d||a&&A(new a)!=f||s&&A(new s)!=h)&&(A=function(e){var t=c(e),n=\"[object Object]\"==t?e.constructor:void 0,r=n?u(n):\"\";if(r)switch(r){case g:return p;case m:return l;case y:return d;case v:return f;case w:return h}return t}),e.exports=A},8546:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},8638:(e,t,n)=>{var r=n(4943),o=n(6713),i=n(2443),a=n(3504),s=n(6341),c=n(5196),u=n(7028),l=n(5512),d=n(5620),f=n(7642),h=Math.max;e.exports=function(e,t,n,p,g,m,y,v){var w=2&t;if(!w&&\"function\"!=typeof e)throw new TypeError(\"Expected a function\");var A=p?p.length:0;if(A||(t&=-97,p=g=void 0),y=void 0===y?y:h(f(y),0),v=void 0===v?v:f(v),A-=g?g.length:0,64&t){var b=p,S=g;p=g=void 0}var E=w?void 0:c(e),x=[e,t,n,p,g,b,S,m,y,v];if(E&&u(x,E),e=x[0],t=x[1],n=x[2],p=x[3],g=x[4],!(v=x[9]=void 0===x[9]?w?0:e.length:h(x[9]-A,0))&&24&t&&(t&=-25),t&&1!=t)T=8==t||16==t?i(e,t,v):32!=t&&33!=t||g.length?a.apply(void 0,x):s(e,t,n,p);else var T=o(e,t,n);return d((E?r:l)(T,x),e,t)}},8666:(e,t,n)=>{var r=n(674),o=n(9460),i=n(2306),a=i&&i.isTypedArray,s=a?o(a):r;e.exports=s},8788:e=>{var t=/\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,n=/,? & /;e.exports=function(e){var r=e.match(t);return r?r[1].split(n):[]}},8813:e=>{var t=\"__lodash_placeholder__\";e.exports=function(e,n){for(var r=-1,o=e.length,i=0,a=[];++r<o;){var s=e[r];s!==n&&s!==t||(e[r]=t,a[i++]=r)}return a}},8861:(e,t,n)=>{var r=n(5650),o=n(1623),i=n(6285),a=n(3934),s=n(5894),c=n(9828),u=r?r.prototype:void 0,l=u?u.valueOf:void 0;e.exports=function(e,t,n,r,u,d,f){switch(n){case\"[object DataView]\":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case\"[object ArrayBuffer]\":return!(e.byteLength!=t.byteLength||!d(new o(e),new o(t)));case\"[object Boolean]\":case\"[object Date]\":case\"[object Number]\":return i(+e,+t);case\"[object Error]\":return e.name==t.name&&e.message==t.message;case\"[object RegExp]\":case\"[object String]\":return e==t+\"\";case\"[object Map]\":var h=s;case\"[object Set]\":var p=1&r;if(h||(h=c),e.size!=t.size&&!p)return!1;var g=f.get(e);if(g)return g==t;r|=2,f.set(e,t);var m=a(h(e),h(t),r,u,d,f);return f.delete(e),m;case\"[object Symbol]\":if(l)return l.call(e)==l.call(t)}return!1}},8870:(e,t,n)=>{var r=n(5650),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},8880:(e,t,n)=>{var r=n(7923);e.exports=function(e){return function(t){return r(t,e)}}},8898:(e,t,n)=>{var r=n(1623);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},8942:(e,t,n)=>{var r=n(4967),o=\"object\"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function(\"return this\")();e.exports=i},9005:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},9011:(e,t,n)=>{var r=n(8250);function o(e,t){if(\"function\"!=typeof e||null!=t&&\"function\"!=typeof t)throw new TypeError(\"Expected a function\");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},9032:(e,t,n)=>{var r=n(3422),o=n(7073);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var u=t[s],l=i?i(n[u],e[u],u,n,e):void 0;void 0===l&&(l=e[u]),a?o(n,u,l):r(n,u,l)}return n}},9067:e=>{e.exports=function(e){var t=typeof e;return\"string\"==t||\"number\"==t||\"symbol\"==t||\"boolean\"==t?\"__proto__\"!==e:null===e}},9068:(e,t,n)=>{var r=n(4700);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},9071:e=>{e.exports=function(){}},9141:e=>{var t=/\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/;e.exports=function(e,n){var r=n.length;if(!r)return e;var o=r-1;return n[o]=(r>1?\"& \":\"\")+n[o],n=n.join(r>2?\", \":\" \"),e.replace(t,\"{\\n/* [wrapped with \"+n+\"] */\\n\")}},9270:(e,t,n)=>{var r=n(4715)(n(8942),\"WeakMap\");e.exports=r},9306:e=>{e.exports=function(){return[]}},9318:(e,t)=>{t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,c=(1<<s)-1,u=c>>1,l=-7,d=n?o-1:0,f=n?-1:1,h=e[t+d];for(d+=f,i=h&(1<<-l)-1,h>>=-l,l+=s;l>0;i=256*i+e[t+d],d+=f,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+e[t+d],d+=f,l-=8);if(0===i)i=1-u;else{if(i===c)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),i-=u}return(h?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,c,u=8*i-o-1,l=(1<<u)-1,d=l>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+d>=1?f/c:f*Math.pow(2,1-d))*c>=2&&(a++,c/=2),a+d>=l?(s=0,a=l):a+d>=1?(s=(t*c-1)*Math.pow(2,o),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;e[n+h]=255&s,h+=p,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;e[n+h]=255&a,h+=p,a/=256,u-=8);e[n+h-p]|=128*g}},9334:(e,t,n)=>{var r=n(1340),o=n(9968),i=n(3422),a=n(7930),s=n(125),c=n(7099),u=n(4354),l=n(3546),d=n(4733),f=n(393),h=n(3650),p=n(8486),g=n(7350),m=n(424),y=n(5964),v=n(3142),w=n(5853),A=n(7681),b=n(1580),S=n(3943),E=n(1211),x=n(5288),T=\"[object Arguments]\",k=\"[object Function]\",I=\"[object Object]\",_={};_[T]=_[\"[object Array]\"]=_[\"[object ArrayBuffer]\"]=_[\"[object DataView]\"]=_[\"[object Boolean]\"]=_[\"[object Date]\"]=_[\"[object Float32Array]\"]=_[\"[object Float64Array]\"]=_[\"[object Int8Array]\"]=_[\"[object Int16Array]\"]=_[\"[object Int32Array]\"]=_[\"[object Map]\"]=_[\"[object Number]\"]=_[I]=_[\"[object RegExp]\"]=_[\"[object Set]\"]=_[\"[object String]\"]=_[\"[object Symbol]\"]=_[\"[object Uint8Array]\"]=_[\"[object Uint8ClampedArray]\"]=_[\"[object Uint16Array]\"]=_[\"[object Uint32Array]\"]=!0,_[\"[object Error]\"]=_[k]=_[\"[object WeakMap]\"]=!1,e.exports=function e(t,n,C,R,P,O){var N,B=1&n,z=2&n,M=4&n;if(C&&(N=P?C(t,R,P,O):C(t)),void 0!==N)return N;if(!b(t))return t;var j=v(t);if(j){if(N=g(t),!B)return u(t,N)}else{var U=p(t),D=U==k||\"[object GeneratorFunction]\"==U;if(w(t))return c(t,B);if(U==I||U==T||D&&!P){if(N=z||D?{}:y(t),!B)return z?d(t,s(N,t)):l(t,a(N,t))}else{if(!_[U])return P?t:{};N=m(t,U,B)}}O||(O=new r);var L=O.get(t);if(L)return L;O.set(t,N),S(t)?t.forEach((function(r){N.add(e(r,n,C,r,t,O))})):A(t)&&t.forEach((function(r,o){N.set(o,e(r,n,C,o,t,O))}));var $=j?void 0:(M?z?h:f:z?x:E)(t);return o($||t,(function(r,o){$&&(r=t[o=r]),i(N,o,e(r,n,C,o,t,O))})),N}},9361:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},9413:(e,t,n)=>{var r=n(4715)(n(8942),\"Promise\");e.exports=r},9454:e=>{e.exports=function(e){return e!=e}},9460:e=>{e.exports=function(e){return function(t){return e(t)}}},9624:(e,t,n)=>{var r=n(3655),o=n(4759),i=n(1580),a=n(4066),s=/^\\[object .+?Constructor\\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,d=u.hasOwnProperty,f=RegExp(\"^\"+l.call(d).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?f:s).test(a(e))}},9632:e=>{var t=/^(?:0|[1-9]\\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&(\"number\"==r||\"symbol\"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},9747:(e,t,n)=>{var r=n(1580),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},9753:(e,t,n)=>{var r=n(5098),o=n(1386),i=n(9770);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},9756:(e,t,n)=>{var r=n(2478);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},9770:(e,t,n)=>{var r=n(4715)(n(8942),\"Map\");e.exports=r},9828:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},9847:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}},9968:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if(\"object\"==typeof globalThis)return globalThis;try{return this||new Function(\"return this\")()}catch(e){if(\"object\"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var r={};(()=>{\"use strict\";n.r(r),n.d(r,{onAssetHistoricalPrice:()=>xx,onAssetsConversion:()=>Sx,onAssetsLookup:()=>bx,onAssetsMarketData:()=>Px,onClientRequest:()=>Tx,onCronjob:()=>Ax,onInstall:()=>Cx,onKeyringRequest:()=>vx,onNameLookup:()=>Rx,onProtocolRequest:()=>Ex,onRpcRequest:()=>yx,onStart:()=>Ix,onUpdate:()=>_x,onUserInput:()=>wx,onWebSocketEvent:()=>kx});var e=function(){return e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},e.apply(this,arguments)},t=\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\";(()=>{const e=Array(256).fill(-1);for(let n=0;n<58;++n)e[t.charCodeAt(n)]=n})();var o,i,a=e=>{if(!e||\"string\"!=typeof e)throw new Error(`Expected base58 string but got “${e}”`);if(e.match(/[IOl0]/gmu))throw new Error(`Invalid base58 character “${e.match(/[IOl0]/gmu)}”`);const n=e.match(/^1+/gmu),r=n?n[0].length:0,o=(e.length-r)*(Math.log(58)/Math.log(256))+1>>>0;return new Uint8Array([...new Uint8Array(r),...e.match(/.{1}/gmu).map((e=>t.indexOf(e))).reduce(((e,t)=>e.map((e=>{const n=58*e+t;return t=n>>8,n}))),new Uint8Array(o)).reverse().filter((i=!1,e=>i=i||e))]);var i},s=(function(e,t){Object.defineProperty(t,\"__esModule\",{value:!0}),t.bech32m=t.bech32=void 0;const n=\"qpzry9x8gf2tvdw0s3jn54khce6mua7l\",r={};for(let e=0;e<32;e++){const t=n.charAt(e);r[t]=e}function o(e){const t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function i(e){let t=1;for(let n=0;n<e.length;++n){const r=e.charCodeAt(n);if(r<33||r>126)return\"Invalid prefix (\"+e+\")\";t=o(t)^r>>5}t=o(t);for(let n=0;n<e.length;++n){const r=e.charCodeAt(n);t=o(t)^31&r}return t}function a(e,t,n,r){let o=0,i=0;const a=(1<<n)-1,s=[];for(let r=0;r<e.length;++r)for(o=o<<t|e[r],i+=t;i>=n;)i-=n,s.push(o>>i&a);if(r)i>0&&s.push(o<<n-i&a);else{if(i>=t)return\"Excess padding\";if(o<<n-i&a)return\"Non-zero padding\"}return s}function s(e){return a(e,8,5,!0)}function c(e){const t=a(e,5,8,!1);if(Array.isArray(t))return t}function u(e){const t=a(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}function l(e){let t;function a(e,n){if(n=n||90,e.length<8)return e+\" too short\";if(e.length>n)return\"Exceeds length limit\";const a=e.toLowerCase(),s=e.toUpperCase();if(e!==a&&e!==s)return\"Mixed-case string \"+e;const c=(e=a).lastIndexOf(\"1\");if(-1===c)return\"No separator character for \"+e;if(0===c)return\"Missing prefix for \"+e;const u=e.slice(0,c),l=e.slice(c+1);if(l.length<6)return\"Data too short\";let d=i(u);if(\"string\"==typeof d)return d;const f=[];for(let e=0;e<l.length;++e){const t=l.charAt(e),n=r[t];if(void 0===n)return\"Unknown character \"+t;d=o(d)^n,e+6>=l.length||f.push(n)}return d!==t?\"Invalid checksum for \"+e:{prefix:u,words:f}}return t=\"bech32\"===e?1:734539939,{decodeUnsafe:function(e,t){const n=a(e,t);if(\"object\"==typeof n)return n},decode:function(e,t){const n=a(e,t);if(\"object\"==typeof n)return n;throw new Error(n)},encode:function(e,r,a){if(a=a||90,e.length+7+r.length>a)throw new TypeError(\"Exceeds length limit\");let s=i(e=e.toLowerCase());if(\"string\"==typeof s)throw new Error(s);let c=e+\"1\";for(let e=0;e<r.length;++e){const t=r[e];if(t>>5!=0)throw new Error(\"Non 5-bit word\");s=o(s)^t,c+=n.charAt(t)}for(let e=0;e<6;++e)s=o(s);s^=t;for(let e=0;e<6;++e)c+=n.charAt(s>>5*(5-e)&31);return c},toWords:s,fromWordsUnsafe:c,fromWords:u}}t.bech32=l(\"bech32\"),t.bech32m=l(\"bech32m\")}(o={exports:{}},o.exports),o.exports);(i=s)&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,\"default\")&&i.default;var c=s.bech32m,u=s.bech32;const l=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998];class d{constructor(){this.A=1779033703,this.B=-1150833019,this.C=1013904242,this.D=-1521486534,this.E=1359893119,this.F=-1694144372,this.G=528734635,this.H=1541459225,this._size=0,this._sp=0,(!h||p>=8e3)&&(h=new ArrayBuffer(8e3),p=0),this._byte=new Uint8Array(h,p,80),this._word=new Int32Array(h,p,20),p+=80}update(e){if(\"string\"==typeof e)return this._utf8(e);if(null==e)throw new TypeError(\"Invalid type: \"+typeof e);const t=e.byteOffset,n=e.byteLength;let r=n/64|0,o=0;if(r&&!(3&t)&&!(this._size%64)){const n=new Int32Array(e.buffer,t,16*r);for(;r--;)this._int32(n,o>>2),o+=64;this._size+=o}if(1!==e.BYTES_PER_ELEMENT&&e.buffer){const r=new Uint8Array(e.buffer,t+o,n-o);return this._uint8(r)}return o===n?this:this._uint8(e,o)}_uint8(e,t){const{_byte:n,_word:r}=this,o=e.length;for(t|=0;t<o;){const i=this._size%64;let a=i;for(;t<o&&a<64;)n[a++]=e[t++];a>=64&&this._int32(r),this._size+=a-i}return this}_utf8(e){const{_byte:t,_word:n}=this,r=e.length;let o=this._sp;for(let i=0;i<r;){const a=this._size%64;let s=a;for(;i<r&&s<64;){let n=0|e.charCodeAt(i++);n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|63&n):n<55296||n>57343?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|63&n):o?(n=((1023&o)<<10)+(1023&n)+65536,t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|63&n,o=0):o=n}s>=64&&(this._int32(n),n[0]=n[16]),this._size+=s-a}return this._sp=o,this}_int32(e,t){let{A:n,B:r,C:o,D:i,E:a,F:s,G:c,H:u}=this,d=0;for(t|=0;d<16;)f[d++]=m(e[t++]);for(d=16;d<64;d++)f[d]=S(f[d-2])+f[d-7]+b(f[d-15])+f[d-16]|0;for(d=0;d<64;d++){const e=u+A(a)+y(a,s,c)+l[d]+f[d]|0,t=w(n)+v(n,r,o)|0;u=c,c=s,s=a,a=i+e|0,i=o,o=r,r=n,n=e+t|0}this.A=n+this.A|0,this.B=r+this.B|0,this.C=o+this.C|0,this.D=i+this.D|0,this.E=a+this.E|0,this.F=s+this.F|0,this.G=c+this.G|0,this.H=u+this.H|0}digest(e){const{_byte:t,_word:n}=this;let r=this._size%64|0;for(t[r++]=128;3&r;)t[r++]=0;if(r>>=2,r>14){for(;r<16;)n[r++]=0;r=0,this._int32(n)}for(;r<16;)n[r++]=0;const o=8*this._size,i=(4294967295&o)>>>0,a=(o-i)/4294967296;return a&&(n[14]=m(a)),i&&(n[15]=m(i)),this._int32(n),\"hex\"===e?this._hex():this._bin()}_hex(){const{A:e,B:t,C:n,D:r,E:o,F:i,G:a,H:s}=this;return g(e)+g(t)+g(n)+g(r)+g(o)+g(i)+g(a)+g(s)}_bin(){const{A:e,B:t,C:n,D:r,E:o,F:i,G:a,H:s,_byte:c,_word:u}=this;return u[0]=m(e),u[1]=m(t),u[2]=m(n),u[3]=m(r),u[4]=m(o),u[5]=m(i),u[6]=m(a),u[7]=m(s),c.slice(0,32)}}const f=new Int32Array(64);let h,p=0;const g=e=>(e+4294967296).toString(16).substr(-8),m=254===new Uint8Array(new Uint16Array([65279]).buffer)[0]?e=>e:e=>e<<24&4278190080|e<<8&16711680|e>>8&65280|e>>24&255,y=(e,t,n)=>n^e&(t^n),v=(e,t,n)=>e&t|n&(e|t),w=e=>(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),A=e=>(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7),b=e=>(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3,S=e=>(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10;var E,x,T=function(e){return(new d).update(e).digest()};!function(e){e.mainnet=\"mainnet\",e.testnet=\"testnet\",e.regtest=\"regtest\"}(E||(E={})),function(e){e.p2pkh=\"p2pkh\",e.p2sh=\"p2sh\",e.p2wpkh=\"p2wpkh\",e.p2wsh=\"p2wsh\",e.p2tr=\"p2tr\"}(x||(x={}));var k={0:{type:x.p2pkh,network:E.mainnet},111:{type:x.p2pkh,network:E.testnet},5:{type:x.p2sh,network:E.mainnet},196:{type:x.p2sh,network:E.testnet}},I=function(t){var n,r=t.substr(0,2).toLowerCase();if(\"bc\"===r||\"tb\"===r)return function(e){var t;try{t=e.startsWith(\"bc1p\")||e.startsWith(\"tb1p\")||e.startsWith(\"bcrt1p\")?c.decode(e):u.decode(e)}catch(e){throw new Error(\"Invalid address\")}var n={bc:E.mainnet,tb:E.testnet,bcrt:E.regtest}[t.prefix];if(void 0===n)throw new Error(\"Invalid address\");var r=t.words[0];if(r<0||r>16)throw new Error(\"Invalid address\");return{bech32:!0,network:n,address:e,type:20===u.fromWords(t.words.slice(1)).length?x.p2wpkh:1===r?x.p2tr:x.p2wsh}}(t);try{n=a(t)}catch(e){throw new Error(\"Invalid address\")}var o=n.length;if(25!==o)throw new Error(\"Invalid address\");var i=n[0],s=n.slice(o-4,o),l=n.slice(0,o-4),d=T(T(l)).slice(0,4);if(s.some((function(e,t){return e!==d[t]})))throw new Error(\"Invalid address\");if(!Object.keys(k).map(Number).includes(i))throw new Error(\"Invalid address\");return e(e({},k[i]),{address:t,bech32:!1})};class _ extends TypeError{constructor(e,t){let n;const{message:r,explanation:o,...i}=e,{path:a}=e,s=0===a.length?r:`At path: ${a.join(\".\")} -- ${r}`;super(o??s),null!=o&&(this.cause=s),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}}function C(e){return\"object\"==typeof e&&null!==e}function R(e){return\"symbol\"==typeof e?e.toString():\"string\"==typeof e?JSON.stringify(e):`${e}`}function P(e,t,n,r){if(!0===e)return;!1===e?e={}:\"string\"==typeof e&&(e={message:e});const{path:o,branch:i}=t,{type:a}=n,{refinement:s,message:c=`Expected a value of type \\`${a}\\`${s?` with refinement \\`${s}\\``:\"\"}, but received: \\`${R(r)}\\``}=e;return{value:r,type:a,refinement:s,key:o[o.length-1],path:o,branch:i,...e,message:c}}function*O(e,t,n,r){(function(e){return C(e)&&\"function\"==typeof e[Symbol.iterator]})(e)||(e=[e]);for(const o of e){const e=P(o,t,n,r);e&&(yield e)}}function*N(e,t,n={}){const{path:r=[],branch:o=[e],coerce:i=!1,mask:a=!1}=n,s={path:r,branch:o};if(i&&(e=t.coercer(e,s),a&&\"type\"!==t.type&&C(t.schema)&&C(e)&&!Array.isArray(e)))for(const n in e)void 0===t.schema[n]&&delete e[n];let c=\"valid\";for(const r of t.validator(e,s))r.explanation=n.message,c=\"not_valid\",yield[r,void 0];for(let[u,l,d]of t.entries(e,s)){const t=N(l,d,{path:void 0===u?r:[...r,u],branch:void 0===u?o:[...o,l],coerce:i,mask:a,message:n.message});for(const n of t)n[0]?(c=null===n[0].refinement||void 0===n[0].refinement?\"not_valid\":\"not_refined\",yield[n[0],void 0]):i&&(l=n[1],void 0===u?e=l:e instanceof Map?e.set(u,l):e instanceof Set?e.add(l):C(e)&&(void 0!==l||u in e)&&(e[u]=l))}if(\"not_valid\"!==c)for(const r of t.refiner(e,s))r.explanation=n.message,c=\"not_refined\",yield[r,void 0];\"valid\"===c&&(yield[void 0,e])}class B{constructor(e){const{type:t,schema:n,validator:r,refiner:o,coercer:i=(e=>e),entries:a=function*(){}}=e;this.type=t,this.schema=n,this.entries=a,this.coercer=i,this.validator=r?(e,t)=>O(r(e,t),t,this,e):()=>[],this.refiner=o?(e,t)=>O(o(e,t),t,this,e):()=>[]}assert(e,t){return z(e,this,t)}create(e,t){return M(e,this,t)}is(e){return j(e,this)}mask(e,t){return function(e,t,n){const r=U(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}(e,this,t)}validate(e,t={}){return U(e,this,t)}}function z(e,t,n){const r=U(e,t,{message:n});if(r[0])throw r[0]}function M(e,t,n){const r=U(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function j(e,t){return!U(e,t)[0]}function U(e,t,n={}){const r=N(e,t,n),o=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(r);if(o[0]){return[new _(o[0],(function*(){for(const e of r)e[0]&&(yield e[0])})),void 0]}return[void 0,o[1]]}function D(e,t){return new B({type:e,schema:null,validator:t})}function L(e,t){return D(e,(e=>\"string\"==typeof e&&t.test(e)))}const $=L(\"UuidV4\",/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/iu),F=$,q=D(\"Url\",(e=>{try{const t=new URL(e);return\"http:\"===t.protocol||\"https:\"===t.protocol}catch{return!1}})),W=L(\"StringNumber\",/^\\d+(\\.\\d+)?$/u);function V(){return D(\"any\",(()=>!0))}function K(e){return new B({type:\"array\",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${R(e)}`})}function G(){return D(\"boolean\",(e=>\"boolean\"==typeof e))}function H(e){const t={},n=e.map((e=>R(e))).join();for(const n of e)t[n]=n;return new B({type:\"enums\",schema:t,validator:t=>e.includes(t)||`Expected one of \\`${n}\\`, but received: ${R(t)}`})}function J(){return D(\"integer\",(e=>\"number\"==typeof e&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${R(e)}`))}function Z(e){const t=R(e),n=typeof e;return new B({type:\"literal\",schema:\"string\"===n||\"number\"===n||\"boolean\"===n?e:null,validator:n=>n===e||`Expected the literal \\`${t}\\`, but received: ${R(n)}`})}function Y(){return D(\"never\",(()=>!1))}function X(e){return new B({...e,validator:(t,n)=>null===t||e.validator(t,n),refiner:(t,n)=>null===t||e.refiner(t,n)})}function Q(){return D(\"number\",(e=>\"number\"==typeof e&&!isNaN(e)||`Expected a number, but received: ${R(e)}`))}function ee(e){const t=e?Object.keys(e):[],n=Y();return new B({type:\"object\",schema:e??null,*entries(r){if(e&&C(r)){const o=new Set(Object.keys(r));for(const n of t)o.delete(n),yield[n,r[n],e[n]];for(const e of o)yield[e,r[e],n]}},validator:e=>C(e)||`Expected an object, but received: ${R(e)}`,coercer:e=>C(e)?{...e}:e})}function te(e){return new B({...e,validator:(t,n)=>void 0===t||e.validator(t,n),refiner:(t,n)=>void 0===t||e.refiner(t,n)})}function ne(e,t){return new B({type:\"record\",schema:null,*entries(n){if(C(n))for(const r in n){const o=n[r];yield[r,r,e],yield[r,o,t]}},validator:e=>C(e)||`Expected an object, but received: ${R(e)}`})}function re(){return D(\"string\",(e=>\"string\"==typeof e||`Expected a string, but received: ${R(e)}`))}function oe(e){const t=Y();return new B({type:\"tuple\",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(e.length,n.length);for(let o=0;o<r;o++)yield[o,n[o],e[o]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${R(e)}`})}function ie(e){const t=Object.keys(e);return new B({type:\"type\",schema:e,*entries(n){if(C(n))for(const r of t)yield[r,n[r],e[r]]},validator:e=>C(e)||`Expected an object, but received: ${R(e)}`,coercer:e=>C(e)?{...e}:e})}function ae(e){const t=e.map((e=>e.type)).join(\" | \");return new B({type:\"union\",schema:null,coercer(t){for(const n of e){const[e,r]=n.validate(t,{coerce:!0});if(!e)return r}return t},validator(n,r){const o=[];for(const t of e){const[...e]=N(n,t,r),[i]=e;if(!i?.[0])return[];for(const[t]of e)t&&o.push(t)}return[`Expected the value to satisfy a union of \\`${t}\\`, but received: ${R(n)}`,...o]}})}function se(){return D(\"unknown\",(()=>!0))}function ce(e){return ee(e)}function ue(e){return e.path[e.path.length-1]in e.branch[e.branch.length-2]}function le(e){return new B({...e,validator:(t,n)=>!ue(n)||e.validator(t,n),refiner:(t,n)=>!ue(n)||e.refiner(t,n)})}function de(e,t,n){return new B({...e,coercer:(r,o)=>j(r,t)?e.coercer(n(r,o),o):e.coercer(r,o)})}function fe(e){return e instanceof Map||e instanceof Set?e.size:e.length}function he(e,t,n={}){const{exclusive:r}=n;return me(e,\"min\",(n=>r?n>t:n>=t||`Expected a ${e.type} greater than ${r?\"\":\"or equal to \"}${t} but received \\`${n}\\``))}function pe(e){return me(e,\"nonempty\",(t=>fe(t)>0||`Expected a nonempty ${e.type} but received an empty one`))}function ge(e,t){return me(e,\"pattern\",(n=>t.test(n)||`Expected a ${e.type} matching \\`/${t.source}/\\` but received \"${n}\"`))}function me(e,t,n){return new B({...e,*refiner(r,o){yield*e.refiner(r,o);const i=O(n(r,o),o,e,r);for(const e of i)yield{...e,refinement:t}}})}const ye=(e,t)=>Object.hasOwnProperty.call(e,t);var ve;!function(e){e[e.Null=4]=\"Null\",e[e.Comma=1]=\"Comma\",e[e.Wrapper=1]=\"Wrapper\",e[e.True=4]=\"True\",e[e.False=5]=\"False\",e[e.Quote=1]=\"Quote\",e[e.Colon=1]=\"Colon\",e[e.Date=24]=\"Date\"}(ve=ve||(ve={}));const we=e=>ee(e);function Ae({path:e,branch:t}){const n=e[e.length-1];return ye(t[t.length-2],n)}function be(e){return new B({...e,type:`optional ${e.type}`,validator:(t,n)=>!Ae(n)||e.validator(t,n),refiner:(t,n)=>!Ae(n)||e.refiner(t,n)})}function Se(e){if(null===e||\"boolean\"==typeof e||\"string\"==typeof e)return!0;if(\"number\"==typeof e&&Number.isFinite(e))return!0;if(\"object\"==typeof e){let t=!0;if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(!Se(e[n])){t=!1;break}return t}const n=Object.entries(e);for(let e=0;e<n.length;e++)if(\"string\"!=typeof n[e][0]||!Se(n[e][1])){t=!1;break}return t}return!1}const Ee=D(\"JSON\",(e=>Se(e))),xe=de(Ee,me(V(),\"JSON\",(e=>j(e,Ee))),(e=>JSON.parse(JSON.stringify(e,((e,t)=>{if(\"__proto__\"!==e&&\"constructor\"!==e)return t})))));const Te=Z(\"2.0\"),ke=X(ae([Q(),re()])),Ie=we({code:J(),message:re(),data:be(xe),stack:be(re())}),_e=ae([ne(re(),xe),K(xe)]);we({id:ke,jsonrpc:Te,method:re(),params:be(_e)}),we({jsonrpc:Te,method:re(),params:be(_e)});ee({id:ke,jsonrpc:Te,result:te(se()),error:te(Ie)});const Ce=we({id:ke,jsonrpc:Te,result:xe}),Re=we({id:ke,jsonrpc:Te,error:Ie});ae([Ce,Re]);const Pe=ce({jsonrpc:Z(\"2.0\"),id:ae([re(),Q(),Z(null)]),method:re(),params:le(ae([K(xe),ne(re(),xe)]))});const Oe=(e,t)=>Object.hasOwnProperty.call(e,t);var Ne;!function(e){e[e.Null=4]=\"Null\",e[e.Comma=1]=\"Comma\",e[e.Wrapper=1]=\"Wrapper\",e[e.True=4]=\"True\",e[e.False=5]=\"False\",e[e.Quote=1]=\"Quote\",e[e.Colon=1]=\"Colon\",e[e.Date=24]=\"Date\"}(Ne=Ne||(Ne={}));const Be=e=>ee(e);function ze({path:e,branch:t}){const n=e[e.length-1];return Oe(t[t.length-2],n)}function Me(e){return new B({...e,type:`optional ${e.type}`,validator:(t,n)=>!ze(n)||e.validator(t,n),refiner:(t,n)=>!ze(n)||e.refiner(t,n)})}function je(e){if(null===e||\"boolean\"==typeof e||\"string\"==typeof e)return!0;if(\"number\"==typeof e&&Number.isFinite(e))return!0;if(\"object\"==typeof e){let t=!0;if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(!je(e[n])){t=!1;break}return t}const n=Object.entries(e);for(let e=0;e<n.length;e++)if(\"string\"!=typeof n[e][0]||!je(n[e][1])){t=!1;break}return t}return!1}const Ue=D(\"JSON\",(e=>je(e))),De=de(Ue,me(V(),\"JSON\",(e=>j(e,Ue))),(e=>JSON.parse(JSON.stringify(e,((e,t)=>{if(\"__proto__\"!==e&&\"constructor\"!==e)return t})))));const Le=Z(\"2.0\"),$e=X(ae([Q(),re()])),Fe=Be({code:J(),message:re(),data:Me(De),stack:Me(re())}),qe=ae([ne(re(),De),K(De)]);Be({id:$e,jsonrpc:Le,method:re(),params:Me(qe)}),Be({jsonrpc:Le,method:re(),params:Me(qe)});ee({id:$e,jsonrpc:Le,result:te(se()),error:te(Fe)});const We=Be({id:$e,jsonrpc:Le,result:De}),Ve=Be({id:$e,jsonrpc:Le,error:Fe});ae([We,Ve]);function Ke(e,t){return D(e,(e=>\"string\"==typeof e&&t.test(e)))}const Ge=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$/u,He=/^[-a-z0-9]{3,8}$/u,Je=/^[-_a-zA-Z0-9]{1,32}$/u,Ze=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$/u,Ye=/^[-.%a-zA-Z0-9]{1,128}$/u,Xe=/^[-a-z0-9]{3,8}$/u,Qe=/^[-.%a-zA-Z0-9]{1,128}$/u,et=/^[-.%a-zA-Z0-9]{1,78}$/u,tt=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})$/u,nt=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})\\/(?<tokenId>[-.%a-zA-Z0-9]{1,78})$/u,rt=Ke(\"CaipChainId\",Ge),ot=(Ke(\"CaipNamespace\",He),Ke(\"CaipReference\",Je),Ke(\"CaipAccountId\",Ze)),it=(Ke(\"CaipAccountAddress\",Ye),Ke(\"CaipAssetNamespace\",Xe),Ke(\"CaipAssetReference\",Qe),Ke(\"CaipTokenId\",et),Ke(\"CaipAssetType\",tt)),at=Ke(\"CaipAssetId\",nt),st=Ke(\"CaipAssetTypeOrId\",/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})(\\/(?<tokenId>[-.%a-zA-Z0-9]{1,78}))?$/u);var ct,ut,lt,dt;!function(e){e.Bip122=\"bip122\",e.Solana=\"solana\",e.Eip155=\"eip155\",e.Wallet=\"wallet\"}(ct=ct||(ct={})),function(e){e.Eoa=\"eip155:eoa\",e.Erc4337=\"eip155:erc4337\"}(ut||(ut={})),function(e){e.P2pkh=\"bip122:p2pkh\",e.P2sh=\"bip122:p2sh\",e.P2wpkh=\"bip122:p2wpkh\",e.P2tr=\"bip122:p2tr\"}(lt||(lt={})),function(e){e.DataAccount=\"solana:data-account\"}(dt||(dt={}));const ft=ce({id:F,type:H([`${ut.Eoa}`,`${ut.Erc4337}`,`${lt.P2pkh}`,`${lt.P2sh}`,`${lt.P2wpkh}`,`${lt.P2tr}`,`${dt.DataAccount}`]),address:re(),scopes:pe(K(rt)),options:ne(re(),De),methods:K(re())}),ht=(ee({address:ot}),ce({unit:re(),amount:W})),pt=ce({fungible:Z(!0),type:it,...ht.schema}),gt=ce({fungible:Z(!1),id:at}),mt=(yt=e=>function(e){if(\"object\"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}}(e)&&!e.fungible?gt:pt,new B({type:\"union\",schema:null,*entries(e,t){yield*yt(e).entries(e,t)},*refiner(e,t){yield*yt(e).refiner(e,t)},coercer:(e,t)=>yt(e).coercer(e,t),validator:(e,t)=>yt(e).validator(e,t)}));var yt;const vt=ce({amount:W,unit:re()}),wt=Ke(\"DerivationPath\",/^m(?:\\/\\d+'?)+$/u);var At;!function(e){e.Bip44=\"bip44\"}(At||(At={}));const bt=ee({type:Z(`${At.Bip44}`),scopes:K(rt),derivationPath:wt}),St=(ne(re(),De),ce({id:$,scope:re(),account:$,origin:re(),request:ce({method:re(),params:le(ae([K(De),ne(re(),De)]))})})),Et=(ae([ce({pending:Z(!0),redirect:le(ce({message:le(re()),url:le(re())}))}),ce({pending:Z(!1),result:De})]),ce({address:re(),asset:X(mt)}));var xt;!function(e){e.Base=\"base\",e.Priority=\"priority\"}(xt||(xt={}));const Tt=ce({type:H([`${xt.Base}`,`${xt.Priority}`]),asset:mt});var kt,It;!function(e){e.Submitted=\"submitted\",e.Unconfirmed=\"unconfirmed\",e.Confirmed=\"confirmed\",e.Failed=\"failed\"}(kt||(kt={})),function(e){e.Send=\"send\",e.Receive=\"receive\",e.Swap=\"swap\",e.BridgeSend=\"bridge:send\",e.BridgeReceive=\"bridge:receive\",e.Unknown=\"unknown\"}(It||(It={}));const _t=ce({status:H([`${kt.Submitted}`,`${kt.Unconfirmed}`,`${kt.Confirmed}`,`${kt.Failed}`]),timestamp:X(Q())}),Ct=ce({id:re(),chain:rt,account:$,status:H([`${kt.Submitted}`,`${kt.Unconfirmed}`,`${kt.Confirmed}`,`${kt.Failed}`]),timestamp:X(Q()),type:H([`${It.Send}`,`${It.Receive}`,`${It.Swap}`,`${It.BridgeSend}`,`${It.BridgeReceive}`,`${It.Unknown}`]),from:K(Et),to:K(Et),fees:K(Tt),events:K(_t)}),Rt=(ce({data:K(Ct),next:X(re())}),ce({limit:Q(),next:le(X(re()))})),Pt=ce({metamask:le(ce({correlationId:$}))});var Ot;!function(e){e.Mainnet=\"bip122:000000000019d6689c085ae165831e93\",e.Testnet=\"bip122:000000000933ea01ad0ee984209779ba\",e.Testnet4=\"bip122:00000000da84f2bafbbc53dee25a72ae\",e.Signet=\"bip122:00000008819873e925422c1ff0f99f7c\",e.Regtest=\"bip122:regtest\"}(Ot||(Ot={}));const Nt=(e,t)=>{try{return I(e).type===t||new Error(`Invalid ${t} address`)}catch(e){return new Error(`Failed to decode ${t} address: ${e.message}`)}},Bt=me(re(),\"BtcP2pkhAddressStruct\",(e=>Nt(e,x.p2pkh))),zt=me(re(),\"BtcP2shAddressStruct\",(e=>Nt(e,x.p2sh))),Mt=me(re(),\"BtcP2wpkhAddressStruct\",(e=>Nt(e,x.p2wpkh))),jt=me(re(),\"BtcP2trAddressStruct\",(e=>Nt(e,x.p2tr)));var Ut;!function(e){e.SendBitcoin=\"sendBitcoin\"}(Ut||(Ut={}));const Dt=ce({...ft.schema,scopes:pe(K(rt)),methods:K(H([`${Ut.SendBitcoin}`]))});ce({...Dt.schema,address:Bt,type:Z(`${lt.P2pkh}`)}),ce({...Dt.schema,address:zt,type:Z(`${lt.P2sh}`)}),ce({...Dt.schema,address:Mt,type:Z(`${lt.P2wpkh}`)}),ce({...Dt.schema,address:jt,type:Z(`${lt.P2tr}`)});var Lt;!function(e){e.Devnet=\"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1\",e.Mainnet=\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp\",e.Testnet=\"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z\"}(Lt||(Lt={}));const $t=Ke(\"SolAddress\",/^[1-9A-HJ-NP-Za-km-z]{32,44}$/iu);var Ft;!function(e){e.SendAndConfirmTransaction=\"sendAndConfirmTransaction\",e.SignAndSendTransaction=\"signAndSendTransaction\",e.SignTransaction=\"signTransaction\",e.SignMessage=\"signMessage\",e.SignIn=\"signIn\"}(Ft||(Ft={}));ce({...ft.schema,address:$t,type:Z(`${dt.DataAccount}`),scopes:pe(K(rt)),methods:K(H(Object.values(Ft)))});var qt;!function(e){e.Eoa=\"eip155:0\",e.Mainnet=\"eip155:1\",e.Testnet=\"eip155:11155111\"}(qt||(qt={}));const Wt=Ke(\"EthBytes\",/^0x[0-9a-f]*$/iu),Vt=Ke(\"EthAddress\",/^0x[0-9a-f]{40}$/iu),Kt=Ke(\"EthUint256\",/^0x([1-9a-f][0-9a-f]*|0)$/iu);var Gt;!function(e){e.PersonalSign=\"personal_sign\",e.Sign=\"eth_sign\",e.SignTransaction=\"eth_signTransaction\",e.SignTypedDataV1=\"eth_signTypedData_v1\",e.SignTypedDataV3=\"eth_signTypedData_v3\",e.SignTypedDataV4=\"eth_signTypedData_v4\",e.PrepareUserOperation=\"eth_prepareUserOperation\",e.PatchUserOperation=\"eth_patchUserOperation\",e.SignUserOperation=\"eth_signUserOperation\"}(Gt||(Gt={}));ce({...ft.schema,address:Vt,type:Z(`${ut.Eoa}`),scopes:pe(K(Z(qt.Eoa))),methods:K(H([`${Gt.PersonalSign}`,`${Gt.Sign}`,`${Gt.SignTransaction}`,`${Gt.SignTypedDataV1}`,`${Gt.SignTypedDataV3}`,`${Gt.SignTypedDataV4}`]))}),ce({...ft.schema,address:Vt,type:Z(`${ut.Erc4337}`),scopes:pe(K(rt)),methods:K(H([`${Gt.PersonalSign}`,`${Gt.Sign}`,`${Gt.SignTypedDataV1}`,`${Gt.SignTypedDataV3}`,`${Gt.SignTypedDataV4}`,`${Gt.PrepareUserOperation}`,`${Gt.PatchUserOperation}`,`${Gt.SignUserOperation}`]))}),ce({sender:Vt,nonce:Kt,initCode:Wt,callData:Wt,callGasLimit:Kt,verificationGasLimit:Kt,preVerificationGas:Kt,maxFeePerGas:Kt,maxPriorityFeePerGas:Kt,paymasterAndData:Wt,signature:Wt}),ce({to:Vt,value:Kt,data:Wt}),ce({nonce:Kt,initCode:Wt,callData:Wt,gasLimits:le(ce({callGasLimit:Kt,verificationGasLimit:Kt,preVerificationGas:Kt})),dummyPaymasterAndData:Wt,dummySignature:Wt,bundlerUrl:q}),ce({paymasterAndData:Wt,callGasLimit:le(Kt),verificationGasLimit:le(Kt),preVerificationGas:le(Kt)});var Ht;!function(e){e.ListAccounts=\"keyring_listAccounts\",e.GetAccount=\"keyring_getAccount\",e.CreateAccount=\"keyring_createAccount\",e.DiscoverAccounts=\"keyring_discoverAccounts\",e.ListAccountAssets=\"keyring_listAccountAssets\",e.ListAccountTransactions=\"keyring_listAccountTransactions\",e.GetAccountBalances=\"keyring_getAccountBalances\",e.ResolveAccountAddress=\"keyring_resolveAccountAddress\",e.FilterAccountChains=\"keyring_filterAccountChains\",e.UpdateAccount=\"keyring_updateAccount\",e.DeleteAccount=\"keyring_deleteAccount\",e.ExportAccount=\"keyring_exportAccount\",e.ListRequests=\"keyring_listRequests\",e.GetRequest=\"keyring_getRequest\",e.SubmitRequest=\"keyring_submitRequest\",e.ApproveRequest=\"keyring_approveRequest\",e.RejectRequest=\"keyring_rejectRequest\"}(Ht||(Ht={}));const Jt={jsonrpc:Z(\"2.0\"),id:ae([re(),Q(),Z(null)])},Zt=ce({...Jt,method:Z(\"keyring_listAccounts\")}),Yt=(K(ft),ce({...Jt,method:Z(\"keyring_getAccount\"),params:ce({id:$})})),Xt=ce({...Jt,method:Z(\"keyring_createAccount\"),params:ce({options:ne(re(),De)})}),Qt=ce({...Jt,method:Z(\"keyring_discoverAccounts\"),params:ce({scopes:K(rt),entropySource:re(),groupIndex:Q()})}),en=(K(bt),ce({...Jt,method:Z(\"keyring_listAccountTransactions\"),params:ce({id:$,pagination:Rt})})),tn=ce({...Jt,method:Z(\"keyring_listAccountAssets\"),params:ce({id:$})}),nn=K(st),rn=ce({...Jt,method:Z(`${Ht.GetAccountBalances}`),params:ce({id:$,assets:K(it)})}),on=(ne(it,vt),ce({...Jt,method:Z(\"keyring_resolveAccountAddress\"),params:ce({scope:rt,request:Pe})})),an=(X(ce({address:ot})),ce({...Jt,method:Z(\"keyring_filterAccountChains\"),params:ce({id:$,chains:K(re())})})),sn=(K(re()),ce({...Jt,method:Z(\"keyring_updateAccount\"),params:ce({account:ft})})),cn=(Z(null),ce({...Jt,method:Z(\"keyring_deleteAccount\"),params:ce({id:$})})),un=(Z(null),ce({...Jt,method:Z(\"keyring_exportAccount\"),params:ce({id:$})})),ln=ce({...Jt,method:Z(\"keyring_listRequests\")}),dn=(K(St),ce({...Jt,method:Z(\"keyring_getRequest\"),params:ce({id:$})})),fn=ce({...Jt,method:Z(\"keyring_submitRequest\"),params:St}),hn=ce({...Jt,method:Z(\"keyring_approveRequest\"),params:ce({id:$,data:ne(re(),De)})}),pn=(Z(null),ce({...Jt,method:Z(\"keyring_rejectRequest\"),params:ce({id:$})}));Z(null);var gn;!function(e){e.AccountCreated=\"notify:accountCreated\",e.AccountUpdated=\"notify:accountUpdated\",e.AccountDeleted=\"notify:accountDeleted\",e.RequestApproved=\"notify:requestApproved\",e.RequestRejected=\"notify:requestRejected\",e.AccountBalancesUpdated=\"notify:accountBalancesUpdated\",e.AccountAssetListUpdated=\"notify:accountAssetListUpdated\",e.AccountTransactionsUpdated=\"notify:accountTransactionsUpdated\"}(gn||(gn={}));ce({method:Z(`${gn.AccountCreated}`),params:ce({account:ft,accountNameSuggestion:le(re()),displayConfirmation:le(G()),displayAccountNameSuggestion:le(G()),...Pt.schema})}),ce({method:Z(`${gn.AccountUpdated}`),params:ce({account:ft})}),ce({method:Z(`${gn.AccountDeleted}`),params:ce({id:$})}),ce({method:Z(`${gn.RequestApproved}`),params:ce({id:$,result:De})}),ce({method:Z(`${gn.RequestRejected}`),params:ce({id:$})}),ce({method:Z(`${gn.AccountBalancesUpdated}`),params:ce({balances:ne(F,ne(it,ht))})}),ce({method:Z(`${gn.AccountTransactionsUpdated}`),params:ce({transactions:ne(F,K(Ct))})}),ce({method:Z(`${gn.AccountAssetListUpdated}`),params:ce({assets:ne(F,ce({added:K(st),removed:K(st)}))})});class mn extends Error{constructor(e){super(`Method not supported: ${e}`)}}async function yn(e,t){try{return await async function(e,t){switch(z(t,Pe),t.method){case`${Ht.ListAccounts}`:return z(t,Zt),e.listAccounts();case`${Ht.GetAccount}`:return z(t,Yt),e.getAccount(t.params.id);case`${Ht.CreateAccount}`:return z(t,Xt),e.createAccount(t.params.options);case`${Ht.DiscoverAccounts}`:if(void 0===e.discoverAccounts)throw new mn(t.method);return z(t,Qt),e.discoverAccounts(t.params.scopes,t.params.entropySource,t.params.groupIndex);case`${Ht.ListAccountTransactions}`:if(void 0===e.listAccountTransactions)throw new mn(t.method);return z(t,en),e.listAccountTransactions(t.params.id,t.params.pagination);case`${Ht.ListAccountAssets}`:if(void 0===e.listAccountAssets)throw new mn(t.method);return z(t,tn),e.listAccountAssets(t.params.id);case`${Ht.GetAccountBalances}`:if(void 0===e.getAccountBalances)throw new mn(t.method);return z(t,rn),e.getAccountBalances(t.params.id,t.params.assets);case`${Ht.ResolveAccountAddress}`:if(void 0===e.resolveAccountAddress)throw new mn(t.method);return z(t,on),e.resolveAccountAddress(t.params.scope,t.params.request);case`${Ht.FilterAccountChains}`:return z(t,an),e.filterAccountChains(t.params.id,t.params.chains);case`${Ht.UpdateAccount}`:return z(t,sn),e.updateAccount(t.params.account);case`${Ht.DeleteAccount}`:return z(t,cn),e.deleteAccount(t.params.id);case`${Ht.ExportAccount}`:if(void 0===e.exportAccount)throw new mn(t.method);return z(t,un),e.exportAccount(t.params.id);case`${Ht.ListRequests}`:if(void 0===e.listRequests)throw new mn(t.method);return z(t,ln),e.listRequests();case`${Ht.GetRequest}`:if(void 0===e.getRequest)throw new mn(t.method);return z(t,dn),e.getRequest(t.params.id);case`${Ht.SubmitRequest}`:return z(t,fn),e.submitRequest(t.params);case`${Ht.ApproveRequest}`:if(void 0===e.approveRequest)throw new mn(t.method);return z(t,hn),e.approveRequest(t.params.id,t.params.data);case`${Ht.RejectRequest}`:if(void 0===e.rejectRequest)throw new mn(t.method);return z(t,pn),e.rejectRequest(t.params.id);default:throw new mn(t.method)}}(e,t)}catch(e){const t=e instanceof Error&&\"string\"==typeof e.message?e.message:\"An unknown error occurred while handling the keyring request\";throw new Error(t)}}async function vn(e,t,n){await e.request({method:\"snap_manageAccounts\",params:{method:t,params:{...n}}})}function wn(e){return Boolean(e)&&\"object\"==typeof e&&!Array.isArray(e)}const An=(e,t)=>Object.hasOwnProperty.call(e,t);var bn;!function(e){e[e.Null=4]=\"Null\",e[e.Comma=1]=\"Comma\",e[e.Wrapper=1]=\"Wrapper\",e[e.True=4]=\"True\",e[e.False=5]=\"False\",e[e.Quote=1]=\"Quote\",e[e.Colon=1]=\"Colon\",e[e.Date=24]=\"Date\"}(bn=bn||(bn={}));var Sn=n(282);const En=e=>ee(e);function xn({path:e,branch:t}){const n=e[e.length-1];return An(t[t.length-2],n)}function Tn(e){return new B({...e,type:`optional ${e.type}`,validator:(t,n)=>!xn(n)||e.validator(t,n),refiner:(t,n)=>!xn(n)||e.refiner(t,n)})}function kn(e){if(null===e||\"boolean\"==typeof e||\"string\"==typeof e)return!0;if(\"number\"==typeof e&&Number.isFinite(e))return!0;if(\"object\"==typeof e){let t=!0;if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(!kn(e[n])){t=!1;break}return t}const n=Object.entries(e);for(let e=0;e<n.length;e++)if(\"string\"!=typeof n[e][0]||!kn(n[e][1])){t=!1;break}return t}return!1}const In=D(\"JSON\",(e=>kn(e))),_n=de(In,me(V(),\"JSON\",(e=>j(e,In))),(e=>JSON.parse(JSON.stringify(e,((e,t)=>{if(\"__proto__\"!==e&&\"constructor\"!==e)return t})))));function Cn(e){try{return function(e){M(e,_n)}(e),!0}catch{return!1}}const Rn=Z(\"2.0\"),Pn=X(ae([Q(),re()])),On=En({code:J(),message:re(),data:Tn(_n),stack:Tn(re())}),Nn=ae([ne(re(),_n),K(_n)]);En({id:Pn,jsonrpc:Rn,method:re(),params:Tn(Nn)}),En({jsonrpc:Rn,method:re(),params:Tn(Nn)});ee({id:Pn,jsonrpc:Rn,result:te(se()),error:te(On)});const Bn=En({id:Pn,jsonrpc:Rn,result:_n}),zn=En({id:Pn,jsonrpc:Rn,error:On});ae([Bn,zn]);const Mn={invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},jn={userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901},Un={\"-32700\":{standard:\"JSON RPC 2.0\",message:\"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text.\"},\"-32600\":{standard:\"JSON RPC 2.0\",message:\"The JSON sent is not a valid Request object.\"},\"-32601\":{standard:\"JSON RPC 2.0\",message:\"The method does not exist / is not available.\"},\"-32602\":{standard:\"JSON RPC 2.0\",message:\"Invalid method parameter(s).\"},\"-32603\":{standard:\"JSON RPC 2.0\",message:\"Internal JSON-RPC error.\"},\"-32000\":{standard:\"EIP-1474\",message:\"Invalid input.\"},\"-32001\":{standard:\"EIP-1474\",message:\"Resource not found.\"},\"-32002\":{standard:\"EIP-1474\",message:\"Resource unavailable.\"},\"-32003\":{standard:\"EIP-1474\",message:\"Transaction rejected.\"},\"-32004\":{standard:\"EIP-1474\",message:\"Method not supported.\"},\"-32005\":{standard:\"EIP-1474\",message:\"Request limit exceeded.\"},4001:{standard:\"EIP-1193\",message:\"User rejected the request.\"},4100:{standard:\"EIP-1193\",message:\"The requested account and/or method has not been authorized by the user.\"},4200:{standard:\"EIP-1193\",message:\"The requested method is not supported by this Ethereum provider.\"},4900:{standard:\"EIP-1193\",message:\"The provider is disconnected from all chains.\"},4901:{standard:\"EIP-1193\",message:\"The provider is disconnected from the specified chain.\"}},Dn=Mn.internal,Ln=\"Unspecified error message. This is a bug, please report it.\",$n=(Fn(Dn),\"Unspecified server error.\");function Fn(e,t=Ln){if(function(e){return Number.isInteger(e)}(e)){const t=e.toString();if(An(Un,t))return Un[t].message;if(function(e){return e>=-32099&&e<=-32e3}(e))return $n}return t}function qn(e){return Array.isArray(e)?e.map((e=>Cn(e)?e:wn(e)?Wn(e):null)):wn(e)?Wn(e):Cn(e)?e:null}function Wn(e){return Object.getOwnPropertyNames(e).reduce(((t,n)=>{const r=e[n];return Cn(r)&&(t[n]=r),t}),{})}const Vn=function(e){return e?.__esModule?e.default:e}(Sn);class Kn extends Error{constructor(e,t,n){if(!Number.isInteger(e))throw new Error('\"code\" must be an integer.');if(!t||\"string\"!=typeof t)throw new Error('\"message\" must be a non-empty string.');!function(e){return wn(e)&&An(e,\"cause\")&&wn(e.cause)}(n)?super(t):(super(t,{cause:n.cause}),An(this,\"cause\")||Object.assign(this,{cause:n.cause})),void 0!==n&&(this.data=n),this.code=e}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data,function(e){if(\"object\"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}}(this.data)&&(e.data.cause=qn(this.data.cause))),this.stack&&(e.stack=this.stack),e}toString(){return Vn(this.serialize(),Hn,2)}}class Gn extends Kn{constructor(e,t,n){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('\"code\" must be an integer such that: 1000 <= code <= 4999');super(e,t,n)}}function Hn(e,t){if(\"[Circular]\"!==t)return t}const Jn=e=>dr(Mn.parse,e),Zn=e=>dr(Mn.invalidRequest,e),Yn=e=>dr(Mn.invalidParams,e),Xn=e=>dr(Mn.methodNotFound,e),Qn=e=>dr(Mn.internal,e),er=e=>dr(Mn.invalidInput,e),tr=e=>dr(Mn.resourceNotFound,e),nr=e=>dr(Mn.resourceUnavailable,e),rr=e=>dr(Mn.transactionRejected,e),or=e=>dr(Mn.methodNotSupported,e),ir=e=>dr(Mn.limitExceeded,e),ar=e=>fr(jn.userRejectedRequest,e),sr=e=>fr(jn.unauthorized,e),cr=e=>fr(jn.unsupportedMethod,e),ur=e=>fr(jn.disconnected,e),lr=e=>fr(jn.chainDisconnected,e);function dr(e,t){const[n,r]=hr(t);return new Kn(e,n??Fn(e),r)}function fr(e,t){const[n,r]=hr(t);return new Gn(e,n??Fn(e),r)}function hr(e){if(e){if(\"string\"==typeof e)return[e];if(\"object\"==typeof e&&!Array.isArray(e)){const{message:t,data:n}=e;if(t&&\"string\"!=typeof t)throw new Error(\"Must specify string message.\");return[t??void 0,n]}}return[]}const pr=(e,t)=>Object.hasOwnProperty.call(e,t);var gr;!function(e){e[e.Null=4]=\"Null\",e[e.Comma=1]=\"Comma\",e[e.Wrapper=1]=\"Wrapper\",e[e.True=4]=\"True\",e[e.False=5]=\"False\",e[e.Quote=1]=\"Quote\",e[e.Colon=1]=\"Colon\",e[e.Date=24]=\"Date\"}(gr=gr||(gr={}));class mr extends TypeError{constructor(e,t){let n;const{message:r,explanation:o,...i}=e,{path:a}=e,s=0===a.length?r:`At path: ${a.join(\".\")} -- ${r}`;super(o??s),null!=o&&(this.cause=s),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}}function yr(e){return\"object\"==typeof e&&null!==e}function vr(e){return\"symbol\"==typeof e?e.toString():\"string\"==typeof e?JSON.stringify(e):`${e}`}function wr(e,t,n,r){if(!0===e)return;!1===e?e={}:\"string\"==typeof e&&(e={message:e});const{path:o,branch:i}=t,{type:a}=n,{refinement:s,message:c=`Expected a value of type \\`${a}\\`${s?` with refinement \\`${s}\\``:\"\"}, but received: \\`${vr(r)}\\``}=e;return{value:r,type:a,refinement:s,key:o[o.length-1],path:o,branch:i,...e,message:c}}function*Ar(e,t,n,r){(function(e){return yr(e)&&\"function\"==typeof e[Symbol.iterator]})(e)||(e=[e]);for(const o of e){const e=wr(o,t,n,r);e&&(yield e)}}function*br(e,t,n={}){const{path:r=[],branch:o=[e],coerce:i=!1,mask:a=!1}=n,s={path:r,branch:o};if(i&&(e=t.coercer(e,s),a&&\"type\"!==t.type&&yr(t.schema)&&yr(e)&&!Array.isArray(e)))for(const n in e)void 0===t.schema[n]&&delete e[n];let c=\"valid\";for(const r of t.validator(e,s))r.explanation=n.message,c=\"not_valid\",yield[r,void 0];for(let[u,l,d]of t.entries(e,s)){const t=br(l,d,{path:void 0===u?r:[...r,u],branch:void 0===u?o:[...o,l],coerce:i,mask:a,message:n.message});for(const n of t)n[0]?(c=null===n[0].refinement||void 0===n[0].refinement?\"not_valid\":\"not_refined\",yield[n[0],void 0]):i&&(l=n[1],void 0===u?e=l:e instanceof Map?e.set(u,l):e instanceof Set?e.add(l):yr(e)&&(void 0!==l||u in e)&&(e[u]=l))}if(\"not_valid\"!==c)for(const r of t.refiner(e,s))r.explanation=n.message,c=\"not_refined\",yield[r,void 0];\"valid\"===c&&(yield[void 0,e])}class Sr{constructor(e){const{type:t,schema:n,validator:r,refiner:o,coercer:i=(e=>e),entries:a=function*(){}}=e;this.type=t,this.schema=n,this.entries=a,this.coercer=i,this.validator=r?(e,t)=>Ar(r(e,t),t,this,e):()=>[],this.refiner=o?(e,t)=>Ar(o(e,t),t,this,e):()=>[]}assert(e,t){return Er(e,this,t)}create(e,t){return xr(e,this,t)}is(e){return Tr(e,this)}mask(e,t){return function(e,t,n){const r=kr(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}(e,this,t)}validate(e,t={}){return kr(e,this,t)}}function Er(e,t,n){const r=kr(e,t,{message:n});if(r[0])throw r[0]}function xr(e,t,n){const r=kr(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function Tr(e,t){return!kr(e,t)[0]}function kr(e,t,n={}){const r=br(e,t,n),o=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(r);if(o[0]){return[new mr(o[0],(function*(){for(const e of r)e[0]&&(yield e[0])})),void 0]}return[void 0,o[1]]}function Ir(e,t){return new Sr({type:e,schema:null,validator:t})}function _r(){return Ir(\"never\",(()=>!1))}function Cr(e){const t=e?Object.keys(e):[],n=_r();return new Sr({type:\"object\",schema:e??null,*entries(r){if(e&&yr(r)){const o=new Set(Object.keys(r));for(const n of t)o.delete(n),yield[n,r[n],e[n]];for(const e of o)yield[e,r[e],n]}},validator:e=>yr(e)||`Expected an object, but received: ${vr(e)}`,coercer:e=>yr(e)?{...e}:e})}function Rr(e){return new Sr({...e,validator:(t,n)=>void 0===t||e.validator(t,n),refiner:(t,n)=>void 0===t||e.refiner(t,n)})}function Pr(){return Ir(\"string\",(e=>\"string\"==typeof e||`Expected a string, but received: ${vr(e)}`))}function Or(e){const t=e.map((e=>e.type)).join(\" | \");return new Sr({type:\"union\",schema:null,coercer(t){for(const n of e){const[e,r]=n.validate(t,{coerce:!0});if(!e)return r}return t},validator(n,r){const o=[];for(const t of e){const[...e]=br(n,t,r),[i]=e;if(!i?.[0])return[];for(const[t]of e)t&&o.push(t)}return[`Expected the value to satisfy a union of \\`${t}\\`, but received: ${vr(n)}`,...o]}})}function Nr(e,t,n){return new Sr({...e,coercer:(r,o)=>Tr(r,t)?e.coercer(n(r,o),o):e.coercer(r,o)})}function Br(e,t,n){return new Sr({...e,*refiner(r,o){yield*e.refiner(r,o);const i=Ar(n(r,o),o,e,r);for(const e of i)yield{...e,refinement:t}}})}const zr=e=>Cr(e);function Mr({path:e,branch:t}){const n=e[e.length-1];return pr(t[t.length-2],n)}function jr(e){return new Sr({...e,type:`optional ${e.type}`,validator:(t,n)=>!Mr(n)||e.validator(t,n),refiner:(t,n)=>!Mr(n)||e.refiner(t,n)})}function Ur(e){if(null===e||\"boolean\"==typeof e||\"string\"==typeof e)return!0;if(\"number\"==typeof e&&Number.isFinite(e))return!0;if(\"object\"==typeof e){let t=!0;if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(!Ur(e[n])){t=!1;break}return t}const n=Object.entries(e);for(let e=0;e<n.length;e++)if(\"string\"!=typeof n[e][0]||!Ur(n[e][1])){t=!1;break}return t}return!1}const Dr=Ir(\"JSON\",(e=>Ur(e))),Lr=Nr(Dr,Br(Ir(\"any\",(()=>!0)),\"JSON\",(e=>Tr(e,Dr))),(e=>JSON.parse(JSON.stringify(e,((e,t)=>{if(\"__proto__\"!==e&&\"constructor\"!==e)return t})))));function $r(e){try{return function(e){xr(e,Lr)}(e),!0}catch{return!1}}const Fr=function(e){const t=vr(e),n=typeof e;return new Sr({type:\"literal\",schema:\"string\"===n||\"number\"===n||\"boolean\"===n?e:null,validator:n=>n===e||`Expected the literal \\`${t}\\`, but received: ${vr(n)}`})}(\"2.0\"),qr=(Wr=Or([Ir(\"number\",(e=>\"number\"==typeof e&&!isNaN(e)||`Expected a number, but received: ${vr(e)}`)),Pr()]),new Sr({...Wr,validator:(e,t)=>null===e||Wr.validator(e,t),refiner:(e,t)=>null===e||Wr.refiner(e,t)}));var Wr;const Vr=zr({code:Ir(\"integer\",(e=>\"number\"==typeof e&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${vr(e)}`)),message:Pr(),data:jr(Lr),stack:jr(Pr())}),Kr=Or([function(e,t){return new Sr({type:\"record\",schema:null,*entries(n){if(yr(n))for(const r in n){const o=n[r];yield[r,r,e],yield[r,o,t]}},validator:e=>yr(e)||`Expected an object, but received: ${vr(e)}`})}(Pr(),Lr),(Gr=Lr,new Sr({type:\"array\",schema:Gr,*entries(e){if(Gr&&Array.isArray(e))for(const[t,n]of e.entries())yield[t,n,Gr]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${vr(e)}`}))]);var Gr;zr({id:qr,jsonrpc:Fr,method:Pr(),params:jr(Kr)}),zr({jsonrpc:Fr,method:Pr(),params:jr(Kr)});Cr({id:qr,jsonrpc:Fr,result:Rr(Ir(\"unknown\",(()=>!0))),error:Rr(Vr)});const Hr=zr({id:qr,jsonrpc:Fr,result:Lr}),Jr=zr({id:qr,jsonrpc:Fr,error:Vr});Or([Hr,Jr]);function Zr(e,t,n=null){return r=e,Boolean(r)&&\"object\"==typeof r&&!Array.isArray(r)&&pr(e,t)?e[t]:n;var r}function Yr(e,t,n=String(e)){const r=Zr(e,t);return\"string\"==typeof r?r:n}function Xr(e){const t=Zr(e,\"data\");return null!==t&&$r(t)&&!Array.isArray(t)?t:{}}class Qr extends Error{#e;#t;#n;#r;constructor(e,t={}){const n=function(e){return Yr(e,\"message\")}(e);super(n),this.#t=n,this.#e=function(e){const t=Zr(e,\"code\");return\"number\"==typeof t&&Number.isInteger(t)?t:-32603}(e);const r={...Xr(e),...t};Object.keys(r).length>0&&(this.#n=r),this.#r=super.stack}get name(){return\"SnapError\"}get code(){return this.#e}get message(){return this.#t}get data(){return this.#n}get stack(){return this.#r}toJSON(){return{code:-31002,message:\"Snap Error\",data:{cause:{code:this.code,message:this.message,stack:this.stack,...this.data?{data:this.data}:{}}}}}serialize(){return this.toJSON()}}function eo(e){return class extends Qr{constructor(t,n){if(\"object\"==typeof t){const n=e();return void super({code:n.code,message:n.message,data:t})}const r=e(t);super({code:r.code,message:r.message,data:n})}}}const to=eo(Qn),no=eo(er),ro=eo(Yn),oo=eo(Zn),io=eo(ir),ao=eo(Xn),so=eo(or),co=eo(Jn),uo=eo(tr),lo=eo(nr),fo=eo(rr),ho=eo(lr),po=eo(ur),go=eo(sr),mo=eo(cr),yo=eo(ar);var vo=/^-?(?:\\d+(?:\\.\\d*)?|\\.\\d+)(?:e[+-]?\\d+)?$/i,wo=Math.ceil,Ao=Math.floor,bo=\"[BigNumber Error] \",So=bo+\"Number primitive has more than 15 significant digits: \",Eo=1e14,xo=14,To=9007199254740991,ko=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Io=1e7,_o=1e9;function Co(e){var t=0|e;return e>0||e===t?t:t-1}function Ro(e){for(var t,n,r=1,o=e.length,i=e[0]+\"\";r<o;){for(t=e[r++]+\"\",n=xo-t.length;n--;t=\"0\"+t);i+=t}for(o=i.length;48===i.charCodeAt(--o););return i.slice(0,o+1||1)}function Po(e,t){var n,r,o=e.c,i=t.c,a=e.s,s=t.s,c=e.e,u=t.e;if(!a||!s)return null;if(n=o&&!o[0],r=i&&!i[0],n||r)return n?r?0:-s:a;if(a!=s)return a;if(n=a<0,r=c==u,!o||!i)return r?0:!o^n?1:-1;if(!r)return c>u^n?1:-1;for(s=(c=o.length)<(u=i.length)?c:u,a=0;a<s;a++)if(o[a]!=i[a])return o[a]>i[a]^n?1:-1;return c==u?0:c>u^n?1:-1}function Oo(e,t,n,r){if(e<t||e>n||e!==Ao(e))throw Error(bo+(r||\"Argument\")+(\"number\"==typeof e?e<t||e>n?\" out of range: \":\" not an integer: \":\" not a primitive number: \")+String(e))}function No(e){var t=e.c.length-1;return Co(e.e/xo)==t&&e.c[t]%2!=0}function Bo(e,t){return(e.length>1?e.charAt(0)+\".\"+e.slice(1):e)+(t<0?\"e\":\"e+\")+t}function zo(e,t,n){var r,o;if(t<0){for(o=n+\".\";++t;o+=n);e=o+e}else if(++t>(r=e.length)){for(o=n,t-=r;--t;o+=n);e+=o}else t<r&&(e=e.slice(0,t)+\".\"+e.slice(t));return e}var Mo=function e(t){var n,r,o,i,a,s,c,u,l,d,f=k.prototype={constructor:k,toString:null,valueOf:null},h=new k(1),p=20,g=4,m=-7,y=21,v=-1e7,w=1e7,A=!1,b=1,S=0,E={prefix:\"\",groupSize:3,secondaryGroupSize:0,groupSeparator:\",\",decimalSeparator:\".\",fractionGroupSize:0,fractionGroupSeparator:\" \",suffix:\"\"},x=\"0123456789abcdefghijklmnopqrstuvwxyz\",T=!0;function k(e,t){var n,i,a,s,c,u,l,d,f=this;if(!(f instanceof k))return new k(e,t);if(null==t){if(e&&!0===e._isBigNumber)return f.s=e.s,void(!e.c||e.e>w?f.c=f.e=null:e.e<v?f.c=[f.e=0]:(f.e=e.e,f.c=e.c.slice()));if((u=\"number\"==typeof e)&&0*e==0){if(f.s=1/e<0?(e=-e,-1):1,e===~~e){for(s=0,c=e;c>=10;c/=10,s++);return void(s>w?f.c=f.e=null:(f.e=s,f.c=[e]))}d=String(e)}else{if(!vo.test(d=String(e)))return o(f,d,u);f.s=45==d.charCodeAt(0)?(d=d.slice(1),-1):1}(s=d.indexOf(\".\"))>-1&&(d=d.replace(\".\",\"\")),(c=d.search(/e/i))>0?(s<0&&(s=c),s+=+d.slice(c+1),d=d.substring(0,c)):s<0&&(s=d.length)}else{if(Oo(t,2,x.length,\"Base\"),10==t&&T)return R(f=new k(e),p+f.e+1,g);if(d=String(e),u=\"number\"==typeof e){if(0*e!=0)return o(f,d,u,t);if(f.s=1/e<0?(d=d.slice(1),-1):1,k.DEBUG&&d.replace(/^0\\.0*|\\./,\"\").length>15)throw Error(So+e)}else f.s=45===d.charCodeAt(0)?(d=d.slice(1),-1):1;for(n=x.slice(0,t),s=c=0,l=d.length;c<l;c++)if(n.indexOf(i=d.charAt(c))<0){if(\".\"==i){if(c>s){s=l;continue}}else if(!a&&(d==d.toUpperCase()&&(d=d.toLowerCase())||d==d.toLowerCase()&&(d=d.toUpperCase()))){a=!0,c=-1,s=0;continue}return o(f,String(e),u,t)}u=!1,(s=(d=r(d,t,10,f.s)).indexOf(\".\"))>-1?d=d.replace(\".\",\"\"):s=d.length}for(c=0;48===d.charCodeAt(c);c++);for(l=d.length;48===d.charCodeAt(--l););if(d=d.slice(c,++l)){if(l-=c,u&&k.DEBUG&&l>15&&(e>To||e!==Ao(e)))throw Error(So+f.s*e);if((s=s-c-1)>w)f.c=f.e=null;else if(s<v)f.c=[f.e=0];else{if(f.e=s,f.c=[],c=(s+1)%xo,s<0&&(c+=xo),c<l){for(c&&f.c.push(+d.slice(0,c)),l-=xo;c<l;)f.c.push(+d.slice(c,c+=xo));c=xo-(d=d.slice(c)).length}else c-=l;for(;c--;d+=\"0\");f.c.push(+d)}}else f.c=[f.e=0]}function I(e,t,n,r){var o,i,a,s,c;if(null==n?n=g:Oo(n,0,8),!e.c)return e.toString();if(o=e.c[0],a=e.e,null==t)c=Ro(e.c),c=1==r||2==r&&(a<=m||a>=y)?Bo(c,a):zo(c,a,\"0\");else if(i=(e=R(new k(e),t,n)).e,s=(c=Ro(e.c)).length,1==r||2==r&&(t<=i||i<=m)){for(;s<t;c+=\"0\",s++);c=Bo(c,i)}else if(t-=a,c=zo(c,i,\"0\"),i+1>s){if(--t>0)for(c+=\".\";t--;c+=\"0\");}else if((t+=i-s)>0)for(i+1==s&&(c+=\".\");t--;c+=\"0\");return e.s<0&&o?\"-\"+c:c}function _(e,t){for(var n,r,o=1,i=new k(e[0]);o<e.length;o++)(!(r=new k(e[o])).s||(n=Po(i,r))===t||0===n&&i.s===t)&&(i=r);return i}function C(e,t,n){for(var r=1,o=t.length;!t[--o];t.pop());for(o=t[0];o>=10;o/=10,r++);return(n=r+n*xo-1)>w?e.c=e.e=null:n<v?e.c=[e.e=0]:(e.e=n,e.c=t),e}function R(e,t,n,r){var o,i,a,s,c,u,l,d=e.c,f=ko;if(d){e:{for(o=1,s=d[0];s>=10;s/=10,o++);if((i=t-o)<0)i+=xo,a=t,c=d[u=0],l=Ao(c/f[o-a-1]%10);else if((u=wo((i+1)/xo))>=d.length){if(!r)break e;for(;d.length<=u;d.push(0));c=l=0,o=1,a=(i%=xo)-xo+1}else{for(c=s=d[u],o=1;s>=10;s/=10,o++);l=(a=(i%=xo)-xo+o)<0?0:Ao(c/f[o-a-1]%10)}if(r=r||t<0||null!=d[u+1]||(a<0?c:c%f[o-a-1]),r=n<4?(l||r)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||r||6==n&&(i>0?a>0?c/f[o-a]:0:d[u-1])%10&1||n==(e.s<0?8:7)),t<1||!d[0])return d.length=0,r?(t-=e.e+1,d[0]=f[(xo-t%xo)%xo],e.e=-t||0):d[0]=e.e=0,e;if(0==i?(d.length=u,s=1,u--):(d.length=u+1,s=f[xo-i],d[u]=a>0?Ao(c/f[o-a]%f[a])*s:0),r)for(;;){if(0==u){for(i=1,a=d[0];a>=10;a/=10,i++);for(a=d[0]+=s,s=1;a>=10;a/=10,s++);i!=s&&(e.e++,d[0]==Eo&&(d[0]=1));break}if(d[u]+=s,d[u]!=Eo)break;d[u--]=0,s=1}for(i=d.length;0===d[--i];d.pop());}e.e>w?e.c=e.e=null:e.e<v&&(e.c=[e.e=0])}return e}function P(e){var t,n=e.e;return null===n?e.toString():(t=Ro(e.c),t=n<=m||n>=y?Bo(t,n):zo(t,n,\"0\"),e.s<0?\"-\"+t:t)}return k.clone=e,k.ROUND_UP=0,k.ROUND_DOWN=1,k.ROUND_CEIL=2,k.ROUND_FLOOR=3,k.ROUND_HALF_UP=4,k.ROUND_HALF_DOWN=5,k.ROUND_HALF_EVEN=6,k.ROUND_HALF_CEIL=7,k.ROUND_HALF_FLOOR=8,k.EUCLID=9,k.config=k.set=function(e){var t,n;if(null!=e){if(\"object\"!=typeof e)throw Error(bo+\"Object expected: \"+e);if(e.hasOwnProperty(t=\"DECIMAL_PLACES\")&&(Oo(n=e[t],0,_o,t),p=n),e.hasOwnProperty(t=\"ROUNDING_MODE\")&&(Oo(n=e[t],0,8,t),g=n),e.hasOwnProperty(t=\"EXPONENTIAL_AT\")&&((n=e[t])&&n.pop?(Oo(n[0],-_o,0,t),Oo(n[1],0,_o,t),m=n[0],y=n[1]):(Oo(n,-_o,_o,t),m=-(y=n<0?-n:n))),e.hasOwnProperty(t=\"RANGE\"))if((n=e[t])&&n.pop)Oo(n[0],-_o,-1,t),Oo(n[1],1,_o,t),v=n[0],w=n[1];else{if(Oo(n,-_o,_o,t),!n)throw Error(bo+t+\" cannot be zero: \"+n);v=-(w=n<0?-n:n)}if(e.hasOwnProperty(t=\"CRYPTO\")){if((n=e[t])!==!!n)throw Error(bo+t+\" not true or false: \"+n);if(n){if(\"undefined\"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw A=!n,Error(bo+\"crypto unavailable\");A=n}else A=n}if(e.hasOwnProperty(t=\"MODULO_MODE\")&&(Oo(n=e[t],0,9,t),b=n),e.hasOwnProperty(t=\"POW_PRECISION\")&&(Oo(n=e[t],0,_o,t),S=n),e.hasOwnProperty(t=\"FORMAT\")){if(\"object\"!=typeof(n=e[t]))throw Error(bo+t+\" not an object: \"+n);E=n}if(e.hasOwnProperty(t=\"ALPHABET\")){if(\"string\"!=typeof(n=e[t])||/^.?$|[+\\-.\\s]|(.).*\\1/.test(n))throw Error(bo+t+\" invalid: \"+n);T=\"0123456789\"==n.slice(0,10),x=n}}return{DECIMAL_PLACES:p,ROUNDING_MODE:g,EXPONENTIAL_AT:[m,y],RANGE:[v,w],CRYPTO:A,MODULO_MODE:b,POW_PRECISION:S,FORMAT:E,ALPHABET:x}},k.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!k.DEBUG)return!0;var t,n,r=e.c,o=e.e,i=e.s;e:if(\"[object Array]\"=={}.toString.call(r)){if((1===i||-1===i)&&o>=-_o&&o<=_o&&o===Ao(o)){if(0===r[0]){if(0===o&&1===r.length)return!0;break e}if((t=(o+1)%xo)<1&&(t+=xo),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||n>=Eo||n!==Ao(n))break e;if(0!==n)return!0}}}else if(null===r&&null===o&&(null===i||1===i||-1===i))return!0;throw Error(bo+\"Invalid BigNumber: \"+e)},k.maximum=k.max=function(){return _(arguments,-1)},k.minimum=k.min=function(){return _(arguments,1)},k.random=(i=9007199254740992,a=Math.random()*i&2097151?function(){return Ao(Math.random()*i)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,o,i,s=0,c=[],u=new k(h);if(null==e?e=p:Oo(e,0,_o),o=wo(e/xo),A)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(o*=2));s<o;)(i=131072*t[s]+(t[s+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[s]=n[0],t[s+1]=n[1]):(c.push(i%1e14),s+=2);s=o/2}else{if(!crypto.randomBytes)throw A=!1,Error(bo+\"crypto unavailable\");for(t=crypto.randomBytes(o*=7);s<o;)(i=281474976710656*(31&t[s])+1099511627776*t[s+1]+4294967296*t[s+2]+16777216*t[s+3]+(t[s+4]<<16)+(t[s+5]<<8)+t[s+6])>=9e15?crypto.randomBytes(7).copy(t,s):(c.push(i%1e14),s+=7);s=o/7}if(!A)for(;s<o;)(i=a())<9e15&&(c[s++]=i%1e14);for(o=c[--s],e%=xo,o&&e&&(i=ko[xo-e],c[s]=Ao(o/i)*i);0===c[s];c.pop(),s--);if(s<0)c=[r=0];else{for(r=-1;0===c[0];c.splice(0,1),r-=xo);for(s=1,i=c[0];i>=10;i/=10,s++);s<xo&&(r-=xo-s)}return u.e=r,u.c=c,u}),k.sum=function(){for(var e=1,t=arguments,n=new k(t[0]);e<t.length;)n=n.plus(t[e++]);return n},r=function(){var e=\"0123456789\";function t(e,t,n,r){for(var o,i,a=[0],s=0,c=e.length;s<c;){for(i=a.length;i--;a[i]*=t);for(a[0]+=r.indexOf(e.charAt(s++)),o=0;o<a.length;o++)a[o]>n-1&&(null==a[o+1]&&(a[o+1]=0),a[o+1]+=a[o]/n|0,a[o]%=n)}return a.reverse()}return function(r,o,i,a,s){var c,u,l,d,f,h,m,y,v=r.indexOf(\".\"),w=p,A=g;for(v>=0&&(d=S,S=0,r=r.replace(\".\",\"\"),h=(y=new k(o)).pow(r.length-v),S=d,y.c=t(zo(Ro(h.c),h.e,\"0\"),10,i,e),y.e=y.c.length),l=d=(m=t(r,o,i,s?(c=x,e):(c=e,x))).length;0==m[--d];m.pop());if(!m[0])return c.charAt(0);if(v<0?--l:(h.c=m,h.e=l,h.s=a,m=(h=n(h,y,w,A,i)).c,f=h.r,l=h.e),v=m[u=l+w+1],d=i/2,f=f||u<0||null!=m[u+1],f=A<4?(null!=v||f)&&(0==A||A==(h.s<0?3:2)):v>d||v==d&&(4==A||f||6==A&&1&m[u-1]||A==(h.s<0?8:7)),u<1||!m[0])r=f?zo(c.charAt(1),-w,c.charAt(0)):c.charAt(0);else{if(m.length=u,f)for(--i;++m[--u]>i;)m[u]=0,u||(++l,m=[1].concat(m));for(d=m.length;!m[--d];);for(v=0,r=\"\";v<=d;r+=c.charAt(m[v++]));r=zo(r,l,c.charAt(0))}return r}}(),n=function(){function e(e,t,n){var r,o,i,a,s=0,c=e.length,u=t%Io,l=t/Io|0;for(e=e.slice();c--;)s=((o=u*(i=e[c]%Io)+(r=l*i+(a=e[c]/Io|0)*u)%Io*Io+s)/n|0)+(r/Io|0)+l*a,e[c]=o%n;return s&&(e=[s].concat(e)),e}function t(e,t,n,r){var o,i;if(n!=r)i=n>r?1:-1;else for(o=i=0;o<n;o++)if(e[o]!=t[o]){i=e[o]>t[o]?1:-1;break}return i}function n(e,t,n,r){for(var o=0;n--;)e[n]-=o,o=e[n]<t[n]?1:0,e[n]=o*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,o,i,a,s){var c,u,l,d,f,h,p,g,m,y,v,w,A,b,S,E,x,T=r.s==o.s?1:-1,I=r.c,_=o.c;if(!(I&&I[0]&&_&&_[0]))return new k(r.s&&o.s&&(I?!_||I[0]!=_[0]:_)?I&&0==I[0]||!_?0*T:T/0:NaN);for(m=(g=new k(T)).c=[],T=i+(u=r.e-o.e)+1,s||(s=Eo,u=Co(r.e/xo)-Co(o.e/xo),T=T/xo|0),l=0;_[l]==(I[l]||0);l++);if(_[l]>(I[l]||0)&&u--,T<0)m.push(1),d=!0;else{for(b=I.length,E=_.length,l=0,T+=2,(f=Ao(s/(_[0]+1)))>1&&(_=e(_,f,s),I=e(I,f,s),E=_.length,b=I.length),A=E,v=(y=I.slice(0,E)).length;v<E;y[v++]=0);x=_.slice(),x=[0].concat(x),S=_[0],_[1]>=s/2&&S++;do{if(f=0,(c=t(_,y,E,v))<0){if(w=y[0],E!=v&&(w=w*s+(y[1]||0)),(f=Ao(w/S))>1)for(f>=s&&(f=s-1),p=(h=e(_,f,s)).length,v=y.length;1==t(h,y,p,v);)f--,n(h,E<p?x:_,p,s),p=h.length,c=1;else 0==f&&(c=f=1),p=(h=_.slice()).length;if(p<v&&(h=[0].concat(h)),n(y,h,v,s),v=y.length,-1==c)for(;t(_,y,E,v)<1;)f++,n(y,E<v?x:_,v,s),v=y.length}else 0===c&&(f++,y=[0]);m[l++]=f,y[0]?y[v++]=I[A]||0:(y=[I[A]],v=1)}while((A++<b||null!=y[0])&&T--);d=null!=y[0],m[0]||m.splice(0,1)}if(s==Eo){for(l=1,T=m[0];T>=10;T/=10,l++);R(g,i+(g.e=l+u*xo-1)+1,a,d)}else g.e=u,g.r=+d;return g}}(),s=/^(-?)0([xbo])(?=\\w[\\w.]*$)/i,c=/^([^.]+)\\.$/,u=/^\\.([^.]+)$/,l=/^-?(Infinity|NaN)$/,d=/^\\s*\\+(?=[\\w.])|^\\s+|\\s+$/g,o=function(e,t,n,r){var o,i=n?t:t.replace(d,\"\");if(l.test(i))e.s=isNaN(i)?null:i<0?-1:1;else{if(!n&&(i=i.replace(s,(function(e,t,n){return o=\"x\"==(n=n.toLowerCase())?16:\"b\"==n?2:8,r&&r!=o?e:t})),r&&(o=r,i=i.replace(c,\"$1\").replace(u,\"0.$1\")),t!=i))return new k(i,o);if(k.DEBUG)throw Error(bo+\"Not a\"+(r?\" base \"+r:\"\")+\" number: \"+t);e.s=null}e.c=e.e=null},f.absoluteValue=f.abs=function(){var e=new k(this);return e.s<0&&(e.s=1),e},f.comparedTo=function(e,t){return Po(this,new k(e,t))},f.decimalPlaces=f.dp=function(e,t){var n,r,o,i=this;if(null!=e)return Oo(e,0,_o),null==t?t=g:Oo(t,0,8),R(new k(i),e+i.e+1,t);if(!(n=i.c))return null;if(r=((o=n.length-1)-Co(this.e/xo))*xo,o=n[o])for(;o%10==0;o/=10,r--);return r<0&&(r=0),r},f.dividedBy=f.div=function(e,t){return n(this,new k(e,t),p,g)},f.dividedToIntegerBy=f.idiv=function(e,t){return n(this,new k(e,t),0,1)},f.exponentiatedBy=f.pow=function(e,t){var n,r,o,i,a,s,c,u,l=this;if((e=new k(e)).c&&!e.isInteger())throw Error(bo+\"Exponent not an integer: \"+P(e));if(null!=t&&(t=new k(t)),a=e.e>14,!l.c||!l.c[0]||1==l.c[0]&&!l.e&&1==l.c.length||!e.c||!e.c[0])return u=new k(Math.pow(+P(l),a?e.s*(2-No(e)):+P(e))),t?u.mod(t):u;if(s=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new k(NaN);(r=!s&&l.isInteger()&&t.isInteger())&&(l=l.mod(t))}else{if(e.e>9&&(l.e>0||l.e<-1||(0==l.e?l.c[0]>1||a&&l.c[1]>=24e7:l.c[0]<8e13||a&&l.c[0]<=9999975e7)))return i=l.s<0&&No(e)?-0:0,l.e>-1&&(i=1/i),new k(s?1/i:i);S&&(i=wo(S/xo+2))}for(a?(n=new k(.5),s&&(e.s=1),c=No(e)):c=(o=Math.abs(+P(e)))%2,u=new k(h);;){if(c){if(!(u=u.times(l)).c)break;i?u.c.length>i&&(u.c.length=i):r&&(u=u.mod(t))}if(o){if(0===(o=Ao(o/2)))break;c=o%2}else if(R(e=e.times(n),e.e+1,1),e.e>14)c=No(e);else{if(0===(o=+P(e)))break;c=o%2}l=l.times(l),i?l.c&&l.c.length>i&&(l.c.length=i):r&&(l=l.mod(t))}return r?u:(s&&(u=h.div(u)),t?u.mod(t):i?R(u,S,g,undefined):u)},f.integerValue=function(e){var t=new k(this);return null==e?e=g:Oo(e,0,8),R(t,t.e+1,e)},f.isEqualTo=f.eq=function(e,t){return 0===Po(this,new k(e,t))},f.isFinite=function(){return!!this.c},f.isGreaterThan=f.gt=function(e,t){return Po(this,new k(e,t))>0},f.isGreaterThanOrEqualTo=f.gte=function(e,t){return 1===(t=Po(this,new k(e,t)))||0===t},f.isInteger=function(){return!!this.c&&Co(this.e/xo)>this.c.length-2},f.isLessThan=f.lt=function(e,t){return Po(this,new k(e,t))<0},f.isLessThanOrEqualTo=f.lte=function(e,t){return-1===(t=Po(this,new k(e,t)))||0===t},f.isNaN=function(){return!this.s},f.isNegative=function(){return this.s<0},f.isPositive=function(){return this.s>0},f.isZero=function(){return!!this.c&&0==this.c[0]},f.minus=function(e,t){var n,r,o,i,a=this,s=a.s;if(t=(e=new k(e,t)).s,!s||!t)return new k(NaN);if(s!=t)return e.s=-t,a.plus(e);var c=a.e/xo,u=e.e/xo,l=a.c,d=e.c;if(!c||!u){if(!l||!d)return l?(e.s=-t,e):new k(d?a:NaN);if(!l[0]||!d[0])return d[0]?(e.s=-t,e):new k(l[0]?a:3==g?-0:0)}if(c=Co(c),u=Co(u),l=l.slice(),s=c-u){for((i=s<0)?(s=-s,o=l):(u=c,o=d),o.reverse(),t=s;t--;o.push(0));o.reverse()}else for(r=(i=(s=l.length)<(t=d.length))?s:t,s=t=0;t<r;t++)if(l[t]!=d[t]){i=l[t]<d[t];break}if(i&&(o=l,l=d,d=o,e.s=-e.s),(t=(r=d.length)-(n=l.length))>0)for(;t--;l[n++]=0);for(t=Eo-1;r>s;){if(l[--r]<d[r]){for(n=r;n&&!l[--n];l[n]=t);--l[n],l[r]+=Eo}l[r]-=d[r]}for(;0==l[0];l.splice(0,1),--u);return l[0]?C(e,l,u):(e.s=3==g?-1:1,e.c=[e.e=0],e)},f.modulo=f.mod=function(e,t){var r,o,i=this;return e=new k(e,t),!i.c||!e.s||e.c&&!e.c[0]?new k(NaN):!e.c||i.c&&!i.c[0]?new k(i):(9==b?(o=e.s,e.s=1,r=n(i,e,0,3),e.s=o,r.s*=o):r=n(i,e,0,b),(e=i.minus(r.times(e))).c[0]||1!=b||(e.s=i.s),e)},f.multipliedBy=f.times=function(e,t){var n,r,o,i,a,s,c,u,l,d,f,h,p,g,m,y=this,v=y.c,w=(e=new k(e,t)).c;if(!(v&&w&&v[0]&&w[0]))return!y.s||!e.s||v&&!v[0]&&!w||w&&!w[0]&&!v?e.c=e.e=e.s=null:(e.s*=y.s,v&&w?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=Co(y.e/xo)+Co(e.e/xo),e.s*=y.s,(c=v.length)<(d=w.length)&&(p=v,v=w,w=p,o=c,c=d,d=o),o=c+d,p=[];o--;p.push(0));for(g=Eo,m=Io,o=d;--o>=0;){for(n=0,f=w[o]%m,h=w[o]/m|0,i=o+(a=c);i>o;)n=((u=f*(u=v[--a]%m)+(s=h*u+(l=v[a]/m|0)*f)%m*m+p[i]+n)/g|0)+(s/m|0)+h*l,p[i--]=u%g;p[i]=n}return n?++r:p.splice(0,1),C(e,p,r)},f.negated=function(){var e=new k(this);return e.s=-e.s||null,e},f.plus=function(e,t){var n,r=this,o=r.s;if(t=(e=new k(e,t)).s,!o||!t)return new k(NaN);if(o!=t)return e.s=-t,r.minus(e);var i=r.e/xo,a=e.e/xo,s=r.c,c=e.c;if(!i||!a){if(!s||!c)return new k(o/0);if(!s[0]||!c[0])return c[0]?e:new k(s[0]?r:0*o)}if(i=Co(i),a=Co(a),s=s.slice(),o=i-a){for(o>0?(a=i,n=c):(o=-o,n=s),n.reverse();o--;n.push(0));n.reverse()}for((o=s.length)-(t=c.length)<0&&(n=c,c=s,s=n,t=o),o=0;t;)o=(s[--t]=s[t]+c[t]+o)/Eo|0,s[t]=Eo===s[t]?0:s[t]%Eo;return o&&(s=[o].concat(s),++a),C(e,s,a)},f.precision=f.sd=function(e,t){var n,r,o,i=this;if(null!=e&&e!==!!e)return Oo(e,1,_o),null==t?t=g:Oo(t,0,8),R(new k(i),e,t);if(!(n=i.c))return null;if(r=(o=n.length-1)*xo+1,o=n[o]){for(;o%10==0;o/=10,r--);for(o=n[0];o>=10;o/=10,r++);}return e&&i.e+1>r&&(r=i.e+1),r},f.shiftedBy=function(e){return Oo(e,-9007199254740991,To),this.times(\"1e\"+e)},f.squareRoot=f.sqrt=function(){var e,t,r,o,i,a=this,s=a.c,c=a.s,u=a.e,l=p+4,d=new k(\"0.5\");if(1!==c||!s||!s[0])return new k(!c||c<0&&(!s||s[0])?NaN:s?a:1/0);if(0==(c=Math.sqrt(+P(a)))||c==1/0?(((t=Ro(s)).length+u)%2==0&&(t+=\"0\"),c=Math.sqrt(+t),u=Co((u+1)/2)-(u<0||u%2),r=new k(t=c==1/0?\"5e\"+u:(t=c.toExponential()).slice(0,t.indexOf(\"e\")+1)+u)):r=new k(c+\"\"),r.c[0])for((c=(u=r.e)+l)<3&&(c=0);;)if(i=r,r=d.times(i.plus(n(a,i,l,1))),Ro(i.c).slice(0,c)===(t=Ro(r.c)).slice(0,c)){if(r.e<u&&--c,\"9999\"!=(t=t.slice(c-3,c+1))&&(o||\"4999\"!=t)){+t&&(+t.slice(1)||\"5\"!=t.charAt(0))||(R(r,r.e+p+2,1),e=!r.times(r).eq(a));break}if(!o&&(R(i,i.e+p+2,0),i.times(i).eq(a))){r=i;break}l+=4,c+=4,o=1}return R(r,r.e+p+1,g,e)},f.toExponential=function(e,t){return null!=e&&(Oo(e,0,_o),e++),I(this,e,t,1)},f.toFixed=function(e,t){return null!=e&&(Oo(e,0,_o),e=e+this.e+1),I(this,e,t)},f.toFormat=function(e,t,n){var r,o=this;if(null==n)null!=e&&t&&\"object\"==typeof t?(n=t,t=null):e&&\"object\"==typeof e?(n=e,e=t=null):n=E;else if(\"object\"!=typeof n)throw Error(bo+\"Argument not an object: \"+n);if(r=o.toFixed(e,t),o.c){var i,a=r.split(\".\"),s=+n.groupSize,c=+n.secondaryGroupSize,u=n.groupSeparator||\"\",l=a[0],d=a[1],f=o.s<0,h=f?l.slice(1):l,p=h.length;if(c&&(i=s,s=c,c=i,p-=i),s>0&&p>0){for(i=p%s||s,l=h.substr(0,i);i<p;i+=s)l+=u+h.substr(i,s);c>0&&(l+=u+h.slice(i)),f&&(l=\"-\"+l)}r=d?l+(n.decimalSeparator||\"\")+((c=+n.fractionGroupSize)?d.replace(new RegExp(\"\\\\d{\"+c+\"}\\\\B\",\"g\"),\"$&\"+(n.fractionGroupSeparator||\"\")):d):l}return(n.prefix||\"\")+r+(n.suffix||\"\")},f.toFraction=function(e){var t,r,o,i,a,s,c,u,l,d,f,p,m=this,y=m.c;if(null!=e&&(!(c=new k(e)).isInteger()&&(c.c||1!==c.s)||c.lt(h)))throw Error(bo+\"Argument \"+(c.isInteger()?\"out of range: \":\"not an integer: \")+P(c));if(!y)return new k(m);for(t=new k(h),l=r=new k(h),o=u=new k(h),p=Ro(y),a=t.e=p.length-m.e-1,t.c[0]=ko[(s=a%xo)<0?xo+s:s],e=!e||c.comparedTo(t)>0?a>0?t:l:c,s=w,w=1/0,c=new k(p),u.c[0]=0;d=n(c,t,0,1),1!=(i=r.plus(d.times(o))).comparedTo(e);)r=o,o=i,l=u.plus(d.times(i=l)),u=i,t=c.minus(d.times(i=t)),c=i;return i=n(e.minus(r),o,0,1),u=u.plus(i.times(l)),r=r.plus(i.times(o)),u.s=l.s=m.s,f=n(l,o,a*=2,g).minus(m).abs().comparedTo(n(u,r,a,g).minus(m).abs())<1?[l,o]:[u,r],w=s,f},f.toNumber=function(){return+P(this)},f.toPrecision=function(e,t){return null!=e&&Oo(e,1,_o),I(this,e,t,2)},f.toString=function(e){var t,n=this,o=n.s,i=n.e;return null===i?o?(t=\"Infinity\",o<0&&(t=\"-\"+t)):t=\"NaN\":(null==e?t=i<=m||i>=y?Bo(Ro(n.c),i):zo(Ro(n.c),i,\"0\"):10===e&&T?t=zo(Ro((n=R(new k(n),p+i+1,g)).c),n.e,\"0\"):(Oo(e,2,x.length,\"Base\"),t=r(zo(Ro(n.c),i,\"0\"),10,e,o,!0)),o<0&&n.c[0]&&(t=\"-\"+t)),t},f.valueOf=f.toJSON=function(){return P(this)},f._isBigNumber=!0,f[Symbol.toStringTag]=\"BigNumber\",f[Symbol.for(\"nodejs.util.inspect.custom\")]=f.valueOf,null!=t&&k.set(t),k}();const jo=Mo;function Uo(e,t){return D(e,(e=>\"string\"==typeof e&&t.test(e)))}const Do=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$/u,Lo=/^[-a-z0-9]{3,8}$/u,$o=/^[-_a-zA-Z0-9]{1,32}$/u,Fo=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$/u,qo=/^[-.%a-zA-Z0-9]{1,128}$/u,Wo=/^[-a-z0-9]{3,8}$/u,Vo=/^[-.%a-zA-Z0-9]{1,128}$/u,Ko=/^[-.%a-zA-Z0-9]{1,78}$/u,Go=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})$/u,Ho=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})\\/(?<tokenId>[-.%a-zA-Z0-9]{1,78})$/u,Jo=(Uo(\"CaipChainId\",Do),Uo(\"CaipNamespace\",Lo),Uo(\"CaipReference\",$o),Uo(\"CaipAccountId\",Fo),Uo(\"CaipAccountAddress\",qo),Uo(\"CaipAssetNamespace\",Wo),Uo(\"CaipAssetReference\",Vo),Uo(\"CaipTokenId\",Ko),Uo(\"CaipAssetType\",Go));Uo(\"CaipAssetId\",Ho),Uo(\"CaipAssetTypeOrId\",/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})(\\/(?<tokenId>[-.%a-zA-Z0-9]{1,78}))?$/u);var Zo,Yo;function Xo(e){const t=Go.exec(e);if(!t?.groups)throw new Error(\"Invalid CAIP asset type.\");return{assetNamespace:t.groups.assetNamespace,assetReference:t.groups.assetReference,chainId:t.groups.chainId,chain:{namespace:t.groups.namespace,reference:t.groups.reference}}}function Qo(e,t){return n=e,Boolean(\"string\"==typeof n?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var n}!function(e){e.Bip122=\"bip122\",e.Solana=\"solana\",e.Eip155=\"eip155\",e.Wallet=\"wallet\"}(Zo=Zo||(Zo={}));class ei extends Error{constructor(e){super(e.message),this.code=\"ERR_ASSERTION\"}}function ti(e,t=\"Assertion failed.\",n=ei){if(!e){if(t instanceof Error)throw t;throw Qo(n,t)}}!function(e){e[e.Millisecond=1]=\"Millisecond\",e[e.Second=1e3]=\"Second\",e[e.Minute=6e4]=\"Minute\",e[e.Hour=36e5]=\"Hour\",e[e.Day=864e5]=\"Day\",e[e.Week=6048e5]=\"Week\",e[e.Year=31536e6]=\"Year\"}(Yo=Yo||(Yo={}));var ni=n(5250);const ri=(e,t)=>`${e}:${t.map((e=>JSON.stringify(e))).join(\":\")}`,oi=(e,t,{ttlMilliseconds:n,functionName:r,generateCacheKey:o})=>{const i=o??ri,a=r??e.name??\"anonymousFunction\";return async(...r)=>{const o=i(a,r);try{const e=await t.get(o);if(void 0!==e)return e}catch(e){console.error(`Cache get error for key \"${o}\":`,e)}const s=await e(...r);return t.set(o,s,n).catch((e=>{console.error(`Cache set error for key \"${o}\":`,e)})),s}};var ii=4,ai=5,si=6,ci=10,ui=-32700,li=-32603,di=-32602,fi=-32601,hi=-32600,pi=-32015,gi=-32014,mi=-32012,yi=-32010,vi=-32009,wi=-32007,Ai=-32006,bi=-32004,Si=-32002,Ei=-32001,xi=28e5,Ti=2800001,ki=2800003,Ii=2800006,_i=2800007,Ci=2800008,Ri=2800009,Pi=32300001,Oi=3230004,Ni=361e4,Bi=3610001,zi=3610003,Mi=3610005,ji=3610006,Ui=3610007,Di=3704001,Li=3704002,$i=3704003,Fi=4615e3,qi=4615026,Wi=4615045,Vi=5508e3,Ki=5663e3,Gi=5663001,Hi=5663004,Ji=5663005,Zi=5663006,Yi=5663007,Xi=5663008,Qi=5663009,ea=5663012,ta=5663015,na=5663016,ra=5663017,oa=5663018,ia=5663019,aa=705e4,sa=7050030,ca=7050031,ua=7050035,la=8078e3,da=8078001,fa=8078002,ha=8078004,pa=8078005,ga=8078006,ma=8078007,ya=8078008,va=8078010,wa=8078011,Aa=8078012,ba=8078013,Sa=8078014,Ea=8078017,xa=8078018,Ta=8078022,ka=81e5,Ia=8100002,_a=8100003,Ca=9900003;function Ra(e){if(Array.isArray(e)){return\"%5B\"+e.map(Ra).join(\"%2C%20\")+\"%5D\"}return\"bigint\"==typeof e?`${e}n`:encodeURIComponent(String(null!=e&&null===Object.getPrototypeOf(e)?{...e}:e))}function Pa([e,t]){return`${e}=${Ra(t)}`}function Oa(e,t={}){{let n=`Solana error #${e}; Decode this error by running \\`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${function(e){const t=Object.entries(e).map(Pa).join(\"&\");return btoa(t)}(t)}'`),`${n}\\``}}function Na(e,t){return!!(e instanceof Error&&\"SolanaError\"===e.name)&&(void 0===t||e.context.__code===t)}var Ba=class extends Error{cause=this.cause;context;constructor(...[e,t]){let n,r;if(t){const{cause:e,...o}=t;e&&(r={cause:e}),Object.keys(o).length>0&&(n=o)}super(Oa(e,n),r),this.context={__code:e,...n},this.name=\"SolanaError\"}};function za(...e){\"captureStackTrace\"in Error&&\"function\"==typeof Error.captureStackTrace&&Error.captureStackTrace(...e)}function Ma({errorCodeBaseOffset:e,getErrorContext:t,orderedErrorNames:n,rpcEnumError:r},o){let i,a;\"string\"==typeof r?i=r:(i=Object.keys(r)[0],a=r[i]);const s=e+n.indexOf(i),c=t(s,i,a),u=new Ba(s,c);return za(u,o),u}var ja=[\"GenericError\",\"InvalidArgument\",\"InvalidInstructionData\",\"InvalidAccountData\",\"AccountDataTooSmall\",\"InsufficientFunds\",\"IncorrectProgramId\",\"MissingRequiredSignature\",\"AccountAlreadyInitialized\",\"UninitializedAccount\",\"UnbalancedInstruction\",\"ModifiedProgramId\",\"ExternalAccountLamportSpend\",\"ExternalAccountDataModified\",\"ReadonlyLamportChange\",\"ReadonlyDataModified\",\"DuplicateAccountIndex\",\"ExecutableModified\",\"RentEpochModified\",\"NotEnoughAccountKeys\",\"AccountDataSizeChanged\",\"AccountNotExecutable\",\"AccountBorrowFailed\",\"AccountBorrowOutstanding\",\"DuplicateAccountOutOfSync\",\"Custom\",\"InvalidError\",\"ExecutableDataModified\",\"ExecutableLamportChange\",\"ExecutableAccountNotRentExempt\",\"UnsupportedProgramId\",\"CallDepth\",\"MissingAccount\",\"ReentrancyNotAllowed\",\"MaxSeedLengthExceeded\",\"InvalidSeeds\",\"InvalidRealloc\",\"ComputationalBudgetExceeded\",\"PrivilegeEscalation\",\"ProgramEnvironmentSetupFailure\",\"ProgramFailedToComplete\",\"ProgramFailedToCompile\",\"Immutable\",\"IncorrectAuthority\",\"BorshIoError\",\"AccountNotRentExempt\",\"InvalidAccountOwner\",\"ArithmeticOverflow\",\"UnsupportedSysvar\",\"IllegalOwner\",\"MaxAccountsDataAllocationsExceeded\",\"MaxAccountsExceeded\",\"MaxInstructionTraceLengthExceeded\",\"BuiltinProgramsMustConsumeComputeUnits\"];function Ua(e,t){const n=Number(e);return Ma({errorCodeBaseOffset:4615001,getErrorContext:(e,t,r)=>e===Fi?{errorName:t,index:n,...void 0!==r?{instructionErrorContext:r}:null}:e===qi?{code:Number(r),index:n}:e===Wi?{encodedData:r,index:n}:{index:n},orderedErrorNames:ja,rpcEnumError:t},Ua)}var Da=[\"AccountInUse\",\"AccountLoadedTwice\",\"AccountNotFound\",\"ProgramAccountNotFound\",\"InsufficientFundsForFee\",\"InvalidAccountForFee\",\"AlreadyProcessed\",\"BlockhashNotFound\",\"CallChainTooDeep\",\"MissingSignatureForFee\",\"InvalidAccountIndex\",\"SignatureFailure\",\"InvalidProgramForExecution\",\"SanitizeFailure\",\"ClusterMaintenance\",\"AccountBorrowOutstanding\",\"WouldExceedMaxBlockCostLimit\",\"UnsupportedVersion\",\"InvalidWritableAccount\",\"WouldExceedMaxAccountCostLimit\",\"WouldExceedAccountDataBlockLimit\",\"TooManyAccountLocks\",\"AddressLookupTableNotFound\",\"InvalidAddressLookupTableOwner\",\"InvalidAddressLookupTableData\",\"InvalidAddressLookupTableIndex\",\"InvalidRentPayingAccount\",\"WouldExceedMaxVoteCostLimit\",\"WouldExceedAccountDataTotalLimit\",\"DuplicateInstruction\",\"InsufficientFundsForRent\",\"MaxLoadedAccountsDataSizeExceeded\",\"InvalidLoadedAccountsDataSizeLimit\",\"ResanitizationNeeded\",\"ProgramExecutionTemporarilyRestricted\",\"UnbalancedTransaction\"];function La(e){return\"object\"==typeof e&&\"InstructionError\"in e?Ua(...e.InstructionError):Ma({errorCodeBaseOffset:7050001,getErrorContext:(e,t,n)=>e===aa?{errorName:t,...void 0!==n?{transactionErrorContext:n}:null}:e===sa?{index:Number(n)}:e===ca||e===ua?{accountIndex:Number(n.account_index)}:void 0,orderedErrorNames:Da,rpcEnumError:e},La)}function $a(e){let t;if(\"object\"==typeof(n=e)&&null!==n&&\"code\"in n&&\"message\"in n&&(\"number\"==typeof n.code||\"bigint\"==typeof n.code)&&\"string\"==typeof n.message){const{code:n,data:r,message:o}=e,i=Number(n);if(i===Si){const{err:e,...n}=r,o=e?{cause:La(e)}:null;t=new Ba(Si,{...n,...o})}else{let e;switch(i){case li:case di:case hi:case fi:case ui:case mi:case Ei:case bi:case gi:case yi:case vi:case wi:case Ai:case pi:e={__serverMessage:o};break;default:\"object\"!=typeof r||Array.isArray(r)||(e=r)}t=new Ba(i,e)}}else{const n=\"object\"==typeof e&&null!==e&&\"message\"in e&&\"string\"==typeof e.message?e.message:\"Malformed JSON-RPC error with no message attribute\";t=new Ba(ci,{error:e,message:n})}var n;return za(t,$a),t}var Fa=(e,t)=>((e,t)=>{if(e.length>=t)return e;const n=new Uint8Array(t).fill(0);return n.set(e),n})(e.length<=t?e:e.slice(0,t),t);function qa(e,t,n){const r=0===n&&e.length===t.length?e:e.slice(n,n+t.length);return r.length===t.length&&t.every(((e,t)=>e===r[t]))}function Wa(e,t){return\"fixedSize\"in t?t.fixedSize:t.getSizeFromValue(e)}function Va(e){return Object.freeze({...e,encode:t=>{const n=new Uint8Array(Wa(t,e));return e.write(t,n,0),n}})}function Ka(e){return Object.freeze({...e,decode:(t,n=0)=>e.read(t,n)[0]})}function Ga(e){return\"fixedSize\"in e&&\"number\"==typeof e.fixedSize}function Ha(e){if(!Ga(e))throw new Ba(fa)}function Ja(e){return!Ga(e)}function Za(e,t){if(Ga(e)!==Ga(t))throw new Ba(ha);if(Ga(e)&&Ga(t)&&e.fixedSize!==t.fixedSize)throw new Ba(pa,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!Ga(e)&&!Ga(t)&&e.maxSize!==t.maxSize)throw new Ba(ga,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}function Ya(e,t,n,r=0){const o=n.length-r;if(o<t)throw new Ba(da,{bytesLength:o,codecDescription:e,expected:t})}function Xa(e,t,n){if(t<0||t>n)throw new Ba(Sa,{bytesLength:n,codecDescription:e,offset:t})}function Qa(e,t){const n=(n,r,o)=>{const i=e.encode(n);return o=t.write(i.length,r,o),r.set(i,o),o+i.length};if(Ga(t)&&Ga(e))return Va({...e,fixedSize:t.fixedSize+e.fixedSize,write:n});const r=Ga(t)?t.fixedSize:t.maxSize??null,o=Ga(e)?e.fixedSize:e.maxSize??null,i=null!==r&&null!==o?r+o:null;return Va({...e,...null!==i?{maxSize:i}:{},getSizeFromValue:n=>{const r=Wa(n,e);return Wa(r,t)+r},write:n})}function es(e,t){const n=(n,r)=>{const[o,i]=t.read(n,r),a=Number(o);return((r=i)>0||n.length>a)&&(n=n.slice(r,r+a)),Ya(\"addDecoderSizePrefix\",a,n),[e.decode(n),r+a]};if(Ga(t)&&Ga(e))return Ka({...e,fixedSize:t.fixedSize+e.fixedSize,read:n});const r=Ga(t)?t.fixedSize:t.maxSize??null,o=Ga(e)?e.fixedSize:e.maxSize??null,i=null!==r&&null!==o?r+o:null;return Ka({...e,...null!==i?{maxSize:i}:{},read:n})}function ts(e,t){return Va({fixedSize:t,write:(n,r,o)=>{const i=e.encode(n),a=i.length>t?i.slice(0,t):i;return r.set(a,o),o+t}})}function ns(e,t){return Ka({fixedSize:t,read:(n,r)=>{Ya(\"fixCodecSize\",t,n,r),(r>0||n.length>t)&&(n=n.slice(r,r+t)),Ga(e)&&(n=Fa(n,e.fixedSize));const[o]=e.read(n,0);return[o,r+t]}})}function rs(e,t){return Ka({...e,read:(n,r)=>{const o=e=>os(e,n.length),i=t.preOffset?t.preOffset({bytes:n,preOffset:r,wrapBytes:o}):r;Xa(\"offsetDecoder\",i,n.length);const[a,s]=e.read(n,i),c=t.postOffset?t.postOffset({bytes:n,newPreOffset:i,postOffset:s,preOffset:r,wrapBytes:o}):s;return Xa(\"offsetDecoder\",c,n.length),[a,c]}})}function os(e,t){return 0===t?0:(e%t+t)%t}function is(e,t){if(Ga(e)){const n=t(e.fixedSize);if(n<0)throw new Ba(ba,{bytesLength:n,codecDescription:\"resizeDecoder\"});return Ka({...e,fixedSize:n})}return e}function as(e,t){return rs(is(e,(e=>e+t)),{postOffset:({postOffset:e})=>e+t})}function ss(e,t){return Va({...Ja(e)?{...e,getSizeFromValue:n=>e.getSizeFromValue(t(n))}:e,write:(n,r,o)=>e.write(t(n),r,o)})}function cs(e,t){return Ka({...e,read:(n,r)=>{const[o,i]=e.read(n,r);return[t(o,n,r),i]}})}function us(e,t,n=t){if(!t.match(new RegExp(`^[${e}]*$`)))throw new Ba(Aa,{alphabet:e,base:e.length,value:n})}var ls=e=>Va({getSizeFromValue:t=>{const[n,r]=hs(t,e[0]);if(!r)return t.length;const o=ps(r,e);return n.length+Math.ceil(o.toString(16).length/2)},write(t,n,r){if(us(e,t),\"\"===t)return r;const[o,i]=hs(t,e[0]);if(!i)return n.set(new Uint8Array(o.length).fill(0),r),r+o.length;let a=ps(i,e);const s=[];for(;a>0n;)s.unshift(Number(a%256n)),a/=256n;const c=[...Array(o.length).fill(0),...s];return n.set(c,r),r+c.length}}),ds=e=>Ka({read(t,n){const r=0===n?t:t.slice(n);if(0===r.length)return[\"\",0];let o=r.findIndex((e=>0!==e));o=-1===o?r.length:o;const i=e[0].repeat(o);if(o===r.length)return[i,t.length];const a=function(e,t){const n=BigInt(t.length),r=[];for(;e>0n;)r.unshift(t[Number(e%n)]),e/=n;return r.join(\"\")}(r.slice(o).reduce(((e,t)=>256n*e+BigInt(t)),0n),e);return[i+a,t.length]}}),fs=e=>Za(ls(e),ds(e));function hs(e,t){const[n,r]=e.split(new RegExp(`((?!${t}).*)`));return[n,r]}function ps(e,t){const n=BigInt(t.length);let r=0n;for(const o of e)r*=n,r+=BigInt(t.indexOf(o));return r}var gs=\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\",ms=()=>ls(gs),ys=()=>ds(gs),vs=()=>fs(gs);var ws,As,bs=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",Ss=()=>Va({getSizeFromValue:e=>{try{return atob(e).length}catch{throw new Ba(Aa,{alphabet:bs,base:64,value:e})}},write(e,t,n){try{const r=atob(e).split(\"\").map((e=>e.charCodeAt(0)));return t.set(r,n),r.length+n}catch{throw new Ba(Aa,{alphabet:bs,base:64,value:e})}}}),Es=()=>Ka({read(e,t=0){const n=e.slice(t);return[btoa(String.fromCharCode(...n)),e.length]}}),xs=()=>Za(Ss(),Es()),Ts=e=>e.replace(/\\u0000/g,\"\"),ks=globalThis.TextDecoder,Is=globalThis.TextEncoder,_s=()=>{let e;return Ka({read(t,n){const r=(e||=new ks).decode(t.slice(n));return[Ts(r),t.length]}})},Cs=()=>Za((()=>{let e;return Va({getSizeFromValue:t=>(e||=new Is).encode(t).length,write:(t,n,r)=>{const o=(e||=new Is).encode(t);return n.set(o,r),r+o.length}})})(),_s());function Rs(){if(!globalThis.isSecureContext)throw new Ba(Ni)}function Ps(){if(Rs(),void 0===globalThis.crypto||\"function\"!=typeof globalThis.crypto.subtle?.exportKey)throw new Ba(zi)}function Os(){return ws||(ws=ms()),ws}function Ns(e){if(e.length<32||e.length>44)return!1;const t=Os();try{return 32===t.encode(e).byteLength}catch{return!1}}function Bs(e){if(e.length<32||e.length>44)throw new Ba(Ti,{actualLength:e.length});const t=Os().encode(e).byteLength;if(32!==t)throw new Ba(xi,{actualLength:t})}function zs(e){return Bs(e),e}function Ms(){return ss(ts(Os(),32),(e=>zs(e)))}function js(){return ns((As||(As=ys()),As),32)}function Us(){return Za(Ms(),js())}function Ds(){return new Intl.Collator(\"en\",{caseFirst:\"lower\",ignorePunctuation:!1,localeMatcher:\"best fit\",numeric:!1,sensitivity:\"variant\",usage:\"sort\"}).compare}var Ls=37095705934669439343138083508754565189542113879843219016388785533085940283555n,$s=57896044618658097711785492504343953926634992332820282019728792003956564819949n,Fs=19681161376707505956807079304988542015446066515923890162744021073123829784752n;function qs(e){const t=e%$s;return t>=0n?t:$s+t}function Ws(e,t){let n=e;for(;t-- >0n;)n*=n,n%=$s;return n}function Vs(e,t){const n=qs(t*t*t),r=function(e){const t=e*e%$s*e%$s,n=Ws(t,2n)*t%$s,r=Ws(n,1n)*e%$s,o=Ws(r,5n)*r%$s,i=Ws(o,10n)*o%$s,a=Ws(i,20n)*i%$s,s=Ws(a,40n)*a%$s,c=Ws(s,80n)*s%$s,u=Ws(c,80n)*s%$s,l=Ws(u,10n)*o%$s;return Ws(l,2n)*e%$s}(e*qs(n*n*t));let o=qs(e*n*r);const i=qs(t*o*o),a=o,s=qs(o*Fs),c=i===e,u=i===qs(-e),l=i===qs(-e*Fs);return c&&(o=a),(u||l)&&(o=s),1n===(1n&qs(o))&&(o=qs(-o)),c||u?o:null}function Ks(e){if(32!==e.byteLength)return!1;const t=function(e){const t=e.reduce(((e,t,n)=>`${function(e){const t=e.toString(16);return 1===t.length?`0${t}`:t}(31===n?-129&t:t)}${e}`),\"\");return BigInt(`0x${t}`)}(e);return function(e,t){const n=qs(e*e),r=Vs(qs(n-1n),qs(Ls*n+1n));return null!==r&&(0n!==r||!(0!=(128&t)))}(t,e[31])}var Gs=32,Hs=16,Js=[80,114,111,103,114,97,109,68,101,114,105,118,101,100,65,100,100,114,101,115,115];async function Zs({programAddress:e,seeds:t}){if(function(){if(Rs(),void 0===globalThis.crypto||\"function\"!=typeof globalThis.crypto.subtle?.digest)throw new Ba(Bi)}(),t.length>Hs)throw new Ba(Ii,{actual:t.length,maxSeeds:Hs});let n;const r=t.reduce(((e,t,r)=>{const o=\"string\"==typeof t?(n||=new TextEncoder).encode(t):t;if(o.byteLength>Gs)throw new Ba(_i,{actual:o.byteLength,index:r,maxSeedLength:Gs});return e.push(...o),e}),[]),o=Us(),i=o.encode(e),a=await crypto.subtle.digest(\"SHA-256\",new Uint8Array([...r,...i,...Js])),s=new Uint8Array(a);if(Ks(s))throw new Ba(Ci);return o.decode(s)}async function Ys({programAddress:e,seeds:t}){let n=255;for(;n>0;)try{return[await Zs({programAddress:e,seeds:[...t,new Uint8Array([n])]}),n]}catch(e){if(!Na(e,Ci))throw e;n--}throw new Ba(Ri)}async function Xs(e){if(Ps(),\"public\"!==e.type||\"Ed25519\"!==e.algorithm.name)throw new Ba(ki);const t=await crypto.subtle.exportKey(\"raw\",e);return js().decode(new Uint8Array(t))}const Qs=1000000n,ec=1e9,tc=\"metamask\";var nc=function(e){return e.Mainnet=\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp\",e.Devnet=\"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1\",e.Testnet=\"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z\",e.Localnet=\"solana:123456789abcdef\",e}({}),rc=function(e){return e.SolMainnet=\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp/slip44:501\",e.SolDevnet=\"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1/slip44:501\",e.SolTestnet=\"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z/slip44:501\",e.SolLocalnet=\"solana:123456789abcdef/slip44:501\",e.UsdcMainnet=\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp/token:EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v\",e.UsdcDevnet=\"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1/token:4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU\",e.UsdcLocalnet=\"solana:123456789abcdef/token:4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU\",e.EurcMainnet=\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp/token:HzwqbKZw8HxMN6bF2yFZNrht3c2iXXzpKcFu7uBEDKtr\",e.EurcDevnet=\"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1/token:HzwqbKZw8HxMN6bF2yFZNrht3c2iXXzpKcFu7uBEDKtr\",e.EurcLocalnet=\"solana:123456789abcdef/token:HzwqbKZw8HxMN6bF2yFZNrht3c2iXXzpKcFu7uBEDKtr\",e.Ai16zLocalnet=\"solana:123456789abcdef/token:HeLp6NuQkmYB4pYWo2zYs22mESHXPQYzXbB8n4V98jwC\",e}({});var oc=function(e){return e.SOL=\"slip44:501\",e}({});const ic={\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp/slip44:501\":{symbol:\"SOL\",caip19Id:\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp/slip44:501\",address:\"So11111111111111111111111111111111111111112\",decimals:9},\"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1/slip44:501\":{symbol:\"SOL\",caip19Id:\"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1/slip44:501\",address:\"So11111111111111111111111111111111111111112\",decimals:9},\"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z/slip44:501\":{symbol:\"SOL\",caip19Id:\"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z/slip44:501\",address:\"So11111111111111111111111111111111111111112\",decimals:9},\"solana:123456789abcdef/slip44:501\":{symbol:\"SOL\",caip19Id:\"solana:123456789abcdef/slip44:501\",address:\"So11111111111111111111111111111111111111112\",decimals:9},\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp/token:EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v\":{symbol:\"USDC\",caip19Id:\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp/token:EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v\",address:\"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v\",decimals:6},\"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1/token:4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU\":{symbol:\"USDC\",caip19Id:\"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1/token:4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU\",address:\"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU\",decimals:6},\"solana:123456789abcdef/token:4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU\":{symbol:\"USDC\",caip19Id:\"solana:123456789abcdef/token:4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU\",address:\"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU\",decimals:6}},ac=zs(\"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb\"),sc={\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp\":{caip2Id:\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp\",cluster:\"mainnet\",name:\"Solana Mainnet\",nativeToken:ic[\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp/slip44:501\"]},\"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1\":{caip2Id:\"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1\",cluster:\"devnet\",name:\"Solana Devnet\",nativeToken:ic[\"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1/slip44:501\"]},\"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z\":{caip2Id:\"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z\",cluster:\"testnet\",name:\"Solana Testnet\",nativeToken:ic[\"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z/slip44:501\"]},\"solana:123456789abcdef\":{caip2Id:\"solana:123456789abcdef\",cluster:\"local\",name:\"Solana Localnet\",nativeToken:ic[\"solana:123456789abcdef/slip44:501\"]}},cc=ge(re(),/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/u),uc=ge(re(),/^(?!0\\d)(\\d+(\\.\\d+)?)$/u),lc=me(re(),\"safe-url\",(e=>{try{const t=new URL(e),n=[\"http:\",\"https:\",\"wss:\"];if(!n.includes(t.protocol))return`URL must use one of the following protocols: ${n}`;if(!e.match(/^(https?|wss):\\/\\/[^/]+\\/?/u))return\"Malformed URL - incorrect protocol format\";const r=t.hostname.toLowerCase();if(!(\"localhost\"===r||r.includes(\".\")&&/^[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/u.test(r)))return\"Invalid hostname format\";const o=decodeURIComponent(e.toLowerCase());if(e.includes(\"\\\\\")||e.includes(\"@\")||o.includes(\"\\\\\")||o.includes(\"@\")||e.toLowerCase().includes(\"%2f@\")||e.toLowerCase().includes(\"%5c@\"))return\"URL contains protocol pollution attempts\";const i=decodeURIComponent(r);if(r.includes(\"\\\\\")||r.includes(\"@\")||i.includes(\"/\")||r.toLowerCase().includes(\"%2f\"))return\"Invalid hostname characters detected\";if(e.includes(\"../\")||e.includes(\"..%2f\")||e.includes(\"..%2F\"))return\"Directory traversal attempts are not allowed\";const a=[/<[^>]*>/u,/javascript:/u,/data:/u,/\\\\[@\\\\]/u,/%2f@/u,/[^\\x20-\\x7E]/u,/\\$\\{.*?\\}/u,/#\\{.*?\\}/u,/[|;]/u,/%0[acd]|%0[acd]/u,/\\/\\/\\w+@/u,/(?:[^a-z]|^)(?:union\\s+(?:all\\s+)?select|select\\s+(?:.*\\s+)?from|insert\\s+into|update\\s+.*\\s+set|delete\\s+from|drop\\s+table|alter\\s+table|create\\s+table|exec(?:ute)?|union|where\\s+[\\d\\w]\\s*=\\s*[\\d\\w]|\\bor\\b\\s*[\\d\\w]\\s*=\\s*[\\d\\w])/iu,/'.*?(?:OR|UNION|SELECT|FROM|WHERE).*?'/iu,/%27.*?(?:OR|UNION|SELECT|FROM|WHERE).*?(?:%27|')/iu,/%20(?:OR|UNION|SELECT|FROM|WHERE)%20/iu,/[?&](?:url|redirect|next|return_to|return_url|goto|destination|continue|redirect_uri)=(?:[^&]*\\/\\/|https?:)/iu,/[?&](?:url|redirect|next|return_to|return_url|goto|destination|continue|redirect_uri)=%(?:[^&]*\\/\\/|https?:)/iu];for(const e of a)if(e.test(o))return\"URL contains potentially malicious patterns\";return!(t.port&&!/^\\d+$/u.test(t.port))||\"Invalid port number\"}catch(e){return\"Invalid URL format\"}})),dc=ee({accountId:cc}),fc=ee({accountId:cc}),hc=ee({accountId:cc}),pc=ee({accountId:cc,assets:K(it)}),gc=ee({accountId:cc,pagination:ee({limit:J(),next:te(X(re()))})}),mc=ne(it,ee({amount:uc,unit:re()})),yc=(K(it),H(Object.values(Ft)),H(Object.values(nc))),vc=(H([\"btc\",\"eth\",\"ltc\",\"bch\",\"bnb\",\"eos\",\"xrp\",\"xlm\",\"link\",\"dot\",\"yfi\",\"usd\",\"aed\",\"ars\",\"aud\",\"bdt\",\"bhd\",\"bmd\",\"brl\",\"cad\",\"chf\",\"clp\",\"cny\",\"czk\",\"dkk\",\"eur\",\"gbp\",\"gel\",\"hkd\",\"huf\",\"idr\",\"ils\",\"inr\",\"jpy\",\"krw\",\"kwd\",\"lkr\",\"mmk\",\"mxn\",\"myr\",\"ngn\",\"nok\",\"nzd\",\"php\",\"pkr\",\"pln\",\"rub\",\"sar\",\"sek\",\"sgd\",\"thb\",\"try\",\"twd\",\"uah\",\"vef\",\"vnd\",\"zar\",\"xdr\",\"xag\",\"xau\",\"bits\",\"sats\"]),ee({transaction:re(),scope:H(Object.values(nc))})),wc=ee({value:X(uc)}),Ac=D(\"Base58\",(e=>\"string\"!=typeof e?\"Expected a string, but received: \"+typeof e:!!/^[123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]+$/u.test(e)||\"Expected a Base58 encoded string, but received a string with invalid characters\")),bc=ge(re(),/^(?:[A-Za-z0-9+/]{4})+(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/u),Sc=ge(re(),/^m\\/44'\\/501'/u);ge(re(),/^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d{3})?Z$/u);function Ec(e){const{baseUrl:t,path:n,pathParams:r,queryParams:o}=e;z(t,lc);const i=n.replace(/\\{(\\w+)\\}/gu,((e,t)=>{const n=r?.[t];if(void 0===n)throw new Error(`Path parameter ${t} is undefined`);return n})).replace(/^\\/+/u,\"\").replace(/\\/+/gu,\"/\").replace(/\\/+$/u,\"\"),a=new URL(i,t);Object.entries(o??{}).filter((([e,t])=>void 0!==t)).filter((([e,t])=>null!==t)).forEach((([e,t])=>{t&&a.searchParams.append(e,t)}));const s=a.toString();return z(s,lc),s}function xc(e,t,n,r){if(r<t||r>n)throw new Ba(wa,{codecDescription:e,max:n,min:t,value:r})}var Tc,kc=((Tc=kc||{})[Tc.Little=0]=\"Little\",Tc[Tc.Big=1]=\"Big\",Tc);function Ic(e){return 1!==e?.endian}function _c(e){return Va({fixedSize:e.size,write(t,n,r){e.range&&xc(e.name,e.range[0],e.range[1],t);const o=new ArrayBuffer(e.size);return e.set(new DataView(o),t,Ic(e.config)),n.set(new Uint8Array(o),r),r+e.size}})}function Cc(e){return Ka({fixedSize:e.size,read(t,n=0){!function(e,t,n=0){if(t.length-n<=0)throw new Ba(la,{codecDescription:e})}(e.name,t,n),Ya(e.name,e.size,t,n);const r=new DataView(function(e,t,n){const r=e.byteOffset+(t??0),o=n??e.byteLength;return e.buffer.slice(r,r+o)}(t,n,e.size));return[e.get(r,Ic(e.config)),n+e.size]}})}var Rc=(e={})=>Cc({config:e,get:(e,t)=>e.getFloat64(0,t),name:\"f64\",size:8}),Pc=(e={})=>Cc({config:e,get:(e,t)=>e.getInt16(0,t),name:\"i16\",size:2}),Oc=(e={})=>Cc({config:e,get:(e,t)=>e.getBigInt64(0,t),name:\"i64\",size:8}),Nc=()=>Cc({get:e=>e.getInt8(0),name:\"i8\",size:1}),Bc=()=>Va({getSizeFromValue:e=>e<=127?1:e<=16383?2:3,maxSize:3,write:(e,t,n)=>{xc(\"shortU16\",0,65535,e);const r=[0];for(let t=0;;t+=1){const n=Number(e)>>7*t;if(0===n)break;const o=127&n;r[t]=o,t>0&&(r[t-1]|=128)}return t.set(r,n),n+r.length}}),zc=()=>Ka({maxSize:3,read:(e,t)=>{let n=0,r=0;for(;++r;){const o=r-1,i=e[t+o];if(n|=(127&i)<<7*o,0==(128&i))break}return[n,t+r]}}),Mc=(e={})=>Cc({config:e,get:(e,t)=>e.getUint16(0,t),name:\"u16\",size:2}),jc=(e={})=>_c({config:e,name:\"u32\",range:[0,Number(\"0xffffffff\")],set:(e,t,n)=>e.setUint32(0,Number(t),n),size:4}),Uc=(e={})=>Cc({config:e,get:(e,t)=>e.getUint32(0,t),name:\"u32\",size:4}),Dc=(e={})=>_c({config:e,name:\"u64\",range:[0n,BigInt(\"0xffffffffffffffff\")],set:(e,t,n)=>e.setBigUint64(0,BigInt(t),n),size:8}),Lc=(e={})=>Cc({config:e,get:(e,t)=>e.getBigUint64(0,t),name:\"u64\",size:8}),$c=()=>_c({name:\"u8\",range:[0,Number(\"0xff\")],set:(e,t)=>e.setUint8(0,Number(t)),size:1}),Fc=()=>Cc({get:e=>e.getUint8(0),name:\"u8\",size:1});var qc,Wc=((qc=Wc||{})[qc.WRITABLE_SIGNER=3]=\"WRITABLE_SIGNER\",qc[qc.READONLY_SIGNER=2]=\"READONLY_SIGNER\",qc[qc.WRITABLE=1]=\"WRITABLE\",qc[qc.READONLY=0]=\"READONLY\",qc),Vc=2,Kc=1;function Gc(e){return e>=2}function Hc(e){return 0!=(e&Kc)}function Jc(e,t){return e|t}function Zc(e){return e|Vc}var Yc,Xc=Object.freeze({name:\"Ed25519\"});async function Qc(e,t){const n=e.byteLength;if(32!==n)throw new Ba(Di,{actualLength:n});const r=function(e){return new Uint8Array([48,46,2,1,0,48,5,6,3,43,101,112,4,34,4,32,...e])}(e);return await crypto.subtle.importKey(\"pkcs8\",r,Xc,t??!1,[\"sign\"])}async function eu(e,t){!function(){if(Rs(),void 0===globalThis.crypto||\"function\"!=typeof globalThis.crypto.subtle?.sign)throw new Ba(Mi)}();const n=await crypto.subtle.sign(Xc,e,t);return new Uint8Array(n)}function tu(e){return function(e){if(Yc||(Yc=ms()),e.length<64||e.length>88)throw new Ba($i,{actualLength:e.length});const t=Yc.encode(e).byteLength;if(64!==t)throw new Ba(Li,{actualLength:t})}(e),e}async function nu(e,t,n){return function(){if(Rs(),void 0===globalThis.crypto||\"function\"!=typeof globalThis.crypto.subtle?.verify)throw new Ba(ji)}(),await crypto.subtle.verify(Xc,e,t,n)}async function ru(e,t=!1){const n=Qc(e,t),[r,o]=await Promise.all([(t?n:Qc(e,!0)).then((async e=>await async function(e,t=!1){if(Ps(),!1===e.extractable)throw new Ba(Ui,{key:e});const n=await crypto.subtle.exportKey(\"jwk\",e);return await crypto.subtle.importKey(\"jwk\",{crv:\"Ed25519\",ext:t,key_ops:[\"verify\"],kty:\"OKP\",x:n.x},\"Ed25519\",t,[\"verify\"])}(e,!0))),n]);return{privateKey:o,publicKey:r}}function ou(e,t,n){if(t!==n)throw new Ba(ma,{actual:n,codecDescription:e,expected:t})}function iu(e){return e.reduce(((e,t)=>null===e||null===t?null:e+t),0)}function au(e){return Ga(e)?e.fixedSize:null}function su(e){return Ga(e)?e.fixedSize:e.maxSize??null}function cu(e,t={}){const n=t.size??jc(),r=lu(n,au(e)),o=lu(n,su(e))??void 0;return Va({...null!==r?{fixedSize:r}:{getSizeFromValue:t=>(\"object\"==typeof n?Wa(t.length,n):0)+[...t].reduce(((t,n)=>t+Wa(n,e)),0),maxSize:o},write:(t,r,o)=>(\"number\"==typeof n&&ou(\"array\",n,t.length),\"object\"==typeof n&&(o=n.write(t.length,r,o)),t.forEach((t=>{o=e.write(t,r,o)})),o)})}function uu(e,t={}){const n=t.size??Uc(),r=au(e),o=lu(n,r),i=lu(n,su(e))??void 0;return Ka({...null!==o?{fixedSize:o}:{maxSize:i},read:(t,r)=>{const o=[];if(\"object\"==typeof n&&0===t.slice(r).length)return[o,r];if(\"remainder\"===n){for(;r<t.length;){const[n,i]=e.read(t,r);r=i,o.push(n)}return[o,r]}const[i,a]=\"number\"==typeof n?[n,r]:n.read(t,r);r=a;for(let n=0;n<i;n+=1){const[n,i]=e.read(t,r);r=i,o.push(n)}return[o,r]}})}function lu(e,t){return\"number\"!=typeof e?null:0===e?0:null===t?null:t*e}function du(e={}){return ss(e.size??$c(),(e=>e?1:0))}function fu(e={}){return cs(e.size??Fc(),(e=>1===Number(e)))}function hu(){return Va({getSizeFromValue:e=>e.length,write:(e,t,n)=>(t.set(e,n),n+e.length)})}function pu(){return Ka({read:(e,t)=>{const n=e.slice(t);return[n,t+n.length]}})}var gu=()=>Ka({read(e,t){const n=e.slice(t).reduce(((e,t)=>e+t.toString(16).padStart(2,\"0\")),\"\");return[n,e.length]}});function mu(e){return Va({fixedSize:e.length,write:(t,n,r)=>(n.set(e,r),r+e.length)})}function yu(e){return Ka({fixedSize:e.length,read:(t,n)=>{const r=gu();if(!qa(t,e,n))throw new Ba(xa,{constant:e,data:t,hexConstant:r.decode(e),hexData:r.decode(t),offset:n});return[void 0,n+e.length]}})}function vu(e){const t=iu(e.map(au)),n=iu(e.map(su))??void 0;return Va({...null===t?{getSizeFromValue:t=>e.map(((e,n)=>Wa(t[n],e))).reduce(((e,t)=>e+t),0),maxSize:n}:{fixedSize:t},write:(t,n,r)=>(ou(\"tuple\",e.length,t.length),e.forEach(((e,o)=>{r=e.write(t[o],n,r)})),r)})}function wu(e){const t=iu(e.map(au)),n=iu(e.map(su))??void 0;return Ka({...null===t?{maxSize:n}:{fixedSize:t},read:(t,n)=>{const r=[];return e.forEach((e=>{const[o,i]=e.read(t,n);r.push(o),n=i})),[r,n]}})}function Au(e,t){const n=Eu(e),r=(n,r,o)=>{const i=t(n);return Su(e,i),e[i].write(n,r,o)};if(null!==n)return Va({fixedSize:n,write:r});const o=xu(e);return Va({...null!==o?{maxSize:o}:{},getSizeFromValue:n=>{const r=t(n);return Su(e,r),Wa(n,e[r])},write:r})}function bu(e,t){const n=Eu(e),r=(n,r)=>{const o=t(n,r);return Su(e,o),e[o].read(n,r)};if(null!==n)return Ka({fixedSize:n,read:r});const o=xu(e);return Ka({...null!==o?{maxSize:o}:{},read:r})}function Su(e,t){if(void 0===e[t])throw new Ba(Ea,{maxRange:e.length-1,minRange:0,variant:t})}function Eu(e){if(0===e.length)return 0;if(!Ga(e[0]))return null;const t=e[0].fixedSize;return e.every((e=>Ga(e)&&e.fixedSize===t))?t:null}function xu(e){return e.map((e=>su(e))).reduce(((e,t)=>null===e||null===t?null:Math.max(e,t)),0)}function Tu(e,t={}){const n=t.discriminator??\"__kind\",r=t.size??Fc();return bu(e.map((([e,t])=>cs(wu([r,t]),(([,t])=>({[n]:e,...t}))))),((e,t)=>Number(r.read(e,t)[0])))}function ku(e){const t=[...new Set(Object.values(e).filter((e=>\"number\"==typeof e)))].sort(),n=Object.fromEntries(Object.entries(e).slice(t.length)),r=Object.keys(n),o=Object.values(n),i=[...new Set([...r,...o.filter((e=>\"string\"==typeof e))])];return{enumKeys:r,enumRecord:n,enumValues:o,numericalValues:t,stringValues:i}}function Iu(e,t){let n=e.length;for(;n--;)if(t(e[n],n,e))return n;return-1}function _u(e){if(0===e.length)return\"\";let t=[e[0],e[0]];const n=[];for(let r=1;r<e.length;r++){const o=e[r];t[1]+1===o?t[1]=o:(n.push(t[0]===t[1]?`${t[0]}`:`${t[0]}-${t[1]}`),t=[o,o])}return n.push(t[0]===t[1]?`${t[0]}`:`${t[0]}-${t[1]}`),n.join(\", \")}function Cu(e,t={}){const n=t.size??$c(),r=t.useValuesAsDiscriminators??!1,{enumKeys:o,enumValues:i,numericalValues:a,stringValues:s}=ku(e);if(r&&i.some((e=>\"string\"==typeof e)))throw new Ba(Ta,{stringValues:i.filter((e=>\"string\"==typeof e))});return ss(n,(e=>{const t=function({enumKeys:e,enumValues:t,variant:n}){const r=Iu(t,(e=>e===n));return r>=0?r:e.findIndex((e=>e===n))}({enumKeys:o,enumValues:i,variant:e});if(t<0)throw new Ba(va,{formattedNumericalValues:_u(a),numericalValues:a,stringValues:s,variant:e});return r?i[t]:t}))}function Ru(e,t={}){const n=t.size??Fc(),r=t.useValuesAsDiscriminators??!1,{enumKeys:o,enumValues:i,numericalValues:a}=ku(e);if(r&&i.some((e=>\"string\"==typeof e)))throw new Ba(Ta,{stringValues:i.filter((e=>\"string\"==typeof e))});return cs(n,(e=>{const t=Number(e),n=function({discriminator:e,enumKeys:t,enumValues:n,useValuesAsDiscriminators:r}){return r?Iu(n,(t=>t===e)):e>=0&&e<t.length?e:-1}({discriminator:t,enumKeys:o,enumValues:i,useValuesAsDiscriminators:r});if(n<0){const e=r?a:[...Array(o.length).keys()];throw new Ba(ya,{discriminator:t,formattedValidDiscriminators:_u(e),validDiscriminators:e})}return i[n]}))}var Pu;function Ou(){return Va({fixedSize:0,write:(e,t,n)=>n})}function Nu(){return Ka({fixedSize:0,read:(e,t)=>[void 0,t]})}function Bu(e){const t=e.map((([,e])=>e)),n=iu(t.map(au)),r=iu(t.map(su))??void 0;return Va({...null===n?{getSizeFromValue:t=>e.map((([e,n])=>Wa(t[e],n))).reduce(((e,t)=>e+t),0),maxSize:r}:{fixedSize:n},write:(t,n,r)=>(e.forEach((([e,o])=>{r=o.write(t[e],n,r)})),r)})}function zu(e){const t=e.map((([,e])=>e)),n=iu(t.map(au)),r=iu(t.map(su))??void 0;return Ka({...null===n?{maxSize:r}:{fixedSize:n},read:(t,n)=>{const r={};return e.forEach((([e,o])=>{const[i,a]=o.read(t,n);n=a,r[e]=i})),[r,n]}})}function Mu(){return Pu||(Pu=ms()),Pu}function ju(e){if(e.length<32||e.length>44)throw new Ba(ii,{actualLength:e.length});const t=Mu().encode(e).byteLength;if(32!==t)throw new Ba(ai,{actualLength:t})}function Uu(e){switch(e){case\"finalized\":return 2;case\"confirmed\":return 1;case\"processed\":return 0;default:throw new Ba(Ca,{unexpectedValue:e})}}var Du=18446744073709551615n;function Lu(e){return function(e){if(e<0||e>Du)throw new Ba(si)}(e),e}function $u(e,...t){return t.reduce(((e,t)=>t(e)),e)}function Fu(e){if(!(\"lifetimeConstraint\"in e&&\"string\"==typeof e.lifetimeConstraint.blockhash&&\"bigint\"==typeof e.lifetimeConstraint.lastValidBlockHeight))return!1;try{return ju(e.lifetimeConstraint.blockhash),!0}catch{return!1}}function qu(e,t){if(\"lifetimeConstraint\"in t&&t.lifetimeConstraint.blockhash===e.blockhash&&t.lifetimeConstraint.lastValidBlockHeight===e.lastValidBlockHeight)return t;const n={...t,lifetimeConstraint:Object.freeze(e)};return Object.freeze(n),n}var Wu=e=>Va({getSizeFromValue:t=>{const[n,r]=Ku(t,e[0]);if(!r)return t.length;const o=Gu(r,e);return n.length+Math.ceil(o.toString(16).length/2)},write(t,n,r){if(function(e,t,n=t){if(!t.match(new RegExp(`^[${e}]*$`)))throw new Ba(Aa,{alphabet:e,base:e.length,value:n})}(e,t),\"\"===t)return r;const[o,i]=Ku(t,e[0]);if(!i)return n.set(new Uint8Array(o.length).fill(0),r),r+o.length;let a=Gu(i,e);const s=[];for(;a>0n;)s.unshift(Number(a%256n)),a/=256n;const c=[...Array(o.length).fill(0),...s];return n.set(c,r),r+c.length}}),Vu=e=>Ka({read(t,n){const r=0===n?t:t.slice(n);if(0===r.length)return[\"\",0];let o=r.findIndex((e=>0!==e));o=-1===o?r.length:o;const i=e[0].repeat(o);if(o===r.length)return[i,t.length];const a=function(e,t){const n=BigInt(t.length),r=[];for(;e>0n;)r.unshift(t[Number(e%n)]),e/=n;return r.join(\"\")}(r.slice(o).reduce(((e,t)=>256n*e+BigInt(t)),0n),e);return[i+a,t.length]}});function Ku(e,t){const[n,r]=e.split(new RegExp(`((?!${t}).*)`));return[n,r]}function Gu(e,t){const n=BigInt(t.length);let r=0n;for(const o of e)r*=n,r+=BigInt(t.indexOf(o));return r}var Hu,Ju,Zu,Yu,Xu,Qu,el=\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\",tl=()=>Wu(el),nl=()=>Vu(el);function rl(){return Zu||(Zu=$c()),Zu}function ol(){return Yu||(Yu=Fc()),Yu}var il=128;function al(){return Va({getSizeFromValue:e=>\"legacy\"===e?0:1,maxSize:1,write:(e,t,n)=>{if(\"legacy\"===e)return n;if(e<0||e>127)throw new Ba(Hi,{actualVersion:e});return t.set([e|il],n),n+1}})}function sl(){return Ka({maxSize:1,read:(e,t)=>{const n=e[t];if(0==(n&il))return[\"legacy\",t];return[n^il,t+1]}})}function cl(){return Bu(ll())}function ul(){return ss(Bu([...ll(),[\"addressTableLookups\",cu((Hu||(Hu=Bu([[\"lookupTableAddress\",Ms()],[\"writableIndices\",cu($c(),{size:Bc()})],[\"readableIndices\",cu($c(),{size:Bc()})]])),Hu),{size:Bc()})]]),(e=>\"legacy\"===e.version?e:{...e,addressTableLookups:e.addressTableLookups??[]}))}function ll(){return[[\"version\",al()],[\"header\",Bu([[\"numSignerAccounts\",rl()],[\"numReadonlySignerAccounts\",rl()],[\"numReadonlyNonSignerAccounts\",rl()]])],[\"staticAccounts\",cu(Ms(),{size:Bc()})],[\"lifetimeToken\",ts(tl(),32)],[\"instructions\",cu((Xu||(Xu=ss(Bu([[\"programAddressIndex\",$c()],[\"accountIndices\",cu($c(),{size:Bc()})],[\"data\",Qa(hu(),Bc())]]),(e=>void 0!==e.accountIndices&&void 0!==e.data?e:{...e,accountIndices:e.accountIndices??[],data:e.data??new Uint8Array(0)}))),Xu),{size:Bc()})]]}function dl(){return Va({getSizeFromValue:e=>\"legacy\"===e.version?cl().getSizeFromValue(e):ul().getSizeFromValue(e),write:(e,t,n)=>\"legacy\"===e.version?cl().write(e,t,n):ul().write(e,t,n)})}function fl(){return cs(zu([[\"version\",sl()],[\"header\",zu([[\"numSignerAccounts\",ol()],[\"numReadonlySignerAccounts\",ol()],[\"numReadonlyNonSignerAccounts\",ol()]])],[\"staticAccounts\",uu(js(),{size:zc()})],[\"lifetimeToken\",ns(nl(),32)],[\"instructions\",uu((Qu||(Qu=cs(zu([[\"programAddressIndex\",Fc()],[\"accountIndices\",uu(Fc(),{size:zc()})],[\"data\",es(pu(),zc())]]),(e=>{if(e.accountIndices.length&&e.data.byteLength)return e;const{accountIndices:t,data:n,...r}=e;return{...r,...t.length?{accountIndices:t}:null,...n.byteLength?{data:n}:null}}))),Qu),{size:zc()})],[\"addressTableLookups\",uu((Ju||(Ju=zu([[\"lookupTableAddress\",js()],[\"writableIndices\",uu(Fc(),{size:zc()})],[\"readableIndices\",uu(Fc(),{size:zc()})]])),Ju),{size:zc()})]]),(({addressTableLookups:e,...t})=>\"legacy\"!==t.version&&e?.length?{...t,addressTableLookups:e}:t))}function hl(e,t,n){e[t]=n(e[t]??{role:Wc.READONLY})}var pl=Symbol(\"AddressMapTypeProperty\");function gl(e){const t={};for(const n of e){if(!(\"lookupTableAddress\"in n))continue;const e=t[n.lookupTableAddress]||={readableIndices:[],writableIndices:[]};n.role===Wc.WRITABLE?e.writableIndices.push(n.addressIndex):e.readableIndices.push(n.addressIndex)}return Object.keys(t).sort(Ds()).map((e=>({lookupTableAddress:e,...t[e]})))}function ml(e){let t=0,n=0,r=0;for(const o of e){if(\"lookupTableAddress\"in o)break;const e=Hc(o.role);Gc(o.role)?(r++,e||n++):e||t++}return{numReadonlyNonSignerAccounts:t,numReadonlySignerAccounts:n,numSignerAccounts:r}}function yl(e,t){const n=function(e){const t={};for(const[n,r]of e.entries())t[r.address]=n;return t}(t);return e.map((({accounts:e,data:t,programAddress:r})=>({programAddressIndex:n[r],...e?{accountIndices:e.map((({address:e})=>n[e]))}:null,...t?{data:t}:null})))}function vl(e){const t=e.findIndex((e=>\"lookupTableAddress\"in e));return(-1===t?e:e.slice(0,t)).map((({address:e})=>e))}function wl(e){const t=function(e){let t;const n=Object.entries(e).sort((([e,n],[r,o])=>{if(n[pl]!==o[pl]){if(0===n[pl])return-1;if(0===o[pl])return 1;if(2===n[pl])return-1;if(2===o[pl])return 1}const i=Gc(n.role);if(i!==Gc(o.role))return i?-1:1;const a=Hc(n.role);return a!==Hc(o.role)?a?-1:1:(t||=Ds(),1===n[pl]&&1===o[pl]&&n.lookupTableAddress!==o.lookupTableAddress?t(n.lookupTableAddress,o.lookupTableAddress):t(e,r))})).map((([e,t])=>({address:e,...t})));return n}(function(e,t){const n={[e]:{[pl]:0,role:Wc.WRITABLE_SIGNER}},r=new Set;for(const e of t){let t;if(hl(n,e.programAddress,(t=>{if(r.add(e.programAddress),pl in t){if(Hc(t.role)){if(0===t[pl])throw new Ba(Ki,{programAddress:e.programAddress});throw new Ba(Gi,{programAddress:e.programAddress})}if(2===t[pl])return t}return{[pl]:2,role:Wc.READONLY}})),e.accounts)for(const o of e.accounts)hl(n,o.address,(e=>{const{address:n,...i}=o;if(pl in e)switch(e[pl]){case 0:return e;case 1:{const n=Jc(e.role,i.role);if(\"lookupTableAddress\"in i){if(e.lookupTableAddress!==i.lookupTableAddress&&(t||=Ds())(i.lookupTableAddress,e.lookupTableAddress)<0)return{[pl]:1,...i,role:n}}else if(Gc(i.role))return{[pl]:2,role:n};return e.role!==n?{...e,role:n}:e}case 2:{const t=Jc(e.role,i.role);if(r.has(o.address)){if(Hc(i.role))throw new Ba(Gi,{programAddress:o.address});return e.role!==t?{...e,role:t}:e}return\"lookupTableAddress\"in i&&!Gc(e.role)?{...i,[pl]:1,role:t}:e.role!==t?{...e,role:t}:e}}return\"lookupTableAddress\"in i?{...i,[pl]:1}:{...i,[pl]:2}}))}return n}(e.feePayer.address,e.instructions));return{...\"legacy\"!==e.version?{addressTableLookups:gl(t)}:null,header:ml(t),instructions:yl(e.instructions,t),lifetimeToken:(n=e.lifetimeConstraint,\"nonce\"in n?n.nonce:n.blockhash),staticAccounts:vl(t),version:e.version};var n}function Al({version:e}){return Object.freeze({instructions:Object.freeze([]),version:e})}var bl,Sl=\"SysvarRecentB1ockHashes11111111111111111111\",El=\"11111111111111111111111111111111\";function xl(e,t){return{accounts:[{address:e,role:Wc.WRITABLE},{address:Sl,role:Wc.READONLY},{address:t,role:Wc.READONLY_SIGNER}],data:new Uint8Array([4,0,0,0]),programAddress:El}}function Tl(e){return e.programAddress===El&&null!=e.data&&(4===(t=e.data).byteLength&&4===t[0]&&0===t[1]&&0===t[2]&&0===t[3])&&3===e.accounts?.length&&null!=e.accounts[0].address&&e.accounts[0].role===Wc.WRITABLE&&e.accounts[1].address===Sl&&e.accounts[1].role===Wc.READONLY&&null!=e.accounts[2].address&&Gc(e.accounts[2].role);var t}function kl(e){return\"lifetimeConstraint\"in e&&\"string\"==typeof e.lifetimeConstraint.nonce&&null!=e.instructions[0]&&Tl(e.instructions[0])}function Il(e,t){if(\"feePayer\"in t&&e===t.feePayer?.address&&function(e){return!!e&&\"address\"in e&&\"string\"==typeof e.address&&1===Object.keys(e).length}(t.feePayer))return t;const n={...t,feePayer:Object.freeze({address:e})};return Object.freeze(n),n}function _l(e,t){return Cl([e],t)}function Cl(e,t){return Object.freeze({...t,instructions:Object.freeze([...t.instructions,...e])})}function Rl(e,t){return Object.freeze({...t,instructions:Object.freeze([...e,...t.instructions])})}function Pl(e,t){const n=e.staticAccounts[0];if(!n)throw new Ba(Xi);const r=[...function(e){const{header:t}=e,n=t.numSignerAccounts-t.numReadonlySignerAccounts,r=e.staticAccounts.length-t.numSignerAccounts-t.numReadonlyNonSignerAccounts,o=[];let i=0;for(let t=0;t<n;t++)o.push({address:e.staticAccounts[i],role:Wc.WRITABLE_SIGNER}),i++;for(let n=0;n<t.numReadonlySignerAccounts;n++)o.push({address:e.staticAccounts[i],role:Wc.READONLY_SIGNER}),i++;for(let t=0;t<r;t++)o.push({address:e.staticAccounts[i],role:Wc.WRITABLE}),i++;for(let n=0;n<t.numReadonlyNonSignerAccounts;n++)o.push({address:e.staticAccounts[i],role:Wc.READONLY}),i++;return o}(e),...\"addressTableLookups\"in e&&void 0!==e.addressTableLookups&&e.addressTableLookups.length>0?function(e,t){const n=e.map((e=>e.lookupTableAddress)).filter((e=>void 0===t[e]));if(n.length>0)throw new Ba(Ji,{lookupTableAddresses:n});const r=[],o=[];for(const n of e){const e=t[n.lookupTableAddress],i=Math.max(...n.readableIndices,...n.writableIndices);if(i>=e.length)throw new Ba(Zi,{highestKnownIndex:e.length-1,highestRequestedIndex:i,lookupTableAddress:n.lookupTableAddress});const a=n.readableIndices.map((t=>({address:e[t],addressIndex:t,lookupTableAddress:n.lookupTableAddress,role:Wc.READONLY})));r.push(...a);const s=n.writableIndices.map((t=>({address:e[t],addressIndex:t,lookupTableAddress:n.lookupTableAddress,role:Wc.WRITABLE})));o.push(...s)}return[...o,...r]}(e.addressTableLookups,t?.addressesByLookupTableAddress??{}):[]],o=e.instructions.map((e=>function(e,t){const n=t[e.programAddressIndex]?.address;if(!n)throw new Ba(Yi,{index:e.programAddressIndex});const r=e.accountIndices?.map((e=>t[e])),{data:o}=e;return Object.freeze({programAddress:n,...r&&r.length?{accounts:Object.freeze(r)}:{},...o&&o.length?{data:o}:{}})}(e,r))),i=o[0],a=function(e,t,n){if(t&&Tl(t)){const n=t.accounts[0].address;Bs(n);const r=t.accounts[2].address;return Bs(r),{nonce:e,nonceAccountAddress:n,nonceAuthorityAddress:r}}return{blockhash:e,lastValidBlockHeight:n??2n**64n-1n}}(e.lifetimeToken,i,t?.lastValidBlockHeight);return $u(Al({version:e.version}),(e=>Il(n,e)),(e=>o.reduce(((e,t)=>_l(t,e)),e)),(e=>\"blockhash\"in a?qu(a,e):function({nonce:e,nonceAccountAddress:t,nonceAuthorityAddress:n},r){let o;const i=r.instructions[0];if(i&&Tl(i))if(function(e,t,n){return e.accounts[0].address===t&&e.accounts[2].address===n}(i,t,n)){if(kl(r)&&r.lifetimeConstraint.nonce===e)return r;o=[i,...r.instructions.slice(1)]}else o=[Object.freeze(xl(t,n)),...r.instructions.slice(1)];else o=[Object.freeze(xl(t,n)),...r.instructions];return Object.freeze({...r,instructions:Object.freeze(o),lifetimeConstraint:Object.freeze({nonce:e})})}(a,e)))}function Ol(e){const t=Object.values(e);if(0===t.length)throw new Ba(na);return t.map((e=>e||new Uint8Array(64).fill(0)))}function Nl(){return Bu([[\"signatures\",ss(cu(ts(hu(),64),{size:Bc()}),Ol)],[\"messageBytes\",hu()]])}function Bl(){return cs(zu([[\"signatures\",uu(ns(pu(),64),{size:zc()})],[\"messageBytes\",pu()]]),zl)}function zl(e){const{messageBytes:t,signatures:n}=e,r=wu([sl(),as(Fc(),2),uu(js(),{size:zc()})]),[o,i,a]=r.decode(t),s=a.slice(0,i);if(s.length!==n.length)throw new Ba(ra,{numRequiredSignatures:i,signaturesLength:n.length,signerAddresses:s});const c={};return s.forEach(((e,t)=>{const r=n[t];r.every((e=>0===e))?c[e]=null:c[e]=r})),{messageBytes:t,signatures:Object.freeze(c)}}function Ml(e){const t=wl(e),n=dl().encode(t),r=t.staticAccounts.slice(0,t.header.numSignerAccounts),o={};for(const e of r)o[e]=null;let i;i=Fu(e)?{blockhash:e.lifetimeConstraint.blockhash,lastValidBlockHeight:e.lifetimeConstraint.lastValidBlockHeight}:{nonce:e.lifetimeConstraint.nonce,nonceAccountAddress:e.instructions[0].accounts[0].address};const a={lifetimeConstraint:i,messageBytes:n,signatures:Object.freeze(o)};return Object.freeze(a)}function jl(e){bl||(bl=ys());const t=Object.values(e.signatures)[0];if(!t)throw new Ba(ea);return bl.decode(t)}async function Ul(e,t){let n,r;if(await Promise.all(e.map((async e=>{const o=await Xs(e.publicKey),i=t.signatures[o];if(void 0===i)return r||=new Set,void r.add(o);if(r)return;const a=await eu(e.privateKey,t.messageBytes);var s,c;null!==i&&(c=i,(s=a).length===c.length&&s.every(((e,t)=>e===c[t])))||(n||={},n[o]=a)}))),r&&r.size>0){const e=Object.keys(t.signatures);throw new Ba(ta,{expectedAddresses:e,unexpectedAddresses:[...r]})}return n?Object.freeze({...t,signatures:Object.freeze({...t.signatures,...n})}):t}function Dl(e){const t=[];if(Object.entries(e.signatures).forEach((([e,n])=>{n||t.push(e)})),t.length>0)throw new Ba(Qi,{addresses:t})}function Ll(e){const t=Nl().encode(e);return Es().decode(t)}function $l(e){const t={};return e.forEach((e=>{if(t[e.address]){if(t[e.address]!==e)throw new Ba(Vi,{address:e.address})}else t[e.address]=e})),Object.values(t)}function Fl(e){return\"modifyAndSignTransactions\"in e&&\"function\"==typeof e.modifyAndSignTransactions}function ql(e){return\"signTransactions\"in e&&\"function\"==typeof e.signTransactions}function Wl(e){return\"signAndSendTransactions\"in e&&\"function\"==typeof e.signAndSendTransactions}function Vl(e){return ql(e)||Fl(e)||Wl(e)}function Kl(e){return $l((e.accounts??[]).flatMap((e=>\"signer\"in e?e.signer:[])))}function Gl(e){return $l([...e.feePayer&&Vl(e.feePayer)?[e.feePayer]:[],...e.instructions.flatMap(Kl)])}function Hl(e,t){const n=(r=t)&&\"feePayer\"in r&&r.feePayer&&\"string\"==typeof r.feePayer.address&&!Vl(r.feePayer)?e.find((e=>e.address===t.feePayer.address)):void 0;var r;return n||0!==t.instructions.length?Object.freeze({...t,...n?{feePayer:n}:null,instructions:t.instructions.map((t=>function(e,t){if(!t.accounts||0===t.accounts.length)return t;const n=new Map($l(e).map((e=>[e.address,e])));return Object.freeze({...t,accounts:t.accounts.map((e=>{const t=n.get(e.address);return Gc(e.role)&&!(\"signer\"in e)&&t?Object.freeze({...e,signer:t}):e}))})}(e,t)))}):t}async function Jl(e){const t=await Xs(e.publicKey),n={address:t,keyPair:e,signMessages:n=>Promise.all(n.map((async n=>Object.freeze({[t]:await eu(e.privateKey,n.content)})))),signTransactions:n=>Promise.all(n.map((async n=>{const r=await Ul([e],n);return Object.freeze({[t]:r.signatures[t]})})))};return Object.freeze(n)}async function Zl(e,t){return await Jl(await ru(e,t))}function Yl(e){const t={address:e,signMessages:e=>Promise.resolve(e.map((()=>Object.freeze({})))),signTransactions:e=>Promise.resolve(e.map((()=>Object.freeze({}))))};return Object.freeze(t)}async function Xl(e,t){const{partialSigners:n,modifyingSigners:r}=Ql($l(Gl(e).filter(Vl)),{identifySendingSigner:!1});return await ed(e,r,n,t)}function Ql(e,t={}){const n=t.identifySendingSigner??!0?function(e){const t=e.filter(Wl);if(0===t.length)return null;const n=t.filter((e=>!Fl(e)&&!ql(e)));if(n.length>0)return n[0];return t[0]}(e):null,r=e.filter((e=>e!==n&&(Fl(e)||ql(e)))),o=function(e){const t=e.filter(Fl);if(0===t.length)return[];const n=t.filter((e=>!ql(e)));return n.length>0?n:[t[0]]}(r),i=r.filter(ql).filter((e=>!o.includes(e)));return Object.freeze({modifyingSigners:o,partialSigners:i,sendingSigner:n})}async function ed(e,t=[],n=[],r){const o=Ml(e),i=await t.reduce((async(e,t)=>{r?.abortSignal?.throwIfAborted();const[n]=await t.modifyAndSignTransactions([await e],r);return Object.freeze(n)}),Promise.resolve(o));r?.abortSignal?.throwIfAborted();const a=await Promise.all(n.map((async e=>{const[t]=await e.signTransactions([i],r);return t}))),s={...i,signatures:Object.freeze(a.reduce(((e,t)=>({...e,...t})),i.signatures??{}))};return Object.freeze(s)}var td=globalThis.TextEncoder;var nd,rd=((nd=rd||{})[nd.Uninitialized=0]=\"Uninitialized\",nd[nd.Initialized=1]=\"Initialized\",nd);var od,id=((od=id||{})[od.Legacy=0]=\"Legacy\",od[od.Current=1]=\"Current\",od);var ad,sd,cd=\"11111111111111111111111111111111\",ud=((ad=ud||{})[ad.Nonce=0]=\"Nonce\",ad),ld=((sd=ld||{})[sd.CreateAccount=0]=\"CreateAccount\",sd[sd.Assign=1]=\"Assign\",sd[sd.TransferSol=2]=\"TransferSol\",sd[sd.CreateAccountWithSeed=3]=\"CreateAccountWithSeed\",sd[sd.AdvanceNonceAccount=4]=\"AdvanceNonceAccount\",sd[sd.WithdrawNonceAccount=5]=\"WithdrawNonceAccount\",sd[sd.InitializeNonceAccount=6]=\"InitializeNonceAccount\",sd[sd.AuthorizeNonceAccount=7]=\"AuthorizeNonceAccount\",sd[sd.Allocate=8]=\"Allocate\",sd[sd.AllocateWithSeed=9]=\"AllocateWithSeed\",sd[sd.AssignWithSeed=10]=\"AssignWithSeed\",sd[sd.TransferSolWithSeed=11]=\"TransferSolWithSeed\",sd[sd.UpgradeNonceAccount=12]=\"UpgradeNonceAccount\",sd);function dd(e){if(!e)throw new Error(\"Expected a Address.\");return\"object\"==typeof e&&\"address\"in e?e.address:Array.isArray(e)?e[0]:e}function fd(e,t){return t=>{if(!t.value)return Object.freeze({address:e,role:Wc.READONLY});const n=t.isWritable?Wc.WRITABLE:Wc.READONLY;return Object.freeze({address:dd(t.value),role:hd(t.value)?Zc(n):n,...hd(t.value)?{signer:t.value}:{}})}}function hd(e){return!!e&&\"object\"==typeof e&&\"address\"in e&&Vl(e)}function pd(){return zu([[\"discriminator\",Uc()]])}function gd(){return zu([[\"discriminator\",Uc()],[\"space\",Lc()]])}function md(){return zu([[\"discriminator\",Uc()],[\"base\",js()],[\"seed\",es(_s(),Lc())],[\"space\",Lc()],[\"programAddress\",js()]])}function yd(){return zu([[\"discriminator\",Uc()],[\"programAddress\",js()]])}function vd(){return zu([[\"discriminator\",Uc()],[\"base\",js()],[\"seed\",es(_s(),Lc())],[\"programAddress\",js()]])}function wd(){return zu([[\"discriminator\",Uc()],[\"newNonceAuthority\",js()]])}function Ad(){return zu([[\"discriminator\",Uc()],[\"lamports\",Lc()],[\"space\",Lc()],[\"programAddress\",js()]])}function bd(){return zu([[\"discriminator\",Uc()],[\"base\",js()],[\"seed\",es(_s(),Lc())],[\"amount\",Lc()],[\"space\",Lc()],[\"programAddress\",js()]])}function Sd(){return zu([[\"discriminator\",Uc()],[\"nonceAuthority\",js()]])}var Ed=2;function xd(){return ss(Bu([[\"discriminator\",jc()],[\"amount\",Dc()]]),(e=>({...e,discriminator:Ed})))}function Td(){return zu([[\"discriminator\",Uc()],[\"amount\",Lc()]])}function kd(){return zu([[\"discriminator\",Uc()],[\"amount\",Lc()],[\"fromSeed\",es(_s(),Lc())],[\"fromOwner\",js()]])}function Id(){return zu([[\"discriminator\",Uc()]])}function _d(){return zu([[\"discriminator\",Uc()],[\"withdrawAmount\",Lc()]])}const Cd={log:(console.log,(...e)=>{}),info:(console.info,(...e)=>{}),warn:(console.warn,(...e)=>{}),debug:(console.debug,(...e)=>{}),error:(console.error,(...e)=>{})},Rd=ae([H([\"btc\",\"eth\",\"ltc\",\"bch\",\"bnb\",\"eos\",\"xrp\",\"xlm\",\"link\",\"dot\",\"yfi\",\"bits\",\"sats\",\"sol\",\"sei\",\"sonic\"]),H([\"usd\",\"aed\",\"amd\",\"ars\",\"aud\",\"bam\",\"bdt\",\"bhd\",\"bmd\",\"brl\",\"cad\",\"chf\",\"clp\",\"cny\",\"cop\",\"crc\",\"czk\",\"dkk\",\"dop\",\"eur\",\"gbp\",\"gel\",\"gtq\",\"hkd\",\"hnl\",\"huf\",\"idr\",\"ils\",\"inr\",\"jpy\",\"kes\",\"krw\",\"kwd\",\"lbp\",\"lkr\",\"mmk\",\"mxn\",\"myr\",\"ngn\",\"nok\",\"nzd\",\"pen\",\"php\",\"pkr\",\"pln\",\"ron\",\"rub\",\"sar\",\"sek\",\"sgd\",\"svc\",\"thb\",\"try\",\"twd\",\"uah\",\"vef\",\"vnd\",\"xdr\",\"zar\",\"zmw\"]),H([\"xag\",\"xau\"])]),Pd=ee({id:re(),price:he(Q(),0),marketCap:te(X(he(Q(),0))),allTimeHigh:te(X(he(Q(),0))),allTimeLow:te(X(he(Q(),0))),totalVolume:te(X(he(Q(),0))),high1d:te(X(he(Q(),0))),low1d:te(X(he(Q(),0))),circulatingSupply:te(X(he(Q(),0))),dilutedMarketCap:te(X(he(Q(),0))),marketCapPercentChange1d:te(X(Q())),priceChange1d:te(X(Q())),pricePercentChange1h:te(X(Q())),pricePercentChange1d:te(X(Q())),pricePercentChange7d:te(X(Q())),pricePercentChange14d:te(X(Q())),pricePercentChange30d:te(X(Q())),pricePercentChange200d:te(X(Q())),pricePercentChange1y:te(X(Q())),bondingCurveProgressPercent:te(X(Q())),liquidity:te(X(Q())),totalSupply:te(X(Q())),holderCount:te(X(Q())),isMutable:te(X(G()))}),Od=ne(Jo,X(Pd)),Nd=Rd,Bd=ee({assetType:Jo,timePeriod:te(ge(re(),/^[1-9][0-9]*[dmy]$/u)),from:te(he(Q(),0)),to:te(he(Q(),0)),vsCurrency:te(Nd)}),zd=ee({prices:K(oe([Q(),Q()])),marketCaps:K(oe([Q(),Q()])),totalVolumes:K(oe([Q(),Q()]))}),Md={prices:[],marketCaps:[],totalVolumes:[]};class jd{#o;#i;#a;#s;#c;static cacheTtlsMilliseconds={fiatExchangeRates:Yo.Minute,spotPrices:Yo.Minute,historicalPrices:Yo.Minute};constructor(e,t,n=globalThis.fetch,r=Cd){const{baseUrl:o,chunkSize:i}=e.get().priceApi;z(o,lc),this.#o=n,this.#i=r,this.#a=o,this.#s=i,this.#c=t}async getFiatExchangeRates(){try{const e=await this.#o(`${this.#a}/v1/exchange-rates/fiat`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(e){throw this.#i.error(e,\"Error fetching fiat exchange rates\"),e}}async#u(e,t=\"usd\"){try{if(z(e,K(Jo)),z(t,Nd),0===e.length)return{};const n=[...new Set(e)],r=[];for(let e=0;e<n.length;e+=this.#s)r.push(n.slice(e,e+this.#s));const o=await Promise.all(r.map((async e=>{const n=Ec({baseUrl:this.#a,path:\"/v3/spot-prices\",queryParams:{vsCurrency:t,assetIds:e.join(\",\"),includeMarketData:\"true\"}}),r=await this.#o(n);if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const o=await r.json();return z(o,Od),o}))),i=o.reduce(((e,t)=>({...e,...t})),{});return await this.#c.mset(e.map((e=>({key:`PriceApiClient:getMultipleSpotPrices:${e}:${t}`,value:i[e],ttlMilliseconds:jd.cacheTtlsMilliseconds.spotPrices})))),i}catch(e){throw this.#i.error(e,\"Error fetching spot prices\"),e}}async#l(e,t=\"usd\"){const n=[...new Set(e)],r=\"PriceApiClient:getMultipleSpotPrices\",o=e=>`${r}:${e}:${t}`,i=await this.#c.mget(n.map(o)),a=(0,ni.mapKeys)(i,((e,t)=>(e=>{const t=new RegExp(`^${r}:(.+):(.+)$`,\"u\"),n=e.match(t);if(!n)throw new Error(\"Invalid cache key\");return n})(t)[1])),s=n.filter((e=>void 0===a[e]));if(0===s.length)return a;const c=await this.#u(s,t);return await this.#c.mset(Object.entries(c).map((([e,t])=>({key:o(e),value:t,ttlMilliseconds:jd.cacheTtlsMilliseconds.spotPrices})))),{...a,...c}}async getMultipleSpotPrices(e,t=\"usd\"){return this.#l(e,t)}async#d(e){z(e,Bd);const t=Ec({baseUrl:this.#a,path:\"/v3/historical-prices/{assetType}\",pathParams:{assetType:e.assetType},queryParams:{...e.timePeriod&&{timePeriod:e.timePeriod},...e.from&&{from:e.from.toString()},...e.to&&{to:e.to.toString()},...e.vsCurrency&&{vsCurrency:e.vsCurrency}}}),n=await this.#o(t),r=await n.json();return z(r,zd),r}async getHistoricalPrices(e){return oi(this.#d.bind(this),this.#c,{functionName:\"PriceApiClient:getHistoricalPrices\",ttlMilliseconds:jd.cacheTtlsMilliseconds.historicalPrices})(e)}}const Ud=function(e){if(e.length>=255)throw new TypeError(\"Alphabet too long\");const t=new Uint8Array(256);for(let e=0;e<t.length;e++)t[e]=255;for(let n=0;n<e.length;n++){const r=e.charAt(n),o=r.charCodeAt(0);if(255!==t[o])throw new TypeError(r+\" is ambiguous\");t[o]=n}const n=e.length,r=e.charAt(0),o=Math.log(n)/Math.log(256),i=Math.log(256)/Math.log(n);function a(e){if(\"string\"!=typeof e)throw new TypeError(\"Expected String\");if(0===e.length)return new Uint8Array;let i=0,a=0,s=0;for(;e[i]===r;)a++,i++;const c=(e.length-i)*o+1>>>0,u=new Uint8Array(c);for(;e[i];){let r=t[e.charCodeAt(i)];if(255===r)return;let o=0;for(let e=c-1;(0!==r||o<s)&&-1!==e;e--,o++)r+=n*u[e]>>>0,u[e]=r%256>>>0,r=r/256>>>0;if(0!==r)throw new Error(\"Non-zero carry\");s=o,i++}let l=c-s;for(;l!==c&&0===u[l];)l++;const d=new Uint8Array(a+(c-l));let f=a;for(;l!==c;)d[f++]=u[l++];return d}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError(\"Expected Uint8Array\");if(0===t.length)return\"\";let o=0,a=0,s=0;const c=t.length;for(;s!==c&&0===t[s];)s++,o++;const u=(c-s)*i+1>>>0,l=new Uint8Array(u);for(;s!==c;){let e=t[s],r=0;for(let t=u-1;(0!==e||r<a)&&-1!==t;t--,r++)e+=256*l[t]>>>0,l[t]=e%n>>>0,e=e/n>>>0;if(0!==e)throw new Error(\"Non-zero carry\");a=r,s++}let d=u-a;for(;d!==u&&0===l[d];)d++;let f=r.repeat(o);for(;d<u;++d)f+=e.charAt(l[d]);return f},decodeUnsafe:a,decode:function(e){const t=a(e);if(t)return t;throw new Error(\"Non-base\"+n+\" character\")}}};const Dd=Ud(\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\");var Ld=n(1048).hp;const $d={[nc.Mainnet]:\"mainnet\",[nc.Devnet]:\"devnet\",[nc.Testnet]:\"testnet\",[nc.Localnet]:\"localnet\"};class Fd{#f;#i;constructor(e,t=Cd){this.#f=e,this.#i=t}static isMaybeNonFungible(e){const{tokenAmount:t}=e,{decimals:n}=t;return!1}}const qd=K(ee({decimals:J(),assetId:Jo,name:te(re()),symbol:te(re()),iconUrl:te(lc)}));class Wd{#o;#i;#a;#s;#h;static supportedNetworks=[nc.Mainnet,nc.Devnet];constructor(e,t=globalThis.fetch,n=Cd){this.#o=t,this.#i=n;const{tokenApi:r,staticApi:o}=e.get(),{baseUrl:i,chunkSize:a}=r;z(i,lc),this.#a=i,this.#s=a,this.#h=o.baseUrl}async#p(e){z(e,K(Jo));const t=Ec({baseUrl:this.#a,path:\"/v3/assets\",queryParams:{assetIds:e.join(\",\")}}),n=await this.#o(t);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const r=await n.json();return z(r,qd),r}async getTokenMetadataFromAddresses(e){try{z(e,K(Jo));const t=e.filter((e=>{const{chainId:t}=Xo(e);return Wd.supportedNetworks.includes(t)}));t.length!==e.length&&this.#i.warn(`[TokenMetadataClient] Received some asset types on networks that the Token API doesn't support. They will be ignored. Supported networks: ${Wd.supportedNetworks.join(\", \")}`);const n=[];for(let e=0;e<t.length;e+=this.#s)n.push(t.slice(e,e+this.#s));const r=await Promise.all(n.map((async e=>this.#p(e)))),o=new Map;return r.flat().forEach((e=>{const t=e?.symbol,n=e?.name??t,r=e?.decimals;t&&n?o.set(e.assetId,{name:n,symbol:t,fungible:!Fd.isMaybeNonFungible({tokenAmount:{decimals:r}}),iconUrl:e?.iconUrl??Ec({baseUrl:this.#h,path:\"/api/v2/tokenIcons/assets/{assetId}.png\",pathParams:{assetId:e.assetId.replace(/:/gu,\"/\")}}),units:[{name:n,symbol:t,decimals:r}]}):this.#i.warn(`No metadata for ${e.assetId}`)})),Object.fromEntries(o)}catch(e){throw this.#i.error(e,\"Error fetching token metadata\"),e}}}var Vd=function(e){return e.SignAndSendTransactionWithoutConfirmation=\"signAndSendTransactionWithoutConfirmation\",e}({});class Kd extends TypeError{constructor(e,t){let n;const{message:r,explanation:o,...i}=e,{path:a}=e,s=0===a.length?r:`At path: ${a.join(\".\")} -- ${r}`;super(o??s),null!=o&&(this.cause=s),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}}function Gd(e){return\"object\"==typeof e&&null!==e}function Hd(e){return\"symbol\"==typeof e?e.toString():\"string\"==typeof e?JSON.stringify(e):`${e}`}function Jd(e,t,n,r){if(!0===e)return;!1===e?e={}:\"string\"==typeof e&&(e={message:e});const{path:o,branch:i}=t,{type:a}=n,{refinement:s,message:c=`Expected a value of type \\`${a}\\`${s?` with refinement \\`${s}\\``:\"\"}, but received: \\`${Hd(r)}\\``}=e;return{value:r,type:a,refinement:s,key:o[o.length-1],path:o,branch:i,...e,message:c}}function*Zd(e,t,n,r){(function(e){return Gd(e)&&\"function\"==typeof e[Symbol.iterator]})(e)||(e=[e]);for(const o of e){const e=Jd(o,t,n,r);e&&(yield e)}}function*Yd(e,t,n={}){const{path:r=[],branch:o=[e],coerce:i=!1,mask:a=!1}=n,s={path:r,branch:o};if(i&&(e=t.coercer(e,s),a&&\"type\"!==t.type&&Gd(t.schema)&&Gd(e)&&!Array.isArray(e)))for(const n in e)void 0===t.schema[n]&&delete e[n];let c=\"valid\";for(const r of t.validator(e,s))r.explanation=n.message,c=\"not_valid\",yield[r,void 0];for(let[u,l,d]of t.entries(e,s)){const t=Yd(l,d,{path:void 0===u?r:[...r,u],branch:void 0===u?o:[...o,l],coerce:i,mask:a,message:n.message});for(const n of t)n[0]?(c=null===n[0].refinement||void 0===n[0].refinement?\"not_valid\":\"not_refined\",yield[n[0],void 0]):i&&(l=n[1],void 0===u?e=l:e instanceof Map?e.set(u,l):e instanceof Set?e.add(l):Gd(e)&&(void 0!==l||u in e)&&(e[u]=l))}if(\"not_valid\"!==c)for(const r of t.refiner(e,s))r.explanation=n.message,c=\"not_refined\",yield[r,void 0];\"valid\"===c&&(yield[void 0,e])}class Xd{constructor(e){const{type:t,schema:n,validator:r,refiner:o,coercer:i=(e=>e),entries:a=function*(){}}=e;this.type=t,this.schema=n,this.entries=a,this.coercer=i,this.validator=r?(e,t)=>Zd(r(e,t),t,this,e):()=>[],this.refiner=o?(e,t)=>Zd(o(e,t),t,this,e):()=>[]}assert(e,t){return function(e,t,n){const r=tf(e,t,{message:n});if(r[0])throw r[0]}(e,this,t)}create(e,t){return function(e,t,n){const r=tf(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}(e,this,t)}is(e){return function(e,t){const n=tf(e,t);return!n[0]}(e,this)}mask(e,t){return function(e,t,n){const r=tf(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}(e,this,t)}validate(e,t={}){return tf(e,this,t)}}const Qd=\"EXACT_OPTIONAL\";class ef extends Xd{constructor(e){super({...e,type:`exact optional ${e.type}`}),this.brand=Qd}static isExactOptional(e){return Gd(e)&&\"brand\"in e&&e.brand===Qd}}function tf(e,t,n={}){const r=Yd(e,t,n),o=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(r);if(o[0]){return[new Kd(o[0],(function*(){for(const e of r)e[0]&&(yield e[0])})),void 0]}return[void 0,o[1]]}function nf(){return sf(\"never\",(()=>!1))}function rf(e){const t=e?Object.keys(e):[],n=nf();return new Xd({type:\"object\",schema:e??null,*entries(r){if(e&&Gd(r)){const o=new Set(Object.keys(r));for(const n of t){o.delete(n);const t=e[n];ef.isExactOptional(t)&&!Object.prototype.hasOwnProperty.call(r,n)||(yield[n,r[n],e[n]])}for(const e of o)yield[e,r[e],n]}},validator:e=>Gd(e)||`Expected an object, but received: ${Hd(e)}`,coercer:e=>Gd(e)?{...e}:e})}function of(){return sf(\"string\",(e=>\"string\"==typeof e||`Expected a string, but received: ${Hd(e)}`))}function af(...e){const t=\"type\"===e[0]?.type,n=e.map((({schema:e})=>e)),r=Object.assign({},...n);return t?function(e){const t=Object.keys(e);return new Xd({type:\"type\",schema:e,*entries(n){if(Gd(n))for(const r of t)yield[r,n[r],e[r]]},validator:e=>Gd(e)||`Expected an object, but received: ${Hd(e)}`,coercer:e=>Gd(e)?{...e}:e})}(r):rf(r)}function sf(e,t){return new Xd({type:e,schema:null,validator:t})}function cf(e){return sf(JSON.stringify(e),function(e){const t=Hd(e),n=typeof e;return new Xd({type:\"literal\",schema:\"string\"===n||\"number\"===n||\"boolean\"===n?e:null,validator:n=>n===e||`Expected the literal \\`${t}\\`, but received: ${Hd(n)}`})}(e).validator)}function uf(e){return null==e}const lf=(e,t)=>Object.hasOwnProperty.call(e,t);var df;!function(e){e[e.Null=4]=\"Null\",e[e.Comma=1]=\"Comma\",e[e.Wrapper=1]=\"Wrapper\",e[e.True=4]=\"True\",e[e.False=5]=\"False\",e[e.Quote=1]=\"Quote\",e[e.Colon=1]=\"Colon\",e[e.Date=24]=\"Date\"}(df=df||(df={}));const ff=e=>ee(e);function hf({path:e,branch:t}){const n=e[e.length-1];return lf(t[t.length-2],n)}function pf(e){return new B({...e,type:`optional ${e.type}`,validator:(t,n)=>!hf(n)||e.validator(t,n),refiner:(t,n)=>!hf(n)||e.refiner(t,n)})}function gf(e){if(null===e||\"boolean\"==typeof e||\"string\"==typeof e)return!0;if(\"number\"==typeof e&&Number.isFinite(e))return!0;if(\"object\"==typeof e){let t=!0;if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(!gf(e[n])){t=!1;break}return t}const n=Object.entries(e);for(let e=0;e<n.length;e++)if(\"string\"!=typeof n[e][0]||!gf(n[e][1])){t=!1;break}return t}return!1}const mf=D(\"JSON\",(e=>gf(e))),yf=de(mf,me(V(),\"JSON\",(e=>j(e,mf))),(e=>JSON.parse(JSON.stringify(e,((e,t)=>{if(\"__proto__\"!==e&&\"constructor\"!==e)return t})))));const vf=Z(\"2.0\"),wf=X(ae([Q(),re()])),Af=ff({code:J(),message:re(),data:pf(yf),stack:pf(re())}),bf=ae([ne(re(),yf),K(yf)]);ff({id:wf,jsonrpc:vf,method:re(),params:pf(bf)}),ff({jsonrpc:vf,method:re(),params:pf(bf)});ee({id:wf,jsonrpc:vf,result:te(se()),error:te(Af)});const Sf=ff({id:wf,jsonrpc:vf,result:yf}),Ef=ff({id:wf,jsonrpc:vf,error:Af});ae([Sf,Ef]);const xf=H(Object.values(nc)),Tf=ie({address:re()}),kf=Z(\"ed25519\"),If=ie({domain:te(re()),address:te(re()),statement:te(re()),uri:te(re()),version:te(re()),chainId:te(re()),nonce:te(re()),issuedAt:te(re()),expirationTime:te(re()),notBefore:te(re()),requestId:te(re()),resources:te(K(re()))}),_f=ie({account:Tf,message:bc}),Cf=H([\"processed\",\"confirmed\",\"finalized\"]),Rf=ie({preflightCommitment:te(Cf),minContextSlot:te(Q())}),Pf=ie({account:Tf,transaction:bc,scope:xf,options:te(Rf)}),Of=ie({...Rf.schema,commitment:te(Cf),skipPreflight:te(G()),maxRetries:te(Q())}),Nf=ie({...Pf.schema,scope:xf,options:te(Of)}),Bf=ee({method:H([Ft.SignAndSendTransaction]),params:Nf}),zf=ee({method:H([Ft.SignIn]),params:If}),Mf=ee({method:H([Ft.SignMessage]),params:_f}),jf=ee({method:H([Ft.SignTransaction]),params:Pf}),Uf=ee({signature:Ac}),Df=ee({signedTransaction:bc}),Lf=ee({signature:Ac,signedMessage:bc,signatureType:kf}),$f=ee({account:Tf,...Lf.schema}),Ff=ae([Bf,zf,Mf,jf]),qf=ee({jsonrpc:vf,id:wf,method:cf(Vd.SignAndSendTransactionWithoutConfirmation),params:Nf});var Wf,Vf=\"ComputeBudget111111111111111111111111111111\",Kf=((Wf=Kf||{})[Wf.RequestUnits=0]=\"RequestUnits\",Wf[Wf.RequestHeapFrame=1]=\"RequestHeapFrame\",Wf[Wf.SetComputeUnitLimit=2]=\"SetComputeUnitLimit\",Wf[Wf.SetComputeUnitPrice=3]=\"SetComputeUnitPrice\",Wf[Wf.SetLoadedAccountsDataSizeLimit=4]=\"SetLoadedAccountsDataSizeLimit\",Wf);function Gf(e){const t=\"data\"in e?e.data:e;if(qa(t,$c().encode(0),0))return 0;if(qa(t,$c().encode(1),0))return 1;if(qa(t,$c().encode(2),0))return 2;if(qa(t,$c().encode(3),0))return 3;if(qa(t,$c().encode(4),0))return 4;throw new Error(\"The provided instruction could not be identified as a computeBudget instruction.\")}function Hf(){return zu([[\"discriminator\",Fc()],[\"bytes\",Uc()]])}function Jf(){return zu([[\"discriminator\",Fc()],[\"units\",Uc()],[\"additionalFee\",Uc()]])}var Zf=2;function Yf(){return ss(Bu([[\"discriminator\",$c()],[\"units\",jc()]]),(e=>({...e,discriminator:Zf})))}function Xf(){return zu([[\"discriminator\",Fc()],[\"units\",Uc()]])}function Qf(e,t){const n={...e};return{programAddress:t?.programAddress??Vf,data:Yf().encode(n)}}var eh=3;function th(){return ss(Bu([[\"discriminator\",$c()],[\"microLamports\",Dc()]]),(e=>({...e,discriminator:eh})))}function nh(){return zu([[\"discriminator\",Fc()],[\"microLamports\",Lc()]])}function rh(e,t){const n={...e};return{programAddress:t?.programAddress??Vf,data:th().encode(n)}}function oh(){return zu([[\"discriminator\",Fc()],[\"accountDataSizeLimit\",Uc()]])}var ih=e=>({__option:\"Some\",value:e}),ah=()=>({__option:\"None\"}),sh=e=>!!(e&&\"object\"==typeof e&&\"__option\"in e&&(\"Some\"===e.__option&&\"value\"in e||\"None\"===e.__option)),ch=e=>\"Some\"===e.__option;var uh=e=>null!==e?ih(e):ah();function lh(e,t={}){const n=null===t.prefix?ss(Ou(),(e=>{})):du({size:t.prefix??$c()});return Au([ss(vu([n,\"zeroes\"===t.noneValue?(Ha(e),ts(Ou(),e.fixedSize)):t.noneValue?mu(t.noneValue):Ou()]),(e=>[!1,void 0])),ss(vu([n,e]),(e=>[!0,sh(e)&&ch(e)?e.value:e]))],(e=>{const t=sh(e)?e:uh(e);return Number(ch(t))}))}function dh(e,t={}){const n=null===t.prefix?cs(Nu(),(()=>!1)):fu({size:t.prefix??Fc()}),r=\"zeroes\"===t.noneValue?(Ha(e),ns(Nu(),e.fixedSize)):t.noneValue?yu(t.noneValue):Nu();return bu([cs(wu([n,r]),(()=>ah())),cs(wu([n,e]),(([,e])=>ih(e)))],((e,o)=>{if(null===t.prefix&&!t.noneValue)return Number(o<e.length);if(null===t.prefix&&null!=t.noneValue){return qa(e,\"zeroes\"===t.noneValue?new Uint8Array(r.fixedSize).fill(0):t.noneValue,o)?0:1}return Number(n.read(e,o)[0])}))}var fh,hh=((fh=hh||{})[fh.Uninitialized=0]=\"Uninitialized\",fh[fh.Initialized=1]=\"Initialized\",fh[fh.Frozen=2]=\"Frozen\",fh);var ph,gh=((ph=gh||{})[ph.MintTokens=0]=\"MintTokens\",ph[ph.FreezeAccount=1]=\"FreezeAccount\",ph[ph.AccountOwner=2]=\"AccountOwner\",ph[ph.CloseAccount=3]=\"CloseAccount\",ph);function mh(){return Ru(gh)}var yh,vh=\"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL\",wh=((yh=wh||{})[yh.CreateAssociatedToken=0]=\"CreateAssociatedToken\",yh[yh.CreateAssociatedTokenIdempotent=1]=\"CreateAssociatedTokenIdempotent\",yh[yh.RecoverNestedAssociatedToken=2]=\"RecoverNestedAssociatedToken\",yh);var Ah,bh=\"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA\",Sh=((Ah=Sh||{})[Ah.Mint=0]=\"Mint\",Ah[Ah.Token=1]=\"Token\",Ah[Ah.Multisig=2]=\"Multisig\",Ah);var Eh,xh=((Eh=xh||{})[Eh.InitializeMint=0]=\"InitializeMint\",Eh[Eh.InitializeAccount=1]=\"InitializeAccount\",Eh[Eh.InitializeMultisig=2]=\"InitializeMultisig\",Eh[Eh.Transfer=3]=\"Transfer\",Eh[Eh.Approve=4]=\"Approve\",Eh[Eh.Revoke=5]=\"Revoke\",Eh[Eh.SetAuthority=6]=\"SetAuthority\",Eh[Eh.MintTo=7]=\"MintTo\",Eh[Eh.Burn=8]=\"Burn\",Eh[Eh.CloseAccount=9]=\"CloseAccount\",Eh[Eh.FreezeAccount=10]=\"FreezeAccount\",Eh[Eh.ThawAccount=11]=\"ThawAccount\",Eh[Eh.TransferChecked=12]=\"TransferChecked\",Eh[Eh.ApproveChecked=13]=\"ApproveChecked\",Eh[Eh.MintToChecked=14]=\"MintToChecked\",Eh[Eh.BurnChecked=15]=\"BurnChecked\",Eh[Eh.InitializeAccount2=16]=\"InitializeAccount2\",Eh[Eh.SyncNative=17]=\"SyncNative\",Eh[Eh.InitializeAccount3=18]=\"InitializeAccount3\",Eh[Eh.InitializeMultisig2=19]=\"InitializeMultisig2\",Eh[Eh.InitializeMint2=20]=\"InitializeMint2\",Eh[Eh.GetAccountDataSize=21]=\"GetAccountDataSize\",Eh[Eh.InitializeImmutableOwner=22]=\"InitializeImmutableOwner\",Eh[Eh.AmountToUiAmount=23]=\"AmountToUiAmount\",Eh[Eh.UiAmountToAmount=24]=\"UiAmountToAmount\",Eh);function Th(e){if(!e)throw new Error(\"Expected a Address.\");return\"object\"==typeof e&&\"address\"in e?e.address:Array.isArray(e)?e[0]:e}function kh(e,t){return t=>{if(!t.value)return Object.freeze({address:e,role:Wc.READONLY});const n=t.isWritable?Wc.WRITABLE:Wc.READONLY;return Object.freeze({address:Th(t.value),role:Ih(t.value)?Zc(n):n,...Ih(t.value)?{signer:t.value}:{}})}}function Ih(e){return!!e&&\"object\"==typeof e&&\"address\"in e&&Vl(e)}function _h(){return zu([[\"discriminator\",Fc()],[\"amount\",Lc()]])}function Ch(){return zu([[\"discriminator\",Fc()],[\"amount\",Lc()]])}function Rh(){return zu([[\"discriminator\",Fc()],[\"amount\",Lc()],[\"decimals\",Fc()]])}function Ph(){return zu([[\"discriminator\",Fc()],[\"amount\",Lc()]])}function Oh(){return zu([[\"discriminator\",Fc()],[\"amount\",Lc()],[\"decimals\",Fc()]])}function Nh(){return zu([[\"discriminator\",Fc()]])}async function Bh(e,t={}){const{programAddress:n=\"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL\"}=t;return await Ys({programAddress:n,seeds:[Ms().encode(e.owner),Ms().encode(e.tokenProgram),Ms().encode(e.mint)]})}var zh=1;function Mh(){return ss(Bu([[\"discriminator\",$c()]]),(e=>({...e,discriminator:zh})))}function jh(e,t){const n=t?.programAddress??vh,r={payer:{value:e.payer??null,isWritable:!0},ata:{value:e.ata??null,isWritable:!0},owner:{value:e.owner??null,isWritable:!1},mint:{value:e.mint??null,isWritable:!1},systemProgram:{value:e.systemProgram??null,isWritable:!1},tokenProgram:{value:e.tokenProgram??null,isWritable:!1}};r.tokenProgram.value||(r.tokenProgram.value=\"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA\"),r.systemProgram.value||(r.systemProgram.value=\"11111111111111111111111111111111\");const o=kh(n);return{accounts:[o(r.payer),o(r.ata),o(r.owner),o(r.mint),o(r.systemProgram),o(r.tokenProgram)],programAddress:n,data:Mh().encode({})}}function Uh(){return zu([[\"discriminator\",Fc()]])}function Dh(){return zu([[\"discriminator\",Fc()]])}function Lh(){return zu([[\"discriminator\",Fc()]])}function $h(){return zu([[\"discriminator\",Fc()],[\"owner\",js()]])}function Fh(){return zu([[\"discriminator\",Fc()],[\"owner\",js()]])}function qh(){return zu([[\"discriminator\",Fc()]])}function Wh(){return zu([[\"discriminator\",Fc()],[\"decimals\",Fc()],[\"mintAuthority\",js()],[\"freezeAuthority\",dh(js())]])}function Vh(){return zu([[\"discriminator\",Fc()],[\"decimals\",Fc()],[\"mintAuthority\",js()],[\"freezeAuthority\",dh(js())]])}function Kh(){return zu([[\"discriminator\",Fc()],[\"m\",Fc()]])}function Gh(){return zu([[\"discriminator\",Fc()],[\"m\",Fc()]])}function Hh(){return zu([[\"discriminator\",Fc()],[\"amount\",Lc()]])}function Jh(){return zu([[\"discriminator\",Fc()],[\"amount\",Lc()],[\"decimals\",Fc()]])}function Zh(){return zu([[\"discriminator\",Fc()]])}function Yh(){return zu([[\"discriminator\",Fc()],[\"authorityType\",mh()],[\"newAuthority\",dh(js())]])}function Xh(){return zu([[\"discriminator\",Fc()]])}function Qh(){return zu([[\"discriminator\",Fc()]])}var ep=3;function tp(){return ss(Bu([[\"discriminator\",$c()],[\"amount\",Dc()]]),(e=>({...e,discriminator:ep})))}function np(){return zu([[\"discriminator\",Fc()],[\"amount\",Lc()]])}function rp(e,t){const n=t?.programAddress??bh,r={source:{value:e.source??null,isWritable:!0},destination:{value:e.destination??null,isWritable:!0},authority:{value:e.authority??null,isWritable:!1}},o={...e},i=(o.multiSigners??[]).map((e=>({address:e.address,role:Wc.READONLY_SIGNER,signer:e}))),a=kh(n);return{accounts:[a(r.source),a(r.destination),a(r.authority),...i],programAddress:n,data:tp().encode(o)}}function op(){return zu([[\"discriminator\",Fc()],[\"amount\",Lc()],[\"decimals\",Fc()]])}function ip(){return zu([[\"discriminator\",Fc()],[\"uiAmount\",_s()]])}var ap=(e=>(e[e.Uninitialized=0]=\"Uninitialized\",e[e.Initialized=1]=\"Initialized\",e[e.Frozen=2]=\"Frozen\",e))(ap||{});function sp(){return Ru(ap)}var cp=(e=>(e[e.MintTokens=0]=\"MintTokens\",e[e.FreezeAccount=1]=\"FreezeAccount\",e[e.AccountOwner=2]=\"AccountOwner\",e[e.CloseAccount=3]=\"CloseAccount\",e[e.TransferFeeConfig=4]=\"TransferFeeConfig\",e[e.WithheldWithdraw=5]=\"WithheldWithdraw\",e[e.CloseMint=6]=\"CloseMint\",e[e.InterestRate=7]=\"InterestRate\",e[e.PermanentDelegate=8]=\"PermanentDelegate\",e[e.ConfidentialTransferMint=9]=\"ConfidentialTransferMint\",e[e.TransferHookProgramId=10]=\"TransferHookProgramId\",e[e.ConfidentialTransferFeeConfig=11]=\"ConfidentialTransferFeeConfig\",e[e.MetadataPointer=12]=\"MetadataPointer\",e[e.GroupPointer=13]=\"GroupPointer\",e[e.GroupMemberPointer=14]=\"GroupMemberPointer\",e[e.ScaledUiAmount=15]=\"ScaledUiAmount\",e[e.Pause=16]=\"Pause\",e))(cp||{});function up(){return Ru(cp)}function lp(){return ns(pu(),36)}var dp,fp=((dp=fp||{})[dp.Uninitialized=0]=\"Uninitialized\",dp[dp.TransferFeeConfig=1]=\"TransferFeeConfig\",dp[dp.TransferFeeAmount=2]=\"TransferFeeAmount\",dp[dp.MintCloseAuthority=3]=\"MintCloseAuthority\",dp[dp.ConfidentialTransferMint=4]=\"ConfidentialTransferMint\",dp[dp.ConfidentialTransferAccount=5]=\"ConfidentialTransferAccount\",dp[dp.DefaultAccountState=6]=\"DefaultAccountState\",dp[dp.ImmutableOwner=7]=\"ImmutableOwner\",dp[dp.MemoTransfer=8]=\"MemoTransfer\",dp[dp.NonTransferable=9]=\"NonTransferable\",dp[dp.InterestBearingConfig=10]=\"InterestBearingConfig\",dp[dp.CpiGuard=11]=\"CpiGuard\",dp[dp.PermanentDelegate=12]=\"PermanentDelegate\",dp[dp.NonTransferableAccount=13]=\"NonTransferableAccount\",dp[dp.TransferHook=14]=\"TransferHook\",dp[dp.TransferHookAccount=15]=\"TransferHookAccount\",dp[dp.ConfidentialTransferFee=16]=\"ConfidentialTransferFee\",dp[dp.ConfidentialTransferFeeAmount=17]=\"ConfidentialTransferFeeAmount\",dp[dp.ScaledUiAmountConfig=18]=\"ScaledUiAmountConfig\",dp[dp.PausableConfig=19]=\"PausableConfig\",dp[dp.PausableAccount=20]=\"PausableAccount\",dp[dp.MetadataPointer=21]=\"MetadataPointer\",dp[dp.TokenMetadata=22]=\"TokenMetadata\",dp[dp.GroupPointer=23]=\"GroupPointer\",dp[dp.TokenGroup=24]=\"TokenGroup\",dp[dp.GroupMemberPointer=25]=\"GroupMemberPointer\",dp[dp.TokenGroupMember=26]=\"TokenGroupMember\",dp);function hp(){return Ru(fp,{size:Mc()})}function pp(){return Tu([[\"Name\",Nu()],[\"Symbol\",Nu()],[\"Uri\",Nu()],[\"Key\",zu([[\"fields\",wu([es(_s(),Uc())])]])]])}var gp=(e=>(e[e.CreateAssociatedToken=0]=\"CreateAssociatedToken\",e[e.CreateAssociatedTokenIdempotent=1]=\"CreateAssociatedTokenIdempotent\",e[e.RecoverNestedAssociatedToken=2]=\"RecoverNestedAssociatedToken\",e))(gp||{});var mp,yp=\"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb\",vp=((mp=vp||{})[mp.Mint=0]=\"Mint\",mp[mp.Token=1]=\"Token\",mp[mp.Multisig=2]=\"Multisig\",mp);var wp,Ap=((wp=Ap||{})[wp.InitializeMint=0]=\"InitializeMint\",wp[wp.InitializeAccount=1]=\"InitializeAccount\",wp[wp.InitializeMultisig=2]=\"InitializeMultisig\",wp[wp.Transfer=3]=\"Transfer\",wp[wp.Approve=4]=\"Approve\",wp[wp.Revoke=5]=\"Revoke\",wp[wp.SetAuthority=6]=\"SetAuthority\",wp[wp.MintTo=7]=\"MintTo\",wp[wp.Burn=8]=\"Burn\",wp[wp.CloseAccount=9]=\"CloseAccount\",wp[wp.FreezeAccount=10]=\"FreezeAccount\",wp[wp.ThawAccount=11]=\"ThawAccount\",wp[wp.TransferChecked=12]=\"TransferChecked\",wp[wp.ApproveChecked=13]=\"ApproveChecked\",wp[wp.MintToChecked=14]=\"MintToChecked\",wp[wp.BurnChecked=15]=\"BurnChecked\",wp[wp.InitializeAccount2=16]=\"InitializeAccount2\",wp[wp.SyncNative=17]=\"SyncNative\",wp[wp.InitializeAccount3=18]=\"InitializeAccount3\",wp[wp.InitializeMultisig2=19]=\"InitializeMultisig2\",wp[wp.InitializeMint2=20]=\"InitializeMint2\",wp[wp.GetAccountDataSize=21]=\"GetAccountDataSize\",wp[wp.InitializeImmutableOwner=22]=\"InitializeImmutableOwner\",wp[wp.AmountToUiAmount=23]=\"AmountToUiAmount\",wp[wp.UiAmountToAmount=24]=\"UiAmountToAmount\",wp[wp.InitializeMintCloseAuthority=25]=\"InitializeMintCloseAuthority\",wp[wp.InitializeTransferFeeConfig=26]=\"InitializeTransferFeeConfig\",wp[wp.TransferCheckedWithFee=27]=\"TransferCheckedWithFee\",wp[wp.WithdrawWithheldTokensFromMint=28]=\"WithdrawWithheldTokensFromMint\",wp[wp.WithdrawWithheldTokensFromAccounts=29]=\"WithdrawWithheldTokensFromAccounts\",wp[wp.HarvestWithheldTokensToMint=30]=\"HarvestWithheldTokensToMint\",wp[wp.SetTransferFee=31]=\"SetTransferFee\",wp[wp.InitializeConfidentialTransferMint=32]=\"InitializeConfidentialTransferMint\",wp[wp.UpdateConfidentialTransferMint=33]=\"UpdateConfidentialTransferMint\",wp[wp.ConfigureConfidentialTransferAccount=34]=\"ConfigureConfidentialTransferAccount\",wp[wp.ApproveConfidentialTransferAccount=35]=\"ApproveConfidentialTransferAccount\",wp[wp.EmptyConfidentialTransferAccount=36]=\"EmptyConfidentialTransferAccount\",wp[wp.ConfidentialDeposit=37]=\"ConfidentialDeposit\",wp[wp.ConfidentialWithdraw=38]=\"ConfidentialWithdraw\",wp[wp.ConfidentialTransfer=39]=\"ConfidentialTransfer\",wp[wp.ApplyConfidentialPendingBalance=40]=\"ApplyConfidentialPendingBalance\",wp[wp.EnableConfidentialCredits=41]=\"EnableConfidentialCredits\",wp[wp.DisableConfidentialCredits=42]=\"DisableConfidentialCredits\",wp[wp.EnableNonConfidentialCredits=43]=\"EnableNonConfidentialCredits\",wp[wp.DisableNonConfidentialCredits=44]=\"DisableNonConfidentialCredits\",wp[wp.ConfidentialTransferWithFee=45]=\"ConfidentialTransferWithFee\",wp[wp.InitializeDefaultAccountState=46]=\"InitializeDefaultAccountState\",wp[wp.UpdateDefaultAccountState=47]=\"UpdateDefaultAccountState\",wp[wp.Reallocate=48]=\"Reallocate\",wp[wp.EnableMemoTransfers=49]=\"EnableMemoTransfers\",wp[wp.DisableMemoTransfers=50]=\"DisableMemoTransfers\",wp[wp.CreateNativeMint=51]=\"CreateNativeMint\",wp[wp.InitializeNonTransferableMint=52]=\"InitializeNonTransferableMint\",wp[wp.InitializeInterestBearingMint=53]=\"InitializeInterestBearingMint\",wp[wp.UpdateRateInterestBearingMint=54]=\"UpdateRateInterestBearingMint\",wp[wp.EnableCpiGuard=55]=\"EnableCpiGuard\",wp[wp.DisableCpiGuard=56]=\"DisableCpiGuard\",wp[wp.InitializePermanentDelegate=57]=\"InitializePermanentDelegate\",wp[wp.InitializeTransferHook=58]=\"InitializeTransferHook\",wp[wp.UpdateTransferHook=59]=\"UpdateTransferHook\",wp[wp.InitializeConfidentialTransferFee=60]=\"InitializeConfidentialTransferFee\",wp[wp.WithdrawWithheldTokensFromMintForConfidentialTransferFee=61]=\"WithdrawWithheldTokensFromMintForConfidentialTransferFee\",wp[wp.WithdrawWithheldTokensFromAccountsForConfidentialTransferFee=62]=\"WithdrawWithheldTokensFromAccountsForConfidentialTransferFee\",wp[wp.HarvestWithheldTokensToMintForConfidentialTransferFee=63]=\"HarvestWithheldTokensToMintForConfidentialTransferFee\",wp[wp.EnableHarvestToMint=64]=\"EnableHarvestToMint\",wp[wp.DisableHarvestToMint=65]=\"DisableHarvestToMint\",wp[wp.WithdrawExcessLamports=66]=\"WithdrawExcessLamports\",wp[wp.InitializeMetadataPointer=67]=\"InitializeMetadataPointer\",wp[wp.UpdateMetadataPointer=68]=\"UpdateMetadataPointer\",wp[wp.InitializeGroupPointer=69]=\"InitializeGroupPointer\",wp[wp.UpdateGroupPointer=70]=\"UpdateGroupPointer\",wp[wp.InitializeGroupMemberPointer=71]=\"InitializeGroupMemberPointer\",wp[wp.UpdateGroupMemberPointer=72]=\"UpdateGroupMemberPointer\",wp[wp.InitializeScaledUiAmountMint=73]=\"InitializeScaledUiAmountMint\",wp[wp.UpdateMultiplierScaledUiMint=74]=\"UpdateMultiplierScaledUiMint\",wp[wp.InitializePausableConfig=75]=\"InitializePausableConfig\",wp[wp.Pause=76]=\"Pause\",wp[wp.Resume=77]=\"Resume\",wp[wp.InitializeTokenMetadata=78]=\"InitializeTokenMetadata\",wp[wp.UpdateTokenMetadataField=79]=\"UpdateTokenMetadataField\",wp[wp.RemoveTokenMetadataKey=80]=\"RemoveTokenMetadataKey\",wp[wp.UpdateTokenMetadataUpdateAuthority=81]=\"UpdateTokenMetadataUpdateAuthority\",wp[wp.EmitTokenMetadata=82]=\"EmitTokenMetadata\",wp[wp.InitializeTokenGroup=83]=\"InitializeTokenGroup\",wp[wp.UpdateTokenGroupMaxSize=84]=\"UpdateTokenGroupMaxSize\",wp[wp.UpdateTokenGroupUpdateAuthority=85]=\"UpdateTokenGroupUpdateAuthority\",wp[wp.InitializeTokenGroupMember=86]=\"InitializeTokenGroupMember\",wp);function bp(){return zu([[\"discriminator\",Fc()],[\"amount\",Lc()]])}function Sp(){return zu([[\"discriminator\",Fc()],[\"confidentialTransferDiscriminator\",Fc()],[\"expectedPendingBalanceCreditCounter\",Lc()],[\"newDecryptableAvailableBalance\",lp()]])}function Ep(){return zu([[\"discriminator\",Fc()],[\"amount\",Lc()]])}function xp(){return zu([[\"discriminator\",Fc()],[\"amount\",Lc()],[\"decimals\",Fc()]])}function Tp(){return zu([[\"discriminator\",Fc()],[\"confidentialTransferDiscriminator\",Fc()]])}function kp(){return zu([[\"discriminator\",Fc()],[\"amount\",Lc()]])}function Ip(){return zu([[\"discriminator\",Fc()],[\"amount\",Lc()],[\"decimals\",Fc()]])}function _p(){return zu([[\"discriminator\",Fc()]])}function Cp(){return zu([[\"discriminator\",Fc()],[\"confidentialTransferDiscriminator\",Fc()],[\"amount\",Lc()],[\"decimals\",Fc()]])}function Rp(){return zu([[\"discriminator\",Fc()],[\"confidentialTransferDiscriminator\",Fc()],[\"newSourceDecryptableAvailableBalance\",lp()],[\"equalityProofInstructionOffset\",Nc()],[\"ciphertextValidityProofInstructionOffset\",Nc()],[\"rangeProofInstructionOffset\",Nc()]])}function Pp(){return zu([[\"discriminator\",Fc()],[\"confidentialTransferDiscriminator\",Fc()],[\"newSourceDecryptableAvailableBalance\",lp()],[\"equalityProofInstructionOffset\",Nc()],[\"transferAmountCiphertextValidityProofInstructionOffset\",Nc()],[\"feeSigmaProofInstructionOffset\",Nc()],[\"feeCiphertextValidityProofInstructionOffset\",Nc()],[\"rangeProofInstructionOffset\",Nc()]])}function Op(){return zu([[\"discriminator\",Fc()],[\"confidentialTransferDiscriminator\",Fc()],[\"amount\",Lc()],[\"decimals\",Fc()],[\"newDecryptableAvailableBalance\",lp()],[\"equalityProofInstructionOffset\",Nc()],[\"rangeProofInstructionOffset\",Nc()]])}function Np(){return zu([[\"discriminator\",Fc()],[\"confidentialTransferDiscriminator\",Fc()],[\"decryptableZeroBalance\",lp()],[\"maximumPendingBalanceCreditCounter\",Lc()],[\"proofInstructionOffset\",Nc()]])}function Bp(){return zu([[\"discriminator\",Fc()]])}function zp(){return zu([[\"discriminator\",Fc()]])}function Mp(){return zu([[\"discriminator\",Fc()]])}function jp(){return zu([[\"discriminator\",Fc()],[\"confidentialTransferDiscriminator\",Fc()]])}function Up(){return zu([[\"discriminator\",Fc()],[\"cpiGuardDiscriminator\",Fc()]])}function Dp(){return zu([[\"discriminator\",Fc()],[\"confidentialTransferFeeDiscriminator\",Fc()]])}function Lp(){return zu([[\"discriminator\",Fc()],[\"memoTransfersDiscriminator\",Fc()]])}function $p(){return zu([[\"discriminator\",Fc()],[\"confidentialTransferDiscriminator\",Fc()]])}new Uint8Array([250,166,180,250,13,12,184,70]);function Fp(){return zu([[\"discriminator\",pu()],[\"start\",dh(Lc())],[\"end\",dh(Lc())]])}function qp(){return zu([[\"discriminator\",Fc()],[\"confidentialTransferDiscriminator\",Fc()],[\"proofInstructionOffset\",Nc()]])}function Wp(){return zu([[\"discriminator\",Fc()],[\"confidentialTransferDiscriminator\",Fc()]])}function Vp(){return zu([[\"discriminator\",Fc()],[\"cpiGuardDiscriminator\",Fc()]])}function Kp(){return zu([[\"discriminator\",Fc()],[\"confidentialTransferFeeDiscriminator\",Fc()]])}function Gp(){return zu([[\"discriminator\",Fc()],[\"memoTransfersDiscriminator\",Fc()]])}function Hp(){return zu([[\"discriminator\",Fc()],[\"confidentialTransferDiscriminator\",Fc()]])}function Jp(){return zu([[\"discriminator\",Fc()]])}function Zp(){return zu([[\"discriminator\",Fc()]])}function Yp(){return zu([[\"discriminator\",Fc()],[\"transferFeeDiscriminator\",Fc()]])}function Xp(){return zu([[\"discriminator\",Fc()],[\"confidentialTransferFeeDiscriminator\",Fc()]])}function Qp(){return zu([[\"discriminator\",Fc()]])}function eg(){return zu([[\"discriminator\",Fc()],[\"owner\",js()]])}function tg(){return zu([[\"discriminator\",Fc()],[\"owner\",js()]])}function ng(){return zu([[\"discriminator\",Fc()],[\"confidentialTransferFeeDiscriminator\",Fc()],[\"authority\",dh(js(),{prefix:null,noneValue:\"zeroes\"})],[\"withdrawWithheldAuthorityElGamalPubkey\",dh(js(),{prefix:null,noneValue:\"zeroes\"})]])}function rg(){return zu([[\"discriminator\",Fc()],[\"confidentialTransferDiscriminator\",Fc()],[\"authority\",dh(js(),{prefix:null,noneValue:\"zeroes\"})],[\"autoApproveNewAccounts\",fu()],[\"auditorElgamalPubkey\",dh(js(),{prefix:null,noneValue:\"zeroes\"})]])}function og(){return zu([[\"discriminator\",Fc()],[\"defaultAccountStateDiscriminator\",Fc()],[\"state\",sp()]])}function ig(){return zu([[\"discriminator\",Fc()],[\"groupMemberPointerDiscriminator\",Fc()],[\"authority\",dh(js(),{prefix:null,noneValue:\"zeroes\"})],[\"memberAddress\",dh(js(),{prefix:null,noneValue:\"zeroes\"})]])}function ag(){return zu([[\"discriminator\",Fc()],[\"groupPointerDiscriminator\",Fc()],[\"authority\",dh(js(),{prefix:null,noneValue:\"zeroes\"})],[\"groupAddress\",dh(js(),{prefix:null,noneValue:\"zeroes\"})]])}function sg(){return zu([[\"discriminator\",Fc()]])}function cg(){return zu([[\"discriminator\",Fc()],[\"interestBearingMintDiscriminator\",Fc()],[\"rateAuthority\",dh(js(),{prefix:null,noneValue:\"zeroes\"})],[\"rate\",Pc()]])}function ug(){return zu([[\"discriminator\",Fc()],[\"metadataPointerDiscriminator\",Fc()],[\"authority\",dh(js(),{prefix:null,noneValue:\"zeroes\"})],[\"metadataAddress\",dh(js(),{prefix:null,noneValue:\"zeroes\"})]])}function lg(){return zu([[\"discriminator\",Fc()],[\"decimals\",Fc()],[\"mintAuthority\",js()],[\"freezeAuthority\",dh(js())]])}function dg(){return zu([[\"discriminator\",Fc()],[\"decimals\",Fc()],[\"mintAuthority\",js()],[\"freezeAuthority\",dh(js())]])}function fg(){return zu([[\"discriminator\",Fc()],[\"closeAuthority\",dh(js())]])}function hg(){return zu([[\"discriminator\",Fc()],[\"m\",Fc()]])}function pg(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{multisig:n(),rent:n()},data:hg().decode(e.data)}}function gg(){return zu([[\"discriminator\",Fc()]])}function mg(){return zu([[\"discriminator\",Fc()],[\"pausableDiscriminator\",Fc()],[\"authority\",dh(js(),{prefix:null,noneValue:\"zeroes\"})]])}function yg(){return zu([[\"discriminator\",Fc()],[\"delegate\",js()]])}function vg(){return zu([[\"discriminator\",Fc()],[\"scaledUiAmountMintDiscriminator\",Fc()],[\"authority\",dh(js(),{prefix:null,noneValue:\"zeroes\"})],[\"multiplier\",Rc()]])}new Uint8Array([121,113,108,39,54,51,0,4]);function wg(){return zu([[\"discriminator\",pu()],[\"updateAuthority\",dh(js(),{prefix:null,noneValue:\"zeroes\"})],[\"maxSize\",Lc()]])}new Uint8Array([152,32,222,176,223,237,116,134]);function Ag(){return zu([[\"discriminator\",pu()]])}new Uint8Array([210,225,30,162,88,184,77,141]);function bg(){return zu([[\"discriminator\",pu()],[\"name\",es(_s(),Uc())],[\"symbol\",es(_s(),Uc())],[\"uri\",es(_s(),Uc())]])}function Sg(){return zu([[\"discriminator\",Fc()],[\"transferFeeDiscriminator\",Fc()],[\"transferFeeConfigAuthority\",dh(js())],[\"withdrawWithheldAuthority\",dh(js())],[\"transferFeeBasisPoints\",Mc()],[\"maximumFee\",Lc()]])}function Eg(){return zu([[\"discriminator\",Fc()],[\"transferHookDiscriminator\",Fc()],[\"authority\",dh(js(),{prefix:null,noneValue:\"zeroes\"})],[\"programId\",dh(js(),{prefix:null,noneValue:\"zeroes\"})]])}function xg(){return zu([[\"discriminator\",Fc()],[\"amount\",Lc()]])}function Tg(){return zu([[\"discriminator\",Fc()],[\"amount\",Lc()],[\"decimals\",Fc()]])}function kg(){return zu([[\"discriminator\",Fc()],[\"pausableDiscriminator\",Fc()]])}function Ig(){return zu([[\"discriminator\",Fc()],[\"newExtensionTypes\",uu(hp(),{size:\"remainder\"})]])}function _g(){return zu([[\"discriminator\",Fc()]])}new Uint8Array([234,18,32,56,89,141,37,181]);function Cg(){return zu([[\"discriminator\",pu()],[\"idempotent\",fu()],[\"key\",es(_s(),Uc())]])}function Rg(){return zu([[\"discriminator\",Fc()],[\"pausableDiscriminator\",Fc()]])}function Pg(){return zu([[\"discriminator\",Fc()]])}function Og(){return zu([[\"discriminator\",Fc()],[\"authorityType\",up()],[\"newAuthority\",dh(js())]])}function Ng(){return zu([[\"discriminator\",Fc()],[\"transferFeeDiscriminator\",Fc()],[\"transferFeeBasisPoints\",Mc()],[\"maximumFee\",Lc()]])}function Bg(){return zu([[\"discriminator\",Fc()]])}function zg(){return zu([[\"discriminator\",Fc()]])}function Mg(){return zu([[\"discriminator\",Fc()],[\"amount\",Lc()]])}function jg(){return zu([[\"discriminator\",Fc()],[\"amount\",Lc()],[\"decimals\",Fc()]])}function Ug(){return zu([[\"discriminator\",Fc()],[\"transferFeeDiscriminator\",Fc()],[\"amount\",Lc()],[\"decimals\",Fc()],[\"fee\",Lc()]])}function Dg(){return zu([[\"discriminator\",Fc()],[\"uiAmount\",_s()]])}function Lg(){return zu([[\"discriminator\",Fc()],[\"confidentialTransferDiscriminator\",Fc()],[\"autoApproveNewAccounts\",fu()],[\"auditorElgamalPubkey\",dh(js(),{prefix:null,noneValue:\"zeroes\"})]])}function $g(){return zu([[\"discriminator\",Fc()],[\"defaultAccountStateDiscriminator\",Fc()],[\"state\",sp()]])}function Fg(){return zu([[\"discriminator\",Fc()],[\"groupMemberPointerDiscriminator\",Fc()],[\"memberAddress\",dh(js(),{prefix:null,noneValue:\"zeroes\"})]])}function qg(){return zu([[\"discriminator\",Fc()],[\"groupPointerDiscriminator\",Fc()],[\"groupAddress\",dh(js(),{prefix:null,noneValue:\"zeroes\"})]])}function Wg(){return zu([[\"discriminator\",Fc()],[\"metadataPointerDiscriminator\",Fc()],[\"metadataAddress\",dh(js(),{prefix:null,noneValue:\"zeroes\"})]])}function Vg(){return zu([[\"discriminator\",Fc()],[\"scaledUiAmountMintDiscriminator\",Fc()],[\"multiplier\",Rc()],[\"effectiveTimestamp\",Oc()]])}function Kg(){return zu([[\"discriminator\",Fc()],[\"interestBearingMintDiscriminator\",Fc()],[\"rate\",Pc()]])}new Uint8Array([108,37,171,143,248,30,18,110]);function Gg(){return zu([[\"discriminator\",pu()],[\"maxSize\",Lc()]])}new Uint8Array([161,105,88,1,237,221,216,203]);function Hg(){return zu([[\"discriminator\",pu()],[\"newUpdateAuthority\",dh(js(),{prefix:null,noneValue:\"zeroes\"})]])}new Uint8Array([221,233,49,45,181,202,220,200]);function Jg(){return zu([[\"discriminator\",pu()],[\"field\",pp()],[\"value\",es(_s(),Uc())]])}new Uint8Array([215,228,166,228,84,100,86,123]);function Zg(){return zu([[\"discriminator\",pu()],[\"newUpdateAuthority\",dh(js(),{prefix:null,noneValue:\"zeroes\"})]])}function Yg(){return zu([[\"discriminator\",Fc()],[\"transferHookDiscriminator\",Fc()],[\"programId\",dh(js(),{prefix:null,noneValue:\"zeroes\"})]])}function Xg(){return zu([[\"discriminator\",Fc()]])}function Qg(){return zu([[\"discriminator\",Fc()],[\"transferFeeDiscriminator\",Fc()],[\"numTokenAccounts\",Fc()]])}function em(){return zu([[\"discriminator\",Fc()],[\"confidentialTransferFeeDiscriminator\",Fc()],[\"numTokenAccounts\",Fc()],[\"proofInstructionOffset\",Nc()],[\"newDecryptableAvailableBalance\",lp()]])}function tm(){return zu([[\"discriminator\",Fc()],[\"transferFeeDiscriminator\",Fc()]])}function nm(){return zu([[\"discriminator\",Fc()],[\"confidentialTransferFeeDiscriminator\",Fc()],[\"proofInstructionOffset\",Nc()],[\"newDecryptableAvailableBalance\",lp()]])}function rm(e){return!(\"exists\"in e)||\"exists\"in e&&e.exists}function om(e,t){if(!t)return Object.freeze({address:e,exists:!1});const n=Ss().encode(t.data[0]);return Object.freeze({...am(t),address:e,data:n,exists:!0})}function im(e,t){if(!t)return Object.freeze({address:e,exists:!1});const n=t.data.parsed.info;return Object.freeze({...am(t),address:e,data:n,exists:!0})}function am(e){return Object.freeze({executable:e.executable,lamports:e.lamports,programAddress:e.owner,space:e.space})}async function sm(e,t,n={}){const{abortSignal:r,...o}=n;return om(t,(await e.getAccountInfo(t,{...o,encoding:\"base64\"}).send({abortSignal:r})).value)}async function cm(e,t,n={}){const{abortSignal:r,...o}=n;return(await e.getMultipleAccounts(t,{...o,encoding:\"base64\"}).send({abortSignal:r})).value.map(((e,n)=>om(t[n],e)))}var um=\"ComputeBudget111111111111111111111111111111\",lm={blockhash:\"11111111111111111111111111111111\",lastValidBlockHeight:0n},dm=2;function fm(e){return function(e,t){return e.programAddress===t}(e,um)&&function(e){return void 0!==e.data}(e)&&e.data[0]===dm}async function hm({abortSignal:e,rpc:t,transactionMessage:n,...r}){const o=kl(n);let i;i=o||Fu(n)?n:qu(lm,n);const a=n.instructions.findIndex(fm),s=function(e){const t=new Uint8Array(5);return t[0]=dm,jc().write(e,t,1),Object.freeze({data:t,programAddress:um})}(14e5);if(-1===a)i=_l(s,i);else{const e=[...i.instructions];e.splice(a,1,s),i=Object.freeze({...i,instructions:e})}const c=Ll(Ml(i));try{const{value:{err:n,unitsConsumed:i}}=await t.simulateTransaction(c,{...r,encoding:\"base64\",replaceRecentBlockhash:!o,sigVerify:!1}).send({abortSignal:e});if(null==i)throw new Ba(oa);const a=i>4294967295n?4294967295:Number(i);if(n)throw new Ba(ia,{cause:n,unitsConsumed:a});return a}catch(e){if(Na(e,ia))throw e;throw new Ba(oa,{cause:e})}}function pm({rpc:e}){return async function(t,n){return await hm({...n,rpc:e,transactionMessage:t})}}async function gm(e,t,n){if(0===e.length)return{};const r=await async function(e,t,n={}){const{abortSignal:r,...o}=n;return(await e.getMultipleAccounts(t,{...o,encoding:\"jsonParsed\"}).send({abortSignal:r})).value.map(((e,n)=>e&&\"object\"==typeof e&&\"parsed\"in e.data?im(t[n],e):om(t[n],e)))}(t,e,n);return function(e){const t=e.filter((e=>rm(e)&&e.data instanceof Uint8Array));if(t.length>0){const e=t.map((e=>e.address));throw new Ba(Oi,{addresses:e})}}(r),function(e){const t=e.filter((e=>!e.exists));if(t.length>0){const e=t.map((e=>e.address));throw new Ba(Pi,{addresses:e})}}(r),r.reduce(((e,t)=>({...e,[t.address]:t.data.addresses})),{})}async function mm(e,t,n){const r=(\"addressTableLookups\"in e&&void 0!==e.addressTableLookups&&e.addressTableLookups.length>0?e.addressTableLookups:[]).map((e=>e.lookupTableAddress)),{lastValidBlockHeight:o,...i}=n??{};return Pl(e,{addressesByLookupTableAddress:r.length>0?await gm(r,t,i):{},lastValidBlockHeight:o})}function ym(e,t){return!t?.preflightCommitment&&function(e,t){return e===t?0:Uu(e)<Uu(t)?-1:1}(e,\"finalized\")<0?{...t,preflightCommitment:e}:t}async function vm({abortSignal:e,commitment:t,rpc:n,transaction:r,...o}){const i=Ll(r);return await n.sendTransaction(i,{...ym(t,o),encoding:\"base64\"}).send({abortSignal:e})}const wm=async(e,t,n)=>$u(e,Ss().encode,fl().decode,(async e=>mm(e,t,n))),Am=async(e,t,n)=>$u(e,fl().decode,(async e=>mm(e,t,n))),bm=async e=>$u(e,Ss().encode,Bl().decode),Sm=async(e,t,n)=>(async e=>new Promise(((t,n)=>{if(0===e.length)return void n(new AggregateError([],\"No promises to resolve\"));let r=0;const o=[];e.forEach(((i,a)=>{Promise.resolve(i).then((e=>t(e)),(t=>{o[a]=t,r+=1,r===e.length&&n(new AggregateError(o,\"All promises rejected\"))}))}))})))([bm(e),wm(e,t,n)]);const Em={[cd]:{identifier:function(e){const t=\"data\"in e?e.data:e;if(qa(t,jc().encode(0),0))return 0;if(qa(t,jc().encode(1),0))return 1;if(qa(t,jc().encode(2),0))return 2;if(qa(t,jc().encode(3),0))return 3;if(qa(t,jc().encode(4),0))return 4;if(qa(t,jc().encode(5),0))return 5;if(qa(t,jc().encode(6),0))return 6;if(qa(t,jc().encode(7),0))return 7;if(qa(t,jc().encode(8),0))return 8;if(qa(t,jc().encode(9),0))return 9;if(qa(t,jc().encode(10),0))return 10;if(qa(t,jc().encode(11),0))return 11;if(qa(t,jc().encode(12),0))return 12;throw new Error(\"The provided instruction could not be identified as a system instruction.\")},instructionEnum:ld,typeToParserMap:{[ld.Assign]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{account:(()=>{const n=e.accounts[t];return t+=1,n})()},data:yd().decode(e.data)}},[ld.TransferSol]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),destination:n()},data:Td().decode(e.data)}},[ld.CreateAccount]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{payer:n(),newAccount:n()},data:Ad().decode(e.data)}},[ld.CreateAccountWithSeed]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{payer:n(),newAccount:n(),baseAccount:n()},data:bd().decode(e.data)}},[ld.AdvanceNonceAccount]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{nonceAccount:n(),recentBlockhashesSysvar:n(),nonceAuthority:n()},data:pd().decode(e.data)}},[ld.WithdrawNonceAccount]:function(e){if(e.accounts.length<5)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{nonceAccount:n(),recipientAccount:n(),recentBlockhashesSysvar:n(),rentSysvar:n(),nonceAuthority:n()},data:_d().decode(e.data)}},[ld.InitializeNonceAccount]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{nonceAccount:n(),recentBlockhashesSysvar:n(),rentSysvar:n()},data:Sd().decode(e.data)}},[ld.AuthorizeNonceAccount]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{nonceAccount:n(),nonceAuthority:n()},data:wd().decode(e.data)}},[ld.Allocate]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{newAccount:(()=>{const n=e.accounts[t];return t+=1,n})()},data:gd().decode(e.data)}},[ld.AllocateWithSeed]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{newAccount:n(),baseAccount:n()},data:md().decode(e.data)}},[ld.AssignWithSeed]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),baseAccount:n()},data:vd().decode(e.data)}},[ld.TransferSolWithSeed]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),baseAccount:n(),destination:n()},data:kd().decode(e.data)}},[ld.UpgradeNonceAccount]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{nonceAccount:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Id().decode(e.data)}}}},[Vf]:{identifier:Gf,instructionEnum:Kf,typeToParserMap:{[Kf.RequestUnits]:function(e){return{programAddress:e.programAddress,data:Jf().decode(e.data)}},[Kf.RequestHeapFrame]:function(e){return{programAddress:e.programAddress,data:Hf().decode(e.data)}},[Kf.SetComputeUnitPrice]:function(e){return{programAddress:e.programAddress,data:nh().decode(e.data)}},[Kf.SetComputeUnitLimit]:function(e){return{programAddress:e.programAddress,data:Xf().decode(e.data)}},[Kf.SetLoadedAccountsDataSizeLimit]:function(e){return{programAddress:e.programAddress,data:oh().decode(e.data)}}}},[bh]:{identifier:function(e){const t=\"data\"in e?e.data:e;if(qa(t,$c().encode(0),0))return 0;if(qa(t,$c().encode(1),0))return 1;if(qa(t,$c().encode(2),0))return 2;if(qa(t,$c().encode(3),0))return 3;if(qa(t,$c().encode(4),0))return 4;if(qa(t,$c().encode(5),0))return 5;if(qa(t,$c().encode(6),0))return 6;if(qa(t,$c().encode(7),0))return 7;if(qa(t,$c().encode(8),0))return 8;if(qa(t,$c().encode(9),0))return 9;if(qa(t,$c().encode(10),0))return 10;if(qa(t,$c().encode(11),0))return 11;if(qa(t,$c().encode(12),0))return 12;if(qa(t,$c().encode(13),0))return 13;if(qa(t,$c().encode(14),0))return 14;if(qa(t,$c().encode(15),0))return 15;if(qa(t,$c().encode(16),0))return 16;if(qa(t,$c().encode(17),0))return 17;if(qa(t,$c().encode(18),0))return 18;if(qa(t,$c().encode(19),0))return 19;if(qa(t,$c().encode(20),0))return 20;if(qa(t,$c().encode(21),0))return 21;if(qa(t,$c().encode(22),0))return 22;if(qa(t,$c().encode(23),0))return 23;if(qa(t,$c().encode(24),0))return 24;throw new Error(\"The provided instruction could not be identified as a token instruction.\")},instructionEnum:xh,typeToParserMap:{[xh.InitializeMint]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),rent:n()},data:Wh().decode(e.data)}},[xh.InitializeAccount]:function(e){if(e.accounts.length<4)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),owner:n(),rent:n()},data:Lh().decode(e.data)}},[xh.InitializeMultisig]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{multisig:n(),rent:n()},data:Kh().decode(e.data)}},[xh.Transfer]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),destination:n(),authority:n()},data:np().decode(e.data)}},[xh.Approve]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),delegate:n(),owner:n()},data:Ch().decode(e.data)}},[xh.Revoke]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),owner:n()},data:Zh().decode(e.data)}},[xh.SetAuthority]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{owned:n(),owner:n()},data:Yh().decode(e.data)}},[xh.MintTo]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),token:n(),mintAuthority:n()},data:Hh().decode(e.data)}},[xh.Burn]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),authority:n()},data:Ph().decode(e.data)}},[xh.CloseAccount]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),destination:n(),owner:n()},data:Nh().decode(e.data)}},[xh.FreezeAccount]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),owner:n()},data:Uh().decode(e.data)}},[xh.ThawAccount]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),owner:n()},data:Qh().decode(e.data)}},[xh.TransferChecked]:function(e){if(e.accounts.length<4)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),mint:n(),destination:n(),authority:n()},data:op().decode(e.data)}},[xh.ApproveChecked]:function(e){if(e.accounts.length<4)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),mint:n(),delegate:n(),owner:n()},data:Rh().decode(e.data)}},[xh.MintToChecked]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),token:n(),mintAuthority:n()},data:Jh().decode(e.data)}},[xh.BurnChecked]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),authority:n()},data:Oh().decode(e.data)}},[xh.InitializeAccount2]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),rent:n()},data:$h().decode(e.data)}},[xh.SyncNative]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{account:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Xh().decode(e.data)}},[xh.InitializeAccount3]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n()},data:Fh().decode(e.data)}},[xh.InitializeMultisig2]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{multisig:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Gh().decode(e.data)}},[xh.InitializeMint2]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Vh().decode(e.data)}},[xh.GetAccountDataSize]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Dh().decode(e.data)}},[xh.InitializeImmutableOwner]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{account:(()=>{const n=e.accounts[t];return t+=1,n})()},data:qh().decode(e.data)}},[xh.AmountToUiAmount]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:_h().decode(e.data)}},[xh.UiAmountToAmount]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:ip().decode(e.data)}}}},[yp]:{identifier:function(e){const t=\"data\"in e?e.data:e;if(qa(t,$c().encode(0),0))return 0;if(qa(t,$c().encode(1),0))return 1;if(qa(t,$c().encode(2),0))return 2;if(qa(t,$c().encode(3),0))return 3;if(qa(t,$c().encode(4),0))return 4;if(qa(t,$c().encode(5),0))return 5;if(qa(t,$c().encode(6),0))return 6;if(qa(t,$c().encode(7),0))return 7;if(qa(t,$c().encode(8),0))return 8;if(qa(t,$c().encode(9),0))return 9;if(qa(t,$c().encode(10),0))return 10;if(qa(t,$c().encode(11),0))return 11;if(qa(t,$c().encode(12),0))return 12;if(qa(t,$c().encode(13),0))return 13;if(qa(t,$c().encode(14),0))return 14;if(qa(t,$c().encode(15),0))return 15;if(qa(t,$c().encode(16),0))return 16;if(qa(t,$c().encode(17),0))return 17;if(qa(t,$c().encode(18),0))return 18;if(qa(t,$c().encode(19),0))return 19;if(qa(t,$c().encode(20),0))return 20;if(qa(t,$c().encode(21),0))return 21;if(qa(t,$c().encode(22),0))return 22;if(qa(t,$c().encode(23),0))return 23;if(qa(t,$c().encode(24),0))return 24;if(qa(t,$c().encode(25),0))return 25;if(qa(t,$c().encode(26),0)&&qa(t,$c().encode(0),1))return 26;if(qa(t,$c().encode(26),0)&&qa(t,$c().encode(1),1))return 27;if(qa(t,$c().encode(26),0)&&qa(t,$c().encode(2),1))return 28;if(qa(t,$c().encode(26),0)&&qa(t,$c().encode(3),1))return 29;if(qa(t,$c().encode(26),0)&&qa(t,$c().encode(4),1))return 30;if(qa(t,$c().encode(26),0)&&qa(t,$c().encode(5),1))return 31;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(0),1))return 32;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(1),1))return 33;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(2),1))return 34;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(3),1))return 35;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(4),1))return 36;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(5),1))return 37;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(6),1))return 38;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(7),1))return 39;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(8),1))return 40;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(9),1))return 41;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(10),1))return 42;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(11),1))return 43;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(12),1))return 44;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(13),1))return 45;if(qa(t,$c().encode(28),0)&&qa(t,$c().encode(0),1))return 46;if(qa(t,$c().encode(28),0)&&qa(t,$c().encode(1),1))return 47;if(qa(t,$c().encode(29),0))return 48;if(qa(t,$c().encode(30),0)&&qa(t,$c().encode(0),1))return 49;if(qa(t,$c().encode(30),0)&&qa(t,$c().encode(1),1))return 50;if(qa(t,$c().encode(31),0))return 51;if(qa(t,$c().encode(32),0))return 52;if(qa(t,$c().encode(33),0)&&qa(t,$c().encode(0),1))return 53;if(qa(t,$c().encode(33),0)&&qa(t,$c().encode(1),1))return 54;if(qa(t,$c().encode(34),0)&&qa(t,$c().encode(0),1))return 55;if(qa(t,$c().encode(34),0)&&qa(t,$c().encode(1),1))return 56;if(qa(t,$c().encode(35),0))return 57;if(qa(t,$c().encode(36),0)&&qa(t,$c().encode(0),1))return 58;if(qa(t,$c().encode(36),0)&&qa(t,$c().encode(1),1))return 59;if(qa(t,$c().encode(37),0)&&qa(t,$c().encode(0),1))return 60;if(qa(t,$c().encode(37),0)&&qa(t,$c().encode(1),1))return 61;if(qa(t,$c().encode(37),0)&&qa(t,$c().encode(2),1))return 62;if(qa(t,$c().encode(37),0)&&qa(t,$c().encode(3),1))return 63;if(qa(t,$c().encode(37),0)&&qa(t,$c().encode(4),1))return 64;if(qa(t,$c().encode(37),0)&&qa(t,$c().encode(5),1))return 65;if(qa(t,$c().encode(38),0))return 66;if(qa(t,$c().encode(39),0)&&qa(t,$c().encode(0),1))return 67;if(qa(t,$c().encode(39),0)&&qa(t,$c().encode(1),1))return 68;if(qa(t,$c().encode(40),0)&&qa(t,$c().encode(0),1))return 69;if(qa(t,$c().encode(40),0)&&qa(t,$c().encode(1),1))return 70;if(qa(t,$c().encode(41),0)&&qa(t,$c().encode(0),1))return 71;if(qa(t,$c().encode(41),0)&&qa(t,$c().encode(1),1))return 72;if(qa(t,$c().encode(43),0)&&qa(t,$c().encode(0),1))return 73;if(qa(t,$c().encode(43),0)&&qa(t,$c().encode(1),1))return 74;if(qa(t,$c().encode(44),0)&&qa(t,$c().encode(0),1))return 75;if(qa(t,$c().encode(44),0)&&qa(t,$c().encode(1),1))return 76;if(qa(t,$c().encode(44),0)&&qa(t,$c().encode(2),1))return 77;if(qa(t,new Uint8Array([210,225,30,162,88,184,77,141]),0))return 78;if(qa(t,new Uint8Array([221,233,49,45,181,202,220,200]),0))return 79;if(qa(t,new Uint8Array([234,18,32,56,89,141,37,181]),0))return 80;if(qa(t,new Uint8Array([215,228,166,228,84,100,86,123]),0))return 81;if(qa(t,new Uint8Array([250,166,180,250,13,12,184,70]),0))return 82;if(qa(t,new Uint8Array([121,113,108,39,54,51,0,4]),0))return 83;if(qa(t,new Uint8Array([108,37,171,143,248,30,18,110]),0))return 84;if(qa(t,new Uint8Array([161,105,88,1,237,221,216,203]),0))return 85;if(qa(t,new Uint8Array([152,32,222,176,223,237,116,134]),0))return 86;throw new Error(\"The provided instruction could not be identified as a token-2022 instruction.\")},instructionEnum:Ap,typeToParserMap:{[Ap.InitializeMint]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),rent:n()},data:lg().decode(e.data)}},[Ap.InitializeAccount]:function(e){if(e.accounts.length<4)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),owner:n(),rent:n()},data:Qp().decode(e.data)}},[Ap.InitializeMultisig]:pg,[Ap.Transfer]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),destination:n(),authority:n()},data:Mg().decode(e.data)}},[Ap.Approve]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),delegate:n(),owner:n()},data:Ep().decode(e.data)}},[Ap.Revoke]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),owner:n()},data:Pg().decode(e.data)}},[Ap.SetAuthority]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{owned:n(),owner:n()},data:Og().decode(e.data)}},[Ap.MintTo]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),token:n(),mintAuthority:n()},data:xg().decode(e.data)}},[Ap.Burn]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),authority:n()},data:kp().decode(e.data)}},[Ap.CloseAccount]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),destination:n(),owner:n()},data:_p().decode(e.data)}},[Ap.FreezeAccount]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),owner:n()},data:Jp().decode(e.data)}},[Ap.ThawAccount]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),owner:n()},data:zg().decode(e.data)}},[Ap.TransferChecked]:function(e){if(e.accounts.length<4)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),mint:n(),destination:n(),authority:n()},data:jg().decode(e.data)}},[Ap.ApproveChecked]:function(e){if(e.accounts.length<4)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),mint:n(),delegate:n(),owner:n()},data:xp().decode(e.data)}},[Ap.MintToChecked]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),token:n(),mintAuthority:n()},data:Tg().decode(e.data)}},[Ap.BurnChecked]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),authority:n()},data:Ip().decode(e.data)}},[Ap.InitializeAccount2]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),rent:n()},data:eg().decode(e.data)}},[Ap.SyncNative]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{account:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Bg().decode(e.data)}},[Ap.InitializeAccount3]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n()},data:tg().decode(e.data)}},[Ap.InitializeMultisig2]:pg,[Ap.InitializeMint2]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:dg().decode(e.data)}},[Ap.GetAccountDataSize]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Zp().decode(e.data)}},[Ap.InitializeImmutableOwner]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{account:(()=>{const n=e.accounts[t];return t+=1,n})()},data:sg().decode(e.data)}},[Ap.AmountToUiAmount]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:bp().decode(e.data)}},[Ap.UiAmountToAmount]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Dg().decode(e.data)}},[Ap.InitializeMintCloseAuthority]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:fg().decode(e.data)}},[Ap.InitializeTransferFeeConfig]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Sg().decode(e.data)}},[Ap.TransferCheckedWithFee]:function(e){if(e.accounts.length<4)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),mint:n(),destination:n(),authority:n()},data:Ug().decode(e.data)}},[Ap.WithdrawWithheldTokensFromMint]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),feeReceiver:n(),withdrawWithheldAuthority:n()},data:tm().decode(e.data)}},[Ap.WithdrawWithheldTokensFromAccounts]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),feeReceiver:n(),withdrawWithheldAuthority:n()},data:Qg().decode(e.data)}},[Ap.HarvestWithheldTokensToMint]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Yp().decode(e.data)}},[Ap.SetTransferFee]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),transferFeeConfigAuthority:n()},data:Ng().decode(e.data)}},[Ap.InitializeConfidentialTransferMint]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:rg().decode(e.data)}},[Ap.UpdateConfidentialTransferMint]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),authority:n()},data:Lg().decode(e.data)}},[Ap.ConfigureConfidentialTransferAccount]:function(e){if(e.accounts.length<5)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),mint:n(),instructionsSysvarOrContextState:n(),record:(()=>{const e=n();return e.address===yp?void 0:e})(),authority:n()},data:Np().decode(e.data)}},[Ap.ApproveConfidentialTransferAccount]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),mint:n(),authority:n()},data:Tp().decode(e.data)}},[Ap.EmptyConfidentialTransferAccount]:function(e){if(e.accounts.length<4)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),instructionsSysvarOrContextState:n(),record:(()=>{const e=n();return e.address===yp?void 0:e})(),authority:n()},data:qp().decode(e.data)}},[Ap.ConfidentialDeposit]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),mint:n(),authority:n()},data:Cp().decode(e.data)}},[Ap.ConfidentialWithdraw]:function(e){if(e.accounts.length<6)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n},r=()=>{const e=n();return e.address===yp?void 0:e};return{programAddress:e.programAddress,accounts:{token:n(),mint:n(),instructionsSysvar:r(),equalityRecord:r(),rangeRecord:r(),authority:n()},data:Op().decode(e.data)}},[Ap.ConfidentialTransfer]:function(e){if(e.accounts.length<8)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n},r=()=>{const e=n();return e.address===yp?void 0:e};return{programAddress:e.programAddress,accounts:{sourceToken:n(),mint:n(),destinationToken:n(),instructionsSysvar:r(),equalityRecord:r(),ciphertextValidityRecord:r(),rangeRecord:r(),authority:n()},data:Rp().decode(e.data)}},[Ap.ApplyConfidentialPendingBalance]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),authority:n()},data:Sp().decode(e.data)}},[Ap.EnableConfidentialCredits]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),authority:n()},data:Wp().decode(e.data)}},[Ap.DisableConfidentialCredits]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),authority:n()},data:jp().decode(e.data)}},[Ap.EnableNonConfidentialCredits]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),authority:n()},data:Hp().decode(e.data)}},[Ap.DisableNonConfidentialCredits]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),authority:n()},data:$p().decode(e.data)}},[Ap.ConfidentialTransferWithFee]:function(e){if(e.accounts.length<10)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n},r=()=>{const e=n();return e.address===yp?void 0:e};return{programAddress:e.programAddress,accounts:{sourceToken:n(),mint:n(),destinationToken:n(),instructionsSysvar:r(),equalityRecord:r(),transferAmountCiphertextValidityRecord:r(),feeSigmaRecord:r(),feeCiphertextValidityRecord:r(),rangeRecord:r(),authority:n()},data:Pp().decode(e.data)}},[Ap.InitializeDefaultAccountState]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:og().decode(e.data)}},[Ap.UpdateDefaultAccountState]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),freezeAuthority:n()},data:$g().decode(e.data)}},[Ap.Reallocate]:function(e){if(e.accounts.length<4)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),payer:n(),systemProgram:n(),owner:n()},data:Ig().decode(e.data)}},[Ap.EnableMemoTransfers]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),owner:n()},data:Gp().decode(e.data)}},[Ap.DisableMemoTransfers]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),owner:n()},data:Lp().decode(e.data)}},[Ap.CreateNativeMint]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{payer:n(),nativeMint:n(),systemProgram:n()},data:Mp().decode(e.data)}},[Ap.InitializeNonTransferableMint]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:gg().decode(e.data)}},[Ap.InitializeInterestBearingMint]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:cg().decode(e.data)}},[Ap.UpdateRateInterestBearingMint]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),rateAuthority:n()},data:Kg().decode(e.data)}},[Ap.EnableCpiGuard]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),owner:n()},data:Vp().decode(e.data)}},[Ap.DisableCpiGuard]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),owner:n()},data:Up().decode(e.data)}},[Ap.InitializePermanentDelegate]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:yg().decode(e.data)}},[Ap.InitializeTransferHook]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Eg().decode(e.data)}},[Ap.UpdateTransferHook]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),authority:n()},data:Yg().decode(e.data)}},[Ap.InitializeConfidentialTransferFee]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:ng().decode(e.data)}},[Ap.WithdrawWithheldTokensFromMintForConfidentialTransferFee]:function(e){if(e.accounts.length<5)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),destination:n(),instructionsSysvarOrContextState:n(),record:(()=>{const e=n();return e.address===yp?void 0:e})(),authority:n()},data:nm().decode(e.data)}},[Ap.WithdrawWithheldTokensFromAccountsForConfidentialTransferFee]:function(e){if(e.accounts.length<5)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),destination:n(),instructionsSysvarOrContextState:n(),record:(()=>{const e=n();return e.address===yp?void 0:e})(),authority:n()},data:em().decode(e.data)}},[Ap.HarvestWithheldTokensToMintForConfidentialTransferFee]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Xp().decode(e.data)}},[Ap.EnableHarvestToMint]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),authority:n()},data:Kp().decode(e.data)}},[Ap.DisableHarvestToMint]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),authority:n()},data:Dp().decode(e.data)}},[Ap.WithdrawExcessLamports]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{sourceAccount:n(),destinationAccount:n(),authority:n()},data:Xg().decode(e.data)}},[Ap.InitializeMetadataPointer]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:ug().decode(e.data)}},[Ap.UpdateMetadataPointer]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),metadataPointerAuthority:n()},data:Wg().decode(e.data)}},[Ap.InitializeGroupPointer]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:ag().decode(e.data)}},[Ap.UpdateGroupPointer]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),groupPointerAuthority:n()},data:qg().decode(e.data)}},[Ap.InitializeGroupMemberPointer]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:ig().decode(e.data)}},[Ap.UpdateGroupMemberPointer]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),groupMemberPointerAuthority:n()},data:Fg().decode(e.data)}},[Ap.InitializeScaledUiAmountMint]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:vg().decode(e.data)}},[Ap.UpdateMultiplierScaledUiMint]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),authority:n()},data:Vg().decode(e.data)}},[Ap.InitializePausableConfig]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:mg().decode(e.data)}},[Ap.Pause]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),authority:n()},data:kg().decode(e.data)}},[Ap.Resume]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),authority:n()},data:Rg().decode(e.data)}},[Ap.InitializeTokenMetadata]:function(e){if(e.accounts.length<4)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{metadata:n(),updateAuthority:n(),mint:n(),mintAuthority:n()},data:bg().decode(e.data)}},[Ap.UpdateTokenMetadataField]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{metadata:n(),updateAuthority:n()},data:Jg().decode(e.data)}},[Ap.RemoveTokenMetadataKey]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{metadata:n(),updateAuthority:n()},data:Cg().decode(e.data)}},[Ap.UpdateTokenMetadataUpdateAuthority]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{metadata:n(),updateAuthority:n()},data:Zg().decode(e.data)}},[Ap.EmitTokenMetadata]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{metadata:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Fp().decode(e.data)}},[Ap.InitializeTokenGroup]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{group:n(),mint:n(),mintAuthority:n()},data:wg().decode(e.data)}},[Ap.UpdateTokenGroupMaxSize]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{group:n(),updateAuthority:n()},data:Gg().decode(e.data)}},[Ap.UpdateTokenGroupUpdateAuthority]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{group:n(),updateAuthority:n()},data:Hg().decode(e.data)}},[Ap.InitializeTokenGroupMember]:function(e){if(e.accounts.length<5)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{member:n(),memberMint:n(),memberMintAuthority:n(),group:n(),groupUpdateAuthority:n()},data:Ag().decode(e.data)}}}},[vh]:{identifier:function(e){const t=\"data\"in e?e.data:e;if(qa(t,$c().encode(0),0))return 0;if(qa(t,$c().encode(1),0))return 1;if(qa(t,$c().encode(2),0))return 2;throw new Error(\"The provided instruction could not be identified as a associatedToken instruction.\")},instructionEnum:gp,typeToParserMap:{[gp.CreateAssociatedToken]:function(e){if(e.accounts.length<6)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{payer:n(),ata:n(),owner:n(),mint:n(),systemProgram:n(),tokenProgram:n()},data:Bp().decode(e.data)}},[gp.CreateAssociatedTokenIdempotent]:function(e){if(e.accounts.length<6)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{payer:n(),ata:n(),owner:n(),mint:n(),systemProgram:n(),tokenProgram:n()},data:zp().decode(e.data)}},[gp.RecoverNestedAssociatedToken]:function(e){if(e.accounts.length<7)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{nestedAssociatedAccountAddress:n(),nestedTokenMintAddress:n(),destinationAssociatedAccountAddress:n(),ownerAssociatedAccountAddress:n(),ownerTokenMintAddress:n(),walletAddress:n(),tokenProgram:n()},data:_g().decode(e.data)}}}}},xm=async(e,t)=>{const n=await Sm(t,e),r=\"instructions\"in n?n:await Am(n.messageBytes,e),{instructions:o}=r;return o.map((e=>{const{programAddress:t}=e;return((e,t)=>{const n={...e,dataBase58:vs().decode(e.data??new Uint8Array)};try{const r=Em[t];if(!r)throw new Error(\"Unsupported program address\");const{identifier:o,typeToParserMap:i,instructionEnum:a}=r,s=o(e),c=a[s],u=i[s];if(!u)throw new Error(\"Unsupported instruction type\");return{type:c,encoded:n,parsed:u(e)}}catch(e){return{type:\"Unknown\",encoded:n,parsed:null}}})(e,t)}))};function Tm(e){const{type:t,id:n,address:r,options:o,methods:i,scopes:a}=e;return{type:t,id:n,address:r,options:o,methods:i,scopes:a}}const km=ge(re(),/^(?:0x)?[0-9a-f]+$/iu);ge(re(),/^0x[0-9a-f]+$/iu),ge(re(),/^0x[0-9a-f]{40}$/u),ge(re(),/^0x[0-9a-fA-F]{40}$/u);function Im(e){ti(function(e){return j(e,km)}(e),\"Value must be a hexadecimal string.\")}function _m(e){return e.startsWith(\"0x\")||e.startsWith(\"0X\")?e.substring(2):e}n(1048).hp;const Cm=48,Rm=58,Pm=87;!function(){const e=[]}();function Om(e){if(\"0x\"===e?.toLowerCase?.())return new Uint8Array;Im(e);const t=_m(e).toLowerCase(),n=t.length%2==0?t:`0${t}`,r=new Uint8Array(n.length/2);for(let e=0;e<r.length;e++){const t=n.charCodeAt(2*e),o=n.charCodeAt(2*e+1),i=t-(t<Rm?Cm:Pm),a=o-(o<Rm?Cm:Pm);r[e]=16*i+a}return r}async function Nm({entropySource:e,derivationPath:t}){Cd.log({derivationPath:t},\"Generating solana wallet\"),z(t,Sc);const n=t.split(\"/\");try{const t=await async function({entropySource:e,path:t,curve:n}){return await snap.request({method:\"snap_getBip32Entropy\",params:{path:t,curve:n,...e?{source:e}:{}}})}({entropySource:e,path:n,curve:\"ed25519\"});if(!t.privateKey||!t.publicKey)throw new Error(\"Unable to derive private key\");return{privateKeyBytes:Om(t.privateKey),publicKeyBytes:Om(t.publicKey)}}catch(e){throw Cd.error({error:e},\"Error deriving keypair\"),new Error(e)}}const Bm=e=>JSON.parse(JSON.stringify(e),((e,t)=>t?\"undefined\"!==t.__type?\"BigNumber\"===t.__type?new jo(t.value):\"bigint\"===t.__type?BigInt(t.value):\"Uint8Array\"===t.__type?xs().encode(t.value):t:void 0:t)),zm=e=>(0,ni.cloneDeepWith)(e,(e=>void 0===e?{__type:\"undefined\"}:e instanceof jo?{__type:\"BigNumber\",value:e.toString()}:\"bigint\"==typeof e?{__type:\"bigint\",value:e.toString()}:e instanceof Uint8Array?{__type:\"Uint8Array\",value:xs().decode(e)}:void 0)),Mm=\"send-form\",jm=\"confirm-sign-and-send-transaction\";async function Um(e,t){const n=zm(t);return snap.request({method:\"snap_createInterface\",params:{ui:e,context:n}})}async function Dm(e,t,n){const r=zm(n);return snap.request({method:\"snap_updateInterface\",params:{id:e,ui:t,context:r}})}async function Lm(e,t){return snap.request({method:\"snap_resolveInterface\",params:{id:e,value:t}})}async function $m(e){return snap.request({method:\"snap_dialog\",params:{id:e}})}async function Fm(){return snap.request({method:\"snap_getPreferences\"})}async function qm(e){const t=await async function(e){const t=await snap.request({method:\"snap_getInterfaceContext\",params:{id:e}});return t?Bm(t):null}(e);if(!t)throw new Error(\"Interface context not found\");return t}var Wm=function(e){return e.GetGenesisHash=\"getGenesisHash\",e.GetLatestBlockhash=\"getLatestBlockhash\",e.GetMinimumBalanceForRentExemption=\"getMinimumBalanceForRentExemption\",e}({});const Vm=ee({jsonrpc:vf,id:wf,method:Z(\"getGenesisHash\"),params:te(K())}),Km=ee({jsonrpc:vf,id:wf,method:Z(\"getLatestBlockhash\")}),Gm=ee({jsonrpc:vf,id:wf,method:Z(\"getMinimumBalanceForRentExemption\"),params:oe([Q(),te(ee())])});var Hm=function(e){return e.StartSendTransactionFlow=\"startSendTransactionFlow\",e.GetFeeForTransaction=\"getFeeForTransaction\",e}({}),Jm=function(e){return e.TestSetupAllConnections=\"testSetupAllConnections\",e.TestCloseAllConnections=\"testCloseAllConnections\",e.TestSubscribeToAccount=\"testSubscribeToAccount\",e.TestUnsubscribeFromAccount=\"testUnsubscribeFromAccount\",e}({});const Zm={production:[nc.Mainnet],local:[nc.Mainnet,nc.Devnet],test:[nc.Localnet]},Ym=de(K(lc),re(),(e=>e.split(\",\"))),Xm=de(K(re()),re(),(e=>e.split(\",\"))),Qm=ee({ENVIRONMENT:H([\"local\",\"test\",\"production\"]),RPC_URL_MAINNET_LIST:Ym,RPC_URL_DEVNET_LIST:Ym,RPC_URL_TESTNET_LIST:Ym,RPC_URL_LOCALNET_LIST:Xm,RPC_WEB_SOCKET_URL_MAINNET:lc,RPC_WEB_SOCKET_URL_DEVNET:lc,RPC_WEB_SOCKET_URL_TESTNET:lc,RPC_WEB_SOCKET_URL_LOCALNET:lc,EXPLORER_BASE_URL:lc,PRICE_API_BASE_URL:lc,TOKEN_API_BASE_URL:lc,STATIC_API_BASE_URL:lc,SECURITY_ALERTS_API_BASE_URL:lc,LOCAL_API_BASE_URL:re()});class ey{#g;constructor(){const e=this.#m();this.#g=this.#y(e)}#m(){return M({ENVIRONMENT:\"production\",RPC_URL_MAINNET_LIST:\"https://solana-mainnet.infura.io/v3/5b98a22672004ef1bf40a80123c5c48d\",RPC_URL_DEVNET_LIST:\"https://solana-devnet.infura.io/v3/5b98a22672004ef1bf40a80123c5c48d\",RPC_URL_TESTNET_LIST:\"https://api.testnet.solana.com\",RPC_URL_LOCALNET_LIST:\"http://localhost:8899\",RPC_WEB_SOCKET_URL_MAINNET:\"wss://solana-mainnet.infura.io/ws/v3/5b98a22672004ef1bf40a80123c5c48d\",RPC_WEB_SOCKET_URL_DEVNET:\"wss://solana-devnet.infura.io/ws/v3/5b98a22672004ef1bf40a80123c5c48d\",RPC_WEB_SOCKET_URL_TESTNET:\"wss://api.testnet.solana.com\",RPC_WEB_SOCKET_URL_LOCALNET:\"wss://localhost:8899\",EXPLORER_BASE_URL:\"https://solscan.io\",PRICE_API_BASE_URL:\"https://price.api.cx.metamask.io\",TOKEN_API_BASE_URL:\"https://tokens.api.cx.metamask.io\",STATIC_API_BASE_URL:\"https://static.cx.metamask.io\",SECURITY_ALERTS_API_BASE_URL:\"https://security-alerts.api.cx.metamask.io\",LOCAL_API_BASE_URL:\"http://localhost:8899\"},Qm)}#y(e){return{environment:e.ENVIRONMENT,networks:[{...sc[nc.Mainnet],rpcUrls:e.RPC_URL_MAINNET_LIST,webSocketUrl:e.RPC_WEB_SOCKET_URL_MAINNET},{...sc[nc.Devnet],rpcUrls:e.RPC_URL_DEVNET_LIST,webSocketUrl:e.RPC_WEB_SOCKET_URL_DEVNET},{...sc[nc.Testnet],rpcUrls:e.RPC_URL_TESTNET_LIST,webSocketUrl:e.RPC_WEB_SOCKET_URL_TESTNET},{...sc[nc.Localnet],rpcUrls:e.RPC_URL_LOCALNET_LIST,webSocketUrl:e.RPC_WEB_SOCKET_URL_LOCALNET}],explorerBaseUrl:e.EXPLORER_BASE_URL,activeNetworks:Zm[e.ENVIRONMENT],priceApi:{baseUrl:\"test\"===e.ENVIRONMENT?e.LOCAL_API_BASE_URL:e.PRICE_API_BASE_URL,chunkSize:50},tokenApi:{baseUrl:\"test\"===e.ENVIRONMENT?e.LOCAL_API_BASE_URL:e.TOKEN_API_BASE_URL,chunkSize:50},staticApi:{baseUrl:e.STATIC_API_BASE_URL},transactions:{storageLimit:10},securityAlertsApi:{baseUrl:\"test\"===e.ENVIRONMENT?e.LOCAL_API_BASE_URL:e.SECURITY_ALERTS_API_BASE_URL},subscription:{maxReconnectAttempts:5,reconnectDelayMilliseconds:1e3}}}get(){return this.#g}getNetworkBy(e,t){const n=this.get().networks.find((n=>n[e]===t));if(!n)throw new Error(`Network ${e} not found`);return n}}const ty=(new ey).get(),ny=[\"local\",\"test\"].includes(ty.environment),ry=ny?[\"http://localhost:3000\"]:[\"https://portfolio.metamask.io\"],oy=ny?new Set([Ht.ListAccounts,Ht.GetAccount,Ht.CreateAccount,Ht.FilterAccountChains,Ht.DeleteAccount,Ht.DiscoverAccounts,Ht.GetAccountBalances,Ht.SubmitRequest,Ht.ListAccountTransactions,Ht.ListAccountAssets,Hm.StartSendTransactionFlow,Hm.GetFeeForTransaction,Wm.GetGenesisHash,Wm.GetLatestBlockhash,Vd.SignAndSendTransactionWithoutConfirmation,Jm.TestSetupAllConnections,Jm.TestCloseAllConnections,Jm.TestSubscribeToAccount,Jm.TestUnsubscribeFromAccount]):new Set([]),iy=new Set([Ht.ListAccounts,Ht.GetAccount,Ht.CreateAccount,Ht.DeleteAccount,Ht.DiscoverAccounts,Ht.GetAccountBalances,Ht.SubmitRequest,Ht.ListAccountTransactions,Ht.ListAccountAssets,Ht.ResolveAccountAddress,Hm.StartSendTransactionFlow,Hm.GetFeeForTransaction,Wm.GetGenesisHash,Wm.GetLatestBlockhash,Vd.SignAndSendTransactionWithoutConfirmation]),ay=new Map([]);for(const e of ry)ay.set(e,oy);ay.set(\"metamask\",iy);const sy=(e,t)=>{if(!e)throw new go(\"Origin not found\");if(!ay.get(e)?.has(t))throw new go(\"Permission denied\")};function cy(e,t){try{z(e,t)}catch(e){throw new ro(e.message)}}function uy(e,t){try{z(e,t)}catch(e){throw new Qr(\"Invalid Response\")}}const ly=ee({...St.schema,scope:yc,request:Ff}),dy=ee({scopes:pe(K(yc)),entropySource:re(),groupIndex:he(Q(),0)});function fy(e,t){const n=t.filter((t=>!e.includes(t))),r=e.filter((e=>!t.includes(e)));return{hasDiff:n.length>0||r.length>0,added:n,deleted:r}}function hy(e,t){const n={added:{},deleted:{},changed:{},hasDiff:!1},r=(e,o,i=\"\")=>{for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){const s=i?`${i}.${a}`:a;if(Object.prototype.hasOwnProperty.call(o,a)){if(\"object\"==typeof e[a]&&null!==e[a]&&\"object\"==typeof o[a]&&null!==o[a])r(e[a],o[a],s);else if(e[a]!==o[a]){const e=s.split(\".\")[0];n.changed[e??a]=t[e??a],n.hasDiff=!0}}else n.deleted[s]=e[a],n.hasDiff=!0}for(const t in o)if(Object.prototype.hasOwnProperty.call(o,t)&&!Object.prototype.hasOwnProperty.call(e,t)){const e=i?`${i}.${t}`:t;n.added[e]=o[t],n.hasDiff=!0}};return r(e,t),n}function py(e){return e.split(\"/\")[0]}function gy(e,t){return`${e}/token:${t}`}class my{#i;#f;#v;#w;#A;#b;#c;static cacheTtlsMilliseconds={tokenAccountsByOwner:5*Yo.Second};constructor({connection:e,logger:t,configProvider:n,state:r,tokenMetadataService:o,tokenPricesService:i,cache:a}){this.#i=t,this.#f=e,this.#v=n,this.#w=r,this.#A=o,this.#b=i,this.#c=a}async listAccountAssets(e){const{activeNetworks:t}=this.#v.get();return[...t.map((e=>`${e}/${oc.SOL}`)),...(await this.#S(zs(e.address),[bh,ac],t)).flatMap((e=>e.assetType))]}async#S(e,t=[bh,ac],n=[nc.Mainnet]){if(0===t.length||0===n.length)return[];const r=n.flatMap((e=>t.map((t=>({scope:e,programId:t}))))),o=oi(this.#E.bind(this),this.#c,{functionName:\"AssetsService:getTokenAccountsByOwner\",ttlMilliseconds:my.cacheTtlsMilliseconds.tokenAccountsByOwner});return(await Promise.all(r.map((async({scope:t,programId:n})=>await o(e,n,t))))).flat()}async#E(e,t=bh,n=nc.Mainnet){return(await this.#f.getRpc(n).getTokenAccountsByOwner(e,{programId:t},{encoding:\"jsonParsed\"}).send()).value.map((e=>({...e,scope:n,assetType:gy(n,e.account.data.parsed.info.mint)})))}async getAccountBalances(e,t){const n=zs(e.address),r=await this.#A.getTokensMetadata(t),o=(0,ni.uniq)((0,ni.map)(t,py)),i=[bh,ac],a=await this.#S(n,i,o),s={},c=t.map((async e=>{const{chainId:t}=Xo(e);let o;if(e.endsWith(oc.SOL))o=(await this.#f.getRpc(t).getBalance(n).send()).value;else{const t=a.find((t=>t.assetType===e));o=t?BigInt(t.account.data.parsed.info.tokenAmount.amount):BigInt(0)}const i=r[e],c=function(e,t){return new jo(e.toString()).div(10**t).toFixed()}(o,i?.units[0]?.decimals??9);s[e]={amount:c,unit:i?.symbol??\"UNKNOWN\"}}));await Promise.all(c);const u={...await this.#w.getKey(`assets.${e.id}`),...s};return await this.#w.setKey(`assets.${e.id}`,u),s}async refreshAssets(e){if(0===e.length)return void this.#i.info(\"[AssetsService] No accounts found\");this.#i.log(`[AssetsService] Refreshing assets for ${e.length} accounts`);const t=await this.#w.getKey(\"assets\")??{};for(const n of e){this.#i.log(`[AssetsService] Fetching all assets for ${n.address} in all networks`);const e=await this.listAccountAssets(n),r=t[n.id],o=Object.keys(r??{}),i=e??{},{added:a,deleted:s,hasDiff:c}=fy(o,i);c&&(this.#i.info({assetsAdded:a,assetsDeleted:s,assetsChanged:c},`[refreshAssets] Found updated assets for ${n.address}`),await vn(snap,gn.AccountAssetListUpdated,{assets:{[n.id]:{added:a,removed:s}}}));const u=await this.getAccountBalances(n,e),l=t[n.id],{added:d,deleted:f,changed:h,hasDiff:p}=hy(l??{},u);p&&(this.#i.info({balancesAdded:d,balancesDeleted:f,balancesChanged:h},`[BalancesService] Found updated balances for ${n.address}`),await vn(snap,gn.AccountBalancesUpdated,{balances:{[n.id]:{...d,...h}}}),await this.#w.setKey(`assets.${n.id}`,u))}}async getAssetsMarketData(e){return await this.#b.getMultipleTokensMarketData(e)}}function yy(e,t,n){if(\"string\"==typeof e)throw new Error(`An HTML element (\"${String(e)}\") was used in a Snap component, which is not supported by Snaps UI. Please use one of the supported Snap components.`);if(!e)throw new Error(\"A JSX fragment was used in a Snap component, which is not supported by Snaps UI. Please use one of the supported Snap components.\");return e({...t,key:n})}function vy(e,t,n){return yy(e,t,n)}const wy='<svg width=\"16\" height=\"16\" xmlns=\"http://www.w3.org/2000/svg\"><image width=\"16\" height=\"16\" href=\"data:image/png;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAUFBQUFBQUGBgUICAcICAsKCQkKCxEMDQwNDBEaEBMQEBMQGhcbFhUWGxcpIBwcICkvJyUnLzkzMzlHREddXX0BBQUFBQUFBQYGBQgIBwgICwoJCQoLEQwNDA0MERoQExAQExAaFxsWFRYbFykgHBwgKS8nJScvOTMzOUdER11dff/CABEIAPoA+gMBIgACEQEDEQH/xAA1AAEAAwEBAQEBAAAAAAAAAAAAAQIHBggEBQMBAQADAQEBAQAAAAAAAAAAAAACAwQBBQYH/9oADAMBAAIQAxAAAADxkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACx204cU3mdnnYLG+IQwNvsxhgLfrRh5/egLRh59egkYefXoRCPn6mv5BH2ajuwAAAACZdFZz6/SvzfofWfLWtS2jw7WpNGO01mjJaas+P+k0tRjtNbUY38Leccnq/DxFq5f2ao7cAAAAB+36W8/9p7+DZZxp6nl7LOM3qzbLOMqs2zzjF6suyzjNqqNlnGrU5NkY7zlHP75Wjzv0mg5pAAAAAAs6jqdsMuajacMsam5HLGqORytqkxjlTVbc5lLVpjDKGsfhQlwdb1p3QAAAAAADofSXk7q/cp9MT8n0/cebe1Jpx2tS2fJNqTRkvNLUY7TWaMdqXZ8vnHPvZHmrw/u+JTGL6EAAAAABMDuvQvkLQfo6PQU55P0WLRJztTl0Sc7U5tFnOppzaOzmacujTnSrLo3x8NNFOM8zsuM+H99Aq2AAAAAATMfpWPznbNXOJdqjHi47Wec4l2jnOLdo5zi57JFxrsp5HjadRy9d0CMgAAAAJPqm+j0X8fW/oV82rPvUWRNGObUmjHe1LUZLIUY7TDPk/opk2CP5uPy+U+1qKrwAAAAPo3zPdc+23fu2/BfYXdA/AmjL+/bn1GToZ55Tl6KedmjJ0c87anL0LnuZyUTgH9fm+Q9+Bk0AAAAAAWVdWVFlRZUWVFpo4uoLxV0HAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH//EAEEQAAECAwQHBAgDBgcBAAAAAAECBAADBgURF1UQMUFRkpPSEiFSohYgIjBAYaPiBzLBEyRUYnCRFBVDRYGhstH/2gAIAQEAAT8A/qXdF0XRd8ou9a4R3aOz8AO+KUo95Uc1SyoyGcs+3OIvvPhQDrMYUWPmbzhRGFFj5m74URhRY2Zu+FEYT2NmbvhRGE1jZm84URhNY2ZvOFEYTWNmjzhRGEti5o84URhLYuaPP7IjCWxc0ecKIwksXM3nCiMJLFzN5wojCSxczd/2RGEliZm8/siKt/DthYNkTLRbWlNUqWtIKJwA7Xa8JHwFK0w6qN6EJvQ1lkGfO2AeEb1HZDRq2YNpLVrJTLkyk9lCAO4D9TtJ2nQIv0C/QDAOgGL9Lp22Yt5rl1NTLky03rWrUB+p+W2KyqubUr72SpDOSSJEonzKHiPv6dsB7UT1LduLkJuM2afyy0bzvO4RZdmtbIZSGTRHZlS069qlbVK3k6AYGkQDA0DQDonTpTaVMnTpqUSkJKlrUbkhI1kmK3rJdQuRIaKUiz5BPYB7jMV41CD3++sWx3ltv5LNqm9au9Sj+VCRrUo7hFg2IzsBhLZthftmzCO+Yvao7vkNA0AxfA0A6RAMCCpKUqJUAALySbgBFeVsLXUuzbPWQxQr25m2coH/AMiFa/f0rVK6ZmO1hkiemehIIKuwoFBvFyrjGLByIc89MYsnIxz/ALIxZORjn/ZGLJyMc89MYspyP6/2xi0nIvr/AGxi2nI/r/bGLYyL6/2xi5LyM8/7Yxbl5Gef9sYuSsjPPHTGLkrI1c8dMYuSMjXzh0xi63yRfOHTFR/iO9tpktk1bBpJWLpp7fbWtPh1CCTBJPwN3udfqk6vgKcph7Ui3KW02VKEhIK1zL9atQFwJjCu1szZ+fpjCy18zZ+fpjCu1syZefpjCu1syZefpjCq18yZ+fpjCq18yZ+fpjCm18zZ+fpjCi1s0Z+fpjCe1szZ+fpjCe1s0Z+fpjCa180Z+fpjCa1szZ+fpjCa1szZefpjCW1s0Zefpi36Etan2gdrVKcSAblqlX+wTvBAMKB7ou9/T9vPKffJctriki6bLP5Vo3H9DFl2m1tdlIetV9qXMGralW1KtxGgGAYvgQDoBi+L9A0TZUtxKmSp0tK5cwFK0K7wUnWCIrWjlU+4DltethOPsE95lK8CjB+ApipnVPPAtN62yyBPk7FDeNyhsMNHbZ+2kum04TJMxPaSobR+hG0bIEXwDpB0AwIHqO2rZ+2nNXMlM2TMR2VoVqI/Q7jsisKWn049ISVTGc4kyJvy1lCvmII9+DdFH1VNsB0JThalMJyh+1RrKD40jeIkzpLiVLnSZqZkqYkKQtJvSUnUQdAOi+BF+gHQNA0WjZzO1Wc5m8lCZKmC4jaDsUk7FDYYqWnHtOv1t56SqUq8yJwHctH/ANG2B78G4xR1ZKsLttXiVzGSzeAk3mUraUg6wdojEum9zzkp64xMprc85KeuMTKa8Lzkp64xMprwvOSnrjE2mvC85KeuMTaa8LzlJ64xNprwveSnrjE6mvC95KeuMT6Z3POSnrjE+mdzzlJ6oxOpnc85Q6oxPpjc85SeqMT6YOx5yU9cYn0xue8lPXFY1tYFuWKtk1kT1zzNQpCpqAkIuPeoHtHX8APWv9S+L4vGjVo/4+Bs6zHtquA3ZN1TphBNydgG0k9wEYfVR/Ao5qIw9qj+BRzURh/VWXDmojD6qsuHNRGH1VZcOaiMPqqy4c1EYf1Xlf1ZfVGH9WZX9VHVGH1WZX9WX1Rh9VeWfVl9UYf1blJ5qOqMP6tyo81HVGH1W5T9VHVGH1XZSeajqi0qSt+yGxdPrPXLkhQSV9pKgCd/ZJ+As6z3dpu5LVrKMybMNwA/7JOwDaYpun29PMBIRcufMuLib41bh/KNnq3iL4ECO6Bd6m0d0fiBWMp6ldj2esKkBX7xOGpage5Cd6RtPvhDRrPeOJTeRKVMnTFBKEDWSYpSmJNPNSVkLezUj9rM2Aa+wn5DadI9QQDovgQNAivK2S2TPsezZl80jsOZwP5AdaE/PeYJJ99KlrmrQhAJWSAABeSdwikaTRYklLp0Ap/MRcdolJOwfPeY1QDov0iBoBi+AdNb1l/k6FWcwX+/LR7ax/oAjZ/OYUpSiSSSSbyT3kn39BubFZv5860ZqJc5KB/h1zPyJO0/JW6PSanh/vTXjj0mp7OmvHAqens6a8celFO501449Kacztrxx6U05nbXjj0ppzPGnHHpTTeeNOOPSqnM8accelVN54044FVU3njTjj0rprPWnHAqums8accelVNZ4044qav7PYNDLsp0hy7mC4LR3oljxE7VbhE+dNcTVzpswrmLUVKUokqJOsknWfgAbovMXnfF/wAzHai+L4vMdo747R3x2jvgKO+O18zHa+cXnfBJ/rX/AP/EADQRAAEDAQUFBAkFAAAAAAAAAAIAAQQDBRIUU5IREzBCVBUjMkMGICExM0RQUqIQImFyof/aAAgBAgEBPwD6pTpnVK6A3iT2fJ+z/U8GQ3InhyG5FhqzcqehUbkW7qfYnE25eBTA6piADeIlCgNFD2/ELxIhRCiFEKIUQqq93gWXXs+NT3lQu+/qitWC/m/i6e04b+annxcxFOi5iKZGfmRSo78yORS2ftJETk+1+BRgTK4bylQMhT2XO6U12ZOb5c12dMyDTwJWQawUnKNYORlIo9YG2vS4NkWoUM92fwS/H+UziY3hRCiFEKIUQog2+9S4z0ivD4eDY9rYd9xXLu+UvtRWlA6oEVowepBFPhZ4IpsPPBFMiZ4IpUbNBHXjG2x6oKsICbsBXh4AAVQhAAvES7Om9Kel1gJnSnpdYGY3y56Vg5TeQelYSVkHpWGkZJ6Vh6+UaISF9hD64iREIj73Vh2Jg6bSKw98X4ohRCiFEKIUQqVWCPTvEq1YqxuRev6Nw4Aji5MgN5yARN7EU6D1YamRTYXVBqZFMh9QGpkUqJ1AamRSonUBqZFJi54amVaXGpgRb0FKlHKqXn8PLwNqvOrzra6vP+u36t//xAA2EQABBAEBAwkECwEAAAAAAAACAAEDBAWiEjFDBhETFDAyQkRSICFBkhYjM1BTVGBhcrHB0f/aAAgBAwEBPwD70llCGMpJC2RT5jHtxtLp85jm42l0/KDFtvsaXT8pMS3mdLp+U+HbzOl0/KvCN5vS6+l+Cbfb0uqOQq5KBp6x7Ufd7rt/ftkTA3O+5ZC0dk9lvsxRgjBGCMEYI41hMBLl7PpgDvn/AIq1aGpBHBCGzGDcw+3binmbZDuosbYfwo8VbfhosNdfhamR4PIPwtTIsBkX4GpkfJzKPug1MoOSuSmmAZI+jDxntMqVOvQrhBCGyI6v3fsHkAX95J7ELeNPbr/GVddqNxl1+m3HBPk6Db7QJ8tjvjaBRZOhNIMYWgci7GWPbZHGjBGCMFJGjBOxCTEKwmYG4HQTF9cOrsZYtv3sjryP4UdSV+EjpWH4SPH2X3QGjxlx+AaPE338qaHFZSIwOOuYkKoS2ZawPZi6OT4/97F3ZOYN4l0sbeNl08P4oJ7EDcUF1mv+YD5l1uq3mA+ZkMkcjc4GxD2DROze9GCMFICMEYIwVelJbl2B3KtWjqxDFHub260cXNtmYI3i9aNg9aMWRx86OE/Qjry+hdSnM+ZgVatHWjYQb+X6F//Z\" /></svg>';function Ay(e){return Object.fromEntries(Object.entries(e).filter((([,e])=>void 0!==e)))}function by(e){return t=>{const{key:n=null,...r}=t;return{type:e,props:Ay(r),key:n}}}const Sy=by(\"Container\"),Ey=by(\"Box\"),xy=by(\"Heading\"),Ty=by(\"Text\"),ky=by(\"Section\"),Iy=by(\"Row\"),_y=by(\"Address\"),Cy=by(\"Image\"),Ry=by(\"Footer\"),Py=by(\"Button\");function Oy(e,t){return`${e}:${t}`}const Ny=JSON.parse('{\"D\":{\"send.title\":{\"message\":\"Send\"},\"send.balance\":{\"message\":\"Balance\"},\"send.maxButton\":{\"message\":\"Max\"},\"send.cancelButton\":{\"message\":\"Cancel\"},\"send.continueButton\":{\"message\":\"Continue\"},\"send.fromField\":{\"message\":\"From\"},\"send.toField\":{\"message\":\"To\"},\"send.amountField\":{\"message\":\"Amount\"},\"send.assetField\":{\"message\":\"Token\"},\"send.toPlaceholder\":{\"message\":\"Enter public address or domain name\"},\"send.fromRequiredError\":{\"message\":\"Account is required\"},\"send.amountRequiredError\":{\"message\":\"Amount is required\"},\"send.amountGreatherThanMinimumBalanceForRentExemptionError\":{\"message\":\"Amount must be greater than {minimumValue}\"},\"send.insuffientSolToCoverFee\":{\"message\":\"Insufficient SOL balance to cover the transaction fee\"},\"send.toRequiredError\":{\"message\":\"To address is required\"},\"send.toInvalidError\":{\"message\":\"Invalid Solana address or domain name\"},\"send.toInvalidErrorDomain\":{\"message\":\"Unable to resolve domain name\"},\"send.toDomainResolutionStatus.initial\":{\"message\":\"Domain\"},\"send.toDomainResolutionStatus.fetching\":{\"message\":\"Resolving domain name...\"},\"send.toDomainResolutionStatus.fetched\":{\"message\":\"Domain name resolved.\"},\"send.toDomainResolutionStatus.error\":{\"message\":\"Unable to resolve domain name.\"},\"send.insufficientBalance\":{\"message\":\"Insufficient balance\"},\"send.simulationTitleAPIError\":{\"message\":\"Because of an error, we couldn\\'t check for security alerts.\"},\"send.simulationMessageAPIError\":{\"message\":\"Only continue if you trust every address involved.\"},\"send.simulationTitleError\":{\"message\":\"Transaction simulation failed\"},\"send.simulationMessageError\":{\"message\":\"This transaction was reverted during simulation.\"},\"send.selectedTokenPriceNotAvailable\":{\"message\":\"Prices for tokens in {currency} are currently not available. You are still able to send tokens.\"},\"send.confirmation.title\":{\"message\":\"Review\"},\"send.confirmation.from\":{\"message\":\"From\"},\"send.confirmation.recipient\":{\"message\":\"Recipient\"},\"send.confirmation.network\":{\"message\":\"Network\"},\"send.confirmation.transactionSpeed\":{\"message\":\"Transaction speed\"},\"send.confirmation.fee\":{\"message\":\"Network fee\"},\"send.confirmation.sendButton\":{\"message\":\"Send\"},\"send.confirmation.cancelButton\":{\"message\":\"Cancel\"},\"send.confirmation.viewTransaction\":{\"message\":\"View transaction\"},\"send.send-pending.title\":{\"message\":\"Sending...\"},\"send.send-pending.subtitle\":{\"message\":\"Your transaction was submitted.\"},\"send.transaction-success.title\":{\"message\":\"Sent\"},\"send.transaction-success.subtitle\":{\"message\":\"{amount} {tokenSymbol} was successfully sent\"},\"send.transaction-failure.title\":{\"message\":\"Transaction failed\"},\"send.transaction-failure.subtitle\":{\"message\":\"Unable to send {amount} {tokenSymbol}\"},\"confirmation.account\":{\"message\":\"Account\"},\"confirmation.network\":{\"message\":\"Network\"},\"confirmation.estimatedChanges\":{\"message\":\"Estimated changes\"},\"confirmation.estimatedChanges.send\":{\"message\":\"You send\"},\"confirmation.estimatedChanges.receive\":{\"message\":\"You receive\"},\"confirmation.estimatedChanges.notAvailable\":{\"message\":\"Not available\"},\"confirmation.estimatedChanges.noChanges\":{\"message\":\"No changes\"},\"confirmation.estimatedChanges.tooltip\":{\"message\":\"Estimated changes are what might happen if you go through with this transaction. This is just a prediction, not a guarantee.\"},\"confirmation.advanced.show\":{\"message\":\"Show advanced\"},\"confirmation.advanced.hide\":{\"message\":\"Hide advanced\"},\"confirmation.cancelButton\":{\"message\":\"Cancel\"},\"confirmation.confirmButton\":{\"message\":\"Confirm\"},\"confirmation.signAndSendTransaction.title\":{\"message\":\"Transaction request\"},\"confirmation.signTransaction.title\":{\"message\":\"Signing request\"},\"confirmation.sendAndConfirmTransaction.title\":{\"message\":\"Sending and confirming transaction\"},\"confirmation.advanced.unknownInstruction\":{\"message\":\"Unknown\"},\"confirmation.advanced.programId\":{\"message\":\"Program ID\"},\"confirmation.advanced.data\":{\"message\":\"Data\"},\"confirmation.fee\":{\"message\":\"Network fee\"},\"confirmation.feeError\":{\"message\":\"Unable to estimate fee\"},\"confirmation.origin\":{\"message\":\"Request from\"},\"confirmation.origin.tooltip\":{\"message\":\"This is the site asking for your confirmation.\"},\"confirmation.simulationErrorTitle\":{\"message\":\"This transaction was reverted during simulation.\"},\"confirmation.simulationErrorSubtitle\":{\"message\":\"{reason}\"},\"confirmation.validationErrorTitle\":{\"message\":\"This is a deceptive request\"},\"confirmation.validationErrorSubtitle\":{\"message\":\"If you approve this request, a third party known for scams will take all your assets.\"},\"confirmation.validationErrorLearnMore\":{\"message\":\"Learn more\"},\"confirmation.validationErrorSecurityAdviced\":{\"message\":\"Security advice by\"},\"confirmation.signMessage.title\":{\"message\":\"Sign message\"},\"confirmation.signMessage.message\":{\"message\":\"Message\"},\"confirmation.signIn.title\":{\"message\":\"Sign-in request\"},\"confirmation.signIn.description\":{\"message\":\"A site wants you to sign in to prove you own this account.\"},\"confirmation.signIn.domain\":{\"message\":\"Domain\"},\"confirmation.signIn.unknownDomain\":{\"message\":\"Unknown domain\"},\"confirmation.signIn.signingInWith\":{\"message\":\"Signing in with\"},\"confirmation.signIn.badAccount\":{\"message\":\"This site is asking you to sign in using the wrong account.\"},\"confirmation.signIn.message\":{\"message\":\"Message\"},\"confirmation.signIn.statement\":{\"message\":\"Statement\"},\"confirmation.signIn.version\":{\"message\":\"Version\"},\"confirmation.signIn.chainId\":{\"message\":\"Chain ID\"},\"confirmation.signIn.nonce\":{\"message\":\"Nonce\"},\"confirmation.signIn.issuedAt\":{\"message\":\"Issued at\"},\"confirmation.signIn.expirationTime\":{\"message\":\"Expiration time\"},\"confirmation.signIn.notBefore\":{\"message\":\"Not before\"},\"confirmation.signIn.requestId\":{\"message\":\"Request ID\"},\"confirmation.signIn.resources\":{\"message\":\"Resources\"},\"confirmation.signIn.badDomain\":{\"message\":\"This site is asking you to sign in using the wrong domain.\"},\"transactionScan.errors.accountAlreadyInUse\":{\"message\":\"An account with the same address already exists.\"},\"transactionScan.errors.insufficientSol\":{\"message\":\"Account does not have enough SOL to perform the operation.\"},\"transactionScan.errors.slippageToleranceExceeded\":{\"message\":\"The transaction was reverted because the slippage tolerance was exceeded.\"},\"transactionScan.errors.unknownError\":{\"message\":\"An unknown error occurred.\"}}}'),By=JSON.parse('{\"D\":{\"send.title\":{\"message\":\"Enviar\"},\"send.balance\":{\"message\":\"Saldo\"},\"send.maxButton\":{\"message\":\"Máx.\"},\"send.cancelButton\":{\"message\":\"Cancelar\"},\"send.continueButton\":{\"message\":\"Continuar\"},\"send.fromField\":{\"message\":\"De\"},\"send.toField\":{\"message\":\"Para\"},\"send.amountField\":{\"message\":\"Monto\"},\"send.assetField\":{\"message\":\"Token\"},\"send.toPlaceholder\":{\"message\":\"Introduzca la dirección pública\"},\"send.fromRequiredError\":{\"message\":\"La cuenta es obligatoria\"},\"send.amountRequiredError\":{\"message\":\"El monto es obligatorio\"},\"send.amountGreatherThanMinimumBalanceForRentExemptionError\":{\"message\":\"El valor debe ser superior a {minimumValue}\"},\"send.insuffientSolToCoverFee\":{\"message\":\"Saldo de SOL insuficiente para cubrir la tarifa de transacción\"},\"send.toRequiredError\":{\"message\":\"La dirección del destinatario es obligatoria\"},\"send.toInvalidError\":{\"message\":\"Dirección de Solana no válida\"},\"send.insufficientBalance\":{\"message\":\"Saldo insuficiente\"},\"send.simulationTitleAPIError\":{\"message\":\"Debido a un error, no pudimos verificar las alertas de seguridad.\"},\"send.simulationMessageAPIError\":{\"message\":\"Continúa solo si confías en todas las direcciones involucradas.\"},\"send.simulationTitleError\":{\"message\":\"Simulación de transacción fallida\"},\"send.simulationMessageError\":{\"message\":\"Esta transacción se revirtió durante la simulación.\"},\"send.selectedTokenPriceNotAvailable\":{\"message\":\"Los precios de los tokens en {currency} no están disponibles actualmente. Aún puede enviar tokens.\"},\"send.confirmation.title\":{\"message\":\"Revisar\"},\"send.confirmation.from\":{\"message\":\"De\"},\"send.confirmation.recipient\":{\"message\":\"Destinatario\"},\"send.confirmation.network\":{\"message\":\"Red\"},\"send.confirmation.transactionSpeed\":{\"message\":\"Velocidad de la transacción\"},\"send.confirmation.fee\":{\"message\":\"Tarifa de red\"},\"send.confirmation.sendButton\":{\"message\":\"Enviar\"},\"send.confirmation.cancelButton\":{\"message\":\"Cancelar\"},\"send.confirmation.viewTransaction\":{\"message\":\"Ver transacción\"},\"send.send-pending.title\":{\"message\":\"Enviando...\"},\"send.send-pending.subtitle\":{\"message\":\"Se envió su transacción.\"},\"send.transaction-success.title\":{\"message\":\"Enviado\"},\"send.transaction-success.subtitle\":{\"message\":\"El envío de {amount} {tokenSymbol} se realizó correctamente\"},\"send.transaction-failure.title\":{\"message\":\"Transacción fallida\"},\"send.transaction-failure.subtitle\":{\"message\":\"Error al enviar {amount} {tokenSymbol}\"},\"confirmation.account\":{\"message\":\"Cuenta\"},\"confirmation.network\":{\"message\":\"Red\"},\"confirmation.estimatedChanges\":{\"message\":\"Cambios estimados\"},\"confirmation.estimatedChanges.send\":{\"message\":\"Usted envía\"},\"confirmation.estimatedChanges.receive\":{\"message\":\"Usted recibe\"},\"confirmation.estimatedChanges.notAvailable\":{\"message\":\"No disponible\"},\"confirmation.estimatedChanges.noChanges\":{\"message\":\"Sin cambios\"},\"confirmation.estimatedChanges.tooltip\":{\"message\":\"Los cambios estimados son los que podrían producirse si sigue adelante con esta transacción. Esto es solo una predicción, no una garantía.\"},\"confirmation.advanced.show\":{\"message\":\"Mostrar avanzadas\"},\"confirmation.advanced.hide\":{\"message\":\"Ocultar avanzadas\"},\"confirmation.cancelButton\":{\"message\":\"Cancelar\"},\"confirmation.confirmButton\":{\"message\":\"Confirmar\"},\"confirmation.signAndSendTransaction.title\":{\"message\":\"Solicitud de transacción\"},\"confirmation.signTransaction.title\":{\"message\":\"Signing request\"},\"confirmation.sendAndConfirmTransaction.title\":{\"message\":\"Sending and confirming transaction\"},\"confirmation.advanced.unknownInstruction\":{\"message\":\"Desconocida\"},\"confirmation.advanced.programId\":{\"message\":\"ID del programa\"},\"confirmation.advanced.data\":{\"message\":\"Datos\"},\"confirmation.fee\":{\"message\":\"Tarifa de red\"},\"confirmation.feeError\":{\"message\":\"No se puede calcular la tarifa\"},\"confirmation.origin\":{\"message\":\"Solicitud de\"},\"confirmation.origin.tooltip\":{\"message\":\"This is the site asking for your confirmation.\"},\"confirmation.simulationErrorTitle\":{\"message\":\"Esta transacción se revirtió durante la simulación.\"},\"confirmation.simulationErrorSubtitle\":{\"message\":\"Motivo: {reason}\"},\"confirmation.validationErrorTitle\":{\"message\":\"Esta es una solicitud engañosa\"},\"confirmation.validationErrorSubtitle\":{\"message\":\"Si aprueba esta solicitud, un tercero conocido por sus estafas se quedará con todos sus activos.\"},\"confirmation.validationErrorLearnMore\":{\"message\":\"Conozca más\"},\"confirmation.validationErrorSecurityAdviced\":{\"message\":\"Asesoramiento de seguridad por\"},\"confirmation.signMessage.title\":{\"message\":\"Firmar mensaje\"},\"confirmation.signMessage.message\":{\"message\":\"Mensaje\"},\"confirmation.signIn.title\":{\"message\":\"Solicitud de inicio de sesión\"},\"confirmation.signIn.description\":{\"message\":\"Un sitio quiere que inicie sesión para demostrar que usted es el titular de esta cuenta.\"},\"confirmation.signIn.domain\":{\"message\":\"Domain\"},\"confirmation.signIn.unknownDomain\":{\"message\":\"Dominio desconocido\"},\"confirmation.signIn.signingInWith\":{\"message\":\"Iniciar sesión con\"},\"confirmation.signIn.badAccount\":{\"message\":\"Este sitio le pide que inicie sesión con la cuenta incorrecta.\"},\"confirmation.signIn.message\":{\"message\":\"Mensaje\"},\"confirmation.signIn.statement\":{\"message\":\"Declaración\"},\"confirmation.signIn.version\":{\"message\":\"Versión\"},\"confirmation.signIn.chainId\":{\"message\":\"ID de cadena\"},\"confirmation.signIn.nonce\":{\"message\":\"Nonce\"},\"confirmation.signIn.issuedAt\":{\"message\":\"Emitido a las\"},\"confirmation.signIn.expirationTime\":{\"message\":\"Hora de caducidad\"},\"confirmation.signIn.notBefore\":{\"message\":\"No antes de\"},\"confirmation.signIn.requestId\":{\"message\":\"ID de solicitud\"},\"confirmation.signIn.resources\":{\"message\":\"Recursos\"},\"confirmation.signIn.badDomain\":{\"message\":\"This site is asking you to sign in using the wrong domain.\"},\"transactionScan.errors.accountAlreadyInUse\":{\"message\":\"Ya existe una cuenta con la misma dirección.\"},\"transactionScan.errors.insufficientSol\":{\"message\":\"La cuenta no tiene suficiente SOL para realizar la operación.\"},\"transactionScan.errors.slippageToleranceExceeded\":{\"message\":\"La transacción se revirtió porque se superó la tolerancia de deslizamiento.\"},\"transactionScan.errors.unknownError\":{\"message\":\"An unknown error occurred.\"}}}'),zy={en:Ny.D,es:By.D},My=\"en\";function jy(e){const t=zy[e]??zy[My];return(e,n)=>{let r=t?.[e]?.message??e;return n&&r&&Object.keys(n).forEach((e=>{const t=new RegExp(`\\\\{${e}\\\\}`,\"gu\");r=r.replace(t,n[e]??\"\")})),r}}const Uy=({label:e,value:t})=>null!=t?vy(Ey,{alignment:\"space-between\",direction:\"horizontal\",children:[yy(Ty,{fontWeight:\"medium\",color:\"alternative\",children:e}),yy(Ty,{children:t})]}):null,Dy=1e-6,Ly=3,$y=\"0\",Fy=new jo(Dy).decimalPlaces();function qy(e,t){const[n]=t.split(\"_\");try{const r=new jo(e);if(r.isNaN())return $y;if(r.isZero())return $y;if(r.abs().lt(Dy))return`<${function(e,t){const n=new jo(t),r=n.decimalPlaces(),o=n.toFixed(r??0),[i]=e.split(\"_\"),[a,s]=o.split(\".\"),c=new Intl.NumberFormat(i).format(a);return s?`${c}.${s}`:c}(t,Dy)}`;if(r.abs().lt(1))return new Intl.NumberFormat(n,{maximumSignificantDigits:Ly}).format(Number(r.toFixed(Fy??0)));const o=r.abs().integerValue().toString().length,i=Math.max(0,Ly-o+1);return new Intl.NumberFormat(t,{maximumFractionDigits:i}).format(r.toFixed(i))}catch(e){return console.error(e),$y}}function Wy(e,t,n){const r=new jo(e).toNumber(),[o]=n.split(\"_\");return r.toLocaleString(o,{style:\"currency\",currency:t,maximumFractionDigits:2,minimumFractionDigits:2})}const Vy=({asset:e,preferences:t})=>{const n=e.type;return vy(Ey,{direction:\"vertical\",crossAlignment:\"end\",children:[vy(Ey,{direction:\"horizontal\",alignment:\"center\",children:[vy(Ty,{color:\"in\"===n?\"success\":\"error\",children:[\"in\"===n?\"+\":\"-\",qy(e.value??0,t.locale)]}),e.imageSvg?yy(Ey,{alignment:\"center\",center:!0,children:yy(Cy,{borderRadius:\"full\",src:e.imageSvg})}):null,yy(Ty,{children:e.symbol??\"\"})]}),e.price?yy(Ty,{color:\"muted\",children:Wy(e.price.toString(),t.currency,t.locale)}):null]})},Ky=by(\"Tooltip\");var Gy;!function(e){e.AddSquare=\"add-square\",e.Add=\"add\",e.Arrow2Down=\"arrow-2-down\",e.Arrow2Left=\"arrow-2-left\",e.Arrow2Right=\"arrow-2-right\",e.Arrow2Up=\"arrow-2-up\",e.Arrow2UpRight=\"arrow-2-up-right\",e.ArrowDoubleLeft=\"arrow-double-left\",e.ArrowDoubleRight=\"arrow-double-right\",e.ArrowDown=\"arrow-down\",e.ArrowLeft=\"arrow-left\",e.ArrowRight=\"arrow-right\",e.ArrowUp=\"arrow-up\",e.BankToken=\"bank-token\",e.Bank=\"bank\",e.Book=\"book\",e.Bookmark=\"bookmark\",e.Bridge=\"bridge\",e.Calculator=\"calculator\",e.CardPos=\"card-pos\",e.CardToken=\"card-token\",e.Card=\"card\",e.Category=\"category\",e.Chart=\"chart\",e.CheckBold=\"check-bold\",e.Check=\"check\",e.Clock=\"clock\",e.Close=\"close\",e.CodeCircle=\"code-circle\",e.Coin=\"coin\",e.Confirmation=\"confirmation\",e.Connect=\"connect\",e.CopySuccess=\"copy-success\",e.Copy=\"copy\",e.Customize=\"customize\",e.Danger=\"danger\",e.Dark=\"dark\",e.Data=\"data\",e.Diagram=\"diagram\",e.DocumentCode=\"document-code\",e.DragDrop=\"drag-drop\",e.DraggingAnimation=\"dragging-animation\",e.PinningAnimation=\"pinning-animation\",e.Edit=\"edit\",e.Eraser=\"eraser\",e.Ethereum=\"ethereum\",e.Expand=\"expand\",e.Explore=\"explore\",e.Export=\"export\",e.EyeSlash=\"eye-slash\",e.Eye=\"eye\",e.Filter=\"filter\",e.Flag=\"flag\",e.FlashSlash=\"flash-slash\",e.Flash=\"flash\",e.FullCircle=\"full-circle\",e.Gas=\"gas\",e.GlobalSearch=\"global-search\",e.Global=\"global\",e.Graph=\"graph\",e.Hardware=\"hardware\",e.Heart=\"heart\",e.Hierarchy=\"hierarchy\",e.Home=\"home\",e.Import=\"import\",e.Info=\"info\",e.Key=\"key\",e.Light=\"light\",e.Link=\"link\",e.Loading=\"loading\",e.LockCircle=\"lock-circle\",e.LockSlash=\"lock-slash\",e.Lock=\"lock\",e.Login=\"login\",e.Logout=\"logout\",e.Menu=\"menu\",e.MessageQuestion=\"message-question\",e.Messages=\"messages\",e.MinusBold=\"minus-bold\",e.MinusSquare=\"minus-square\",e.Minus=\"minus\",e.Mobile=\"mobile\",e.Money=\"money\",e.Monitor=\"monitor\",e.MoreHorizontal=\"more-horizontal\",e.MoreVertical=\"more-vertical\",e.NotificationCircle=\"notification-circle\",e.Notification=\"notification\",e.PasswordCheck=\"password-check\",e.People=\"people\",e.Pin=\"pin\",e.ProgrammingArrows=\"programming-arrows\",e.Custody=\"custody\",e.Question=\"question\",e.Received=\"received\",e.Refresh=\"refresh\",e.Save=\"save\",e.ScanBarcode=\"scan-barcode\",e.ScanFocus=\"scan-focus\",e.Scan=\"scan\",e.Scroll=\"scroll\",e.Search=\"search\",e.SecurityCard=\"security-card\",e.SecurityCross=\"security-cross\",e.SecurityKey=\"security-key\",e.SecuritySearch=\"security-search\",e.SecuritySlash=\"security-slash\",e.SecurityTick=\"security-tick\",e.SecurityTime=\"security-time\",e.SecurityUser=\"security-user\",e.Security=\"security\",e.Send1=\"send-1\",e.Send2=\"send-2\",e.Setting=\"setting\",e.Slash=\"slash\",e.SnapsMobile=\"snaps-mobile\",e.SnapsPlus=\"snaps-plus\",e.Snaps=\"snaps\",e.Speedometer=\"speedometer\",e.Star=\"star\",e.Stake=\"stake\",e.Student=\"student\",e.SwapHorizontal=\"swap-horizontal\",e.SwapVertical=\"swap-vertical\",e.Tag=\"tag\",e.Tilde=\"tilde\",e.Timer=\"timer\",e.Trash=\"trash\",e.TrendDown=\"trend-down\",e.TrendUp=\"trend-up\",e.UserCircleAdd=\"user-circle-add\",e.UserCircleLink=\"user-circle-link\",e.UserCircleRemove=\"user-circle-remove\",e.UserCircle=\"user-circle\",e.User=\"user\",e.WalletCard=\"wallet-card\",e.WalletMoney=\"wallet-money\",e.Wallet=\"wallet\",e.Warning=\"warning\",e.Twitter=\"twitter\",e.QrCode=\"qr-code\",e.UserCheck=\"user-check\",e.Unpin=\"unpin\",e.Ban=\"ban\",e.Bold=\"bold\",e.CircleX=\"circle-x\",e.Download=\"download\",e.FileIcon=\"file\",e.Flask=\"flask\",e.Plug=\"plug\",e.Share=\"share\",e.Square=\"square\",e.Tint=\"tint\",e.Upload=\"upload\",e.Usb=\"usb\",e.Wifi=\"wifi\",e.PlusMinus=\"plus-minus\"}(Gy||(Gy={}));const Hy=by(\"Icon\"),Jy=({preferences:e})=>{const t=jy(e.locale);return vy(Ey,{direction:\"horizontal\",center:!0,children:[yy(Ty,{fontWeight:\"medium\",children:t(\"confirmation.estimatedChanges\")}),yy(Ky,{content:t(\"confirmation.estimatedChanges.tooltip\"),children:yy(Hy,{name:\"info\"})})]})},Zy=by(\"Skeleton\"),Yy=({preferences:e})=>{const t=jy(e.locale);return vy(ky,{direction:\"vertical\",children:[yy(Jy,{preferences:e}),vy(Ey,{alignment:\"space-between\",direction:\"horizontal\",children:[yy(Ty,{fontWeight:\"medium\",color:\"alternative\",children:t(\"confirmation.estimatedChanges.send\")}),yy(Ey,{children:vy(Ey,{direction:\"vertical\",crossAlignment:\"end\",children:[yy(Zy,{width:100,height:20}),yy(Zy,{width:40,height:20})]})})]}),vy(Ey,{alignment:\"space-between\",direction:\"horizontal\",children:[yy(Ty,{fontWeight:\"medium\",color:\"alternative\",children:t(\"confirmation.estimatedChanges.receive\")}),yy(Ey,{children:vy(Ey,{direction:\"vertical\",crossAlignment:\"end\",children:[yy(Zy,{width:100,height:20}),yy(Zy,{width:40,height:20})]})})]})]})},Xy=({changes:e,preferences:t,scanFetchStatus:n,scanStatus:r})=>{const o=jy(t.locale),i=\"fetched\"===n,a=\"error\"===n;if(\"fetching\"===n)return yy(Yy,{preferences:t});if(a||i&&\"ERROR\"===r)return vy(ky,{direction:\"vertical\",children:[yy(Jy,{preferences:t}),yy(Ty,{color:\"alternative\",children:o(\"confirmation.estimatedChanges.notAvailable\")})]});const s=e?.assets.filter((e=>\"out\"===e.type))??[],c=e?.assets.filter((e=>\"in\"===e.type))??[],u=s.length>0||c.length>0;return vy(ky,i&&!u?{direction:\"vertical\",children:[yy(Jy,{preferences:t}),yy(Ty,{color:\"alternative\",children:o(\"confirmation.estimatedChanges.noChanges\")})]}:{children:[yy(Jy,{preferences:t}),s?.length>0?vy(Ey,{alignment:\"space-between\",direction:\"horizontal\",children:[yy(Ty,{fontWeight:\"medium\",color:\"alternative\",children:o(\"confirmation.estimatedChanges.send\")}),yy(Ey,{children:yy(Ey,{children:s?.map((e=>yy(Vy,{asset:e,preferences:t})))})})]}):null,yy(Ey,{children:null}),c?.length>0?vy(Ey,{alignment:\"space-between\",direction:\"horizontal\",children:[yy(Ty,{fontWeight:\"medium\",color:\"alternative\",children:o(\"confirmation.estimatedChanges.receive\")}),yy(Ey,{children:yy(Ey,{children:c?.map((e=>yy(Vy,{asset:e,preferences:t})))})})]}):null]})};var Qy=function(e){return e.Cancel=\"confirm-sign-in-cancel\",e.Confirm=\"confirm-sign-in-confirm\",e}({});const ev={\"confirm-sign-in-cancel\":async function({id:e}){await Lm(e,!1)},\"confirm-sign-in-confirm\":async function({id:e}){await Lm(e,!0)}},tv=({params:e,origin:t,account:n,scope:r,preferences:o,networkImage:i})=>{const a=jy(o.locale),s=t?new URL(t).hostname:null,{domain:c,statement:u,uri:l,version:d,chainId:f,nonce:h,issuedAt:p,expirationTime:g,notBefore:m,requestId:y,resources:v,address:w}=e,A=Oy(r,n.address),b=w?Oy(r,w):null,S=b!==A,E=c!==s;return vy(Sy,{children:[vy(Ey,{children:[vy(Ey,{alignment:\"center\",center:!0,children:[yy(Ey,{children:null}),yy(xy,{size:\"lg\",children:a(\"confirmation.signIn.title\")}),yy(Ty,{color:\"muted\",alignment:\"center\",children:a(\"confirmation.signIn.description\")})]}),o.simulateOnChainActions?yy(Xy,{changes:null,scanStatus:null,preferences:o,scanFetchStatus:\"fetched\"}):null,vy(ky,{children:[s?yy(Iy,{label:a(\"confirmation.origin\"),tooltip:a(\"confirmation.origin.tooltip\"),children:yy(Ty,{children:s})}):null,yy(Iy,{variant:E?\"critical\":\"default\",label:a(\"confirmation.signIn.domain\"),tooltip:E?a(\"confirmation.signIn.badDomain\"):void 0,children:yy(Ty,{children:c??a(\"confirmation.signIn.unknownDomain\")})}),yy(Iy,{label:a(\"confirmation.signIn.signingInWith\"),tooltip:S?a(\"confirmation.signIn.badAccount\"):void 0,variant:S?\"warning\":\"default\",children:yy(_y,{address:A,truncate:!0,displayName:!0,avatar:!0})})]}),vy(ky,{children:[yy(Ty,{fontWeight:\"medium\",children:a(\"confirmation.signIn.message\")}),yy(Ty,{children:u??\"\"}),yy(Uy,{label:\"URL\",value:l}),vy(Ey,{alignment:\"space-between\",direction:\"horizontal\",children:[yy(Ty,{fontWeight:\"medium\",color:\"alternative\",children:a(\"confirmation.network\")}),vy(Ey,{direction:\"horizontal\",alignment:\"center\",children:[yy(Ey,{alignment:\"center\",center:!0,children:yy(Cy,{borderRadius:\"medium\",src:i??wy})}),yy(Ty,{children:sc[r].name})]})]}),b?vy(Ey,{alignment:\"space-between\",direction:\"horizontal\",children:[yy(Ty,{fontWeight:\"medium\",color:\"alternative\",children:a(\"confirmation.account\")}),yy(_y,{address:b,truncate:!0,displayName:!0,avatar:!0})]}):null,yy(Uy,{label:a(\"confirmation.signIn.version\"),value:d}),yy(Uy,{label:a(\"confirmation.signIn.chainId\"),value:f}),yy(Uy,{label:a(\"confirmation.signIn.nonce\"),value:h}),yy(Uy,{label:a(\"confirmation.signIn.issuedAt\"),value:p}),yy(Uy,{label:a(\"confirmation.signIn.expirationTime\"),value:g}),yy(Uy,{label:a(\"confirmation.signIn.notBefore\"),value:m}),yy(Uy,{label:a(\"confirmation.signIn.requestId\"),value:y}),v&&v.length>0?vy(Ey,{alignment:\"space-between\",direction:\"vertical\",children:[yy(Ty,{fontWeight:\"medium\",color:\"alternative\",children:a(\"confirmation.signIn.resources\")}),yy(Ey,{direction:\"vertical\",children:v.map((e=>yy(Ty,{children:e},e)))})]}):null]})]}),vy(Ry,{children:[yy(Py,{name:Qy.Cancel,children:a(\"confirmation.cancelButton\")}),yy(Py,{name:Qy.Confirm,variant:E?\"destructive\":\"primary\",children:a(\"confirmation.confirmButton\")})]})]})};var nv=function(e){return e.Cancel=\"confirm-sign-message-cancel\",e.Confirm=\"confirm-sign-message-confirm\",e}({});const rv={\"confirm-sign-message-cancel\":async function({id:e}){await Lm(e,!1)},\"confirm-sign-message-confirm\":async function({id:e}){await Lm(e,!0)}},ov=({message:e,account:t,scope:n,locale:r,networkImage:o,origin:i})=>{const a=jy(r),{address:s}=t,c=i?new URL(i).hostname:null,u=Oy(n,s);return vy(Sy,{children:[vy(Ey,{children:[vy(Ey,{alignment:\"center\",center:!0,children:[yy(Ey,{children:null}),yy(xy,{size:\"lg\",children:a(\"confirmation.signMessage.title\")})]}),vy(ky,{children:[yy(Ey,{direction:\"horizontal\",center:!0,children:yy(Ty,{fontWeight:\"medium\",children:a(\"confirmation.signMessage.message\")})}),yy(Ey,{alignment:\"space-between\",children:yy(Ty,{children:e})})]}),vy(ky,{children:[c?vy(Ey,{alignment:\"space-between\",direction:\"horizontal\",children:[vy(Ey,{alignment:\"space-between\",direction:\"horizontal\",center:!0,children:[yy(Ty,{fontWeight:\"medium\",color:\"alternative\",children:a(\"confirmation.origin\")}),yy(Ky,{content:a(\"confirmation.origin.tooltip\"),children:yy(Hy,{name:\"question\",color:\"muted\"})})]}),yy(Ty,{children:c})]}):null,vy(Ey,{alignment:\"space-between\",direction:\"horizontal\",children:[yy(Ty,{fontWeight:\"medium\",color:\"alternative\",children:a(\"confirmation.account\")}),yy(_y,{address:u,truncate:!0,displayName:!0,avatar:!0})]}),vy(Ey,{alignment:\"space-between\",direction:\"horizontal\",children:[yy(Ty,{fontWeight:\"medium\",color:\"alternative\",children:a(\"confirmation.network\")}),vy(Ey,{direction:\"horizontal\",alignment:\"center\",children:[yy(Ey,{alignment:\"center\",center:!0,children:yy(Cy,{borderRadius:\"medium\",src:o??wy})}),yy(Ty,{children:sc[n].name})]})]})]})]}),vy(Ry,{children:[yy(Py,{name:nv.Cancel,children:a(\"confirmation.cancelButton\")}),yy(Py,{name:nv.Confirm,children:a(\"confirmation.confirmButton\")})]})]})};const iv=e=>jo(e.toString()).dividedBy(ec),av=e=>jo(e.toString()).multipliedBy(ec).integerValue(jo.ROUND_DOWN);var sv=function(e){return e.ShowAdvanced=\"confirm-sign-and-send-transaction-show-advanced\",e.Cancel=\"confirm-sign-and-send-transaction-cancel\",e.Confirm=\"confirm-sign-and-send-transaction-confirm\",e}({});const cv={\"confirm-sign-and-send-transaction-show-advanced\":async function({id:e,context:t}){const n={...t,advanced:{...t.advanced,shown:!t.advanced.shown}};await Dm(e,yy(Ev,{context:n}),n)},\"confirm-sign-and-send-transaction-cancel\":async function({id:e}){await Lm(e,!1)},\"confirm-sign-and-send-transaction-confirm\":async function({id:e}){await Lm(e,!0)}},uv=by(\"Link\");function lv(e,t,n){const{cluster:r}=sc[e];return Ec({baseUrl:\"https://solscan.io\",path:`/${t}/${n}`,queryParams:r?{cluster:r}:void 0})}const dv=e=>e.replace(/([A-Z])/gu,\" $1\").trim().replace(/^./u,(e=>e.toUpperCase())),fv=({address:e,scope:t})=>yy(uv,{href:lv(t,\"address\",e),children:yy(_y,{avatar:!1,address:Oy(t,e),truncate:!0})}),hv=({instruction:e,scope:t,locale:n})=>{const r=jy(n),{type:o,encoded:i,parsed:a}=e,{programAddress:s,dataBase58:c}=i,u=null!==a,l=dv(o);return vy(ky,{alignment:\"start\",children:[yy(Ty,{color:\"alternative\",fontWeight:\"bold\",children:l}),vy(Ey,{alignment:\"space-between\",direction:\"horizontal\",children:[yy(Ty,{color:\"alternative\",alignment:\"start\",children:r(\"confirmation.advanced.programId\")}),yy(fv,{address:s,scope:t})]}),u&&Object.entries(a.accounts??{}).map((([e,n])=>vy(Ey,{alignment:\"space-between\",direction:\"horizontal\",children:[yy(Ty,{color:\"alternative\",children:dv(e)}),Ns(n.address)?yy(fv,{address:n.address,scope:t}):yy(Ty,{children:Bm(n.address)?.toString()??\"\"})]}))),u&&Object.entries(a.data).map((([e,n])=>vy(Ey,{alignment:\"space-between\",direction:\"horizontal\",children:[yy(Ty,{color:\"alternative\",children:dv(e)}),Ns(n)?yy(fv,{address:n,scope:t}):yy(Ty,{children:Bm(n)?.toString()??\"\"})]}))),!u&&vy(Ey,{alignment:\"space-between\",direction:\"horizontal\",children:[yy(Ty,{color:\"alternative\",children:r(\"confirmation.advanced.data\")}),yy(Ty,{children:(d=c,d.length>12?`${d.slice(0,5)}...${d.slice(-5)}`:d)})]})]});var d},pv=({instructions:e,showInstructions:t,locale:n,scope:r})=>{const o=jy(n),i=t?\"hide\":\"show\",a=t?\"arrow-up\":\"arrow-down\";return vy(Ey,{alignment:\"start\",children:[vy(Py,{name:sv.ShowAdvanced,children:[o(`confirmation.advanced.${i}`),\"&nbsp;\",yy(Hy,{name:a,color:\"primary\"})]}),t&&yy(Ey,{children:e.map((e=>yy(hv,{locale:n,scope:r,instruction:e})))})]})},gv=by(\"Banner\"),mv={AccountAlreadyInUse:\"transactionScan.errors.accountAlreadyInUse\",ResultWithNegativeLamports:\"transactionScan.errors.insufficientSol\",SlippageToleranceExceeded:\"transactionScan.errors.slippageToleranceExceeded\",ExceededDesiredSlippageLimit:\"transactionScan.errors.slippageToleranceExceeded\"};function yv(e,t){const n=jy(t.locale),{code:r}=e;return n((r&&mv[r])??\"transactionScan.errors.unknownError\")}const vv={Malicious:\"danger\",Warning:\"warning\"},wv=({preferences:e,validation:t,error:n,scanFetchStatus:r})=>{const o=jy(e.locale);if(\"error\"===r)return yy(gv,{title:o(\"send.simulationTitleAPIError\"),severity:\"danger\",children:yy(Ty,{children:o(\"send.simulationMessageAPIError\")})});if(!n&&!t)return yy(Ey,{children:null});if(n)return yy(gv,{title:o(\"confirmation.simulationErrorTitle\"),severity:\"warning\",children:yy(Ty,{children:o(\"confirmation.simulationErrorSubtitle\",{reason:yv(n,e)})})});if(!t)return yy(Ey,{children:null});const i=t?.type?vv[t.type]:void 0;return i?vy(gv,{title:o(\"confirmation.validationErrorTitle\"),severity:i,children:[yy(Ty,{children:o(\"confirmation.validationErrorSubtitle\")}),yy(Ty,{size:\"sm\",children:yy(uv,{href:\"https://support.metamask.io/configure/wallet/how-to-turn-on-security-alerts/\",children:o(\"confirmation.validationErrorLearnMore\")})}),vy(Ty,{size:\"sm\",children:[yy(Hy,{color:\"primary\",name:\"security-tick\"}),\" \",o(\"confirmation.validationErrorSecurityAdviced\"),\" \",yy(uv,{href:\"https://www.blockaid.io\",children:\"Blockaid\"})]})]}):yy(Ey,{children:null})};function Av(e,t,n){return`${qy(e,n)} ${t}`}function bv(e,t){return new jo(e).multipliedBy(t).toString()}const Sv=({origin:e,accountAddress:t,scope:n,feeInSol:r,nativePrice:o,fetchingPricesStatus:i,preferences:a,networkImage:s})=>{const{currency:c,locale:u}=a,l=jy(u),d=e?new URL(e).hostname:null,f=\"fetching\"===i,h=r&&o&&!(\"error\"===i)?Wy(bv(r,o),c,u):\"\";return vy(ky,{children:[d?vy(Ey,{children:[vy(Ey,{alignment:\"space-between\",direction:\"horizontal\",children:[vy(Ey,{alignment:\"space-between\",direction:\"horizontal\",center:!0,children:[yy(Ty,{fontWeight:\"medium\",color:\"alternative\",children:l(\"confirmation.origin\")}),yy(Ky,{content:l(\"confirmation.origin.tooltip\"),children:yy(Hy,{name:\"question\",color:\"muted\"})})]}),yy(Ty,{children:d})]}),yy(Ey,{children:null})]}):null,vy(Ey,{alignment:\"space-between\",direction:\"horizontal\",children:[yy(Ty,{fontWeight:\"medium\",color:\"alternative\",children:l(\"confirmation.account\")}),yy(_y,{address:Oy(n,t),truncate:!0,displayName:!0,avatar:!0})]}),yy(Ey,{children:null}),vy(Ey,{alignment:\"space-between\",direction:\"horizontal\",children:[yy(Ty,{fontWeight:\"medium\",color:\"alternative\",children:l(\"confirmation.network\")}),vy(Ey,{direction:\"horizontal\",alignment:\"center\",children:[yy(Ey,{alignment:\"center\",center:!0,children:yy(Cy,{borderRadius:\"medium\",src:s??\"\"})}),yy(Ty,{children:sc[n].name})]})]}),yy(Ey,{children:null}),vy(Ey,{alignment:\"space-between\",direction:\"horizontal\",children:[yy(Ty,{fontWeight:\"medium\",color:\"alternative\",children:l(\"confirmation.fee\")}),r?vy(Ey,{direction:\"horizontal\",alignment:\"center\",children:[f?yy(Zy,{width:80}):yy(Ty,{color:\"muted\",children:h}),yy(Ty,{children:Av(r,sc[n].nativeToken.symbol,u)})]}):yy(Ky,{content:l(\"confirmation.feeError\"),children:yy(Hy,{name:\"warning\"})})]})]})},Ev=({context:e})=>{const t=jy(e.preferences.locale),n=e.feeEstimatedInSol,{nativeToken:r}=sc[e.scope],o=e.tokenPrices[r.caip19Id]?.price??null,i=\"fetching\"===e.scanFetchStatus||\"ERROR\"===e.scan?.status;return vy(Sy,{children:[vy(Ey,{children:[e.preferences.useSecurityAlerts?yy(wv,{scanFetchStatus:e.scanFetchStatus,validation:e.scan?.validation??null,error:e.scan?.error??null,preferences:e.preferences}):null,vy(Ey,{alignment:\"center\",center:!0,children:[yy(Ey,{children:null}),yy(xy,{size:\"lg\",children:t(`confirmation.${e.method}.title`)}),yy(Ey,{children:null})]}),e.preferences.simulateOnChainActions?yy(Xy,{scanStatus:e.scan?.status??null,scanFetchStatus:e.scanFetchStatus,changes:e.scan?.estimatedChanges??null,preferences:e.preferences}):null,yy(Sv,{accountAddress:e.account?.address??null,scope:e.scope,feeInSol:n,nativePrice:o,fetchingPricesStatus:e.tokenPricesFetchStatus,preferences:e.preferences,networkImage:e.networkImage,origin:e.origin}),yy(pv,{instructions:e.advanced.instructions,showInstructions:e.advanced.shown,locale:e.preferences.locale,scope:e.scope})]}),vy(Ry,{children:[yy(Py,{name:sv.Cancel,children:t(\"confirmation.cancelButton\")}),yy(Py,{name:sv.Confirm,disabled:i,children:t(\"confirmation.confirmButton\")})]})]})},xv={method:Ft.SignAndSendTransaction,scope:nc.Mainnet,networkImage:wy,account:null,transaction:\"\",scan:null,scanFetchStatus:\"fetching\",feeEstimatedInSol:\"0\",tokenPrices:{},tokenPricesFetchStatus:\"fetching\",origin:\"\",preferences:{locale:\"en\",currency:\"usd\",hideBalances:!1,useSecurityAlerts:!0,useExternalPricingData:!0,simulateOnChainActions:!0,useTokenDetection:!0,batchCheckBalances:!0,displayNftMedia:!0,useNftDetection:!0},advanced:{shown:!1,instructions:[]}};var Tv=function(e){return e.OnTransactionAdded=\"onTransactionAdded\",e.OnTransactionApproved=\"onTransactionApproved\",e.OnTransactionRejected=\"onTransactionRejected\",e.OnAccountsRefresh=\"onAccountsRefresh\",e}({});function kv(e){return JSON.parse(function(e){const t=[];let n=!1;for(let r=0;r<e.length;r++){let o=!1;if(\"\\\\\"===e[r]&&(t.push(e[r++]),o=!o),'\"'!==e[r]){if(!n){const n=Iv(e,r);if(n?.length){r+=n.length-1,n.match(/\\.|[eE]-/)?t.push(n):t.push(_v(n));continue}}t.push(e[r])}else t.push(e[r]),o||(n=!n)}return t.join(\"\")}(e),((e,t)=>function(e){return!!e&&\"object\"==typeof e&&\"$n\"in e&&\"string\"==typeof e.$n}(t)?function({$n:e}){if(e.match(/[eE]/)){const[t,n]=e.split(/[eE]/);return BigInt(t)*BigInt(10)**BigInt(n)}return BigInt(e)}(t):t))}function Iv(e,t){if(!e[t]?.match(/[-\\d]/))return null;const n=e.slice(t).match(/^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/);return n?n[0]:null}function _v(e){return`{\"$n\":\"${e}\"}`}var Cv=0n;function Rv(){const e=Cv;return Cv++,e.toString()}function Pv(e){return function(e){return new Proxy(e.api,{defineProperty:()=>!1,deleteProperty:()=>!1,get:(t,n,r)=>function(...o){const i=n.toString(),a=Reflect.get(t,i,r);if(!a)throw new Ba(_a,{method:i,params:o});const s=a(...o);return function({transport:e},t){return{send:async n=>await t.execute({signal:n?.abortSignal,transport:e})}}(e,s)}})}(e)}function Ov(e){return new Proxy({},{defineProperty:()=>!1,deleteProperty:()=>!1,get(...t){const[n,r]=t,o=r.toString();return function(...t){const n=Object.freeze({methodName:o,params:t}),r=e?.requestTransformer?e?.requestTransformer(n):n;return Object.freeze({execute:async({signal:t,transport:n})=>{const o=function(e){return{id:Rv(),jsonrpc:\"2.0\",method:e.methodName,params:e.params}}(r),i=await n({payload:o,signal:t});return e?.responseTransformer?e.responseTransformer(i,r):i}})}}})}function Nv(e){return null!=e&&\"object\"==typeof e&&!Array.isArray(e)&&(\"jsonrpc\"in e&&\"2.0\"===e.jsonrpc&&\"method\"in e&&\"string\"==typeof e.method&&\"params\"in e)}var Bv={};function zv(e){return function t(n,r){if(Array.isArray(n))return n.map(((e,n)=>{const o={...r,keyPath:[...r.keyPath,n]};return t(e,o)}));if(\"object\"==typeof n&&null!==n){const e={};for(const o in n){if(!Object.prototype.hasOwnProperty.call(n,o))continue;const i={...r,keyPath:[...r.keyPath,o]};e[o]=t(n[o],i)}return e}return e.reduce(((e,t)=>t(e,r)),n)}}function Mv(e,t){return n=>{const r=zv(e);return Object.freeze({...n,params:r(n.params,t)})}}function jv(e){return\"bigint\"==typeof e?Number(e):e}function Uv({commitmentPropertyName:e,params:t,optionsObjectPositionInParams:n,overrideCommitment:r}){const o=t[n];if(void 0===o||o&&\"object\"==typeof o&&!Array.isArray(o))if(o&&e in o){if(!o[e]||\"finalized\"===o[e]){const r=[...t],{[e]:i,...a}=o;return Object.keys(a).length>0?r[n]=a:n===r.length-1?r.length--:r[n]=void 0,r}}else if(\"finalized\"!==r){const i=[...t];return i[n]={...o,[e]:r},i}return t}function Dv(e){return(t,{keyPath:n})=>(\"bigint\"==typeof t&&e&&(t>Number.MAX_SAFE_INTEGER||t<-Number.MAX_SAFE_INTEGER)&&e(n,t),t)}var Lv={accountNotifications:1,blockNotifications:1,getAccountInfo:1,getBalance:1,getBlock:1,getBlockHeight:0,getBlockProduction:0,getBlocks:2,getBlocksWithLimit:2,getEpochInfo:0,getFeeForMessage:1,getInflationGovernor:0,getInflationReward:1,getLargestAccounts:0,getLatestBlockhash:0,getLeaderSchedule:1,getMinimumBalanceForRentExemption:1,getMultipleAccounts:1,getProgramAccounts:1,getSignaturesForAddress:1,getSlot:0,getSlotLeader:0,getStakeMinimumDelegation:0,getSupply:0,getTokenAccountBalance:1,getTokenAccountsByDelegate:2,getTokenAccountsByOwner:2,getTokenLargestAccounts:1,getTokenSupply:1,getTransaction:1,getTransactionCount:0,getVoteAccounts:0,isBlockhashValid:1,logsNotifications:1,programNotifications:1,requestAirdrop:2,sendTransaction:1,signatureNotifications:1,simulateTransaction:1};function $v(e){const t=e?.onIntegerOverflow;return n=>{return $u(n,t?(r=t,e=>Mv([Dv(((...t)=>r(e,...t)))],{keyPath:[]})(e)):e=>e,Mv([jv],{keyPath:[]}),function({defaultCommitment:e,optionsObjectPositionByMethod:t}){return n=>{const{params:r,methodName:o}=n;if(!Array.isArray(r))return n;const i=t[o];return null==i?n:Object.freeze({methodName:o,params:Uv({commitmentPropertyName:\"sendTransaction\"===o?\"preflightCommitment\":\"commitment\",optionsObjectPositionInParams:i,overrideCommitment:e,params:r})})}}({defaultCommitment:e?.defaultCommitment,optionsObjectPositionByMethod:Lv}));var r}}function Fv(e){return t=[qv(e)],n={keyPath:[]},e=>zv(t)(e,n);var t,n}function qv(e){return function(t,{keyPath:n}){return\"number\"==typeof t&&Number.isInteger(t)||\"bigint\"==typeof t?function(e,t){return t.some((t=>{if(t.length!==e.length)return!1;for(let n=e.length-1;n>=0;n--){const r=e[n],o=t[n];if(o!==r&&(o!==Bv||\"number\"!=typeof r))return!1}return!0}))}(n,e)?Number(t):BigInt(t):t}}function Wv(e){return(t,n)=>{const r=n.methodName,o=e?.allowedNumericKeyPaths&&r?e.allowedNumericKeyPaths[r]:void 0;return $u(t,(e=>(e=>{const t=e;if(\"error\"in t)throw $a(t.error);return t})(e)),(e=>e.result),(e=>Fv(o??[])(e,n)))}}var Vv,Kv=[[\"data\",\"parsed\",\"info\",\"tokenAmount\",\"decimals\"],[\"data\",\"parsed\",\"info\",\"tokenAmount\",\"uiAmount\"],[\"data\",\"parsed\",\"info\",\"rentExemptReserve\",\"decimals\"],[\"data\",\"parsed\",\"info\",\"rentExemptReserve\",\"uiAmount\"],[\"data\",\"parsed\",\"info\",\"delegatedAmount\",\"decimals\"],[\"data\",\"parsed\",\"info\",\"delegatedAmount\",\"uiAmount\"],[\"data\",\"parsed\",\"info\",\"extensions\",Bv,\"state\",\"olderTransferFee\",\"transferFeeBasisPoints\"],[\"data\",\"parsed\",\"info\",\"extensions\",Bv,\"state\",\"newerTransferFee\",\"transferFeeBasisPoints\"],[\"data\",\"parsed\",\"info\",\"extensions\",Bv,\"state\",\"preUpdateAverageRate\"],[\"data\",\"parsed\",\"info\",\"extensions\",Bv,\"state\",\"currentRate\"]],Gv=[...Kv,[\"data\",\"parsed\",\"info\",\"lastExtendedSlotStartIndex\"],[\"data\",\"parsed\",\"info\",\"slashPenalty\"],[\"data\",\"parsed\",\"info\",\"warmupCooldownRate\"],[\"data\",\"parsed\",\"info\",\"decimals\"],[\"data\",\"parsed\",\"info\",\"numRequiredSigners\"],[\"data\",\"parsed\",\"info\",\"numValidSigners\"],[\"data\",\"parsed\",\"info\",\"stake\",\"delegation\",\"warmupCooldownRate\"],[\"data\",\"parsed\",\"info\",\"exemptionThreshold\"],[\"data\",\"parsed\",\"info\",\"burnPercent\"],[\"data\",\"parsed\",\"info\",\"commission\"],[\"data\",\"parsed\",\"info\",\"votes\",Bv,\"confirmationCount\"]],Hv=[[\"index\"],[\"instructions\",Bv,\"accounts\",Bv],[\"instructions\",Bv,\"programIdIndex\"],[\"instructions\",Bv,\"stackHeight\"]],Jv=[[\"addressTableLookups\",Bv,\"writableIndexes\",Bv],[\"addressTableLookups\",Bv,\"readonlyIndexes\",Bv],[\"header\",\"numReadonlySignedAccounts\"],[\"header\",\"numReadonlyUnsignedAccounts\"],[\"header\",\"numRequiredSignatures\"],[\"instructions\",Bv,\"accounts\",Bv],[\"instructions\",Bv,\"programIdIndex\"],[\"instructions\",Bv,\"stackHeight\"]];function Zv(e){return Ov({requestTransformer:$v(e),responseTransformer:Wv({allowedNumericKeyPaths:Yv()})})}function Yv(){return Vv||(Vv={getAccountInfo:Gv.map((e=>[\"value\",...e])),getBlock:[[\"transactions\",Bv,\"meta\",\"preTokenBalances\",Bv,\"accountIndex\"],[\"transactions\",Bv,\"meta\",\"preTokenBalances\",Bv,\"uiTokenAmount\",\"decimals\"],[\"transactions\",Bv,\"meta\",\"postTokenBalances\",Bv,\"accountIndex\"],[\"transactions\",Bv,\"meta\",\"postTokenBalances\",Bv,\"uiTokenAmount\",\"decimals\"],[\"transactions\",Bv,\"meta\",\"rewards\",Bv,\"commission\"],...Hv.map((e=>[\"transactions\",Bv,\"meta\",\"innerInstructions\",Bv,...e])),...Jv.map((e=>[\"transactions\",Bv,\"transaction\",\"message\",...e])),[\"rewards\",Bv,\"commission\"]],getClusterNodes:[[Bv,\"featureSet\"],[Bv,\"shredVersion\"]],getInflationGovernor:[[\"initial\"],[\"foundation\"],[\"foundationTerm\"],[\"taper\"],[\"terminal\"]],getInflationRate:[[\"foundation\"],[\"total\"],[\"validator\"]],getInflationReward:[[Bv,\"commission\"]],getMultipleAccounts:Gv.map((e=>[\"value\",Bv,...e])),getProgramAccounts:Gv.flatMap((e=>[[\"value\",Bv,\"account\",...e],[Bv,\"account\",...e]])),getRecentPerformanceSamples:[[Bv,\"samplePeriodSecs\"]],getTokenAccountBalance:[[\"value\",\"decimals\"],[\"value\",\"uiAmount\"]],getTokenAccountsByDelegate:Kv.map((e=>[\"value\",Bv,\"account\",...e])),getTokenAccountsByOwner:Kv.map((e=>[\"value\",Bv,\"account\",...e])),getTokenLargestAccounts:[[\"value\",Bv,\"decimals\"],[\"value\",Bv,\"uiAmount\"]],getTokenSupply:[[\"value\",\"decimals\"],[\"value\",\"uiAmount\"]],getTransaction:[[\"meta\",\"preTokenBalances\",Bv,\"accountIndex\"],[\"meta\",\"preTokenBalances\",Bv,\"uiTokenAmount\",\"decimals\"],[\"meta\",\"postTokenBalances\",Bv,\"accountIndex\"],[\"meta\",\"postTokenBalances\",Bv,\"uiTokenAmount\",\"decimals\"],[\"meta\",\"rewards\",Bv,\"commission\"],...Hv.map((e=>[\"meta\",\"innerInstructions\",Bv,...e])),...Jv.map((e=>[\"transaction\",\"message\",...e]))],getVersion:[[\"feature-set\"]],getVoteAccounts:[[\"current\",Bv,\"commission\"],[\"delinquent\",Bv,\"commission\"]],simulateTransaction:[...Gv.map((e=>[\"value\",\"accounts\",Bv,...e])),...Hv.map((e=>[\"value\",\"innerInstructions\",Bv,...e]))]}),Vv}Object.assign({\"accept-charset\":!0,\"access-control-request-headers\":!0,\"access-control-request-method\":!0,connection:!0,\"content-length\":!0,cookie:!0,date:!0,dnt:!0,expect:!0,host:!0,\"keep-alive\":!0,origin:!0,\"permissions-policy\":!0,referer:!0,te:!0,trailer:!0,\"transfer-encoding\":!0,upgrade:!0,via:!0},{\"accept-encoding\":!0});var Xv=[\"getAccountInfo\",\"getBalance\",\"getBlock\",\"getBlockCommitment\",\"getBlockHeight\",\"getBlockProduction\",\"getBlocks\",\"getBlocksWithLimit\",\"getBlockTime\",\"getClusterNodes\",\"getEpochInfo\",\"getEpochSchedule\",\"getFeeForMessage\",\"getFirstAvailableBlock\",\"getGenesisHash\",\"getHealth\",\"getHighestSnapshotSlot\",\"getIdentity\",\"getInflationGovernor\",\"getInflationRate\",\"getInflationReward\",\"getLargestAccounts\",\"getLatestBlockhash\",\"getLeaderSchedule\",\"getMaxRetransmitSlot\",\"getMaxShredInsertSlot\",\"getMinimumBalanceForRentExemption\",\"getMultipleAccounts\",\"getProgramAccounts\",\"getRecentPerformanceSamples\",\"getRecentPrioritizationFees\",\"getSignaturesForAddress\",\"getSignatureStatuses\",\"getSlot\",\"getSlotLeader\",\"getSlotLeaders\",\"getStakeMinimumDelegation\",\"getSupply\",\"getTokenAccountBalance\",\"getTokenAccountsByDelegate\",\"getTokenAccountsByOwner\",\"getTokenLargestAccounts\",\"getTokenSupply\",\"getTransaction\",\"getTransactionCount\",\"getVersion\",\"getVoteAccounts\",\"index\",\"isBlockhashValid\",\"minimumLedgerSlot\",\"requestAirdrop\",\"sendTransaction\",\"simulateTransaction\"];function Qv(e){return Nv(e)&&Xv.includes(e.method)}function ew(e){return function(e){const{fromJson:t,headers:n,toJson:r,url:o}=e,i=n&&function(e){const t={};for(const n in e)t[n.toLowerCase()]=e[n];return t}(n);return async function({payload:e,signal:n}){const a=r?r(e):JSON.stringify(e),s={body:a,headers:{...i,accept:\"application/json\",\"content-length\":a.length.toString(),\"content-type\":\"application/json; charset=utf-8\"},method:\"POST\",signal:n},c=await fetch(o,s);if(!c.ok)throw new Ba(Ia,{headers:c.headers,message:c.statusText,statusCode:c.status});return t?t(await c.text(),e):await c.json()}}({...e,fromJson:(e,t)=>Qv(t)?kv(e):JSON.parse(e),toJson:e=>{return Qv(e)?(t=e,function(e){return e.replace(/\\{\\s*\"\\$n\"\\s*:\\s*\"(-?\\d+)\"\\s*\\}/g,\"$1\")}(JSON.stringify(t,((e,t)=>\"bigint\"==typeof t?function(e){return{$n:`${e}`}}(t):t),n))):JSON.stringify(e);var t,n}})}var tw=Object.prototype.toString,nw=Object.keys||function(e){const t=[];for(const n in e)t.push(n);return t};function rw(e,t){let n,r,o,i,a,s,c;if(!0===e)return\"true\";if(!1===e)return\"false\";switch(typeof e){case\"object\":if(null===e)return null;if(\"toJSON\"in e&&\"function\"==typeof e.toJSON)return rw(e.toJSON(),t);if(c=tw.call(e),\"[object Array]\"===c){for(o=\"[\",r=e.length-1,n=0;n<r;n++)o+=rw(e[n],!0)+\",\";return r>-1&&(o+=rw(e[n],!0)),o+\"]\"}if(\"[object Object]\"===c){for(i=nw(e).sort(),r=i.length,o=\"\",n=0;n<r;)a=i[n],s=rw(e[a],!1),void 0!==s&&(o&&(o+=\",\"),o+=JSON.stringify(a)+\":\"+s),n++;return\"{\"+o+\"}\"}return JSON.stringify(e);case\"function\":case\"undefined\":return t?null:void 0;case\"bigint\":return`${e.toString()}n`;case\"string\":return JSON.stringify(e);default:return isFinite(e)?e:null}}function ow(e){const t=rw(e,!1);if(void 0!==t)return\"\"+t}function iw(e,t,n){let r=\"\";if(\"number\"==typeof t[0]){const e=t[0]+1,n=e%10,o=e%100;r=1==n&&11!=o?e+\"st\":2==n&&12!=o?e+\"nd\":3==n&&13!=o?e+\"rd\":e+\"th\"}else r=`\\`${t[0].toString()}\\``;const o=t.length>1?t.slice(1).map((e=>\"number\"==typeof e?`[${e}]`:e)).join(\".\"):void 0,i=new Ba(ka,{argumentLabel:r,keyPath:t,methodName:e,optionalPathLabel:o?` at path \\`${o}\\``:\"\",value:n,...void 0!==o?{path:o}:void 0});return za(i,iw),i}var aw,sw={defaultCommitment:\"confirmed\",onIntegerOverflow(e,t,n){throw iw(e.methodName,t,n)}},cw=globalThis.AbortController;function uw(e){return Nv(e)?ow([e.method,e.params]):void 0}function lw(e){const t={};for(const n in e)t[n.toLowerCase()]=e[n];return t}function dw(e){return $u(ew({...e,headers:{...!1,...e.headers?lw(e.headers):void 0,\"solana-client\":\"js/2.1.0\"}}),(e=>function(e,t){let n;return async function(r){const{payload:o,signal:i}=r,a=t(o);if(void 0===a)return await e(r);if(n||(queueMicrotask((()=>{n=void 0})),n={}),null==n[a]){const t=new cw,o=(async()=>{try{return await e({...r,signal:t.signal})}catch(e){if(e===(aw||={}))return;throw e}})();n[a]={abortController:t,numConsumers:0,responsePromise:o}}const s=n[a];if(s.numConsumers++,i){const e=s.responsePromise;return await new Promise(((t,n)=>{const r=e=>{i.removeEventListener(\"abort\",r),s.numConsumers-=1,queueMicrotask((()=>{0===s.numConsumers&&s.abortController.abort(aw||={})})),n(e.target.reason)};i.addEventListener(\"abort\",r),e.then(t).catch(n).finally((()=>{i.removeEventListener(\"abort\",r)}))}))}return await s.responsePromise}}(e,uw)))}function fw(e){return Pv({api:Zv(sw),transport:e})}const hw=[\"getTransaction\",\"getSignaturesForAddress\"],pw=e=>{const t=dw({url:e}),n=dw({url:e,headers:{\"x-bigtable\":\"disabled\"}});return async(...e)=>{const{payload:r}=e[0],{method:o}=r,i=hw.includes(o);return Cd.info(`[🚌 ToggleInfuraBigtableLookupsTransport] RPC method is ${o}. ${i?\"Enabling\":\"Disabling\"} BigTable lookups.`),i?t(...e):n(...e)}},gw=e=>async(...t)=>{let n;const r=e.length;for(const[o,i]of e.entries())try{return Cd.info(`[🚌 FailoverTransport] Attempting to use transport ${o+1} of ${r}`),await i(...t)}catch(e){n=e;const t=o===r-1;Cd.error(`[🚌 FailoverTransport] Transport failed: ${e}. ${t?\"No more transports to try.\":\"Trying next transport...\"}`)}throw n};async function mw(e){return new Promise((t=>setTimeout(t,e)))}const yw=e=>async(...t)=>{const{payload:n}=t[0],{method:r}=n;let o;for(let n=0;n<4;n++)try{return Cd.info(`[🚌 RetryingTransport] Attempt \"${r}\" ${n+1} of 4`),await e(...t)}catch(e){if(Cd.error(`[🚌 RetryingTransport] Error during attempt \"${r}\" ${n+1} of 4: ${e}`),o=e,n<3){const e=(i=n,Math.min(400*Math.pow(2,i),1500));Cd.info(`[🚌 RetryingTransport] Sleeping for ${e}ms`),await mw(e)}}var i;throw o};const vw=(e,t)=>(e=>Boolean(e.feePayer))(t)?t:Il(e,t),ww=e=>e.programAddress===Vf&&Gf({data:new Uint8Array,...e})===Kf.SetComputeUnitPrice,Aw=e=>e.instructions.filter(Boolean).some(ww),bw=e=>e.programAddress===Vf&&Gf({data:new Uint8Array,...e})===Kf.SetComputeUnitLimit,Sw=e=>e.instructions.filter(Boolean).some(bw);class Ew{#f;#i;static defaultComputeUnitPriceInMicroLamportsPerComputeUnit=10000n;constructor(e,t){this.#f=e,this.#i=t}async getLatestBlockhash(e){try{return(await this.#f.getRpc(e).getLatestBlockhash().send()).value}catch(e){throw this.#i.error(e),e}}async getComputeUnitEstimate(e,t){const n=pm({rpc:this.#f.getRpc(t)});return await n(e)}async getFeeFromBase64StringInLamports(e,t){try{z(e,bc);const n=await Sm(e,this.#f.getRpc(t)),r=\"instructions\"in n?e:xs().decode(n.messageBytes),o=this.#f.getRpc(t),i=await o.getFeeForMessage(r,{commitment:\"confirmed\"}).send();return this.#i.log(`Transaction is estimated to cost ${i.value} lamports`),i.value}catch(e){return this.#i.error(e),null}}async waitForTransactionCommitment(e,t,n){z(e,Ac);const r=this.#f.getRpc(n);return async function(e,t){const n=t?.maxAttempts??10,r=t?.delayMs??1e3;let o=0;for(;o<n;)try{return await e()}catch(e){if(o+=1,o===n)throw e;await new Promise((e=>setTimeout(e,r)))}throw new Error(\"Unreachable\")}((async()=>{this.#i.log(`🔎 Checking if transaction ${e} has reached commitment level ${t}`);const n=await r.getTransaction(tu(e),{commitment:t,maxSupportedTransactionVersion:0}).send();if(n)return this.#i.log(`🎉 Transaction ${e} has reached commitment level ${t}`),n;const o=`⚠️ Transaction with signature ${e} not found or has not yet reached requested commitment level: ${t}`;throw this.#i.warn(o),new Error(o)}),{delayMs:200})}async partiallySignBase64String(e,t,n,r){const o=this.#f.getRpc(n),i=await Sm(e,o,r);if(\"instructions\"in i)return this.#x(i,t,n);if(Object.values(i.signatures).every((e=>!e))){const{messageBytes:e}=i,a=await Am(e,o,r);return this.#x(a,t,n)}return this.#T(i,t)}async#x(e,t,n){const{privateKeyBytes:r}=await Nm({entropySource:t.entropySource,derivationPath:t.derivationPath}),o=await Zl(r),i=Fu(e)?e.lifetimeConstraint:await this.getLatestBlockhash(n),a=Aw(e),s=Ew.defaultComputeUnitPriceInMicroLamportsPerComputeUnit,c=!Sw(e)||!a,u=await $u(e,(e=>vw(o.address,e)),(e=>{return t=i,Fu(n=e)?n:qu(t,n);var t,n}),(e=>((e,t,n)=>Aw(e)?e:Rl([rh(t,n)],e))(e,{microLamports:s})),(async e=>c?(async(e,t,n)=>{try{const r=e.instructions.filter(Boolean),o=pm({rpc:t}),i=await o(e,n?.getComputeUnitEstimateConfig).catch((e=>{if(Na(e,ia))return e.context.unitsConsumed;throw e}));return{...(0,ni.cloneDeep)(e),instructions:[...r.filter((e=>!bw(e))),Qf({units:i},n?.getSetComputeUnitLimitInstructionConfig)]}}catch(t){return e}})(e,this.#f.getRpc(n)):e)),l=Hl([o],u);return await Xl(l)}async#T(e,t){const{privateKeyBytes:n}=await Nm({entropySource:t.entropySource,derivationPath:t.derivationPath});return Ul([await ru(n)],e)}}var xw,Tw=[\"u8\",\"u16\",\"u32\",\"u64\",\"u128\",\"i8\",\"i16\",\"i32\",\"i64\",\"i128\",\"f32\",\"f64\"],kw=function(){function e(){this.offset=0,this.buffer_size=256,this.buffer=new ArrayBuffer(this.buffer_size),this.view=new DataView(this.buffer)}return e.prototype.resize_if_necessary=function(e){if(this.buffer_size-this.offset<e){this.buffer_size=Math.max(2*this.buffer_size,this.buffer_size+e);var t=new ArrayBuffer(this.buffer_size);new Uint8Array(t).set(new Uint8Array(this.buffer)),this.buffer=t,this.view=new DataView(t)}},e.prototype.get_used_buffer=function(){return new Uint8Array(this.buffer).slice(0,this.offset)},e.prototype.store_value=function(e,t){var n=t.substring(1),r=parseInt(n)/8;this.resize_if_necessary(r);var o=\"f\"===t[0]?\"setFloat\".concat(n):\"i\"===t[0]?\"setInt\".concat(n):\"setUint\".concat(n);this.view[o](this.offset,e,!0),this.offset+=r},e.prototype.store_bytes=function(e){this.resize_if_necessary(e.length),new Uint8Array(this.buffer).set(new Uint8Array(e),this.offset),this.offset+=e.length},e}(),Iw=function(){function e(e){this.offset=0,this.buffer_size=e.length,this.buffer=new ArrayBuffer(e.length),new Uint8Array(this.buffer).set(e),this.view=new DataView(this.buffer)}return e.prototype.assert_enough_buffer=function(e){if(this.offset+e>this.buffer.byteLength)throw new Error(\"Error in schema, the buffer is smaller than expected\")},e.prototype.consume_value=function(e){var t=e.substring(1),n=parseInt(t)/8;this.assert_enough_buffer(n);var r=\"f\"===e[0]?\"getFloat\".concat(t):\"i\"===e[0]?\"getInt\".concat(t):\"getUint\".concat(t),o=this.view[r](this.offset,!0);return this.offset+=n,o},e.prototype.consume_bytes=function(e){this.assert_enough_buffer(e);var t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t},e}(),_w=(xw=function(e,t){return xw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},xw(e,t)},function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Class extends value \"+String(t)+\" is not a constructor or null\");function n(){this.constructor=e}xw(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function Cw(e,t,n){if(typeof e!==t)throw new Error(\"Expected \".concat(t,\" not \").concat(typeof e,\"(\").concat(e,\") at \").concat(n.join(\".\")))}function Rw(e,t,n){if(e!==t)throw new Error(\"Array length \".concat(e,\" does not match schema length \").concat(t,\" at \").concat(n.join(\".\")))}var Pw=Tw.concat([\"bool\",\"string\"]),Ow=[\"option\",\"enum\",\"array\",\"set\",\"map\",\"struct\"],Nw=function(e){function t(t,n){var r=\"Invalid schema: \".concat(JSON.stringify(t),\" expected \").concat(n);return e.call(this,r)||this}return _w(t,e),t}(Error);function Bw(e){if(\"string\"!=typeof e||!Pw.includes(e)){if(e&&\"object\"==typeof e){var t=Object.keys(e);if(1===t.length&&Ow.includes(t[0])){var n=t[0];if(\"option\"===n)return Bw(e[n]);if(\"enum\"===n)return function(e){if(!Array.isArray(e))throw new Nw(e,\"Array\");for(var t=0,n=e;t<n.length;t++){var r=n[t];if(\"object\"!=typeof r||!(\"struct\"in r))throw new Error('Missing \"struct\" key in enum schema');if(\"object\"!=typeof r.struct||1!==Object.keys(r.struct).length)throw new Error('The \"struct\" in each enum must have a single key');Bw({struct:r.struct})}}(e[n]);if(\"array\"===n)return function(e){if(\"object\"!=typeof e)throw new Nw(e,\"{ type, len? }\");if(e.len&&\"number\"!=typeof e.len)throw new Error(\"Invalid schema: \".concat(e));if(\"type\"in e)return Bw(e.type);throw new Nw(e,\"{ type, len? }\")}(e[n]);if(\"set\"===n)return Bw(e[n]);if(\"map\"===n)return function(e){if(\"object\"!=typeof e||!(\"key\"in e)||!(\"value\"in e))throw new Nw(e,\"{ key, value }\");Bw(e.key),Bw(e.value)}(e[n]);if(\"struct\"===n)return function(e){if(\"object\"!=typeof e)throw new Nw(e,\"object\");for(var t in e)Bw(e[t])}(e[n])}}throw new Nw(e,Ow.join(\", \")+\" or \"+Pw.join(\", \"))}}!function(){function e(e){this.encoded=new kw,this.fieldPath=[\"value\"],this.checkTypes=e}e.prototype.encode=function(e,t){return this.encode_value(e,t),this.encoded.get_used_buffer()},e.prototype.encode_value=function(e,t){if(\"string\"==typeof t){if(Tw.includes(t))return this.encode_integer(e,t);if(\"string\"===t)return this.encode_string(e);if(\"bool\"===t)return this.encode_boolean(e)}if(\"object\"==typeof t){if(\"option\"in t)return this.encode_option(e,t);if(\"enum\"in t)return this.encode_enum(e,t);if(\"array\"in t)return this.encode_array(e,t);if(\"set\"in t)return this.encode_set(e,t);if(\"map\"in t)return this.encode_map(e,t);if(\"struct\"in t)return this.encode_struct(e,t)}},e.prototype.encode_integer=function(e,t){var n=parseInt(t.substring(1));n<=32||\"f64\"==t?(this.checkTypes&&Cw(e,\"number\",this.fieldPath),this.encoded.store_value(e,t)):(this.checkTypes&&function(e,t){if(!([\"number\",\"string\",\"bigint\",\"boolean\"].includes(typeof e)||\"object\"==typeof e&&null!==e&&\"toString\"in e))throw new Error(\"Expected bigint, number, boolean or string not \".concat(typeof e,\"(\").concat(e,\") at \").concat(t.join(\".\")))}(e,this.fieldPath),this.encode_bigint(BigInt(e),n))},e.prototype.encode_bigint=function(e,t){for(var n=t/8,r=new Uint8Array(n),o=0;o<n;o++)r[o]=Number(e&BigInt(255)),e>>=BigInt(8);this.encoded.store_bytes(new Uint8Array(r))},e.prototype.encode_string=function(e){this.checkTypes&&Cw(e,\"string\",this.fieldPath);for(var t=e,n=[],r=0;r<t.length;r++){var o=t.charCodeAt(r);o<128?n.push(o):o<2048?n.push(192|o>>6,128|63&o):o<55296||o>=57344?n.push(224|o>>12,128|o>>6&63,128|63&o):(r++,o=65536+((1023&o)<<10|1023&t.charCodeAt(r)),n.push(240|o>>18,128|o>>12&63,128|o>>6&63,128|63&o))}this.encoded.store_value(n.length,\"u32\"),this.encoded.store_bytes(new Uint8Array(n))},e.prototype.encode_boolean=function(e){this.checkTypes&&Cw(e,\"boolean\",this.fieldPath),this.encoded.store_value(e?1:0,\"u8\")},e.prototype.encode_option=function(e,t){null==e?this.encoded.store_value(0,\"u8\"):(this.encoded.store_value(1,\"u8\"),this.encode_value(e,t.option))},e.prototype.encode_enum=function(e,t){this.checkTypes&&function(e,t){if(\"object\"!=typeof e||null===e)throw new Error(\"Expected object not \".concat(typeof e,\"(\").concat(e,\") at \").concat(t.join(\".\")))}(e,this.fieldPath);for(var n=Object.keys(e)[0],r=0;r<t.enum.length;r++){var o=t.enum[r];if(n===Object.keys(o.struct)[0])return this.encoded.store_value(r,\"u8\"),this.encode_struct(e,o)}throw new Error(\"Enum key (\".concat(n,\") not found in enum schema: \").concat(JSON.stringify(t),\" at \").concat(this.fieldPath.join(\".\")))},e.prototype.encode_array=function(e,t){if(function(e){return Array.isArray(e)||!!e&&\"object\"==typeof e&&\"length\"in e&&\"number\"==typeof e.length&&(0===e.length||e.length>0&&e.length-1 in e)}(e))return this.encode_arraylike(e,t);if(e instanceof ArrayBuffer)return this.encode_buffer(e,t);throw new Error(\"Expected Array-like not \".concat(typeof e,\"(\").concat(e,\") at \").concat(this.fieldPath.join(\".\")))},e.prototype.encode_arraylike=function(e,t){t.array.len?Rw(e.length,t.array.len,this.fieldPath):this.encoded.store_value(e.length,\"u32\");for(var n=0;n<e.length;n++)this.encode_value(e[n],t.array.type)},e.prototype.encode_buffer=function(e,t){t.array.len?Rw(e.byteLength,t.array.len,this.fieldPath):this.encoded.store_value(e.byteLength,\"u32\"),this.encoded.store_bytes(new Uint8Array(e))},e.prototype.encode_set=function(e,t){this.checkTypes&&Cw(e,\"object\",this.fieldPath);var n=e instanceof Set?Array.from(e.values()):Object.values(e);this.encoded.store_value(n.length,\"u32\");for(var r=0,o=n;r<o.length;r++){var i=o[r];this.encode_value(i,t.set)}},e.prototype.encode_map=function(e,t){this.checkTypes&&Cw(e,\"object\",this.fieldPath);var n=e instanceof Map,r=n?Array.from(e.keys()):Object.keys(e);this.encoded.store_value(r.length,\"u32\");for(var o=0,i=r;o<i.length;o++){var a=i[o];this.encode_value(a,t.map.key),this.encode_value(n?e.get(a):e[a],t.map.value)}},e.prototype.encode_struct=function(e,t){this.checkTypes&&Cw(e,\"object\",this.fieldPath);for(var n=0,r=Object.keys(t.struct);n<r.length;n++){var o=r[n];this.fieldPath.push(o),this.encode_value(e[o],t.struct[o]),this.fieldPath.pop()}}}();var zw=function(){function e(e){this.buffer=new Iw(e)}return e.prototype.decode=function(e){return this.decode_value(e)},e.prototype.decode_value=function(e){if(\"string\"==typeof e){if(Tw.includes(e))return this.decode_integer(e);if(\"string\"===e)return this.decode_string();if(\"bool\"===e)return this.decode_boolean()}if(\"object\"==typeof e){if(\"option\"in e)return this.decode_option(e);if(\"enum\"in e)return this.decode_enum(e);if(\"array\"in e)return this.decode_array(e);if(\"set\"in e)return this.decode_set(e);if(\"map\"in e)return this.decode_map(e);if(\"struct\"in e)return this.decode_struct(e)}throw new Error(\"Unsupported type: \".concat(e))},e.prototype.decode_integer=function(e){var t=parseInt(e.substring(1));return t<=32||\"f64\"==e?this.buffer.consume_value(e):this.decode_bigint(t,e.startsWith(\"i\"))},e.prototype.decode_bigint=function(e,t){void 0===t&&(t=!1);var n=e/8,r=new Uint8Array(this.buffer.consume_bytes(n)),o=r.reduceRight((function(e,t){return e+t.toString(16).padStart(2,\"0\")}),\"\");return t&&r[n-1]?BigInt.asIntN(e,BigInt(\"0x\".concat(o))):BigInt(\"0x\".concat(o))},e.prototype.decode_string=function(){for(var e=this.decode_integer(\"u32\"),t=new Uint8Array(this.buffer.consume_bytes(e)),n=[],r=0;r<e;++r){var o=t[r];if(o<128)n.push(o);else if(o<224)n.push((31&o)<<6|63&t[++r]);else if(o<240)n.push((15&o)<<12|(63&t[++r])<<6|63&t[++r]);else{var i=(7&o)<<18|(63&t[++r])<<12|(63&t[++r])<<6|63&t[++r];n.push(i)}}return String.fromCodePoint.apply(String,n)},e.prototype.decode_boolean=function(){return this.buffer.consume_value(\"u8\")>0},e.prototype.decode_option=function(e){var t=this.buffer.consume_value(\"u8\");if(1===t)return this.decode_value(e.option);if(0!==t)throw new Error(\"Invalid option \".concat(t));return null},e.prototype.decode_enum=function(e){var t,n=this.buffer.consume_value(\"u8\");if(n>e.enum.length)throw new Error(\"Enum option \".concat(n,\" is not available\"));var r=e.enum[n].struct,o=Object.keys(r)[0];return(t={})[o]=this.decode_value(r[o]),t},e.prototype.decode_array=function(e){for(var t=[],n=e.array.len?e.array.len:this.decode_integer(\"u32\"),r=0;r<n;++r)t.push(this.decode_value(e.array.type));return t},e.prototype.decode_set=function(e){for(var t=this.decode_integer(\"u32\"),n=new Set,r=0;r<t;++r)n.add(this.decode_value(e.set));return n},e.prototype.decode_map=function(e){for(var t=this.decode_integer(\"u32\"),n=new Map,r=0;r<t;++r){var o=this.decode_value(e.map.key),i=this.decode_value(e.map.value);n.set(o,i)}return n},e.prototype.decode_struct=function(e){var t={};for(var n in e.struct)t[n]=this.decode_value(e.struct[n]);return t},e}();function Mw(e,t,n){return void 0===n&&(n=!0),n&&Bw(e),new zw(t).decode(e)}var jw=(e=>(e[e.Uninitialized=0]=\"Uninitialized\",e[e.Initialized=1]=\"Initialized\",e[e.Frozen=2]=\"Frozen\",e))(jw||{});const Uw=Us(),Dw=(vs(),xs()),Lw=Cs(),$w=Za(Bu([[\"mint\",Ms()],[\"owner\",Ms()],[\"amount\",Dc()],[\"delegate\",lh(Ms(),{prefix:jc(),noneValue:\"zeroes\"})],[\"state\",Cu(jw)],[\"isNative\",lh(Dc(),{prefix:jc(),noneValue:\"zeroes\"})],[\"delegatedAmount\",Dc()],[\"closeAuthority\",lh(Ms(),{prefix:jc(),noneValue:\"zeroes\"})]]),zu([[\"mint\",js()],[\"owner\",js()],[\"amount\",Lc()],[\"delegate\",dh(js(),{prefix:Uc(),noneValue:\"zeroes\"})],[\"state\",Ru(jw)],[\"isNative\",dh(Lc(),{prefix:Uc(),noneValue:\"zeroes\"})],[\"delegatedAmount\",Lc()],[\"closeAuthority\",dh(js(),{prefix:Uc(),noneValue:\"zeroes\"})]]));var Fw;!function(e){e.SymbolNotFound=\"SymbolNotFound\",e.InvalidSubdomain=\"InvalidSubdomain\",e.PrimaryDomainNotFound=\"PrimaryDomainNotFound\",e.MissingParentOwner=\"MissingParentOwner\",e.U32Overflow=\"U32Overflow\",e.InvalidBufferLength=\"InvalidBufferLength\",e.U64Overflow=\"U64Overflow\",e.NoRecordData=\"NoRecordData\",e.InvalidRecordData=\"InvalidRecordData\",e.UnsupportedRecord=\"UnsupportedRecord\",e.InvalidEvmAddress=\"InvalidEvmAddress\",e.InvalidInjectiveAddress=\"InvalidInjectiveAddress\",e.InvalidARecord=\"InvalidARecord\",e.InvalidAAAARecord=\"InvalidAAAARecord\",e.InvalidRecordInput=\"InvalidRecordInput\",e.InvalidSignature=\"InvalidSignature\",e.AccountDoesNotExist=\"AccountDoesNotExist\",e.MultipleRegistries=\"MultipleRegistries\",e.InvalidReverseTwitter=\"InvalidReverseTwitter\",e.NoAccountData=\"NoAccountData\",e.InvalidInput=\"InvalidInput\",e.InvalidDomain=\"InvalidDomain\",e.InvalidCustomBg=\"InvalidCustomBackground\",e.UnsupportedSignature=\"UnsupportedSignature\",e.RecordDoestNotSupportGuardianSig=\"RecordDoestNotSupportGuardianSig\",e.RecordIsNotSigned=\"RecordIsNotSigned\",e.UnsupportedSignatureType=\"UnsupportedSignatureType\",e.InvalidSolRecordV2=\"InvalidSolRecordV2\",e.MissingVerifier=\"MissingVerifier\",e.PythFeedNotFound=\"PythFeedNotFound\",e.InvalidRoA=\"InvalidRoA\",e.InvalidPda=\"InvalidPda\",e.InvalidParent=\"InvalidParent\",e.NftAccountNotFound=\"NftRecordNotFound\",e.PdaOwnerNotAllowed=\"PdaOwnerNotAllowed\",e.DomainDoesNotExist=\"DomainDoesNotExist\",e.RecordMalformed=\"RecordMalformed\",e.CouldNotFindNftOwner=\"CouldNotFindNftOwner\",e.InvalidValidation=\"InvalidValidation\",e.InvalidSerializedData=\"InvalidSerializedData\"}(Fw||(Fw={}));class qw extends Error{type;constructor(e,t){super(t),this.name=\"SNSError\",this.type=e,Error.captureStackTrace&&Error.captureStackTrace(this,qw)}}class Ww extends qw{constructor(e){super(Fw.PrimaryDomainNotFound,e)}}class Vw extends qw{constructor(e){super(Fw.NoRecordData,e)}}class Kw extends qw{constructor(e){super(Fw.AccountDoesNotExist,e)}}class Gw extends qw{constructor(e){super(Fw.NoAccountData,e)}}class Hw extends qw{constructor(e){super(Fw.InvalidInput,e)}}class Jw extends qw{constructor(e){super(Fw.InvalidRoA,e)}}class Zw extends qw{constructor(e){super(Fw.NftAccountNotFound,e)}}class Yw extends qw{constructor(e){super(Fw.PdaOwnerNotAllowed,e)}}class Xw extends qw{constructor(e){super(Fw.DomainDoesNotExist,e)}}class Qw extends qw{constructor(e){super(Fw.RecordMalformed,e)}}class eA extends qw{constructor(e){super(Fw.CouldNotFindNftOwner,e)}}class tA extends qw{constructor(e){super(Fw.InvalidValidation,e)}}class nA extends qw{constructor(e){super(Fw.InvalidSerializedData,e)}}class rA{static HEADER_LEN=96;parentName;owner;class;data;static schema={struct:{parentName:{array:{type:\"u8\",len:32}},owner:{array:{type:\"u8\",len:32}},class:{array:{type:\"u8\",len:32}}}};constructor(e){this.parentName=Uw.decode(e.parentName),this.owner=Uw.decode(e.owner),this.class=Uw.decode(e.class)}static deserialize(e){try{const t=new rA(Mw(this.schema,e));return t.data=e?.slice(this.HEADER_LEN),t}catch{throw new Error(\"Failed to deserialize RegistryState data\")}}static async retrieve(e,t){const n=await sm(e,t);if(!n.exists)throw new Kw(\"The domain account does not exist\");return this.deserialize(n.data)}static async _retrieveBatch(e,t){return(await cm(e,t)).map((e=>e.exists?this.deserialize(e.data):void 0))}static async retrieveBatch(e,t){const n=[],r=[...t];for(;r.length>0;)n.push(...await this._retrieveBatch(e,r.splice(0,100)));return n}}const oA=\"58PwtjSDuFHuUkYjH9BYnnQKHfwo9reZhC2zMJv9JPkx\",iA=\"nftD3vbNkNqfj2Sd3HZwbpw4BxxKWr4AjGb9X38JeZk\",aA=\"33m47vH6Eav6jr5Ry86XjhRft2jRBLDnDgPSHoquXi2Z\",sA=\"2pMnqHvei2N5oDcVGCRdZx48gqti199wr5CsyTTafsbo\",cA=async(e,t,n)=>{const r=await(async e=>{const t=Lw.encode(\"SPL Name Service\"+e),n=await crypto.subtle.digest(\"SHA-256\",t);return new Uint8Array(n)})(e);return await(async(e,t,n)=>{const r=[e];r.push(n?Uw.encode(n):new Uint8Array(32)),r.push(t?Uw.encode(t):new Uint8Array(32));const[o]=await Ys({programAddress:\"namesLPneVptA9Z5rqUDD9tMTWEJwofgaYwp8cawRkX\",seeds:r});return o})(r,t,n)};var uA;!function(e){e[e.Uninitialized=0]=\"Uninitialized\",e[e.CentralState=1]=\"CentralState\",e[e.ActiveRecord=2]=\"ActiveRecord\",e[e.InactiveRecord=3]=\"InactiveRecord\"}(uA||(uA={}));class lA{tag;nonce;nameAccount;owner;nftMint;static LEN=98;static schema={struct:{tag:\"u8\",nonce:\"u8\",nameAccount:{array:{type:\"u8\",len:32}},owner:{array:{type:\"u8\",len:32}},nftMint:{array:{type:\"u8\",len:32}}}};constructor(e){this.tag=e.tag,this.nonce=e.nonce,this.nameAccount=Uw.decode(e.nameAccount),this.owner=Uw.decode(e.owner),this.nftMint=Uw.decode(e.nftMint)}static deserialize(e){try{return new lA(Mw(this.schema,e))}catch{throw new nA(\"Failed to deserialize NftState data\")}}static async retrieve(e,t){const n=await sm(e,t);if(!n.exists)throw new Zw(`NFT not found: ${t}`);return this.deserialize(n.data)}static async retrieveFromMint(e,t){const n=await e.getProgramAccounts(iA,{encoding:\"base64\",filters:[{dataSize:BigInt(lA.LEN)},{memcmp:{offset:BigInt(0),bytes:\"3\",encoding:\"base58\"}},{memcmp:{offset:BigInt(66),bytes:t,encoding:\"base58\"}}]}).send();if(1!==n.length)throw new Zw(`NFT not found: ${t}`);return this.deserialize(Dw.encode(n[0].account.data[0]))}static async getAddress(e){const[t]=await Ys({programAddress:iA,seeds:[Lw.encode(\"nft_record\"),Uw.encode(e)]});return t}}const dA=Lw.encode(\"tokenized_name\"),fA=async(e,t)=>{try{const n=await(async e=>{const[t]=await Ys({programAddress:iA,seeds:[dA,Uw.encode(e)]});return t})(t),r=await e.getTokenLargestAccounts(n).send();if(0===r.value.length)return null;const o=await sm(e,r.value[0].address);if(!o.exists)return null;const i=$w.decode(o.data);return\"1\"===i.amount.toString()?i.owner:null}catch(e){if(Na(e,di))return null;throw e}};class hA{tag;nameAccount;static schema={struct:{tag:\"u8\",nameAccount:{array:{type:\"u8\",len:32}}}};constructor(e){this.tag=e.tag,this.nameAccount=Uw.decode(e.nameAccount)}static deserialize(e){try{return new hA(Mw(this.schema,e))}catch{throw new nA(\"Failed to deserialize PrimaryDomainState data\")}}static async retrieve(e,t){const n=await sm(e,t);if(!n.exists)throw new Ww(\"The favourite account does not exist\");return this.deserialize(n.data)}static async _retrieveBatch(e,t){return(await cm(e,t)).map((e=>e.exists?this.deserialize(e.data):void 0))}static async retrieveBatch(e,t){const n=[],r=[...t];for(;r.length>0;)n.push(...await this._retrieveBatch(e,r.splice(0,100)));return n}static async getAddress(e,t){const[n]=await Ys({programAddress:e,seeds:[Lw.encode(\"favourite_domain\"),Uw.encode(t)]});return n}}async function pA(e,t,n){const r=await(async(e,t)=>await cA(e,t,aA))(t,n),o=await rA.retrieve(e,r);if(!o.data)throw new Gw(\"The registry data is empty\");return function(e,t=!1){if(!e)return;const n=new DataView(e.buffer).getUint32(0,!0);return Lw.decode(e.subarray(4,4+n)).replace(/^\\0/,t?\"\":\"\\0\")}(o.data,!!n)}var gA;!function(e){e.IPFS=\"IPFS\",e.ARWV=\"ARWV\",e.SOL=\"SOL\",e.ETH=\"ETH\",e.BTC=\"BTC\",e.LTC=\"LTC\",e.DOGE=\"DOGE\",e.Email=\"email\",e.Url=\"url\",e.Discord=\"discord\",e.Github=\"github\",e.Reddit=\"reddit\",e.Twitter=\"twitter\",e.Telegram=\"telegram\",e.Pic=\"pic\",e.SHDW=\"SHDW\",e.POINT=\"POINT\",e.BSC=\"BSC\",e.Injective=\"INJ\",e.Backpack=\"backpack\",e.A=\"A\",e.AAAA=\"AAAA\",e.CNAME=\"CNAME\",e.TXT=\"TXT\",e.Background=\"background\",e.BASE=\"BASE\",e.IPNS=\"IPNS\"}(gA||(gA={}));new Map([[gA.SOL,96],[gA.ETH,20],[gA.BSC,20],[gA.Injective,20],[gA.A,4],[gA.AAAA,16],[gA.Background,32]]);var mA;!function(e){e[e.V1=1]=\"V1\",e[e.V2=2]=\"V2\"}(mA||(mA={}));const yA=async(e,t)=>{e.endsWith(\".sol\")&&(e=e.slice(0,-4));const n=t===mA.V2?sA:void 0,r={[mA.V2]:\"\u0002\",[mA.V1]:\"\u0001\"}[t]||\"\\0\",o=e.split(\".\");if(2===o.length){const e=await cA(o[1],oA);return{address:await cA(r+o[0],e,n),parentAddress:e,isSub:!0}}if(3===o.length&&t){const e=await cA(o[2],oA),t=await cA(\"\\0\"+o[1],e);return{address:await cA(r+o[0],t,n),parentAddress:e,isSub:!0,isSubRecord:!0}}if(o.length>=3)throw new Hw(\"The domain is malformed\");return{address:await cA(e,oA),isSub:!1}};function vA(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&\"Uint8Array\"===e.constructor.name}function wA(e,t){return!!Array.isArray(t)&&(0===t.length||(e?t.every((e=>\"string\"==typeof e)):t.every((e=>Number.isSafeInteger(e)))))}function AA(e,t){if(\"string\"!=typeof t)throw new Error(`${e}: string expected`);return!0}function bA(e){if(!Number.isSafeInteger(e))throw new Error(`invalid integer: ${e}`)}function SA(e){if(!Array.isArray(e))throw new Error(\"array expected\")}function EA(e,t){if(!wA(!0,t))throw new Error(`${e}: array of strings expected`)}function xA(e,t){if(!wA(!1,t))throw new Error(`${e}: array of numbers expected`)}const TA=(e,t)=>0===t?e:TA(t,e%t),kA=(e,t)=>e+(t-TA(e,t)),IA=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function _A(e,t,n,r){if(SA(e),t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(kA(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${kA(t,n)}`);let o=0,i=0;const a=IA[t],s=IA[n]-1,c=[];for(const r of e){if(bA(r),r>=a)throw new Error(`convertRadix2: invalid data word=${r} from=${t}`);if(o=o<<t|r,i+t>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${t}`);for(i+=t;i>=n;i-=n)c.push((o>>i-n&s)>>>0);const e=IA[i];if(void 0===e)throw new Error(\"invalid carry\");o&=e-1}if(o=o<<n-i&s,!r&&i>=t)throw new Error(\"Excess padding\");if(!r&&o>0)throw new Error(`Non-zero padding: ${o}`);return r&&i>0&&c.push(o>>>0),c}function CA(e){return function(e){if(\"function\"!=typeof e)throw new Error(\"function expected\")}(e),function(...t){try{return e.apply(null,t)}catch(e){}}}const RA=function(...e){const t=e=>e,n=(e,t)=>n=>e(t(n));return{encode:e.map((e=>e.encode)).reduceRight(n,t),decode:e.map((e=>e.decode)).reduce(n,t)}}(function(e){const t=e.split(\"\"),n=t.length;EA(\"alphabet\",t);const r=new Map(t.map(((e,t)=>[e,t])));return{encode:r=>(SA(r),r.map((r=>{if(!Number.isSafeInteger(r)||r<0||r>=n)throw new Error(`alphabet.encode: digit index outside alphabet \"${r}\". Allowed: ${e}`);return t[r]}))),decode:t=>(SA(t),t.map((t=>{AA(\"alphabet.decode\",t);const n=r.get(t);if(void 0===n)throw new Error(`Unknown letter: \"${t}\". Allowed: ${e}`);return n})))}}(\"qpzry9x8gf2tvdw0s3jn54khce6mua7l\"),function(e=\"\"){return AA(\"join\",e),{encode:t=>(EA(\"join.decode\",t),t.join(e)),decode:t=>(AA(\"join.decode\",t),t.split(e))}}(\"\")),PA=[996825010,642813549,513874426,1027748829,705979059];function OA(e){const t=e>>25;let n=(33554431&e)<<5;for(let e=0;e<PA.length;e++)1==(t>>e&1)&&(n^=PA[e]);return n}function NA(e,t,n=1){const r=e.length;let o=1;for(let t=0;t<r;t++){const n=e.charCodeAt(t);if(n<33||n>126)throw new Error(`Invalid prefix (${e})`);o=OA(o)^n>>5}o=OA(o);for(let t=0;t<r;t++)o=OA(o)^31&e.charCodeAt(t);for(let e of t)o=OA(o)^e;for(let e=0;e<6;e++)o=OA(o);return o^=n,RA.encode(_A([o%IA[30]],30,5,!1))}!function(e){const t=function(e,t=!1){if(bA(e),e<=0||e>32)throw new Error(\"radix2: bits should be in (0..32]\");if(kA(8,e)>32||kA(e,8)>32)throw new Error(\"radix2: carry overflow\");return{encode:n=>{if(!vA(n))throw new Error(\"radix2.encode input should be Uint8Array\");return _A(Array.from(n),8,e,!t)},decode:n=>(xA(\"radix2.decode\",n),Uint8Array.from(_A(n,e,8,t)))}}(5),n=t.decode,r=t.encode,o=CA(n);function i(e,t,n=90){AA(\"bech32.encode prefix\",e),vA(t)&&Array.from(t),xA(\"bech32.encode\",t);const r=e.length;if(0===r)throw new TypeError(`Invalid prefix length ${r}`);const o=r+7+t.length;if(!1!==n&&o>n)throw new TypeError(`Length ${o} exceeds limit ${n}`);const i=e.toLowerCase(),a=NA(i,t,1);return`${i}1${RA.encode(t)}${a}`}function a(e,t=90){AA(\"bech32.decode input\",e);const n=e.length;if(n<8||!1!==t&&n>t)throw new TypeError(`invalid string length: ${n} (${e}). Expected (8..${t})`);const r=e.toLowerCase();if(e!==r&&e!==e.toUpperCase())throw new Error(\"String must be lowercase or uppercase\");const o=r.lastIndexOf(\"1\");if(0===o||-1===o)throw new Error('Letter \"1\" must be present between prefix and data only');const i=r.slice(0,o),a=r.slice(o+1);if(a.length<6)throw new Error(\"Data must be at least 6 characters long\");const s=RA.decode(a).slice(0,-6),c=NA(i,s,1);if(!a.endsWith(c))throw new Error(`Invalid checksum in ${e}: expected \"${c}\"`);return{prefix:i,words:s}}CA(a)}();var BA,zA={exports:{}},MA=zA.exports;!function(){return BA||(BA=1,e=zA,function(t){const n=\"(0?\\\\d+|0x[a-f0-9]+)\",r={fourOctet:new RegExp(`^${n}\\\\.${n}\\\\.${n}\\\\.${n}$`,\"i\"),threeOctet:new RegExp(`^${n}\\\\.${n}\\\\.${n}$`,\"i\"),twoOctet:new RegExp(`^${n}\\\\.${n}$`,\"i\"),longValue:new RegExp(`^${n}$`,\"i\")},o=new RegExp(\"^0[0-7]+$\",\"i\"),i=new RegExp(\"^0x[a-f0-9]+$\",\"i\"),a=\"%[0-9a-z]{1,}\",s=\"(?:[0-9a-f]+::?)+\",c={zoneIndex:new RegExp(a,\"i\"),native:new RegExp(`^(::)?(${s})?([0-9a-f]+)?(::)?(${a})?$`,\"i\"),deprecatedTransitional:new RegExp(`^(?:::)(${n}\\\\.${n}\\\\.${n}\\\\.${n}(${a})?)$`,\"i\"),transitional:new RegExp(`^((?:${s})|(?:::)(?:${s})?)${n}\\\\.${n}\\\\.${n}\\\\.${n}(${a})?$`,\"i\")};function u(e,t){if(e.indexOf(\"::\")!==e.lastIndexOf(\"::\"))return null;let n,r,o=0,i=-1,a=(e.match(c.zoneIndex)||[])[0];for(a&&(a=a.substring(1),e=e.replace(/%.+$/,\"\"));(i=e.indexOf(\":\",i+1))>=0;)o++;if(\"::\"===e.substr(0,2)&&o--,\"::\"===e.substr(-2,2)&&o--,o>t)return null;for(r=t-o,n=\":\";r--;)n+=\"0:\";return\":\"===(e=e.replace(\"::\",n))[0]&&(e=e.slice(1)),\":\"===e[e.length-1]&&(e=e.slice(0,-1)),{parts:t=function(){const t=e.split(\":\"),n=[];for(let e=0;e<t.length;e++)n.push(parseInt(t[e],16));return n}(),zoneId:a}}function l(e,t,n,r){if(e.length!==t.length)throw new Error(\"ipaddr: cannot match CIDR for objects with different lengths\");let o,i=0;for(;r>0;){if(o=n-r,o<0&&(o=0),e[i]>>o!=t[i]>>o)return!1;r-=n,i+=1}return!0}function d(e){if(i.test(e))return parseInt(e,16);if(\"0\"===e[0]&&!isNaN(parseInt(e[1],10))){if(o.test(e))return parseInt(e,8);throw new Error(`ipaddr: cannot parse ${e} as octal`)}return parseInt(e,10)}function f(e,t){for(;e.length<t;)e=`0${e}`;return e}const h={};h.IPv4=function(){function e(e){if(4!==e.length)throw new Error(\"ipaddr: ipv4 octet count should be 4\");let t,n;for(t=0;t<e.length;t++)if(n=e[t],!(0<=n&&n<=255))throw new Error(\"ipaddr: ipv4 octet should fit in 8 bits\");this.octets=e}return e.prototype.SpecialRanges={unspecified:[[new e([0,0,0,0]),8]],broadcast:[[new e([255,255,255,255]),32]],multicast:[[new e([224,0,0,0]),4]],linkLocal:[[new e([169,254,0,0]),16]],loopback:[[new e([127,0,0,0]),8]],carrierGradeNat:[[new e([100,64,0,0]),10]],private:[[new e([10,0,0,0]),8],[new e([172,16,0,0]),12],[new e([192,168,0,0]),16]],reserved:[[new e([192,0,0,0]),24],[new e([192,0,2,0]),24],[new e([192,88,99,0]),24],[new e([198,18,0,0]),15],[new e([198,51,100,0]),24],[new e([203,0,113,0]),24],[new e([240,0,0,0]),4]],as112:[[new e([192,175,48,0]),24],[new e([192,31,196,0]),24]],amt:[[new e([192,52,193,0]),24]]},e.prototype.kind=function(){return\"ipv4\"},e.prototype.match=function(e,t){let n;if(void 0===t&&(n=e,e=n[0],t=n[1]),\"ipv4\"!==e.kind())throw new Error(\"ipaddr: cannot match ipv4 address with non-ipv4 one\");return l(this.octets,e.octets,8,t)},e.prototype.prefixLengthFromSubnetMask=function(){let e=0,t=!1;const n={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0};let r,o,i;for(r=3;r>=0;r-=1){if(o=this.octets[r],!(o in n))return null;if(i=n[o],t&&0!==i)return null;8!==i&&(t=!0),e+=i}return 32-e},e.prototype.range=function(){return h.subnetMatch(this,this.SpecialRanges)},e.prototype.toByteArray=function(){return this.octets.slice(0)},e.prototype.toIPv4MappedAddress=function(){return h.IPv6.parse(`::ffff:${this.toString()}`)},e.prototype.toNormalizedString=function(){return this.toString()},e.prototype.toString=function(){return this.octets.join(\".\")},e}(),h.IPv4.broadcastAddressFromCIDR=function(e){try{const t=this.parseCIDR(e),n=t[0].toByteArray(),r=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),o=[];let i=0;for(;i<4;)o.push(parseInt(n[i],10)|255^parseInt(r[i],10)),i++;return new this(o)}catch(e){throw new Error(\"ipaddr: the address does not have IPv4 CIDR format\")}},h.IPv4.isIPv4=function(e){return null!==this.parser(e)},h.IPv4.isValid=function(e){try{return new this(this.parser(e)),!0}catch(e){return!1}},h.IPv4.isValidCIDR=function(e){try{return this.parseCIDR(e),!0}catch(e){return!1}},h.IPv4.isValidFourPartDecimal=function(e){return!(!h.IPv4.isValid(e)||!e.match(/^(0|[1-9]\\d*)(\\.(0|[1-9]\\d*)){3}$/))},h.IPv4.networkAddressFromCIDR=function(e){let t,n,r,o,i;try{for(t=this.parseCIDR(e),r=t[0].toByteArray(),i=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),o=[],n=0;n<4;)o.push(parseInt(r[n],10)&parseInt(i[n],10)),n++;return new this(o)}catch(e){throw new Error(\"ipaddr: the address does not have IPv4 CIDR format\")}},h.IPv4.parse=function(e){const t=this.parser(e);if(null===t)throw new Error(\"ipaddr: string is not formatted like an IPv4 Address\");return new this(t)},h.IPv4.parseCIDR=function(e){let t;if(t=e.match(/^(.+)\\/(\\d+)$/)){const e=parseInt(t[2]);if(e>=0&&e<=32){const n=[this.parse(t[1]),e];return Object.defineProperty(n,\"toString\",{value:function(){return this.join(\"/\")}}),n}}throw new Error(\"ipaddr: string is not formatted like an IPv4 CIDR range\")},h.IPv4.parser=function(e){let t,n,o;if(t=e.match(r.fourOctet))return function(){const e=t.slice(1,6),r=[];for(let t=0;t<e.length;t++)n=e[t],r.push(d(n));return r}();if(t=e.match(r.longValue)){if(o=d(t[1]),o>4294967295||o<0)throw new Error(\"ipaddr: address outside defined range\");return function(){const e=[];let t;for(t=0;t<=24;t+=8)e.push(o>>t&255);return e}().reverse()}return(t=e.match(r.twoOctet))?function(){const e=t.slice(1,4),n=[];if(o=d(e[1]),o>16777215||o<0)throw new Error(\"ipaddr: address outside defined range\");return n.push(d(e[0])),n.push(o>>16&255),n.push(o>>8&255),n.push(255&o),n}():(t=e.match(r.threeOctet))?function(){const e=t.slice(1,5),n=[];if(o=d(e[2]),o>65535||o<0)throw new Error(\"ipaddr: address outside defined range\");return n.push(d(e[0])),n.push(d(e[1])),n.push(o>>8&255),n.push(255&o),n}():null},h.IPv4.subnetMaskFromPrefixLength=function(e){if((e=parseInt(e))<0||e>32)throw new Error(\"ipaddr: invalid IPv4 prefix length\");const t=[0,0,0,0];let n=0;const r=Math.floor(e/8);for(;n<r;)t[n]=255,n++;return r<4&&(t[r]=Math.pow(2,e%8)-1<<8-e%8),new this(t)},h.IPv6=function(){function e(e,t){let n,r;if(16===e.length)for(this.parts=[],n=0;n<=14;n+=2)this.parts.push(e[n]<<8|e[n+1]);else{if(8!==e.length)throw new Error(\"ipaddr: ipv6 part count should be 8 or 16\");this.parts=e}for(n=0;n<this.parts.length;n++)if(r=this.parts[n],!(0<=r&&r<=65535))throw new Error(\"ipaddr: ipv6 part should fit in 16 bits\");t&&(this.zoneId=t)}return e.prototype.SpecialRanges={unspecified:[new e([0,0,0,0,0,0,0,0]),128],linkLocal:[new e([65152,0,0,0,0,0,0,0]),10],multicast:[new e([65280,0,0,0,0,0,0,0]),8],loopback:[new e([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new e([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new e([0,0,0,0,0,65535,0,0]),96],discard:[new e([256,0,0,0,0,0,0,0]),64],rfc6145:[new e([0,0,0,0,65535,0,0,0]),96],rfc6052:[new e([100,65435,0,0,0,0,0,0]),96],\"6to4\":[new e([8194,0,0,0,0,0,0,0]),16],teredo:[new e([8193,0,0,0,0,0,0,0]),32],benchmarking:[new e([8193,2,0,0,0,0,0,0]),48],amt:[new e([8193,3,0,0,0,0,0,0]),32],as112v6:[[new e([8193,4,274,0,0,0,0,0]),48],[new e([9760,79,32768,0,0,0,0,0]),48]],deprecated:[new e([8193,16,0,0,0,0,0,0]),28],orchid2:[new e([8193,32,0,0,0,0,0,0]),28],droneRemoteIdProtocolEntityTags:[new e([8193,48,0,0,0,0,0,0]),28],reserved:[[new e([8193,0,0,0,0,0,0,0]),23],[new e([8193,3512,0,0,0,0,0,0]),32]]},e.prototype.isIPv4MappedAddress=function(){return\"ipv4Mapped\"===this.range()},e.prototype.kind=function(){return\"ipv6\"},e.prototype.match=function(e,t){let n;if(void 0===t&&(n=e,e=n[0],t=n[1]),\"ipv6\"!==e.kind())throw new Error(\"ipaddr: cannot match ipv6 address with non-ipv6 one\");return l(this.parts,e.parts,16,t)},e.prototype.prefixLengthFromSubnetMask=function(){let e=0,t=!1;const n={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0};let r,o;for(let i=7;i>=0;i-=1){if(r=this.parts[i],!(r in n))return null;if(o=n[r],t&&0!==o)return null;16!==o&&(t=!0),e+=o}return 128-e},e.prototype.range=function(){return h.subnetMatch(this,this.SpecialRanges)},e.prototype.toByteArray=function(){let e;const t=[],n=this.parts;for(let r=0;r<n.length;r++)e=n[r],t.push(e>>8),t.push(255&e);return t},e.prototype.toFixedLengthString=function(){const e=function(){const e=[];for(let t=0;t<this.parts.length;t++)e.push(f(this.parts[t].toString(16),4));return e}.call(this).join(\":\");let t=\"\";return this.zoneId&&(t=`%${this.zoneId}`),e+t},e.prototype.toIPv4Address=function(){if(!this.isIPv4MappedAddress())throw new Error(\"ipaddr: trying to convert a generic ipv6 address to ipv4\");const e=this.parts.slice(-2),t=e[0],n=e[1];return new h.IPv4([t>>8,255&t,n>>8,255&n])},e.prototype.toNormalizedString=function(){const e=function(){const e=[];for(let t=0;t<this.parts.length;t++)e.push(this.parts[t].toString(16));return e}.call(this).join(\":\");let t=\"\";return this.zoneId&&(t=`%${this.zoneId}`),e+t},e.prototype.toRFC5952String=function(){const e=/((^|:)(0(:|$)){2,})/g,t=this.toNormalizedString();let n,r=0,o=-1;for(;n=e.exec(t);)n[0].length>o&&(r=n.index,o=n[0].length);return o<0?t:`${t.substring(0,r)}::${t.substring(r+o)}`},e.prototype.toString=function(){return this.toRFC5952String()},e}(),h.IPv6.broadcastAddressFromCIDR=function(e){try{const t=this.parseCIDR(e),n=t[0].toByteArray(),r=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),o=[];let i=0;for(;i<16;)o.push(parseInt(n[i],10)|255^parseInt(r[i],10)),i++;return new this(o)}catch(e){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${e})`)}},h.IPv6.isIPv6=function(e){return null!==this.parser(e)},h.IPv6.isValid=function(e){if(\"string\"==typeof e&&-1===e.indexOf(\":\"))return!1;try{const t=this.parser(e);return new this(t.parts,t.zoneId),!0}catch(e){return!1}},h.IPv6.isValidCIDR=function(e){if(\"string\"==typeof e&&-1===e.indexOf(\":\"))return!1;try{return this.parseCIDR(e),!0}catch(e){return!1}},h.IPv6.networkAddressFromCIDR=function(e){let t,n,r,o,i;try{for(t=this.parseCIDR(e),r=t[0].toByteArray(),i=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),o=[],n=0;n<16;)o.push(parseInt(r[n],10)&parseInt(i[n],10)),n++;return new this(o)}catch(e){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${e})`)}},h.IPv6.parse=function(e){const t=this.parser(e);if(null===t.parts)throw new Error(\"ipaddr: string is not formatted like an IPv6 Address\");return new this(t.parts,t.zoneId)},h.IPv6.parseCIDR=function(e){let t,n,r;if((n=e.match(/^(.+)\\/(\\d+)$/))&&(t=parseInt(n[2]),t>=0&&t<=128))return r=[this.parse(n[1]),t],Object.defineProperty(r,\"toString\",{value:function(){return this.join(\"/\")}}),r;throw new Error(\"ipaddr: string is not formatted like an IPv6 CIDR range\")},h.IPv6.parser=function(e){let t,n,r,o,i,a;if(r=e.match(c.deprecatedTransitional))return this.parser(`::ffff:${r[1]}`);if(c.native.test(e))return u(e,8);if((r=e.match(c.transitional))&&(a=r[6]||\"\",t=r[1],r[1].endsWith(\"::\")||(t=t.slice(0,-1)),t=u(t+a,6),t.parts)){for(i=[parseInt(r[2]),parseInt(r[3]),parseInt(r[4]),parseInt(r[5])],n=0;n<i.length;n++)if(o=i[n],!(0<=o&&o<=255))return null;return t.parts.push(i[0]<<8|i[1]),t.parts.push(i[2]<<8|i[3]),{parts:t.parts,zoneId:t.zoneId}}return null},h.IPv6.subnetMaskFromPrefixLength=function(e){if((e=parseInt(e))<0||e>128)throw new Error(\"ipaddr: invalid IPv6 prefix length\");const t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];let n=0;const r=Math.floor(e/8);for(;n<r;)t[n]=255,n++;return r<16&&(t[r]=Math.pow(2,e%8)-1<<8-e%8),new this(t)},h.fromByteArray=function(e){const t=e.length;if(4===t)return new h.IPv4(e);if(16===t)return new h.IPv6(e);throw new Error(\"ipaddr: the binary input is neither an IPv6 nor IPv4 address\")},h.isValid=function(e){return h.IPv6.isValid(e)||h.IPv4.isValid(e)},h.isValidCIDR=function(e){return h.IPv6.isValidCIDR(e)||h.IPv4.isValidCIDR(e)},h.parse=function(e){if(h.IPv6.isValid(e))return h.IPv6.parse(e);if(h.IPv4.isValid(e))return h.IPv4.parse(e);throw new Error(\"ipaddr: the address has neither IPv6 nor IPv4 format\")},h.parseCIDR=function(e){try{return h.IPv6.parseCIDR(e)}catch(t){try{return h.IPv4.parseCIDR(e)}catch(e){throw new Error(\"ipaddr: the address has neither IPv6 nor IPv4 CIDR format\")}}},h.process=function(e){const t=this.parse(e);return\"ipv6\"===t.kind()&&t.isIPv4MappedAddress()?t.toIPv4Address():t},h.subnetMatch=function(e,t,n){let r,o,i,a;for(o in null==n&&(n=\"unicast\"),t)if(Object.prototype.hasOwnProperty.call(t,o))for(i=t[o],!i[0]||i[0]instanceof Array||(i=[i]),r=0;r<i.length;r++)if(a=i[r],e.kind()===a[0].kind()&&e.match.apply(e,a))return o;return n},e.exports?e.exports=h:t.ipaddr=h}(MA)),zA.exports;var e}();Math.floor,String.fromCharCode;new Map([[gA.CNAME,\"ExXjtfdQe8JacoqP9Z535WzQKjF4CzW1TTRKRgpxvya3\"],[gA.Url,\"ExXjtfdQe8JacoqP9Z535WzQKjF4CzW1TTRKRgpxvya3\"]]),new Set([gA.BASE,gA.BSC,gA.ETH,gA.Injective]),new Set([gA.BASE,gA.BSC,gA.ETH]),new Set([gA.ARWV,gA.Backpack,gA.BTC,gA.CNAME,gA.Discord,gA.DOGE,gA.Email,gA.Github,gA.IPFS,gA.IPNS,gA.LTC,gA.Pic,gA.POINT,gA.Reddit,gA.SHDW,gA.Telegram,gA.Twitter,gA.TXT,gA.Url]),new Set([gA.BASE,gA.BSC,gA.ETH,gA.Injective,gA.SOL]);new Map([[\"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v\",[234,160,32,198,28,196,121,113,40,19,70,28,225,83,137,74,150,166,192,11,33,237,12,252,39,152,209,249,169,233,201,74]],[\"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB\",[43,137,185,220,143,223,159,52,112,154,91,16,107,71,47,15,57,187,108,169,206,4,176,253,127,46,151,22,136,226,229,59]],[\"So11111111111111111111111111111111111111112\",[239,13,139,111,218,44,235,164,29,161,93,64,149,209,218,57,42,13,47,142,208,198,199,188,15,76,250,200,194,128,181,109]],[\"EchesyfXePKdLtoiZSL8pBe8Myagyy8ZRqsACNCFGnvp\",[200,6,87,183,246,243,234,194,114,24,208,157,90,78,84,228,123,37,118,141,159,94,16,172,21,254,44,249,0,136,20,0]],[\"mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So\",[194,40,154,106,67,210,206,145,198,245,92,174,195,112,244,172,195,138,46,212,119,245,136,19,51,76,109,3,116,159,242,164]],[\"DezXAZ8z7PnrnRJjz3wXBoRgixCa6xjnB7YaB1pPB263\",[114,176,33,33,124,163,254,104,146,42,25,170,249,144,16,156,185,216,78,154,208,4,180,210,2,90,214,245,41,49,68,25]],[\"EPeUFDgHRxs9xxEPVaL6kfGQvCon7jmAWKVUHuux1Tpz\",[142,134,15,183,78,96,229,115,107,69,93,130,246,11,55,40,4,156,52,142,148,150,26,221,95,150,27,2,253,238,37,53]],[\"HZ1JovNiVvGrGNiiYvEozEVgZ58xaU3RKwX8eACQBCt3\",[11,191,40,233,168,65,161,204,120,143,106,54,27,23,202,7,45,14,163,9,138,30,93,241,195,146,45,6,113,149,121,255]],[\"bSo13r4TkiE4KumL71LsHTPpL2euBYLFx6h9HP3piy1\",[137,135,83,121,231,15,143,186,220,23,174,243,21,173,243,168,213,209,96,184,17,67,85,55,224,60,151,232,170,201,125,156]],[\"6McPRfPV6bY1e9hLxWyG54W9i9Epq75QBvXg2oetBVTB\",[122,91,193,210,181,106,208,41,4,140,214,57,100,179,173,39,118,234,223,129,46,220,26,67,163,20,6,203,84,191,245,146]],[\"6p6xgHyF7AeE6TZkSmFsko444wqoP15icUSqi2jfGiPN\",[135,149,81,2,24,83,238,199,167,220,130,117,120,232,230,157,167,228,250,129,72,51,154,160,211,213,41,100,5,190,75,26]]]);var jA;!function(e){e[e.None=0]=\"None\",e[e.Solana=1]=\"Solana\",e[e.Ethereum=2]=\"Ethereum\",e[e.UnverifiedSolana=3]=\"UnverifiedSolana\"}(jA||(jA={}));const UA=e=>{switch(e){case jA.None:return 0;case jA.Ethereum:return 20;case jA.Solana:case jA.UnverifiedSolana:return 32;default:throw new Error(\"Invalid validation enum\")}};class DA{stalenessValidation;rightOfAssociationValidation;contentLength;static LEN=8;static schema={struct:{stalenessValidation:\"u16\",rightOfAssociationValidation:\"u16\",contentLength:\"u32\"}};constructor(e){this.stalenessValidation=e.stalenessValidation,this.rightOfAssociationValidation=e.rightOfAssociationValidation,this.contentLength=e.contentLength}static deserialize(e){return new DA(Mw(this.schema,e,!0))}static async retrieve(e,t){const n=await sm(e,t);if(!n.exists)throw new Error(\"Record header account not found\");return this.deserialize(n.data.slice(96,96+this.LEN))}}class LA{header;data;constructor(e,t){this.data=t,this.header=e}static deserialize(e){const t=DA.deserialize(e.slice(96,96+DA.LEN));return new LA(t,e.slice(96+DA.LEN))}static async retrieve(e,t){const n=await sm(e,t);if(!n.exists)throw new Vw(\"Record account not found\");return this.deserialize(n.data)}static async retrieveBatch(e,t){return(await cm(e,t)).map((e=>e.exists?this.deserialize(e.data):void 0))}getContent(){const e=UA(this.header.stalenessValidation)+UA(this.header.rightOfAssociationValidation);return this.data.slice(e)}getStalenessId(){const e=UA(this.header.stalenessValidation);return this.data.slice(0,e)}getRoAId(){const e=UA(this.header.stalenessValidation),t=e+UA(this.header.rightOfAssociationValidation);return this.data.slice(e,t)}}const $A=57896044618658097711785492504343953926634992332820282019728792003956564819949n,FA=19681161376707505956807079304988542015446066515923890162744021073123829784752n;function qA(e){const t=e%$A;return t>=0n?t:$A+t}function WA(e,t){let n=e;for(;t-- >0n;)n*=n,n%=$A;return n}function VA(e,t){const n=qA(e*e),r=function(e,t){const n=qA(t*t*t),r=function(e){const t=e*e%$A*e%$A,n=WA(t,2n)*t%$A,r=WA(n,1n)*e%$A,o=WA(r,5n)*r%$A,i=WA(o,10n)*o%$A,a=WA(i,20n)*i%$A,s=WA(a,40n)*a%$A,c=WA(s,80n)*s%$A,u=WA(c,80n)*s%$A,l=WA(u,10n)*o%$A;return WA(l,2n)*e%$A}(e*qA(n*n*t));let o=qA(e*n*r);const i=qA(t*o*o),a=o,s=qA(o*FA),c=i===e,u=i===qA(-e),l=i===qA(-e*FA);return c&&(o=a),(u||l)&&(o=s),1n===(1n&qA(o))&&(o=qA(-o)),c||u?o:null}(qA(n-1n),qA(37095705934669439343138083508754565189542113879843219016388785533085940283555n*n+1n));return null!==r&&(0n!==r||!(128&t))}const KA=async(e,t,n={allowPda:!1})=>{const{address:r}=await yA(t),o=await lA.getAddress(r),i=await(async(e,t)=>{const{address:n}=await yA(t+\".\"+e,mA.V1);return n})(t,gA.SOL),a=await(async(e,t)=>{const{address:n}=await yA(e);return await cA(`\u0002${t}`,n,sA)})(t,gA.SOL),[s,c,u,l]=await cm(e,[r,o,i,a]);if(!s.exists)throw new Xw(`Domain ${t} does not exist`);const d=rA.deserialize(s.data);if(c.exists&&lA.deserialize(c.data).tag===uA.ActiveRecord){const t=await fA(e,r);if(!t)throw new eA;return t}e:if(l.exists){const e=LA.deserialize(l.data),t=e.getStalenessId(),n=e.getRoAId(),r=e.getContent();if(32!==r.length)throw new Qw(\"Record is malformed\");if(e.header.rightOfAssociationValidation!==jA.Solana||e.header.stalenessValidation!==jA.Solana)throw new tA;if(d.owner!==Uw.decode(t))break e;if(((e,t)=>e.length===t.length&&e.every(((e,n)=>e===t[n])))(n,r))return Uw.decode(r);throw new Jw(`The RoA ID shoudl be ${Uw.decode(r)} but is ${Uw.decode(n)} `)}if(u.exists){const e=new Uint8Array([...u.data.slice(rA.HEADER_LEN,rA.HEADER_LEN+32),...Uw.encode(i)]),t=u.data.slice(rA.HEADER_LEN+32,rA.HEADER_LEN+32+64),n=await(async({data:e,signature:t,address:n})=>{const r=await async function(e){const t=Ms().encode(e);return await crypto.subtle.importKey(\"raw\",t,{name:\"Ed25519\"},!0,[\"verify\"])}(n),o=Lw.encode((e=>Array.from(e).map((e=>e.toString(16).padStart(2,\"0\"))).join(\"\"))(e));return await crypto.subtle.verify({name:\"Ed25519\"},r,t,o)})({data:e,signature:t,address:d.owner});if(n)return Uw.decode(u.data.slice(rA.HEADER_LEN,rA.HEADER_LEN+32))}if(!function(e){const t=Uw.encode(e);if(32!==t.byteLength)return!1;return VA(function(e){const t=e.reduce(((e,t,n)=>`${function(e){const t=e.toString(16);return 1===t.length?`0${t}`:t}(31===n?-129&t:t)}${e}`),\"\");return BigInt(`0x${t}`)}(t),t[31])}(d.owner)){if(\"any\"===n.allowPda)return d.owner;if(n.allowPda){const t=await sm(e,d.owner);if(!t.exists)throw new Yw(\"Invalid domain owner account\");const r=n.programIds?.some((e=>t.programAddress===e));if(r)return d.owner;throw new Yw(`The program ${t.programAddress} is not allowed`)}throw new Yw}return d.owner};Error;function GA(e){return function(e){return function(e){return\"object\"==typeof e&&null!==e&&\"message\"in e}(e)&&\"string\"==typeof e.message?e.message:null==e?\"\":String(e)}(e).replace(/\\.$/u,\"\")}function HA(e,t){return n=e,Boolean(\"string\"==typeof n?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var n}class JA extends Error{constructor(e){super(e.message),this.code=\"ERR_ASSERTION\"}}function ZA(e,t=\"Assertion failed.\",n=JA){if(!e){if(t instanceof Error)throw t;throw HA(n,t)}}function YA(e,t,n=\"Assertion failed\",r=JA){try{Er(e,t)}catch(e){throw HA(r,`${n}: ${GA(e)}.`)}}function XA(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function QA(...e){const t=(e,t)=>n=>e(t(n));return{encode:Array.from(e).reverse().reduce(((e,n)=>e?t(e,n.encode):n.encode),void 0),decode:e.reduce(((e,n)=>e?t(e,n.decode):n.decode),void 0)}}function eb(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&\"number\"!=typeof t[0])throw new Error(\"alphabet.encode input should be an array of numbers\");return t.map((t=>{if(XA(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&\"string\"!=typeof t[0])throw new Error(\"alphabet.decode input should be array of strings\");return t.map((t=>{if(\"string\"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const n=e.indexOf(t);if(-1===n)throw new Error(`Unknown letter: \"${t}\". Allowed: ${e}`);return n}))}}}function tb(e=\"\"){if(\"string\"!=typeof e)throw new Error(\"join separator should be string\");return{encode:t=>{if(!Array.isArray(t)||t.length&&\"string\"!=typeof t[0])throw new Error(\"join.encode input should be array of strings\");for(let e of t)if(\"string\"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if(\"string\"!=typeof t)throw new Error(\"join.decode input should be string\");return t.split(e)}}}function nb(e,t=\"=\"){if(XA(e),\"string\"!=typeof t)throw new Error(\"padding chr should be string\");return{encode(n){if(!Array.isArray(n)||n.length&&\"string\"!=typeof n[0])throw new Error(\"padding.encode input should be array of strings\");for(let e of n)if(\"string\"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&\"string\"!=typeof n[0])throw new Error(\"padding.encode input should be array of strings\");for(let e of n)if(\"string\"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let r=n.length;if(r*e%8)throw new Error(\"Invalid padding: string should have whole number of bytes\");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error(\"Invalid padding: string has too much padding\");return n.slice(0,r)}}}function rb(e){if(\"function\"!=typeof e)throw new Error(\"normalize fn should be function\");return{encode:e=>e,decode:t=>e(t)}}function ob(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error(\"convertRadix: data should be array\");if(!e.length)return[];let r=0;const o=[],i=Array.from(e);for(i.forEach((e=>{if(XA(e),e<0||e>=t)throw new Error(`Wrong integer: ${e}`)}));;){let e=0,a=!0;for(let o=r;o<i.length;o++){const s=i[o],c=t*e+s;if(!Number.isSafeInteger(c)||t*e/t!==e||c-s!=t*e)throw new Error(\"convertRadix: carry overflow\");e=c%n;const u=Math.floor(c/n);if(i[o]=u,!Number.isSafeInteger(u)||u*n+e!==c)throw new Error(\"convertRadix: carry overflow\");a&&(u?a=!1:r=o)}if(o.push(e),a)break}for(let t=0;t<e.length-1&&0===e[t];t++)o.push(0);return o.reverse()}const ib=(e,t)=>t?ib(t,e%t):e,ab=(e,t)=>e+(t-ib(e,t));function sb(e,t,n,r){if(!Array.isArray(e))throw new Error(\"convertRadix2: data should be array\");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(ab(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${ab(t,n)}`);let o=0,i=0;const a=2**n-1,s=[];for(const r of e){if(XA(r),r>=2**t)throw new Error(`convertRadix2: invalid data word=${r} from=${t}`);if(o=o<<t|r,i+t>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${t}`);for(i+=t;i>=n;i-=n)s.push((o>>i-n&a)>>>0);o&=2**i-1}if(o=o<<n-i&a,!r&&i>=t)throw new Error(\"Excess padding\");if(!r&&o)throw new Error(`Non-zero padding: ${o}`);return r&&i>0&&s.push(o>>>0),s}function cb(e){return XA(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error(\"radix.encode input should be Uint8Array\");return ob(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&\"number\"!=typeof t[0])throw new Error(\"radix.decode input should be array of strings\");return Uint8Array.from(ob(t,e,256))}}}function ub(e,t=!1){if(XA(e),e<=0||e>32)throw new Error(\"radix2: bits should be in (0..32]\");if(ab(8,e)>32||ab(e,8)>32)throw new Error(\"radix2: carry overflow\");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error(\"radix2.encode input should be Uint8Array\");return sb(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&\"number\"!=typeof n[0])throw new Error(\"radix2.decode input should be array of strings\");return Uint8Array.from(sb(n,e,8,t))}}}const lb=QA(ub(4),eb(\"0123456789ABCDEF\"),tb(\"\")),db=QA(ub(5),eb(\"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567\"),nb(5),tb(\"\")),fb=(QA(ub(5),eb(\"0123456789ABCDEFGHIJKLMNOPQRSTUV\"),nb(5),tb(\"\")),QA(ub(5),eb(\"0123456789ABCDEFGHJKMNPQRSTVWXYZ\"),tb(\"\"),rb((e=>e.toUpperCase().replace(/O/g,\"0\").replace(/[IL]/g,\"1\")))),QA(ub(6),eb(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\"),nb(6),tb(\"\"))),hb=QA(ub(6),eb(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\"),nb(6),tb(\"\")),pb=(QA(ub(6),eb(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\"),tb(\"\")),e=>QA(cb(58),eb(e),tb(\"\"))),gb=pb(\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\"),mb=[0,2,3,5,6,7,9,10,11],yb={encode(e){let t=\"\";for(let n=0;n<e.length;n+=8){const r=e.subarray(n,n+8);t+=gb.encode(r).padStart(mb[r.length],\"1\")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const r=e.slice(n,n+11),o=mb.indexOf(r.length),i=gb.decode(r);for(let e=0;e<i.length-o;e++)if(0!==i[e])throw new Error(\"base58xmr: wrong padding\");t=t.concat(Array.from(i.slice(i.length-o)))}return Uint8Array.from(t)}};QA(eb(\"qpzry9x8gf2tvdw0s3jn54khce6mua7l\"),tb(\"\"));const vb={encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)};QA(ub(4),eb(\"0123456789abcdef\"),tb(\"\"),rb((e=>{if(\"string\"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})));n(1048).hp;!function(){const e=[]}();function wb(e){return e instanceof Uint8Array}function Ab(e){ZA(wb(e),\"Value must be a Uint8Array.\")}function bb(e,t,n){return new Xd({...e,*refiner(r,o){yield*e.refiner(r,o);const i=Zd(n(r,o),o,e,r);for(const e of i)yield{...e,refinement:t}}})}var Sb;!function(e){e.Copyable=\"copyable\",e.Divider=\"divider\",e.Heading=\"heading\",e.Panel=\"panel\",e.Spinner=\"spinner\",e.Text=\"text\",e.Image=\"image\",e.Row=\"row\",e.Address=\"address\",e.Button=\"button\",e.Input=\"input\",e.Form=\"form\"}(Sb||(Sb={}));const Eb=rf({type:of()}),xb=(af(Eb,rf({value:sf(\"unknown\",(()=>!0))})),af(Eb,rf({type:cf(Sb.Image),value:bb(of(),\"SVG\",(e=>!!e.includes(\"<svg\")||\"Value is not a valid SVG.\"))}))),Tb=function(e,t,n=[]){return(...r)=>{if(1===r.length&&function(e){if(\"object\"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}}(r[0])){const n={...r[0],type:e};return YA(n,t,`Invalid ${e} component`),n}const o=n.reduce(((e,t,n)=>void 0!==r[n]?{...e,[t]:r[n]}:e),{type:e});return YA(o,t,`Invalid ${e} component`),o}}(Sb.Image,xb,[\"value\"]);async function kb(e,t){const n=await async function(e,t){if(\"function\"!=typeof fetch)throw new Error(`Failed to fetch image data from \"${e}\": Using this function requires the \"endowment:network-access\" permission.`);return fetch(e,t).then((async t=>{if(!t.ok)throw new Error(`Failed to fetch image data from \"${e}\": ${t.status} ${t.statusText}`);const n=await t.blob();return ZA(\"image/jpeg\"===n.type||\"image/png\"===n.type,\"Expected image data to be a JPEG or PNG image.\"),n}))}(e,t),r=new Uint8Array(await n.arrayBuffer());return`data:${n.type};base64,${function(e){return Ab(e),fb.encode(e)}(r)}`}const Ib='<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 48 48\" width=\"48\" height=\"48\">\\n  <path fill=\"#999999\" d=\"M42.75 24c0 10.59375-8.53125 19.21875-19.125 19.21875-10.6875 0-19.21875-8.625-19.21875-19.21875 0-10.59375 8.53125-19.21875 19.21875-19.21875 10.59375 0 19.125 8.625 19.125 19.21875zM23.625 14.0625c-3.09375 0-5.90625 2.25-5.90625 5.4375 0 0.84375 0.75 1.59375 1.59375 1.59375 0.84375 0 1.59375-0.75 1.59375-1.59375 0-1.125 1.03125-2.25 2.71875-2.25 1.59375 0 2.625 1.125 2.625 2.25 0 0.5625-0.375 1.03125-1.3125 1.59375l0 0c-1.125 0.75-3 1.96875-3 4.5l0 0.46875c0 0.84375 0.75 1.59375 1.6875 1.59375 0.84375 0 1.59375-0.75 1.59375-1.59375l0-0.46875c0-0.65625 0.28125-1.125 1.40625-1.78125 1.03125-0.65625 2.8125-1.875 2.8125-4.3125 0-3.1875-2.8125-5.4375-5.8125-5.4375zM23.53125 31.875c-0.84375 0-1.59375 0.65625-1.59375 1.59375 0 0.84375 0.75 1.59375 1.59375 1.59375l0.09375 0c0.84375 0 1.59375-0.75 1.59375-1.59375 0-0.9375-0.75-1.59375-1.59375-1.59375z\"/>\\n</svg>';function _b(e){return e.includes(\"swift:0/iso4217:\")}var Cb=function(e){return e.Benign=\"Benign\",e.Warning=\"Warning\",e.Malicious=\"Malicious\",e}({}),Rb=function(e){return e.SUCCESS=\"SUCCESS\",e.ERROR=\"ERROR\",e}({});const Pb=(e,t)=>{const{to:n,type:r,status:o}=e,{address:i}=t;if(!(r===It.Receive||o===kt.Failed))return!1;const{hasReceivedSOL:a,receivedSOLAmount:s}=n.reduce(((e,t)=>t.address!==i||!t.asset?.fungible||t.asset.type!==rc.SolMainnet&&t.asset.type!==rc.SolDevnet?e:{hasReceivedSOL:!0,receivedSOLAmount:e.receivedSOLAmount.plus(t.asset.amount)}),{hasReceivedSOL:!1,receivedSOLAmount:new jo(0)});return a&&s.isLessThan(.001)};function Ob(e,t){return[Pb].some((n=>n(e,t)))}function Nb({scope:e,transactionData:t}){const n=function(e){const t=new jo(e.meta?.fee?.toString()??\"0\");return t.dividedBy(ec)}(t),r=function(e){const t=e.transaction.signatures.length;return jo(5e3).dividedBy(ec).multipliedBy(t)}(t),o=n.minus(r),i=[{type:\"base\",asset:{fungible:!0,type:sc[e].nativeToken.caip19Id,unit:sc[e].nativeToken.symbol,amount:r.toString()}}];return o?.isGreaterThan(0)&&i.push({type:\"priority\",asset:{fungible:!0,type:sc[e].nativeToken.caip19Id,unit:sc[e].nativeToken.symbol,amount:o.toString()}}),i}function Bb({scope:e,transactionData:t}){const n=Nb({scope:e,transactionData:t}),r=[],o=[],i=new Map(t.meta?.preBalances?.map(((e,t)=>[t,new jo(e.toString())]))??[]),a=new Map(t.meta?.postBalances?.map(((e,t)=>[t,new jo(e.toString())]))??[]),s=[...t.transaction.message.accountKeys,...t.meta?.loadedAddresses?.writable??[],...t.meta?.loadedAddresses?.readonly??[]],c=new Set([...Array.from(i.keys()),...Array.from(a.keys())]);for(const n of c){const c=s[n]?.toString();if(!c)continue;const u=i.get(n)??new jo(0),l=a.get(n)??new jo(0),d=0===n?iv(t.meta?.fee??0):new jo(0),f=u.minus(l).dividedBy(new jo(ec)).minus(d);if(f.isZero())continue;const h=f.absoluteValue().toString();u.isGreaterThan(l)&&r.push({address:c,asset:{fungible:!0,type:sc[e].nativeToken.caip19Id,unit:sc[e].nativeToken.symbol,amount:h}}),u.isLessThan(l)&&o.push({address:c,asset:{fungible:!0,type:sc[e].nativeToken.caip19Id,unit:sc[e].nativeToken.symbol,amount:h}})}const u=function({scope:e,transactionData:t}){const{instructions:n}=t.transaction.message,r=[],o=[],i=t.transaction.message.accountKeys.findIndex((e=>e===cd));if(-1===i)return{from:r,to:o};return n.forEach((n=>{const{accounts:a,data:s,programIdIndex:c}=n;if(c!==i)return;const[u,l]=a;if(void 0===u||void 0===l||u!==l)return;const d=t.transaction.message.accountKeys[u],f=t.transaction.message.accountKeys[l];if(!d||!f||d!==f)return;const h=function(e){let t=BigInt(0);for(let n=4;n<12;n++)t|=BigInt(e[n]??0)<<BigInt(8*(n-4));return jo(t.toString()).dividedBy(ec)}(Dd.decode(s));r.push({address:d,asset:{amount:h.toString(),fungible:!0,type:sc[e].nativeToken.caip19Id,unit:sc[e].nativeToken.symbol}}),o.push({address:f,asset:{amount:h.toString(),fungible:!0,type:sc[e].nativeToken.caip19Id,unit:sc[e].nativeToken.symbol}})})),{from:r,to:o}}({scope:e,transactionData:t});return u.from.length>0&&r.push(...u.from),u.to.length>0&&o.push(...u.to),{fees:n,from:r,to:o}}function zb({scope:e,transactionData:t}){const n=Nb({scope:e,transactionData:t}),r=[...t.transaction.message.accountKeys,...t.meta?.loadedAddresses?.writable??[],...t.meta?.loadedAddresses?.readonly??[]],o=[],i=[],{instructions:a}=t.transaction.message;a.forEach((t=>{const{accounts:n,data:a,programIdIndex:s}=t;if(r[s]!==cd)return;const[c,u]=n;if(void 0===c||void 0===u)return;const l=r[c],d=r[u];if(!l||!d)return;const f=Dd.decode(a),h=function(e){let t=BigInt(0);for(let n=0;n<4;n++)t|=BigInt(e[n]??0)<<BigInt(8*n);return Number(t)}(f);if(2!==h)return;const p=function(e){let t=BigInt(0);for(let n=4;n<12;n++)t|=BigInt(e[n]??0)<<BigInt(8*(n-4));return jo(t.toString()).dividedBy(ec)}(f);o.push({address:l,asset:{amount:p.toString(),fungible:!0,type:sc[e].nativeToken.caip19Id,unit:sc[e].nativeToken.symbol}}),i.push({address:d,asset:{amount:p.toString(),fungible:!0,type:sc[e].nativeToken.caip19Id,unit:sc[e].nativeToken.symbol}})}));return{fees:n,from:Mb(o),to:Mb(i)}}function Mb(e){return e.reduce(((e,t)=>{const n=e.find((e=>!0===e?.asset?.fungible&&!0===t.asset?.fungible&&e.asset.type===t.asset.type&&e.address===t.address));if(n&&!0===n.asset?.fungible&&!0===t.asset?.fungible){const e=new jo(n.asset.amount).plus(t.asset.amount);n.asset.amount=e.toString()}else e.push(t);return e}),[])}function jb({scope:e,transactionData:t}){const n=[],r=[],o=new Map(t.meta?.preTokenBalances?.map((e=>[e.accountIndex,new jo(e.uiTokenAmount.amount)]))??[]),i=new Map(t.meta?.postTokenBalances?.map((e=>[e.accountIndex,new jo(e.uiTokenAmount.amount)]))??[]),a=new Set([...t.meta?.preTokenBalances?.map((e=>e.accountIndex))??[],...t.meta?.postTokenBalances?.map((e=>e.accountIndex))??[]]);for(const s of a){const a=o.get(s)??new jo(0),c=(i.get(s)??new jo(0)).minus(a);if(c.isZero())continue;const u=t.meta?.preTokenBalances?.find((e=>e.accountIndex===s))??t.meta?.postTokenBalances?.find((e=>e.accountIndex===s));if(!u)continue;const{mint:l,uiTokenAmount:{decimals:d},owner:f}=u,h=gy(e,l);if(!f)continue;const p=c.absoluteValue().dividedBy(new jo(10).pow(d)).toString();c.isNegative()&&n.push({address:f,asset:{fungible:!0,type:h,unit:\"\",amount:p}}),c.isPositive()&&r.push({address:f,asset:{fungible:!0,type:h,unit:\"\",amount:p}})}const s=function({scope:e,transactionData:t}){const{instructions:n}=t.transaction.message,r=[],o=[],i=t.transaction.message.accountKeys.findIndex((e=>e===bh));if(-1===i)return{from:r,to:o};return n.forEach((n=>{const{accounts:a,data:s,programIdIndex:c}=n;if(c!==i)return;let u,l;if(5===a.length?(u=a[0],l=a[2]):3===a.length&&(u=a[0],l=a[1]),void 0===u||void 0===l||u!==l)return;const d=t.transaction.message.accountKeys[u],f=t.transaction.message.accountKeys[l];if(!d||!f||d!==f)return;const h=function(e){let t=BigInt(0);for(let n=1;n<9;n++)t|=BigInt(e[n]??0)<<BigInt(8*(n-1));return jo(t.toString()).dividedBy(1e6)}(Dd.decode(s)),p=t.meta?.preTokenBalances?.find((e=>e.accountIndex===u))?.mint,g=t.meta?.preTokenBalances?.find((e=>e.accountIndex===u))?.owner;if(!p||!g)return;const m=gy(e,p);r.push({address:g,asset:{amount:h.toString(),fungible:!0,type:m,unit:\"\"}}),o.push({address:g,asset:{amount:h.toString(),fungible:!0,type:m,unit:\"\"}})})),{from:r,to:o}}({scope:e,transactionData:t});return s.from.length>0&&n.push(...s.from),s.to.length>0&&r.push(...s.to),{from:n,to:r}}function Ub({transactionData:e,account:t,scope:n}){try{const{blockTime:r}=e,{id:o,address:i}=t,a=e.transaction.signatures[0];if(!a)throw new Error(\"Transaction ID is required\");const s=Number(r),c=function(e){const t=e.meta?.err||e.meta?.status&&\"Err\"in e.meta.status,n=t?kt.Failed:kt.Confirmed;return n}(e);let u=[],l=[],d=[];const f=(c===kt.Failed?zb:Bb)({scope:n,transactionData:e});u=f.fees,l=f.from,d=f.to;const{from:h,to:p}=jb({scope:n,transactionData:e});let g=[...h,...l],m=[...p,...d];const y=function({address:e,status:t,from:n,to:r}){if(0===n.length||0===r.length||t===kt.Failed)return It.Unknown;const o=n.filter((t=>t.address===e)),i=r.filter((t=>t.address===e)),a=o.length>0,s=i.length>0,c=n.every((t=>r.some((n=>n.address===e&&!0===t.asset?.fungible&&!0===n.asset?.fungible&&t.asset.type===n.asset.type)))),u=r.every((t=>n.some((n=>n.address===e&&!0===n.asset?.fungible&&!0===t.asset?.fungible&&n.asset.type===t.asset.type))));if(c&&u)return It.Send;if(a&&s)return It.Swap;if(a)return It.Send;return It.Receive}({address:zs(i),status:c,from:g,to:m});return y===It.Swap&&(g=g.filter((e=>e.address===i)),m=m.filter((e=>e.address===i))),y===It.Receive&&(m=m.filter((e=>e.address===i)),u=[]),{id:a,account:o,timestamp:s,chain:n,status:c,type:y,from:g,to:m,fees:u,events:[{status:c,timestamp:s}]}}catch(e){return Cd.warn(e,\"Error mapping transaction\"),null}}class Db{#f;#k;#i;#I=3e4;#_=10000n;constructor(e,t,n){this.#f=e,this.#k=t,this.#i=n}async buildTransactionMessage(e){this.#i.log(\"Build transfer SPL token transaction message\");const{from:t,to:n,mint:r,amount:o,network:i}=e;ti(r,\"Mint is required\");const{privateKeyBytes:a}=await Nm({entropySource:t.entropySource,derivationPath:t.derivationPath}),s=await Zl(a),c=await this.getTokenAccount({mint:r,network:i});Db.assertAccountExists(c);const u=c.programAddress,l=function(e,t){const n=new jo(e.toString());if(n.isNegative())throw new Error(\"Token amount cannot be negative\");const r=n.times(10**t).integerValue(jo.ROUND_DOWN);return BigInt(r.toString())}(o,this.getDecimals(c)),[d,f]=await Promise.all([Db.deriveAssociatedTokenAccountAddress({mint:r,owner:s.address,tokenProgram:u}),Db.deriveAssociatedTokenAccountAddress({mint:r,owner:n,tokenProgram:u})]),h=await this.#k.getLatestBlockhash(i),p=$u(Al({version:0}),(e=>Il(s.address,e)),(e=>qu(h,e)),(e=>Cl([jh({mint:r,payer:s,tokenProgram:u,owner:n,ata:f}),rp({source:d,destination:f,authority:s,amount:l},{programAddress:u})],e)));return Rl([Qf({units:this.#I}),rh({microLamports:this.#_})],p)}static async deriveAssociatedTokenAccountAddress({mint:e,owner:t,tokenProgram:n}){return(await Bh({mint:e,owner:t,tokenProgram:n}))[0]}async getTokenAccount({mint:e,network:t}){const n=this.#f.getRpc(t),r=await async function(e,t,n={}){const{abortSignal:r,...o}=n,{value:i}=await e.getAccountInfo(t,{...o,encoding:\"jsonParsed\"}).send({abortSignal:r});return i&&\"object\"==typeof i&&\"parsed\"in i.data?im(t,i):om(t,i)}(n,e);return r}getDecimals(e){Db.assertAccountExists(e),Db.assertAccountDecoded(e);const{decimals:t}=e.data;if(!t)throw new Error(`Decimals not found for ${e}`);return t}static isAccountExists(e){return e.exists}static assertAccountExists(e){if(!Db.isAccountExists(e))throw new Error(\"Token account does not exist\")}static assertAccountNotExists(e){if(Db.isAccountExists(e))throw new Error(\"Token account exists\")}static isAccountDecoded(e){return Db.assertAccountExists(e),!(e.data instanceof Uint8Array)}static assertAccountDecoded(e){if(Db.assertAccountExists(e),!Db.isAccountDecoded(e))throw new Error(\"Token account is encoded. Implement a decoder.\")}getComputeUnitLimit(){return this.#I}getComputeUnitPriceMicroLamportsPerComputeUnit(){return this.#_}}const Lb=new ey,$b=new class{#i;#C=\"[⚡ EventEmitter]\";#R=new Map;constructor(e){this.#i=e}on(e,t){this.#i.info(this.#C,`Adding listener for event ${e}`),this.#R.has(e)||this.#R.set(e,new Set),this.#R.get(e)?.add(t)}off(e,t){this.#i.info(this.#C,`Removing listener for event ${e}`);const n=this.#R.get(e);n&&(n.delete(t),0===n.size&&this.#R.delete(e))}async emitSync(e,t){this.#i.info(this.#C,`Emitting event ${e}`);const n=this.#R.get(e);if(n){const e=Array.from(n).map((async e=>await e(t)));await Promise.allSettled(e)}}removeAllListeners(e){e?(this.#i.info(this.#C,`Removing all listeners for event ${e}`),this.#R.delete(e)):(this.#i.info(this.#C,\"Removing all listeners for all events\"),this.#R.clear())}listenerCount(e){const t=this.#R.get(e);return t?t.size:0}eventNames(){return Array.from(this.#R.keys())}}(Cd),Fb=new class{#g;constructor(e){this.#g=e}async get(){const e=await snap.request({method:\"snap_getState\",params:{encrypted:this.#g.encrypted}}),t=Bm(e??{});var n,r;return n=this.#g.defaultState,r=t,{...n,...Object.fromEntries(Object.entries(r).filter((([e,t])=>null!=t&&(!t||\"object\"!=typeof t||Object.keys(t).length>0))))}}async getKey(e){const t=await snap.request({method:\"snap_getState\",params:{key:e,encrypted:this.#g.encrypted}});if(null!==t)return Bm(t)}async setKey(e,t){await snap.request({method:\"snap_setState\",params:{key:e,value:zm(t),encrypted:this.#g.encrypted}})}async update(e){return this.get().then((async t=>{const n=e(t);return await snap.request({method:\"snap_manageState\",params:{operation:\"update\",newState:zm(n),encrypted:this.#g.encrypted}}),n}))}async deleteKey(e){await this.update((t=>((0,ni.unset)(t,e),t)))}}({encrypted:!1,defaultState:{keyringAccounts:{},mapInterfaceNameToId:{},transactions:{},signatures:{},assets:{},tokenPrices:{},subscriptions:{}}}),qb=new class{#w;prefix;logger;constructor(e,t=console,n=\"__cache__default\"){this.#w=e,this.logger=t,this.prefix=n}async get(e){return(await this.mget([e]))[e]}async set(e,t,n=Number.MAX_SAFE_INTEGER){this.#P(n),await this.#w.setKey(`${this.prefix}.${e}`,{value:t,expiresAt:Math.min(Date.now()+(n??Number.MAX_SAFE_INTEGER),Number.MAX_SAFE_INTEGER)})}#P(e){if(void 0!==e){if(\"number\"!=typeof e)throw new Error(\"TTL must be a number\");if(e<0)throw new Error(\"TTL must be positive\");if(e>Number.MAX_SAFE_INTEGER)throw new Error(\"TTL must be less than 2^53 - 1\")}}async delete(e){return(await this.mdelete([e]))[e]??!1}async clear(){await this.#w.setKey(this.prefix,{})}async has(e){return void 0!==await this.get(e)}async keys(){const e=await this.#w.getKey(this.prefix);return Object.keys(e??{})}async size(){const e=await this.#w.getKey(this.prefix);return Object.keys(e??{}).length}async peek(e){const t=await this.#w.getKey(this.prefix),n=t?.[e];return n?.value}async mget(e){const t=await this.#w.getKey(this.prefix),n=Object.entries(t??{}).filter((([t])=>e.includes(t))),r=n.filter((([e,t])=>t&&t.expiresAt<Date.now()));return await this.mdelete(r.map((([e])=>e))),n.reduce(((e,[t,n])=>void 0===n?(this.logger.info(`[StateCache] ❌ Cache miss for key \"${t}\"`),e):(n.expiresAt<Date.now()?(this.logger.info(`[StateCache] ⌛ Cache expired for key \"${t}\"`),e[t]=void 0):(this.logger.info(`[StateCache] 🎉 Cache hit for key \"${t}\"`),e[t]=n.value),e)),{})}async mset(e){if(0!==e.length)if(1!==e.length)e.forEach((({ttlMilliseconds:e})=>{this.#P(e)})),await this.#w.update((t=>{const n=t[this.prefix]??{};return e.forEach((({key:e,value:t,ttlMilliseconds:r})=>{void 0!==t&&(n[e]={value:t,expiresAt:Math.min(Date.now()+(r??Number.MAX_SAFE_INTEGER),Number.MAX_SAFE_INTEGER)})})),t[this.prefix]=n,t}));else{ti(e[0]);const{key:t,value:n,ttlMilliseconds:r}=e[0];await this.set(t,n,r)}}async mdelete(e){const t={};return await this.#w.update((n=>{const r=n[this.prefix]??{};return e.forEach((e=>{void 0===r[e]?t[e]=!1:(delete r[e],t[e]=!0)})),n[this.prefix]=r,n})),t}}(Fb,Cd),Wb=new class{#c=new Map;logger;constructor(e){this.logger=e}#P(e){if(void 0!==e){if(\"number\"!=typeof e)throw new Error(\"TTL must be a number\");if(e<0)throw new Error(\"TTL must be positive\");if(e>Number.MAX_SAFE_INTEGER)throw new Error(\"TTL must be less than 2^53 - 1\")}}#O(e){return e.expiresAt<Date.now()}async#N(){const e=[];for(const[t,n]of this.#c.entries())this.#O(n)&&e.push(t);await this.mdelete(e)}async get(e){return(await this.mget([e]))[e]}async set(e,t,n=Number.MAX_SAFE_INTEGER){this.#P(n),this.#c.set(e,{value:t,expiresAt:Math.min(Date.now()+(n??Number.MAX_SAFE_INTEGER),Number.MAX_SAFE_INTEGER)})}async delete(e){return(await this.mdelete([e]))[e]??!1}async clear(){this.#c.clear()}async has(e){const t=this.#c.get(e);return!!t&&(!this.#O(t)||(this.#c.delete(e),!1))}async keys(){return await this.#N(),Array.from(this.#c.keys())}async size(){return await this.#N(),this.#c.size}async peek(e){const t=this.#c.get(e);if(t){if(!this.#O(t))return t.value;this.#c.delete(e)}}async mget(e){await this.#N();const t={};for(const n of e){const e=this.#c.get(n);e?(this.logger.info(`[InMemoryCache] 🎉 Cache hit for key \"${n}\"`),t[n]=e.value):(this.logger.info(`[InMemoryCache] ❌ Cache miss for key \"${n}\"`),t[n]=void 0)}return t}async mset(e){if(0!==e.length)if(1!==e.length)e.forEach((({ttlMilliseconds:e})=>{this.#P(e)})),e.forEach((({key:e,value:t,ttlMilliseconds:n})=>{void 0!==t&&this.#c.set(e,{value:t,expiresAt:Math.min(Date.now()+(n??Number.MAX_SAFE_INTEGER),Number.MAX_SAFE_INTEGER)})}));else{ti(e[0]);const{key:t,value:n,ttlMilliseconds:r}=e[0];await this.set(t,n,r)}}async mdelete(e){return Object.fromEntries(e.map((e=>[e,this.#c.delete(e)])))}}(Cd),Vb=new class{#v;#B=new Map;constructor(e){this.#v=e}#z(e){const t=this.#v.getNetworkBy(\"caip2Id\",e);var n;const r=fw($u(t.rpcUrls,(n=pw,e=>e.map(n)),gw,yw));return this.#B.set(e,r),r}getRpc(e){return z(e,yc),this.#B.get(e)??this.#z(e)}}(Lb),Kb=new class{#v;constructor(e){this.#v=e}async getAll(){return(await snap.request({method:\"snap_getWebSockets\"})).map((e=>({...e,network:this.#M(e.url)})))}async getById(e){return(await this.getAll()).find((t=>t.id===e))??null}async findByNetwork(e){return(await this.getAll()).find((t=>t.network===e))??null}async save(e){const{url:t,protocols:n}=e,r=await snap.request({method:\"snap_openWebSocket\",params:{url:t,...n?{protocols:n}:{}}});return{...e,id:r}}async delete(e){await snap.request({method:\"snap_closeWebSocket\",params:{id:e}})}#M(e){const t=this.#v.getNetworkBy(\"webSocketUrl\",e);if(!t)throw new Error(`No network found for WebSocket URL: ${e}`);return t.caip2Id}}(Lb),Gb=new class{#v;#j;#i;#C=\"[🔌 WebSocketConnectionService]\";#U;#D;#L=new Map;constructor(e,t,n,r){const{maxReconnectAttempts:o,reconnectDelayMilliseconds:i}=t.get().subscription;this.#j=e,this.#v=t,this.#i=r,this.#U=o,this.#D=i,n.on(\"onStart\",this.setupAllConnections.bind(this)),n.on(\"onUpdate\",this.setupAllConnections.bind(this)),n.on(\"onInstall\",this.setupAllConnections.bind(this)),n.on(\"onWebSocketEvent\",this.#$.bind(this)),n.on(\"onTestSetupAllConnections\",this.setupAllConnections.bind(this)),n.on(\"onTestCloseAllConnections\",this.#F.bind(this))}async setupAllConnections(){this.#i.info(this.#C,\"Setting up all connections\");const{activeNetworks:e}=this.#v.get(),t=(0,ni.difference)(Object.values(nc),e),n=await this.#j.getAll(),r=e=>n.some((t=>t.network===e)),o=e.filter((e=>!r(e))).map((async e=>this.openConnection(e))),i=t.filter(r).map((async e=>this.#q(e)));await Promise.allSettled([...o,...i])}async openConnection(e){this.#i.info(this.#C,`Opening connection for network ${e}`);const t=this.#v.getNetworkBy(\"caip2Id\",e),{webSocketUrl:n}=t,r=await this.#j.findByNetwork(e);if(r)return this.#i.info(this.#C,`Connection for network ${e} already exists`,r),r;let o=0;for(;o<this.#U;)try{this.#i.info(this.#C,`Opening connection for network ${e} to ${n} (attempt ${o+1}/${this.#U})`);return await this.#j.save({network:e,url:n,protocols:[]})}catch(e){if(o+=1,o>=this.#U)throw this.#i.error(this.#C,\"Failed to open connection after all retry attempts:\",e),e;const t=this.#D*Math.pow(2,o-1);this.#i.info(this.#C,`Connection attempt ${o} failed, retrying in ${t}ms:`,e),await new Promise((e=>setTimeout(e,t)))}throw new Error(\"Unexpected end of openConnection method\")}async#q(e){this.#i.info(this.#C,`Closing connection for network ${e}`),this.#L.delete(e);const t=await this.#j.findByNetwork(e);if(!t)return void this.#i.warn(this.#C,`Tried to close connection for network ${e} but no connection was found`);const n=t.id;try{await this.#j.delete(n),this.#i.info(this.#C,` ❌ Closed connection ${n}`)}catch(e){this.#i.error(this.#C,\"Failed to close connection:\",e)}}onConnectionRecovery(e,t){const n=this.#L.get(e)??[];this.#L.set(e,[...n,t])}async getConnectionIdByNetwork(e){const t=await this.#j.findByNetwork(e);return t?.id??null}async#$(e){if(\"open\"!==e.type&&\"close\"!==e.type)return;const{id:t,type:n}=e,r=await this.#j.getById(t);if(!r)return void this.#i.warn(this.#C,`No connection found with id: ${t}`,e);const{network:o}=r;switch(this.#i.info(this.#C,`Handling connection event: ${n} for ${t}`),n){case\"open\":await this.#W(o);break;case\"close\":await this.#V(o);break;default:this.#i.warn(this.#C,`Unknown connection event type: ${n}`)}}async#W(e){this.#i.info(this.#C,\"✅ Connected to\",e),this.#i.info(this.#C,\"Triggering connection recovery callbacks\",e);const t=this.#L.get(e)?.map((async e=>{try{await e()}catch(e){this.#i.error(this.#C,\"Error in connection recovery callback:\",e)}}))??[];await Promise.allSettled(t)}async#V(e){await this.openConnection(e)}async#F(){this.#i.info(this.#C,\"Closing all connections\");const e=Object.values(nc).map((async e=>{await this.#q(e)}));await Promise.allSettled(e)}}(Kb,Lb,$b,Cd),Hb=new class{#w;#K=\"subscriptions\";constructor(e){this.#w=e}async getAll(){const e=await this.#w.getKey(`${this.#K}`);return Object.values(e??{})}async getById(e){return await this.#w.getKey(`${this.#K}.${e}`)}async save(e){await this.#w.setKey(`${this.#K}.${e.id}`,e)}async delete(e){await this.#w.deleteKey(`${this.#K}.${e}`)}async deleteAll(){await this.#w.deleteKey(`${this.#K}`)}async update(e){await this.#w.setKey(`${this.#K}.${e.id}`,e)}async findBy(e,t){const n=await this.getAll();if(0!==n.length)return n.find((n=>e in n&&n[e]===t))}async clear(){await this.#w.deleteKey(`${this.#K}`)}}(Fb),Jb=new class{#G;#H;#i;loggerPrefix=\"[🔔 SubscriptionService]\";#J=new Map;constructor(e,t,n,r){this.#G=e,this.#H=t,this.#i=r,n.on(\"onStart\",this.#Z.bind(this)),n.on(\"onWebSocketEvent\",this.#$.bind(this)),n.on(\"onTestSubscribeToAccount\",this.#Y.bind(this)),n.on(\"onTestUnsubscribeFromAccount\",this.#X.bind(this))}async subscribe(e,t){this.#i.info(this.loggerPrefix,\"New subscription request\",e,t);const{method:n,params:r,network:o}=e,{onConnectionRecovery:i}=t,a=this.#Q(),s={...e,id:a,status:\"pending\",requestId:a,createdAt:(new Date).toISOString()};await this.#H.save(s),this.#J.set(a,t),i&&this.#G.onConnectionRecovery(o,i);const c=await this.#G.getConnectionIdByNetwork(o),u=async e=>{const t={jsonrpc:\"2.0\",id:a,method:n,params:r};e&&await this.#ee(e,t)};return this.#G.onConnectionRecovery(o,(async()=>{const e=await this.#G.getConnectionIdByNetwork(o);e&&await u(e)})),c?await u(c):(this.#i.info(this.loggerPrefix,`No connection found for network ${o}, opening a new one`),await this.#G.openConnection(o)),s.id}async unsubscribe(e){this.#i.info(this.loggerPrefix,\"Unsubscribing\",e);const t=await this.#H.getById(e);if(!t)return void this.#i.warn(this.loggerPrefix,`Subscription not found: ${e}`);const{id:n,network:r,unsubscribeMethod:o}=t;if(\"confirmed\"===t.status){const e=await this.#G.getConnectionIdByNetwork(r);e&&await this.#ee(e,{jsonrpc:\"2.0\",id:this.#Q(),method:o,params:[t.rpcSubscriptionId]})}await this.#H.delete(n)}async#$(e){if(\"message\"===e.type){this.#i.info(this.loggerPrefix,\"Received message\",e);try{const{data:t}=e;let n;if(t&&\"object\"==typeof t&&\"type\"in t)if(\"text\"===t.type)n=\"string\"==typeof t.message?JSON.parse(t.message):t.message;else{if(\"binary\"!==t.type)return void this.#i.warn(this.loggerPrefix,\"Unknown message data\",t);{const e=t.message,r=String.fromCharCode(...e);n=JSON.parse(r)}}else n=\"string\"==typeof t?JSON.parse(t):t;this.#te(n)?await this.#ne(n):this.#re(n)?await this.#oe(n):(j(n,Ef)||\"error\"in n)&&await this.#ie(n)}catch(e){this.#i.error(this.loggerPrefix,\"Failed to handle message\",e)}}}async#ee(e,t){this.#i.info(this.loggerPrefix,`Sending message to connection ${e}`,t),await snap.request({method:\"snap_sendWebSocketMessage\",params:{id:e,message:JSON.stringify(t)}})}#te(e){return\"method\"in e&&void 0!==e.method&&\"params\"in e}#re(e){return\"jsonrpc\"in e&&\"2.0\"===e.jsonrpc&&\"id\"in e&&\"result\"in e}async#ne(e){const{subscription:t,result:n}=e.params,r=await this.#H.findBy(\"rpcSubscriptionId\",t);if(r)try{const e=this.#J.get(r.id);if(!e)return void this.#i.warn(this.loggerPrefix,`Received a notification, but no matching callbacks found for subscription ID: ${r.id}.`);await e.onNotification(n)}catch(e){this.#i.error(this.loggerPrefix,`Error in subscription callback for ${t}:`,e)}else this.#i.warn(this.loggerPrefix,`Received a notification, but no matching confirmed subscription found for RPC subscription ID: ${t}.`)}async#oe(e){const{id:t,result:n}=e,r=await this.#H.getById(String(t));r?\"confirmed\"!==r.status?(await this.#H.update({...r,status:\"confirmed\",rpcSubscriptionId:n,confirmedAt:(new Date).toISOString()}),this.#i.info(this.loggerPrefix,`Subscription confirmed: request ID: ${t} -> RPC ID: ${n}`)):this.#i.warn(this.loggerPrefix,`Received subscription confirmation, but the subscription is already confirmed for request ID: ${t}.`):this.#i.warn(this.loggerPrefix,`Received subscription confirmation, but no matching pending subscription found for subscription ID: ${t}.`)}async#ie(e){if(\"id\"in e&&void 0!==e.id){const t=await this.#H.getById(String(e.id));if(\"pending\"===t?.status){await this.#H.delete(t.id),this.#i.error(this.loggerPrefix,`Subscription establishment failed for ${t.id}:`,e.error);const n=this.#J.get(t.id);if(n?.onSubscriptionFailed)try{await n.onSubscriptionFailed(e.error)}catch(e){this.#i.error(\"Error in subscription error callback:\",e)}}else this.#i.error(this.loggerPrefix,`Received error for request ID: ${e.id}`,e.error)}else this.#i.error(this.loggerPrefix,\"Connection-level error:\",e.error)}async#Z(){this.#i.info(this.loggerPrefix,\"Clearing subscriptions\"),await this.#H.deleteAll()}#Q(){return globalThis.crypto.randomUUID()}async#Y(){const e={method:\"accountSubscribe\",unsubscribeMethod:\"accountUnsubscribe\",network:nc.Mainnet,params:[\"8A4AptCThfbuknsbteHgGKXczfJpfjuVA9SLTSGaaLGC\",{commitment:\"confirmed\"}]};this.#i.info(this.loggerPrefix,\"Testing subscription\",e);const t={onNotification:async e=>{this.#i.info(this.loggerPrefix,\"onNotification\",e)},onSubscriptionFailed:async e=>{this.#i.info(this.loggerPrefix,\"onSubscriptionFailed\",e)},onConnectionRecovery:async()=>{this.#i.info(this.loggerPrefix,\"onConnectionRecovery\")}};await this.subscribe(e,t)}async#X(){const e=(await this.#H.getAll()).find((e=>\"accountSubscribe\"===e.method&&\"8A4AptCThfbuknsbteHgGKXczfJpfjuVA9SLTSGaaLGC\"===(0,ni.get)(e,\"params[0]\")));e&&await this.unsubscribe(e.id)}}(Gb,Hb,$b,Cd),Zb=new class{#ae;#f;#i;#C=\"[✍️ SignatureMonitor]\";constructor(e,t,n){this.#ae=e,this.#f=t,this.#i=n}async monitor(e){this.#i.info(this.#C,\"Monitoring signature\",e);const{network:t,signature:n,commitment:r}=e;await this.#ae.subscribe({method:\"signatureSubscribe\",unsubscribeMethod:\"signatureUnsubscribe\",network:t,params:[n,{commitment:r,enableReceivedNotification:!1}]},{onNotification:async t=>{await this.#ne(e)},onConnectionRecovery:async()=>{await this.#se(e)}})}async#ne(e){const{signature:t,commitment:n,onCommitmentReached:r}=e;this.#i.info(this.#C,`🎉 Signature ${t} reached commitment \"${n}\"`);try{await r(e)}catch(e){this.#i.warn(this.#C,\"⚠️ Error calling onCommitmentReached callback\",e)}}async#se(e){const{signature:t,network:n}=e;await this.#ce(t,n)?await this.#ne(e):this.#i.warn(this.#C,`⚠️ Signature ${t} not found via HTTP fetch during connection recovery`)}async#ce(e,t){try{const n=await this.#f.getRpc(t).getSignatureStatuses([tu(e)],{searchTransactionHistory:!0}).send(),r=n.value[0]?.confirmationStatus;return r?(this.#i.info(this.#C,`✅ Signature ${e} found via HTTP fetch during connection recovery with confirmation status ${r}`),r):void this.#i.warn(this.#C,`⚠️ Signature ${e} not found via HTTP fetch during connection recovery`)}catch(t){return void this.#i.warn(this.#C,`⚠️ Could not fetch confirmation status for signature ${e}`,t)}}}(Jb,Vb,Cd),Yb=new Ew(Vb,Cd),Xb=new class{#f;#i;#I=450;#_=10000n;constructor(e,t){this.#f=e,this.#i=t}async buildTransactionMessage(e){try{const{from:t,to:n,amount:r,network:o}=e,i=zs(t.address),a=BigInt(av(r).toString()),s=(await this.#f.getRpc(o).getLatestBlockhash().send()).value,c=$u(Al({version:0}),(e=>Il(i,e)),(e=>qu(s,e)),(e=>_l(function(e,t){const n=t?.programAddress??cd,r={source:{value:e.source??null,isWritable:!0},destination:{value:e.destination??null,isWritable:!0}},o={...e},i=fd(n);return{accounts:[i(r.source),i(r.destination)],programAddress:n,data:xd().encode(o)}}({amount:a,destination:n,source:Yl(i)}),e)));return Rl([Qf({units:this.#I}),rh({microLamports:this.#_})],c)}catch(e){throw this.#i.error({error:e},\"Error building transaction message\"),e}}getComputeUnitLimit(){return this.#I}getComputeUnitPriceMicroLamportsPerComputeUnit(){return this.#_}}(Vb,Cd),Qb=new Db(Vb,Yb,Cd),eS=new Wd(Lb),tS=new jd(Lb,Wb),nS=new class{#ue;#i;constructor({tokenMetadataClient:e,logger:t}){this.#ue=e,this.#i=t}async getTokensMetadata(e){if(0===e.length)return this.#i.warn(`No tokens to get metadata for ${e.join(\", \")}`),{};return await this.#ue.getTokenMetadataFromAddresses(e)}async generateImageComponent(e,t=48,n=48){return e?async function(e,{width:t,height:n=t,request:r}){ZA(\"number\"==typeof t&&t>0,\"Expected width to be a number greater than 0.\"),ZA(\"number\"==typeof n&&n>0,\"Expected height to be a number greater than 0.\");const o=await kb(e,r),i=`width=\"${t}\" height=\"${n}\"`;return Tb(`<svg ${i.trim()} xmlns=\"http://www.w3.org/2000/svg\"><image ${i.trim()} href=\"${o}\" /></svg>`)}(e,{width:t,height:n}).then((e=>e.value)).catch((()=>Ib)):Ib}}({tokenMetadataClient:eS,logger:Cd}),rS=new class{#le;#i;constructor(e,t=Cd){this.#le=e,this.#i=t}#de(e){if(!_b(e))throw new Error(\"Passed caipAssetType is not a fiat asset\");return Xo(e).assetReference.toLowerCase()}async#fe(e){const t=e.filter((e=>!_b(e))),[n,r]=await Promise.all([this.#le.getFiatExchangeRates(),this.#le.getMultipleSpotPrices(t,\"usd\")]);return{fiatExchangeRates:n,cryptoPrices:r}}async getMultipleTokenConversions(e){if(0===e.length)return{};const t=e.flatMap((e=>[e.from,e.to])),{fiatExchangeRates:n,cryptoPrices:r}=await this.#fe(t),o={};return e.forEach((e=>{const{from:t,to:i}=e;let a,s;if(o[t]||(o[t]={}),_b(t)){const e=n[this.#de(t)]?.value;if(!e)return void(o[t][i]=null);a=new jo(1).dividedBy(e)}else a=new jo(r[t]?.price??0);if(_b(i)){const e=n[this.#de(i)]?.value;if(!e)return void(o[t][i]=null);s=new jo(1).dividedBy(e)}else s=new jo(r[i]?.price??0);if(a.isZero()||s.isZero())return void(o[t][i]=null);const c=a.dividedBy(s).toString(),u=Date.now();o[t][i]={rate:c,conversionTime:u,expirationTime:u+jd.cacheTtlsMilliseconds.historicalPrices}})),o}#he(e,t){const n=(0,ni.pick)(e,[\"marketCap\",\"totalVolume\",\"circulatingSupply\",\"allTimeHigh\",\"allTimeLow\",\"pricePercentChange1h\",\"pricePercentChange1d\",\"pricePercentChange7d\",\"pricePercentChange14d\",\"pricePercentChange30d\",\"pricePercentChange200d\",\"pricePercentChange1y\"]),r=e=>null==e?\"\":new jo(e).dividedBy(t).toString(),o=(e,t)=>null==t?{}:{[e]:t},i={...o(\"PT1H\",n.pricePercentChange1h),...o(\"P1D\",n.pricePercentChange1d),...o(\"P7D\",n.pricePercentChange7d),...o(\"P14D\",n.pricePercentChange14d),...o(\"P30D\",n.pricePercentChange30d),...o(\"P200D\",n.pricePercentChange200d),...o(\"P1Y\",n.pricePercentChange1y)};return{fungible:!0,marketCap:r(n.marketCap),totalVolume:r(n.totalVolume),circulatingSupply:(n.circulatingSupply??0).toString(),allTimeHigh:r(n.allTimeHigh),allTimeLow:r(n.allTimeLow),...Object.keys(i).length>0?{pricePercentChange:i}:{}}}async getMultipleTokensMarketData(e){if(0===e.length)return{};const t=e.flatMap((e=>[e.asset,e.unit])),{fiatExchangeRates:n,cryptoPrices:r}=await this.#fe(t),o={};return e.forEach((e=>{const{asset:t,unit:i}=e;if(!r[t])return;let a;if(_b(i)){const e=n[this.#de(i)]?.value;if(!e)return;a=new jo(1).dividedBy(e)}else a=new jo(r[i]?.price??0);a.isZero()||(o[t]||(o[t]={}),o[t][i]=this.#he(r[t],a))})),o}async getHistoricalPrice(e,t){z(e,it),z(t,it);const n=Xo(t).assetReference.toLowerCase();z(n,Nd);const r=[\"1d\",\"7d\",\"1m\",\"3m\",\"1y\",\"1000y\"].map((async r=>this.#le.getHistoricalPrices({assetType:e,timePeriod:r,vsCurrency:n}).then((e=>({timePeriod:r,response:e}))).catch((n=>(this.#i.warn(`Error fetching historical prices for ${e} to ${t} with time period ${r}. Returning null object.`,n),{timePeriod:r,response:Md}))))),o=(await Promise.all(r)).reduce(((e,{timePeriod:t,response:n})=>(e[`P${t.toUpperCase()}`]=n.prices.map((e=>[e[0],e[1].toString()])),e)),{}),i=Date.now();return{intervals:o,updateTime:i,expirationTime:i+jd.cacheTtlsMilliseconds.historicalPrices}}}(tS),oS=new class{#f;constructor(e){this.#f=e}async resolveDomain(e,t){const n=this.#f.getRpc(e);return KA(n,t)}async resolveAddress(e,t){const n=this.#f.getRpc(e);return(await(async(e,t)=>{const n=await hA.getAddress(\"85iDfUvr3HJyLM2zcq5BXSiDvUWfw6cSE1FfNBo8Ap29\",t),r=await hA.retrieve(e,n),[o,i]=await Promise.all([rA.retrieve(e,r.nameAccount),fA(e,r.nameAccount)]),a=i||o.owner,s=o.parentName!==oA,c=[pA(e,r.nameAccount,s?o.parentName:void 0)];s&&c.push(pA(e,o.parentName));const u=(await Promise.all(c)).join(\".\");return{domainAddress:r.nameAccount,domainName:u,stale:t!==a}})(n,zs(t))).domainAddress}}(Vb),iS=new my({connection:Vb,logger:Cd,configProvider:Lb,state:Fb,tokenMetadataService:nS,cache:Wb,tokenPricesService:rS}),aS=new class{#f;#i;#A;#w;#v;constructor({logger:e,connection:t,tokenMetadataService:n,state:r,configProvider:o}){this.#f=t,this.#A=n,this.#i=e,this.#w=r,this.#v=o}async fetchLatestAccountTransactions(e,t){const n=this.#v.get().activeNetworks,r=(await Promise.all(n.map((async n=>this.#pe(e,n,{limit:t}))))).flatMap((({data:e})=>e)).sort(((e,t)=>(t.timestamp??0)-(e.timestamp??0)));return r}async#pe(e,t,n){const{address:r}=e,o=zs(r),i=(await this.#f.getRpc(t).getSignaturesForAddress(o,n.next?{limit:n.limit,before:n.next}:{limit:n.limit}).send()).map((({signature:e})=>e)),a=await this.#w.getKey(`signatures.${r}`)??[];await this.#w.setKey(`signatures.${r}`,[...new Set([...a,...i])]);const s=(await this.getTransactionsDataFromSignatures({scope:t,signatures:i})).filter((e=>null!==e)).map((n=>Ub({transactionData:n,account:e,scope:t}))).filter((e=>null!==e)).filter((t=>!Ob(t,e))),c=await this.#ge({[r]:s}),u=i.length===n.limit?i[i.length-1]??null:null;return{data:c[r]??[],next:u}}async fetchLatestSignatures(e,t,n){this.#i.log(`[TransactionsService.fetchAllSignatures] Fetching all signatures for ${t} on ${e}`);const r=(await this.#f.getRpc(e).getSignaturesForAddress(t,{limit:n}).send()).map((({signature:e})=>e)),o=await this.#w.getKey(`signatures.${t}`)??[];return await this.#w.setKey(`signatures.${t}`,[...new Set([...o,...r])]),r}async getTransactionsDataFromSignatures({scope:e,signatures:t}){return await Promise.all(t.map((async t=>this.#f.getRpc(e).getTransaction(t,{maxSupportedTransactionVersion:0}).send())))}async fetchBySignature(e,t,n){const r=await this.#f.getRpc(n).getTransaction(tu(e),{maxSupportedTransactionVersion:0}).send();return r?Ub({transactionData:r,scope:n,account:t}):null}async saveTransaction(e,t){const{id:n,address:r}=t,{id:o}=e;await Promise.all([(async()=>{const t=await this.#w.getKey(`transactions.${n}`)??[],r=t.findIndex((e=>e.id===o));-1!==r&&(t[r]=e);const i=(0,ni.uniqBy)([...t,e],\"id\");await this.#w.setKey(`transactions.${n}`,i)})(),(async()=>{const e=await this.#w.getKey(`signatures.${r}`)??[];if(e.map((e=>e.toString())).includes(o.toString()))return;const t=(0,ni.uniq)([...e,o]);await this.#w.setKey(`signatures.${r}`,t)})()])}async refreshTransactions(e){try{if(this.#i.log(`[TransactionsService] Refreshing transactions for ${e.length} accounts`),!e.length)return void this.#i.log(\"[TransactionsService] No accounts found\");const t=this.#v.get().activeNetworks,n=await this.#w.getKey(\"transactions\")??{},r=this.#me(n),o=await this.#ye({scopes:t,accounts:e,existingSignatures:r}),i=await this.#ve({scopes:t,accounts:e,newSignaturesMapping:o}),a=await this.#ge(i);await vn(snap,gn.AccountTransactionsUpdated,{transactions:a});const s=this.#we({accounts:e,previousTransactionsByAccount:n,newTransactionsByAccount:i});await this.#w.setKey(\"transactions\",s)}catch(e){this.#i.error(\"[TransactionsService] Error. Releasing lock...\",e)}}#me(e){return new Set(Object.values(e??{}).flat().map((e=>e.id)))}async#ye({scopes:e=[nc.Mainnet,nc.Devnet],accounts:t,existingSignatures:n}){const r={byNetwork:new Map(e.map((e=>[e,new Set]))),byAccountAndNetwork:new Map(t.map((t=>[t.id,new Map(e.map((e=>[e,new Set])))])))};for(const o of t)for(const t of e){this.#i.log(`[TransactionsService] Fetching signatures for ${o.address} on ${t}...`);const e=await this.fetchLatestSignatures(t,zs(o.address),this.#v.get().transactions.storageLimit),i=e.filter((e=>!n.has(e)));if(!i.length){this.#i.log(`[TransactionsService] Found 0 new signatures out of ${e.length} total for address ${o.address} on network ${t}`);continue}const a=r.byNetwork.get(t),s=r.byAccountAndNetwork.get(o.id).get(t);i.forEach((e=>{a.add(e),s.add(e)})),this.#i.info(`[TransactionsService] Found ${i.length} new signatures (${e.length} total) for ${o.address} on ${t}`)}return r}async#ve({scopes:e=[nc.Mainnet,nc.Devnet],accounts:t,newSignaturesMapping:n}){const r={};for(const o of e){const e=n.byNetwork.get(o);if(!e.size)continue;const i=Array.from(e),a=await this.getTransactionsDataFromSignatures({scope:o,signatures:i});for(const e of t){r[e.id]||(r[e.id]=[]);const t=n.byAccountAndNetwork.get(e.id).get(o),i=a.filter((e=>null!==e)).filter((e=>{const n=e?.transaction?.signatures[0];return n&&t.has(n)})).map((t=>Ub({transactionData:t,account:e,scope:o}))).filter((e=>null!==e)).filter((t=>!Ob(t,e)));r[e.id]?.push(...i)}}return r}#we({accounts:e,previousTransactionsByAccount:t,newTransactionsByAccount:n}){return Object.fromEntries(e.map((e=>[e.id,[...t[e.id]??[],...n[e.id]??[]].sort(((e,t)=>(e.timestamp??0)-(t.timestamp??0))).slice(0,this.#v.get().transactions.storageLimit)])))}async#ge(e){const t=[...new Set(Object.values(e).flatMap((e=>e.flatMap((({from:e,to:t})=>[...e,...t].filter((e=>e.asset?.fungible)).map((e=>e.asset.type)))))))],n=await this.#A.getTokensMetadata(t);return Object.keys(e).forEach((t=>{e[t]?.forEach((e=>{e.from.forEach((e=>{e.asset?.fungible&&n[e.asset.type]&&(e.asset.unit=n[e.asset.type]?.symbol??\"\")})),e.to.forEach((e=>{e.asset?.fungible&&n[e.asset.type]&&(e.asset.unit=n[e.asset.type]?.symbol??\"\")}))}))})),e}}({logger:Cd,connection:Vb,tokenMetadataService:nS,state:Fb,configProvider:Lb}),sS=new class{#i=Cd;#C=\"[📣 AnalyticsService]\";constructor(e=Cd){this.#i=e}async trackEventTransactionAdded(e,t,n){try{this.#i.log(this.#C,\"Tracking event transaction added\"),z(t,bc),await snap.request({method:\"snap_trackEvent\",params:{event:{event:\"Transaction Added\",properties:{message:\"Snap transaction added\",origin:n.origin,account_id:e.id,account_address:e.address,account_type:e.type,chain_id:n.scope}}}})}catch(e){this.#i.warn(this.#C,\"Error tracking event transaction added\",{error:e,base64EncodedTransaction:t,metadata:n})}}async trackEventTransactionApproved(e,t,n){try{this.#i.log(this.#C,\"Tracking event transaction approved\"),z(t,bc),await snap.request({method:\"snap_trackEvent\",params:{event:{event:\"Transaction Approved\",properties:{message:\"Snap transaction approved\",origin:n.origin,account_id:e.id,account_address:e.address,account_type:e.type,chain_id:n.scope}}}})}catch(e){this.#i.warn(this.#C,\"Error tracking event transaction approved\",{error:e,base64EncodedTransaction:t,metadata:n})}}async trackEventTransactionSubmitted(e,t,n,r){try{this.#i.log(this.#C,\"Tracking event transaction submitted\"),z(t,bc),await snap.request({method:\"snap_trackEvent\",params:{event:{event:\"Transaction Submitted\",properties:{message:\"Snap transaction submitted\",origin:r.origin,account_id:e.id,account_address:e.address,account_type:e.type,chain_id:r.scope}}}})}catch(e){this.#i.warn(this.#C,\"Error tracking event transaction submitted\",{error:e,transactionMessageBase64Encoded:t,signature:n,metadata:r})}}async trackEventTransactionFinalized(e,t,n){try{this.#i.log(this.#C,\"Tracking event transaction finalized\"),await snap.request({method:\"snap_trackEvent\",params:{event:{event:\"Transaction Finalized\",properties:{message:\"Snap transaction finalized\",origin:n.origin,account_id:e.id,account_address:e.address,account_type:e.type,chain_id:t.chain,transaction_status:t.status,transaction_type:t.type}}}})}catch(e){this.#i.warn(this.#C,\"Error tracking event transaction finalized\",{error:e,transaction:t,metadata:n})}}async trackEventTransactionRejected(e,t,n){try{this.#i.log(this.#C,\"Tracking event transaction rejected\"),z(t,bc),await snap.request({method:\"snap_trackEvent\",params:{event:{event:\"Transaction Rejected\",properties:{message:\"Snap transaction rejected\",origin:n.origin,account_id:e.id,account_address:e.address,account_type:e.type,chain_id:n.scope}}}})}catch(e){this.#i.warn(this.#C,\"Error tracking event transaction rejected\",{error:e,base64EncodedTransaction:t,metadata:n})}}async trackEventSecurityAlertDetected(e,t,n,r,o,i,a){try{this.#i.log(this.#C,\"Tracking event security alert detected\"),z(t,bc),await snap.request({method:\"snap_trackEvent\",params:{event:{event:\"Security Alert Detected\",properties:{message:\"Snap security alert detected\",origin:n,account_id:e.id,account_address:e.address,account_type:e.type,chain_id:r,security_alert_response:o,security_alert_reason:i,security_alert_description:a}}}})}catch(e){this.#i.warn(this.#C,\"Error tracking event security alert detected\",{error:e,base64EncodedTransaction:t,origin:n,scope:r,securityAlertResponse:o,securityAlertReason:i,securityAlertDescription:a})}}async trackEventSecurityScanCompleted(e,t,n,r,o,i){try{this.#i.log(this.#C,\"Tracking event security scan completed\"),z(t,bc),await snap.request({method:\"snap_trackEvent\",params:{event:{event:\"Security Scan Completed\",properties:{message:\"Snap security scan completed\",origin:n,account_id:e.id,account_address:e.address,account_type:e.type,chain_id:r,scan_status:o,has_security_alerts:i}}}})}catch(e){this.#i.warn(this.#C,\"Error tracking event security scan completed\",{error:e,base64EncodedTransaction:t,origin:n,scope:r,scanStatus:o,hasSecurityAlerts:i})}}}(Cd),cS=new class{#Ae;#be;#Se;#f;#k;#Ee;#i;#C=\"[👛 WalletService]\";constructor(e,t,n,r,o,i,a=Cd){this.#Ae=e,this.#be=t,this.#Se=n,this.#f=r,this.#k=o,this.#Ee=i,this.#i=a}async resolveAccountAddress(e,t,n){this.#i.log(this.#C,\"Resolving account address\",{keyringAccounts:e,scope:t,request:n});const{method:r,params:o}=n,i=e.filter((e=>e.scopes.includes(t)));if(0===i.length)throw new Error(\"No accounts with this scope\");switch(r){case Ft.SignIn:{const{address:e}=o;if(!e)throw new Error(\"No address\");return Oy(t,e)}case Ft.SignAndSendTransaction:case Ft.SignMessage:case Ft.SignTransaction:{const{account:e}=o,n=i.find((t=>t.address===e.address))?.address;if(!n)throw new Error(\"Account not found\");return Oy(t,n)}default:throw this.#i.warn({method:r},\"Unsupported method\"),new Error(\"Unsupported method\")}}async signTransaction(e,t){this.#i.log(this.#C,\"Signing transaction\",{account:e,request:t}),z(t.request,jf),z(t.scope,yc);const{transaction:n,scope:r,options:o}=t.request.params,i=o?.minContextSlot?{minContextSlot:BigInt(o.minContextSlot)}:void 0,a=await this.#k.partiallySignBase64String(n,e,r,i),s=(e=>$u(e,Nl().encode,Es().decode))(a),c={signedTransaction:s};z(c,Df);const u=jl(a);return await Promise.allSettled([this.#Ee.monitor({network:r,signature:u,commitment:\"confirmed\",onCommitmentReached:async n=>{await this.#xe(n.signature,e,r,t.origin)}})]),c}async signAndSendTransaction(e,t,n,r,o){this.#i.log(this.#C,\"Signing and sending transaction\",e);const i=o?.minContextSlot?{minContextSlot:BigInt(o.minContextSlot)}:void 0,a=await this.#k.partiallySignBase64String(t,e,n,i),s=jl(a),c=function({rpc:e}){return async function(t,n){await vm({...n,rpc:e,transaction:t})}}({rpc:this.#f.getRpc(n)}),u=lv(n,\"tx\",s);this.#i.info(`Sending transaction: ${u}`),Dl(a);const l={...o?.preflightCommitment?{preflightCommitment:o.preflightCommitment}:{},...o?.minContextSlot?{minContextSlot:BigInt(o.minContextSlot)}:{},...o?.maxRetries?{maxRetries:BigInt(o.maxRetries)}:{},commitment:\"confirmed\",skipPreflight:!0};await c(a,l),await this.#Te(s,t,e,n,r),await this.#Ee.monitor({network:n,signature:s,commitment:o?.commitment??\"confirmed\",onCommitmentReached:async t=>{await this.#xe(t.signature,e,n,r)}});const d={signature:s};return z(d,Uf),d}async#Te(e,t,n,r,o){this.#i.info(this.#C,\"Handling transaction submitted\",{signature:e,transactionMessageBase64Encoded:t,account:n,network:r,origin:o}),await this.#Se.trackEventTransactionSubmitted(n,t,e,{scope:r,origin:o})}async#xe(e,t,n,r){this.#i.info(this.#C,\"Handling transaction confirmed\",{signature:e,account:t,network:n,origin:r});const o=await this.#Ae.fetchBySignature(e,t,n);if(!o)throw new Error(`Transaction with signature ${e} not found on network ${n}`);await this.#Ae.saveTransaction(o,t),await Promise.allSettled([this.#be.refreshAssets([t]),vn(snap,gn.AccountTransactionsUpdated,{transactions:{[t.id]:[o]}}),this.#Se.trackEventTransactionFinalized(t,o,{scope:n,origin:r})])}async signMessage(e,t){this.#i.log(this.#C,\"Signing message\",e,t),z(t.request,Mf);const{address:n,entropySource:r,derivationPath:o}=e,i=zs(n),{scope:a}=t;z(a,yc);const{message:s}=t.request.params,c=xs().encode(s),u=Cs().decode(c),{privateKeyBytes:l}=await Nm({entropySource:r,derivationPath:o}),d=await Zl(l),f=function(e,t={}){return Object.freeze({content:\"string\"==typeof e?(new td).encode(e):e,signatures:Object.freeze({...t})})}(u),[h]=await d.signMessages([f]);z(h,ee());const p=h[i];var g;z(p,(g=Uint8Array,D(\"instance\",(e=>e instanceof g||`Expected a \\`${g.name}\\` instance, but received: ${R(e)}`))));const m={signature:ys().decode(p),signedMessage:s,signatureType:\"ed25519\"};return z(m,Lf),m}async signIn(e,t){this.#i.log(this.#C,\"Signing in\",e,t),z(t.request,zf);const{address:n}=e,{params:r}=t.request,o=this.#ke(r),i=Cs().encode(o),a=xs().decode(i),s={id:globalThis.crypto.randomUUID(),scope:t.scope,account:e.id,origin:t.origin,request:{method:Ft.SignMessage,params:{account:{address:n},message:a}}},c={account:{address:n},...await this.signMessage(e,s)};return z(c,$f),c}async verifySignature(e,t,n){this.#i.log(this.#C,\"Verifying signature\",{account:e,signatureBase58:t,messageBase64:n}),z(t,Ac),z(n,bc);const{privateKeyBytes:r}=await Nm({entropySource:e.entropySource,derivationPath:e.derivationPath}),o=await Zl(r),i=vs().encode(t),a=xs().encode(n);return await nu(o.keyPair.publicKey,i,a)}#ke(e){const{domain:t,address:n,statement:r,uri:o,version:i,chainId:a,nonce:s,issuedAt:c,expirationTime:u,notBefore:l,requestId:d,resources:f}=e;let h=`${t} wants you to sign in with your Solana account:\\n`;h+=`${n}`,r&&(h+=`\\n\\n${r}`);const p=[];if(o&&p.push(`URI: ${o}`),i&&p.push(`Version: ${i}`),a&&p.push(`Chain ID: ${a}`),s&&p.push(`Nonce: ${s}`),c&&p.push(`Issued At: ${c}`),u&&p.push(`Expiration Time: ${u}`),l&&p.push(`Not Before: ${l}`),d&&p.push(`Request ID: ${d}`),f){p.push(\"Resources:\");for(const e of f)p.push(`- ${e}`)}return p.length&&(h+=`\\n\\n${p.join(\"\\n\")}`),h}}(aS,iS,sS,Vb,Yb,Zb,Cd),uS=new class{#Ie;#i;#A;#Se;constructor(e,t,n,r){this.#Ie=e,this.#A=t,this.#Se=n,this.#i=r}async scanTransaction({method:e,accountAddress:t,transaction:n,scope:r,origin:o,options:i=[\"simulation\",\"validation\"],account:a}){try{const s=await this.#Ie.scanTransactions({method:e,accountAddress:t,transactions:[n],scope:r,origin:o,options:i}),c=this.#_e(s);if(!c?.status)return this.#i.warn(\"Invalid scan result received from security alerts API\"),a&&await this.#Se.trackEventSecurityScanCompleted(a,n,o,r,Rb.ERROR,!1),null;if(a){const e=Object.values(Rb).includes(c.status)?c.status:Rb.ERROR,t=Boolean(c.validation?.type&&c.validation.type!==Cb.Benign),i=[this.#Se.trackEventSecurityScanCompleted(a,n,o,r,e,t)];if(t){const e=Object.values(Cb).includes(c.validation.type)?c.validation.type:Cb.Warning;i.push(this.#Se.trackEventSecurityAlertDetected(a,n,o,r,e,c.validation.reason??\"unknown\",this.#Ce(c.validation)))}await Promise.all(i)}if(!c?.estimatedChanges?.assets)return null;const u={...c},l=c.estimatedChanges.assets.map((async(e,t)=>{const{logo:n}=e;if(n)return this.#A.generateImageComponent(n,16,16).then((e=>{e&&u?.estimatedChanges?.assets?.[t]&&(u.estimatedChanges.assets[t].imageSvg=e)})).catch((()=>null))}));return await Promise.all(l??[]),u}catch(e){return this.#i.error(e),a&&await this.#Se.trackEventSecurityScanCompleted(a,n,o,r,Rb.ERROR,!1),null}}#Ce(e){if(!e?.reason)return\"Security alert: Unknown reason\";return{unfair_trade:\"Unfair trade of assets, without adequate compensation to the owner's account\",transfer_farming:\"Substantial transfer of the account's assets to untrusted entities\",writable_accounts_farming:\"Transaction exposes unused writable account, can be utilized in BIT-FLIP attacks patterns\",native_ownership_change:\"The account transferred ownership of its native SOL to untrusted entities\",spl_token_ownership_change:\"The account transferred ownership of its SPL tokens to untrusted entities\",exposure_farming:\"The account delegates ownership, thereby exposing its assets to untrusted spenders\",known_attacker:\"A known attacker's account is involved in the transaction\",invalid_signature:\"One of the transactions provided contains non valid signatures, that can lead misleading simulation results\",honeypot:\"The account invests funds in a token that is part of an orchestrated honeypot scheme\",other:\"The transaction was marked as malicious for other reason, further details would be described in features field\"}[e.reason]??`Security alert: ${e.reason}`}#_e(e){return e?{status:\"SUCCESS\"===e.status||\"ERROR\"===e.status?e.status:\"ERROR\",estimatedChanges:{assets:e.result?.simulation?.account_summary?.account_assets_diff?.map((e=>({type:e.in?\"in\":\"out\",symbol:\"symbol\"in e.asset?e.asset.symbol:e.asset_type,name:\"name\"in e.asset?e.asset.name:e.asset_type,logo:\"logo\"in e.asset?e.asset.logo:null,value:e.in?.value??e.out?.value??null,price:e.in?.usd_price??e.out?.usd_price??null,imageSvg:null})))??[]},validation:{type:e.result?.validation?.result_type??null,reason:e.result?.validation?.reason??null},error:e?.error_details?{type:\"type\"in e.error_details?e.error_details.type:null,code:\"code\"in e.error_details?e.error_details.code:null}:null}:null}}(new class{#o;#i;#a;constructor(e,t=globalThis.fetch,n=Cd){const{baseUrl:r}=e.get().securityAlertsApi;this.#o=t,this.#i=n,this.#a=r}async scanTransactions({method:e,accountAddress:t,transactions:n,scope:r,origin:o,options:i}){const a=Ld.from(Dd.decode(t)).toString(\"base64\");this.#i.info(\"Scanning transaction\");return(await this.#o(`${this.#a}/solana/message/scan`,{headers:{\"Content-Type\":\"application/json\",accept:\"application/json\"},method:\"POST\",body:JSON.stringify({method:e,encoding:\"base64\",account_address:a,metadata:{url:o},chain:$d[r],transactions:n,options:i})})).json()}}(Lb),nS,sS,Cd),lS=new class{async handleKeyringRequest(e,t){const{request:{method:n}}=e;switch(n){case Ft.SignAndSendTransaction:case Ft.SignTransaction:return this.#Re(e,t);case Ft.SignMessage:return this.#Pe(e,t);case Ft.SignIn:return this.#Oe(e,t);default:throw new Error(`Unsupported method: ${n}`)}}async#Re(e,t){z(e.request,ae([Bf,jf]));const{request:{method:n,params:{transaction:r}},scope:o,account:i,origin:a}=e;await snap.request({method:\"snap_scheduleBackgroundEvent\",params:{duration:\"PT1S\",request:{method:Tv.OnTransactionAdded,params:{accountId:i,base64EncodedTransaction:r,metadata:{scope:o,origin:a}}}}});return await async function(e){const t={...xv,...e},n=Fm().then((e=>{t.preferences=e})).catch((()=>{t.preferences=xv.preferences})),r=xm(Vb.getRpc(t.scope),t.transaction).then((e=>{t.advanced.instructions=e})).catch((e=>{console.error(e),t.advanced.instructions=[]}));await Promise.all([n,r]);const{currency:o,useExternalPricingData:i,useSecurityAlerts:a,simulateOnChainActions:s}=t.preferences,c=await Um(yy(Ev,{context:t}),t),u=$m(c),l={...t},d=[sc[t.scope].nativeToken.caip19Id];let f;i?f=tS.getMultipleSpotPrices(d,o).then((e=>{l.tokenPrices=e,l.tokenPricesFetchStatus=\"fetched\"})).catch((()=>{l.tokenPricesFetchStatus=\"error\"})):(l.tokenPricesFetchStatus=\"fetched\",l.tokenPrices={});const h=Yb.getFeeFromBase64StringInLamports(t.transaction,l.scope).then((e=>{l.feeEstimatedInSol=e?iv(e).toString():null})).catch((()=>{l.feeEstimatedInSol=null}));await Promise.all([f,h]),await Dm(c,yy(Ev,{context:l}),l);const p={...l},g=[];if(s&&g.push(\"simulation\"),a&&g.push(\"validation\"),s||a){const e=uS.scanTransaction({method:p.method,accountAddress:p.account?.address??\"\",transaction:p.transaction,scope:p.scope,origin:p.origin,options:g}).then((async e=>{p.scan=e,p.scanFetchStatus=e?\"fetched\":\"error\"})).catch((()=>{p.scan=null,p.scanFetchStatus=\"error\"}));await Promise.all([e])}else p.scanFetchStatus=\"fetched\",p.scan=null;return await Dm(c,yy(Ev,{context:p}),p),await Fb.setKey(`mapInterfaceNameToId.${jm}`,c),u}({...xv,scope:o,method:n,origin:e.origin,transaction:r,account:t})?(await snap.request({method:\"snap_scheduleBackgroundEvent\",params:{duration:\"PT1S\",request:{method:Tv.OnTransactionApproved,params:{accountId:i,base64EncodedTransaction:r,metadata:{scope:o,origin:a}}}}}),!0):(await snap.request({method:\"snap_scheduleBackgroundEvent\",params:{duration:\"PT1S\",request:{method:Tv.OnTransactionRejected,params:{accountId:i,base64EncodedTransaction:r,metadata:{scope:o,origin:a}}}}}),!1)}async#Pe(e,t){const n=await async function(e,t){z(e.request,Mf);const{request:{params:{message:n}},scope:r,origin:o}=e,i=xs().encode(n),a=Cs().decode(i),s=await Fm().then((e=>e.locale)).catch((()=>My));return $m(await Um(yy(ov,{message:a,account:t,scope:r,locale:s,networkImage:wy,origin:o}),{}))}(e,t);return Boolean(n)}async#Oe(e,t){const n=await async function(e,t){z(e.request,zf);const{request:{params:n},scope:r,origin:o}=e,i=await Fm();return $m(await Um(yy(tv,{params:n,account:t,scope:r,preferences:i,networkImage:wy,origin:o}),{}))}(e,t);return Boolean(n)}},dS=new class{#w;#i;#Ae;#be;#Ne;#Be;constructor({state:e,logger:t,transactionsService:n,assetsService:r,walletService:o,confirmationHandler:i}){this.#w=e,this.#i=t,this.#Ae=n,this.#be=r,this.#Ne=o,this.#Be=i}async listAccounts(){try{const e=await this.#w.getKey(\"keyringAccounts\")??{};return(0,ni.sortBy)(Object.values(e),[\"entropySource\",\"index\"])}catch(e){throw this.#i.error({error:e},\"Error listing accounts\"),new Error(\"Error listing accounts\")}}async getAccount(e){try{cy({accountId:e},dc);return await this.#w.getKey(`keyringAccounts.${e}`)}catch(e){throw this.#i.error({error:e},\"Error getting account\"),new Qr(e)}}async getAccountOrThrow(e){const t=await this.getAccount(e);if(!t)throw new Error(`Account \"${e}\" not found`);return t}#ze(e,t){return function(e){if(0===e.length)return 0;const t=e.map((e=>e.index)).sort(((e,t)=>e-t));let n=0;for(const e of t){if(e!==n)break;n+=1}return n}(e.filter((e=>e.entropySource===t)))}#Me(e){return`m/44'/501'/${e}'/0'`}#je(e){const t=e.split(\"/\")[3];if(!t)throw new Error(\"Invalid derivation path\");const n=parseInt(t.replace(\"'\",\"\"),10);return z(n,J()),n}async#Ue(){const e=(await async function(){return await snap.request({method:\"snap_listEntropySources\"})}()).find((({primary:e})=>e));if(!e)throw new Error(\"No default entropy source found - this can never happen\");return e.id}async createAccount(e){const t=globalThis.crypto.randomUUID();try{const n=await this.listAccounts(),r=e?.entropySource??await this.#Ue(),o=e?.derivationPath?this.#je(e.derivationPath):this.#ze(n,r),i=e?.derivationPath?e.derivationPath:this.#Me(o),a=n.find((e=>e.derivationPath===i&&e.entropySource===r));if(a)return this.#i.warn(\"[🔑 Keyring] An account already exists with the same derivation path and entropy source. Skipping account creation.\"),Tm(a);const{publicKeyBytes:s}=await Nm({entropySource:r,derivationPath:i}),c=js().decode(s.slice(1)),{importedAccount:u,accountNameSuggestion:l,metamask:d,...f}=e??{},h={id:t,entropySource:r,derivationPath:i,index:o,type:dt.DataAccount,address:c,scopes:[Lt.Mainnet,Lt.Testnet,Lt.Devnet],options:{...f,entropySource:r,derivationPath:i,index:o},methods:[Ft.SignAndSendTransaction,Ft.SignTransaction,Ft.SignMessage,Ft.SignIn]};await this.#w.setKey(`keyringAccounts.${h.id}`,h);const p=Tm(h);return await this.emitEvent(gn.AccountCreated,{account:p,accountNameSuggestion:l??`Solana Account ${o+1}`,displayAccountNameSuggestion:!l,displayConfirmation:!1,...d?{metamask:d}:{}}),p}catch(e){throw this.#i.error({error:e},\"Error creating account\"),await this.#De(t),new Error(`Error creating account: ${e.message}`)}}async#De(e){await Promise.all([this.#w.deleteKey(`keyringAccounts.${e}`),this.#w.deleteKey(`transactions.${e}`),this.#w.deleteKey(`assets.${e}`)])}async deleteAccount(e){try{cy({accountId:e},fc),await this.#De(e),await this.emitEvent(gn.AccountDeleted,{id:e})}catch(e){throw this.#i.error({error:e},\"Error deleting account\"),e}}async listAccountAssets(e){try{cy({accountId:e},hc);const t=await this.getAccountOrThrow(e),n=await this.#be.listAccountAssets(t);return uy(n,nn),n}catch(e){throw this.#i.error({error:e},\"Error listing account assets\"),e}}async getAccountBalances(e,t){try{cy({accountId:e,assets:t},pc);const n=await this.getAccountOrThrow(e),r=await this.#be.getAccountBalances(n,t);return uy(r,mc),r}catch(e){throw this.#i.error({error:e},\"Error getting account balances\"),e}}async emitEvent(e,t){await vn(snap,e,t)}async filterAccountChains(e,t){throw new Error(`Implement me! ${e} ${t.toString()}`)}async updateAccount(e){throw new Error(`Implement me! ${JSON.stringify(e)}`)}async submitRequest(e){return{pending:!1,result:await this.#Le(e)}}async#Le(e){z(e,ly);const{request:{method:t,params:n},scope:r,account:o,origin:i}=e,a=await this.getAccountOrThrow(o);if(!a.scopes.includes(r))throw new Error(`Scope \"${r}\" is not allowed for this account`);if(!a.methods.includes(t))throw new Error(`Method \"${t}\" is not allowed for this account`);if(\"scope\"in n&&r!==n.scope)throw new Error(`Scope \"${r}\" does not match \"${n.scope}\" in request.params`);if(!await this.#Be.handleKeyringRequest(e,a))throw new yo;switch(t){case Ft.SignAndSendTransaction:{const{transaction:e,options:t}=n;return this.#Ne.signAndSendTransaction(a,e,r,i,t)}case Ft.SignTransaction:return this.#Ne.signTransaction(a,e);case Ft.SignMessage:return this.#Ne.signMessage(a,e);case Ft.SignIn:return this.#Ne.signIn(a,e);default:throw new ao(`Unsupported method: ${t}`)}}async listAccountTransactions(e,t){try{cy({accountId:e,pagination:t},gc);const n=await this.getAccount(e);if(!n)throw new Error(\"Account not found\");const r=await this.#w.getKey(`transactions.${e}`)??[];if(!r.length){const e=await this.#Ae.fetchLatestAccountTransactions(n,t.limit);return await this.#w.setKey(`transactions.${n.id}`,e),{data:e,next:null}}const o=t.next?r.findIndex((e=>e.id===t.next)):0,i=r.slice(o,o+t.limit),a=o+t.limit<r.length;return{data:i,next:a?r[o+t.limit]?.id??null:null}}catch(e){throw this.#i.error({error:e},\"Error listing account transactions\"),e}}async resolveAccountAddress(e,t){try{z(e,yc);const{method:n,params:r}=t,o={method:n,params:r};z(o,Ff);const i=await this.listAccounts();return{address:await this.#Ne.resolveAccountAddress(i,e,o)}}catch(e){return this.#i.error({error:e},\"Error resolving account address\"),null}}async discoverAccounts(e,t,n){try{z({scopes:e,entropySource:t,groupIndex:n},dy);const r=this.#Me(n),o=await Nm({entropySource:t,derivationPath:r}),i=js().decode(o.publicKeyBytes.slice(1)),a=[];for(const t of e)a.push(this.#Ae.fetchLatestSignatures(t,i,1));const s=await Promise.all(a);return s.some((e=>e.length>0))?[{type:\"bip44\",scopes:e,derivationPath:r}]:[]}catch(e){throw this.#i.error({error:e},\"Error discovering accounts\"),e}}}({state:Fb,transactionsService:aS,logger:Cd,assetsService:iS,walletService:cS,confirmationHandler:lS}),fS=new Fd(Vb,Cd),hS=new class{#$e;#Ne;#i;constructor(e,t,n){this.#$e=e,this.#Ne=t,this.#i=n}async handle(e){this.#i.log(\"[onClientRequest] Handling client request...\",e);const{method:t}=e;if(t===Vd.SignAndSendTransactionWithoutConfirmation)return this.#Fe(e);throw new ao}async#Fe(e){try{z(e,qf)}catch(e){const t=new ro;throw t.cause=e,t}const{params:{transaction:t,options:n,account:{address:r},scope:o}}=e,i=(await this.#$e.listAccounts()).find((e=>e.address===r));if(!i)throw new ro(`Account not found: ${r}`);return this.#Ne.signAndSendTransaction(i,t,o,tc,n)}}(dS,cS,Cd),pS={configProvider:Lb,connection:Vb,keyring:dS,priceApiClient:tS,state:Fb,cache:qb,assetsService:iS,tokenPricesService:rS,transactionHelper:Yb,transactionsService:aS,sendSolBuilder:Xb,sendSplTokenBuilder:Qb,walletService:cS,transactionScanService:uS,analyticsService:sS,confirmationHandler:lS,nftService:fS,clientRequestHandler:hS,webSocketConnectionService:Gb,subscriptionService:Jb,eventEmitter:$b,nameResolutionService:oS},gS=ee({id:re(),jsonrpc:Z(\"2.0\"),method:Z(Tv.OnTransactionAdded),params:ee({accountId:cc,base64EncodedTransaction:bc,metadata:ee({scope:yc,origin:re()})})}),mS=ee({id:re(),jsonrpc:Z(\"2.0\"),method:Z(Tv.OnTransactionApproved),params:ee({accountId:cc,base64EncodedTransaction:bc,metadata:ee({scope:yc,origin:re()})})}),yS=ee({id:re(),jsonrpc:Z(\"2.0\"),method:Z(Tv.OnTransactionRejected),params:ee({accountId:cc,base64EncodedTransaction:bc,metadata:ee({scope:yc,origin:re()})})}),vS={[Tv.OnTransactionAdded]:async({request:e})=>{try{Cd.info(\"[onTransactionAdded] Cronjob triggered\",e),z(e,gS);const{accountId:t,base64EncodedTransaction:n,metadata:r}=e.params,o=await dS.getAccountOrThrow(t);await sS.trackEventTransactionAdded(o,n,r)}catch(e){throw Cd.error(e),new to(e)}},[Tv.OnTransactionApproved]:async({request:e})=>{try{Cd.info(\"[onTransactionApproved] Cronjob triggered\",e),z(e,mS);const{accountId:t,base64EncodedTransaction:n,metadata:r}=e.params,o=await dS.getAccountOrThrow(t);await sS.trackEventTransactionApproved(o,n,r)}catch(e){throw Cd.error(e),new to(e)}},[Tv.OnTransactionRejected]:async({request:e})=>{try{Cd.info(\"[onTransactionRejected] Cronjob triggered\",e),z(e,yS);const{accountId:t,base64EncodedTransaction:n,metadata:r}=e.params,o=await dS.getAccountOrThrow(t);await sS.trackEventTransactionRejected(o,n,r)}catch(e){throw Cd.error(e),new to(e)}},[Tv.OnAccountsRefresh]:async()=>{try{Cd.info(\"[onAccountsRefresh] Cronjob triggered\");const e=await dS.listAccounts(),t=nc.Mainnet,n=e.map((async e=>{const n=await Fb.getKey(`signatures.${e.address}`)??[],[r]=await aS.fetchLatestSignatures(t,zs(e.address),1);return Cd.log(`[onAccountsRefresh] Latest signature for account ${e.address} is ${r}`),{account:e,didChange:r&&!n.includes(r)}})),r=(await Promise.all(n)).filter((e=>e.didChange)).map((e=>e.account));if(0===r.length)return void Cd.info(\"[onAccountsRefresh] No accounts with changes, skipping refresh\");Cd.info(`[onAccountsRefresh] Found ${r.length} accounts with changes`),await iS.refreshAssets(r).catch((e=>{Cd.warn(\"[onAccountsRefresh] Caught error while refreshing assets\",e)})),await aS.refreshTransactions(r).catch((e=>{Cd.warn(\"[onAccountsRefresh] Caught error while refreshing transactions\",e)})),Cd.info(`[onAccountsRefresh] Successfully refreshed ${r.length} accounts`)}catch(e){Cd.error(\"[onAccountsRefresh] Error\",e)}}};var wS=function(e){return e.RefreshSend=\"refreshSend\",e.RefreshConfirmationEstimation=\"refreshConfirmationEstimation\",e.ScheduleRefreshAccounts=\"scheduleRefreshAccounts\",e}({});const AS=by(\"Form\"),bS=by(\"Field\"),SS=by(\"AssetSelector\"),ES=({title:e,backButtonName:t})=>vy(Ey,{direction:\"horizontal\",alignment:\"space-between\",center:!0,children:[t?yy(Py,{name:t,children:yy(Hy,{name:\"arrow-left\",color:\"primary\",size:\"md\"})}):null,yy(xy,{size:\"sm\",children:e}),vy(Ey,{direction:\"horizontal\",children:[yy(Ey,{children:null}),yy(Ey,{children:null}),yy(Ey,{children:null}),yy(Ey,{children:null})]})]}),xS=by(\"Selector\"),TS=by(\"SelectorOption\"),kS=by(\"Card\");function IS(e){return e?e.length<=10?\"\":`${e.slice(0,6)}...${e.slice(-4)}`:\"\"}const _S=({accounts:e,balances:t,price:n,name:r,scope:o,selectedAccountId:i,error:a,locale:s,currency:c})=>{const u=jy(s),l=Object.values(e);return yy(bS,{label:u(\"send.fromField\"),error:a,children:yy(xS,{name:r,value:i,title:\"From\",children:l.map((e=>{const r=t[e.id]?.[`${o}/${oc.SOL}`],{amount:i,unit:a}=r??{},u=void 0!==i&&a?Av(i,a,s):\"\",l=void 0!==i&&null!==n&&c?Wy(bv(i,n),c,s):\"-\";return yy(TS,{value:e.id,children:yy(kS,{value:u,extra:l,description:IS(e.address),title:yy(_y,{address:Oy(o,e.address),truncate:!0,displayName:!0,avatar:!0})})})}))})})},CS=by(\"Input\");var RS=function(e){return e.Form=\"send-form\",e.DestinationAccountInput=\"send-to\",e.BackButton=\"send-back-button\",e.SourceAccountSelector=\"send-account-selector\",e.AmountInput=\"send-amount-input\",e.AssetSelector=\"send-asset-selector\",e.SwapCurrencyButton=\"send-swap-currency\",e.MaxAmountButton=\"send-amount-input-max\",e.CancelButton=\"send-cancel-button\",e.SendButton=\"send-submit-button\",e.ClearButton=\"send-clear-button\",e.CloseButton=\"send-close-button\",e}({}),PS=function(e){return e.TOKEN=\"TOKEN\",e.FIAT=\"USD\",e}({});const OS=({name:e,value:t,tokenSymbol:n,currency:r,currencyType:o,locale:i,swapCurrencyButtonDisabled:a=!1})=>{const s=jy(i),c=o===PS.FIAT?r.toUpperCase():n;return vy(bS,{label:s(\"send.amountField\"),children:[yy(CS,{name:e,type:\"number\",min:0,placeholder:\"0\",step:.01,value:t??void 0}),vy(Ey,{direction:\"horizontal\",center:!0,children:[yy(Ey,{direction:\"vertical\",alignment:\"center\",children:yy(Ty,{size:\"sm\",children:c})}),yy(Py,{name:RS.SwapCurrencyButton,disabled:a,children:yy(Hy,{name:\"swap-vertical\",color:a?\"muted\":\"primary\",size:\"md\"})})]})]})},NS={initial:null,fetching:\"default\",fetched:\"success\",error:null},BS=({name:e,value:t,error:n,locale:r,showClearButton:o,disabled:i,domainResolutionStatus:a})=>{const s=jy(r);return vy(Ey,{children:[vy(bS,{label:s(\"send.toField\"),error:n,children:[yy(CS,{name:e,placeholder:i?\"\":s(\"send.toPlaceholder\"),value:t??void 0,disabled:i}),o?yy(Ey,{children:yy(Py,{name:RS.ClearButton,children:yy(Hy,{name:Gy.Close,color:\"primary\"})})}):null]}),a&&null!==NS[a]&&yy(Ty,{size:\"sm\",color:NS[a],children:s(`send.toDomainResolutionStatus.${a}`)})]})},zS=e=>{const{amount:t,tokenPrices:n,tokenCaipId:r,currencyType:o}=e,i=n?.[r]?.price;if(o===PS.TOKEN)return t;if(void 0===i)throw new Error(\"Token price is undefined, cannot convert to fiat amount.\");return null===t?null:jo(t).dividedBy(jo(i)).toString()},MS=e=>{const{selectedTokenMetadata:t}=e;return{...t??{},tokenSymbol:t?.symbol??\"UNKNOWN\",tokenImage:t?.imageSvg??Ib}},jS=e=>{const{tokenCaipId:t,tokenPrices:n}=e;return n?.[t]?.price},US=e=>{const{balances:t,fromAccountId:n,tokenCaipId:r}=e;return t?.[n]?.[r]?.amount??\"0\"},DS=e=>{const{tokenCaipId:t,scope:n}=e;return t===sc[n]?.nativeToken?.caip19Id},LS=by(\"Spinner\"),$S=({title:e,subtitle:t,iconSrc:n,isLoading:r})=>vy(Ey,{alignment:\"center\",center:!0,children:[vy(Ey,{direction:\"horizontal\",center:!0,children:[r?yy(LS,{}):null,n&&!r?yy(Cy,{borderRadius:\"full\",src:n}):null]}),yy(xy,{size:\"lg\",children:e}),t?yy(Ty,{color:\"muted\",children:t}):null]}),FS=by(\"Value\"),qS=({context:e})=>{const{scope:t,fromAccountId:n,toAddress:r,accounts:o,feeEstimatedInSol:i,preferences:{locale:a,currency:s},transaction:c,feePaidInSol:u,tokenPrices:l}=e,d=jy(a),f=sc[t],h=o.find((e=>e.id===n))?.address,p=Oy(t,h),g=f.name,m=f.nativeToken.symbol,y=l[f.nativeToken.caip19Id]?.price,v=c?u:i,w=v?Av(v,m,a):\"\",A=void 0===y||null===v?\"\":Wy(bv(v,y),s,a);return vy(Ey,{children:[vy(ky,{children:[yy(Iy,{label:d(\"send.confirmation.from\"),children:yy(uv,{href:lv(t,\"address\",h),children:yy(_y,{address:p,displayName:!0})})}),r?yy(Iy,{label:d(\"send.confirmation.recipient\"),children:yy(uv,{href:lv(t,\"address\",r),children:yy(_y,{address:Oy(t,r),displayName:!0})})}):null]}),vy(ky,{children:[yy(Iy,{label:d(\"send.confirmation.network\"),children:yy(Ty,{children:g})}),yy(Iy,{label:d(\"send.confirmation.transactionSpeed\"),children:yy(Ty,{children:\"<1s\"})}),yy(Iy,{label:d(\"send.confirmation.fee\"),children:yy(FS,{extra:A,value:w})})]})]})};var WS=function(e){return e.BackButton=\"transaction-confirmation-back-button\",e.CancelButton=\"transaction-confirmation-cancel-button\",e.ConfirmButton=\"transaction-confirmation-submit-button\",e}({});const VS={\"send-form\":({context:e,inputToAddress:t,inputAmount:n})=>{const{accounts:r,fromAccountId:o,amount:i,destinationAddressOrDomain:a,domainResolutionStatus:s,validation:c,currencyType:u,tokenCaipId:l,scope:d,balances:f,tokenPricesFetchStatus:h,buildingTransaction:p,error:g,loading:m,transactionMessage:y,preferences:{locale:v,currency:w}}=e,A=jy(v),b=f[o]?.[l],S=b?.amount,E=b?.unit??\"\",x=void 0!==S,T=r.find((e=>e.id===o)),k=T?.address?Oy(d,T.address):\"\",I=(e=>{const{tokenPrices:t,scope:n}=e;return t?.[sc[n]?.nativeToken?.caip19Id]?.price})(e),_=jS(e),C=void 0===S||\"0\"===S,R=void 0===_,P=\"error\"===h||\"fetched\"===h&&R,O=(x?{[PS.FIAT]:Wy(bv(S,_??0),w,v),[PS.TOKEN]:Av(S,E,v)}:{[PS.FIAT]:\"\",[PS.TOKEN]:\"\"})[u],N=o.length>0&&!!a&&a.length>0&&uf(c?.[RS.DestinationAccountInput]),B=!uf(y)&&\"\"!==y,z=Boolean(a&&a.length>0),M=Boolean(c?.[RS.AmountInput]?.message),j=M?c?.[RS.AmountInput]?.message??\"\":`${A(\"send.balance\")}: ${O}`,U=o.length>0&&!!i&&i.length>0&&!!a&&a.length>0&&Object.values(c).every(uf)&&x&&!p&&B;return vy(Sy,{backgroundColor:\"alternative\",children:[vy(Ey,{children:[yy(ES,{title:A(\"send.title\"),backButtonName:RS.BackButton}),vy(AS,{name:RS.Form,children:[P&&yy(gv,{title:\"\",severity:\"info\",children:yy(Ty,{children:A(\"send.selectedTokenPriceNotAvailable\",{currency:w})})}),yy(Ey,{children:null}),yy(Ey,{children:null}),yy(Ey,{children:null}),yy(_S,{name:RS.SourceAccountSelector,scope:d,error:c?.[RS.SourceAccountSelector]?.message??\"\",accounts:r,selectedAccountId:o,balances:f,price:I??null,locale:v,currency:w}),yy(Ey,{children:null}),yy(Ey,{children:null}),yy(Ey,{children:null}),yy(BS,{locale:v,disabled:m,name:RS.DestinationAccountInput,value:t??null,showClearButton:z,domainResolutionStatus:s,error:c?.[RS.DestinationAccountInput]?.message??\"\"}),N&&vy(Ey,{children:[yy(Ey,{children:null}),yy(Ey,{children:null}),yy(Ey,{children:null}),vy(Ey,{direction:\"horizontal\",children:[yy(bS,{label:A(\"send.assetField\"),children:yy(SS,{chainIds:[d],value:l,name:RS.AssetSelector,addresses:k?[k]:[]})}),yy(OS,{name:RS.AmountInput,currencyType:u,tokenSymbol:E,currency:w,value:n??null,locale:v,swapCurrencyButtonDisabled:R||C})]}),vy(Ey,{direction:\"horizontal\",alignment:\"space-between\",crossAlignment:\"start\",children:[yy(Ey,{direction:\"vertical\",alignment:\"start\",children:yy(Ty,{size:\"sm\",color:M?\"error\":\"muted\",children:j})}),yy(Py,{size:\"sm\",name:RS.MaxAmountButton,disabled:C,children:A(\"send.maxButton\")})]})]}),g&&vy(Ey,{children:[yy(Ey,{children:null}),yy(gv,{title:A(g.title),severity:\"warning\",children:yy(Ty,{children:A(g.message)})})]})]})]}),vy(Ry,{children:[yy(Py,{name:RS.CancelButton,children:A(\"send.cancelButton\")}),yy(Py,{name:RS.SendButton,disabled:!U,loading:p,children:A(\"send.continueButton\")})]})]})},\"transaction-confirmation\":({context:e})=>{const{preferences:{currency:t,locale:n}}=e,r=jy(n),{tokenImage:o,tokenSymbol:i}=MS(e),a=zS(e),s=jS(e),c=void 0===s?\"\":Wy(bv(a??\"0\",s),t,n);return vy(Sy,{children:[vy(Ey,{children:[yy(ES,{title:r(\"send.confirmation.title\"),backButtonName:\"transaction-confirmation-back-button\"}),yy($S,{title:Av(a??\"0\",i,n),subtitle:c,iconSrc:o}),yy(qS,{context:e})]}),vy(Ry,{children:[yy(Py,{name:\"transaction-confirmation-cancel-button\",children:r(\"send.confirmation.cancelButton\")}),yy(Py,{name:\"transaction-confirmation-submit-button\",loading:e.loading,disabled:e.loading,children:r(\"send.confirmation.sendButton\")})]})]})},\"send-pending\":({context:e})=>{const t=jy(e.preferences.locale);return yy(Sy,{children:vy(Ey,{children:[yy(Ey,{children:null}),yy($S,{title:t(\"send.send-pending.title\"),subtitle:t(\"send.send-pending.subtitle\"),isLoading:!0}),yy(qS,{context:e})]})})},\"transaction-success\":({context:e})=>{const{preferences:t,transaction:n,scope:r}=e,o=jy(t.locale),{tokenSymbol:i}=MS(e),a=zS(e);return yy(Sy,{children:vy(Ey,{children:[yy(Ey,{children:null}),yy($S,{title:o(\"send.transaction-success.title\"),subtitle:o(\"send.transaction-success.subtitle\",{amount:qy(a??\"0\",t.locale),tokenSymbol:i}),iconSrc:'<svg width=\"48\" height=\"48\" viewBox=\"0 0 48 48\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n<path d=\"M24.0002 3.99902C12.9802 3.99902 4.00024 12.979 4.00024 23.999C4.00024 35.019 12.9802 43.999 24.0002 43.999C35.0202 43.999 44.0002 35.019 44.0002 23.999C44.0002 12.979 35.0202 3.99902 24.0002 3.99902ZM33.5602 19.399L22.2202 30.739C21.9402 31.019 21.5602 31.179 21.1602 31.179C20.7602 31.179 20.3802 31.019 20.1002 30.739L14.4402 25.079C13.8602 24.499 13.8602 23.539 14.4402 22.959C15.0202 22.379 15.9802 22.379 16.5602 22.959L21.1602 27.559L31.4402 17.279C32.0202 16.699 32.9802 16.699 33.5602 17.279C34.1402 17.859 34.1402 18.799 33.5602 19.399Z\" fill=\"#1C8234\"/>\\n</svg>\\n'}),yy(qS,{context:e}),n?.signature?yy(Ey,{alignment:\"center\",center:!0,children:yy(uv,{href:lv(r,\"tx\",n?.signature),children:o(\"send.confirmation.viewTransaction\")})}):null]})})},\"transaction-failure\":({context:e})=>{const{preferences:t}=e,n=jy(t.locale),{tokenSymbol:r}=MS(e),o=zS(e);return yy(Sy,{children:vy(Ey,{children:[yy(Ey,{children:null}),yy($S,{title:n(\"send.transaction-failure.title\"),subtitle:n(\"send.transaction-failure.subtitle\",{amount:o??\"0\",tokenSymbol:r}),iconSrc:'<svg width=\"48\" height=\"48\" viewBox=\"0 0 48 48\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n<path d=\"M40.8277 29.5283L29.7931 8.40143C28.3104 5.55884 26.2586 4 24 4C21.7414 4 19.6896 5.55884 18.2069 8.40143L7.17228 29.5283C5.77572 32.2241 5.62055 34.81 6.74125 36.8456C7.86194 38.8813 10.0689 40 12.9654 40H35.0346C37.9311 40 40.1381 38.8813 41.2588 36.8456C42.3795 34.81 42.2243 32.2058 40.8277 29.5283ZM22.7069 16.8375C22.7069 16.0856 23.2931 15.462 24 15.462C24.7069 15.462 25.2931 16.0856 25.2931 16.8375V26.0071C25.2931 26.759 24.7069 27.3826 24 27.3826C23.2931 27.3826 22.7069 26.759 22.7069 26.0071V16.8375ZM25.2241 32.811C25.1379 32.8844 25.0517 32.9577 24.9655 33.0311C24.8621 33.1044 24.7586 33.1595 24.6552 33.1961C24.5517 33.2511 24.4483 33.2878 24.3276 33.3062C24.2241 33.3245 24.1034 33.3428 24 33.3428C23.8965 33.3428 23.7759 33.3245 23.6552 33.3062C23.5517 33.2878 23.4483 33.2511 23.3448 33.1961C23.2414 33.1595 23.1379 33.1044 23.0345 33.0311C22.9483 32.9577 22.8621 32.8844 22.7759 32.811C22.4655 32.4626 22.2758 31.9857 22.2758 31.5089C22.2758 31.0321 22.4655 30.5553 22.7759 30.2068C22.8621 30.1335 22.9483 30.0601 23.0345 29.9868C23.1379 29.9134 23.2414 29.8584 23.3448 29.8217C23.4483 29.7667 23.5517 29.73 23.6552 29.7117C23.8793 29.6567 24.1207 29.6567 24.3276 29.7117C24.4483 29.73 24.5517 29.7667 24.6552 29.8217C24.7586 29.8584 24.8621 29.9134 24.9655 29.9868C25.0517 30.0601 25.1379 30.1335 25.2241 30.2068C25.5345 30.5553 25.7241 31.0321 25.7241 31.5089C25.7241 31.9857 25.5345 32.4626 25.2241 32.811Z\" fill=\"#BF5208\"/>\\n</svg>\\n'}),yy(qS,{context:e})]})})}},KS=({context:e,inputToAddress:t,inputAmount:n})=>{const r=e.stage??\"send-form\";return yy(VS[r],{context:e,inputToAddress:t,inputAmount:n})};function GS(e){if(!e)return!1;return/^[a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?(\\.[a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?)*\\.sol$/u.test(e)}function HS(e,t,n){return n[e]?n[e]?.map((e=>e(t))).find((e=>null!==e))??null:null}function JS(e){const t=eE(e),n={[RS.SourceAccountSelector]:e.fromAccountId,[RS.AmountInput]:e.amount,[RS.DestinationAccountInput]:e.toAddress};return Object.entries(t).every((([e,t])=>{const r=n[e];return!!r&&t.every((e=>null===e(r)))}))}const ZS=(e,t)=>{const n=jy(t);return t=>{const r=\"\"===t?{message:n(e),value:t}:null;return r?{message:r.message,value:t}:null}},YS=(e,t)=>{const n=jy(t);return t=>{try{return GS(t)||zs(t),null}catch{return{message:n(e),value:t}}}},XS=e=>{const{minimumBalanceForRentExemptionSol:t,preferences:{locale:n},feeEstimatedInSol:r,selectedTokenMetadata:o}=e,i=jy(n);return n=>{if(\"\"===n)return{message:\"\",value:n};const a=zS({...e,amount:n}),s=av(a??\"0\"),c=US(e),u=av(c),l=av(r??\"0\"),d=av(t??\"0\"),f=(e=>US({...e,tokenCaipId:sc[e.scope].nativeToken.caip19Id}))(e),h=av(f),p=DS(e);if(s.gt(u))return{message:`${i(\"send.insufficientBalance\")}: ${c} ${o?.symbol??\"\"}`,value:n};if(p){if(s.lt(d))return{message:i(\"send.amountGreatherThanMinimumBalanceForRentExemptionError\",{minimumValue:t}),value:n};if(s.plus(l).plus(d).gt(u))return{message:i(\"send.insuffientSolToCoverFee\"),value:n}}else{if(l.plus(d).gt(h))return{message:i(\"send.insuffientSolToCoverFee\"),value:n}}return s.isZero()?{message:\"\",value:n}:h.isZero()?{message:i(\"send.insuffientSolToCoverFee\"),value:n}:null}},QS=ee({scope:H([...Object.values(nc)]),account:cc,assetId:te(Jo)}),eE=e=>({[RS.SourceAccountSelector]:[ZS(\"send.fromRequiredError\",e.preferences.locale)],[RS.AmountInput]:[XS(e),ZS(\"send.amountRequiredError\",e.preferences.locale)],[RS.DestinationAccountInput]:[ZS(\"send.toRequiredError\",e.preferences.locale),YS(\"send.toInvalidError\",e.preferences.locale)]}),tE={scope:nc.Mainnet,fromAccountId:\"\",amount:\"\",destinationAddressOrDomain:null,toAddress:null,domainResolutionStatus:null,feeEstimatedInSol:\"0\",feePaidInSol:\"0\",tokenCaipId:rc.SolMainnet,accounts:[],currencyType:PS.TOKEN,validation:{},balances:{},assets:[],tokenPrices:{},selectedTokenMetadata:null,tokenPricesFetchStatus:\"initial\",preferences:{locale:\"en\",currency:\"usd\",hideBalances:!1,useSecurityAlerts:!0,useExternalPricingData:!0,simulateOnChainActions:!0,useTokenDetection:!0,batchCheckBalances:!0,displayNftMedia:!0,useNftDetection:!0},error:null,buildingTransaction:!1,transactionMessage:null,transaction:null,stage:\"send-form\",minimumBalanceForRentExemptionSol:\"0.002\",loading:!0},nE={...{[wS.RefreshSend]:async()=>{const[e,t,n]=await Promise.all([Fb.getKey(\"assets\"),Fb.getKey(\"mapInterfaceNameToId\"),Fm().catch((()=>tE.preferences))]);try{Cd.info(`[${wS.RefreshSend}] Cronjob triggered`);const r=Object.values(e??{}).flatMap((e=>Object.keys(e)));let o={};try{o=await tS.getMultipleSpotPrices(r,n.currency),await Fb.setKey(\"tokenPrices\",o),Cd.info(`[${wS.RefreshSend}] ✅ Token prices were properly refreshed and saved in the state.`)}catch(e){Cd.info({error:e},`[${wS.RefreshSend}] ❌ Could not update the token prices in the state.`)}try{const e=t?.[Mm];if(e){const t=await qm(e);if(\"transaction-confirmation\"!==t.stage)return void Cd.info(`[${wS.RefreshSend}] ❌ Not in transaction confirmation stage`);if(!t.assets)return void Cd.info(`[${wS.RefreshSend}] ❌ No assets found`);const n={...t,tokenPrices:{...t.tokenPrices,...o}};await Dm(e,yy(KS,{context:n}),n)}}catch(e){Cd.info({error:e},`[${wS.RefreshSend}] ❌ Could not update the interface`)}Cd.info(`[${wS.RefreshSend}] ✅ Cronjob suceeded`)}catch(e){Cd.info({error:e},`[${wS.RefreshSend}] ❌ Cronjob failed`)}},[wS.RefreshConfirmationEstimation]:async()=>{try{Cd.info(`[${wS.RefreshConfirmationEstimation}] Cronjob triggered`);const e=(await Fb.getKey(\"mapInterfaceNameToId\")??{})[jm];try{if(e){const t=await qm(e);if(!(t.account?.address&&t.transaction&&t.scope&&t.method))return void Cd.info(`[${wS.RefreshConfirmationEstimation}] Context is missing required fields`);if(!t.preferences?.simulateOnChainActions)return void Cd.info(`[${wS.RefreshConfirmationEstimation}] Transaction simulation is disabled in preferences`);const n={...t,scanFetchStatus:\"fetching\"};await Dm(e,yy(Ev,{context:n}),n);const r=await uS.scanTransaction({method:t.method,accountAddress:t.account.address,transaction:t.transaction,scope:t.scope,origin:t.origin,account:t.account}),o={...await qm(e),scanFetchStatus:\"fetched\",scan:r};Cd.info(`[${wS.RefreshConfirmationEstimation}] New scan fetched`),await Dm(e,yy(Ev,{context:o}),o)}Cd.info(`[${wS.RefreshConfirmationEstimation}] Cronjob suceeded`)}catch(t){if(!e)return void Cd.info(`[${wS.RefreshConfirmationEstimation}] No interface context found`);const n={...await qm(e),scanFetchStatus:\"fetched\"};await Dm(e,yy(Ev,{context:n}),n),Cd.info({error:t},`[${wS.RefreshConfirmationEstimation}] Could not update the interface. But rolled back status to fetched.`)}}catch(e){Cd.info({error:e},`[${wS.RefreshConfirmationEstimation}] Cronjob failed`)}},[wS.ScheduleRefreshAccounts]:async()=>{Cd.info(\"[scheduleRefreshAccounts] Cronjob triggered\");const e=await Fb.getKey(\"didUpdate\");let t=await Fb.getKey(\"refreshAccountsInterval\");t&&e||(t=2*(Math.random()||Number.MIN_VALUE),await Fb.setKey(\"refreshAccountsInterval\",t),await Fb.setKey(\"didUpdate\",!0)),await snap.request({method:\"snap_scheduleBackgroundEvent\",params:{duration:`PT${t}M`,request:{method:Tv.OnAccountsRefresh,params:{}}}}),Cd.info(`[scheduleRefreshAccounts] Scheduling next refresh in ${t} minutes`)}},...vS},rE=ee({chainId:yc,domain:te(re()),address:te(re())}),oE=\"Solana Name Service\",iE={[Hm.StartSendTransactionFlow]:async({request:e})=>{const{params:t}=e;z(t,QS);const{scope:n,account:r}=t,o=t.assetId??sc[n].nativeToken.caip19Id,i={...tE,scope:n,fromAccountId:r,tokenCaipId:o,loading:!0},[a,s]=await Promise.all([Fb.get(),Fm().catch((()=>tE.preferences))]),{assets:c,keyringAccounts:u,tokenPrices:l}=a;i.balances=function({scope:e,balances:t}){return Object.fromEntries(Object.entries(t).map((([t,n])=>[t,Object.fromEntries(Object.entries(n).filter((([t,n])=>{const r=t===sc[e].nativeToken.caip19Id,o=t.startsWith(e),i=\"0\"!==n.amount;return r||o&&i})))])))}({scope:n,balances:c});const d=c[i.fromAccountId]??{};i.assets=Object.keys(d),i.accounts=Object.values(u),i.preferences=s,i.tokenPrices=l??{};const f=await Um(yy(KS,{context:i}),i),h=$m(f),p=nS.getTokensMetadata([i.tokenCaipId]).then((e=>{const t=e[i.tokenCaipId];t?.symbol&&t?.name&&(i.selectedTokenMetadata={symbol:t.symbol,name:t.name,asset:i.tokenCaipId,imageSvg:null})})).catch((()=>null));let g;i.preferences.useExternalPricingData?g=tS.getMultipleSpotPrices(i.assets,i.preferences.currency).then((e=>{i.tokenPrices={...i.tokenPrices,...e},i.tokenPricesFetchStatus=\"fetched\"})).catch((()=>{i.tokenPricesFetchStatus=\"error\"})):i.tokenPricesFetchStatus=\"fetched\";const m=Vb.getRpc(n).getMinimumBalanceForRentExemption(BigInt(0)).send().then((e=>{i.minimumBalanceForRentExemptionSol=iv(e).toString()})).catch((()=>{}));return i.loading=!0,await Dm(f,yy(KS,{context:i}),i),i.loading=!1,await Promise.all([g,p,m]),await Dm(f,yy(KS,{context:i}),i),await Fb.setKey(`mapInterfaceNameToId.${Mm}`,f),h},[Hm.GetFeeForTransaction]:async({request:e})=>{z(e.params,vc);const{transaction:t,scope:n}=e.params;try{const e=await Yb.getFeeFromBase64StringInLamports(t,n);if(null===e)throw new Error(\"Failed to get fee for transaction\");const r={value:e.toString()};return z(r,wc),r}catch(e){throw Cd.error(e),new to(e)}},[Jm.TestSetupAllConnections]:async()=>(await $b.emitSync(\"onTestSetupAllConnections\"),null),[Jm.TestCloseAllConnections]:async()=>(await $b.emitSync(\"onTestCloseAllConnections\"),null),[Jm.TestSubscribeToAccount]:async()=>(await $b.emitSync(\"onTestSubscribeToAccount\"),null),[Jm.TestUnsubscribeFromAccount]:async()=>(await $b.emitSync(\"onTestUnsubscribeFromAccount\"),null)};const aE=async e=>{try{return await e()}catch(e){const t=function(e){return[Qr,ao,yo,so,ao,co,uo,lo,fo,ho,po,go,mo,to,no,ro,oo,io].some((t=>e instanceof t))}(e)?e:new Qr(e);throw Cd.error({error:t},`[SnapError] ${JSON.stringify(t.toJSON(),null,2)}`),t}},sE=Lu(5000n);class cE{#qe;constructor(e){this.#qe=e}#We(){const e=this.#qe.getComputeUnitLimit(),t=this.#qe.getComputeUnitPriceMicroLamportsPerComputeUnit();return $u(e,(e=>jo(e)),(e=>e.multipliedBy(t.toString())),(e=>e.dividedToIntegerBy(Qs.toString())),(e=>e.toString()),BigInt,Lu)}getFee(){const e=this.#We();return Lu(sE+e)}}var uE=n(4255),lE=n.n(uE),dE=n(3804),fE=n.n(dE);class hE extends Error{constructor(e=\"Operation cancelled\"){super(e),this.name=\"CancellationError\"}}const pE=async e=>{const{fromAccountId:t,tokenCaipId:n,scope:r,toAddress:o}=e,i=zS(e),a=await dS.getAccountOrThrow(t);if(!o||!i)throw new Error(\"Invalid transaction parameters\");const s=n===sc[r].nativeToken.caip19Id,c=s?Xb:Qb,u=new cE(c),l={from:a,to:zs(o),amount:i,network:r,...s?{}:{mint:zs(Xo(n).assetReference)}},d=await c.buildTransactionMessage(l),f=await(async e=>$u(e,wl,dl().encode,Es().decode))(d);return{feeInLamports:u.getFee(),base64EncodedTransactionMessage:f}},gE=fE()((async(e,t)=>{try{if(!JS(t))return;const n={buildingTransaction:!0,transactionMessage:null,feeEstimatedInSol:null};await Dm(e,yy(KS,{context:{...t,...n}}),{...t,...n});const{feeInLamports:r,base64EncodedTransactionMessage:o}=await pE(t),i={transactionMessage:o,feeEstimatedInSol:r?iv(r).toString():null,buildingTransaction:!1},a=await qm(e);await Dm(e,yy(KS,{context:{...a,...i}}),{...a,...i})}catch(t){Cd.error(\"Could not build the send transaction\",t);const n={error:{title:\"send.simulationTitleError\",message:\"send.simulationMessageError\"},transactionMessage:null,feeEstimatedInSol:null,buildingTransaction:!1},r=await qm(e);await Dm(e,yy(KS,{context:{...r,...n}}),{...r,...n})}}),(function(e){const t=(e=>(...t)=>{const n=new AbortController,r=[...t];r.some((e=>e instanceof AbortSignal))||r.push(n.signal);const o=Promise.race([e(...r),new Promise(((e,t)=>{n.signal.addEventListener(\"abort\",(()=>{t(new hE)}))}))]);return o.cancel=()=>n.abort(),o})(e);let n=null;return async(...e)=>{if(n&&\"function\"==typeof n.cancel){const e=\"Cancelling previous task\";console.warn(e),n.cancel()}const r=t(...e);n=r;try{return await r}finally{n===r&&(n=null)}}}),lE()(500));const mE={[RS.BackButton]:async function({id:e}){await Lm(e,!1),await Fb.deleteKey(`mapInterfaceNameToId.${Mm}`)},[RS.SourceAccountSelector]:async function({id:e,event:t,context:n}){n.fromAccountId=t.value,n.error=null,n.validation[RS.SourceAccountSelector]=HS(RS.SourceAccountSelector,n.fromAccountId,eE(n)),n.amount&&(n.validation[RS.AmountInput]=HS(RS.AmountInput,n.amount,eE(n))),await Dm(e,yy(KS,{context:n}),n),await gE(e,n)},[RS.AmountInput]:async function({id:e,event:t,context:n}){const r={...n};r.amount=t.value,r.error=null;const o=HS(RS.AmountInput,r.amount,eE(r));if(o&&r.validation[RS.AmountInput]?.message!==o?.message)return r.validation[RS.AmountInput]=o,void await Dm(e,yy(KS,{context:r}),r);null===o&&(r.validation[RS.AmountInput]=null,await Dm(e,yy(KS,{context:r}),r),await gE(e,r))},[RS.AssetSelector]:async function({id:e,event:t,context:n}){if(\"object\"!=typeof t.value||!(\"asset\"in t.value))return;const r=t.value.asset;if(n.tokenCaipId===r)return;const o=r===sc[n.scope].nativeToken.caip19Id?Xb:Qb,i=new cE(o).getFee(),a={tokenCaipId:r,feeEstimatedInSol:iv(i).toString(),selectedTokenMetadata:{symbol:t.value.symbol,name:t.value.name,asset:t.value.asset,imageSvg:null},amount:\"\",error:null},s=(0,ni.merge)(n,a);await Dm(e,yy(KS,{context:s,inputAmount:\"\"}),s),await gE(e,n)},[RS.SwapCurrencyButton]:async function({id:e,context:t}){if(t.error=null,t.currencyType=t.currencyType===PS.TOKEN?PS.FIAT:PS.TOKEN,!t.amount)return void await Dm(e,yy(KS,{context:t}),t);const n=jo(t.amount??\"0\"),{price:r}=t.tokenPrices[t.tokenCaipId]??{price:0};t.currencyType===PS.TOKEN&&(t.amount=n.dividedBy(r).toString()),t.currencyType===PS.FIAT&&(t.amount=n.multipliedBy(r).toString()),await Dm(e,yy(KS,{context:t,inputAmount:t.amount}),t)},[RS.MaxAmountButton]:async function({id:e,context:t}){const{currencyType:n,minimumBalanceForRentExemptionSol:r,tokenCaipId:o,tokenPrices:i}=t,a={...t},s=US(t);if(DS(t)){const e=av(s),t=new cE(Xb).getFee().toString(),n=av(r),o=e.minus(t).minus(n).minus(1),i=jo.maximum(o,o.isNegative()?e:jo(0)),c=iv(i);a.amount=c.toString()}else a.amount=s;if(n===PS.FIAT){const{price:e}=i[o]??{price:0};a.amount=bv(a.amount,e)}a.error=null,a.validation[RS.AmountInput]=HS(RS.AmountInput,a.amount,eE(a)),await Dm(e,yy(KS,{context:a,inputAmount:a.amount}),a),await gE(e,a)},[RS.DestinationAccountInput]:async function({id:e,event:t,context:n}){const r={...n};r.destinationAddressOrDomain=t.value,r.domainResolutionStatus=null,r.error=null;const o=HS(RS.DestinationAccountInput,r.destinationAddressOrDomain,eE(r));r.validation[RS.DestinationAccountInput]=o,GS(r?.destinationAddressOrDomain)?(r.domainResolutionStatus=\"fetching\",await Dm(e,yy(KS,{context:r}),r),r.toAddress=await oS.resolveDomain(r.scope,r.destinationAddressOrDomain).catch((()=>{const e=jy(r.preferences.locale);return r.validation[RS.DestinationAccountInput]={message:e(\"send.toInvalidErrorDomain\"),value:r.destinationAddressOrDomain??\"\"},null})),r.domainResolutionStatus=r.toAddress?\"fetched\":\"error\"):r.toAddress=r.destinationAddressOrDomain,await Dm(e,yy(KS,{context:r}),r),null===o&&await gE(e,r)},[RS.ClearButton]:async function({id:e,context:t}){t.destinationAddressOrDomain=\"\",t.toAddress=\"\",t.domainResolutionStatus=null,t.error=null,t.validation[RS.DestinationAccountInput]=null,await Dm(e,yy(KS,{context:t,inputToAddress:t.toAddress}),t)},[RS.CancelButton]:async function({id:e}){await Lm(e,!1),await Fb.deleteKey(`mapInterfaceNameToId.${Mm}`)},[RS.SendButton]:async function({id:e,context:t}){if(!JS(t))return;const n={...t};n.stage=\"transaction-confirmation\",n.loading=!0,await Dm(e,yy(KS,{context:n}),n);const[r,o]=await Promise.all([tS.getMultipleSpotPrices(t.assets,t.preferences.currency).then((e=>e)).catch((()=>null)),t.selectedTokenMetadata?nS.generateImageComponent(Ec({baseUrl:Lb.get().staticApi.baseUrl,path:\"/api/v2/tokenIcons/assets/{assetId}.png\",pathParams:{assetId:t.selectedTokenMetadata?.asset.replace(/:/gu,\"/\")}})):null]);r&&o&&(n.tokenPrices=r,n.selectedTokenMetadata=t.selectedTokenMetadata?{...t.selectedTokenMetadata,imageSvg:o}:null),n.loading=!1,await Dm(e,yy(KS,{context:n}),n),await snap.request({method:\"snap_scheduleBackgroundEvent\",params:{duration:\"PT1S\",request:{method:Tv.OnTransactionAdded,params:{accountId:t.fromAccountId,base64EncodedTransaction:t.transactionMessage,metadata:{scope:t.scope,origin:tc}}}}})}};const yE={[WS.BackButton]:async function({id:e,context:t}){const n={...t,stage:\"send-form\"};await Dm(e,yy(KS,{context:n,inputAmount:t.amount??\"\",inputToAddress:t.destinationAddressOrDomain??\"\"}),n)},[WS.CancelButton]:async function({id:e,context:t}){const{fromAccountId:n,transactionMessage:r,scope:o}=t;await snap.request({method:\"snap_scheduleBackgroundEvent\",params:{duration:\"PT1S\",request:{method:Tv.OnTransactionRejected,params:{accountId:n,base64EncodedTransaction:r,metadata:{scope:o,origin:tc}}}}}),await Lm(e,!1),await Fb.deleteKey(`mapInterfaceNameToId.${Mm}`)},[WS.ConfirmButton]:async function({id:e,context:t}){const{scope:n,fromAccountId:r,feeEstimatedInSol:o,transactionMessage:i}=t;if(t.error=null,!i)return t.stage=\"send-form\",void await Dm(e,yy(KS,{context:t}),t);await snap.request({method:\"snap_scheduleBackgroundEvent\",params:{duration:\"PT1S\",request:{method:Tv.OnTransactionApproved,params:{accountId:t.fromAccountId,base64EncodedTransaction:t.transactionMessage,metadata:{scope:t.scope,origin:tc}}}}});const a={...t,stage:\"send-pending\"};await Dm(e,yy(KS,{context:a}),a);let s=null;try{const e=await dS.getAccountOrThrow(r);s=(await cS.signAndSendTransaction(e,i,n,tc)).signature}catch(e){Cd.error({error:e},\"Error submitting request\")}const c={...t,stage:s?\"transaction-success\":\"transaction-failure\",feePaidInSol:o,transaction:{result:s?\"success\":\"failure\",signature:s}};await Dm(e,yy(KS,{context:c}),c)}};const vE=2n**255n-19n,wE=2n**252n+27742317777372353535851937790883648493n,AE=0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51an,bE=0x6666666666666666666666666666666666666666666666666666666666666658n,SE={a:-1n,d:37095705934669439343138083508754565189542113879843219016388785533085940283555n,p:vE,n:wE,h:8,Gx:AE,Gy:bE},EE=(e=\"\")=>{throw new Error(e)},xE=e=>\"string\"==typeof e,TE=(e,t)=>!(e=>e instanceof Uint8Array||null!=e&&\"object\"==typeof e&&\"Uint8Array\"===e.constructor.name)(e)||\"number\"==typeof t&&t>0&&e.length!==t?EE(\"Uint8Array of valid length expected\"):e,kE=e=>new Uint8Array(e),IE=(e,t)=>TE(xE(e)?zE(e):kE(TE(e)),t),_E=(e,t=vE)=>{let n=e%t;return n>=0n?n:t+n},CE=e=>e instanceof RE?e:EE(\"Point expected\");class RE{constructor(e,t,n,r){this.ex=e,this.ey=t,this.ez=n,this.et=r}static fromAffine(e){return new RE(e.x,e.y,1n,_E(e.x*e.y))}static fromHex(e,t=!1){const{d:n}=SE,r=(e=IE(e,32)).slice(),o=e[31];r[31]=-129&o;const i=jE(r);!t||0n<=i&&i<2n**256n||EE(\"bad y coord 1\"),t||0n<=i&&i<vE||EE(\"bad y coord 2\");const a=_E(i*i),s=_E(a-1n),c=_E(n*a+1n);let{isValid:u,value:l}=FE(s,c);u||EE(\"bad y coordinate 3\");const d=1n===(1n&l),f=0!=(128&o);return!t&&0n===l&&f&&EE(\"bad y coord 3\"),f!==d&&(l=_E(-l)),new RE(l,i,1n,_E(l*i))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}equals(e){const{ex:t,ey:n,ez:r}=this,{ex:o,ey:i,ez:a}=CE(e),s=_E(t*a),c=_E(o*r),u=_E(n*a),l=_E(i*r);return s===c&&u===l}is0(){return this.equals(OE)}negate(){return new RE(_E(-this.ex),this.ey,this.ez,_E(-this.et))}double(){const{ex:e,ey:t,ez:n}=this,{a:r}=SE,o=_E(e*e),i=_E(t*t),a=_E(2n*_E(n*n)),s=_E(r*o),c=e+t,u=_E(_E(c*c)-o-i),l=s+i,d=l-a,f=s-i,h=_E(u*d),p=_E(l*f),g=_E(u*f),m=_E(d*l);return new RE(h,p,m,g)}add(e){const{ex:t,ey:n,ez:r,et:o}=this,{ex:i,ey:a,ez:s,et:c}=CE(e),{a:u,d:l}=SE,d=_E(t*i),f=_E(n*a),h=_E(o*l*c),p=_E(r*s),g=_E((t+n)*(i+a)-d-f),m=_E(p-h),y=_E(p+h),v=_E(f-u*d),w=_E(g*m),A=_E(y*v),b=_E(g*v),S=_E(m*y);return new RE(w,A,S,b)}mul(e,t=!0){if(0n===e)return!0===t?EE(\"cannot multiply by 0\"):OE;if(\"bigint\"==typeof e&&0n<e&&e<wE||EE(\"invalid scalar, must be < L\"),!t&&this.is0()||1n===e)return this;if(this.equals(PE))return sx(e).p;let n=OE,r=PE;for(let o=this;e>0n;o=o.double(),e>>=1n)1n&e?n=n.add(o):t&&(r=r.add(o));return n}multiply(e){return this.mul(e)}clearCofactor(){return this.mul(BigInt(SE.h),!1)}isSmallOrder(){return this.clearCofactor().is0()}isTorsionFree(){let e=this.mul(wE/2n,!1).double();return wE%2n&&(e=e.add(this)),e.is0()}toAffine(){const{ex:e,ey:t,ez:n}=this;if(this.equals(OE))return{x:0n,y:1n};const r=DE(n);return 1n!==_E(n*r)&&EE(\"invalid inverse\"),{x:_E(e*r),y:_E(t*r)}}toRawBytes(){const{x:e,y:t}=this.toAffine(),n=ME(t);return n[31]|=1n&e?128:0,n}toHex(){return BE(this.toRawBytes())}}RE.BASE=new RE(AE,bE,1n,_E(AE*bE)),RE.ZERO=new RE(0n,1n,1n,0n);const{BASE:PE,ZERO:OE}=RE,NE=(e,t)=>e.toString(16).padStart(t,\"0\"),BE=e=>Array.from(e).map((e=>NE(e,2))).join(\"\"),zE=e=>{const t=e.length;(!xE(e)||t%2)&&EE(\"hex invalid 1\");const n=kE(t/2);for(let t=0;t<n.length;t++){const r=2*t,o=e.slice(r,r+2),i=Number.parseInt(o,16);(Number.isNaN(i)||i<0)&&EE(\"hex invalid 2\"),n[t]=i}return n},ME=e=>zE(NE(e,64)).reverse(),jE=e=>BigInt(\"0x\"+BE(kE(TE(e)).reverse())),UE=(...e)=>{const t=kE(e.reduce(((e,t)=>e+TE(t).length),0));let n=0;return e.forEach((e=>{t.set(e,n),n+=e.length})),t},DE=(e,t=vE)=>{(0n===e||t<=0n)&&EE(\"no inverse n=\"+e+\" mod=\"+t);let n=_E(e,t),r=t,o=0n,i=1n,a=1n,s=0n;for(;0n!==n;){const e=r/n,t=r%n,c=o-a*e,u=i-s*e;r=n,n=t,o=a,i=s,a=c,s=u}return 1n===r?_E(o,t):EE(\"no inverse\")},LE=(e,t)=>{let n=e;for(;t-- >0n;)n*=n,n%=vE;return n},$E=19681161376707505956807079304988542015446066515923890162744021073123829784752n,FE=(e,t)=>{const n=_E(t*t*t),r=(e=>{const t=e*e%vE*e%vE,n=LE(t,2n)*t%vE,r=LE(n,1n)*e%vE,o=LE(r,5n)*r%vE,i=LE(o,10n)*o%vE,a=LE(i,20n)*i%vE,s=LE(a,40n)*a%vE,c=LE(s,80n)*s%vE,u=LE(c,80n)*s%vE,l=LE(u,10n)*o%vE;return{pow_p_5_8:LE(l,2n)*e%vE,b2:t}})(e*_E(n*n*t)).pow_p_5_8;let o=_E(e*n*r);const i=_E(t*o*o),a=o,s=_E(o*$E),c=i===e,u=i===_E(-e),l=i===_E(-e*$E);return c&&(o=a),(u||l)&&(o=s),1n===(1n&_E(o))&&(o=_E(-o)),{isValid:c||u,value:o}},qE=e=>_E(jE(e),wE);let WE;const VE=(...e)=>ox.sha512Async(...e),KE=(...e)=>\"function\"==typeof WE?WE(...e):EE(\"etc.sha512Sync not set\"),GE=e=>{const t=e.slice(0,32);t[0]&=248,t[31]&=127,t[31]|=64;const n=e.slice(32,64),r=qE(t),o=PE.mul(r),i=o.toRawBytes();return{head:t,prefix:n,scalar:r,point:o,pointBytes:i}},HE=e=>VE(IE(e,32)).then(GE),JE=e=>GE(KE(IE(e,32))),ZE=e=>HE(e).then((e=>e.pointBytes));function YE(e,t){return e?VE(t.hashable).then(t.finish):t.finish(KE(t.hashable))}const XE=(e,t,n)=>{const{pointBytes:r,scalar:o}=e,i=qE(t),a=PE.mul(i).toRawBytes();return{hashable:UE(a,r,n),finish:e=>{const t=_E(i+qE(e)*o,wE);return TE(UE(a,ME(t)),64)}}},QE=async(e,t)=>{const n=IE(e),r=await HE(t),o=await VE(r.prefix,n);return YE(!0,XE(r,o,n))},ex={zip215:!0},tx=(e,t,n,r=ex)=>{t=IE(t),e=IE(e,64);const{zip215:o}=r;let i,a,s,c,u=new Uint8Array;try{i=RE.fromHex(n,o),a=RE.fromHex(e.slice(0,32),o),s=jE(e.slice(32,64)),c=PE.mul(s,!1),u=UE(a.toRawBytes(),i.toRawBytes(),t)}catch(e){}return{hashable:u,finish:e=>{if(null==c)return!1;if(!o&&i.isSmallOrder())return!1;const t=qE(e);return a.add(i.mul(t,!1)).add(c.negate()).clearCofactor().is0()}}},nx=async(e,t,n,r=ex)=>YE(!0,tx(e,t,n,r)),rx=()=>\"object\"==typeof globalThis&&\"crypto\"in globalThis?globalThis.crypto:void 0,ox={bytesToHex:BE,hexToBytes:zE,concatBytes:UE,mod:_E,invert:DE,randomBytes:(e=32)=>{const t=rx();return t&&t.getRandomValues||EE(\"crypto.getRandomValues must be defined\"),t.getRandomValues(kE(e))},sha512Async:async(...e)=>{const t=rx();t&&t.subtle||EE(\"crypto.subtle or etc.sha512Async must be defined\");const n=UE(...e);return kE(await t.subtle.digest(\"SHA-512\",n.buffer))},sha512Sync:void 0};Object.defineProperties(ox,{sha512Sync:{configurable:!1,get:()=>WE,set(e){WE||(WE=e)}}});const ix={getExtendedPublicKeyAsync:HE,getExtendedPublicKey:JE,randomPrivateKey:()=>ox.randomBytes(32),precompute:(e=8,t=PE)=>(t.multiply(3n),t)};let ax;const sx=e=>{const t=ax||(ax=(()=>{const e=[];let t=PE,n=t;for(let r=0;r<33;r++){n=t,e.push(n);for(let r=1;r<128;r++)n=n.add(t),e.push(n);t=n.double()}return e})()),n=(e,t)=>{let n=t.negate();return e?n:t};let r=OE,o=PE;const i=BigInt(255),a=BigInt(8);for(let s=0;s<33;s++){const c=128*s;let u=Number(e&i);e>>=a,u>128&&(u-=256,e+=1n);const l=c,d=c+Math.abs(u)-1,f=s%2!=0,h=u<0;0===u?o=o.add(n(f,t[l])):r=r.add(n(h,t[d]))}return{p:r,f:o}};function cx(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}var ux=n(1048).hp;const lx=\"8d9df0f7-1363-4d2c-8152-ce4ed78f27d8\",dx=[48,46,2,1,0,48,5,6,3,43,101,112,4,34,4,32];function fx(e){return ux.from(e).toString(\"base64\").replace(/\\+/gu,\"-\").replace(/\\//gu,\"_\").replace(/[=]/gu,\"\")}function hx(e){const t=e.replace(/-/gu,\"+\").replace(/_/gu,\"/\");return new Uint8Array(ux.from(t,\"base64\"))}function px(e){return\"Ed25519\"===e||\"object\"==typeof e&&\"Ed25519\"===e.name}function gx(){const{subtle:e}=globalThis.crypto;Object.defineProperty(globalThis,\"isSecureContext\",{value:!0,writable:!0,configurable:!0}),Object.defineProperty(e,\"generateKey\",{value:async(...e)=>px(e[0])?await async function(e,t,n){const r=ix.randomPrivateKey(),o=await ZE(r),i=Array.from(n);return{privateKey:{algorithm:{name:\"Ed25519\"},extractable:t,type:\"private\",usages:i,[lx]:r},publicKey:{algorithm:{name:\"Ed25519\"},extractable:!0,type:\"public\",usages:i,[lx]:o}}}(...e):await globalThis.crypto.subtle.generateKey(...e),writable:!0,configurable:!0}),Object.defineProperty(e,\"exportKey\",{value:async(...e)=>px(e[1].algorithm)?await async function(e,t){if(!t.extractable)throw new DOMException(\"key is not extractable\",\"InvalidAccessException\");const n=t[lx];switch(e){case\"raw\":if(\"public\"!==t.type)throw new DOMException(\"Unable to export a raw Ed25519 private key\",\"InvalidAccessError\");return n.buffer;case\"pkcs8\":if(\"private\"!==t.type)throw new DOMException(\"Unable to export a pkcs8 Ed25519 public key\",\"InvalidAccessError\");return new Uint8Array([...dx,...n]).buffer;case\"jwk\":{const e={crv:\"Ed25519\",ext:t.extractable,key_ops:t.usages,kty:\"OKP\"};if(\"private\"===t.type){const t=await ZE(n);return Object.freeze({...e,d:fx(n),x:fx(t)})}return Object.freeze({...e,x:fx(n)})}case\"spki\":{if(\"public\"!==t.type)throw new DOMException(\"Only public keys can be exported as SPKI\",\"InvalidAccessError\");const e=new Uint8Array([48,5,6,3,43,101,112]),r=new Uint8Array([3,n.length+1,0,...n]);return new Uint8Array([48,e.length+r.length,...e,...r]).buffer}default:throw new Error(`Unsupported export format: ${e}`)}}(...e):await globalThis.crypto.subtle.exportKey(...e),writable:!0,configurable:!0}),Object.defineProperty(e,\"sign\",{value:async(...e)=>{const[t,n]=e;return px(t)&&px(n.algorithm)?await async function(e,t,n){if(\"private\"!==t.type)throw new DOMException(\"Key is not private\",\"NotAllowedError\");if(!t.usages.includes(\"sign\"))throw new DOMException(\"Key usage not allowed\",\"NotAllowedError\");const r=cx(n),o=t[lx],i=function(e){return e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteLength)}(await QE(r,o));return i}(...e):await globalThis.crypto.subtle.sign(...e)},writable:!0,configurable:!0}),Object.defineProperty(e,\"verify\",{value:async(...e)=>{const[t,n]=e;return px(t)&&px(n.algorithm)?await async function(e,t,n,r){if(\"public\"!==t.type)throw new DOMException(\"Key is not public\",\"NotAllowedError\");if(!t.usages.includes(\"verify\"))throw new DOMException(\"Key usage not allowed\",\"NotAllowedError\");const o=cx(n),i=cx(r),a=t[lx];return await nx(o,i,a)}(...e):await globalThis.crypto.subtle.verify(...e)},writable:!0,configurable:!0}),Object.defineProperty(e,\"importKey\",{value:async(...e)=>px(e[2])?await async function(e,t,n,r,o){const i=Array.from(o);switch(e){case\"raw\":{const e=cx(t);if(32!==e.length)throw new DOMException(\"Ed25519 raw keys must be exactly 32-bytes\",\"DataError\");return{algorithm:{name:\"Ed25519\"},extractable:r,type:\"public\",usages:i.filter((e=>\"verify\"===e)),[lx]:e}}case\"pkcs8\":{const e=cx(t);if(48!==e.length)throw new DOMException(\"Invalid PKCS8 key data length\",\"DataError\");if(!e.slice(0,16).every(((e,t)=>e===dx[t])))throw new DOMException(\"Invalid PKCS8 header\",\"DataError\");return{algorithm:{name:\"Ed25519\"},extractable:r,type:\"private\",usages:i.filter((e=>\"sign\"===e)),[lx]:e.slice(16)}}case\"jwk\":{const e=t;if(\"OKP\"!==e.kty||\"Ed25519\"!==e.crv)throw new DOMException(\"Invalid Ed25519 JWK\",\"DataError\");const n=\"d\"in e?\"private\":\"public\";if(\"public\"===n&&!e.x)throw new DOMException(\"Ed25519 JWK is missing public key\",\"DataError\");if(!(\"private\"!==n||e.d&&e.x))throw new DOMException(\"Ed25519 JWK is missing key data\",\"DataError\");const o=\"private\"===n?e.d:e.x;return{algorithm:{name:\"Ed25519\"},extractable:r,type:n,usages:i.filter((e=>\"private\"===n?\"sign\"===e:\"verify\"===e)),[lx]:hx(o)}}case\"spki\":{const e=cx(t);if(48!==e[0])throw new DOMException(\"Invalid SPKI format\",\"DataError\");const n=2;if(48!==e[n]||6!==e[n+2]||3!==e[n+3]||43!==e[n+4]||101!==e[n+5]||112!==e[n+6])throw new DOMException(\"Not an Ed25519 key\",\"DataError\");const r=n+7+2;return{algorithm:{name:\"Ed25519\"},extractable:!0,type:\"public\",usages:i.filter((e=>\"verify\"===e)),[lx]:e.slice(r)}}default:throw new Error(`Unsupported import format: ${e}`)}}(...e):await globalThis.crypto.subtle.importKey(...e),writable:!0,configurable:!0})}const mx=async e=>Promise.resolve().then(e);Object.defineProperty(globalThis,\"DOMException\",{value:Error,writable:!0,configurable:!0,enumerable:!0}),gx(),Object.defineProperty(globalThis,\"queueMicrotask\",{value:mx,writable:!0,configurable:!0,enumerable:!0}),jo.config({EXPONENTIAL_AT:16});const yx=async({origin:e,request:t})=>{Cd.log(\"[🔄 onRpcRequest]\",t.method,t);const{method:n}=t;sy(e,n);const r=iE[n];if(!r)throw new ao(`RpcRequest method ${n} not found. Available methods: ${Object.values(Hm).toString()}`);return await aE((async()=>r({origin:e,request:t})))??null},vx=async({origin:e,request:t})=>{Cd.log(\"[🔑 onKeyringRequest]\",t.method,t),sy(e,t.method),t.method===Ht.SubmitRequest&&t.params&&!(\"origin\"in t.params)&&(t.params.origin=\"https://metamask.io\");return await aE((async()=>yn(dS,t)))??null},wx=async({id:e,event:t,context:n})=>{if(Cd.log(\"[👇 onUserInput]\",e,t),!t.name)return;const r={...mE,...yE,...cv,...rv,...ev}[t.name];r&&await aE((async()=>r({id:e,event:t,context:n,snapContext:pS})))},Ax=async({request:e})=>{Cd.log(\"[⏱️ onCronjob]\",e.method,e);const{method:t}=e;z(t,H([...Object.values(wS),...Object.values(Tv)]));return await aE((async()=>{const{locked:n,active:r}=await async function(){return await snap.request({method:\"snap_getClientStatus\"})}();if(Cd.log(\"[🔑 onCronjob] Client status\",{locked:n,active:r}),n)return Promise.resolve();if(!1===r){const e=await Fb.getKey(\"lastCronjobRun\"),t=18e5;if(Cd.log(\"[🔑 onCronjob] Last cronjob run\",{lastCronjobRun:e}),e&&Date.now()-e<t)return Cd.log(\"[🔑 onCronjob] Skipping cronjob because it has been run in the last 30 minutes\"),Promise.resolve()}await Fb.setKey(\"lastCronjobRun\",Date.now()),Cd.log(\"[🔑 onCronjob] Running cronjob\",{method:t});return(0,nE[t])({request:e})}))??null},bx=async e=>{const t=await aE((async()=>(async e=>{Cd.log(\"[🔍 onAssetsLookup]\",e);const{assets:t}=e;return{assets:await eS.getTokenMetadataFromAddresses(t)}})(e)));return t??null},Sx=async e=>{const t=await aE((async()=>(async e=>{Cd.log(\"[💱 onAssetsConversion]\",e);const{conversions:t}=e;return{conversionRates:await rS.getMultipleTokenConversions(t)}})(e)));return t??null},Ex=async e=>await aE((async()=>(async({scope:e,request:t})=>{switch(z(e,yc),t.method){case Wm.GetGenesisHash:return z(t,Vm),Vb.getRpc(e).getGenesisHash().send();case Wm.GetLatestBlockhash:return z(t,Km),(await Vb.getRpc(e).getLatestBlockhash().send()).value.blockhash;case Wm.GetMinimumBalanceForRentExemption:return z(t,Gm),(await Vb.getRpc(e).getMinimumBalanceForRentExemption(BigInt(t.params[0]),t.params[1]).send()).toString();default:throw new Error(`Unsupported method: ${t.method}`)}})(e)))??null,xx=async e=>{const t=await aE((async()=>(async e=>{Cd.log(\"[📈 onAssetHistoricalPrice]\",e);const{from:t,to:n}=e;return z(t,Jo),z(n,Jo),{historicalPrice:await rS.getHistoricalPrice(t,n)}})(e)));return t??null},Tx=async({request:e})=>await aE((async()=>hS.handle(e)))??null,kx=async({event:e})=>aE((async()=>$b.emitSync(\"onWebSocketEvent\",e))),Ix=async()=>aE((async()=>$b.emitSync(\"onStart\"))),_x=async()=>aE((async()=>$b.emitSync(\"onUpdate\"))),Cx=async()=>aE((async()=>$b.emitSync(\"onInstall\"))),Rx=async e=>{const t=await aE((async()=>(async e=>{z(e,rE);const{chainId:t,domain:n,address:r}=e;if(n){const e=await oS.resolveDomain(t,n);if(e)return{resolvedAddresses:[{resolvedAddress:e,protocol:oE,domainName:n}]}}if(r){const e=await oS.resolveAddress(t,r);if(e)return{resolvedDomains:[{resolvedDomain:e,protocol:oE}]}}return null})(e)));return t??null},Px=async e=>{const t=await aE((async()=>(async e=>{Cd.log(\"[💰 onAssetsMarketData]\",e);const{assets:t}=e;return{marketData:await iS.getAssetsMarketData(t)}})(e)));return t??null}})(),module.exports=r})();"},{"path":"locales/en.json","value":"{\n  \"locale\": \"en\",\n  \"messages\": {\n    \"send.title\": {\n      \"message\": \"Send\"\n    },\n    \"send.balance\": {\n      \"message\": \"Balance\"\n    },\n    \"send.maxButton\": {\n      \"message\": \"Max\"\n    },\n    \"send.cancelButton\": {\n      \"message\": \"Cancel\"\n    },\n    \"send.continueButton\": {\n      \"message\": \"Continue\"\n    },\n    \"send.fromField\": {\n      \"message\": \"From\"\n    },\n    \"send.toField\": {\n      \"message\": \"To\"\n    },\n    \"send.amountField\": {\n      \"message\": \"Amount\"\n    },\n    \"send.assetField\": {\n      \"message\": \"Token\"\n    },\n    \"send.toPlaceholder\": {\n      \"message\": \"Enter public address or domain name\"\n    },\n    \"send.fromRequiredError\": {\n      \"message\": \"Account is required\"\n    },\n    \"send.amountRequiredError\": {\n      \"message\": \"Amount is required\"\n    },\n    \"send.amountGreatherThanMinimumBalanceForRentExemptionError\": {\n      \"message\": \"Amount must be greater than {minimumValue}\"\n    },\n    \"send.insuffientSolToCoverFee\": {\n      \"message\": \"Insufficient SOL balance to cover the transaction fee\"\n    },\n    \"send.toRequiredError\": {\n      \"message\": \"To address is required\"\n    },\n    \"send.toInvalidError\": {\n      \"message\": \"Invalid Solana address or domain name\"\n    },\n    \"send.toInvalidErrorDomain\": {\n      \"message\": \"Unable to resolve domain name\"\n    },\n    \"send.toDomainResolutionStatus.initial\": {\n      \"message\": \"Domain\"\n    },\n    \"send.toDomainResolutionStatus.fetching\": {\n      \"message\": \"Resolving domain name...\"\n    },\n    \"send.toDomainResolutionStatus.fetched\": {\n      \"message\": \"Domain name resolved.\"\n    },\n    \"send.toDomainResolutionStatus.error\": {\n      \"message\": \"Unable to resolve domain name.\"\n    },\n    \"send.insufficientBalance\": {\n      \"message\": \"Insufficient balance\"\n    },\n    \"send.simulationTitleAPIError\": {\n      \"message\": \"Because of an error, we couldn't check for security alerts.\"\n    },\n    \"send.simulationMessageAPIError\": {\n      \"message\": \"Only continue if you trust every address involved.\"\n    },\n    \"send.simulationTitleError\": {\n      \"message\": \"Transaction simulation failed\"\n    },\n    \"send.simulationMessageError\": {\n      \"message\": \"This transaction was reverted during simulation.\"\n    },\n    \"send.selectedTokenPriceNotAvailable\": {\n      \"message\": \"Prices for tokens in {currency} are currently not available. You are still able to send tokens.\"\n    },\n    \"send.confirmation.title\": {\n      \"message\": \"Review\"\n    },\n    \"send.confirmation.from\": {\n      \"message\": \"From\"\n    },\n    \"send.confirmation.recipient\": {\n      \"message\": \"Recipient\"\n    },\n    \"send.confirmation.network\": {\n      \"message\": \"Network\"\n    },\n    \"send.confirmation.transactionSpeed\": {\n      \"message\": \"Transaction speed\"\n    },\n    \"send.confirmation.fee\": {\n      \"message\": \"Network fee\"\n    },\n    \"send.confirmation.sendButton\": {\n      \"message\": \"Send\"\n    },\n    \"send.confirmation.cancelButton\": {\n      \"message\": \"Cancel\"\n    },\n    \"send.confirmation.viewTransaction\": {\n      \"message\": \"View transaction\"\n    },\n    \"send.send-pending.title\": {\n      \"message\": \"Sending...\"\n    },\n    \"send.send-pending.subtitle\": {\n      \"message\": \"Your transaction was submitted.\"\n    },\n    \"send.transaction-success.title\": {\n      \"message\": \"Sent\"\n    },\n    \"send.transaction-success.subtitle\": {\n      \"message\": \"{amount} {tokenSymbol} was successfully sent\"\n    },\n    \"send.transaction-failure.title\": {\n      \"message\": \"Transaction failed\"\n    },\n    \"send.transaction-failure.subtitle\": {\n      \"message\": \"Unable to send {amount} {tokenSymbol}\"\n    },\n    \"confirmation.account\": {\n      \"message\": \"Account\"\n    },\n    \"confirmation.network\": {\n      \"message\": \"Network\"\n    },\n    \"confirmation.estimatedChanges\": {\n      \"message\": \"Estimated changes\"\n    },\n    \"confirmation.estimatedChanges.send\": {\n      \"message\": \"You send\"\n    },\n    \"confirmation.estimatedChanges.receive\": {\n      \"message\": \"You receive\"\n    },\n    \"confirmation.estimatedChanges.notAvailable\": {\n      \"message\": \"Not available\"\n    },\n    \"confirmation.estimatedChanges.noChanges\": {\n      \"message\": \"No changes\"\n    },\n    \"confirmation.estimatedChanges.tooltip\": {\n      \"message\": \"Estimated changes are what might happen if you go through with this transaction. This is just a prediction, not a guarantee.\"\n    },\n    \"confirmation.advanced.show\": {\n      \"message\": \"Show advanced\"\n    },\n    \"confirmation.advanced.hide\": {\n      \"message\": \"Hide advanced\"\n    },\n    \"confirmation.cancelButton\": {\n      \"message\": \"Cancel\"\n    },\n    \"confirmation.confirmButton\": {\n      \"message\": \"Confirm\"\n    },\n    \"confirmation.signAndSendTransaction.title\": {\n      \"message\": \"Transaction request\"\n    },\n    \"confirmation.signTransaction.title\": {\n      \"message\": \"Signing request\"\n    },\n    \"confirmation.sendAndConfirmTransaction.title\": {\n      \"message\": \"Sending and confirming transaction\"\n    },\n    \"confirmation.advanced.unknownInstruction\": {\n      \"message\": \"Unknown\"\n    },\n    \"confirmation.advanced.programId\": {\n      \"message\": \"Program ID\"\n    },\n    \"confirmation.advanced.data\": {\n      \"message\": \"Data\"\n    },\n    \"confirmation.fee\": {\n      \"message\": \"Network fee\"\n    },\n    \"confirmation.feeError\": {\n      \"message\": \"Unable to estimate fee\"\n    },\n    \"confirmation.origin\": {\n      \"message\": \"Request from\"\n    },\n    \"confirmation.origin.tooltip\": {\n      \"message\": \"This is the site asking for your confirmation.\"\n    },\n    \"confirmation.simulationErrorTitle\": {\n      \"message\": \"This transaction was reverted during simulation.\"\n    },\n    \"confirmation.simulationErrorSubtitle\": {\n      \"message\": \"{reason}\"\n    },\n    \"confirmation.validationErrorTitle\": {\n      \"message\": \"This is a deceptive request\"\n    },\n    \"confirmation.validationErrorSubtitle\": {\n      \"message\": \"If you approve this request, a third party known for scams will take all your assets.\"\n    },\n    \"confirmation.validationErrorLearnMore\": {\n      \"message\": \"Learn more\"\n    },\n    \"confirmation.validationErrorSecurityAdviced\": {\n      \"message\": \"Security advice by\"\n    },\n    \"confirmation.signMessage.title\": {\n      \"message\": \"Sign message\"\n    },\n    \"confirmation.signMessage.message\": {\n      \"message\": \"Message\"\n    },\n    \"confirmation.signIn.title\": {\n      \"message\": \"Sign-in request\"\n    },\n    \"confirmation.signIn.description\": {\n      \"message\": \"A site wants you to sign in to prove you own this account.\"\n    },\n    \"confirmation.signIn.domain\": {\n      \"message\": \"Domain\"\n    },\n    \"confirmation.signIn.unknownDomain\": {\n      \"message\": \"Unknown domain\"\n    },\n    \"confirmation.signIn.signingInWith\": {\n      \"message\": \"Signing in with\"\n    },\n    \"confirmation.signIn.badAccount\": {\n      \"message\": \"This site is asking you to sign in using the wrong account.\"\n    },\n    \"confirmation.signIn.message\": {\n      \"message\": \"Message\"\n    },\n    \"confirmation.signIn.statement\": {\n      \"message\": \"Statement\"\n    },\n    \"confirmation.signIn.version\": {\n      \"message\": \"Version\"\n    },\n    \"confirmation.signIn.chainId\": {\n      \"message\": \"Chain ID\"\n    },\n    \"confirmation.signIn.nonce\": {\n      \"message\": \"Nonce\"\n    },\n    \"confirmation.signIn.issuedAt\": {\n      \"message\": \"Issued at\"\n    },\n    \"confirmation.signIn.expirationTime\": {\n      \"message\": \"Expiration time\"\n    },\n    \"confirmation.signIn.notBefore\": {\n      \"message\": \"Not before\"\n    },\n    \"confirmation.signIn.requestId\": {\n      \"message\": \"Request ID\"\n    },\n    \"confirmation.signIn.resources\": {\n      \"message\": \"Resources\"\n    },\n    \"confirmation.signIn.badDomain\": {\n      \"message\": \"This site is asking you to sign in using the wrong domain.\"\n    },\n    \"transactionScan.errors.accountAlreadyInUse\": {\n      \"message\": \"An account with the same address already exists.\"\n    },\n    \"transactionScan.errors.insufficientSol\": {\n      \"message\": \"Account does not have enough SOL to perform the operation.\"\n    },\n    \"transactionScan.errors.slippageToleranceExceeded\": {\n      \"message\": \"The transaction was reverted because the slippage tolerance was exceeded.\"\n    },\n    \"transactionScan.errors.unknownError\": {\n      \"message\": \"An unknown error occurred.\"\n    }\n  }\n}"}],"removable":false,"hideSnapBranding":true}
\ No newline at end of file
+{"snapId":"npm:@metamask/solana-wallet-snap","manifest":{"version":"1.36.0","description":"Manage Solana using MetaMask","proposedName":"Solana","repository":{"type":"git","url":"https://github.com/MetaMask/snap-solana-wallet.git"},"source":{"shasum":"moKTI+EgR0DRAdN8ZuBFZ1s/gXgCA8hNFG8LA/k/8o8=","location":{"npm":{"filePath":"dist/bundle.js","iconPath":"images/icon.svg","packageName":"@metamask/solana-wallet-snap","registry":"https://registry.npmjs.org/"}},"locales":["locales/en.json"]},"initialConnections":{"https://portfolio.metamask.io":{}},"initialPermissions":{"endowment:rpc":{"dapps":true,"snaps":false},"endowment:keyring":{"allowedOrigins":["https://portfolio.metamask.io"]},"snap_getBip32Entropy":[{"path":["m","44'","501'"],"curve":"ed25519"}],"endowment:network-access":{},"endowment:cronjob":{"jobs":[{"duration":"PT30S","request":{"method":"refreshSend","params":{}}},{"duration":"PT20S","request":{"method":"refreshConfirmationEstimation","params":{}}},{"expression":"*/2 * * * *","request":{"method":"scheduleRefreshAccounts","params":{}}}]},"endowment:protocol":{"scopes":{"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":{"methods":["getGenesisHash","getLatestBlockhash","getMinimumBalanceForRentExemption"]},"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1":{"methods":["getGenesisHash","getLatestBlockhash","getMinimumBalanceForRentExemption"]}}},"endowment:assets":{"scopes":["solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"]},"endowment:name-lookup":{"chains":["solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"]},"snap_manageAccounts":{},"snap_manageState":{},"snap_dialog":{},"snap_getPreferences":{}},"platformVersion":"9.0.0","manifestVersion":"0.1"},"files":[{"path":"images/icon.svg","value":"<svg width=\"101\" height=\"101\" viewBox=\"0 0 101 101\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M100.48 69.3817L83.8068 86.8015C83.4444 87.1799 83.0058 87.4816 82.5185 87.6878C82.0312 87.894 81.5055 88.0003 80.9743 88H1.93563C1.55849 88 1.18957 87.8926 0.874202 87.6912C0.558829 87.4897 0.31074 87.2029 0.160416 86.8659C0.0100923 86.529 -0.0359181 86.1566 0.0280382 85.7945C0.0919944 85.4324 0.263131 85.0964 0.520422 84.8278L17.2061 67.408C17.5676 67.0306 18.0047 66.7295 18.4904 66.5234C18.9762 66.3172 19.5002 66.2104 20.0301 66.2095H99.0644C99.4415 66.2095 99.8104 66.3169 100.126 66.5183C100.441 66.7198 100.689 67.0067 100.84 67.3436C100.99 67.6806 101.036 68.0529 100.972 68.415C100.908 68.7771 100.737 69.1131 100.48 69.3817ZM83.8068 34.3032C83.4444 33.9248 83.0058 33.6231 82.5185 33.4169C82.0312 33.2108 81.5055 33.1045 80.9743 33.1048H1.93563C1.55849 33.1048 1.18957 33.2121 0.874202 33.4136C0.558829 33.6151 0.31074 33.9019 0.160416 34.2388C0.0100923 34.5758 -0.0359181 34.9482 0.0280382 35.3103C0.0919944 35.6723 0.263131 36.0083 0.520422 36.277L17.2061 53.6968C17.5676 54.0742 18.0047 54.3752 18.4904 54.5814C18.9762 54.7875 19.5002 54.8944 20.0301 54.8952H99.0644C99.4415 54.8952 99.8104 54.7879 100.126 54.5864C100.441 54.3849 100.689 54.0981 100.84 53.7612C100.99 53.4242 101.036 53.0518 100.972 52.6897C100.908 52.3277 100.737 51.9917 100.48 51.723L83.8068 34.3032ZM1.93563 21.7905H80.9743C81.5055 21.7907 82.0312 21.6845 82.5185 21.4783C83.0058 21.2721 83.4444 20.9704 83.8068 20.592L100.48 3.17219C100.737 2.90357 100.908 2.56758 100.972 2.2055C101.036 1.84342 100.99 1.47103 100.84 1.13408C100.689 0.79713 100.441 0.510296 100.126 0.308823C99.8104 0.107349 99.4415 1.24074e-05 99.0644 0L20.0301 0C19.5002 0.000878397 18.9762 0.107699 18.4904 0.313848C18.0047 0.519998 17.5676 0.821087 17.2061 1.19848L0.524723 18.6183C0.267681 18.8866 0.0966198 19.2223 0.0325185 19.5839C-0.0315829 19.9456 0.0140624 20.3177 0.163856 20.6545C0.31365 20.9913 0.561081 21.2781 0.875804 21.4799C1.19053 21.6817 1.55886 21.7896 1.93563 21.7905Z\" fill=\"url(#paint0_linear_174_4403)\"/>\n<defs>\n<linearGradient id=\"paint0_linear_174_4403\" x1=\"8.52558\" y1=\"90.0973\" x2=\"88.9933\" y2=\"-3.01622\" gradientUnits=\"userSpaceOnUse\">\n<stop offset=\"0.08\" stop-color=\"#9945FF\"/>\n<stop offset=\"0.3\" stop-color=\"#8752F3\"/>\n<stop offset=\"0.5\" stop-color=\"#5497D5\"/>\n<stop offset=\"0.6\" stop-color=\"#43B4CA\"/>\n<stop offset=\"0.72\" stop-color=\"#28E0B9\"/>\n<stop offset=\"0.97\" stop-color=\"#19FB9B\"/>\n</linearGradient>\n</defs>\n</svg>\n"},{"path":"dist/bundle.js","value":"(()=>{var e={33:(e,t,n)=>{var r=n(9968),o=n(9756),i=[[\"ary\",128],[\"bind\",1],[\"bindKey\",2],[\"curry\",8],[\"curryRight\",16],[\"flip\",512],[\"partial\",32],[\"partialRight\",64],[\"rearg\",256]];e.exports=function(e,t){return r(i,(function(n){var r=\"_.\"+n[0];t&n[1]&&!o(e,r)&&e.push(r)})),e.sort()}},88:(e,t,n)=>{var r=n(4700);e.exports=function(e){return r(this,e).get(e)}},125:(e,t,n)=>{var r=n(9032),o=n(5288);e.exports=function(e,t){return e&&r(t,o(t),e)}},155:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},195:(e,t,n)=>{var r=n(4882),o=n(8121),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&\"constructor\"!=n&&t.push(n);return t}},282:e=>{e.exports=a,a.default=a,a.stable=l,a.stableStringify=l;var t=\"[...]\",n=\"[Circular]\",r=[],o=[];function i(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function a(e,t,n,a){var s;void 0===a&&(a=i()),c(e,\"\",0,[],void 0,0,a);try{s=0===o.length?JSON.stringify(e,t,n):JSON.stringify(e,f(t),n)}catch(e){return JSON.stringify(\"[unable to serialize, circular reference is too complex to analyze]\")}finally{for(;0!==r.length;){var u=r.pop();4===u.length?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}}return s}function s(e,t,n,i){var a=Object.getOwnPropertyDescriptor(i,n);void 0!==a.get?a.configurable?(Object.defineProperty(i,n,{value:e}),r.push([i,n,t,a])):o.push([t,n,e]):(i[n]=e,r.push([i,n,t]))}function c(e,r,o,i,a,u,l){var d;if(u+=1,\"object\"==typeof e&&null!==e){for(d=0;d<i.length;d++)if(i[d]===e)return void s(n,e,r,a);if(void 0!==l.depthLimit&&u>l.depthLimit)return void s(t,e,r,a);if(void 0!==l.edgesLimit&&o+1>l.edgesLimit)return void s(t,e,r,a);if(i.push(e),Array.isArray(e))for(d=0;d<e.length;d++)c(e[d],d,d,i,e,u,l);else{var f=Object.keys(e);for(d=0;d<f.length;d++){var h=f[d];c(e[h],h,d,i,e,u,l)}}i.pop()}}function u(e,t){return e<t?-1:e>t?1:0}function l(e,t,n,a){void 0===a&&(a=i());var s,c=d(e,\"\",0,[],void 0,0,a)||e;try{s=0===o.length?JSON.stringify(c,t,n):JSON.stringify(c,f(t),n)}catch(e){return JSON.stringify(\"[unable to serialize, circular reference is too complex to analyze]\")}finally{for(;0!==r.length;){var u=r.pop();4===u.length?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}}return s}function d(e,o,i,a,c,l,f){var h;if(l+=1,\"object\"==typeof e&&null!==e){for(h=0;h<a.length;h++)if(a[h]===e)return void s(n,e,o,c);try{if(\"function\"==typeof e.toJSON)return}catch(e){return}if(void 0!==f.depthLimit&&l>f.depthLimit)return void s(t,e,o,c);if(void 0!==f.edgesLimit&&i+1>f.edgesLimit)return void s(t,e,o,c);if(a.push(e),Array.isArray(e))for(h=0;h<e.length;h++)d(e[h],h,h,a,e,l,f);else{var p={},g=Object.keys(e).sort(u);for(h=0;h<g.length;h++){var m=g[h];d(e[m],m,h,a,e,l,f),p[m]=e[m]}if(void 0===c)return p;r.push([c,o,e]),c[o]=p}a.pop()}}function f(e){return e=void 0!==e?e:function(e,t){return t},function(t,n){if(o.length>0)for(var r=0;r<o.length;r++){var i=o[r];if(i[1]===t&&i[0]===n){n=i[2],o.splice(r,1);break}}return e.call(this,t,n)}}},313:(e,t,n)=>{var r=n(1129),o=n(714);e.exports=function e(t,n,i,a,s){var c=-1,u=t.length;for(i||(i=o),s||(s=[]);++c<u;){var l=t[c];n>0&&i(l)?n>1?e(l,n-1,i,a,s):r(s,l):a||(s[s.length]=l)}return s}},353:(e,t,n)=>{var r=n(1340),o=n(3934),i=n(8861),a=n(1182),s=n(8486),c=n(3142),u=n(5853),l=n(8666),d=\"[object Arguments]\",f=\"[object Array]\",h=\"[object Object]\",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,m,y){var v=c(e),w=c(t),A=v?f:s(e),b=w?f:s(t),S=(A=A==d?h:A)==h,E=(b=b==d?h:b)==h,x=A==b;if(x&&u(e)){if(!u(t))return!1;v=!0,S=!1}if(x&&!S)return y||(y=new r),v||l(e)?o(e,t,n,g,m,y):i(e,t,A,n,g,m,y);if(!(1&n)){var T=S&&p.call(e,\"__wrapped__\"),k=E&&p.call(t,\"__wrapped__\");if(T||k){var I=T?e.value():e,_=k?t.value():t;return y||(y=new r),m(I,_,n,g,y)}}return!!x&&(y||(y=new r),a(e,t,n,g,m,y))}},358:(e,t,n)=>{var r=n(6137),o=n(3283),i=n(3142),a=n(5853),s=n(9632),c=n(8666),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),l=!n&&o(e),d=!n&&!l&&a(e),f=!n&&!l&&!d&&c(e),h=n||l||d||f,p=h?r(e.length,String):[],g=p.length;for(var m in e)!t&&!u.call(e,m)||h&&(\"length\"==m||d&&(\"offset\"==m||\"parent\"==m)||f&&(\"buffer\"==m||\"byteLength\"==m||\"byteOffset\"==m)||s(m,g))||p.push(m);return p}},393:(e,t,n)=>{var r=n(8244),o=n(7979),i=n(1211);e.exports=function(e){return r(e,i,o)}},424:(e,t,n)=>{var r=n(8898),o=n(2480),i=n(8340),a=n(8069),s=n(2264);e.exports=function(e,t,n){var c=e.constructor;switch(t){case\"[object ArrayBuffer]\":return r(e);case\"[object Boolean]\":case\"[object Date]\":return new c(+e);case\"[object DataView]\":return o(e,n);case\"[object Float32Array]\":case\"[object Float64Array]\":case\"[object Int8Array]\":case\"[object Int16Array]\":case\"[object Int32Array]\":case\"[object Uint8Array]\":case\"[object Uint8ClampedArray]\":case\"[object Uint16Array]\":case\"[object Uint32Array]\":return s(e,n);case\"[object Map]\":case\"[object Set]\":return new c;case\"[object Number]\":case\"[object String]\":return new c(e);case\"[object RegExp]\":return i(e);case\"[object Symbol]\":return a(e)}}},441:(e,t,n)=>{var r=n(7379),o=n(547),i=n(8360);e.exports=function(e){if(!o(e))return!1;var t=r(e);return\"[object Error]\"==t||\"[object DOMException]\"==t||\"string\"==typeof e.message&&\"string\"==typeof e.name&&!i(e)}},528:(e,t,n)=>{var r=n(9747),o=n(5962);function i(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}i.prototype=r(o.prototype),i.prototype.constructor=i,e.exports=i},547:e=>{e.exports=function(e){return null!=e&&\"object\"==typeof e}},674:(e,t,n)=>{var r=n(7379),o=n(5387),i=n(547),a={};a[\"[object Float32Array]\"]=a[\"[object Float64Array]\"]=a[\"[object Int8Array]\"]=a[\"[object Int16Array]\"]=a[\"[object Int32Array]\"]=a[\"[object Uint8Array]\"]=a[\"[object Uint8ClampedArray]\"]=a[\"[object Uint16Array]\"]=a[\"[object Uint32Array]\"]=!0,a[\"[object Arguments]\"]=a[\"[object Array]\"]=a[\"[object ArrayBuffer]\"]=a[\"[object Boolean]\"]=a[\"[object DataView]\"]=a[\"[object Date]\"]=a[\"[object Error]\"]=a[\"[object Function]\"]=a[\"[object Map]\"]=a[\"[object Number]\"]=a[\"[object Object]\"]=a[\"[object RegExp]\"]=a[\"[object Set]\"]=a[\"[object String]\"]=a[\"[object WeakMap]\"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},714:(e,t,n)=>{var r=n(5650),o=n(3283),i=n(3142),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||o(e)||!!(a&&e&&e[a])}},777:(e,t,n)=>{var r=n(8486),o=n(547);e.exports=function(e){return o(e)&&\"[object Map]\"==r(e)}},796:(e,t,n)=>{var r=n(7403),o=n(3316)(r);e.exports=o},864:(e,t,n)=>{var r=n(8638),o=n(1439),i=o((function(e,t){return r(e,256,void 0,void 0,void 0,t)}));e.exports=i},961:(e,t,n)=>{var r=n(3476),o=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+\"\",n=r[t],i=o.call(r,t)?n.length:0;i--;){var a=n[i],s=a.func;if(null==s||s==e)return a.name}return t}},1048:(e,t,n)=>{\"use strict\";const r=n(7991),o=n(9318),i=\"function\"==typeof Symbol&&\"function\"==typeof Symbol.for?Symbol.for(\"nodejs.util.inspect.custom\"):null;t.hp=c,t.IS=50;const a=2147483647;function s(e){if(e>a)throw new RangeError('The value \"'+e+'\" is invalid for option \"size\"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,n){if(\"number\"==typeof e){if(\"string\"==typeof t)throw new TypeError('The \"string\" argument must be of type string. Received type number');return d(e)}return u(e,t,n)}function u(e,t,n){if(\"string\"==typeof e)return function(e,t){\"string\"==typeof t&&\"\"!==t||(t=\"utf8\");if(!c.isEncoding(t))throw new TypeError(\"Unknown encoding: \"+t);const n=0|g(e,t);let r=s(n);const o=r.write(e,t);o!==n&&(r=r.slice(0,o));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(J(e,Uint8Array)){const t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw new TypeError(\"The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type \"+typeof e);if(J(e,ArrayBuffer)||e&&J(e.buffer,ArrayBuffer))return h(e,t,n);if(\"undefined\"!=typeof SharedArrayBuffer&&(J(e,SharedArrayBuffer)||e&&J(e.buffer,SharedArrayBuffer)))return h(e,t,n);if(\"number\"==typeof e)throw new TypeError('The \"value\" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return c.from(r,t,n);const o=function(e){if(c.isBuffer(e)){const t=0|p(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return\"number\"!=typeof e.length||Z(e.length)?s(0):f(e);if(\"Buffer\"===e.type&&Array.isArray(e.data))return f(e.data)}(e);if(o)return o;if(\"undefined\"!=typeof Symbol&&null!=Symbol.toPrimitive&&\"function\"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive](\"string\"),t,n);throw new TypeError(\"The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type \"+typeof e)}function l(e){if(\"number\"!=typeof e)throw new TypeError('\"size\" argument must be of type number');if(e<0)throw new RangeError('The value \"'+e+'\" is invalid for option \"size\"')}function d(e){return l(e),s(e<0?0:0|p(e))}function f(e){const t=e.length<0?0:0|p(e.length),n=s(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function h(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('\"offset\" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('\"length\" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,c.prototype),r}function p(e){if(e>=a)throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\"+a.toString(16)+\" bytes\");return 0|e}function g(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||J(e,ArrayBuffer))return e.byteLength;if(\"string\"!=typeof e)throw new TypeError('The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(t){case\"ascii\":case\"latin1\":case\"binary\":return n;case\"utf8\":case\"utf-8\":return K(e).length;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return 2*n;case\"hex\":return n>>>1;case\"base64\":return G(e).length;default:if(o)return r?-1:K(e).length;t=(\"\"+t).toLowerCase(),o=!0}}function m(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return\"\";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return\"\";if((n>>>=0)<=(t>>>=0))return\"\";for(e||(e=\"utf8\");;)switch(e){case\"hex\":return R(this,t,n);case\"utf8\":case\"utf-8\":return k(this,t,n);case\"ascii\":return _(this,t,n);case\"latin1\":case\"binary\":return C(this,t,n);case\"base64\":return T(this,t,n);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return P(this,t,n);default:if(r)throw new TypeError(\"Unknown encoding: \"+e);e=(e+\"\").toLowerCase(),r=!0}}function y(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,o){if(0===e.length)return-1;if(\"string\"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Z(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if(\"string\"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:w(e,t,n,r,o);if(\"number\"==typeof t)return t&=255,\"function\"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):w(e,[t],n,r,o);throw new TypeError(\"val must be string, number or Buffer\")}function w(e,t,n,r,o){let i,a=1,s=e.length,c=t.length;if(void 0!==r&&(\"ucs2\"===(r=String(r).toLowerCase())||\"ucs-2\"===r||\"utf16le\"===r||\"utf-16le\"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){let r=-1;for(i=n;i<s;i++)if(u(e,i)===u(t,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===c)return r*a}else-1!==r&&(i-=i-r),r=-1}else for(n+c>s&&(n=s-c),i=n;i>=0;i--){let n=!0;for(let r=0;r<c;r++)if(u(e,i+r)!==u(t,r)){n=!1;break}if(n)return i}return-1}function A(e,t,n,r){n=Number(n)||0;const o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;const i=t.length;let a;for(r>i/2&&(r=i/2),a=0;a<r;++a){const r=parseInt(t.substr(2*a,2),16);if(Z(r))return a;e[n+a]=r}return a}function b(e,t,n,r){return H(K(t,e.length-n),e,n,r)}function S(e,t,n,r){return H(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return H(G(t),e,n,r)}function x(e,t,n,r){return H(function(e,t){let n,r,o;const i=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function T(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function k(e,t,n){n=Math.min(e.length,n);const r=[];let o=t;for(;o<n;){const t=e[o];let i=null,a=t>239?4:t>223?3:t>191?2:1;if(o+a<=n){let n,r,s,c;switch(a){case 1:t<128&&(i=t);break;case 2:n=e[o+1],128==(192&n)&&(c=(31&t)<<6|63&n,c>127&&(i=c));break;case 3:n=e[o+1],r=e[o+2],128==(192&n)&&128==(192&r)&&(c=(15&t)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:n=e[o+1],r=e[o+2],s=e[o+3],128==(192&n)&&128==(192&r)&&128==(192&s)&&(c=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&s,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,a=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=a}return function(e){const t=e.length;if(t<=I)return String.fromCharCode.apply(String,e);let n=\"\",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=I));return n}(r)}c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||\"undefined\"==typeof console||\"function\"!=typeof console.error||console.error(\"This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.\"),Object.defineProperty(c.prototype,\"parent\",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,\"offset\",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,n){return u(e,t,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,n){return function(e,t,n){return l(e),e<=0?s(e):void 0!==t?\"string\"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},c.allocUnsafe=function(e){return d(e)},c.allocUnsafeSlow=function(e){return d(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(J(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),J(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"latin1\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('\"list\" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=c.allocUnsafe(t);let o=0;for(n=0;n<e.length;++n){let t=e[n];if(J(t,Uint8Array))o+t.length>r.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(r,o)):Uint8Array.prototype.set.call(r,t,o);else{if(!c.isBuffer(t))throw new TypeError('\"list\" argument must be an Array of Buffers');t.copy(r,o)}o+=t.length}return r},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError(\"Buffer size must be a multiple of 16-bits\");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError(\"Buffer size must be a multiple of 32-bits\");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError(\"Buffer size must be a multiple of 64-bits\");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?\"\":0===arguments.length?k(this,0,e):m.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError(\"Argument must be a Buffer\");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e=\"\";const n=t.IS;return e=this.toString(\"hex\",0,n).replace(/(.{2})/g,\"$1 \").trim(),this.length>n&&(e+=\" ... \"),\"<Buffer \"+e+\">\"},i&&(c.prototype[i]=c.prototype.inspect),c.prototype.compare=function(e,t,n,r,o){if(J(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The \"target\" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError(\"out of range index\");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;let i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0);const s=Math.min(i,a),u=this.slice(r,o),l=e.slice(t,n);for(let e=0;e<s;++e)if(u[e]!==l[e]){i=u[e],a=l[e];break}return i<a?-1:a<i?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r=\"utf8\",n=this.length,t=0;else if(void 0===n&&\"string\"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r=\"utf8\")):(r=n,n=void 0)}const o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError(\"Attempt to write outside buffer bounds\");r||(r=\"utf8\");let i=!1;for(;;)switch(r){case\"hex\":return A(this,e,t,n);case\"utf8\":case\"utf-8\":return b(this,e,t,n);case\"ascii\":case\"latin1\":case\"binary\":return S(this,e,t,n);case\"base64\":return E(this,e,t,n);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return x(this,e,t,n);default:if(i)throw new TypeError(\"Unknown encoding: \"+r);r=(\"\"+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:\"Buffer\",data:Array.prototype.slice.call(this._arr||this,0)}};const I=4096;function _(e,t,n){let r=\"\";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function C(e,t,n){let r=\"\";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function R(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let o=\"\";for(let r=t;r<n;++r)o+=Y[e[r]];return o}function P(e,t,n){const r=e.slice(t,n);let o=\"\";for(let e=0;e<r.length-1;e+=2)o+=String.fromCharCode(r[e]+256*r[e+1]);return o}function O(e,t,n){if(e%1!=0||e<0)throw new RangeError(\"offset is not uint\");if(e+t>n)throw new RangeError(\"Trying to access beyond buffer length\")}function N(e,t,n,r,o,i){if(!c.isBuffer(e))throw new TypeError('\"buffer\" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('\"value\" argument is out of bounds');if(n+r>e.length)throw new RangeError(\"Index out of range\")}function B(e,t,n,r,o){F(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function z(e,t,n,r,o){F(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n+7]=i,i>>=8,e[n+6]=i,i>>=8,e[n+5]=i,i>>=8,e[n+4]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function M(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError(\"Index out of range\");if(n<0)throw new RangeError(\"Index out of range\")}function j(e,t,n,r,i){return t=+t,n>>>=0,i||M(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function U(e,t,n,r,i){return t=+t,n>>>=0,i||M(e,0,n,8),o.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);let r=this[e+--t],o=1;for(;t>0&&(o*=256);)r+=this[e+--t]*o;return r},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=X((function(e){q(e>>>=0,\"offset\");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))})),c.prototype.readBigUInt64BE=X((function(e){q(e>>>=0,\"offset\");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)})),c.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);let r=t,o=1,i=this[e+--r];for(;r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},c.prototype.readInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||O(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){e>>>=0,t||O(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=X((function(e){q(e>>>=0,\"offset\");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=X((function(e){q(e>>>=0,\"offset\");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||O(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||O(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||O(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||O(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){N(this,e,t,n,Math.pow(2,8*n)-1,0)}let o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){N(this,e,t,n,Math.pow(2,8*n)-1,0)}let o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=X((function(e,t=0){return B(this,e,t,BigInt(0),BigInt(\"0xffffffffffffffff\"))})),c.prototype.writeBigUInt64BE=X((function(e,t=0){return z(this,e,t,BigInt(0),BigInt(\"0xffffffffffffffff\"))})),c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);N(this,e,t,n,r-1,-r)}let o=0,i=1,a=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);N(this,e,t,n,r-1,-r)}let o=n-1,i=1,a=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=X((function(e,t=0){return B(this,e,t,-BigInt(\"0x8000000000000000\"),BigInt(\"0x7fffffffffffffff\"))})),c.prototype.writeBigInt64BE=X((function(e,t=0){return z(this,e,t,-BigInt(\"0x8000000000000000\"),BigInt(\"0x7fffffffffffffff\"))})),c.prototype.writeFloatLE=function(e,t,n){return j(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return j(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(!c.isBuffer(e))throw new TypeError(\"argument should be a Buffer\");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError(\"targetStart out of bounds\");if(n<0||n>=this.length)throw new RangeError(\"Index out of range\");if(r<0)throw new RangeError(\"sourceEnd out of bounds\");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const o=r-n;return this===e&&\"function\"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},c.prototype.fill=function(e,t,n,r){if(\"string\"==typeof e){if(\"string\"==typeof t?(r=t,t=0,n=this.length):\"string\"==typeof n&&(r=n,n=this.length),void 0!==r&&\"string\"!=typeof r)throw new TypeError(\"encoding must be a string\");if(\"string\"==typeof r&&!c.isEncoding(r))throw new TypeError(\"Unknown encoding: \"+r);if(1===e.length){const t=e.charCodeAt(0);(\"utf8\"===r&&t<128||\"latin1\"===r)&&(e=t)}}else\"number\"==typeof e?e&=255:\"boolean\"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError(\"Out of range index\");if(n<=t)return this;let o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),\"number\"==typeof e)for(o=t;o<n;++o)this[o]=e;else{const i=c.isBuffer(e)?e:c.from(e,r),a=i.length;if(0===a)throw new TypeError('The value \"'+e+'\" is invalid for argument \"value\"');for(o=0;o<n-t;++o)this[o+t]=i[o%a]}return this};const D={};function L(e,t,n){D[e]=class extends n{constructor(){super(),Object.defineProperty(this,\"message\",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,\"code\",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function $(e){let t=\"\",n=e.length;const r=\"-\"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function F(e,t,n,r,o,i){if(e>n||e<t){const r=\"bigint\"==typeof t?\"n\":\"\";let o;throw o=i>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new D.ERR_OUT_OF_RANGE(\"value\",o,e)}!function(e,t,n){q(t,\"offset\"),void 0!==e[t]&&void 0!==e[t+n]||W(t,e.length-(n+1))}(r,o,i)}function q(e,t){if(\"number\"!=typeof e)throw new D.ERR_INVALID_ARG_TYPE(t,\"number\",e)}function W(e,t,n){if(Math.floor(e)!==e)throw q(e,n),new D.ERR_OUT_OF_RANGE(n||\"offset\",\"an integer\",e);if(t<0)throw new D.ERR_BUFFER_OUT_OF_BOUNDS;throw new D.ERR_OUT_OF_RANGE(n||\"offset\",`>= ${n?1:0} and <= ${t}`,e)}L(\"ERR_BUFFER_OUT_OF_BOUNDS\",(function(e){return e?`${e} is outside of buffer bounds`:\"Attempt to access memory outside buffer bounds\"}),RangeError),L(\"ERR_INVALID_ARG_TYPE\",(function(e,t){return`The \"${e}\" argument must be of type number. Received type ${typeof t}`}),TypeError),L(\"ERR_OUT_OF_RANGE\",(function(e,t,n){let r=`The value of \"${e}\" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=$(String(n)):\"bigint\"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=$(o)),o+=\"n\"),r+=` It must be ${t}. Received ${o}`,r}),RangeError);const V=/[^+/0-9A-Za-z-_]/g;function K(e,t){let n;t=t||1/0;const r=e.length;let o=null;const i=[];for(let a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error(\"Invalid code point\");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function G(e){return r.toByteArray(function(e){if((e=(e=e.split(\"=\")[0]).trim().replace(V,\"\")).length<2)return\"\";for(;e.length%4!=0;)e+=\"=\";return e}(e))}function H(e,t,n,r){let o;for(o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function J(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Z(e){return e!=e}const Y=function(){const e=\"0123456789abcdef\",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let o=0;o<16;++o)t[r+o]=e[n]+e[o]}return t}();function X(e){return\"undefined\"==typeof BigInt?Q:e}function Q(){throw new Error(\"BigInt not supported\")}},1112:(e,t,n)=>{var r=n(4497),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return\"__lodash_hash_undefined__\"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},1129:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},1182:(e,t,n)=>{var r=n(393),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,a,s){var c=1&n,u=r(e),l=u.length;if(l!=r(t).length&&!c)return!1;for(var d=l;d--;){var f=u[d];if(!(c?f in t:o.call(t,f)))return!1}var h=s.get(e),p=s.get(t);if(h&&p)return h==t&&p==e;var g=!0;s.set(e,t),s.set(t,e);for(var m=c;++d<l;){var y=e[f=u[d]],v=t[f];if(i)var w=c?i(v,y,f,t,e,s):i(y,v,f,e,t,s);if(!(void 0===w?y===v||a(y,v,n,i,s):w)){g=!1;break}m||(m=\"constructor\"==f)}if(g&&!m){var A=e.constructor,b=t.constructor;A==b||!(\"constructor\"in e)||!(\"constructor\"in t)||\"function\"==typeof A&&A instanceof A&&\"function\"==typeof b&&b instanceof b||(g=!1)}return s.delete(e),s.delete(t),g}},1187:(e,t,n)=>{var r=n(7379),o=n(547);e.exports=function(e){return\"symbol\"==typeof e||o(e)&&\"[object Symbol]\"==r(e)}},1211:(e,t,n)=>{var r=n(358),o=n(195),i=n(6529);e.exports=function(e){return i(e)?r(e):o(e)}},1340:(e,t,n)=>{var r=n(1386),o=n(4103),i=n(1779),a=n(4162),s=n(7462),c=n(6638);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=o,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=s,u.prototype.set=c,e.exports=u},1386:(e,t,n)=>{var r=n(2393),o=n(2049),i=n(7144),a=n(7452),s=n(3964);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},1439:(e,t,n)=>{var r=n(5857),o=n(5234),i=n(796);e.exports=function(e){return i(o(e,void 0,r),e+\"\")}},1580:e=>{e.exports=function(e){var t=typeof e;return null!=e&&(\"object\"==t||\"function\"==t)}},1623:(e,t,n)=>{var r=n(8942).Uint8Array;e.exports=r},1779:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},1877:e=>{e.exports=function(e){return this.__data__.set(e,\"__lodash_hash_undefined__\"),this}},1935:(e,t,n)=>{var r=n(8486),o=n(547);e.exports=function(e){return o(e)&&\"[object Set]\"==r(e)}},1942:(e,t,n)=>{var r=n(528),o=n(1439),i=n(5196),a=n(961),s=n(3142),c=n(6648);e.exports=function(e){return o((function(t){var n=t.length,o=n,u=r.prototype.thru;for(e&&t.reverse();o--;){var l=t[o];if(\"function\"!=typeof l)throw new TypeError(\"Expected a function\");if(u&&!d&&\"wrapper\"==a(l))var d=new r([],!0)}for(o=d?o:n;++o<n;){l=t[o];var f=a(l),h=\"wrapper\"==f?i(l):void 0;d=h&&c(h[0])&&424==h[1]&&!h[4].length&&1==h[9]?d[a(h[0])].apply(d,h[3]):1==l.length&&c(l)?d[f]():d.thru(l)}return function(){var e=arguments,r=e[0];if(d&&1==e.length&&s(r))return d.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}}))}},1950:(e,t,n)=>{var r=n(8942)[\"__core-js_shared__\"];e.exports=r},2049:(e,t,n)=>{var r=n(7034),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},2053:e=>{e.exports=function(e){return e}},2264:(e,t,n)=>{var r=n(8898);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},2291:(e,t,n)=>{var r=n(5650),o=n(5111),i=n(3142),a=n(1187),s=r?r.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if(\"string\"==typeof t)return t;if(i(t))return o(t,e)+\"\";if(a(t))return c?c.call(t):\"\";var n=t+\"\";return\"0\"==n&&1/t==-Infinity?\"-0\":n}},2306:(e,t,n)=>{e=n.nmd(e);var r=n(4967),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,s=function(){try{var e=i&&i.require&&i.require(\"util\").types;return e||a&&a.binding&&a.binding(\"util\")}catch(e){}}();e.exports=s},2343:(e,t,n)=>{var r=n(4687),o=n(6123),i=n(7276),a=n(5187),s=n(7267),c=n(3904),u=n(6040);e.exports=function(e,t){return a(e)&&s(t)?c(u(e),t):function(n){var a=o(n,e);return void 0===a&&a===t?i(n,e):r(t,a,3)}}},2393:e=>{e.exports=function(){this.__data__=[],this.size=0}},2443:(e,t,n)=>{var r=n(6912),o=n(4364),i=n(3504),a=n(4216),s=n(6850),c=n(8813),u=n(8942);e.exports=function(e,t,n){var l=o(e);return function o(){for(var d=arguments.length,f=Array(d),h=d,p=s(o);h--;)f[h]=arguments[h];var g=d<3&&f[0]!==p&&f[d-1]!==p?[]:c(f,p);return(d-=g.length)<n?a(e,t,i,o.placeholder,void 0,f,g,void 0,void 0,n-d):r(this&&this!==u&&this instanceof o?l:e,this,f)}}},2478:(e,t,n)=>{var r=n(7250),o=n(9454),i=n(7706);e.exports=function(e,t,n){return t==t?i(e,t,n):r(e,o,n)}},2480:(e,t,n)=>{var r=n(8898);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},2532:(e,t,n)=>{var r=n(4715),o=function(){try{var e=r(Object,\"defineProperty\");return e({},\"\",{}),e}catch(e){}}();e.exports=o},2590:(e,t,n)=>{var r=n(9334),o=n(3334);e.exports=function(e){return o(\"function\"==typeof e?e:r(e,1))}},2613:(e,t,n)=>{var r=n(5111),o=n(4354),i=n(3142),a=n(1187),s=n(6493),c=n(6040),u=n(5243);e.exports=function(e){return i(e)?r(e,c):a(e)?[e]:o(s(u(e)))}},2619:e=>{e.exports=function(e){return function(){return e}}},2673:(e,t,n)=>{var r=n(3579),o=n(8055);e.exports=function(e,t,n){return r(o,e,t,n)}},2762:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},2784:(e,t,n)=>{var r=n(1580),o=n(4495),i=n(6131),a=Math.max,s=Math.min;e.exports=function(e,t,n){var c,u,l,d,f,h,p=0,g=!1,m=!1,y=!0;if(\"function\"!=typeof e)throw new TypeError(\"Expected a function\");function v(t){var n=c,r=u;return c=u=void 0,p=t,d=e.apply(r,n)}function w(e){var n=e-h;return void 0===h||n>=t||n<0||m&&e-p>=l}function A(){var e=o();if(w(e))return b(e);f=setTimeout(A,function(e){var n=t-(e-h);return m?s(n,l-(e-p)):n}(e))}function b(e){return f=void 0,y&&c?v(e):(c=u=void 0,d)}function S(){var e=o(),n=w(e);if(c=arguments,u=this,h=e,n){if(void 0===f)return function(e){return p=e,f=setTimeout(A,t),g?v(e):d}(h);if(m)return clearTimeout(f),f=setTimeout(A,t),v(h)}return void 0===f&&(f=setTimeout(A,t)),d}return t=i(t)||0,r(n)&&(g=!!n.leading,l=(m=\"maxWait\"in n)?a(i(n.maxWait)||0,t):l,y=\"trailing\"in n?!!n.trailing:y),S.cancel=function(){void 0!==f&&clearTimeout(f),p=0,c=h=u=f=void 0},S.flush=function(){return void 0===f?d:b(o())},S}},2846:(e,t,n)=>{var r=n(9334);e.exports=function(e){return r(e,4)}},2879:(e,t,n)=>{var r=n(1942)();e.exports=r},2945:e=>{var t=/\\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},2991:e=>{e.exports={}},3092:(e,t,n)=>{var r=n(2673)(\"flow\",n(2879));r.placeholder=n(2991),e.exports=r},3103:(e,t,n)=>{var r=n(4715)(n(8942),\"DataView\");e.exports=r},3142:e=>{var t=Array.isArray;e.exports=t},3212:(e,t,n)=>{var r=n(8250),o=n(1877),i=n(8006);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},3282:(e,t,n)=>{var r=n(2762),o=n(8880),i=n(5187),a=n(6040);e.exports=function(e){return i(e)?r(a(e)):o(e)}},3283:(e,t,n)=>{var r=n(6027),o=n(547),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,\"callee\")&&!s.call(e,\"callee\")};e.exports=c},3301:(e,t,n)=>{var r=n(6131),o=1/0;e.exports=function(e){return e?(e=r(e))===o||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},3305:(e,t,n)=>{var r=n(4497);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},3316:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var o=t(),i=16-(o-r);if(r=o,i>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},3321:(e,t,n)=>{var r=n(7553),o=n(528),i=n(5962),a=n(3142),s=n(547),c=n(3410),u=Object.prototype.hasOwnProperty;function l(e){if(s(e)&&!a(e)&&!(e instanceof r)){if(e instanceof o)return e;if(u.call(e,\"__wrapped__\"))return c(e)}return new o(e)}l.prototype=i.prototype,l.prototype.constructor=l,e.exports=l},3334:(e,t,n)=>{var r=n(6526),o=n(2343),i=n(2053),a=n(3142),s=n(3282);e.exports=function(e){return\"function\"==typeof e?e:null==e?i:\"object\"==typeof e?a(e)?o(e[0],e[1]):r(e):s(e)}},3410:(e,t,n)=>{var r=n(7553),o=n(528),i=n(4354);e.exports=function(e){if(e instanceof r)return e.clone();var t=new o(e.__wrapped__,e.__chain__);return t.__actions__=i(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},3422:(e,t,n)=>{var r=n(7073),o=n(6285),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},3476:e=>{e.exports={}},3504:(e,t,n)=>{var r=n(4977),o=n(5755),i=n(3816),a=n(4364),s=n(4216),c=n(6850),u=n(6591),l=n(8813),d=n(8942);e.exports=function e(t,n,f,h,p,g,m,y,v,w){var A=128&n,b=1&n,S=2&n,E=24&n,x=512&n,T=S?void 0:a(t);return function k(){for(var I=arguments.length,_=Array(I),C=I;C--;)_[C]=arguments[C];if(E)var R=c(k),P=i(_,R);if(h&&(_=r(_,h,p,E)),g&&(_=o(_,g,m,E)),I-=P,E&&I<w){var O=l(_,R);return s(t,n,e,k.placeholder,f,_,O,y,v,w-I)}var N=b?f:this,B=S?N[t]:t;return I=_.length,y?_=u(_,y):x&&I>1&&_.reverse(),A&&v<I&&(_.length=v),this&&this!==d&&this instanceof k&&(B=T||a(B)),B.apply(N,_)}}},3526:(e,t,n)=>{var r=n(3142),o=n(5187),i=n(6493),a=n(5243);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},3546:(e,t,n)=>{var r=n(9032),o=n(7979);e.exports=function(e,t){return r(e,o(e),t)}},3565:(e,t)=>{t.aliasToReal={each:\"forEach\",eachRight:\"forEachRight\",entries:\"toPairs\",entriesIn:\"toPairsIn\",extend:\"assignIn\",extendAll:\"assignInAll\",extendAllWith:\"assignInAllWith\",extendWith:\"assignInWith\",first:\"head\",conforms:\"conformsTo\",matches:\"isMatch\",property:\"get\",__:\"placeholder\",F:\"stubFalse\",T:\"stubTrue\",all:\"every\",allPass:\"overEvery\",always:\"constant\",any:\"some\",anyPass:\"overSome\",apply:\"spread\",assoc:\"set\",assocPath:\"set\",complement:\"negate\",compose:\"flowRight\",contains:\"includes\",dissoc:\"unset\",dissocPath:\"unset\",dropLast:\"dropRight\",dropLastWhile:\"dropRightWhile\",equals:\"isEqual\",identical:\"eq\",indexBy:\"keyBy\",init:\"initial\",invertObj:\"invert\",juxt:\"over\",omitAll:\"omit\",nAry:\"ary\",path:\"get\",pathEq:\"matchesProperty\",pathOr:\"getOr\",paths:\"at\",pickAll:\"pick\",pipe:\"flow\",pluck:\"map\",prop:\"get\",propEq:\"matchesProperty\",propOr:\"getOr\",props:\"at\",symmetricDifference:\"xor\",symmetricDifferenceBy:\"xorBy\",symmetricDifferenceWith:\"xorWith\",takeLast:\"takeRight\",takeLastWhile:\"takeRightWhile\",unapply:\"rest\",unnest:\"flatten\",useWith:\"overArgs\",where:\"conformsTo\",whereEq:\"isMatch\",zipObj:\"zipObject\"},t.aryMethod={1:[\"assignAll\",\"assignInAll\",\"attempt\",\"castArray\",\"ceil\",\"create\",\"curry\",\"curryRight\",\"defaultsAll\",\"defaultsDeepAll\",\"floor\",\"flow\",\"flowRight\",\"fromPairs\",\"invert\",\"iteratee\",\"memoize\",\"method\",\"mergeAll\",\"methodOf\",\"mixin\",\"nthArg\",\"over\",\"overEvery\",\"overSome\",\"rest\",\"reverse\",\"round\",\"runInContext\",\"spread\",\"template\",\"trim\",\"trimEnd\",\"trimStart\",\"uniqueId\",\"words\",\"zipAll\"],2:[\"add\",\"after\",\"ary\",\"assign\",\"assignAllWith\",\"assignIn\",\"assignInAllWith\",\"at\",\"before\",\"bind\",\"bindAll\",\"bindKey\",\"chunk\",\"cloneDeepWith\",\"cloneWith\",\"concat\",\"conformsTo\",\"countBy\",\"curryN\",\"curryRightN\",\"debounce\",\"defaults\",\"defaultsDeep\",\"defaultTo\",\"delay\",\"difference\",\"divide\",\"drop\",\"dropRight\",\"dropRightWhile\",\"dropWhile\",\"endsWith\",\"eq\",\"every\",\"filter\",\"find\",\"findIndex\",\"findKey\",\"findLast\",\"findLastIndex\",\"findLastKey\",\"flatMap\",\"flatMapDeep\",\"flattenDepth\",\"forEach\",\"forEachRight\",\"forIn\",\"forInRight\",\"forOwn\",\"forOwnRight\",\"get\",\"groupBy\",\"gt\",\"gte\",\"has\",\"hasIn\",\"includes\",\"indexOf\",\"intersection\",\"invertBy\",\"invoke\",\"invokeMap\",\"isEqual\",\"isMatch\",\"join\",\"keyBy\",\"lastIndexOf\",\"lt\",\"lte\",\"map\",\"mapKeys\",\"mapValues\",\"matchesProperty\",\"maxBy\",\"meanBy\",\"merge\",\"mergeAllWith\",\"minBy\",\"multiply\",\"nth\",\"omit\",\"omitBy\",\"overArgs\",\"pad\",\"padEnd\",\"padStart\",\"parseInt\",\"partial\",\"partialRight\",\"partition\",\"pick\",\"pickBy\",\"propertyOf\",\"pull\",\"pullAll\",\"pullAt\",\"random\",\"range\",\"rangeRight\",\"rearg\",\"reject\",\"remove\",\"repeat\",\"restFrom\",\"result\",\"sampleSize\",\"some\",\"sortBy\",\"sortedIndex\",\"sortedIndexOf\",\"sortedLastIndex\",\"sortedLastIndexOf\",\"sortedUniqBy\",\"split\",\"spreadFrom\",\"startsWith\",\"subtract\",\"sumBy\",\"take\",\"takeRight\",\"takeRightWhile\",\"takeWhile\",\"tap\",\"throttle\",\"thru\",\"times\",\"trimChars\",\"trimCharsEnd\",\"trimCharsStart\",\"truncate\",\"union\",\"uniqBy\",\"uniqWith\",\"unset\",\"unzipWith\",\"without\",\"wrap\",\"xor\",\"zip\",\"zipObject\",\"zipObjectDeep\"],3:[\"assignInWith\",\"assignWith\",\"clamp\",\"differenceBy\",\"differenceWith\",\"findFrom\",\"findIndexFrom\",\"findLastFrom\",\"findLastIndexFrom\",\"getOr\",\"includesFrom\",\"indexOfFrom\",\"inRange\",\"intersectionBy\",\"intersectionWith\",\"invokeArgs\",\"invokeArgsMap\",\"isEqualWith\",\"isMatchWith\",\"flatMapDepth\",\"lastIndexOfFrom\",\"mergeWith\",\"orderBy\",\"padChars\",\"padCharsEnd\",\"padCharsStart\",\"pullAllBy\",\"pullAllWith\",\"rangeStep\",\"rangeStepRight\",\"reduce\",\"reduceRight\",\"replace\",\"set\",\"slice\",\"sortedIndexBy\",\"sortedLastIndexBy\",\"transform\",\"unionBy\",\"unionWith\",\"update\",\"xorBy\",\"xorWith\",\"zipWith\"],4:[\"fill\",\"setWith\",\"updateWith\"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,n=t.aliasToReal,r={};for(var o in n){var i=n[o];e.call(r,i)?r[i].push(o):r[i]=[o]}return r}(),t.remap={assignAll:\"assign\",assignAllWith:\"assignWith\",assignInAll:\"assignIn\",assignInAllWith:\"assignInWith\",curryN:\"curry\",curryRightN:\"curryRight\",defaultsAll:\"defaults\",defaultsDeepAll:\"defaultsDeep\",findFrom:\"find\",findIndexFrom:\"findIndex\",findLastFrom:\"findLast\",findLastIndexFrom:\"findLastIndex\",getOr:\"get\",includesFrom:\"includes\",indexOfFrom:\"indexOf\",invokeArgs:\"invoke\",invokeArgsMap:\"invokeMap\",lastIndexOfFrom:\"lastIndexOf\",mergeAll:\"merge\",mergeAllWith:\"mergeWith\",padChars:\"pad\",padCharsEnd:\"padEnd\",padCharsStart:\"padStart\",propertyOf:\"get\",rangeStep:\"range\",rangeStepRight:\"rangeRight\",restFrom:\"rest\",spreadFrom:\"spread\",trimChars:\"trim\",trimCharsEnd:\"trimEnd\",trimCharsStart:\"trimStart\",zipAll:\"zip\"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},3579:(e,t,n)=>{var r=n(3565),o=n(2991),i=Array.prototype.push;function a(e,t){return 2==t?function(t,n){return e(t,n)}:function(t){return e(t)}}function s(e){for(var t=e?e.length:0,n=Array(t);t--;)n[t]=e[t];return n}function c(e,t){return function(){var n=arguments.length;if(n){for(var r=Array(n);n--;)r[n]=arguments[n];var o=r[0]=t.apply(void 0,r);return e.apply(void 0,r),o}}}e.exports=function e(t,n,u,l){var d=\"function\"==typeof n,f=n===Object(n);if(f&&(l=u,u=n,n=void 0),null==u)throw new TypeError;l||(l={});var h={cap:!(\"cap\"in l)||l.cap,curry:!(\"curry\"in l)||l.curry,fixed:!(\"fixed\"in l)||l.fixed,immutable:!(\"immutable\"in l)||l.immutable,rearg:!(\"rearg\"in l)||l.rearg},p=d?u:o,g=\"curry\"in l&&l.curry,m=\"fixed\"in l&&l.fixed,y=\"rearg\"in l&&l.rearg,v=d?u.runInContext():void 0,w=d?u:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},A=w.ary,b=w.assign,S=w.clone,E=w.curry,x=w.forEach,T=w.isArray,k=w.isError,I=w.isFunction,_=w.isWeakMap,C=w.keys,R=w.rearg,P=w.toInteger,O=w.toPath,N=C(r.aryMethod),B={castArray:function(e){return function(){var t=arguments[0];return T(t)?e(s(t)):e.apply(void 0,arguments)}},iteratee:function(e){return function(){var t=arguments[1],n=e(arguments[0],t),r=n.length;return h.cap&&\"number\"==typeof t?(t=t>2?t-2:1,r&&r<=t?n:a(n,t)):n}},mixin:function(e){return function(t){var n=this;if(!I(n))return e(n,Object(t));var r=[];return x(C(t),(function(e){I(t[e])&&r.push([e,n.prototype[e]])})),e(n,Object(t)),x(r,(function(e){var t=e[1];I(t)?n.prototype[e[0]]=t:delete n.prototype[e[0]]})),n}},nthArg:function(e){return function(t){var n=t<0?1:P(t)+1;return E(e(t),n)}},rearg:function(e){return function(t,n){var r=n?n.length:0;return E(e(t,n),r)}},runInContext:function(n){return function(r){return e(t,n(r),l)}}};function z(e,t){if(h.cap){var n=r.iterateeRearg[e];if(n)return function(e,t){return L(e,(function(e){var n=t.length;return function(e,t){return 2==t?function(t,n){return e.apply(void 0,arguments)}:function(t){return e.apply(void 0,arguments)}}(R(a(e,n),t),n)}))}(t,n);var o=!d&&r.iterateeAry[e];if(o)return function(e,t){return L(e,(function(e){return\"function\"==typeof e?a(e,t):e}))}(t,o)}return t}function M(e,t,n){if(h.fixed&&(m||!r.skipFixed[e])){var o=r.methodSpread[e],a=o&&o.start;return void 0===a?A(t,n):function(e,t){return function(){for(var n=arguments.length,r=n-1,o=Array(n);n--;)o[n]=arguments[n];var a=o[t],s=o.slice(0,t);return a&&i.apply(s,a),t!=r&&i.apply(s,o.slice(t+1)),e.apply(this,s)}}(t,a)}return t}function j(e,t,n){return h.rearg&&n>1&&(y||!r.skipRearg[e])?R(t,r.methodRearg[e]||r.aryRearg[n]):t}function U(e,t){for(var n=-1,r=(t=O(t)).length,o=r-1,i=S(Object(e)),a=i;null!=a&&++n<r;){var s=t[n],c=a[s];null==c||I(c)||k(c)||_(c)||(a[s]=S(n==o?c:Object(c))),a=a[s]}return i}function D(t,n){var o=r.aliasToReal[t]||t,i=r.remap[o]||o,a=l;return function(t){var r=d?v:w,s=d?v[i]:n,c=b(b({},a),t);return e(r,o,s,c)}}function L(e,t){return function(){var n=arguments.length;if(!n)return e();for(var r=Array(n);n--;)r[n]=arguments[n];var o=h.rearg?0:n-1;return r[o]=t(r[o]),e.apply(void 0,r)}}function $(e,t,n){var o,i=r.aliasToReal[e]||e,a=t,u=B[i];return u?a=u(t):h.immutable&&(r.mutate.array[i]?a=c(t,s):r.mutate.object[i]?a=c(t,function(e){return function(t){return e({},t)}}(t)):r.mutate.set[i]&&(a=c(t,U))),x(N,(function(e){return x(r.aryMethod[e],(function(t){if(i==t){var n=r.methodSpread[i],s=n&&n.afterRearg;return o=s?M(i,j(i,a,e),e):j(i,M(i,a,e),e),o=function(e,t,n){return g||h.curry&&n>1?E(t,n):t}(0,o=z(i,o),e),!1}})),!o})),o||(o=a),o==t&&(o=g?E(o,1):function(){return t.apply(this,arguments)}),o.convert=D(i,t),o.placeholder=t.placeholder=n,o}if(!f)return $(n,u,p);var F=u,q=[];return x(N,(function(e){x(r.aryMethod[e],(function(e){var t=F[r.remap[e]||e];t&&q.push([e,$(e,t,F)])}))})),x(C(F),(function(e){var t=F[e];if(\"function\"==typeof t){for(var n=q.length;n--;)if(q[n][0]==e)return;t.convert=D(e,t),q.push([e,t])}})),x(q,(function(e){F[e[0]]=e[1]})),F.convert=function(e){return F.runInContext.convert(e)(void 0)},F.placeholder=F,x(C(F),(function(e){x(r.realToAlias[e]||[],(function(t){F[t]=F[e]}))})),F}},3636:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},3650:(e,t,n)=>{var r=n(8244),o=n(5832),i=n(5288);e.exports=function(e){return r(e,i,o)}},3655:(e,t,n)=>{var r=n(7379),o=n(1580);e.exports=function(e){if(!o(e))return!1;var t=r(e);return\"[object Function]\"==t||\"[object GeneratorFunction]\"==t||\"[object AsyncFunction]\"==t||\"[object Proxy]\"==t}},3766:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},3804:(e,t,n)=>{e.exports=n(3092)},3816:e=>{e.exports=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}},3904:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},3934:(e,t,n)=>{var r=n(3212),o=n(6465),i=n(5568);e.exports=function(e,t,n,a,s,c){var u=1&n,l=e.length,d=t.length;if(l!=d&&!(u&&d>l))return!1;var f=c.get(e),h=c.get(t);if(f&&h)return f==t&&h==e;var p=-1,g=!0,m=2&n?new r:void 0;for(c.set(e,t),c.set(t,e);++p<l;){var y=e[p],v=t[p];if(a)var w=u?a(v,y,p,t,e,c):a(y,v,p,e,t,c);if(void 0!==w){if(w)continue;g=!1;break}if(m){if(!o(t,(function(e,t){if(!i(m,t)&&(y===e||s(y,e,n,a,c)))return m.push(t)}))){g=!1;break}}else if(y!==v&&!s(y,v,n,a,c)){g=!1;break}}return c.delete(e),c.delete(t),g}},3943:(e,t,n)=>{var r=n(1935),o=n(9460),i=n(2306),a=i&&i.isSet,s=a?o(a):r;e.exports=s},3964:(e,t,n)=>{var r=n(7034);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},4066:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+\"\"}catch(e){}}return\"\"}},4103:(e,t,n)=>{var r=n(1386);e.exports=function(){this.__data__=new r,this.size=0}},4162:e=>{e.exports=function(e){return this.__data__.get(e)}},4216:(e,t,n)=>{var r=n(6648),o=n(5512),i=n(5620);e.exports=function(e,t,n,a,s,c,u,l,d,f){var h=8&t;t|=h?32:64,4&(t&=~(h?64:32))||(t&=-4);var p=[e,t,s,h?c:void 0,h?u:void 0,h?void 0:c,h?void 0:u,l,d,f],g=n.apply(void 0,p);return r(e)&&o(g,p),g.placeholder=a,i(g,e,t)}},4255:(e,t,n)=>{var r=n(2673)(\"debounce\",n(2784));r.placeholder=n(2991),e.exports=r},4354:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},4364:(e,t,n)=>{var r=n(9747),o=n(1580);e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=r(e.prototype),i=e.apply(n,t);return o(i)?i:n}}},4367:(e,t,n)=>{var r=n(7267),o=n(1211);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,r(a)]}return t}},4495:(e,t,n)=>{var r=n(8942);e.exports=function(){return r.Date.now()}},4497:(e,t,n)=>{var r=n(4715)(Object,\"create\");e.exports=r},4512:(e,t,n)=>{var r=n(4715)(n(8942),\"Set\");e.exports=r},4687:(e,t,n)=>{var r=n(353),o=n(547);e.exports=function e(t,n,i,a,s){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,i,a,e,s))}},4700:(e,t,n)=>{var r=n(9067);e.exports=function(e,t){var n=e.__data__;return r(t)?n[\"string\"==typeof t?\"string\":\"hash\"]:n.map}},4715:(e,t,n)=>{var r=n(9624),o=n(155);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},4732:(e,t,n)=>{var r=n(4700);e.exports=function(e){return r(this,e).has(e)}},4733:(e,t,n)=>{var r=n(9032),o=n(5832);e.exports=function(e,t){return r(e,o(e),t)}},4759:(e,t,n)=>{var r,o=n(1950),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||\"\"))?\"Symbol(src)_1.\"+r:\"\";e.exports=function(e){return!!i&&i in e}},4772:e=>{e.exports=function(){return!1}},4784:(e,t,n)=>{var r=n(3766)(Object.getPrototypeOf,Object);e.exports=r},4882:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===(\"function\"==typeof n&&n.prototype||t)}},4943:(e,t,n)=>{var r=n(2053),o=n(6065),i=o?function(e,t){return o.set(e,t),e}:r;e.exports=i},4967:(e,t,n)=>{var r=\"object\"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},4977:e=>{var t=Math.max;e.exports=function(e,n,r,o){for(var i=-1,a=e.length,s=r.length,c=-1,u=n.length,l=t(a-s,0),d=Array(u+l),f=!o;++c<u;)d[c]=n[c];for(;++i<s;)(f||i<a)&&(d[r[i]]=e[i]);for(;l--;)d[c++]=e[i++];return d}},5071:(e,t,n)=>{var r=n(4497);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?\"__lodash_hash_undefined__\":t,this}},5098:(e,t,n)=>{var r=n(3305),o=n(9361),i=n(1112),a=n(5276),s=n(5071);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},5111:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},5187:(e,t,n)=>{var r=n(3142),o=n(1187),i=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,a=/^\\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!(\"number\"!=n&&\"symbol\"!=n&&\"boolean\"!=n&&null!=e&&!o(e))||(a.test(e)||!i.test(e)||null!=t&&e in Object(t))}},5196:(e,t,n)=>{var r=n(6065),o=n(9071),i=r?function(e){return r.get(e)}:o;e.exports=i},5234:(e,t,n)=>{var r=n(6912),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=o(i.length-t,0),c=Array(s);++a<s;)c[a]=i[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=i[a];return u[t]=n(c),r(e,this,u)}}},5243:(e,t,n)=>{var r=n(2291);e.exports=function(e){return null==e?\"\":r(e)}},5250:function(e,t,n){var r;e=n.nmd(e),function(){var o,i=\"Expected a function\",a=\"__lodash_hash_undefined__\",s=\"__lodash_placeholder__\",c=16,u=32,l=64,d=128,f=256,h=1/0,p=9007199254740991,g=NaN,m=4294967295,y=[[\"ary\",d],[\"bind\",1],[\"bindKey\",2],[\"curry\",8],[\"curryRight\",c],[\"flip\",512],[\"partial\",u],[\"partialRight\",l],[\"rearg\",f]],v=\"[object Arguments]\",w=\"[object Array]\",A=\"[object Boolean]\",b=\"[object Date]\",S=\"[object Error]\",E=\"[object Function]\",x=\"[object GeneratorFunction]\",T=\"[object Map]\",k=\"[object Number]\",I=\"[object Object]\",_=\"[object Promise]\",C=\"[object RegExp]\",R=\"[object Set]\",P=\"[object String]\",O=\"[object Symbol]\",N=\"[object WeakMap]\",B=\"[object ArrayBuffer]\",z=\"[object DataView]\",M=\"[object Float32Array]\",j=\"[object Float64Array]\",U=\"[object Int8Array]\",D=\"[object Int16Array]\",L=\"[object Int32Array]\",$=\"[object Uint8Array]\",F=\"[object Uint8ClampedArray]\",q=\"[object Uint16Array]\",W=\"[object Uint32Array]\",V=/\\b__p \\+= '';/g,K=/\\b(__p \\+=) '' \\+/g,G=/(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g,H=/&(?:amp|lt|gt|quot|#39);/g,J=/[&<>\"']/g,Z=RegExp(H.source),Y=RegExp(J.source),X=/<%-([\\s\\S]+?)%>/g,Q=/<%([\\s\\S]+?)%>/g,ee=/<%=([\\s\\S]+?)%>/g,te=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,ne=/^\\w*$/,re=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,oe=/[\\\\^$.*+?()[\\]{}|]/g,ie=RegExp(oe.source),ae=/^\\s+/,se=/\\s/,ce=/\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,ue=/\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,le=/,? & /,de=/[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g,fe=/[()=,{}\\[\\]\\/\\s]/,he=/\\\\(\\\\)?/g,pe=/\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g,ge=/\\w*$/,me=/^[-+]0x[0-9a-f]+$/i,ye=/^0b[01]+$/i,ve=/^\\[object .+?Constructor\\]$/,we=/^0o[0-7]+$/i,Ae=/^(?:0|[1-9]\\d*)$/,be=/[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g,Se=/($^)/,Ee=/['\\n\\r\\u2028\\u2029\\\\]/g,xe=\"\\\\ud800-\\\\udfff\",Te=\"\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff\",ke=\"\\\\u2700-\\\\u27bf\",Ie=\"a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff\",_e=\"A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde\",Ce=\"\\\\ufe0e\\\\ufe0f\",Re=\"\\\\xac\\\\xb1\\\\xd7\\\\xf7\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf\\\\u2000-\\\\u206f \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\",Pe=\"['’]\",Oe=\"[\"+xe+\"]\",Ne=\"[\"+Re+\"]\",Be=\"[\"+Te+\"]\",ze=\"\\\\d+\",Me=\"[\"+ke+\"]\",je=\"[\"+Ie+\"]\",Ue=\"[^\"+xe+Re+ze+ke+Ie+_e+\"]\",De=\"\\\\ud83c[\\\\udffb-\\\\udfff]\",Le=\"[^\"+xe+\"]\",$e=\"(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}\",Fe=\"[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]\",qe=\"[\"+_e+\"]\",We=\"\\\\u200d\",Ve=\"(?:\"+je+\"|\"+Ue+\")\",Ke=\"(?:\"+qe+\"|\"+Ue+\")\",Ge=\"(?:['’](?:d|ll|m|re|s|t|ve))?\",He=\"(?:['’](?:D|LL|M|RE|S|T|VE))?\",Je=\"(?:\"+Be+\"|\"+De+\")\"+\"?\",Ze=\"[\"+Ce+\"]?\",Ye=Ze+Je+(\"(?:\"+We+\"(?:\"+[Le,$e,Fe].join(\"|\")+\")\"+Ze+Je+\")*\"),Xe=\"(?:\"+[Me,$e,Fe].join(\"|\")+\")\"+Ye,Qe=\"(?:\"+[Le+Be+\"?\",Be,$e,Fe,Oe].join(\"|\")+\")\",et=RegExp(Pe,\"g\"),tt=RegExp(Be,\"g\"),nt=RegExp(De+\"(?=\"+De+\")|\"+Qe+Ye,\"g\"),rt=RegExp([qe+\"?\"+je+\"+\"+Ge+\"(?=\"+[Ne,qe,\"$\"].join(\"|\")+\")\",Ke+\"+\"+He+\"(?=\"+[Ne,qe+Ve,\"$\"].join(\"|\")+\")\",qe+\"?\"+Ve+\"+\"+Ge,qe+\"+\"+He,\"\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])\",\"\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])\",ze,Xe].join(\"|\"),\"g\"),ot=RegExp(\"[\"+We+xe+Te+Ce+\"]\"),it=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,at=[\"Array\",\"Buffer\",\"DataView\",\"Date\",\"Error\",\"Float32Array\",\"Float64Array\",\"Function\",\"Int8Array\",\"Int16Array\",\"Int32Array\",\"Map\",\"Math\",\"Object\",\"Promise\",\"RegExp\",\"Set\",\"String\",\"Symbol\",\"TypeError\",\"Uint8Array\",\"Uint8ClampedArray\",\"Uint16Array\",\"Uint32Array\",\"WeakMap\",\"_\",\"clearTimeout\",\"isFinite\",\"parseInt\",\"setTimeout\"],st=-1,ct={};ct[M]=ct[j]=ct[U]=ct[D]=ct[L]=ct[$]=ct[F]=ct[q]=ct[W]=!0,ct[v]=ct[w]=ct[B]=ct[A]=ct[z]=ct[b]=ct[S]=ct[E]=ct[T]=ct[k]=ct[I]=ct[C]=ct[R]=ct[P]=ct[N]=!1;var ut={};ut[v]=ut[w]=ut[B]=ut[z]=ut[A]=ut[b]=ut[M]=ut[j]=ut[U]=ut[D]=ut[L]=ut[T]=ut[k]=ut[I]=ut[C]=ut[R]=ut[P]=ut[O]=ut[$]=ut[F]=ut[q]=ut[W]=!0,ut[S]=ut[E]=ut[N]=!1;var lt={\"\\\\\":\"\\\\\",\"'\":\"'\",\"\\n\":\"n\",\"\\r\":\"r\",\"\\u2028\":\"u2028\",\"\\u2029\":\"u2029\"},dt=parseFloat,ft=parseInt,ht=\"object\"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,pt=\"object\"==typeof self&&self&&self.Object===Object&&self,gt=ht||pt||Function(\"return this\")(),mt=t&&!t.nodeType&&t,yt=mt&&e&&!e.nodeType&&e,vt=yt&&yt.exports===mt,wt=vt&&ht.process,At=function(){try{var e=yt&&yt.require&&yt.require(\"util\").types;return e||wt&&wt.binding&&wt.binding(\"util\")}catch(e){}}(),bt=At&&At.isArrayBuffer,St=At&&At.isDate,Et=At&&At.isMap,xt=At&&At.isRegExp,Tt=At&&At.isSet,kt=At&&At.isTypedArray;function It(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function _t(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function Ct(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Rt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Pt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Ot(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function Nt(e,t){return!!(null==e?0:e.length)&&qt(e,t,0)>-1}function Bt(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function zt(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function Mt(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function jt(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function Ut(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function Dt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Lt=Gt(\"length\");function $t(e,t,n){var r;return n(e,(function(e,n,o){if(t(e,n,o))return r=n,!1})),r}function Ft(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function qt(e,t,n){return t==t?function(e,t,n){var r=n-1,o=e.length;for(;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):Ft(e,Vt,n)}function Wt(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function Vt(e){return e!=e}function Kt(e,t){var n=null==e?0:e.length;return n?Zt(e,t)/n:g}function Gt(e){return function(t){return null==t?o:t[e]}}function Ht(e){return function(t){return null==e?o:e[t]}}function Jt(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}function Zt(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);a!==o&&(n=n===o?a:n+a)}return n}function Yt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Xt(e){return e?e.slice(0,mn(e)+1).replace(ae,\"\"):e}function Qt(e){return function(t){return e(t)}}function en(e,t){return zt(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,r=e.length;++n<r&&qt(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&qt(t,e[n],0)>-1;);return n}var on=Ht({À:\"A\",Á:\"A\",Â:\"A\",Ã:\"A\",Ä:\"A\",Å:\"A\",à:\"a\",á:\"a\",â:\"a\",ã:\"a\",ä:\"a\",å:\"a\",Ç:\"C\",ç:\"c\",Ð:\"D\",ð:\"d\",È:\"E\",É:\"E\",Ê:\"E\",Ë:\"E\",è:\"e\",é:\"e\",ê:\"e\",ë:\"e\",Ì:\"I\",Í:\"I\",Î:\"I\",Ï:\"I\",ì:\"i\",í:\"i\",î:\"i\",ï:\"i\",Ñ:\"N\",ñ:\"n\",Ò:\"O\",Ó:\"O\",Ô:\"O\",Õ:\"O\",Ö:\"O\",Ø:\"O\",ò:\"o\",ó:\"o\",ô:\"o\",õ:\"o\",ö:\"o\",ø:\"o\",Ù:\"U\",Ú:\"U\",Û:\"U\",Ü:\"U\",ù:\"u\",ú:\"u\",û:\"u\",ü:\"u\",Ý:\"Y\",ý:\"y\",ÿ:\"y\",Æ:\"Ae\",æ:\"ae\",Þ:\"Th\",þ:\"th\",ß:\"ss\",Ā:\"A\",Ă:\"A\",Ą:\"A\",ā:\"a\",ă:\"a\",ą:\"a\",Ć:\"C\",Ĉ:\"C\",Ċ:\"C\",Č:\"C\",ć:\"c\",ĉ:\"c\",ċ:\"c\",č:\"c\",Ď:\"D\",Đ:\"D\",ď:\"d\",đ:\"d\",Ē:\"E\",Ĕ:\"E\",Ė:\"E\",Ę:\"E\",Ě:\"E\",ē:\"e\",ĕ:\"e\",ė:\"e\",ę:\"e\",ě:\"e\",Ĝ:\"G\",Ğ:\"G\",Ġ:\"G\",Ģ:\"G\",ĝ:\"g\",ğ:\"g\",ġ:\"g\",ģ:\"g\",Ĥ:\"H\",Ħ:\"H\",ĥ:\"h\",ħ:\"h\",Ĩ:\"I\",Ī:\"I\",Ĭ:\"I\",Į:\"I\",İ:\"I\",ĩ:\"i\",ī:\"i\",ĭ:\"i\",į:\"i\",ı:\"i\",Ĵ:\"J\",ĵ:\"j\",Ķ:\"K\",ķ:\"k\",ĸ:\"k\",Ĺ:\"L\",Ļ:\"L\",Ľ:\"L\",Ŀ:\"L\",Ł:\"L\",ĺ:\"l\",ļ:\"l\",ľ:\"l\",ŀ:\"l\",ł:\"l\",Ń:\"N\",Ņ:\"N\",Ň:\"N\",Ŋ:\"N\",ń:\"n\",ņ:\"n\",ň:\"n\",ŋ:\"n\",Ō:\"O\",Ŏ:\"O\",Ő:\"O\",ō:\"o\",ŏ:\"o\",ő:\"o\",Ŕ:\"R\",Ŗ:\"R\",Ř:\"R\",ŕ:\"r\",ŗ:\"r\",ř:\"r\",Ś:\"S\",Ŝ:\"S\",Ş:\"S\",Š:\"S\",ś:\"s\",ŝ:\"s\",ş:\"s\",š:\"s\",Ţ:\"T\",Ť:\"T\",Ŧ:\"T\",ţ:\"t\",ť:\"t\",ŧ:\"t\",Ũ:\"U\",Ū:\"U\",Ŭ:\"U\",Ů:\"U\",Ű:\"U\",Ų:\"U\",ũ:\"u\",ū:\"u\",ŭ:\"u\",ů:\"u\",ű:\"u\",ų:\"u\",Ŵ:\"W\",ŵ:\"w\",Ŷ:\"Y\",ŷ:\"y\",Ÿ:\"Y\",Ź:\"Z\",Ż:\"Z\",Ž:\"Z\",ź:\"z\",ż:\"z\",ž:\"z\",Ĳ:\"IJ\",ĳ:\"ij\",Œ:\"Oe\",œ:\"oe\",ŉ:\"'n\",ſ:\"s\"}),an=Ht({\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\"});function sn(e){return\"\\\\\"+lt[e]}function cn(e){return ot.test(e)}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function ln(e,t){return function(n){return e(t(n))}}function dn(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];a!==t&&a!==s||(e[n]=s,i[o++]=n)}return i}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return cn(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):Lt(e)}function gn(e){return cn(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split(\"\")}(e)}function mn(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var yn=Ht({\"&amp;\":\"&\",\"&lt;\":\"<\",\"&gt;\":\">\",\"&quot;\":'\"',\"&#39;\":\"'\"});var vn=function e(t){var n,r=(t=null==t?gt:vn.defaults(gt.Object(),t,vn.pick(gt,at))).Array,se=t.Date,xe=t.Error,Te=t.Function,ke=t.Math,Ie=t.Object,_e=t.RegExp,Ce=t.String,Re=t.TypeError,Pe=r.prototype,Oe=Te.prototype,Ne=Ie.prototype,Be=t[\"__core-js_shared__\"],ze=Oe.toString,Me=Ne.hasOwnProperty,je=0,Ue=(n=/[^.]+$/.exec(Be&&Be.keys&&Be.keys.IE_PROTO||\"\"))?\"Symbol(src)_1.\"+n:\"\",De=Ne.toString,Le=ze.call(Ie),$e=gt._,Fe=_e(\"^\"+ze.call(Me).replace(oe,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),qe=vt?t.Buffer:o,We=t.Symbol,Ve=t.Uint8Array,Ke=qe?qe.allocUnsafe:o,Ge=ln(Ie.getPrototypeOf,Ie),He=Ie.create,Je=Ne.propertyIsEnumerable,Ze=Pe.splice,Ye=We?We.isConcatSpreadable:o,Xe=We?We.iterator:o,Qe=We?We.toStringTag:o,nt=function(){try{var e=hi(Ie,\"defineProperty\");return e({},\"\",{}),e}catch(e){}}(),ot=t.clearTimeout!==gt.clearTimeout&&t.clearTimeout,lt=se&&se.now!==gt.Date.now&&se.now,ht=t.setTimeout!==gt.setTimeout&&t.setTimeout,pt=ke.ceil,mt=ke.floor,yt=Ie.getOwnPropertySymbols,wt=qe?qe.isBuffer:o,At=t.isFinite,Lt=Pe.join,Ht=ln(Ie.keys,Ie),wn=ke.max,An=ke.min,bn=se.now,Sn=t.parseInt,En=ke.random,xn=Pe.reverse,Tn=hi(t,\"DataView\"),kn=hi(t,\"Map\"),In=hi(t,\"Promise\"),_n=hi(t,\"Set\"),Cn=hi(t,\"WeakMap\"),Rn=hi(Ie,\"create\"),Pn=Cn&&new Cn,On={},Nn=Di(Tn),Bn=Di(kn),zn=Di(In),Mn=Di(_n),jn=Di(Cn),Un=We?We.prototype:o,Dn=Un?Un.valueOf:o,Ln=Un?Un.toString:o;function $n(e){if(ns(e)&&!Va(e)&&!(e instanceof Vn)){if(e instanceof Wn)return e;if(Me.call(e,\"__wrapped__\"))return Li(e)}return new Wn(e)}var Fn=function(){function e(){}return function(t){if(!ts(t))return{};if(He)return He(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function qn(){}function Wn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function Vn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Jn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Hn;++t<n;)this.add(e[t])}function Zn(e){var t=this.__data__=new Gn(e);this.size=t.size}function Yn(e,t){var n=Va(e),r=!n&&Wa(e),o=!n&&!r&&Ja(e),i=!n&&!r&&!o&&ls(e),a=n||r||o||i,s=a?Yt(e.length,Ce):[],c=s.length;for(var u in e)!t&&!Me.call(e,u)||a&&(\"length\"==u||o&&(\"offset\"==u||\"parent\"==u)||i&&(\"buffer\"==u||\"byteLength\"==u||\"byteOffset\"==u)||Ai(u,c))||s.push(u);return s}function Xn(e){var t=e.length;return t?e[Jr(0,t-1)]:o}function Qn(e,t){return Mi(Po(e),cr(t,0,e.length))}function er(e){return Mi(Po(e))}function tr(e,t,n){(n!==o&&!$a(e[t],n)||n===o&&!(t in e))&&ar(e,t,n)}function nr(e,t,n){var r=e[t];Me.call(e,t)&&$a(r,n)&&(n!==o||t in e)||ar(e,t,n)}function rr(e,t){for(var n=e.length;n--;)if($a(e[n][0],t))return n;return-1}function or(e,t,n,r){return hr(e,(function(e,o,i){t(r,e,n(e),i)})),r}function ir(e,t){return e&&Oo(t,Os(t),e)}function ar(e,t,n){\"__proto__\"==t&&nt?nt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function sr(e,t){for(var n=-1,i=t.length,a=r(i),s=null==e;++n<i;)a[n]=s?o:Is(e,t[n]);return a}function cr(e,t,n){return e==e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function ur(e,t,n,r,i,a){var s,c=1&t,u=2&t,l=4&t;if(n&&(s=i?n(e,r,i,a):n(e)),s!==o)return s;if(!ts(e))return e;var d=Va(e);if(d){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&\"string\"==typeof e[0]&&Me.call(e,\"index\")&&(n.index=e.index,n.input=e.input);return n}(e),!c)return Po(e,s)}else{var f=mi(e),h=f==E||f==x;if(Ja(e))return To(e,c);if(f==I||f==v||h&&!i){if(s=u||h?{}:vi(e),!c)return u?function(e,t){return Oo(e,gi(e),t)}(e,function(e,t){return e&&Oo(t,Ns(t),e)}(s,e)):function(e,t){return Oo(e,pi(e),t)}(e,ir(s,e))}else{if(!ut[f])return i?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case B:return ko(e);case A:case b:return new r(+e);case z:return function(e,t){var n=t?ko(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case M:case j:case U:case D:case L:case $:case F:case q:case W:return Io(e,n);case T:return new r;case k:case P:return new r(e);case C:return function(e){var t=new e.constructor(e.source,ge.exec(e));return t.lastIndex=e.lastIndex,t}(e);case R:return new r;case O:return o=e,Dn?Ie(Dn.call(o)):{}}var o}(e,f,c)}}a||(a=new Zn);var p=a.get(e);if(p)return p;a.set(e,s),ss(e)?e.forEach((function(r){s.add(ur(r,t,n,r,e,a))})):rs(e)&&e.forEach((function(r,o){s.set(o,ur(r,t,n,o,e,a))}));var g=d?o:(l?u?ai:ii:u?Ns:Os)(e);return Ct(g||e,(function(r,o){g&&(r=e[o=r]),nr(s,o,ur(r,t,n,o,e,a))})),s}function lr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ie(e);r--;){var i=n[r],a=t[i],s=e[i];if(s===o&&!(i in e)||!a(s))return!1}return!0}function dr(e,t,n){if(\"function\"!=typeof e)throw new Re(i);return Oi((function(){e.apply(o,n)}),t)}function fr(e,t,n,r){var o=-1,i=Nt,a=!0,s=e.length,c=[],u=t.length;if(!s)return c;n&&(t=zt(t,Qt(n))),r?(i=Bt,a=!1):t.length>=200&&(i=tn,a=!1,t=new Jn(t));e:for(;++o<s;){var l=e[o],d=null==n?l:n(l);if(l=r||0!==l?l:0,a&&d==d){for(var f=u;f--;)if(t[f]===d)continue e;c.push(l)}else i(t,d,r)||c.push(l)}return c}$n.templateSettings={escape:X,evaluate:Q,interpolate:ee,variable:\"\",imports:{_:$n}},$n.prototype=qn.prototype,$n.prototype.constructor=$n,Wn.prototype=Fn(qn.prototype),Wn.prototype.constructor=Wn,Vn.prototype=Fn(qn.prototype),Vn.prototype.constructor=Vn,Kn.prototype.clear=function(){this.__data__=Rn?Rn(null):{},this.size=0},Kn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Kn.prototype.get=function(e){var t=this.__data__;if(Rn){var n=t[e];return n===a?o:n}return Me.call(t,e)?t[e]:o},Kn.prototype.has=function(e){var t=this.__data__;return Rn?t[e]!==o:Me.call(t,e)},Kn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Rn&&t===o?a:t,this},Gn.prototype.clear=function(){this.__data__=[],this.size=0},Gn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ze.call(t,n,1),--this.size,!0)},Gn.prototype.get=function(e){var t=this.__data__,n=rr(t,e);return n<0?o:t[n][1]},Gn.prototype.has=function(e){return rr(this.__data__,e)>-1},Gn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Hn.prototype.clear=function(){this.size=0,this.__data__={hash:new Kn,map:new(kn||Gn),string:new Kn}},Hn.prototype.delete=function(e){var t=di(this,e).delete(e);return this.size-=t?1:0,t},Hn.prototype.get=function(e){return di(this,e).get(e)},Hn.prototype.has=function(e){return di(this,e).has(e)},Hn.prototype.set=function(e,t){var n=di(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Jn.prototype.add=Jn.prototype.push=function(e){return this.__data__.set(e,a),this},Jn.prototype.has=function(e){return this.__data__.has(e)},Zn.prototype.clear=function(){this.__data__=new Gn,this.size=0},Zn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Zn.prototype.get=function(e){return this.__data__.get(e)},Zn.prototype.has=function(e){return this.__data__.has(e)},Zn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Gn){var r=n.__data__;if(!kn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Hn(r)}return n.set(e,t),this.size=n.size,this};var hr=zo(br),pr=zo(Sr,!0);function gr(e,t){var n=!0;return hr(e,(function(e,r,o){return n=!!t(e,r,o)})),n}function mr(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],s=t(a);if(null!=s&&(c===o?s==s&&!us(s):n(s,c)))var c=s,u=a}return u}function yr(e,t){var n=[];return hr(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}function vr(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=wi),o||(o=[]);++i<a;){var s=e[i];t>0&&n(s)?t>1?vr(s,t-1,n,r,o):Mt(o,s):r||(o[o.length]=s)}return o}var wr=Mo(),Ar=Mo(!0);function br(e,t){return e&&wr(e,t,Os)}function Sr(e,t){return e&&Ar(e,t,Os)}function Er(e,t){return Ot(t,(function(t){return Xa(e[t])}))}function xr(e,t){for(var n=0,r=(t=bo(t,e)).length;null!=e&&n<r;)e=e[Ui(t[n++])];return n&&n==r?e:o}function Tr(e,t,n){var r=t(e);return Va(e)?r:Mt(r,n(e))}function kr(e){return null==e?e===o?\"[object Undefined]\":\"[object Null]\":Qe&&Qe in Ie(e)?function(e){var t=Me.call(e,Qe),n=e[Qe];try{e[Qe]=o;var r=!0}catch(e){}var i=De.call(e);r&&(t?e[Qe]=n:delete e[Qe]);return i}(e):function(e){return De.call(e)}(e)}function Ir(e,t){return e>t}function _r(e,t){return null!=e&&Me.call(e,t)}function Cr(e,t){return null!=e&&t in Ie(e)}function Rr(e,t,n){for(var i=n?Bt:Nt,a=e[0].length,s=e.length,c=s,u=r(s),l=1/0,d=[];c--;){var f=e[c];c&&t&&(f=zt(f,Qt(t))),l=An(f.length,l),u[c]=!n&&(t||a>=120&&f.length>=120)?new Jn(c&&f):o}f=e[0];var h=-1,p=u[0];e:for(;++h<a&&d.length<l;){var g=f[h],m=t?t(g):g;if(g=n||0!==g?g:0,!(p?tn(p,m):i(d,m,n))){for(c=s;--c;){var y=u[c];if(!(y?tn(y,m):i(e[c],m,n)))continue e}p&&p.push(m),d.push(g)}}return d}function Pr(e,t,n){var r=null==(e=Ci(e,t=bo(t,e)))?e:e[Ui(Yi(t))];return null==r?o:It(r,e,n)}function Or(e){return ns(e)&&kr(e)==v}function Nr(e,t,n,r,i){return e===t||(null==e||null==t||!ns(e)&&!ns(t)?e!=e&&t!=t:function(e,t,n,r,i,a){var s=Va(e),c=Va(t),u=s?w:mi(e),l=c?w:mi(t),d=(u=u==v?I:u)==I,f=(l=l==v?I:l)==I,h=u==l;if(h&&Ja(e)){if(!Ja(t))return!1;s=!0,d=!1}if(h&&!d)return a||(a=new Zn),s||ls(e)?ri(e,t,n,r,i,a):function(e,t,n,r,o,i,a){switch(n){case z:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case B:return!(e.byteLength!=t.byteLength||!i(new Ve(e),new Ve(t)));case A:case b:case k:return $a(+e,+t);case S:return e.name==t.name&&e.message==t.message;case C:case P:return e==t+\"\";case T:var s=un;case R:var c=1&r;if(s||(s=fn),e.size!=t.size&&!c)return!1;var u=a.get(e);if(u)return u==t;r|=2,a.set(e,t);var l=ri(s(e),s(t),r,o,i,a);return a.delete(e),l;case O:if(Dn)return Dn.call(e)==Dn.call(t)}return!1}(e,t,u,n,r,i,a);if(!(1&n)){var p=d&&Me.call(e,\"__wrapped__\"),g=f&&Me.call(t,\"__wrapped__\");if(p||g){var m=p?e.value():e,y=g?t.value():t;return a||(a=new Zn),i(m,y,n,r,a)}}if(!h)return!1;return a||(a=new Zn),function(e,t,n,r,i,a){var s=1&n,c=ii(e),u=c.length,l=ii(t),d=l.length;if(u!=d&&!s)return!1;var f=u;for(;f--;){var h=c[f];if(!(s?h in t:Me.call(t,h)))return!1}var p=a.get(e),g=a.get(t);if(p&&g)return p==t&&g==e;var m=!0;a.set(e,t),a.set(t,e);var y=s;for(;++f<u;){var v=e[h=c[f]],w=t[h];if(r)var A=s?r(w,v,h,t,e,a):r(v,w,h,e,t,a);if(!(A===o?v===w||i(v,w,n,r,a):A)){m=!1;break}y||(y=\"constructor\"==h)}if(m&&!y){var b=e.constructor,S=t.constructor;b==S||!(\"constructor\"in e)||!(\"constructor\"in t)||\"function\"==typeof b&&b instanceof b&&\"function\"==typeof S&&S instanceof S||(m=!1)}return a.delete(e),a.delete(t),m}(e,t,n,r,i,a)}(e,t,n,r,Nr,i))}function Br(e,t,n,r){var i=n.length,a=i,s=!r;if(null==e)return!a;for(e=Ie(e);i--;){var c=n[i];if(s&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<a;){var u=(c=n[i])[0],l=e[u],d=c[1];if(s&&c[2]){if(l===o&&!(u in e))return!1}else{var f=new Zn;if(r)var h=r(l,d,u,e,t,f);if(!(h===o?Nr(d,l,3,r,f):h))return!1}}return!0}function zr(e){return!(!ts(e)||(t=e,Ue&&Ue in t))&&(Xa(e)?Fe:ve).test(Di(e));var t}function Mr(e){return\"function\"==typeof e?e:null==e?oc:\"object\"==typeof e?Va(e)?Fr(e[0],e[1]):$r(e):hc(e)}function jr(e){if(!Ti(e))return Ht(e);var t=[];for(var n in Ie(e))Me.call(e,n)&&\"constructor\"!=n&&t.push(n);return t}function Ur(e){if(!ts(e))return function(e){var t=[];if(null!=e)for(var n in Ie(e))t.push(n);return t}(e);var t=Ti(e),n=[];for(var r in e)(\"constructor\"!=r||!t&&Me.call(e,r))&&n.push(r);return n}function Dr(e,t){return e<t}function Lr(e,t){var n=-1,o=Ga(e)?r(e.length):[];return hr(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}function $r(e){var t=fi(e);return 1==t.length&&t[0][2]?Ii(t[0][0],t[0][1]):function(n){return n===e||Br(n,e,t)}}function Fr(e,t){return Si(e)&&ki(t)?Ii(Ui(e),t):function(n){var r=Is(n,e);return r===o&&r===t?_s(n,e):Nr(t,r,3)}}function qr(e,t,n,r,i){e!==t&&wr(t,(function(a,s){if(i||(i=new Zn),ts(a))!function(e,t,n,r,i,a,s){var c=Ri(e,n),u=Ri(t,n),l=s.get(u);if(l)return void tr(e,n,l);var d=a?a(c,u,n+\"\",e,t,s):o,f=d===o;if(f){var h=Va(u),p=!h&&Ja(u),g=!h&&!p&&ls(u);d=u,h||p||g?Va(c)?d=c:Ha(c)?d=Po(c):p?(f=!1,d=To(u,!0)):g?(f=!1,d=Io(u,!0)):d=[]:is(u)||Wa(u)?(d=c,Wa(c)?d=vs(c):ts(c)&&!Xa(c)||(d=vi(u))):f=!1}f&&(s.set(u,d),i(d,u,r,a,s),s.delete(u));tr(e,n,d)}(e,t,s,n,qr,r,i);else{var c=r?r(Ri(e,s),a,s+\"\",e,t,i):o;c===o&&(c=a),tr(e,s,c)}}),Ns)}function Wr(e,t){var n=e.length;if(n)return Ai(t+=t<0?n:0,n)?e[t]:o}function Vr(e,t,n){t=t.length?zt(t,(function(e){return Va(e)?function(t){return xr(t,1===e.length?e[0]:e)}:e})):[oc];var r=-1;t=zt(t,Qt(li()));var o=Lr(e,(function(e,n,o){var i=zt(t,(function(t){return t(e)}));return{criteria:i,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(o,(function(e,t){return function(e,t,n){var r=-1,o=e.criteria,i=t.criteria,a=o.length,s=n.length;for(;++r<a;){var c=_o(o[r],i[r]);if(c)return r>=s?c:c*(\"desc\"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Kr(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],s=xr(e,a);n(s,a)&&eo(i,bo(a,e),s)}return i}function Gr(e,t,n,r){var o=r?Wt:qt,i=-1,a=t.length,s=e;for(e===t&&(t=Po(t)),n&&(s=zt(e,Qt(n)));++i<a;)for(var c=0,u=t[i],l=n?n(u):u;(c=o(s,l,c,r))>-1;)s!==e&&Ze.call(s,c,1),Ze.call(e,c,1);return e}function Hr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;Ai(o)?Ze.call(e,o,1):ho(e,o)}}return e}function Jr(e,t){return e+mt(En()*(t-e+1))}function Zr(e,t){var n=\"\";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=mt(t/2))&&(e+=e)}while(t);return n}function Yr(e,t){return Ni(_i(e,t,oc),e+\"\")}function Xr(e){return Xn($s(e))}function Qr(e,t){var n=$s(e);return Mi(n,cr(t,0,n.length))}function eo(e,t,n,r){if(!ts(e))return e;for(var i=-1,a=(t=bo(t,e)).length,s=a-1,c=e;null!=c&&++i<a;){var u=Ui(t[i]),l=n;if(\"__proto__\"===u||\"constructor\"===u||\"prototype\"===u)return e;if(i!=s){var d=c[u];(l=r?r(d,u,c):o)===o&&(l=ts(d)?d:Ai(t[i+1])?[]:{})}nr(c,u,l),c=c[u]}return e}var to=Pn?function(e,t){return Pn.set(e,t),e}:oc,no=nt?function(e,t){return nt(e,\"toString\",{configurable:!0,enumerable:!1,value:tc(t),writable:!0})}:oc;function ro(e){return Mi($s(e))}function oo(e,t,n){var o=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=r(i);++o<i;)a[o]=e[o+t];return a}function io(e,t){var n;return hr(e,(function(e,r,o){return!(n=t(e,r,o))})),!!n}function ao(e,t,n){var r=0,o=null==e?r:e.length;if(\"number\"==typeof t&&t==t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,a=e[i];null!==a&&!us(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return so(e,t,oc,n)}function so(e,t,n,r){var i=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=n(t))!=t,c=null===t,u=us(t),l=t===o;i<a;){var d=mt((i+a)/2),f=n(e[d]),h=f!==o,p=null===f,g=f==f,m=us(f);if(s)var y=r||g;else y=l?g&&(r||h):c?g&&h&&(r||!p):u?g&&h&&!p&&(r||!m):!p&&!m&&(r?f<=t:f<t);y?i=d+1:a=d}return An(a,4294967294)}function co(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!$a(s,c)){var c=s;i[o++]=0===a?0:a}}return i}function uo(e){return\"number\"==typeof e?e:us(e)?g:+e}function lo(e){if(\"string\"==typeof e)return e;if(Va(e))return zt(e,lo)+\"\";if(us(e))return Ln?Ln.call(e):\"\";var t=e+\"\";return\"0\"==t&&1/e==-1/0?\"-0\":t}function fo(e,t,n){var r=-1,o=Nt,i=e.length,a=!0,s=[],c=s;if(n)a=!1,o=Bt;else if(i>=200){var u=t?null:Yo(e);if(u)return fn(u);a=!1,o=tn,c=new Jn}else c=t?[]:s;e:for(;++r<i;){var l=e[r],d=t?t(l):l;if(l=n||0!==l?l:0,a&&d==d){for(var f=c.length;f--;)if(c[f]===d)continue e;t&&c.push(d),s.push(l)}else o(c,d,n)||(c!==s&&c.push(d),s.push(l))}return s}function ho(e,t){return null==(e=Ci(e,t=bo(t,e)))||delete e[Ui(Yi(t))]}function po(e,t,n,r){return eo(e,t,n(xr(e,t)),r)}function go(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?oo(e,r?0:i,r?i+1:o):oo(e,r?i+1:0,r?o:i)}function mo(e,t){var n=e;return n instanceof Vn&&(n=n.value()),jt(t,(function(e,t){return t.func.apply(t.thisArg,Mt([e],t.args))}),n)}function yo(e,t,n){var o=e.length;if(o<2)return o?fo(e[0]):[];for(var i=-1,a=r(o);++i<o;)for(var s=e[i],c=-1;++c<o;)c!=i&&(a[i]=fr(a[i]||s,e[c],t,n));return fo(vr(a,1),t,n)}function vo(e,t,n){for(var r=-1,i=e.length,a=t.length,s={};++r<i;){var c=r<a?t[r]:o;n(s,e[r],c)}return s}function wo(e){return Ha(e)?e:[]}function Ao(e){return\"function\"==typeof e?e:oc}function bo(e,t){return Va(e)?e:Si(e,t)?[e]:ji(ws(e))}var So=Yr;function Eo(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:oo(e,t,n)}var xo=ot||function(e){return gt.clearTimeout(e)};function To(e,t){if(t)return e.slice();var n=e.length,r=Ke?Ke(n):new e.constructor(n);return e.copy(r),r}function ko(e){var t=new e.constructor(e.byteLength);return new Ve(t).set(new Ve(e)),t}function Io(e,t){var n=t?ko(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function _o(e,t){if(e!==t){var n=e!==o,r=null===e,i=e==e,a=us(e),s=t!==o,c=null===t,u=t==t,l=us(t);if(!c&&!l&&!a&&e>t||a&&s&&u&&!c&&!l||r&&s&&u||!n&&u||!i)return 1;if(!r&&!a&&!l&&e<t||l&&n&&i&&!r&&!a||c&&n&&i||!s&&i||!u)return-1}return 0}function Co(e,t,n,o){for(var i=-1,a=e.length,s=n.length,c=-1,u=t.length,l=wn(a-s,0),d=r(u+l),f=!o;++c<u;)d[c]=t[c];for(;++i<s;)(f||i<a)&&(d[n[i]]=e[i]);for(;l--;)d[c++]=e[i++];return d}function Ro(e,t,n,o){for(var i=-1,a=e.length,s=-1,c=n.length,u=-1,l=t.length,d=wn(a-c,0),f=r(d+l),h=!o;++i<d;)f[i]=e[i];for(var p=i;++u<l;)f[p+u]=t[u];for(;++s<c;)(h||i<a)&&(f[p+n[s]]=e[i++]);return f}function Po(e,t){var n=-1,o=e.length;for(t||(t=r(o));++n<o;)t[n]=e[n];return t}function Oo(e,t,n,r){var i=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var c=t[a],u=r?r(n[c],e[c],c,n,e):o;u===o&&(u=e[c]),i?ar(n,c,u):nr(n,c,u)}return n}function No(e,t){return function(n,r){var o=Va(n)?_t:or,i=t?t():{};return o(n,e,li(r,2),i)}}function Bo(e){return Yr((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,s=i>2?n[2]:o;for(a=e.length>3&&\"function\"==typeof a?(i--,a):o,s&&bi(n[0],n[1],s)&&(a=i<3?o:a,i=1),t=Ie(t);++r<i;){var c=n[r];c&&e(t,c,r,a)}return t}))}function zo(e,t){return function(n,r){if(null==n)return n;if(!Ga(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Ie(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function Mo(e){return function(t,n,r){for(var o=-1,i=Ie(t),a=r(t),s=a.length;s--;){var c=a[e?s:++o];if(!1===n(i[c],c,i))break}return t}}function jo(e){return function(t){var n=cn(t=ws(t))?gn(t):o,r=n?n[0]:t.charAt(0),i=n?Eo(n,1).join(\"\"):t.slice(1);return r[e]()+i}}function Uo(e){return function(t){return jt(Xs(Ws(t).replace(et,\"\")),e,\"\")}}function Do(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Fn(e.prototype),r=e.apply(n,t);return ts(r)?r:n}}function Lo(e){return function(t,n,r){var i=Ie(t);if(!Ga(t)){var a=li(n,3);t=Os(t),n=function(e){return a(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[a?t[s]:s]:o}}function $o(e){return oi((function(t){var n=t.length,r=n,a=Wn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if(\"function\"!=typeof s)throw new Re(i);if(a&&!c&&\"wrapper\"==ci(s))var c=new Wn([],!0)}for(r=c?r:n;++r<n;){var u=ci(s=t[r]),l=\"wrapper\"==u?si(s):o;c=l&&Ei(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?c[ci(l[0])].apply(c,l[3]):1==s.length&&Ei(s)?c[u]():c.thru(s)}return function(){var e=arguments,r=e[0];if(c&&1==e.length&&Va(r))return c.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}}))}function Fo(e,t,n,i,a,s,c,u,l,f){var h=t&d,p=1&t,g=2&t,m=24&t,y=512&t,v=g?o:Do(e);return function d(){for(var w=arguments.length,A=r(w),b=w;b--;)A[b]=arguments[b];if(m)var S=ui(d),E=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(A,S);if(i&&(A=Co(A,i,a,m)),s&&(A=Ro(A,s,c,m)),w-=E,m&&w<f){var x=dn(A,S);return Jo(e,t,Fo,d.placeholder,n,A,x,u,l,f-w)}var T=p?n:this,k=g?T[e]:e;return w=A.length,u?A=function(e,t){var n=e.length,r=An(t.length,n),i=Po(e);for(;r--;){var a=t[r];e[r]=Ai(a,n)?i[a]:o}return e}(A,u):y&&w>1&&A.reverse(),h&&l<w&&(A.length=l),this&&this!==gt&&this instanceof d&&(k=v||Do(k)),k.apply(T,A)}}function qo(e,t){return function(n,r){return function(e,t,n,r){return br(e,(function(e,o,i){t(r,n(e),o,i)})),r}(n,e,t(r),{})}}function Wo(e,t){return function(n,r){var i;if(n===o&&r===o)return t;if(n!==o&&(i=n),r!==o){if(i===o)return r;\"string\"==typeof n||\"string\"==typeof r?(n=lo(n),r=lo(r)):(n=uo(n),r=uo(r)),i=e(n,r)}return i}}function Vo(e){return oi((function(t){return t=zt(t,Qt(li())),Yr((function(n){var r=this;return e(t,(function(e){return It(e,r,n)}))}))}))}function Ko(e,t){var n=(t=t===o?\" \":lo(t)).length;if(n<2)return n?Zr(t,e):t;var r=Zr(t,pt(e/pn(t)));return cn(t)?Eo(gn(r),0,e).join(\"\"):r.slice(0,e)}function Go(e){return function(t,n,i){return i&&\"number\"!=typeof i&&bi(t,n,i)&&(n=i=o),t=ps(t),n===o?(n=t,t=0):n=ps(n),function(e,t,n,o){for(var i=-1,a=wn(pt((t-e)/(n||1)),0),s=r(a);a--;)s[o?a:++i]=e,e+=n;return s}(t,n,i=i===o?t<n?1:-1:ps(i),e)}}function Ho(e){return function(t,n){return\"string\"==typeof t&&\"string\"==typeof n||(t=ys(t),n=ys(n)),e(t,n)}}function Jo(e,t,n,r,i,a,s,c,d,f){var h=8&t;t|=h?u:l,4&(t&=~(h?l:u))||(t&=-4);var p=[e,t,i,h?a:o,h?s:o,h?o:a,h?o:s,c,d,f],g=n.apply(o,p);return Ei(e)&&Pi(g,p),g.placeholder=r,Bi(g,e,t)}function Zo(e){var t=ke[e];return function(e,n){if(e=ys(e),(n=null==n?0:An(gs(n),292))&&At(e)){var r=(ws(e)+\"e\").split(\"e\");return+((r=(ws(t(r[0]+\"e\"+(+r[1]+n)))+\"e\").split(\"e\"))[0]+\"e\"+(+r[1]-n))}return t(e)}}var Yo=_n&&1/fn(new _n([,-0]))[1]==h?function(e){return new _n(e)}:uc;function Xo(e){return function(t){var n=mi(t);return n==T?un(t):n==R?hn(t):function(e,t){return zt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Qo(e,t,n,a,h,p,g,m){var y=2&t;if(!y&&\"function\"!=typeof e)throw new Re(i);var v=a?a.length:0;if(v||(t&=-97,a=h=o),g=g===o?g:wn(gs(g),0),m=m===o?m:gs(m),v-=h?h.length:0,t&l){var w=a,A=h;a=h=o}var b=y?o:si(e),S=[e,t,n,a,h,w,A,p,g,m];if(b&&function(e,t){var n=e[1],r=t[1],o=n|r,i=o<131,a=r==d&&8==n||r==d&&n==f&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!i&&!a)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var c=t[3];if(c){var u=e[3];e[3]=u?Co(u,c,t[4]):c,e[4]=u?dn(e[3],s):t[4]}(c=t[5])&&(u=e[5],e[5]=u?Ro(u,c,t[6]):c,e[6]=u?dn(e[5],s):t[6]);(c=t[7])&&(e[7]=c);r&d&&(e[8]=null==e[8]?t[8]:An(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=o}(S,b),e=S[0],t=S[1],n=S[2],a=S[3],h=S[4],!(m=S[9]=S[9]===o?y?0:e.length:wn(S[9]-v,0))&&24&t&&(t&=-25),t&&1!=t)E=8==t||t==c?function(e,t,n){var i=Do(e);return function a(){for(var s=arguments.length,c=r(s),u=s,l=ui(a);u--;)c[u]=arguments[u];var d=s<3&&c[0]!==l&&c[s-1]!==l?[]:dn(c,l);return(s-=d.length)<n?Jo(e,t,Fo,a.placeholder,o,c,d,o,o,n-s):It(this&&this!==gt&&this instanceof a?i:e,this,c)}}(e,t,m):t!=u&&33!=t||h.length?Fo.apply(o,S):function(e,t,n,o){var i=1&t,a=Do(e);return function t(){for(var s=-1,c=arguments.length,u=-1,l=o.length,d=r(l+c),f=this&&this!==gt&&this instanceof t?a:e;++u<l;)d[u]=o[u];for(;c--;)d[u++]=arguments[++s];return It(f,i?n:this,d)}}(e,t,n,a);else var E=function(e,t,n){var r=1&t,o=Do(e);return function t(){return(this&&this!==gt&&this instanceof t?o:e).apply(r?n:this,arguments)}}(e,t,n);return Bi((b?to:Pi)(E,S),e,t)}function ei(e,t,n,r){return e===o||$a(e,Ne[n])&&!Me.call(r,n)?t:e}function ti(e,t,n,r,i,a){return ts(e)&&ts(t)&&(a.set(t,e),qr(e,t,o,ti,a),a.delete(t)),e}function ni(e){return is(e)?o:e}function ri(e,t,n,r,i,a){var s=1&n,c=e.length,u=t.length;if(c!=u&&!(s&&u>c))return!1;var l=a.get(e),d=a.get(t);if(l&&d)return l==t&&d==e;var f=-1,h=!0,p=2&n?new Jn:o;for(a.set(e,t),a.set(t,e);++f<c;){var g=e[f],m=t[f];if(r)var y=s?r(m,g,f,t,e,a):r(g,m,f,e,t,a);if(y!==o){if(y)continue;h=!1;break}if(p){if(!Dt(t,(function(e,t){if(!tn(p,t)&&(g===e||i(g,e,n,r,a)))return p.push(t)}))){h=!1;break}}else if(g!==m&&!i(g,m,n,r,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function oi(e){return Ni(_i(e,o,Ki),e+\"\")}function ii(e){return Tr(e,Os,pi)}function ai(e){return Tr(e,Ns,gi)}var si=Pn?function(e){return Pn.get(e)}:uc;function ci(e){for(var t=e.name+\"\",n=On[t],r=Me.call(On,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function ui(e){return(Me.call($n,\"placeholder\")?$n:e).placeholder}function li(){var e=$n.iteratee||ic;return e=e===ic?Mr:e,arguments.length?e(arguments[0],arguments[1]):e}function di(e,t){var n=e.__data__;return function(e){var t=typeof e;return\"string\"==t||\"number\"==t||\"symbol\"==t||\"boolean\"==t?\"__proto__\"!==e:null===e}(t)?n[\"string\"==typeof t?\"string\":\"hash\"]:n.map}function fi(e){for(var t=Os(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,ki(o)]}return t}function hi(e,t){var n=function(e,t){return null==e?o:e[t]}(e,t);return zr(n)?n:o}var pi=yt?function(e){return null==e?[]:(e=Ie(e),Ot(yt(e),(function(t){return Je.call(e,t)})))}:mc,gi=yt?function(e){for(var t=[];e;)Mt(t,pi(e)),e=Ge(e);return t}:mc,mi=kr;function yi(e,t,n){for(var r=-1,o=(t=bo(t,e)).length,i=!1;++r<o;){var a=Ui(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&es(o)&&Ai(a,o)&&(Va(e)||Wa(e))}function vi(e){return\"function\"!=typeof e.constructor||Ti(e)?{}:Fn(Ge(e))}function wi(e){return Va(e)||Wa(e)||!!(Ye&&e&&e[Ye])}function Ai(e,t){var n=typeof e;return!!(t=null==t?p:t)&&(\"number\"==n||\"symbol\"!=n&&Ae.test(e))&&e>-1&&e%1==0&&e<t}function bi(e,t,n){if(!ts(n))return!1;var r=typeof t;return!!(\"number\"==r?Ga(n)&&Ai(t,n.length):\"string\"==r&&t in n)&&$a(n[t],e)}function Si(e,t){if(Va(e))return!1;var n=typeof e;return!(\"number\"!=n&&\"symbol\"!=n&&\"boolean\"!=n&&null!=e&&!us(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Ie(t))}function Ei(e){var t=ci(e),n=$n[t];if(\"function\"!=typeof n||!(t in Vn.prototype))return!1;if(e===n)return!0;var r=si(n);return!!r&&e===r[0]}(Tn&&mi(new Tn(new ArrayBuffer(1)))!=z||kn&&mi(new kn)!=T||In&&mi(In.resolve())!=_||_n&&mi(new _n)!=R||Cn&&mi(new Cn)!=N)&&(mi=function(e){var t=kr(e),n=t==I?e.constructor:o,r=n?Di(n):\"\";if(r)switch(r){case Nn:return z;case Bn:return T;case zn:return _;case Mn:return R;case jn:return N}return t});var xi=Be?Xa:yc;function Ti(e){var t=e&&e.constructor;return e===(\"function\"==typeof t&&t.prototype||Ne)}function ki(e){return e==e&&!ts(e)}function Ii(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==o||e in Ie(n)))}}function _i(e,t,n){return t=wn(t===o?e.length-1:t,0),function(){for(var o=arguments,i=-1,a=wn(o.length-t,0),s=r(a);++i<a;)s[i]=o[t+i];i=-1;for(var c=r(t+1);++i<t;)c[i]=o[i];return c[t]=n(s),It(e,this,c)}}function Ci(e,t){return t.length<2?e:xr(e,oo(t,0,-1))}function Ri(e,t){if((\"constructor\"!==t||\"function\"!=typeof e[t])&&\"__proto__\"!=t)return e[t]}var Pi=zi(to),Oi=ht||function(e,t){return gt.setTimeout(e,t)},Ni=zi(no);function Bi(e,t,n){var r=t+\"\";return Ni(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?\"& \":\"\")+t[r],t=t.join(n>2?\", \":\" \"),e.replace(ce,\"{\\n/* [wrapped with \"+t+\"] */\\n\")}(r,function(e,t){return Ct(y,(function(n){var r=\"_.\"+n[0];t&n[1]&&!Nt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ue);return t?t[1].split(le):[]}(r),n)))}function zi(e){var t=0,n=0;return function(){var r=bn(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(o,arguments)}}function Mi(e,t){var n=-1,r=e.length,i=r-1;for(t=t===o?r:t;++n<t;){var a=Jr(n,i),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var ji=function(e){var t=za(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(\"\"),e.replace(re,(function(e,n,r,o){t.push(r?o.replace(he,\"$1\"):n||e)})),t}));function Ui(e){if(\"string\"==typeof e||us(e))return e;var t=e+\"\";return\"0\"==t&&1/e==-1/0?\"-0\":t}function Di(e){if(null!=e){try{return ze.call(e)}catch(e){}try{return e+\"\"}catch(e){}}return\"\"}function Li(e){if(e instanceof Vn)return e.clone();var t=new Wn(e.__wrapped__,e.__chain__);return t.__actions__=Po(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var $i=Yr((function(e,t){return Ha(e)?fr(e,vr(t,1,Ha,!0)):[]})),Fi=Yr((function(e,t){var n=Yi(t);return Ha(n)&&(n=o),Ha(e)?fr(e,vr(t,1,Ha,!0),li(n,2)):[]})),qi=Yr((function(e,t){var n=Yi(t);return Ha(n)&&(n=o),Ha(e)?fr(e,vr(t,1,Ha,!0),o,n):[]}));function Wi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:gs(n);return o<0&&(o=wn(r+o,0)),Ft(e,li(t,3),o)}function Vi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==o&&(i=gs(n),i=n<0?wn(r+i,0):An(i,r-1)),Ft(e,li(t,3),i,!0)}function Ki(e){return(null==e?0:e.length)?vr(e,1):[]}function Gi(e){return e&&e.length?e[0]:o}var Hi=Yr((function(e){var t=zt(e,wo);return t.length&&t[0]===e[0]?Rr(t):[]})),Ji=Yr((function(e){var t=Yi(e),n=zt(e,wo);return t===Yi(n)?t=o:n.pop(),n.length&&n[0]===e[0]?Rr(n,li(t,2)):[]})),Zi=Yr((function(e){var t=Yi(e),n=zt(e,wo);return(t=\"function\"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?Rr(n,o,t):[]}));function Yi(e){var t=null==e?0:e.length;return t?e[t-1]:o}var Xi=Yr(Qi);function Qi(e,t){return e&&e.length&&t&&t.length?Gr(e,t):e}var ea=oi((function(e,t){var n=null==e?0:e.length,r=sr(e,t);return Hr(e,zt(t,(function(e){return Ai(e,n)?+e:e})).sort(_o)),r}));function ta(e){return null==e?e:xn.call(e)}var na=Yr((function(e){return fo(vr(e,1,Ha,!0))})),ra=Yr((function(e){var t=Yi(e);return Ha(t)&&(t=o),fo(vr(e,1,Ha,!0),li(t,2))})),oa=Yr((function(e){var t=Yi(e);return t=\"function\"==typeof t?t:o,fo(vr(e,1,Ha,!0),o,t)}));function ia(e){if(!e||!e.length)return[];var t=0;return e=Ot(e,(function(e){if(Ha(e))return t=wn(e.length,t),!0})),Yt(t,(function(t){return zt(e,Gt(t))}))}function aa(e,t){if(!e||!e.length)return[];var n=ia(e);return null==t?n:zt(n,(function(e){return It(t,o,e)}))}var sa=Yr((function(e,t){return Ha(e)?fr(e,t):[]})),ca=Yr((function(e){return yo(Ot(e,Ha))})),ua=Yr((function(e){var t=Yi(e);return Ha(t)&&(t=o),yo(Ot(e,Ha),li(t,2))})),la=Yr((function(e){var t=Yi(e);return t=\"function\"==typeof t?t:o,yo(Ot(e,Ha),o,t)})),da=Yr(ia);var fa=Yr((function(e){var t=e.length,n=t>1?e[t-1]:o;return n=\"function\"==typeof n?(e.pop(),n):o,aa(e,n)}));function ha(e){var t=$n(e);return t.__chain__=!0,t}function pa(e,t){return t(e)}var ga=oi((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return sr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Vn&&Ai(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:pa,args:[i],thisArg:o}),new Wn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(o),e}))):this.thru(i)}));var ma=No((function(e,t,n){Me.call(e,n)?++e[n]:ar(e,n,1)}));var ya=Lo(Wi),va=Lo(Vi);function wa(e,t){return(Va(e)?Ct:hr)(e,li(t,3))}function Aa(e,t){return(Va(e)?Rt:pr)(e,li(t,3))}var ba=No((function(e,t,n){Me.call(e,n)?e[n].push(t):ar(e,n,[t])}));var Sa=Yr((function(e,t,n){var o=-1,i=\"function\"==typeof t,a=Ga(e)?r(e.length):[];return hr(e,(function(e){a[++o]=i?It(t,e,n):Pr(e,t,n)})),a})),Ea=No((function(e,t,n){ar(e,n,t)}));function xa(e,t){return(Va(e)?zt:Lr)(e,li(t,3))}var Ta=No((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var ka=Yr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&bi(e,t[0],t[1])?t=[]:n>2&&bi(t[0],t[1],t[2])&&(t=[t[0]]),Vr(e,vr(t,1),[])})),Ia=lt||function(){return gt.Date.now()};function _a(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,Qo(e,d,o,o,o,o,t)}function Ca(e,t){var n;if(\"function\"!=typeof t)throw new Re(i);return e=gs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var Ra=Yr((function(e,t,n){var r=1;if(n.length){var o=dn(n,ui(Ra));r|=u}return Qo(e,r,t,n,o)})),Pa=Yr((function(e,t,n){var r=3;if(n.length){var o=dn(n,ui(Pa));r|=u}return Qo(t,r,e,n,o)}));function Oa(e,t,n){var r,a,s,c,u,l,d=0,f=!1,h=!1,p=!0;if(\"function\"!=typeof e)throw new Re(i);function g(t){var n=r,i=a;return r=a=o,d=t,c=e.apply(i,n)}function m(e){var n=e-l;return l===o||n>=t||n<0||h&&e-d>=s}function y(){var e=Ia();if(m(e))return v(e);u=Oi(y,function(e){var n=t-(e-l);return h?An(n,s-(e-d)):n}(e))}function v(e){return u=o,p&&r?g(e):(r=a=o,c)}function w(){var e=Ia(),n=m(e);if(r=arguments,a=this,l=e,n){if(u===o)return function(e){return d=e,u=Oi(y,t),f?g(e):c}(l);if(h)return xo(u),u=Oi(y,t),g(l)}return u===o&&(u=Oi(y,t)),c}return t=ys(t)||0,ts(n)&&(f=!!n.leading,s=(h=\"maxWait\"in n)?wn(ys(n.maxWait)||0,t):s,p=\"trailing\"in n?!!n.trailing:p),w.cancel=function(){u!==o&&xo(u),d=0,r=l=a=u=o},w.flush=function(){return u===o?c:v(Ia())},w}var Na=Yr((function(e,t){return dr(e,1,t)})),Ba=Yr((function(e,t,n){return dr(e,ys(t)||0,n)}));function za(e,t){if(\"function\"!=typeof e||null!=t&&\"function\"!=typeof t)throw new Re(i);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(za.Cache||Hn),n}function Ma(e){if(\"function\"!=typeof e)throw new Re(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}za.Cache=Hn;var ja=So((function(e,t){var n=(t=1==t.length&&Va(t[0])?zt(t[0],Qt(li())):zt(vr(t,1),Qt(li()))).length;return Yr((function(r){for(var o=-1,i=An(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return It(e,this,r)}))})),Ua=Yr((function(e,t){var n=dn(t,ui(Ua));return Qo(e,u,o,t,n)})),Da=Yr((function(e,t){var n=dn(t,ui(Da));return Qo(e,l,o,t,n)})),La=oi((function(e,t){return Qo(e,f,o,o,o,t)}));function $a(e,t){return e===t||e!=e&&t!=t}var Fa=Ho(Ir),qa=Ho((function(e,t){return e>=t})),Wa=Or(function(){return arguments}())?Or:function(e){return ns(e)&&Me.call(e,\"callee\")&&!Je.call(e,\"callee\")},Va=r.isArray,Ka=bt?Qt(bt):function(e){return ns(e)&&kr(e)==B};function Ga(e){return null!=e&&es(e.length)&&!Xa(e)}function Ha(e){return ns(e)&&Ga(e)}var Ja=wt||yc,Za=St?Qt(St):function(e){return ns(e)&&kr(e)==b};function Ya(e){if(!ns(e))return!1;var t=kr(e);return t==S||\"[object DOMException]\"==t||\"string\"==typeof e.message&&\"string\"==typeof e.name&&!is(e)}function Xa(e){if(!ts(e))return!1;var t=kr(e);return t==E||t==x||\"[object AsyncFunction]\"==t||\"[object Proxy]\"==t}function Qa(e){return\"number\"==typeof e&&e==gs(e)}function es(e){return\"number\"==typeof e&&e>-1&&e%1==0&&e<=p}function ts(e){var t=typeof e;return null!=e&&(\"object\"==t||\"function\"==t)}function ns(e){return null!=e&&\"object\"==typeof e}var rs=Et?Qt(Et):function(e){return ns(e)&&mi(e)==T};function os(e){return\"number\"==typeof e||ns(e)&&kr(e)==k}function is(e){if(!ns(e)||kr(e)!=I)return!1;var t=Ge(e);if(null===t)return!0;var n=Me.call(t,\"constructor\")&&t.constructor;return\"function\"==typeof n&&n instanceof n&&ze.call(n)==Le}var as=xt?Qt(xt):function(e){return ns(e)&&kr(e)==C};var ss=Tt?Qt(Tt):function(e){return ns(e)&&mi(e)==R};function cs(e){return\"string\"==typeof e||!Va(e)&&ns(e)&&kr(e)==P}function us(e){return\"symbol\"==typeof e||ns(e)&&kr(e)==O}var ls=kt?Qt(kt):function(e){return ns(e)&&es(e.length)&&!!ct[kr(e)]};var ds=Ho(Dr),fs=Ho((function(e,t){return e<=t}));function hs(e){if(!e)return[];if(Ga(e))return cs(e)?gn(e):Po(e);if(Xe&&e[Xe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Xe]());var t=mi(e);return(t==T?un:t==R?fn:$s)(e)}function ps(e){return e?(e=ys(e))===h||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function gs(e){var t=ps(e),n=t%1;return t==t?n?t-n:t:0}function ms(e){return e?cr(gs(e),0,m):0}function ys(e){if(\"number\"==typeof e)return e;if(us(e))return g;if(ts(e)){var t=\"function\"==typeof e.valueOf?e.valueOf():e;e=ts(t)?t+\"\":t}if(\"string\"!=typeof e)return 0===e?e:+e;e=Xt(e);var n=ye.test(e);return n||we.test(e)?ft(e.slice(2),n?2:8):me.test(e)?g:+e}function vs(e){return Oo(e,Ns(e))}function ws(e){return null==e?\"\":lo(e)}var As=Bo((function(e,t){if(Ti(t)||Ga(t))Oo(t,Os(t),e);else for(var n in t)Me.call(t,n)&&nr(e,n,t[n])})),bs=Bo((function(e,t){Oo(t,Ns(t),e)})),Ss=Bo((function(e,t,n,r){Oo(t,Ns(t),e,r)})),Es=Bo((function(e,t,n,r){Oo(t,Os(t),e,r)})),xs=oi(sr);var Ts=Yr((function(e,t){e=Ie(e);var n=-1,r=t.length,i=r>2?t[2]:o;for(i&&bi(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],s=Ns(a),c=-1,u=s.length;++c<u;){var l=s[c],d=e[l];(d===o||$a(d,Ne[l])&&!Me.call(e,l))&&(e[l]=a[l])}return e})),ks=Yr((function(e){return e.push(o,ti),It(zs,o,e)}));function Is(e,t,n){var r=null==e?o:xr(e,t);return r===o?n:r}function _s(e,t){return null!=e&&yi(e,t,Cr)}var Cs=qo((function(e,t,n){null!=t&&\"function\"!=typeof t.toString&&(t=De.call(t)),e[t]=n}),tc(oc)),Rs=qo((function(e,t,n){null!=t&&\"function\"!=typeof t.toString&&(t=De.call(t)),Me.call(e,t)?e[t].push(n):e[t]=[n]}),li),Ps=Yr(Pr);function Os(e){return Ga(e)?Yn(e):jr(e)}function Ns(e){return Ga(e)?Yn(e,!0):Ur(e)}var Bs=Bo((function(e,t,n){qr(e,t,n)})),zs=Bo((function(e,t,n,r){qr(e,t,n,r)})),Ms=oi((function(e,t){var n={};if(null==e)return n;var r=!1;t=zt(t,(function(t){return t=bo(t,e),r||(r=t.length>1),t})),Oo(e,ai(e),n),r&&(n=ur(n,7,ni));for(var o=t.length;o--;)ho(n,t[o]);return n}));var js=oi((function(e,t){return null==e?{}:function(e,t){return Kr(e,t,(function(t,n){return _s(e,n)}))}(e,t)}));function Us(e,t){if(null==e)return{};var n=zt(ai(e),(function(e){return[e]}));return t=li(t),Kr(e,n,(function(e,n){return t(e,n[0])}))}var Ds=Xo(Os),Ls=Xo(Ns);function $s(e){return null==e?[]:en(e,Os(e))}var Fs=Uo((function(e,t,n){return t=t.toLowerCase(),e+(n?qs(t):t)}));function qs(e){return Ys(ws(e).toLowerCase())}function Ws(e){return(e=ws(e))&&e.replace(be,on).replace(tt,\"\")}var Vs=Uo((function(e,t,n){return e+(n?\"-\":\"\")+t.toLowerCase()})),Ks=Uo((function(e,t,n){return e+(n?\" \":\"\")+t.toLowerCase()})),Gs=jo(\"toLowerCase\");var Hs=Uo((function(e,t,n){return e+(n?\"_\":\"\")+t.toLowerCase()}));var Js=Uo((function(e,t,n){return e+(n?\" \":\"\")+Ys(t)}));var Zs=Uo((function(e,t,n){return e+(n?\" \":\"\")+t.toUpperCase()})),Ys=jo(\"toUpperCase\");function Xs(e,t,n){return e=ws(e),(t=n?o:t)===o?function(e){return it.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.match(de)||[]}(e):e.match(t)||[]}var Qs=Yr((function(e,t){try{return It(e,o,t)}catch(e){return Ya(e)?e:new xe(e)}})),ec=oi((function(e,t){return Ct(t,(function(t){t=Ui(t),ar(e,t,Ra(e[t],e))})),e}));function tc(e){return function(){return e}}var nc=$o(),rc=$o(!0);function oc(e){return e}function ic(e){return Mr(\"function\"==typeof e?e:ur(e,1))}var ac=Yr((function(e,t){return function(n){return Pr(n,e,t)}})),sc=Yr((function(e,t){return function(n){return Pr(e,n,t)}}));function cc(e,t,n){var r=Os(t),o=Er(t,r);null!=n||ts(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=Er(t,Os(t)));var i=!(ts(n)&&\"chain\"in n&&!n.chain),a=Xa(e);return Ct(o,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__);return(n.__actions__=Po(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Mt([this.value()],arguments))})})),e}function uc(){}var lc=Vo(zt),dc=Vo(Pt),fc=Vo(Dt);function hc(e){return Si(e)?Gt(Ui(e)):function(e){return function(t){return xr(t,e)}}(e)}var pc=Go(),gc=Go(!0);function mc(){return[]}function yc(){return!1}var vc=Wo((function(e,t){return e+t}),0),wc=Zo(\"ceil\"),Ac=Wo((function(e,t){return e/t}),1),bc=Zo(\"floor\");var Sc,Ec=Wo((function(e,t){return e*t}),1),xc=Zo(\"round\"),Tc=Wo((function(e,t){return e-t}),0);return $n.after=function(e,t){if(\"function\"!=typeof t)throw new Re(i);return e=gs(e),function(){if(--e<1)return t.apply(this,arguments)}},$n.ary=_a,$n.assign=As,$n.assignIn=bs,$n.assignInWith=Ss,$n.assignWith=Es,$n.at=xs,$n.before=Ca,$n.bind=Ra,$n.bindAll=ec,$n.bindKey=Pa,$n.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Va(e)?e:[e]},$n.chain=ha,$n.chunk=function(e,t,n){t=(n?bi(e,t,n):t===o)?1:wn(gs(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,s=0,c=r(pt(i/t));a<i;)c[s++]=oo(e,a,a+=t);return c},$n.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},$n.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],o=e;o--;)t[o-1]=arguments[o];return Mt(Va(n)?Po(n):[n],vr(t,1))},$n.cond=function(e){var t=null==e?0:e.length,n=li();return e=t?zt(e,(function(e){if(\"function\"!=typeof e[1])throw new Re(i);return[n(e[0]),e[1]]})):[],Yr((function(n){for(var r=-1;++r<t;){var o=e[r];if(It(o[0],this,n))return It(o[1],this,n)}}))},$n.conforms=function(e){return function(e){var t=Os(e);return function(n){return lr(n,e,t)}}(ur(e,1))},$n.constant=tc,$n.countBy=ma,$n.create=function(e,t){var n=Fn(e);return null==t?n:ir(n,t)},$n.curry=function e(t,n,r){var i=Qo(t,8,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},$n.curryRight=function e(t,n,r){var i=Qo(t,c,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},$n.debounce=Oa,$n.defaults=Ts,$n.defaultsDeep=ks,$n.defer=Na,$n.delay=Ba,$n.difference=$i,$n.differenceBy=Fi,$n.differenceWith=qi,$n.drop=function(e,t,n){var r=null==e?0:e.length;return r?oo(e,(t=n||t===o?1:gs(t))<0?0:t,r):[]},$n.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?oo(e,0,(t=r-(t=n||t===o?1:gs(t)))<0?0:t):[]},$n.dropRightWhile=function(e,t){return e&&e.length?go(e,li(t,3),!0,!0):[]},$n.dropWhile=function(e,t){return e&&e.length?go(e,li(t,3),!0):[]},$n.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&\"number\"!=typeof n&&bi(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=gs(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:gs(r))<0&&(r+=i),r=n>r?0:ms(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},$n.filter=function(e,t){return(Va(e)?Ot:yr)(e,li(t,3))},$n.flatMap=function(e,t){return vr(xa(e,t),1)},$n.flatMapDeep=function(e,t){return vr(xa(e,t),h)},$n.flatMapDepth=function(e,t,n){return n=n===o?1:gs(n),vr(xa(e,t),n)},$n.flatten=Ki,$n.flattenDeep=function(e){return(null==e?0:e.length)?vr(e,h):[]},$n.flattenDepth=function(e,t){return(null==e?0:e.length)?vr(e,t=t===o?1:gs(t)):[]},$n.flip=function(e){return Qo(e,512)},$n.flow=nc,$n.flowRight=rc,$n.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},$n.functions=function(e){return null==e?[]:Er(e,Os(e))},$n.functionsIn=function(e){return null==e?[]:Er(e,Ns(e))},$n.groupBy=ba,$n.initial=function(e){return(null==e?0:e.length)?oo(e,0,-1):[]},$n.intersection=Hi,$n.intersectionBy=Ji,$n.intersectionWith=Zi,$n.invert=Cs,$n.invertBy=Rs,$n.invokeMap=Sa,$n.iteratee=ic,$n.keyBy=Ea,$n.keys=Os,$n.keysIn=Ns,$n.map=xa,$n.mapKeys=function(e,t){var n={};return t=li(t,3),br(e,(function(e,r,o){ar(n,t(e,r,o),e)})),n},$n.mapValues=function(e,t){var n={};return t=li(t,3),br(e,(function(e,r,o){ar(n,r,t(e,r,o))})),n},$n.matches=function(e){return $r(ur(e,1))},$n.matchesProperty=function(e,t){return Fr(e,ur(t,1))},$n.memoize=za,$n.merge=Bs,$n.mergeWith=zs,$n.method=ac,$n.methodOf=sc,$n.mixin=cc,$n.negate=Ma,$n.nthArg=function(e){return e=gs(e),Yr((function(t){return Wr(t,e)}))},$n.omit=Ms,$n.omitBy=function(e,t){return Us(e,Ma(li(t)))},$n.once=function(e){return Ca(2,e)},$n.orderBy=function(e,t,n,r){return null==e?[]:(Va(t)||(t=null==t?[]:[t]),Va(n=r?o:n)||(n=null==n?[]:[n]),Vr(e,t,n))},$n.over=lc,$n.overArgs=ja,$n.overEvery=dc,$n.overSome=fc,$n.partial=Ua,$n.partialRight=Da,$n.partition=Ta,$n.pick=js,$n.pickBy=Us,$n.property=hc,$n.propertyOf=function(e){return function(t){return null==e?o:xr(e,t)}},$n.pull=Xi,$n.pullAll=Qi,$n.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Gr(e,t,li(n,2)):e},$n.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Gr(e,t,o,n):e},$n.pullAt=ea,$n.range=pc,$n.rangeRight=gc,$n.rearg=La,$n.reject=function(e,t){return(Va(e)?Ot:yr)(e,Ma(li(t,3)))},$n.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=li(t,3);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return Hr(e,o),n},$n.rest=function(e,t){if(\"function\"!=typeof e)throw new Re(i);return Yr(e,t=t===o?t:gs(t))},$n.reverse=ta,$n.sampleSize=function(e,t,n){return t=(n?bi(e,t,n):t===o)?1:gs(t),(Va(e)?Qn:Qr)(e,t)},$n.set=function(e,t,n){return null==e?e:eo(e,t,n)},$n.setWith=function(e,t,n,r){return r=\"function\"==typeof r?r:o,null==e?e:eo(e,t,n,r)},$n.shuffle=function(e){return(Va(e)?er:ro)(e)},$n.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&\"number\"!=typeof n&&bi(e,t,n)?(t=0,n=r):(t=null==t?0:gs(t),n=n===o?r:gs(n)),oo(e,t,n)):[]},$n.sortBy=ka,$n.sortedUniq=function(e){return e&&e.length?co(e):[]},$n.sortedUniqBy=function(e,t){return e&&e.length?co(e,li(t,2)):[]},$n.split=function(e,t,n){return n&&\"number\"!=typeof n&&bi(e,t,n)&&(t=n=o),(n=n===o?m:n>>>0)?(e=ws(e))&&(\"string\"==typeof t||null!=t&&!as(t))&&!(t=lo(t))&&cn(e)?Eo(gn(e),0,n):e.split(t,n):[]},$n.spread=function(e,t){if(\"function\"!=typeof e)throw new Re(i);return t=null==t?0:wn(gs(t),0),Yr((function(n){var r=n[t],o=Eo(n,0,t);return r&&Mt(o,r),It(e,this,o)}))},$n.tail=function(e){var t=null==e?0:e.length;return t?oo(e,1,t):[]},$n.take=function(e,t,n){return e&&e.length?oo(e,0,(t=n||t===o?1:gs(t))<0?0:t):[]},$n.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?oo(e,(t=r-(t=n||t===o?1:gs(t)))<0?0:t,r):[]},$n.takeRightWhile=function(e,t){return e&&e.length?go(e,li(t,3),!1,!0):[]},$n.takeWhile=function(e,t){return e&&e.length?go(e,li(t,3)):[]},$n.tap=function(e,t){return t(e),e},$n.throttle=function(e,t,n){var r=!0,o=!0;if(\"function\"!=typeof e)throw new Re(i);return ts(n)&&(r=\"leading\"in n?!!n.leading:r,o=\"trailing\"in n?!!n.trailing:o),Oa(e,t,{leading:r,maxWait:t,trailing:o})},$n.thru=pa,$n.toArray=hs,$n.toPairs=Ds,$n.toPairsIn=Ls,$n.toPath=function(e){return Va(e)?zt(e,Ui):us(e)?[e]:Po(ji(ws(e)))},$n.toPlainObject=vs,$n.transform=function(e,t,n){var r=Va(e),o=r||Ja(e)||ls(e);if(t=li(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:ts(e)&&Xa(i)?Fn(Ge(e)):{}}return(o?Ct:br)(e,(function(e,r,o){return t(n,e,r,o)})),n},$n.unary=function(e){return _a(e,1)},$n.union=na,$n.unionBy=ra,$n.unionWith=oa,$n.uniq=function(e){return e&&e.length?fo(e):[]},$n.uniqBy=function(e,t){return e&&e.length?fo(e,li(t,2)):[]},$n.uniqWith=function(e,t){return t=\"function\"==typeof t?t:o,e&&e.length?fo(e,o,t):[]},$n.unset=function(e,t){return null==e||ho(e,t)},$n.unzip=ia,$n.unzipWith=aa,$n.update=function(e,t,n){return null==e?e:po(e,t,Ao(n))},$n.updateWith=function(e,t,n,r){return r=\"function\"==typeof r?r:o,null==e?e:po(e,t,Ao(n),r)},$n.values=$s,$n.valuesIn=function(e){return null==e?[]:en(e,Ns(e))},$n.without=sa,$n.words=Xs,$n.wrap=function(e,t){return Ua(Ao(t),e)},$n.xor=ca,$n.xorBy=ua,$n.xorWith=la,$n.zip=da,$n.zipObject=function(e,t){return vo(e||[],t||[],nr)},$n.zipObjectDeep=function(e,t){return vo(e||[],t||[],eo)},$n.zipWith=fa,$n.entries=Ds,$n.entriesIn=Ls,$n.extend=bs,$n.extendWith=Ss,cc($n,$n),$n.add=vc,$n.attempt=Qs,$n.camelCase=Fs,$n.capitalize=qs,$n.ceil=wc,$n.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=ys(n))==n?n:0),t!==o&&(t=(t=ys(t))==t?t:0),cr(ys(e),t,n)},$n.clone=function(e){return ur(e,4)},$n.cloneDeep=function(e){return ur(e,5)},$n.cloneDeepWith=function(e,t){return ur(e,5,t=\"function\"==typeof t?t:o)},$n.cloneWith=function(e,t){return ur(e,4,t=\"function\"==typeof t?t:o)},$n.conformsTo=function(e,t){return null==t||lr(e,t,Os(t))},$n.deburr=Ws,$n.defaultTo=function(e,t){return null==e||e!=e?t:e},$n.divide=Ac,$n.endsWith=function(e,t,n){e=ws(e),t=lo(t);var r=e.length,i=n=n===o?r:cr(gs(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},$n.eq=$a,$n.escape=function(e){return(e=ws(e))&&Y.test(e)?e.replace(J,an):e},$n.escapeRegExp=function(e){return(e=ws(e))&&ie.test(e)?e.replace(oe,\"\\\\$&\"):e},$n.every=function(e,t,n){var r=Va(e)?Pt:gr;return n&&bi(e,t,n)&&(t=o),r(e,li(t,3))},$n.find=ya,$n.findIndex=Wi,$n.findKey=function(e,t){return $t(e,li(t,3),br)},$n.findLast=va,$n.findLastIndex=Vi,$n.findLastKey=function(e,t){return $t(e,li(t,3),Sr)},$n.floor=bc,$n.forEach=wa,$n.forEachRight=Aa,$n.forIn=function(e,t){return null==e?e:wr(e,li(t,3),Ns)},$n.forInRight=function(e,t){return null==e?e:Ar(e,li(t,3),Ns)},$n.forOwn=function(e,t){return e&&br(e,li(t,3))},$n.forOwnRight=function(e,t){return e&&Sr(e,li(t,3))},$n.get=Is,$n.gt=Fa,$n.gte=qa,$n.has=function(e,t){return null!=e&&yi(e,t,_r)},$n.hasIn=_s,$n.head=Gi,$n.identity=oc,$n.includes=function(e,t,n,r){e=Ga(e)?e:$s(e),n=n&&!r?gs(n):0;var o=e.length;return n<0&&(n=wn(o+n,0)),cs(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&qt(e,t,n)>-1},$n.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:gs(n);return o<0&&(o=wn(r+o,0)),qt(e,t,o)},$n.inRange=function(e,t,n){return t=ps(t),n===o?(n=t,t=0):n=ps(n),function(e,t,n){return e>=An(t,n)&&e<wn(t,n)}(e=ys(e),t,n)},$n.invoke=Ps,$n.isArguments=Wa,$n.isArray=Va,$n.isArrayBuffer=Ka,$n.isArrayLike=Ga,$n.isArrayLikeObject=Ha,$n.isBoolean=function(e){return!0===e||!1===e||ns(e)&&kr(e)==A},$n.isBuffer=Ja,$n.isDate=Za,$n.isElement=function(e){return ns(e)&&1===e.nodeType&&!is(e)},$n.isEmpty=function(e){if(null==e)return!0;if(Ga(e)&&(Va(e)||\"string\"==typeof e||\"function\"==typeof e.splice||Ja(e)||ls(e)||Wa(e)))return!e.length;var t=mi(e);if(t==T||t==R)return!e.size;if(Ti(e))return!jr(e).length;for(var n in e)if(Me.call(e,n))return!1;return!0},$n.isEqual=function(e,t){return Nr(e,t)},$n.isEqualWith=function(e,t,n){var r=(n=\"function\"==typeof n?n:o)?n(e,t):o;return r===o?Nr(e,t,o,n):!!r},$n.isError=Ya,$n.isFinite=function(e){return\"number\"==typeof e&&At(e)},$n.isFunction=Xa,$n.isInteger=Qa,$n.isLength=es,$n.isMap=rs,$n.isMatch=function(e,t){return e===t||Br(e,t,fi(t))},$n.isMatchWith=function(e,t,n){return n=\"function\"==typeof n?n:o,Br(e,t,fi(t),n)},$n.isNaN=function(e){return os(e)&&e!=+e},$n.isNative=function(e){if(xi(e))throw new xe(\"Unsupported core-js use. Try https://npms.io/search?q=ponyfill.\");return zr(e)},$n.isNil=function(e){return null==e},$n.isNull=function(e){return null===e},$n.isNumber=os,$n.isObject=ts,$n.isObjectLike=ns,$n.isPlainObject=is,$n.isRegExp=as,$n.isSafeInteger=function(e){return Qa(e)&&e>=-9007199254740991&&e<=p},$n.isSet=ss,$n.isString=cs,$n.isSymbol=us,$n.isTypedArray=ls,$n.isUndefined=function(e){return e===o},$n.isWeakMap=function(e){return ns(e)&&mi(e)==N},$n.isWeakSet=function(e){return ns(e)&&\"[object WeakSet]\"==kr(e)},$n.join=function(e,t){return null==e?\"\":Lt.call(e,t)},$n.kebabCase=Vs,$n.last=Yi,$n.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=gs(n))<0?wn(r+i,0):An(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):Ft(e,Vt,i,!0)},$n.lowerCase=Ks,$n.lowerFirst=Gs,$n.lt=ds,$n.lte=fs,$n.max=function(e){return e&&e.length?mr(e,oc,Ir):o},$n.maxBy=function(e,t){return e&&e.length?mr(e,li(t,2),Ir):o},$n.mean=function(e){return Kt(e,oc)},$n.meanBy=function(e,t){return Kt(e,li(t,2))},$n.min=function(e){return e&&e.length?mr(e,oc,Dr):o},$n.minBy=function(e,t){return e&&e.length?mr(e,li(t,2),Dr):o},$n.stubArray=mc,$n.stubFalse=yc,$n.stubObject=function(){return{}},$n.stubString=function(){return\"\"},$n.stubTrue=function(){return!0},$n.multiply=Ec,$n.nth=function(e,t){return e&&e.length?Wr(e,gs(t)):o},$n.noConflict=function(){return gt._===this&&(gt._=$e),this},$n.noop=uc,$n.now=Ia,$n.pad=function(e,t,n){e=ws(e);var r=(t=gs(t))?pn(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return Ko(mt(o),n)+e+Ko(pt(o),n)},$n.padEnd=function(e,t,n){e=ws(e);var r=(t=gs(t))?pn(e):0;return t&&r<t?e+Ko(t-r,n):e},$n.padStart=function(e,t,n){e=ws(e);var r=(t=gs(t))?pn(e):0;return t&&r<t?Ko(t-r,n)+e:e},$n.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Sn(ws(e).replace(ae,\"\"),t||0)},$n.random=function(e,t,n){if(n&&\"boolean\"!=typeof n&&bi(e,t,n)&&(t=n=o),n===o&&(\"boolean\"==typeof t?(n=t,t=o):\"boolean\"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=ps(e),t===o?(t=e,e=0):t=ps(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=En();return An(e+i*(t-e+dt(\"1e-\"+((i+\"\").length-1))),t)}return Jr(e,t)},$n.reduce=function(e,t,n){var r=Va(e)?jt:Jt,o=arguments.length<3;return r(e,li(t,4),n,o,hr)},$n.reduceRight=function(e,t,n){var r=Va(e)?Ut:Jt,o=arguments.length<3;return r(e,li(t,4),n,o,pr)},$n.repeat=function(e,t,n){return t=(n?bi(e,t,n):t===o)?1:gs(t),Zr(ws(e),t)},$n.replace=function(){var e=arguments,t=ws(e[0]);return e.length<3?t:t.replace(e[1],e[2])},$n.result=function(e,t,n){var r=-1,i=(t=bo(t,e)).length;for(i||(i=1,e=o);++r<i;){var a=null==e?o:e[Ui(t[r])];a===o&&(r=i,a=n),e=Xa(a)?a.call(e):a}return e},$n.round=xc,$n.runInContext=e,$n.sample=function(e){return(Va(e)?Xn:Xr)(e)},$n.size=function(e){if(null==e)return 0;if(Ga(e))return cs(e)?pn(e):e.length;var t=mi(e);return t==T||t==R?e.size:jr(e).length},$n.snakeCase=Hs,$n.some=function(e,t,n){var r=Va(e)?Dt:io;return n&&bi(e,t,n)&&(t=o),r(e,li(t,3))},$n.sortedIndex=function(e,t){return ao(e,t)},$n.sortedIndexBy=function(e,t,n){return so(e,t,li(n,2))},$n.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ao(e,t);if(r<n&&$a(e[r],t))return r}return-1},$n.sortedLastIndex=function(e,t){return ao(e,t,!0)},$n.sortedLastIndexBy=function(e,t,n){return so(e,t,li(n,2),!0)},$n.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ao(e,t,!0)-1;if($a(e[n],t))return n}return-1},$n.startCase=Js,$n.startsWith=function(e,t,n){return e=ws(e),n=null==n?0:cr(gs(n),0,e.length),t=lo(t),e.slice(n,n+t.length)==t},$n.subtract=Tc,$n.sum=function(e){return e&&e.length?Zt(e,oc):0},$n.sumBy=function(e,t){return e&&e.length?Zt(e,li(t,2)):0},$n.template=function(e,t,n){var r=$n.templateSettings;n&&bi(e,t,n)&&(t=o),e=ws(e),t=Ss({},t,r,ei);var i,a,s=Ss({},t.imports,r.imports,ei),c=Os(s),u=en(s,c),l=0,d=t.interpolate||Se,f=\"__p += '\",h=_e((t.escape||Se).source+\"|\"+d.source+\"|\"+(d===ee?pe:Se).source+\"|\"+(t.evaluate||Se).source+\"|$\",\"g\"),p=\"//# sourceURL=\"+(Me.call(t,\"sourceURL\")?(t.sourceURL+\"\").replace(/\\s/g,\" \"):\"lodash.templateSources[\"+ ++st+\"]\")+\"\\n\";e.replace(h,(function(t,n,r,o,s,c){return r||(r=o),f+=e.slice(l,c).replace(Ee,sn),n&&(i=!0,f+=\"' +\\n__e(\"+n+\") +\\n'\"),s&&(a=!0,f+=\"';\\n\"+s+\";\\n__p += '\"),r&&(f+=\"' +\\n((__t = (\"+r+\")) == null ? '' : __t) +\\n'\"),l=c+t.length,t})),f+=\"';\\n\";var g=Me.call(t,\"variable\")&&t.variable;if(g){if(fe.test(g))throw new xe(\"Invalid `variable` option passed into `_.template`\")}else f=\"with (obj) {\\n\"+f+\"\\n}\\n\";f=(a?f.replace(V,\"\"):f).replace(K,\"$1\").replace(G,\"$1;\"),f=\"function(\"+(g||\"obj\")+\") {\\n\"+(g?\"\":\"obj || (obj = {});\\n\")+\"var __t, __p = ''\"+(i?\", __e = _.escape\":\"\")+(a?\", __j = Array.prototype.join;\\nfunction print() { __p += __j.call(arguments, '') }\\n\":\";\\n\")+f+\"return __p\\n}\";var m=Qs((function(){return Te(c,p+\"return \"+f).apply(o,u)}));if(m.source=f,Ya(m))throw m;return m},$n.times=function(e,t){if((e=gs(e))<1||e>p)return[];var n=m,r=An(e,m);t=li(t),e-=m;for(var o=Yt(r,t);++n<e;)t(n);return o},$n.toFinite=ps,$n.toInteger=gs,$n.toLength=ms,$n.toLower=function(e){return ws(e).toLowerCase()},$n.toNumber=ys,$n.toSafeInteger=function(e){return e?cr(gs(e),-9007199254740991,p):0===e?e:0},$n.toString=ws,$n.toUpper=function(e){return ws(e).toUpperCase()},$n.trim=function(e,t,n){if((e=ws(e))&&(n||t===o))return Xt(e);if(!e||!(t=lo(t)))return e;var r=gn(e),i=gn(t);return Eo(r,nn(r,i),rn(r,i)+1).join(\"\")},$n.trimEnd=function(e,t,n){if((e=ws(e))&&(n||t===o))return e.slice(0,mn(e)+1);if(!e||!(t=lo(t)))return e;var r=gn(e);return Eo(r,0,rn(r,gn(t))+1).join(\"\")},$n.trimStart=function(e,t,n){if((e=ws(e))&&(n||t===o))return e.replace(ae,\"\");if(!e||!(t=lo(t)))return e;var r=gn(e);return Eo(r,nn(r,gn(t))).join(\"\")},$n.truncate=function(e,t){var n=30,r=\"...\";if(ts(t)){var i=\"separator\"in t?t.separator:i;n=\"length\"in t?gs(t.length):n,r=\"omission\"in t?lo(t.omission):r}var a=(e=ws(e)).length;if(cn(e)){var s=gn(e);a=s.length}if(n>=a)return e;var c=n-pn(r);if(c<1)return r;var u=s?Eo(s,0,c).join(\"\"):e.slice(0,c);if(i===o)return u+r;if(s&&(c+=u.length-c),as(i)){if(e.slice(c).search(i)){var l,d=u;for(i.global||(i=_e(i.source,ws(ge.exec(i))+\"g\")),i.lastIndex=0;l=i.exec(d);)var f=l.index;u=u.slice(0,f===o?c:f)}}else if(e.indexOf(lo(i),c)!=c){var h=u.lastIndexOf(i);h>-1&&(u=u.slice(0,h))}return u+r},$n.unescape=function(e){return(e=ws(e))&&Z.test(e)?e.replace(H,yn):e},$n.uniqueId=function(e){var t=++je;return ws(e)+t},$n.upperCase=Zs,$n.upperFirst=Ys,$n.each=wa,$n.eachRight=Aa,$n.first=Gi,cc($n,(Sc={},br($n,(function(e,t){Me.call($n.prototype,t)||(Sc[t]=e)})),Sc),{chain:!1}),$n.VERSION=\"4.17.21\",Ct([\"bind\",\"bindKey\",\"curry\",\"curryRight\",\"partial\",\"partialRight\"],(function(e){$n[e].placeholder=$n})),Ct([\"drop\",\"take\"],(function(e,t){Vn.prototype[e]=function(n){n=n===o?1:wn(gs(n),0);var r=this.__filtered__&&!t?new Vn(this):this.clone();return r.__filtered__?r.__takeCount__=An(n,r.__takeCount__):r.__views__.push({size:An(n,m),type:e+(r.__dir__<0?\"Right\":\"\")}),r},Vn.prototype[e+\"Right\"]=function(t){return this.reverse()[e](t).reverse()}})),Ct([\"filter\",\"map\",\"takeWhile\"],(function(e,t){var n=t+1,r=1==n||3==n;Vn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:li(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Ct([\"head\",\"last\"],(function(e,t){var n=\"take\"+(t?\"Right\":\"\");Vn.prototype[e]=function(){return this[n](1).value()[0]}})),Ct([\"initial\",\"tail\"],(function(e,t){var n=\"drop\"+(t?\"\":\"Right\");Vn.prototype[e]=function(){return this.__filtered__?new Vn(this):this[n](1)}})),Vn.prototype.compact=function(){return this.filter(oc)},Vn.prototype.find=function(e){return this.filter(e).head()},Vn.prototype.findLast=function(e){return this.reverse().find(e)},Vn.prototype.invokeMap=Yr((function(e,t){return\"function\"==typeof e?new Vn(this):this.map((function(n){return Pr(n,e,t)}))})),Vn.prototype.reject=function(e){return this.filter(Ma(li(e)))},Vn.prototype.slice=function(e,t){e=gs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Vn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=gs(t))<0?n.dropRight(-t):n.take(t-e)),n)},Vn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Vn.prototype.toArray=function(){return this.take(m)},br(Vn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=$n[r?\"take\"+(\"last\"==t?\"Right\":\"\"):t],a=r||/^find/.test(t);i&&($n.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,c=t instanceof Vn,u=s[0],l=c||Va(t),d=function(e){var t=i.apply($n,Mt([e],s));return r&&f?t[0]:t};l&&n&&\"function\"==typeof u&&1!=u.length&&(c=l=!1);var f=this.__chain__,h=!!this.__actions__.length,p=a&&!f,g=c&&!h;if(!a&&l){t=g?t:new Vn(this);var m=e.apply(t,s);return m.__actions__.push({func:pa,args:[d],thisArg:o}),new Wn(m,f)}return p&&g?e.apply(this,s):(m=this.thru(d),p?r?m.value()[0]:m.value():m)})})),Ct([\"pop\",\"push\",\"shift\",\"sort\",\"splice\",\"unshift\"],(function(e){var t=Pe[e],n=/^(?:push|sort|unshift)$/.test(e)?\"tap\":\"thru\",r=/^(?:pop|shift)$/.test(e);$n.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(Va(o)?o:[],e)}return this[n]((function(n){return t.apply(Va(n)?n:[],e)}))}})),br(Vn.prototype,(function(e,t){var n=$n[t];if(n){var r=n.name+\"\";Me.call(On,r)||(On[r]=[]),On[r].push({name:t,func:n})}})),On[Fo(o,2).name]=[{name:\"wrapper\",func:o}],Vn.prototype.clone=function(){var e=new Vn(this.__wrapped__);return e.__actions__=Po(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Po(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Po(this.__views__),e},Vn.prototype.reverse=function(){if(this.__filtered__){var e=new Vn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Vn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Va(e),r=t<0,o=n?e.length:0,i=function(e,t,n){var r=-1,o=n.length;for(;++r<o;){var i=n[r],a=i.size;switch(i.type){case\"drop\":e+=a;break;case\"dropRight\":t-=a;break;case\"take\":t=An(t,e+a);break;case\"takeRight\":e=wn(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=i.start,s=i.end,c=s-a,u=r?s:a-1,l=this.__iteratees__,d=l.length,f=0,h=An(c,this.__takeCount__);if(!n||!r&&o==c&&h==c)return mo(e,this.__actions__);var p=[];e:for(;c--&&f<h;){for(var g=-1,m=e[u+=t];++g<d;){var y=l[g],v=y.iteratee,w=y.type,A=v(m);if(2==w)m=A;else if(!A){if(1==w)continue e;break e}}p[f++]=m}return p},$n.prototype.at=ga,$n.prototype.chain=function(){return ha(this)},$n.prototype.commit=function(){return new Wn(this.value(),this.__chain__)},$n.prototype.next=function(){this.__values__===o&&(this.__values__=hs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},$n.prototype.plant=function(e){for(var t,n=this;n instanceof qn;){var r=Li(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},$n.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Vn){var t=e;return this.__actions__.length&&(t=new Vn(this)),(t=t.reverse()).__actions__.push({func:pa,args:[ta],thisArg:o}),new Wn(t,this.__chain__)}return this.thru(ta)},$n.prototype.toJSON=$n.prototype.valueOf=$n.prototype.value=function(){return mo(this.__wrapped__,this.__actions__)},$n.prototype.first=$n.prototype.head,Xe&&($n.prototype[Xe]=function(){return this}),$n}();gt._=vn,(r=function(){return vn}.call(t,n,t,e))===o||(e.exports=r)}.call(this)},5276:(e,t,n)=>{var r=n(4497),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},5288:(e,t,n)=>{var r=n(358),o=n(7200),i=n(6529);e.exports=function(e){return i(e)?r(e,!0):o(e)}},5353:(e,t,n)=>{var r=n(8638);e.exports=function(e,t,n){return t=n?void 0:t,t=e&&null==t?e.length:t,r(e,128,void 0,void 0,void 0,void 0,t)}},5387:e=>{e.exports=function(e){return\"number\"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},5512:(e,t,n)=>{var r=n(4943),o=n(3316)(r);e.exports=o},5568:e=>{e.exports=function(e,t){return e.has(t)}},5620:(e,t,n)=>{var r=n(8788),o=n(9141),i=n(796),a=n(33);e.exports=function(e,t,n){var s=t+\"\";return i(e,o(s,a(r(s),n)))}},5650:(e,t,n)=>{var r=n(8942).Symbol;e.exports=r},5681:(e,t,n)=>{var r=n(4700);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},5755:e=>{var t=Math.max;e.exports=function(e,n,r,o){for(var i=-1,a=e.length,s=-1,c=r.length,u=-1,l=n.length,d=t(a-c,0),f=Array(d+l),h=!o;++i<d;)f[i]=e[i];for(var p=i;++u<l;)f[p+u]=n[u];for(;++s<c;)(h||i<a)&&(f[p+r[s]]=e[i++]);return f}},5832:(e,t,n)=>{var r=n(1129),o=n(4784),i=n(7979),a=n(9306),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,i(e)),e=o(e);return t}:a;e.exports=s},5853:(e,t,n)=>{e=n.nmd(e);var r=n(8942),o=n(4772),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||o;e.exports=c},5857:(e,t,n)=>{var r=n(313);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},5894:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},5899:(e,t,n)=>{var r=n(3526),o=n(3283),i=n(3142),a=n(9632),s=n(5387),c=n(6040);e.exports=function(e,t,n){for(var u=-1,l=(t=r(t,e)).length,d=!1;++u<l;){var f=c(t[u]);if(!(d=null!=e&&n(e,f)))break;e=e[f]}return d||++u!=l?d:!!(l=null==e?0:e.length)&&s(l)&&a(f,l)&&(i(e)||o(e))}},5962:e=>{e.exports=function(){}},5964:(e,t,n)=>{var r=n(9747),o=n(4784),i=n(4882);e.exports=function(e){return\"function\"!=typeof e.constructor||i(e)?{}:r(o(e))}},6027:(e,t,n)=>{var r=n(7379),o=n(547);e.exports=function(e){return o(e)&&\"[object Arguments]\"==r(e)}},6040:(e,t,n)=>{var r=n(1187);e.exports=function(e){if(\"string\"==typeof e||r(e))return e;var t=e+\"\";return\"0\"==t&&1/e==-Infinity?\"-0\":t}},6065:(e,t,n)=>{var r=n(9270),o=r&&new r;e.exports=o},6123:(e,t,n)=>{var r=n(7923);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},6131:(e,t,n)=>{var r=n(6403),o=n(1580),i=n(1187),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if(\"number\"==typeof e)return e;if(i(e))return NaN;if(o(e)){var t=\"function\"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+\"\":t}if(\"string\"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):a.test(e)?NaN:+e}},6137:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},6285:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},6341:(e,t,n)=>{var r=n(6912),o=n(4364),i=n(8942);e.exports=function(e,t,n,a){var s=1&t,c=o(e);return function t(){for(var o=-1,u=arguments.length,l=-1,d=a.length,f=Array(d+u),h=this&&this!==i&&this instanceof t?c:e;++l<d;)f[l]=a[l];for(;u--;)f[l++]=arguments[++o];return r(h,s?n:this,f)}}},6403:(e,t,n)=>{var r=n(2945),o=/^\\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,\"\"):e}},6465:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},6493:(e,t,n)=>{var r=n(6853),o=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,i=/\\\\(\\\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(\"\"),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(i,\"$1\"):n||e)})),t}));e.exports=a},6526:(e,t,n)=>{var r=n(8330),o=n(4367),i=n(3904);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},6529:(e,t,n)=>{var r=n(3655),o=n(5387);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},6591:(e,t,n)=>{var r=n(4354),o=n(9632),i=Math.min;e.exports=function(e,t){for(var n=e.length,a=i(t.length,n),s=r(e);a--;){var c=t[a];e[a]=o(c,n)?s[c]:void 0}return e}},6638:(e,t,n)=>{var r=n(1386),o=n(9770),i=n(8250);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(e,t),this.size=n.size,this}},6648:(e,t,n)=>{var r=n(7553),o=n(5196),i=n(961),a=n(3321);e.exports=function(e){var t=i(e),n=a[t];if(\"function\"!=typeof n||!(t in r.prototype))return!1;if(e===n)return!0;var s=o(n);return!!s&&e===s[0]}},6713:(e,t,n)=>{var r=n(4364),o=n(8942);e.exports=function(e,t,n){var i=1&t,a=r(e);return function t(){return(this&&this!==o&&this instanceof t?a:e).apply(i?n:this,arguments)}}},6850:e=>{e.exports=function(e){return e.placeholder}},6853:(e,t,n)=>{var r=n(9011);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},6912:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},7028:(e,t,n)=>{var r=n(4977),o=n(5755),i=n(8813),a=\"__lodash_placeholder__\",s=128,c=Math.min;e.exports=function(e,t){var n=e[1],u=t[1],l=n|u,d=l<131,f=u==s&&8==n||u==s&&256==n&&e[7].length<=t[8]||384==u&&t[7].length<=t[8]&&8==n;if(!d&&!f)return e;1&u&&(e[2]=t[2],l|=1&n?0:4);var h=t[3];if(h){var p=e[3];e[3]=p?r(p,h,t[4]):h,e[4]=p?i(e[3],a):t[4]}return(h=t[5])&&(p=e[5],e[5]=p?o(p,h,t[6]):h,e[6]=p?i(e[5],a):t[6]),(h=t[7])&&(e[7]=h),u&s&&(e[8]=null==e[8]?t[8]:c(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=l,e}},7034:(e,t,n)=>{var r=n(6285);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},7073:(e,t,n)=>{var r=n(2532);e.exports=function(e,t,n){\"__proto__\"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},7099:(e,t,n)=>{e=n.nmd(e);var r=n(8942),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},7144:(e,t,n)=>{var r=n(7034);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7200:(e,t,n)=>{var r=n(1580),o=n(4882),i=n(8546),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=o(e),n=[];for(var s in e)(\"constructor\"!=s||!t&&a.call(e,s))&&n.push(s);return n}},7250:e=>{e.exports=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}},7267:(e,t,n)=>{var r=n(1580);e.exports=function(e){return e==e&&!r(e)}},7276:(e,t,n)=>{var r=n(3636),o=n(5899);e.exports=function(e,t){return null!=e&&o(e,t,r)}},7336:(e,t,n)=>{var r=n(8638);function o(e,t,n){var i=r(e,8,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return i.placeholder=o.placeholder,i}o.placeholder={},e.exports=o},7350:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&\"string\"==typeof e[0]&&t.call(e,\"index\")&&(r.index=e.index,r.input=e.input),r}},7379:(e,t,n)=>{var r=n(5650),o=n(8870),i=n(9005),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?\"[object Undefined]\":\"[object Null]\":a&&a in Object(e)?o(e):i(e)}},7403:(e,t,n)=>{var r=n(2619),o=n(2532),i=n(2053),a=o?function(e,t){return o(e,\"toString\",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=a},7452:(e,t,n)=>{var r=n(7034);e.exports=function(e){return r(this.__data__,e)>-1}},7462:e=>{e.exports=function(e){return this.__data__.has(e)}},7553:(e,t,n)=>{var r=n(9747),o=n(5962);function i(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}i.prototype=r(o.prototype),i.prototype.constructor=i,e.exports=i},7642:(e,t,n)=>{var r=n(3301);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},7681:(e,t,n)=>{var r=n(777),o=n(9460),i=n(2306),a=i&&i.isMap,s=a?o(a):r;e.exports=s},7706:e=>{e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},7769:(e,t,n)=>{var r=n(8486),o=n(547);e.exports=function(e){return o(e)&&\"[object WeakMap]\"==r(e)}},7923:(e,t,n)=>{var r=n(3526),o=n(6040);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},7930:(e,t,n)=>{var r=n(9032),o=n(1211);e.exports=function(e,t){return e&&r(t,o(t),e)}},7979:(e,t,n)=>{var r=n(9847),o=n(9306),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return i.call(e,t)})))}:o;e.exports=s},7991:(e,t)=>{\"use strict\";t.byteLength=function(e){var t=s(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=s(e),a=i[0],c=i[1],u=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,c)),l=0,d=c>0?a-4:a;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===c&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,u[l++]=255&t);1===c&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],a=16383,s=0,u=r-o;s<u;s+=a)i.push(c(e,s,s+a>u?u:s+a));1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+\"==\")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+\"=\"));return i.join(\"\")};for(var n=[],r=[],o=\"undefined\"!=typeof Uint8Array?Uint8Array:Array,i=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",a=0;a<64;++a)n[a]=i[a],r[i.charCodeAt(a)]=a;function s(e){var t=e.length;if(t%4>0)throw new Error(\"Invalid string. Length must be a multiple of 4\");var n=e.indexOf(\"=\");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,r){for(var o,i,a=[],s=t;s<r;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join(\"\")}r[\"-\".charCodeAt(0)]=62,r[\"_\".charCodeAt(0)]=63},8006:e=>{e.exports=function(e){return this.__data__.has(e)}},8055:(e,t,n)=>{e.exports={ary:n(5353),assign:n(7930),clone:n(2846),curry:n(7336),forEach:n(9968),isArray:n(3142),isError:n(441),isFunction:n(3655),isWeakMap:n(7769),iteratee:n(2590),keys:n(195),rearg:n(864),toInteger:n(7642),toPath:n(2613)}},8069:(e,t,n)=>{var r=n(5650),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},8121:(e,t,n)=>{var r=n(3766)(Object.keys,Object);e.exports=r},8244:(e,t,n)=>{var r=n(1129),o=n(3142);e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},8250:(e,t,n)=>{var r=n(9753),o=n(5681),i=n(88),a=n(4732),s=n(9068);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},8330:(e,t,n)=>{var r=n(1340),o=n(4687);e.exports=function(e,t,n,i){var a=n.length,s=a,c=!i;if(null==e)return!s;for(e=Object(e);a--;){var u=n[a];if(c&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<s;){var l=(u=n[a])[0],d=e[l],f=u[1];if(c&&u[2]){if(void 0===d&&!(l in e))return!1}else{var h=new r;if(i)var p=i(d,f,l,e,t,h);if(!(void 0===p?o(f,d,3,i,h):p))return!1}}return!0}},8340:e=>{var t=/\\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},8360:(e,t,n)=>{var r=n(7379),o=n(4784),i=n(547),a=Function.prototype,s=Object.prototype,c=a.toString,u=s.hasOwnProperty,l=c.call(Object);e.exports=function(e){if(!i(e)||\"[object Object]\"!=r(e))return!1;var t=o(e);if(null===t)return!0;var n=u.call(t,\"constructor\")&&t.constructor;return\"function\"==typeof n&&n instanceof n&&c.call(n)==l}},8486:(e,t,n)=>{var r=n(3103),o=n(9770),i=n(9413),a=n(4512),s=n(9270),c=n(7379),u=n(4066),l=\"[object Map]\",d=\"[object Promise]\",f=\"[object Set]\",h=\"[object WeakMap]\",p=\"[object DataView]\",g=u(r),m=u(o),y=u(i),v=u(a),w=u(s),A=c;(r&&A(new r(new ArrayBuffer(1)))!=p||o&&A(new o)!=l||i&&A(i.resolve())!=d||a&&A(new a)!=f||s&&A(new s)!=h)&&(A=function(e){var t=c(e),n=\"[object Object]\"==t?e.constructor:void 0,r=n?u(n):\"\";if(r)switch(r){case g:return p;case m:return l;case y:return d;case v:return f;case w:return h}return t}),e.exports=A},8546:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},8638:(e,t,n)=>{var r=n(4943),o=n(6713),i=n(2443),a=n(3504),s=n(6341),c=n(5196),u=n(7028),l=n(5512),d=n(5620),f=n(7642),h=Math.max;e.exports=function(e,t,n,p,g,m,y,v){var w=2&t;if(!w&&\"function\"!=typeof e)throw new TypeError(\"Expected a function\");var A=p?p.length:0;if(A||(t&=-97,p=g=void 0),y=void 0===y?y:h(f(y),0),v=void 0===v?v:f(v),A-=g?g.length:0,64&t){var b=p,S=g;p=g=void 0}var E=w?void 0:c(e),x=[e,t,n,p,g,b,S,m,y,v];if(E&&u(x,E),e=x[0],t=x[1],n=x[2],p=x[3],g=x[4],!(v=x[9]=void 0===x[9]?w?0:e.length:h(x[9]-A,0))&&24&t&&(t&=-25),t&&1!=t)T=8==t||16==t?i(e,t,v):32!=t&&33!=t||g.length?a.apply(void 0,x):s(e,t,n,p);else var T=o(e,t,n);return d((E?r:l)(T,x),e,t)}},8666:(e,t,n)=>{var r=n(674),o=n(9460),i=n(2306),a=i&&i.isTypedArray,s=a?o(a):r;e.exports=s},8788:e=>{var t=/\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,n=/,? & /;e.exports=function(e){var r=e.match(t);return r?r[1].split(n):[]}},8813:e=>{var t=\"__lodash_placeholder__\";e.exports=function(e,n){for(var r=-1,o=e.length,i=0,a=[];++r<o;){var s=e[r];s!==n&&s!==t||(e[r]=t,a[i++]=r)}return a}},8861:(e,t,n)=>{var r=n(5650),o=n(1623),i=n(6285),a=n(3934),s=n(5894),c=n(9828),u=r?r.prototype:void 0,l=u?u.valueOf:void 0;e.exports=function(e,t,n,r,u,d,f){switch(n){case\"[object DataView]\":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case\"[object ArrayBuffer]\":return!(e.byteLength!=t.byteLength||!d(new o(e),new o(t)));case\"[object Boolean]\":case\"[object Date]\":case\"[object Number]\":return i(+e,+t);case\"[object Error]\":return e.name==t.name&&e.message==t.message;case\"[object RegExp]\":case\"[object String]\":return e==t+\"\";case\"[object Map]\":var h=s;case\"[object Set]\":var p=1&r;if(h||(h=c),e.size!=t.size&&!p)return!1;var g=f.get(e);if(g)return g==t;r|=2,f.set(e,t);var m=a(h(e),h(t),r,u,d,f);return f.delete(e),m;case\"[object Symbol]\":if(l)return l.call(e)==l.call(t)}return!1}},8870:(e,t,n)=>{var r=n(5650),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},8880:(e,t,n)=>{var r=n(7923);e.exports=function(e){return function(t){return r(t,e)}}},8898:(e,t,n)=>{var r=n(1623);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},8942:(e,t,n)=>{var r=n(4967),o=\"object\"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function(\"return this\")();e.exports=i},9005:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},9011:(e,t,n)=>{var r=n(8250);function o(e,t){if(\"function\"!=typeof e||null!=t&&\"function\"!=typeof t)throw new TypeError(\"Expected a function\");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},9032:(e,t,n)=>{var r=n(3422),o=n(7073);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var u=t[s],l=i?i(n[u],e[u],u,n,e):void 0;void 0===l&&(l=e[u]),a?o(n,u,l):r(n,u,l)}return n}},9067:e=>{e.exports=function(e){var t=typeof e;return\"string\"==t||\"number\"==t||\"symbol\"==t||\"boolean\"==t?\"__proto__\"!==e:null===e}},9068:(e,t,n)=>{var r=n(4700);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},9071:e=>{e.exports=function(){}},9141:e=>{var t=/\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/;e.exports=function(e,n){var r=n.length;if(!r)return e;var o=r-1;return n[o]=(r>1?\"& \":\"\")+n[o],n=n.join(r>2?\", \":\" \"),e.replace(t,\"{\\n/* [wrapped with \"+n+\"] */\\n\")}},9270:(e,t,n)=>{var r=n(4715)(n(8942),\"WeakMap\");e.exports=r},9306:e=>{e.exports=function(){return[]}},9318:(e,t)=>{t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,c=(1<<s)-1,u=c>>1,l=-7,d=n?o-1:0,f=n?-1:1,h=e[t+d];for(d+=f,i=h&(1<<-l)-1,h>>=-l,l+=s;l>0;i=256*i+e[t+d],d+=f,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+e[t+d],d+=f,l-=8);if(0===i)i=1-u;else{if(i===c)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),i-=u}return(h?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,c,u=8*i-o-1,l=(1<<u)-1,d=l>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+d>=1?f/c:f*Math.pow(2,1-d))*c>=2&&(a++,c/=2),a+d>=l?(s=0,a=l):a+d>=1?(s=(t*c-1)*Math.pow(2,o),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;e[n+h]=255&s,h+=p,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;e[n+h]=255&a,h+=p,a/=256,u-=8);e[n+h-p]|=128*g}},9334:(e,t,n)=>{var r=n(1340),o=n(9968),i=n(3422),a=n(7930),s=n(125),c=n(7099),u=n(4354),l=n(3546),d=n(4733),f=n(393),h=n(3650),p=n(8486),g=n(7350),m=n(424),y=n(5964),v=n(3142),w=n(5853),A=n(7681),b=n(1580),S=n(3943),E=n(1211),x=n(5288),T=\"[object Arguments]\",k=\"[object Function]\",I=\"[object Object]\",_={};_[T]=_[\"[object Array]\"]=_[\"[object ArrayBuffer]\"]=_[\"[object DataView]\"]=_[\"[object Boolean]\"]=_[\"[object Date]\"]=_[\"[object Float32Array]\"]=_[\"[object Float64Array]\"]=_[\"[object Int8Array]\"]=_[\"[object Int16Array]\"]=_[\"[object Int32Array]\"]=_[\"[object Map]\"]=_[\"[object Number]\"]=_[I]=_[\"[object RegExp]\"]=_[\"[object Set]\"]=_[\"[object String]\"]=_[\"[object Symbol]\"]=_[\"[object Uint8Array]\"]=_[\"[object Uint8ClampedArray]\"]=_[\"[object Uint16Array]\"]=_[\"[object Uint32Array]\"]=!0,_[\"[object Error]\"]=_[k]=_[\"[object WeakMap]\"]=!1,e.exports=function e(t,n,C,R,P,O){var N,B=1&n,z=2&n,M=4&n;if(C&&(N=P?C(t,R,P,O):C(t)),void 0!==N)return N;if(!b(t))return t;var j=v(t);if(j){if(N=g(t),!B)return u(t,N)}else{var U=p(t),D=U==k||\"[object GeneratorFunction]\"==U;if(w(t))return c(t,B);if(U==I||U==T||D&&!P){if(N=z||D?{}:y(t),!B)return z?d(t,s(N,t)):l(t,a(N,t))}else{if(!_[U])return P?t:{};N=m(t,U,B)}}O||(O=new r);var L=O.get(t);if(L)return L;O.set(t,N),S(t)?t.forEach((function(r){N.add(e(r,n,C,r,t,O))})):A(t)&&t.forEach((function(r,o){N.set(o,e(r,n,C,o,t,O))}));var $=j?void 0:(M?z?h:f:z?x:E)(t);return o($||t,(function(r,o){$&&(r=t[o=r]),i(N,o,e(r,n,C,o,t,O))})),N}},9361:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},9413:(e,t,n)=>{var r=n(4715)(n(8942),\"Promise\");e.exports=r},9454:e=>{e.exports=function(e){return e!=e}},9460:e=>{e.exports=function(e){return function(t){return e(t)}}},9624:(e,t,n)=>{var r=n(3655),o=n(4759),i=n(1580),a=n(4066),s=/^\\[object .+?Constructor\\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,d=u.hasOwnProperty,f=RegExp(\"^\"+l.call(d).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?f:s).test(a(e))}},9632:e=>{var t=/^(?:0|[1-9]\\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&(\"number\"==r||\"symbol\"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},9747:(e,t,n)=>{var r=n(1580),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},9753:(e,t,n)=>{var r=n(5098),o=n(1386),i=n(9770);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},9756:(e,t,n)=>{var r=n(2478);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},9770:(e,t,n)=>{var r=n(4715)(n(8942),\"Map\");e.exports=r},9828:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},9847:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}},9968:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if(\"object\"==typeof globalThis)return globalThis;try{return this||new Function(\"return this\")()}catch(e){if(\"object\"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var r={};(()=>{\"use strict\";n.r(r),n.d(r,{onAssetHistoricalPrice:()=>xx,onAssetsConversion:()=>Sx,onAssetsLookup:()=>bx,onAssetsMarketData:()=>Px,onClientRequest:()=>Tx,onCronjob:()=>Ax,onInstall:()=>Cx,onKeyringRequest:()=>vx,onNameLookup:()=>Rx,onProtocolRequest:()=>Ex,onRpcRequest:()=>yx,onStart:()=>Ix,onUpdate:()=>_x,onUserInput:()=>wx,onWebSocketEvent:()=>kx});var e=function(){return e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},e.apply(this,arguments)},t=\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\";(()=>{const e=Array(256).fill(-1);for(let n=0;n<58;++n)e[t.charCodeAt(n)]=n})();var o,i,a=e=>{if(!e||\"string\"!=typeof e)throw new Error(`Expected base58 string but got “${e}”`);if(e.match(/[IOl0]/gmu))throw new Error(`Invalid base58 character “${e.match(/[IOl0]/gmu)}”`);const n=e.match(/^1+/gmu),r=n?n[0].length:0,o=(e.length-r)*(Math.log(58)/Math.log(256))+1>>>0;return new Uint8Array([...new Uint8Array(r),...e.match(/.{1}/gmu).map((e=>t.indexOf(e))).reduce(((e,t)=>e.map((e=>{const n=58*e+t;return t=n>>8,n}))),new Uint8Array(o)).reverse().filter((i=!1,e=>i=i||e))]);var i},s=(function(e,t){Object.defineProperty(t,\"__esModule\",{value:!0}),t.bech32m=t.bech32=void 0;const n=\"qpzry9x8gf2tvdw0s3jn54khce6mua7l\",r={};for(let e=0;e<32;e++){const t=n.charAt(e);r[t]=e}function o(e){const t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function i(e){let t=1;for(let n=0;n<e.length;++n){const r=e.charCodeAt(n);if(r<33||r>126)return\"Invalid prefix (\"+e+\")\";t=o(t)^r>>5}t=o(t);for(let n=0;n<e.length;++n){const r=e.charCodeAt(n);t=o(t)^31&r}return t}function a(e,t,n,r){let o=0,i=0;const a=(1<<n)-1,s=[];for(let r=0;r<e.length;++r)for(o=o<<t|e[r],i+=t;i>=n;)i-=n,s.push(o>>i&a);if(r)i>0&&s.push(o<<n-i&a);else{if(i>=t)return\"Excess padding\";if(o<<n-i&a)return\"Non-zero padding\"}return s}function s(e){return a(e,8,5,!0)}function c(e){const t=a(e,5,8,!1);if(Array.isArray(t))return t}function u(e){const t=a(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}function l(e){let t;function a(e,n){if(n=n||90,e.length<8)return e+\" too short\";if(e.length>n)return\"Exceeds length limit\";const a=e.toLowerCase(),s=e.toUpperCase();if(e!==a&&e!==s)return\"Mixed-case string \"+e;const c=(e=a).lastIndexOf(\"1\");if(-1===c)return\"No separator character for \"+e;if(0===c)return\"Missing prefix for \"+e;const u=e.slice(0,c),l=e.slice(c+1);if(l.length<6)return\"Data too short\";let d=i(u);if(\"string\"==typeof d)return d;const f=[];for(let e=0;e<l.length;++e){const t=l.charAt(e),n=r[t];if(void 0===n)return\"Unknown character \"+t;d=o(d)^n,e+6>=l.length||f.push(n)}return d!==t?\"Invalid checksum for \"+e:{prefix:u,words:f}}return t=\"bech32\"===e?1:734539939,{decodeUnsafe:function(e,t){const n=a(e,t);if(\"object\"==typeof n)return n},decode:function(e,t){const n=a(e,t);if(\"object\"==typeof n)return n;throw new Error(n)},encode:function(e,r,a){if(a=a||90,e.length+7+r.length>a)throw new TypeError(\"Exceeds length limit\");let s=i(e=e.toLowerCase());if(\"string\"==typeof s)throw new Error(s);let c=e+\"1\";for(let e=0;e<r.length;++e){const t=r[e];if(t>>5!=0)throw new Error(\"Non 5-bit word\");s=o(s)^t,c+=n.charAt(t)}for(let e=0;e<6;++e)s=o(s);s^=t;for(let e=0;e<6;++e)c+=n.charAt(s>>5*(5-e)&31);return c},toWords:s,fromWordsUnsafe:c,fromWords:u}}t.bech32=l(\"bech32\"),t.bech32m=l(\"bech32m\")}(o={exports:{}},o.exports),o.exports);(i=s)&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,\"default\")&&i.default;var c=s.bech32m,u=s.bech32;const l=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998];class d{constructor(){this.A=1779033703,this.B=-1150833019,this.C=1013904242,this.D=-1521486534,this.E=1359893119,this.F=-1694144372,this.G=528734635,this.H=1541459225,this._size=0,this._sp=0,(!h||p>=8e3)&&(h=new ArrayBuffer(8e3),p=0),this._byte=new Uint8Array(h,p,80),this._word=new Int32Array(h,p,20),p+=80}update(e){if(\"string\"==typeof e)return this._utf8(e);if(null==e)throw new TypeError(\"Invalid type: \"+typeof e);const t=e.byteOffset,n=e.byteLength;let r=n/64|0,o=0;if(r&&!(3&t)&&!(this._size%64)){const n=new Int32Array(e.buffer,t,16*r);for(;r--;)this._int32(n,o>>2),o+=64;this._size+=o}if(1!==e.BYTES_PER_ELEMENT&&e.buffer){const r=new Uint8Array(e.buffer,t+o,n-o);return this._uint8(r)}return o===n?this:this._uint8(e,o)}_uint8(e,t){const{_byte:n,_word:r}=this,o=e.length;for(t|=0;t<o;){const i=this._size%64;let a=i;for(;t<o&&a<64;)n[a++]=e[t++];a>=64&&this._int32(r),this._size+=a-i}return this}_utf8(e){const{_byte:t,_word:n}=this,r=e.length;let o=this._sp;for(let i=0;i<r;){const a=this._size%64;let s=a;for(;i<r&&s<64;){let n=0|e.charCodeAt(i++);n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|63&n):n<55296||n>57343?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|63&n):o?(n=((1023&o)<<10)+(1023&n)+65536,t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|63&n,o=0):o=n}s>=64&&(this._int32(n),n[0]=n[16]),this._size+=s-a}return this._sp=o,this}_int32(e,t){let{A:n,B:r,C:o,D:i,E:a,F:s,G:c,H:u}=this,d=0;for(t|=0;d<16;)f[d++]=m(e[t++]);for(d=16;d<64;d++)f[d]=S(f[d-2])+f[d-7]+b(f[d-15])+f[d-16]|0;for(d=0;d<64;d++){const e=u+A(a)+y(a,s,c)+l[d]+f[d]|0,t=w(n)+v(n,r,o)|0;u=c,c=s,s=a,a=i+e|0,i=o,o=r,r=n,n=e+t|0}this.A=n+this.A|0,this.B=r+this.B|0,this.C=o+this.C|0,this.D=i+this.D|0,this.E=a+this.E|0,this.F=s+this.F|0,this.G=c+this.G|0,this.H=u+this.H|0}digest(e){const{_byte:t,_word:n}=this;let r=this._size%64|0;for(t[r++]=128;3&r;)t[r++]=0;if(r>>=2,r>14){for(;r<16;)n[r++]=0;r=0,this._int32(n)}for(;r<16;)n[r++]=0;const o=8*this._size,i=(4294967295&o)>>>0,a=(o-i)/4294967296;return a&&(n[14]=m(a)),i&&(n[15]=m(i)),this._int32(n),\"hex\"===e?this._hex():this._bin()}_hex(){const{A:e,B:t,C:n,D:r,E:o,F:i,G:a,H:s}=this;return g(e)+g(t)+g(n)+g(r)+g(o)+g(i)+g(a)+g(s)}_bin(){const{A:e,B:t,C:n,D:r,E:o,F:i,G:a,H:s,_byte:c,_word:u}=this;return u[0]=m(e),u[1]=m(t),u[2]=m(n),u[3]=m(r),u[4]=m(o),u[5]=m(i),u[6]=m(a),u[7]=m(s),c.slice(0,32)}}const f=new Int32Array(64);let h,p=0;const g=e=>(e+4294967296).toString(16).substr(-8),m=254===new Uint8Array(new Uint16Array([65279]).buffer)[0]?e=>e:e=>e<<24&4278190080|e<<8&16711680|e>>8&65280|e>>24&255,y=(e,t,n)=>n^e&(t^n),v=(e,t,n)=>e&t|n&(e|t),w=e=>(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),A=e=>(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7),b=e=>(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3,S=e=>(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10;var E,x,T=function(e){return(new d).update(e).digest()};!function(e){e.mainnet=\"mainnet\",e.testnet=\"testnet\",e.regtest=\"regtest\"}(E||(E={})),function(e){e.p2pkh=\"p2pkh\",e.p2sh=\"p2sh\",e.p2wpkh=\"p2wpkh\",e.p2wsh=\"p2wsh\",e.p2tr=\"p2tr\"}(x||(x={}));var k={0:{type:x.p2pkh,network:E.mainnet},111:{type:x.p2pkh,network:E.testnet},5:{type:x.p2sh,network:E.mainnet},196:{type:x.p2sh,network:E.testnet}},I=function(t){var n,r=t.substr(0,2).toLowerCase();if(\"bc\"===r||\"tb\"===r)return function(e){var t;try{t=e.startsWith(\"bc1p\")||e.startsWith(\"tb1p\")||e.startsWith(\"bcrt1p\")?c.decode(e):u.decode(e)}catch(e){throw new Error(\"Invalid address\")}var n={bc:E.mainnet,tb:E.testnet,bcrt:E.regtest}[t.prefix];if(void 0===n)throw new Error(\"Invalid address\");var r=t.words[0];if(r<0||r>16)throw new Error(\"Invalid address\");return{bech32:!0,network:n,address:e,type:20===u.fromWords(t.words.slice(1)).length?x.p2wpkh:1===r?x.p2tr:x.p2wsh}}(t);try{n=a(t)}catch(e){throw new Error(\"Invalid address\")}var o=n.length;if(25!==o)throw new Error(\"Invalid address\");var i=n[0],s=n.slice(o-4,o),l=n.slice(0,o-4),d=T(T(l)).slice(0,4);if(s.some((function(e,t){return e!==d[t]})))throw new Error(\"Invalid address\");if(!Object.keys(k).map(Number).includes(i))throw new Error(\"Invalid address\");return e(e({},k[i]),{address:t,bech32:!1})};class _ extends TypeError{constructor(e,t){let n;const{message:r,explanation:o,...i}=e,{path:a}=e,s=0===a.length?r:`At path: ${a.join(\".\")} -- ${r}`;super(o??s),null!=o&&(this.cause=s),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}}function C(e){return\"object\"==typeof e&&null!==e}function R(e){return\"symbol\"==typeof e?e.toString():\"string\"==typeof e?JSON.stringify(e):`${e}`}function P(e,t,n,r){if(!0===e)return;!1===e?e={}:\"string\"==typeof e&&(e={message:e});const{path:o,branch:i}=t,{type:a}=n,{refinement:s,message:c=`Expected a value of type \\`${a}\\`${s?` with refinement \\`${s}\\``:\"\"}, but received: \\`${R(r)}\\``}=e;return{value:r,type:a,refinement:s,key:o[o.length-1],path:o,branch:i,...e,message:c}}function*O(e,t,n,r){(function(e){return C(e)&&\"function\"==typeof e[Symbol.iterator]})(e)||(e=[e]);for(const o of e){const e=P(o,t,n,r);e&&(yield e)}}function*N(e,t,n={}){const{path:r=[],branch:o=[e],coerce:i=!1,mask:a=!1}=n,s={path:r,branch:o};if(i&&(e=t.coercer(e,s),a&&\"type\"!==t.type&&C(t.schema)&&C(e)&&!Array.isArray(e)))for(const n in e)void 0===t.schema[n]&&delete e[n];let c=\"valid\";for(const r of t.validator(e,s))r.explanation=n.message,c=\"not_valid\",yield[r,void 0];for(let[u,l,d]of t.entries(e,s)){const t=N(l,d,{path:void 0===u?r:[...r,u],branch:void 0===u?o:[...o,l],coerce:i,mask:a,message:n.message});for(const n of t)n[0]?(c=null===n[0].refinement||void 0===n[0].refinement?\"not_valid\":\"not_refined\",yield[n[0],void 0]):i&&(l=n[1],void 0===u?e=l:e instanceof Map?e.set(u,l):e instanceof Set?e.add(l):C(e)&&(void 0!==l||u in e)&&(e[u]=l))}if(\"not_valid\"!==c)for(const r of t.refiner(e,s))r.explanation=n.message,c=\"not_refined\",yield[r,void 0];\"valid\"===c&&(yield[void 0,e])}class B{constructor(e){const{type:t,schema:n,validator:r,refiner:o,coercer:i=(e=>e),entries:a=function*(){}}=e;this.type=t,this.schema=n,this.entries=a,this.coercer=i,this.validator=r?(e,t)=>O(r(e,t),t,this,e):()=>[],this.refiner=o?(e,t)=>O(o(e,t),t,this,e):()=>[]}assert(e,t){return z(e,this,t)}create(e,t){return M(e,this,t)}is(e){return j(e,this)}mask(e,t){return function(e,t,n){const r=U(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}(e,this,t)}validate(e,t={}){return U(e,this,t)}}function z(e,t,n){const r=U(e,t,{message:n});if(r[0])throw r[0]}function M(e,t,n){const r=U(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function j(e,t){return!U(e,t)[0]}function U(e,t,n={}){const r=N(e,t,n),o=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(r);if(o[0]){return[new _(o[0],(function*(){for(const e of r)e[0]&&(yield e[0])})),void 0]}return[void 0,o[1]]}function D(e,t){return new B({type:e,schema:null,validator:t})}function L(e,t){return D(e,(e=>\"string\"==typeof e&&t.test(e)))}const $=L(\"UuidV4\",/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/iu),F=$,q=D(\"Url\",(e=>{try{const t=new URL(e);return\"http:\"===t.protocol||\"https:\"===t.protocol}catch{return!1}})),W=L(\"StringNumber\",/^\\d+(\\.\\d+)?$/u);function V(){return D(\"any\",(()=>!0))}function K(e){return new B({type:\"array\",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${R(e)}`})}function G(){return D(\"boolean\",(e=>\"boolean\"==typeof e))}function H(e){const t={},n=e.map((e=>R(e))).join();for(const n of e)t[n]=n;return new B({type:\"enums\",schema:t,validator:t=>e.includes(t)||`Expected one of \\`${n}\\`, but received: ${R(t)}`})}function J(){return D(\"integer\",(e=>\"number\"==typeof e&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${R(e)}`))}function Z(e){const t=R(e),n=typeof e;return new B({type:\"literal\",schema:\"string\"===n||\"number\"===n||\"boolean\"===n?e:null,validator:n=>n===e||`Expected the literal \\`${t}\\`, but received: ${R(n)}`})}function Y(){return D(\"never\",(()=>!1))}function X(e){return new B({...e,validator:(t,n)=>null===t||e.validator(t,n),refiner:(t,n)=>null===t||e.refiner(t,n)})}function Q(){return D(\"number\",(e=>\"number\"==typeof e&&!isNaN(e)||`Expected a number, but received: ${R(e)}`))}function ee(e){const t=e?Object.keys(e):[],n=Y();return new B({type:\"object\",schema:e??null,*entries(r){if(e&&C(r)){const o=new Set(Object.keys(r));for(const n of t)o.delete(n),yield[n,r[n],e[n]];for(const e of o)yield[e,r[e],n]}},validator:e=>C(e)||`Expected an object, but received: ${R(e)}`,coercer:e=>C(e)?{...e}:e})}function te(e){return new B({...e,validator:(t,n)=>void 0===t||e.validator(t,n),refiner:(t,n)=>void 0===t||e.refiner(t,n)})}function ne(e,t){return new B({type:\"record\",schema:null,*entries(n){if(C(n))for(const r in n){const o=n[r];yield[r,r,e],yield[r,o,t]}},validator:e=>C(e)||`Expected an object, but received: ${R(e)}`})}function re(){return D(\"string\",(e=>\"string\"==typeof e||`Expected a string, but received: ${R(e)}`))}function oe(e){const t=Y();return new B({type:\"tuple\",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(e.length,n.length);for(let o=0;o<r;o++)yield[o,n[o],e[o]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${R(e)}`})}function ie(e){const t=Object.keys(e);return new B({type:\"type\",schema:e,*entries(n){if(C(n))for(const r of t)yield[r,n[r],e[r]]},validator:e=>C(e)||`Expected an object, but received: ${R(e)}`,coercer:e=>C(e)?{...e}:e})}function ae(e){const t=e.map((e=>e.type)).join(\" | \");return new B({type:\"union\",schema:null,coercer(t){for(const n of e){const[e,r]=n.validate(t,{coerce:!0});if(!e)return r}return t},validator(n,r){const o=[];for(const t of e){const[...e]=N(n,t,r),[i]=e;if(!i?.[0])return[];for(const[t]of e)t&&o.push(t)}return[`Expected the value to satisfy a union of \\`${t}\\`, but received: ${R(n)}`,...o]}})}function se(){return D(\"unknown\",(()=>!0))}function ce(e){return ee(e)}function ue(e){return e.path[e.path.length-1]in e.branch[e.branch.length-2]}function le(e){return new B({...e,validator:(t,n)=>!ue(n)||e.validator(t,n),refiner:(t,n)=>!ue(n)||e.refiner(t,n)})}function de(e,t,n){return new B({...e,coercer:(r,o)=>j(r,t)?e.coercer(n(r,o),o):e.coercer(r,o)})}function fe(e){return e instanceof Map||e instanceof Set?e.size:e.length}function he(e,t,n={}){const{exclusive:r}=n;return me(e,\"min\",(n=>r?n>t:n>=t||`Expected a ${e.type} greater than ${r?\"\":\"or equal to \"}${t} but received \\`${n}\\``))}function pe(e){return me(e,\"nonempty\",(t=>fe(t)>0||`Expected a nonempty ${e.type} but received an empty one`))}function ge(e,t){return me(e,\"pattern\",(n=>t.test(n)||`Expected a ${e.type} matching \\`/${t.source}/\\` but received \"${n}\"`))}function me(e,t,n){return new B({...e,*refiner(r,o){yield*e.refiner(r,o);const i=O(n(r,o),o,e,r);for(const e of i)yield{...e,refinement:t}}})}const ye=(e,t)=>Object.hasOwnProperty.call(e,t);var ve;!function(e){e[e.Null=4]=\"Null\",e[e.Comma=1]=\"Comma\",e[e.Wrapper=1]=\"Wrapper\",e[e.True=4]=\"True\",e[e.False=5]=\"False\",e[e.Quote=1]=\"Quote\",e[e.Colon=1]=\"Colon\",e[e.Date=24]=\"Date\"}(ve=ve||(ve={}));const we=e=>ee(e);function Ae({path:e,branch:t}){const n=e[e.length-1];return ye(t[t.length-2],n)}function be(e){return new B({...e,type:`optional ${e.type}`,validator:(t,n)=>!Ae(n)||e.validator(t,n),refiner:(t,n)=>!Ae(n)||e.refiner(t,n)})}function Se(e){if(null===e||\"boolean\"==typeof e||\"string\"==typeof e)return!0;if(\"number\"==typeof e&&Number.isFinite(e))return!0;if(\"object\"==typeof e){let t=!0;if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(!Se(e[n])){t=!1;break}return t}const n=Object.entries(e);for(let e=0;e<n.length;e++)if(\"string\"!=typeof n[e][0]||!Se(n[e][1])){t=!1;break}return t}return!1}const Ee=D(\"JSON\",(e=>Se(e))),xe=de(Ee,me(V(),\"JSON\",(e=>j(e,Ee))),(e=>JSON.parse(JSON.stringify(e,((e,t)=>{if(\"__proto__\"!==e&&\"constructor\"!==e)return t})))));const Te=Z(\"2.0\"),ke=X(ae([Q(),re()])),Ie=we({code:J(),message:re(),data:be(xe),stack:be(re())}),_e=ae([ne(re(),xe),K(xe)]);we({id:ke,jsonrpc:Te,method:re(),params:be(_e)}),we({jsonrpc:Te,method:re(),params:be(_e)});ee({id:ke,jsonrpc:Te,result:te(se()),error:te(Ie)});const Ce=we({id:ke,jsonrpc:Te,result:xe}),Re=we({id:ke,jsonrpc:Te,error:Ie});ae([Ce,Re]);const Pe=ce({jsonrpc:Z(\"2.0\"),id:ae([re(),Q(),Z(null)]),method:re(),params:le(ae([K(xe),ne(re(),xe)]))});const Oe=(e,t)=>Object.hasOwnProperty.call(e,t);var Ne;!function(e){e[e.Null=4]=\"Null\",e[e.Comma=1]=\"Comma\",e[e.Wrapper=1]=\"Wrapper\",e[e.True=4]=\"True\",e[e.False=5]=\"False\",e[e.Quote=1]=\"Quote\",e[e.Colon=1]=\"Colon\",e[e.Date=24]=\"Date\"}(Ne=Ne||(Ne={}));const Be=e=>ee(e);function ze({path:e,branch:t}){const n=e[e.length-1];return Oe(t[t.length-2],n)}function Me(e){return new B({...e,type:`optional ${e.type}`,validator:(t,n)=>!ze(n)||e.validator(t,n),refiner:(t,n)=>!ze(n)||e.refiner(t,n)})}function je(e){if(null===e||\"boolean\"==typeof e||\"string\"==typeof e)return!0;if(\"number\"==typeof e&&Number.isFinite(e))return!0;if(\"object\"==typeof e){let t=!0;if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(!je(e[n])){t=!1;break}return t}const n=Object.entries(e);for(let e=0;e<n.length;e++)if(\"string\"!=typeof n[e][0]||!je(n[e][1])){t=!1;break}return t}return!1}const Ue=D(\"JSON\",(e=>je(e))),De=de(Ue,me(V(),\"JSON\",(e=>j(e,Ue))),(e=>JSON.parse(JSON.stringify(e,((e,t)=>{if(\"__proto__\"!==e&&\"constructor\"!==e)return t})))));const Le=Z(\"2.0\"),$e=X(ae([Q(),re()])),Fe=Be({code:J(),message:re(),data:Me(De),stack:Me(re())}),qe=ae([ne(re(),De),K(De)]);Be({id:$e,jsonrpc:Le,method:re(),params:Me(qe)}),Be({jsonrpc:Le,method:re(),params:Me(qe)});ee({id:$e,jsonrpc:Le,result:te(se()),error:te(Fe)});const We=Be({id:$e,jsonrpc:Le,result:De}),Ve=Be({id:$e,jsonrpc:Le,error:Fe});ae([We,Ve]);function Ke(e,t){return D(e,(e=>\"string\"==typeof e&&t.test(e)))}const Ge=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$/u,He=/^[-a-z0-9]{3,8}$/u,Je=/^[-_a-zA-Z0-9]{1,32}$/u,Ze=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$/u,Ye=/^[-.%a-zA-Z0-9]{1,128}$/u,Xe=/^[-a-z0-9]{3,8}$/u,Qe=/^[-.%a-zA-Z0-9]{1,128}$/u,et=/^[-.%a-zA-Z0-9]{1,78}$/u,tt=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})$/u,nt=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})\\/(?<tokenId>[-.%a-zA-Z0-9]{1,78})$/u,rt=Ke(\"CaipChainId\",Ge),ot=(Ke(\"CaipNamespace\",He),Ke(\"CaipReference\",Je),Ke(\"CaipAccountId\",Ze)),it=(Ke(\"CaipAccountAddress\",Ye),Ke(\"CaipAssetNamespace\",Xe),Ke(\"CaipAssetReference\",Qe),Ke(\"CaipTokenId\",et),Ke(\"CaipAssetType\",tt)),at=Ke(\"CaipAssetId\",nt),st=Ke(\"CaipAssetTypeOrId\",/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})(\\/(?<tokenId>[-.%a-zA-Z0-9]{1,78}))?$/u);var ct,ut,lt,dt;!function(e){e.Bip122=\"bip122\",e.Solana=\"solana\",e.Eip155=\"eip155\",e.Wallet=\"wallet\"}(ct=ct||(ct={})),function(e){e.Eoa=\"eip155:eoa\",e.Erc4337=\"eip155:erc4337\"}(ut||(ut={})),function(e){e.P2pkh=\"bip122:p2pkh\",e.P2sh=\"bip122:p2sh\",e.P2wpkh=\"bip122:p2wpkh\",e.P2tr=\"bip122:p2tr\"}(lt||(lt={})),function(e){e.DataAccount=\"solana:data-account\"}(dt||(dt={}));const ft=ce({id:F,type:H([`${ut.Eoa}`,`${ut.Erc4337}`,`${lt.P2pkh}`,`${lt.P2sh}`,`${lt.P2wpkh}`,`${lt.P2tr}`,`${dt.DataAccount}`]),address:re(),scopes:pe(K(rt)),options:ne(re(),De),methods:K(re())}),ht=(ee({address:ot}),ce({unit:re(),amount:W})),pt=ce({fungible:Z(!0),type:it,...ht.schema}),gt=ce({fungible:Z(!1),id:at}),mt=(yt=e=>function(e){if(\"object\"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}}(e)&&!e.fungible?gt:pt,new B({type:\"union\",schema:null,*entries(e,t){yield*yt(e).entries(e,t)},*refiner(e,t){yield*yt(e).refiner(e,t)},coercer:(e,t)=>yt(e).coercer(e,t),validator:(e,t)=>yt(e).validator(e,t)}));var yt;const vt=ce({amount:W,unit:re()}),wt=Ke(\"DerivationPath\",/^m(?:\\/\\d+'?)+$/u);var At;!function(e){e.Bip44=\"bip44\"}(At||(At={}));const bt=ee({type:Z(`${At.Bip44}`),scopes:K(rt),derivationPath:wt}),St=(ne(re(),De),ce({id:$,scope:re(),account:$,origin:re(),request:ce({method:re(),params:le(ae([K(De),ne(re(),De)]))})})),Et=(ae([ce({pending:Z(!0),redirect:le(ce({message:le(re()),url:le(re())}))}),ce({pending:Z(!1),result:De})]),ce({address:re(),asset:X(mt)}));var xt;!function(e){e.Base=\"base\",e.Priority=\"priority\"}(xt||(xt={}));const Tt=ce({type:H([`${xt.Base}`,`${xt.Priority}`]),asset:mt});var kt,It;!function(e){e.Submitted=\"submitted\",e.Unconfirmed=\"unconfirmed\",e.Confirmed=\"confirmed\",e.Failed=\"failed\"}(kt||(kt={})),function(e){e.Send=\"send\",e.Receive=\"receive\",e.Swap=\"swap\",e.BridgeSend=\"bridge:send\",e.BridgeReceive=\"bridge:receive\",e.Unknown=\"unknown\"}(It||(It={}));const _t=ce({status:H([`${kt.Submitted}`,`${kt.Unconfirmed}`,`${kt.Confirmed}`,`${kt.Failed}`]),timestamp:X(Q())}),Ct=ce({id:re(),chain:rt,account:$,status:H([`${kt.Submitted}`,`${kt.Unconfirmed}`,`${kt.Confirmed}`,`${kt.Failed}`]),timestamp:X(Q()),type:H([`${It.Send}`,`${It.Receive}`,`${It.Swap}`,`${It.BridgeSend}`,`${It.BridgeReceive}`,`${It.Unknown}`]),from:K(Et),to:K(Et),fees:K(Tt),events:K(_t)}),Rt=(ce({data:K(Ct),next:X(re())}),ce({limit:Q(),next:le(X(re()))})),Pt=ce({metamask:le(ce({correlationId:$}))});var Ot;!function(e){e.Mainnet=\"bip122:000000000019d6689c085ae165831e93\",e.Testnet=\"bip122:000000000933ea01ad0ee984209779ba\",e.Testnet4=\"bip122:00000000da84f2bafbbc53dee25a72ae\",e.Signet=\"bip122:00000008819873e925422c1ff0f99f7c\",e.Regtest=\"bip122:regtest\"}(Ot||(Ot={}));const Nt=(e,t)=>{try{return I(e).type===t||new Error(`Invalid ${t} address`)}catch(e){return new Error(`Failed to decode ${t} address: ${e.message}`)}},Bt=me(re(),\"BtcP2pkhAddressStruct\",(e=>Nt(e,x.p2pkh))),zt=me(re(),\"BtcP2shAddressStruct\",(e=>Nt(e,x.p2sh))),Mt=me(re(),\"BtcP2wpkhAddressStruct\",(e=>Nt(e,x.p2wpkh))),jt=me(re(),\"BtcP2trAddressStruct\",(e=>Nt(e,x.p2tr)));var Ut;!function(e){e.SendBitcoin=\"sendBitcoin\"}(Ut||(Ut={}));const Dt=ce({...ft.schema,scopes:pe(K(rt)),methods:K(H([`${Ut.SendBitcoin}`]))});ce({...Dt.schema,address:Bt,type:Z(`${lt.P2pkh}`)}),ce({...Dt.schema,address:zt,type:Z(`${lt.P2sh}`)}),ce({...Dt.schema,address:Mt,type:Z(`${lt.P2wpkh}`)}),ce({...Dt.schema,address:jt,type:Z(`${lt.P2tr}`)});var Lt;!function(e){e.Devnet=\"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1\",e.Mainnet=\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp\",e.Testnet=\"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z\"}(Lt||(Lt={}));const $t=Ke(\"SolAddress\",/^[1-9A-HJ-NP-Za-km-z]{32,44}$/iu);var Ft;!function(e){e.SendAndConfirmTransaction=\"sendAndConfirmTransaction\",e.SignAndSendTransaction=\"signAndSendTransaction\",e.SignTransaction=\"signTransaction\",e.SignMessage=\"signMessage\",e.SignIn=\"signIn\"}(Ft||(Ft={}));ce({...ft.schema,address:$t,type:Z(`${dt.DataAccount}`),scopes:pe(K(rt)),methods:K(H(Object.values(Ft)))});var qt;!function(e){e.Eoa=\"eip155:0\",e.Mainnet=\"eip155:1\",e.Testnet=\"eip155:11155111\"}(qt||(qt={}));const Wt=Ke(\"EthBytes\",/^0x[0-9a-f]*$/iu),Vt=Ke(\"EthAddress\",/^0x[0-9a-f]{40}$/iu),Kt=Ke(\"EthUint256\",/^0x([1-9a-f][0-9a-f]*|0)$/iu);var Gt;!function(e){e.PersonalSign=\"personal_sign\",e.Sign=\"eth_sign\",e.SignTransaction=\"eth_signTransaction\",e.SignTypedDataV1=\"eth_signTypedData_v1\",e.SignTypedDataV3=\"eth_signTypedData_v3\",e.SignTypedDataV4=\"eth_signTypedData_v4\",e.PrepareUserOperation=\"eth_prepareUserOperation\",e.PatchUserOperation=\"eth_patchUserOperation\",e.SignUserOperation=\"eth_signUserOperation\"}(Gt||(Gt={}));ce({...ft.schema,address:Vt,type:Z(`${ut.Eoa}`),scopes:pe(K(Z(qt.Eoa))),methods:K(H([`${Gt.PersonalSign}`,`${Gt.Sign}`,`${Gt.SignTransaction}`,`${Gt.SignTypedDataV1}`,`${Gt.SignTypedDataV3}`,`${Gt.SignTypedDataV4}`]))}),ce({...ft.schema,address:Vt,type:Z(`${ut.Erc4337}`),scopes:pe(K(rt)),methods:K(H([`${Gt.PersonalSign}`,`${Gt.Sign}`,`${Gt.SignTypedDataV1}`,`${Gt.SignTypedDataV3}`,`${Gt.SignTypedDataV4}`,`${Gt.PrepareUserOperation}`,`${Gt.PatchUserOperation}`,`${Gt.SignUserOperation}`]))}),ce({sender:Vt,nonce:Kt,initCode:Wt,callData:Wt,callGasLimit:Kt,verificationGasLimit:Kt,preVerificationGas:Kt,maxFeePerGas:Kt,maxPriorityFeePerGas:Kt,paymasterAndData:Wt,signature:Wt}),ce({to:Vt,value:Kt,data:Wt}),ce({nonce:Kt,initCode:Wt,callData:Wt,gasLimits:le(ce({callGasLimit:Kt,verificationGasLimit:Kt,preVerificationGas:Kt})),dummyPaymasterAndData:Wt,dummySignature:Wt,bundlerUrl:q}),ce({paymasterAndData:Wt,callGasLimit:le(Kt),verificationGasLimit:le(Kt),preVerificationGas:le(Kt)});var Ht;!function(e){e.ListAccounts=\"keyring_listAccounts\",e.GetAccount=\"keyring_getAccount\",e.CreateAccount=\"keyring_createAccount\",e.DiscoverAccounts=\"keyring_discoverAccounts\",e.ListAccountAssets=\"keyring_listAccountAssets\",e.ListAccountTransactions=\"keyring_listAccountTransactions\",e.GetAccountBalances=\"keyring_getAccountBalances\",e.ResolveAccountAddress=\"keyring_resolveAccountAddress\",e.FilterAccountChains=\"keyring_filterAccountChains\",e.UpdateAccount=\"keyring_updateAccount\",e.DeleteAccount=\"keyring_deleteAccount\",e.ExportAccount=\"keyring_exportAccount\",e.ListRequests=\"keyring_listRequests\",e.GetRequest=\"keyring_getRequest\",e.SubmitRequest=\"keyring_submitRequest\",e.ApproveRequest=\"keyring_approveRequest\",e.RejectRequest=\"keyring_rejectRequest\"}(Ht||(Ht={}));const Jt={jsonrpc:Z(\"2.0\"),id:ae([re(),Q(),Z(null)])},Zt=ce({...Jt,method:Z(\"keyring_listAccounts\")}),Yt=(K(ft),ce({...Jt,method:Z(\"keyring_getAccount\"),params:ce({id:$})})),Xt=ce({...Jt,method:Z(\"keyring_createAccount\"),params:ce({options:ne(re(),De)})}),Qt=ce({...Jt,method:Z(\"keyring_discoverAccounts\"),params:ce({scopes:K(rt),entropySource:re(),groupIndex:Q()})}),en=(K(bt),ce({...Jt,method:Z(\"keyring_listAccountTransactions\"),params:ce({id:$,pagination:Rt})})),tn=ce({...Jt,method:Z(\"keyring_listAccountAssets\"),params:ce({id:$})}),nn=K(st),rn=ce({...Jt,method:Z(`${Ht.GetAccountBalances}`),params:ce({id:$,assets:K(it)})}),on=(ne(it,vt),ce({...Jt,method:Z(\"keyring_resolveAccountAddress\"),params:ce({scope:rt,request:Pe})})),an=(X(ce({address:ot})),ce({...Jt,method:Z(\"keyring_filterAccountChains\"),params:ce({id:$,chains:K(re())})})),sn=(K(re()),ce({...Jt,method:Z(\"keyring_updateAccount\"),params:ce({account:ft})})),cn=(Z(null),ce({...Jt,method:Z(\"keyring_deleteAccount\"),params:ce({id:$})})),un=(Z(null),ce({...Jt,method:Z(\"keyring_exportAccount\"),params:ce({id:$})})),ln=ce({...Jt,method:Z(\"keyring_listRequests\")}),dn=(K(St),ce({...Jt,method:Z(\"keyring_getRequest\"),params:ce({id:$})})),fn=ce({...Jt,method:Z(\"keyring_submitRequest\"),params:St}),hn=ce({...Jt,method:Z(\"keyring_approveRequest\"),params:ce({id:$,data:ne(re(),De)})}),pn=(Z(null),ce({...Jt,method:Z(\"keyring_rejectRequest\"),params:ce({id:$})}));Z(null);var gn;!function(e){e.AccountCreated=\"notify:accountCreated\",e.AccountUpdated=\"notify:accountUpdated\",e.AccountDeleted=\"notify:accountDeleted\",e.RequestApproved=\"notify:requestApproved\",e.RequestRejected=\"notify:requestRejected\",e.AccountBalancesUpdated=\"notify:accountBalancesUpdated\",e.AccountAssetListUpdated=\"notify:accountAssetListUpdated\",e.AccountTransactionsUpdated=\"notify:accountTransactionsUpdated\"}(gn||(gn={}));ce({method:Z(`${gn.AccountCreated}`),params:ce({account:ft,accountNameSuggestion:le(re()),displayConfirmation:le(G()),displayAccountNameSuggestion:le(G()),...Pt.schema})}),ce({method:Z(`${gn.AccountUpdated}`),params:ce({account:ft})}),ce({method:Z(`${gn.AccountDeleted}`),params:ce({id:$})}),ce({method:Z(`${gn.RequestApproved}`),params:ce({id:$,result:De})}),ce({method:Z(`${gn.RequestRejected}`),params:ce({id:$})}),ce({method:Z(`${gn.AccountBalancesUpdated}`),params:ce({balances:ne(F,ne(it,ht))})}),ce({method:Z(`${gn.AccountTransactionsUpdated}`),params:ce({transactions:ne(F,K(Ct))})}),ce({method:Z(`${gn.AccountAssetListUpdated}`),params:ce({assets:ne(F,ce({added:K(st),removed:K(st)}))})});class mn extends Error{constructor(e){super(`Method not supported: ${e}`)}}async function yn(e,t){try{return await async function(e,t){switch(z(t,Pe),t.method){case`${Ht.ListAccounts}`:return z(t,Zt),e.listAccounts();case`${Ht.GetAccount}`:return z(t,Yt),e.getAccount(t.params.id);case`${Ht.CreateAccount}`:return z(t,Xt),e.createAccount(t.params.options);case`${Ht.DiscoverAccounts}`:if(void 0===e.discoverAccounts)throw new mn(t.method);return z(t,Qt),e.discoverAccounts(t.params.scopes,t.params.entropySource,t.params.groupIndex);case`${Ht.ListAccountTransactions}`:if(void 0===e.listAccountTransactions)throw new mn(t.method);return z(t,en),e.listAccountTransactions(t.params.id,t.params.pagination);case`${Ht.ListAccountAssets}`:if(void 0===e.listAccountAssets)throw new mn(t.method);return z(t,tn),e.listAccountAssets(t.params.id);case`${Ht.GetAccountBalances}`:if(void 0===e.getAccountBalances)throw new mn(t.method);return z(t,rn),e.getAccountBalances(t.params.id,t.params.assets);case`${Ht.ResolveAccountAddress}`:if(void 0===e.resolveAccountAddress)throw new mn(t.method);return z(t,on),e.resolveAccountAddress(t.params.scope,t.params.request);case`${Ht.FilterAccountChains}`:return z(t,an),e.filterAccountChains(t.params.id,t.params.chains);case`${Ht.UpdateAccount}`:return z(t,sn),e.updateAccount(t.params.account);case`${Ht.DeleteAccount}`:return z(t,cn),e.deleteAccount(t.params.id);case`${Ht.ExportAccount}`:if(void 0===e.exportAccount)throw new mn(t.method);return z(t,un),e.exportAccount(t.params.id);case`${Ht.ListRequests}`:if(void 0===e.listRequests)throw new mn(t.method);return z(t,ln),e.listRequests();case`${Ht.GetRequest}`:if(void 0===e.getRequest)throw new mn(t.method);return z(t,dn),e.getRequest(t.params.id);case`${Ht.SubmitRequest}`:return z(t,fn),e.submitRequest(t.params);case`${Ht.ApproveRequest}`:if(void 0===e.approveRequest)throw new mn(t.method);return z(t,hn),e.approveRequest(t.params.id,t.params.data);case`${Ht.RejectRequest}`:if(void 0===e.rejectRequest)throw new mn(t.method);return z(t,pn),e.rejectRequest(t.params.id);default:throw new mn(t.method)}}(e,t)}catch(e){const t=e instanceof Error&&\"string\"==typeof e.message?e.message:\"An unknown error occurred while handling the keyring request\";throw new Error(t)}}async function vn(e,t,n){await e.request({method:\"snap_manageAccounts\",params:{method:t,params:{...n}}})}function wn(e){return Boolean(e)&&\"object\"==typeof e&&!Array.isArray(e)}const An=(e,t)=>Object.hasOwnProperty.call(e,t);var bn;!function(e){e[e.Null=4]=\"Null\",e[e.Comma=1]=\"Comma\",e[e.Wrapper=1]=\"Wrapper\",e[e.True=4]=\"True\",e[e.False=5]=\"False\",e[e.Quote=1]=\"Quote\",e[e.Colon=1]=\"Colon\",e[e.Date=24]=\"Date\"}(bn=bn||(bn={}));var Sn=n(282);const En=e=>ee(e);function xn({path:e,branch:t}){const n=e[e.length-1];return An(t[t.length-2],n)}function Tn(e){return new B({...e,type:`optional ${e.type}`,validator:(t,n)=>!xn(n)||e.validator(t,n),refiner:(t,n)=>!xn(n)||e.refiner(t,n)})}function kn(e){if(null===e||\"boolean\"==typeof e||\"string\"==typeof e)return!0;if(\"number\"==typeof e&&Number.isFinite(e))return!0;if(\"object\"==typeof e){let t=!0;if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(!kn(e[n])){t=!1;break}return t}const n=Object.entries(e);for(let e=0;e<n.length;e++)if(\"string\"!=typeof n[e][0]||!kn(n[e][1])){t=!1;break}return t}return!1}const In=D(\"JSON\",(e=>kn(e))),_n=de(In,me(V(),\"JSON\",(e=>j(e,In))),(e=>JSON.parse(JSON.stringify(e,((e,t)=>{if(\"__proto__\"!==e&&\"constructor\"!==e)return t})))));function Cn(e){try{return function(e){M(e,_n)}(e),!0}catch{return!1}}const Rn=Z(\"2.0\"),Pn=X(ae([Q(),re()])),On=En({code:J(),message:re(),data:Tn(_n),stack:Tn(re())}),Nn=ae([ne(re(),_n),K(_n)]);En({id:Pn,jsonrpc:Rn,method:re(),params:Tn(Nn)}),En({jsonrpc:Rn,method:re(),params:Tn(Nn)});ee({id:Pn,jsonrpc:Rn,result:te(se()),error:te(On)});const Bn=En({id:Pn,jsonrpc:Rn,result:_n}),zn=En({id:Pn,jsonrpc:Rn,error:On});ae([Bn,zn]);const Mn={invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},jn={userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901},Un={\"-32700\":{standard:\"JSON RPC 2.0\",message:\"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text.\"},\"-32600\":{standard:\"JSON RPC 2.0\",message:\"The JSON sent is not a valid Request object.\"},\"-32601\":{standard:\"JSON RPC 2.0\",message:\"The method does not exist / is not available.\"},\"-32602\":{standard:\"JSON RPC 2.0\",message:\"Invalid method parameter(s).\"},\"-32603\":{standard:\"JSON RPC 2.0\",message:\"Internal JSON-RPC error.\"},\"-32000\":{standard:\"EIP-1474\",message:\"Invalid input.\"},\"-32001\":{standard:\"EIP-1474\",message:\"Resource not found.\"},\"-32002\":{standard:\"EIP-1474\",message:\"Resource unavailable.\"},\"-32003\":{standard:\"EIP-1474\",message:\"Transaction rejected.\"},\"-32004\":{standard:\"EIP-1474\",message:\"Method not supported.\"},\"-32005\":{standard:\"EIP-1474\",message:\"Request limit exceeded.\"},4001:{standard:\"EIP-1193\",message:\"User rejected the request.\"},4100:{standard:\"EIP-1193\",message:\"The requested account and/or method has not been authorized by the user.\"},4200:{standard:\"EIP-1193\",message:\"The requested method is not supported by this Ethereum provider.\"},4900:{standard:\"EIP-1193\",message:\"The provider is disconnected from all chains.\"},4901:{standard:\"EIP-1193\",message:\"The provider is disconnected from the specified chain.\"}},Dn=Mn.internal,Ln=\"Unspecified error message. This is a bug, please report it.\",$n=(Fn(Dn),\"Unspecified server error.\");function Fn(e,t=Ln){if(function(e){return Number.isInteger(e)}(e)){const t=e.toString();if(An(Un,t))return Un[t].message;if(function(e){return e>=-32099&&e<=-32e3}(e))return $n}return t}function qn(e){return Array.isArray(e)?e.map((e=>Cn(e)?e:wn(e)?Wn(e):null)):wn(e)?Wn(e):Cn(e)?e:null}function Wn(e){return Object.getOwnPropertyNames(e).reduce(((t,n)=>{const r=e[n];return Cn(r)&&(t[n]=r),t}),{})}const Vn=function(e){return e?.__esModule?e.default:e}(Sn);class Kn extends Error{constructor(e,t,n){if(!Number.isInteger(e))throw new Error('\"code\" must be an integer.');if(!t||\"string\"!=typeof t)throw new Error('\"message\" must be a non-empty string.');!function(e){return wn(e)&&An(e,\"cause\")&&wn(e.cause)}(n)?super(t):(super(t,{cause:n.cause}),An(this,\"cause\")||Object.assign(this,{cause:n.cause})),void 0!==n&&(this.data=n),this.code=e}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data,function(e){if(\"object\"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}}(this.data)&&(e.data.cause=qn(this.data.cause))),this.stack&&(e.stack=this.stack),e}toString(){return Vn(this.serialize(),Hn,2)}}class Gn extends Kn{constructor(e,t,n){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('\"code\" must be an integer such that: 1000 <= code <= 4999');super(e,t,n)}}function Hn(e,t){if(\"[Circular]\"!==t)return t}const Jn=e=>dr(Mn.parse,e),Zn=e=>dr(Mn.invalidRequest,e),Yn=e=>dr(Mn.invalidParams,e),Xn=e=>dr(Mn.methodNotFound,e),Qn=e=>dr(Mn.internal,e),er=e=>dr(Mn.invalidInput,e),tr=e=>dr(Mn.resourceNotFound,e),nr=e=>dr(Mn.resourceUnavailable,e),rr=e=>dr(Mn.transactionRejected,e),or=e=>dr(Mn.methodNotSupported,e),ir=e=>dr(Mn.limitExceeded,e),ar=e=>fr(jn.userRejectedRequest,e),sr=e=>fr(jn.unauthorized,e),cr=e=>fr(jn.unsupportedMethod,e),ur=e=>fr(jn.disconnected,e),lr=e=>fr(jn.chainDisconnected,e);function dr(e,t){const[n,r]=hr(t);return new Kn(e,n??Fn(e),r)}function fr(e,t){const[n,r]=hr(t);return new Gn(e,n??Fn(e),r)}function hr(e){if(e){if(\"string\"==typeof e)return[e];if(\"object\"==typeof e&&!Array.isArray(e)){const{message:t,data:n}=e;if(t&&\"string\"!=typeof t)throw new Error(\"Must specify string message.\");return[t??void 0,n]}}return[]}const pr=(e,t)=>Object.hasOwnProperty.call(e,t);var gr;!function(e){e[e.Null=4]=\"Null\",e[e.Comma=1]=\"Comma\",e[e.Wrapper=1]=\"Wrapper\",e[e.True=4]=\"True\",e[e.False=5]=\"False\",e[e.Quote=1]=\"Quote\",e[e.Colon=1]=\"Colon\",e[e.Date=24]=\"Date\"}(gr=gr||(gr={}));class mr extends TypeError{constructor(e,t){let n;const{message:r,explanation:o,...i}=e,{path:a}=e,s=0===a.length?r:`At path: ${a.join(\".\")} -- ${r}`;super(o??s),null!=o&&(this.cause=s),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}}function yr(e){return\"object\"==typeof e&&null!==e}function vr(e){return\"symbol\"==typeof e?e.toString():\"string\"==typeof e?JSON.stringify(e):`${e}`}function wr(e,t,n,r){if(!0===e)return;!1===e?e={}:\"string\"==typeof e&&(e={message:e});const{path:o,branch:i}=t,{type:a}=n,{refinement:s,message:c=`Expected a value of type \\`${a}\\`${s?` with refinement \\`${s}\\``:\"\"}, but received: \\`${vr(r)}\\``}=e;return{value:r,type:a,refinement:s,key:o[o.length-1],path:o,branch:i,...e,message:c}}function*Ar(e,t,n,r){(function(e){return yr(e)&&\"function\"==typeof e[Symbol.iterator]})(e)||(e=[e]);for(const o of e){const e=wr(o,t,n,r);e&&(yield e)}}function*br(e,t,n={}){const{path:r=[],branch:o=[e],coerce:i=!1,mask:a=!1}=n,s={path:r,branch:o};if(i&&(e=t.coercer(e,s),a&&\"type\"!==t.type&&yr(t.schema)&&yr(e)&&!Array.isArray(e)))for(const n in e)void 0===t.schema[n]&&delete e[n];let c=\"valid\";for(const r of t.validator(e,s))r.explanation=n.message,c=\"not_valid\",yield[r,void 0];for(let[u,l,d]of t.entries(e,s)){const t=br(l,d,{path:void 0===u?r:[...r,u],branch:void 0===u?o:[...o,l],coerce:i,mask:a,message:n.message});for(const n of t)n[0]?(c=null===n[0].refinement||void 0===n[0].refinement?\"not_valid\":\"not_refined\",yield[n[0],void 0]):i&&(l=n[1],void 0===u?e=l:e instanceof Map?e.set(u,l):e instanceof Set?e.add(l):yr(e)&&(void 0!==l||u in e)&&(e[u]=l))}if(\"not_valid\"!==c)for(const r of t.refiner(e,s))r.explanation=n.message,c=\"not_refined\",yield[r,void 0];\"valid\"===c&&(yield[void 0,e])}class Sr{constructor(e){const{type:t,schema:n,validator:r,refiner:o,coercer:i=(e=>e),entries:a=function*(){}}=e;this.type=t,this.schema=n,this.entries=a,this.coercer=i,this.validator=r?(e,t)=>Ar(r(e,t),t,this,e):()=>[],this.refiner=o?(e,t)=>Ar(o(e,t),t,this,e):()=>[]}assert(e,t){return Er(e,this,t)}create(e,t){return xr(e,this,t)}is(e){return Tr(e,this)}mask(e,t){return function(e,t,n){const r=kr(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}(e,this,t)}validate(e,t={}){return kr(e,this,t)}}function Er(e,t,n){const r=kr(e,t,{message:n});if(r[0])throw r[0]}function xr(e,t,n){const r=kr(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function Tr(e,t){return!kr(e,t)[0]}function kr(e,t,n={}){const r=br(e,t,n),o=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(r);if(o[0]){return[new mr(o[0],(function*(){for(const e of r)e[0]&&(yield e[0])})),void 0]}return[void 0,o[1]]}function Ir(e,t){return new Sr({type:e,schema:null,validator:t})}function _r(){return Ir(\"never\",(()=>!1))}function Cr(e){const t=e?Object.keys(e):[],n=_r();return new Sr({type:\"object\",schema:e??null,*entries(r){if(e&&yr(r)){const o=new Set(Object.keys(r));for(const n of t)o.delete(n),yield[n,r[n],e[n]];for(const e of o)yield[e,r[e],n]}},validator:e=>yr(e)||`Expected an object, but received: ${vr(e)}`,coercer:e=>yr(e)?{...e}:e})}function Rr(e){return new Sr({...e,validator:(t,n)=>void 0===t||e.validator(t,n),refiner:(t,n)=>void 0===t||e.refiner(t,n)})}function Pr(){return Ir(\"string\",(e=>\"string\"==typeof e||`Expected a string, but received: ${vr(e)}`))}function Or(e){const t=e.map((e=>e.type)).join(\" | \");return new Sr({type:\"union\",schema:null,coercer(t){for(const n of e){const[e,r]=n.validate(t,{coerce:!0});if(!e)return r}return t},validator(n,r){const o=[];for(const t of e){const[...e]=br(n,t,r),[i]=e;if(!i?.[0])return[];for(const[t]of e)t&&o.push(t)}return[`Expected the value to satisfy a union of \\`${t}\\`, but received: ${vr(n)}`,...o]}})}function Nr(e,t,n){return new Sr({...e,coercer:(r,o)=>Tr(r,t)?e.coercer(n(r,o),o):e.coercer(r,o)})}function Br(e,t,n){return new Sr({...e,*refiner(r,o){yield*e.refiner(r,o);const i=Ar(n(r,o),o,e,r);for(const e of i)yield{...e,refinement:t}}})}const zr=e=>Cr(e);function Mr({path:e,branch:t}){const n=e[e.length-1];return pr(t[t.length-2],n)}function jr(e){return new Sr({...e,type:`optional ${e.type}`,validator:(t,n)=>!Mr(n)||e.validator(t,n),refiner:(t,n)=>!Mr(n)||e.refiner(t,n)})}function Ur(e){if(null===e||\"boolean\"==typeof e||\"string\"==typeof e)return!0;if(\"number\"==typeof e&&Number.isFinite(e))return!0;if(\"object\"==typeof e){let t=!0;if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(!Ur(e[n])){t=!1;break}return t}const n=Object.entries(e);for(let e=0;e<n.length;e++)if(\"string\"!=typeof n[e][0]||!Ur(n[e][1])){t=!1;break}return t}return!1}const Dr=Ir(\"JSON\",(e=>Ur(e))),Lr=Nr(Dr,Br(Ir(\"any\",(()=>!0)),\"JSON\",(e=>Tr(e,Dr))),(e=>JSON.parse(JSON.stringify(e,((e,t)=>{if(\"__proto__\"!==e&&\"constructor\"!==e)return t})))));function $r(e){try{return function(e){xr(e,Lr)}(e),!0}catch{return!1}}const Fr=function(e){const t=vr(e),n=typeof e;return new Sr({type:\"literal\",schema:\"string\"===n||\"number\"===n||\"boolean\"===n?e:null,validator:n=>n===e||`Expected the literal \\`${t}\\`, but received: ${vr(n)}`})}(\"2.0\"),qr=(Wr=Or([Ir(\"number\",(e=>\"number\"==typeof e&&!isNaN(e)||`Expected a number, but received: ${vr(e)}`)),Pr()]),new Sr({...Wr,validator:(e,t)=>null===e||Wr.validator(e,t),refiner:(e,t)=>null===e||Wr.refiner(e,t)}));var Wr;const Vr=zr({code:Ir(\"integer\",(e=>\"number\"==typeof e&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${vr(e)}`)),message:Pr(),data:jr(Lr),stack:jr(Pr())}),Kr=Or([function(e,t){return new Sr({type:\"record\",schema:null,*entries(n){if(yr(n))for(const r in n){const o=n[r];yield[r,r,e],yield[r,o,t]}},validator:e=>yr(e)||`Expected an object, but received: ${vr(e)}`})}(Pr(),Lr),(Gr=Lr,new Sr({type:\"array\",schema:Gr,*entries(e){if(Gr&&Array.isArray(e))for(const[t,n]of e.entries())yield[t,n,Gr]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${vr(e)}`}))]);var Gr;zr({id:qr,jsonrpc:Fr,method:Pr(),params:jr(Kr)}),zr({jsonrpc:Fr,method:Pr(),params:jr(Kr)});Cr({id:qr,jsonrpc:Fr,result:Rr(Ir(\"unknown\",(()=>!0))),error:Rr(Vr)});const Hr=zr({id:qr,jsonrpc:Fr,result:Lr}),Jr=zr({id:qr,jsonrpc:Fr,error:Vr});Or([Hr,Jr]);function Zr(e,t,n=null){return r=e,Boolean(r)&&\"object\"==typeof r&&!Array.isArray(r)&&pr(e,t)?e[t]:n;var r}function Yr(e,t,n=String(e)){const r=Zr(e,t);return\"string\"==typeof r?r:n}function Xr(e){const t=Zr(e,\"data\");return null!==t&&$r(t)&&!Array.isArray(t)?t:{}}class Qr extends Error{#e;#t;#n;#r;constructor(e,t={}){const n=function(e){return Yr(e,\"message\")}(e);super(n),this.#t=n,this.#e=function(e){const t=Zr(e,\"code\");return\"number\"==typeof t&&Number.isInteger(t)?t:-32603}(e);const r={...Xr(e),...t};Object.keys(r).length>0&&(this.#n=r),this.#r=super.stack}get name(){return\"SnapError\"}get code(){return this.#e}get message(){return this.#t}get data(){return this.#n}get stack(){return this.#r}toJSON(){return{code:-31002,message:\"Snap Error\",data:{cause:{code:this.code,message:this.message,stack:this.stack,...this.data?{data:this.data}:{}}}}}serialize(){return this.toJSON()}}function eo(e){return class extends Qr{constructor(t,n){if(\"object\"==typeof t){const n=e();return void super({code:n.code,message:n.message,data:t})}const r=e(t);super({code:r.code,message:r.message,data:n})}}}const to=eo(Qn),no=eo(er),ro=eo(Yn),oo=eo(Zn),io=eo(ir),ao=eo(Xn),so=eo(or),co=eo(Jn),uo=eo(tr),lo=eo(nr),fo=eo(rr),ho=eo(lr),po=eo(ur),go=eo(sr),mo=eo(cr),yo=eo(ar);var vo=/^-?(?:\\d+(?:\\.\\d*)?|\\.\\d+)(?:e[+-]?\\d+)?$/i,wo=Math.ceil,Ao=Math.floor,bo=\"[BigNumber Error] \",So=bo+\"Number primitive has more than 15 significant digits: \",Eo=1e14,xo=14,To=9007199254740991,ko=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Io=1e7,_o=1e9;function Co(e){var t=0|e;return e>0||e===t?t:t-1}function Ro(e){for(var t,n,r=1,o=e.length,i=e[0]+\"\";r<o;){for(t=e[r++]+\"\",n=xo-t.length;n--;t=\"0\"+t);i+=t}for(o=i.length;48===i.charCodeAt(--o););return i.slice(0,o+1||1)}function Po(e,t){var n,r,o=e.c,i=t.c,a=e.s,s=t.s,c=e.e,u=t.e;if(!a||!s)return null;if(n=o&&!o[0],r=i&&!i[0],n||r)return n?r?0:-s:a;if(a!=s)return a;if(n=a<0,r=c==u,!o||!i)return r?0:!o^n?1:-1;if(!r)return c>u^n?1:-1;for(s=(c=o.length)<(u=i.length)?c:u,a=0;a<s;a++)if(o[a]!=i[a])return o[a]>i[a]^n?1:-1;return c==u?0:c>u^n?1:-1}function Oo(e,t,n,r){if(e<t||e>n||e!==Ao(e))throw Error(bo+(r||\"Argument\")+(\"number\"==typeof e?e<t||e>n?\" out of range: \":\" not an integer: \":\" not a primitive number: \")+String(e))}function No(e){var t=e.c.length-1;return Co(e.e/xo)==t&&e.c[t]%2!=0}function Bo(e,t){return(e.length>1?e.charAt(0)+\".\"+e.slice(1):e)+(t<0?\"e\":\"e+\")+t}function zo(e,t,n){var r,o;if(t<0){for(o=n+\".\";++t;o+=n);e=o+e}else if(++t>(r=e.length)){for(o=n,t-=r;--t;o+=n);e+=o}else t<r&&(e=e.slice(0,t)+\".\"+e.slice(t));return e}var Mo=function e(t){var n,r,o,i,a,s,c,u,l,d,f=k.prototype={constructor:k,toString:null,valueOf:null},h=new k(1),p=20,g=4,m=-7,y=21,v=-1e7,w=1e7,A=!1,b=1,S=0,E={prefix:\"\",groupSize:3,secondaryGroupSize:0,groupSeparator:\",\",decimalSeparator:\".\",fractionGroupSize:0,fractionGroupSeparator:\" \",suffix:\"\"},x=\"0123456789abcdefghijklmnopqrstuvwxyz\",T=!0;function k(e,t){var n,i,a,s,c,u,l,d,f=this;if(!(f instanceof k))return new k(e,t);if(null==t){if(e&&!0===e._isBigNumber)return f.s=e.s,void(!e.c||e.e>w?f.c=f.e=null:e.e<v?f.c=[f.e=0]:(f.e=e.e,f.c=e.c.slice()));if((u=\"number\"==typeof e)&&0*e==0){if(f.s=1/e<0?(e=-e,-1):1,e===~~e){for(s=0,c=e;c>=10;c/=10,s++);return void(s>w?f.c=f.e=null:(f.e=s,f.c=[e]))}d=String(e)}else{if(!vo.test(d=String(e)))return o(f,d,u);f.s=45==d.charCodeAt(0)?(d=d.slice(1),-1):1}(s=d.indexOf(\".\"))>-1&&(d=d.replace(\".\",\"\")),(c=d.search(/e/i))>0?(s<0&&(s=c),s+=+d.slice(c+1),d=d.substring(0,c)):s<0&&(s=d.length)}else{if(Oo(t,2,x.length,\"Base\"),10==t&&T)return R(f=new k(e),p+f.e+1,g);if(d=String(e),u=\"number\"==typeof e){if(0*e!=0)return o(f,d,u,t);if(f.s=1/e<0?(d=d.slice(1),-1):1,k.DEBUG&&d.replace(/^0\\.0*|\\./,\"\").length>15)throw Error(So+e)}else f.s=45===d.charCodeAt(0)?(d=d.slice(1),-1):1;for(n=x.slice(0,t),s=c=0,l=d.length;c<l;c++)if(n.indexOf(i=d.charAt(c))<0){if(\".\"==i){if(c>s){s=l;continue}}else if(!a&&(d==d.toUpperCase()&&(d=d.toLowerCase())||d==d.toLowerCase()&&(d=d.toUpperCase()))){a=!0,c=-1,s=0;continue}return o(f,String(e),u,t)}u=!1,(s=(d=r(d,t,10,f.s)).indexOf(\".\"))>-1?d=d.replace(\".\",\"\"):s=d.length}for(c=0;48===d.charCodeAt(c);c++);for(l=d.length;48===d.charCodeAt(--l););if(d=d.slice(c,++l)){if(l-=c,u&&k.DEBUG&&l>15&&(e>To||e!==Ao(e)))throw Error(So+f.s*e);if((s=s-c-1)>w)f.c=f.e=null;else if(s<v)f.c=[f.e=0];else{if(f.e=s,f.c=[],c=(s+1)%xo,s<0&&(c+=xo),c<l){for(c&&f.c.push(+d.slice(0,c)),l-=xo;c<l;)f.c.push(+d.slice(c,c+=xo));c=xo-(d=d.slice(c)).length}else c-=l;for(;c--;d+=\"0\");f.c.push(+d)}}else f.c=[f.e=0]}function I(e,t,n,r){var o,i,a,s,c;if(null==n?n=g:Oo(n,0,8),!e.c)return e.toString();if(o=e.c[0],a=e.e,null==t)c=Ro(e.c),c=1==r||2==r&&(a<=m||a>=y)?Bo(c,a):zo(c,a,\"0\");else if(i=(e=R(new k(e),t,n)).e,s=(c=Ro(e.c)).length,1==r||2==r&&(t<=i||i<=m)){for(;s<t;c+=\"0\",s++);c=Bo(c,i)}else if(t-=a,c=zo(c,i,\"0\"),i+1>s){if(--t>0)for(c+=\".\";t--;c+=\"0\");}else if((t+=i-s)>0)for(i+1==s&&(c+=\".\");t--;c+=\"0\");return e.s<0&&o?\"-\"+c:c}function _(e,t){for(var n,r,o=1,i=new k(e[0]);o<e.length;o++)(!(r=new k(e[o])).s||(n=Po(i,r))===t||0===n&&i.s===t)&&(i=r);return i}function C(e,t,n){for(var r=1,o=t.length;!t[--o];t.pop());for(o=t[0];o>=10;o/=10,r++);return(n=r+n*xo-1)>w?e.c=e.e=null:n<v?e.c=[e.e=0]:(e.e=n,e.c=t),e}function R(e,t,n,r){var o,i,a,s,c,u,l,d=e.c,f=ko;if(d){e:{for(o=1,s=d[0];s>=10;s/=10,o++);if((i=t-o)<0)i+=xo,a=t,c=d[u=0],l=Ao(c/f[o-a-1]%10);else if((u=wo((i+1)/xo))>=d.length){if(!r)break e;for(;d.length<=u;d.push(0));c=l=0,o=1,a=(i%=xo)-xo+1}else{for(c=s=d[u],o=1;s>=10;s/=10,o++);l=(a=(i%=xo)-xo+o)<0?0:Ao(c/f[o-a-1]%10)}if(r=r||t<0||null!=d[u+1]||(a<0?c:c%f[o-a-1]),r=n<4?(l||r)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||r||6==n&&(i>0?a>0?c/f[o-a]:0:d[u-1])%10&1||n==(e.s<0?8:7)),t<1||!d[0])return d.length=0,r?(t-=e.e+1,d[0]=f[(xo-t%xo)%xo],e.e=-t||0):d[0]=e.e=0,e;if(0==i?(d.length=u,s=1,u--):(d.length=u+1,s=f[xo-i],d[u]=a>0?Ao(c/f[o-a]%f[a])*s:0),r)for(;;){if(0==u){for(i=1,a=d[0];a>=10;a/=10,i++);for(a=d[0]+=s,s=1;a>=10;a/=10,s++);i!=s&&(e.e++,d[0]==Eo&&(d[0]=1));break}if(d[u]+=s,d[u]!=Eo)break;d[u--]=0,s=1}for(i=d.length;0===d[--i];d.pop());}e.e>w?e.c=e.e=null:e.e<v&&(e.c=[e.e=0])}return e}function P(e){var t,n=e.e;return null===n?e.toString():(t=Ro(e.c),t=n<=m||n>=y?Bo(t,n):zo(t,n,\"0\"),e.s<0?\"-\"+t:t)}return k.clone=e,k.ROUND_UP=0,k.ROUND_DOWN=1,k.ROUND_CEIL=2,k.ROUND_FLOOR=3,k.ROUND_HALF_UP=4,k.ROUND_HALF_DOWN=5,k.ROUND_HALF_EVEN=6,k.ROUND_HALF_CEIL=7,k.ROUND_HALF_FLOOR=8,k.EUCLID=9,k.config=k.set=function(e){var t,n;if(null!=e){if(\"object\"!=typeof e)throw Error(bo+\"Object expected: \"+e);if(e.hasOwnProperty(t=\"DECIMAL_PLACES\")&&(Oo(n=e[t],0,_o,t),p=n),e.hasOwnProperty(t=\"ROUNDING_MODE\")&&(Oo(n=e[t],0,8,t),g=n),e.hasOwnProperty(t=\"EXPONENTIAL_AT\")&&((n=e[t])&&n.pop?(Oo(n[0],-_o,0,t),Oo(n[1],0,_o,t),m=n[0],y=n[1]):(Oo(n,-_o,_o,t),m=-(y=n<0?-n:n))),e.hasOwnProperty(t=\"RANGE\"))if((n=e[t])&&n.pop)Oo(n[0],-_o,-1,t),Oo(n[1],1,_o,t),v=n[0],w=n[1];else{if(Oo(n,-_o,_o,t),!n)throw Error(bo+t+\" cannot be zero: \"+n);v=-(w=n<0?-n:n)}if(e.hasOwnProperty(t=\"CRYPTO\")){if((n=e[t])!==!!n)throw Error(bo+t+\" not true or false: \"+n);if(n){if(\"undefined\"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw A=!n,Error(bo+\"crypto unavailable\");A=n}else A=n}if(e.hasOwnProperty(t=\"MODULO_MODE\")&&(Oo(n=e[t],0,9,t),b=n),e.hasOwnProperty(t=\"POW_PRECISION\")&&(Oo(n=e[t],0,_o,t),S=n),e.hasOwnProperty(t=\"FORMAT\")){if(\"object\"!=typeof(n=e[t]))throw Error(bo+t+\" not an object: \"+n);E=n}if(e.hasOwnProperty(t=\"ALPHABET\")){if(\"string\"!=typeof(n=e[t])||/^.?$|[+\\-.\\s]|(.).*\\1/.test(n))throw Error(bo+t+\" invalid: \"+n);T=\"0123456789\"==n.slice(0,10),x=n}}return{DECIMAL_PLACES:p,ROUNDING_MODE:g,EXPONENTIAL_AT:[m,y],RANGE:[v,w],CRYPTO:A,MODULO_MODE:b,POW_PRECISION:S,FORMAT:E,ALPHABET:x}},k.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!k.DEBUG)return!0;var t,n,r=e.c,o=e.e,i=e.s;e:if(\"[object Array]\"=={}.toString.call(r)){if((1===i||-1===i)&&o>=-_o&&o<=_o&&o===Ao(o)){if(0===r[0]){if(0===o&&1===r.length)return!0;break e}if((t=(o+1)%xo)<1&&(t+=xo),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||n>=Eo||n!==Ao(n))break e;if(0!==n)return!0}}}else if(null===r&&null===o&&(null===i||1===i||-1===i))return!0;throw Error(bo+\"Invalid BigNumber: \"+e)},k.maximum=k.max=function(){return _(arguments,-1)},k.minimum=k.min=function(){return _(arguments,1)},k.random=(i=9007199254740992,a=Math.random()*i&2097151?function(){return Ao(Math.random()*i)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,o,i,s=0,c=[],u=new k(h);if(null==e?e=p:Oo(e,0,_o),o=wo(e/xo),A)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(o*=2));s<o;)(i=131072*t[s]+(t[s+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[s]=n[0],t[s+1]=n[1]):(c.push(i%1e14),s+=2);s=o/2}else{if(!crypto.randomBytes)throw A=!1,Error(bo+\"crypto unavailable\");for(t=crypto.randomBytes(o*=7);s<o;)(i=281474976710656*(31&t[s])+1099511627776*t[s+1]+4294967296*t[s+2]+16777216*t[s+3]+(t[s+4]<<16)+(t[s+5]<<8)+t[s+6])>=9e15?crypto.randomBytes(7).copy(t,s):(c.push(i%1e14),s+=7);s=o/7}if(!A)for(;s<o;)(i=a())<9e15&&(c[s++]=i%1e14);for(o=c[--s],e%=xo,o&&e&&(i=ko[xo-e],c[s]=Ao(o/i)*i);0===c[s];c.pop(),s--);if(s<0)c=[r=0];else{for(r=-1;0===c[0];c.splice(0,1),r-=xo);for(s=1,i=c[0];i>=10;i/=10,s++);s<xo&&(r-=xo-s)}return u.e=r,u.c=c,u}),k.sum=function(){for(var e=1,t=arguments,n=new k(t[0]);e<t.length;)n=n.plus(t[e++]);return n},r=function(){var e=\"0123456789\";function t(e,t,n,r){for(var o,i,a=[0],s=0,c=e.length;s<c;){for(i=a.length;i--;a[i]*=t);for(a[0]+=r.indexOf(e.charAt(s++)),o=0;o<a.length;o++)a[o]>n-1&&(null==a[o+1]&&(a[o+1]=0),a[o+1]+=a[o]/n|0,a[o]%=n)}return a.reverse()}return function(r,o,i,a,s){var c,u,l,d,f,h,m,y,v=r.indexOf(\".\"),w=p,A=g;for(v>=0&&(d=S,S=0,r=r.replace(\".\",\"\"),h=(y=new k(o)).pow(r.length-v),S=d,y.c=t(zo(Ro(h.c),h.e,\"0\"),10,i,e),y.e=y.c.length),l=d=(m=t(r,o,i,s?(c=x,e):(c=e,x))).length;0==m[--d];m.pop());if(!m[0])return c.charAt(0);if(v<0?--l:(h.c=m,h.e=l,h.s=a,m=(h=n(h,y,w,A,i)).c,f=h.r,l=h.e),v=m[u=l+w+1],d=i/2,f=f||u<0||null!=m[u+1],f=A<4?(null!=v||f)&&(0==A||A==(h.s<0?3:2)):v>d||v==d&&(4==A||f||6==A&&1&m[u-1]||A==(h.s<0?8:7)),u<1||!m[0])r=f?zo(c.charAt(1),-w,c.charAt(0)):c.charAt(0);else{if(m.length=u,f)for(--i;++m[--u]>i;)m[u]=0,u||(++l,m=[1].concat(m));for(d=m.length;!m[--d];);for(v=0,r=\"\";v<=d;r+=c.charAt(m[v++]));r=zo(r,l,c.charAt(0))}return r}}(),n=function(){function e(e,t,n){var r,o,i,a,s=0,c=e.length,u=t%Io,l=t/Io|0;for(e=e.slice();c--;)s=((o=u*(i=e[c]%Io)+(r=l*i+(a=e[c]/Io|0)*u)%Io*Io+s)/n|0)+(r/Io|0)+l*a,e[c]=o%n;return s&&(e=[s].concat(e)),e}function t(e,t,n,r){var o,i;if(n!=r)i=n>r?1:-1;else for(o=i=0;o<n;o++)if(e[o]!=t[o]){i=e[o]>t[o]?1:-1;break}return i}function n(e,t,n,r){for(var o=0;n--;)e[n]-=o,o=e[n]<t[n]?1:0,e[n]=o*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,o,i,a,s){var c,u,l,d,f,h,p,g,m,y,v,w,A,b,S,E,x,T=r.s==o.s?1:-1,I=r.c,_=o.c;if(!(I&&I[0]&&_&&_[0]))return new k(r.s&&o.s&&(I?!_||I[0]!=_[0]:_)?I&&0==I[0]||!_?0*T:T/0:NaN);for(m=(g=new k(T)).c=[],T=i+(u=r.e-o.e)+1,s||(s=Eo,u=Co(r.e/xo)-Co(o.e/xo),T=T/xo|0),l=0;_[l]==(I[l]||0);l++);if(_[l]>(I[l]||0)&&u--,T<0)m.push(1),d=!0;else{for(b=I.length,E=_.length,l=0,T+=2,(f=Ao(s/(_[0]+1)))>1&&(_=e(_,f,s),I=e(I,f,s),E=_.length,b=I.length),A=E,v=(y=I.slice(0,E)).length;v<E;y[v++]=0);x=_.slice(),x=[0].concat(x),S=_[0],_[1]>=s/2&&S++;do{if(f=0,(c=t(_,y,E,v))<0){if(w=y[0],E!=v&&(w=w*s+(y[1]||0)),(f=Ao(w/S))>1)for(f>=s&&(f=s-1),p=(h=e(_,f,s)).length,v=y.length;1==t(h,y,p,v);)f--,n(h,E<p?x:_,p,s),p=h.length,c=1;else 0==f&&(c=f=1),p=(h=_.slice()).length;if(p<v&&(h=[0].concat(h)),n(y,h,v,s),v=y.length,-1==c)for(;t(_,y,E,v)<1;)f++,n(y,E<v?x:_,v,s),v=y.length}else 0===c&&(f++,y=[0]);m[l++]=f,y[0]?y[v++]=I[A]||0:(y=[I[A]],v=1)}while((A++<b||null!=y[0])&&T--);d=null!=y[0],m[0]||m.splice(0,1)}if(s==Eo){for(l=1,T=m[0];T>=10;T/=10,l++);R(g,i+(g.e=l+u*xo-1)+1,a,d)}else g.e=u,g.r=+d;return g}}(),s=/^(-?)0([xbo])(?=\\w[\\w.]*$)/i,c=/^([^.]+)\\.$/,u=/^\\.([^.]+)$/,l=/^-?(Infinity|NaN)$/,d=/^\\s*\\+(?=[\\w.])|^\\s+|\\s+$/g,o=function(e,t,n,r){var o,i=n?t:t.replace(d,\"\");if(l.test(i))e.s=isNaN(i)?null:i<0?-1:1;else{if(!n&&(i=i.replace(s,(function(e,t,n){return o=\"x\"==(n=n.toLowerCase())?16:\"b\"==n?2:8,r&&r!=o?e:t})),r&&(o=r,i=i.replace(c,\"$1\").replace(u,\"0.$1\")),t!=i))return new k(i,o);if(k.DEBUG)throw Error(bo+\"Not a\"+(r?\" base \"+r:\"\")+\" number: \"+t);e.s=null}e.c=e.e=null},f.absoluteValue=f.abs=function(){var e=new k(this);return e.s<0&&(e.s=1),e},f.comparedTo=function(e,t){return Po(this,new k(e,t))},f.decimalPlaces=f.dp=function(e,t){var n,r,o,i=this;if(null!=e)return Oo(e,0,_o),null==t?t=g:Oo(t,0,8),R(new k(i),e+i.e+1,t);if(!(n=i.c))return null;if(r=((o=n.length-1)-Co(this.e/xo))*xo,o=n[o])for(;o%10==0;o/=10,r--);return r<0&&(r=0),r},f.dividedBy=f.div=function(e,t){return n(this,new k(e,t),p,g)},f.dividedToIntegerBy=f.idiv=function(e,t){return n(this,new k(e,t),0,1)},f.exponentiatedBy=f.pow=function(e,t){var n,r,o,i,a,s,c,u,l=this;if((e=new k(e)).c&&!e.isInteger())throw Error(bo+\"Exponent not an integer: \"+P(e));if(null!=t&&(t=new k(t)),a=e.e>14,!l.c||!l.c[0]||1==l.c[0]&&!l.e&&1==l.c.length||!e.c||!e.c[0])return u=new k(Math.pow(+P(l),a?e.s*(2-No(e)):+P(e))),t?u.mod(t):u;if(s=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new k(NaN);(r=!s&&l.isInteger()&&t.isInteger())&&(l=l.mod(t))}else{if(e.e>9&&(l.e>0||l.e<-1||(0==l.e?l.c[0]>1||a&&l.c[1]>=24e7:l.c[0]<8e13||a&&l.c[0]<=9999975e7)))return i=l.s<0&&No(e)?-0:0,l.e>-1&&(i=1/i),new k(s?1/i:i);S&&(i=wo(S/xo+2))}for(a?(n=new k(.5),s&&(e.s=1),c=No(e)):c=(o=Math.abs(+P(e)))%2,u=new k(h);;){if(c){if(!(u=u.times(l)).c)break;i?u.c.length>i&&(u.c.length=i):r&&(u=u.mod(t))}if(o){if(0===(o=Ao(o/2)))break;c=o%2}else if(R(e=e.times(n),e.e+1,1),e.e>14)c=No(e);else{if(0===(o=+P(e)))break;c=o%2}l=l.times(l),i?l.c&&l.c.length>i&&(l.c.length=i):r&&(l=l.mod(t))}return r?u:(s&&(u=h.div(u)),t?u.mod(t):i?R(u,S,g,undefined):u)},f.integerValue=function(e){var t=new k(this);return null==e?e=g:Oo(e,0,8),R(t,t.e+1,e)},f.isEqualTo=f.eq=function(e,t){return 0===Po(this,new k(e,t))},f.isFinite=function(){return!!this.c},f.isGreaterThan=f.gt=function(e,t){return Po(this,new k(e,t))>0},f.isGreaterThanOrEqualTo=f.gte=function(e,t){return 1===(t=Po(this,new k(e,t)))||0===t},f.isInteger=function(){return!!this.c&&Co(this.e/xo)>this.c.length-2},f.isLessThan=f.lt=function(e,t){return Po(this,new k(e,t))<0},f.isLessThanOrEqualTo=f.lte=function(e,t){return-1===(t=Po(this,new k(e,t)))||0===t},f.isNaN=function(){return!this.s},f.isNegative=function(){return this.s<0},f.isPositive=function(){return this.s>0},f.isZero=function(){return!!this.c&&0==this.c[0]},f.minus=function(e,t){var n,r,o,i,a=this,s=a.s;if(t=(e=new k(e,t)).s,!s||!t)return new k(NaN);if(s!=t)return e.s=-t,a.plus(e);var c=a.e/xo,u=e.e/xo,l=a.c,d=e.c;if(!c||!u){if(!l||!d)return l?(e.s=-t,e):new k(d?a:NaN);if(!l[0]||!d[0])return d[0]?(e.s=-t,e):new k(l[0]?a:3==g?-0:0)}if(c=Co(c),u=Co(u),l=l.slice(),s=c-u){for((i=s<0)?(s=-s,o=l):(u=c,o=d),o.reverse(),t=s;t--;o.push(0));o.reverse()}else for(r=(i=(s=l.length)<(t=d.length))?s:t,s=t=0;t<r;t++)if(l[t]!=d[t]){i=l[t]<d[t];break}if(i&&(o=l,l=d,d=o,e.s=-e.s),(t=(r=d.length)-(n=l.length))>0)for(;t--;l[n++]=0);for(t=Eo-1;r>s;){if(l[--r]<d[r]){for(n=r;n&&!l[--n];l[n]=t);--l[n],l[r]+=Eo}l[r]-=d[r]}for(;0==l[0];l.splice(0,1),--u);return l[0]?C(e,l,u):(e.s=3==g?-1:1,e.c=[e.e=0],e)},f.modulo=f.mod=function(e,t){var r,o,i=this;return e=new k(e,t),!i.c||!e.s||e.c&&!e.c[0]?new k(NaN):!e.c||i.c&&!i.c[0]?new k(i):(9==b?(o=e.s,e.s=1,r=n(i,e,0,3),e.s=o,r.s*=o):r=n(i,e,0,b),(e=i.minus(r.times(e))).c[0]||1!=b||(e.s=i.s),e)},f.multipliedBy=f.times=function(e,t){var n,r,o,i,a,s,c,u,l,d,f,h,p,g,m,y=this,v=y.c,w=(e=new k(e,t)).c;if(!(v&&w&&v[0]&&w[0]))return!y.s||!e.s||v&&!v[0]&&!w||w&&!w[0]&&!v?e.c=e.e=e.s=null:(e.s*=y.s,v&&w?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=Co(y.e/xo)+Co(e.e/xo),e.s*=y.s,(c=v.length)<(d=w.length)&&(p=v,v=w,w=p,o=c,c=d,d=o),o=c+d,p=[];o--;p.push(0));for(g=Eo,m=Io,o=d;--o>=0;){for(n=0,f=w[o]%m,h=w[o]/m|0,i=o+(a=c);i>o;)n=((u=f*(u=v[--a]%m)+(s=h*u+(l=v[a]/m|0)*f)%m*m+p[i]+n)/g|0)+(s/m|0)+h*l,p[i--]=u%g;p[i]=n}return n?++r:p.splice(0,1),C(e,p,r)},f.negated=function(){var e=new k(this);return e.s=-e.s||null,e},f.plus=function(e,t){var n,r=this,o=r.s;if(t=(e=new k(e,t)).s,!o||!t)return new k(NaN);if(o!=t)return e.s=-t,r.minus(e);var i=r.e/xo,a=e.e/xo,s=r.c,c=e.c;if(!i||!a){if(!s||!c)return new k(o/0);if(!s[0]||!c[0])return c[0]?e:new k(s[0]?r:0*o)}if(i=Co(i),a=Co(a),s=s.slice(),o=i-a){for(o>0?(a=i,n=c):(o=-o,n=s),n.reverse();o--;n.push(0));n.reverse()}for((o=s.length)-(t=c.length)<0&&(n=c,c=s,s=n,t=o),o=0;t;)o=(s[--t]=s[t]+c[t]+o)/Eo|0,s[t]=Eo===s[t]?0:s[t]%Eo;return o&&(s=[o].concat(s),++a),C(e,s,a)},f.precision=f.sd=function(e,t){var n,r,o,i=this;if(null!=e&&e!==!!e)return Oo(e,1,_o),null==t?t=g:Oo(t,0,8),R(new k(i),e,t);if(!(n=i.c))return null;if(r=(o=n.length-1)*xo+1,o=n[o]){for(;o%10==0;o/=10,r--);for(o=n[0];o>=10;o/=10,r++);}return e&&i.e+1>r&&(r=i.e+1),r},f.shiftedBy=function(e){return Oo(e,-9007199254740991,To),this.times(\"1e\"+e)},f.squareRoot=f.sqrt=function(){var e,t,r,o,i,a=this,s=a.c,c=a.s,u=a.e,l=p+4,d=new k(\"0.5\");if(1!==c||!s||!s[0])return new k(!c||c<0&&(!s||s[0])?NaN:s?a:1/0);if(0==(c=Math.sqrt(+P(a)))||c==1/0?(((t=Ro(s)).length+u)%2==0&&(t+=\"0\"),c=Math.sqrt(+t),u=Co((u+1)/2)-(u<0||u%2),r=new k(t=c==1/0?\"5e\"+u:(t=c.toExponential()).slice(0,t.indexOf(\"e\")+1)+u)):r=new k(c+\"\"),r.c[0])for((c=(u=r.e)+l)<3&&(c=0);;)if(i=r,r=d.times(i.plus(n(a,i,l,1))),Ro(i.c).slice(0,c)===(t=Ro(r.c)).slice(0,c)){if(r.e<u&&--c,\"9999\"!=(t=t.slice(c-3,c+1))&&(o||\"4999\"!=t)){+t&&(+t.slice(1)||\"5\"!=t.charAt(0))||(R(r,r.e+p+2,1),e=!r.times(r).eq(a));break}if(!o&&(R(i,i.e+p+2,0),i.times(i).eq(a))){r=i;break}l+=4,c+=4,o=1}return R(r,r.e+p+1,g,e)},f.toExponential=function(e,t){return null!=e&&(Oo(e,0,_o),e++),I(this,e,t,1)},f.toFixed=function(e,t){return null!=e&&(Oo(e,0,_o),e=e+this.e+1),I(this,e,t)},f.toFormat=function(e,t,n){var r,o=this;if(null==n)null!=e&&t&&\"object\"==typeof t?(n=t,t=null):e&&\"object\"==typeof e?(n=e,e=t=null):n=E;else if(\"object\"!=typeof n)throw Error(bo+\"Argument not an object: \"+n);if(r=o.toFixed(e,t),o.c){var i,a=r.split(\".\"),s=+n.groupSize,c=+n.secondaryGroupSize,u=n.groupSeparator||\"\",l=a[0],d=a[1],f=o.s<0,h=f?l.slice(1):l,p=h.length;if(c&&(i=s,s=c,c=i,p-=i),s>0&&p>0){for(i=p%s||s,l=h.substr(0,i);i<p;i+=s)l+=u+h.substr(i,s);c>0&&(l+=u+h.slice(i)),f&&(l=\"-\"+l)}r=d?l+(n.decimalSeparator||\"\")+((c=+n.fractionGroupSize)?d.replace(new RegExp(\"\\\\d{\"+c+\"}\\\\B\",\"g\"),\"$&\"+(n.fractionGroupSeparator||\"\")):d):l}return(n.prefix||\"\")+r+(n.suffix||\"\")},f.toFraction=function(e){var t,r,o,i,a,s,c,u,l,d,f,p,m=this,y=m.c;if(null!=e&&(!(c=new k(e)).isInteger()&&(c.c||1!==c.s)||c.lt(h)))throw Error(bo+\"Argument \"+(c.isInteger()?\"out of range: \":\"not an integer: \")+P(c));if(!y)return new k(m);for(t=new k(h),l=r=new k(h),o=u=new k(h),p=Ro(y),a=t.e=p.length-m.e-1,t.c[0]=ko[(s=a%xo)<0?xo+s:s],e=!e||c.comparedTo(t)>0?a>0?t:l:c,s=w,w=1/0,c=new k(p),u.c[0]=0;d=n(c,t,0,1),1!=(i=r.plus(d.times(o))).comparedTo(e);)r=o,o=i,l=u.plus(d.times(i=l)),u=i,t=c.minus(d.times(i=t)),c=i;return i=n(e.minus(r),o,0,1),u=u.plus(i.times(l)),r=r.plus(i.times(o)),u.s=l.s=m.s,f=n(l,o,a*=2,g).minus(m).abs().comparedTo(n(u,r,a,g).minus(m).abs())<1?[l,o]:[u,r],w=s,f},f.toNumber=function(){return+P(this)},f.toPrecision=function(e,t){return null!=e&&Oo(e,1,_o),I(this,e,t,2)},f.toString=function(e){var t,n=this,o=n.s,i=n.e;return null===i?o?(t=\"Infinity\",o<0&&(t=\"-\"+t)):t=\"NaN\":(null==e?t=i<=m||i>=y?Bo(Ro(n.c),i):zo(Ro(n.c),i,\"0\"):10===e&&T?t=zo(Ro((n=R(new k(n),p+i+1,g)).c),n.e,\"0\"):(Oo(e,2,x.length,\"Base\"),t=r(zo(Ro(n.c),i,\"0\"),10,e,o,!0)),o<0&&n.c[0]&&(t=\"-\"+t)),t},f.valueOf=f.toJSON=function(){return P(this)},f._isBigNumber=!0,f[Symbol.toStringTag]=\"BigNumber\",f[Symbol.for(\"nodejs.util.inspect.custom\")]=f.valueOf,null!=t&&k.set(t),k}();const jo=Mo;function Uo(e,t){return D(e,(e=>\"string\"==typeof e&&t.test(e)))}const Do=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$/u,Lo=/^[-a-z0-9]{3,8}$/u,$o=/^[-_a-zA-Z0-9]{1,32}$/u,Fo=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$/u,qo=/^[-.%a-zA-Z0-9]{1,128}$/u,Wo=/^[-a-z0-9]{3,8}$/u,Vo=/^[-.%a-zA-Z0-9]{1,128}$/u,Ko=/^[-.%a-zA-Z0-9]{1,78}$/u,Go=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})$/u,Ho=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})\\/(?<tokenId>[-.%a-zA-Z0-9]{1,78})$/u,Jo=(Uo(\"CaipChainId\",Do),Uo(\"CaipNamespace\",Lo),Uo(\"CaipReference\",$o),Uo(\"CaipAccountId\",Fo),Uo(\"CaipAccountAddress\",qo),Uo(\"CaipAssetNamespace\",Wo),Uo(\"CaipAssetReference\",Vo),Uo(\"CaipTokenId\",Ko),Uo(\"CaipAssetType\",Go));Uo(\"CaipAssetId\",Ho),Uo(\"CaipAssetTypeOrId\",/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})(\\/(?<tokenId>[-.%a-zA-Z0-9]{1,78}))?$/u);var Zo,Yo;function Xo(e){const t=Go.exec(e);if(!t?.groups)throw new Error(\"Invalid CAIP asset type.\");return{assetNamespace:t.groups.assetNamespace,assetReference:t.groups.assetReference,chainId:t.groups.chainId,chain:{namespace:t.groups.namespace,reference:t.groups.reference}}}function Qo(e,t){return n=e,Boolean(\"string\"==typeof n?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var n}!function(e){e.Bip122=\"bip122\",e.Solana=\"solana\",e.Eip155=\"eip155\",e.Wallet=\"wallet\"}(Zo=Zo||(Zo={}));class ei extends Error{constructor(e){super(e.message),this.code=\"ERR_ASSERTION\"}}function ti(e,t=\"Assertion failed.\",n=ei){if(!e){if(t instanceof Error)throw t;throw Qo(n,t)}}!function(e){e[e.Millisecond=1]=\"Millisecond\",e[e.Second=1e3]=\"Second\",e[e.Minute=6e4]=\"Minute\",e[e.Hour=36e5]=\"Hour\",e[e.Day=864e5]=\"Day\",e[e.Week=6048e5]=\"Week\",e[e.Year=31536e6]=\"Year\"}(Yo=Yo||(Yo={}));var ni=n(5250);const ri=(e,t)=>`${e}:${t.map((e=>JSON.stringify(e))).join(\":\")}`,oi=(e,t,{ttlMilliseconds:n,functionName:r,generateCacheKey:o})=>{const i=o??ri,a=r??e.name??\"anonymousFunction\";return async(...r)=>{const o=i(a,r);try{const e=await t.get(o);if(void 0!==e)return e}catch(e){console.error(`Cache get error for key \"${o}\":`,e)}const s=await e(...r);return t.set(o,s,n).catch((e=>{console.error(`Cache set error for key \"${o}\":`,e)})),s}};var ii=4,ai=5,si=6,ci=10,ui=-32700,li=-32603,di=-32602,fi=-32601,hi=-32600,pi=-32015,gi=-32014,mi=-32012,yi=-32010,vi=-32009,wi=-32007,Ai=-32006,bi=-32004,Si=-32002,Ei=-32001,xi=28e5,Ti=2800001,ki=2800003,Ii=2800006,_i=2800007,Ci=2800008,Ri=2800009,Pi=32300001,Oi=3230004,Ni=361e4,Bi=3610001,zi=3610003,Mi=3610005,ji=3610006,Ui=3610007,Di=3704001,Li=3704002,$i=3704003,Fi=4615e3,qi=4615026,Wi=4615045,Vi=5508e3,Ki=5663e3,Gi=5663001,Hi=5663004,Ji=5663005,Zi=5663006,Yi=5663007,Xi=5663008,Qi=5663009,ea=5663012,ta=5663015,na=5663016,ra=5663017,oa=5663018,ia=5663019,aa=705e4,sa=7050030,ca=7050031,ua=7050035,la=8078e3,da=8078001,fa=8078002,ha=8078004,pa=8078005,ga=8078006,ma=8078007,ya=8078008,va=8078010,wa=8078011,Aa=8078012,ba=8078013,Sa=8078014,Ea=8078017,xa=8078018,Ta=8078022,ka=81e5,Ia=8100002,_a=8100003,Ca=9900003;function Ra(e){if(Array.isArray(e)){return\"%5B\"+e.map(Ra).join(\"%2C%20\")+\"%5D\"}return\"bigint\"==typeof e?`${e}n`:encodeURIComponent(String(null!=e&&null===Object.getPrototypeOf(e)?{...e}:e))}function Pa([e,t]){return`${e}=${Ra(t)}`}function Oa(e,t={}){{let n=`Solana error #${e}; Decode this error by running \\`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${function(e){const t=Object.entries(e).map(Pa).join(\"&\");return btoa(t)}(t)}'`),`${n}\\``}}function Na(e,t){return!!(e instanceof Error&&\"SolanaError\"===e.name)&&(void 0===t||e.context.__code===t)}var Ba=class extends Error{cause=this.cause;context;constructor(...[e,t]){let n,r;if(t){const{cause:e,...o}=t;e&&(r={cause:e}),Object.keys(o).length>0&&(n=o)}super(Oa(e,n),r),this.context={__code:e,...n},this.name=\"SolanaError\"}};function za(...e){\"captureStackTrace\"in Error&&\"function\"==typeof Error.captureStackTrace&&Error.captureStackTrace(...e)}function Ma({errorCodeBaseOffset:e,getErrorContext:t,orderedErrorNames:n,rpcEnumError:r},o){let i,a;\"string\"==typeof r?i=r:(i=Object.keys(r)[0],a=r[i]);const s=e+n.indexOf(i),c=t(s,i,a),u=new Ba(s,c);return za(u,o),u}var ja=[\"GenericError\",\"InvalidArgument\",\"InvalidInstructionData\",\"InvalidAccountData\",\"AccountDataTooSmall\",\"InsufficientFunds\",\"IncorrectProgramId\",\"MissingRequiredSignature\",\"AccountAlreadyInitialized\",\"UninitializedAccount\",\"UnbalancedInstruction\",\"ModifiedProgramId\",\"ExternalAccountLamportSpend\",\"ExternalAccountDataModified\",\"ReadonlyLamportChange\",\"ReadonlyDataModified\",\"DuplicateAccountIndex\",\"ExecutableModified\",\"RentEpochModified\",\"NotEnoughAccountKeys\",\"AccountDataSizeChanged\",\"AccountNotExecutable\",\"AccountBorrowFailed\",\"AccountBorrowOutstanding\",\"DuplicateAccountOutOfSync\",\"Custom\",\"InvalidError\",\"ExecutableDataModified\",\"ExecutableLamportChange\",\"ExecutableAccountNotRentExempt\",\"UnsupportedProgramId\",\"CallDepth\",\"MissingAccount\",\"ReentrancyNotAllowed\",\"MaxSeedLengthExceeded\",\"InvalidSeeds\",\"InvalidRealloc\",\"ComputationalBudgetExceeded\",\"PrivilegeEscalation\",\"ProgramEnvironmentSetupFailure\",\"ProgramFailedToComplete\",\"ProgramFailedToCompile\",\"Immutable\",\"IncorrectAuthority\",\"BorshIoError\",\"AccountNotRentExempt\",\"InvalidAccountOwner\",\"ArithmeticOverflow\",\"UnsupportedSysvar\",\"IllegalOwner\",\"MaxAccountsDataAllocationsExceeded\",\"MaxAccountsExceeded\",\"MaxInstructionTraceLengthExceeded\",\"BuiltinProgramsMustConsumeComputeUnits\"];function Ua(e,t){const n=Number(e);return Ma({errorCodeBaseOffset:4615001,getErrorContext:(e,t,r)=>e===Fi?{errorName:t,index:n,...void 0!==r?{instructionErrorContext:r}:null}:e===qi?{code:Number(r),index:n}:e===Wi?{encodedData:r,index:n}:{index:n},orderedErrorNames:ja,rpcEnumError:t},Ua)}var Da=[\"AccountInUse\",\"AccountLoadedTwice\",\"AccountNotFound\",\"ProgramAccountNotFound\",\"InsufficientFundsForFee\",\"InvalidAccountForFee\",\"AlreadyProcessed\",\"BlockhashNotFound\",\"CallChainTooDeep\",\"MissingSignatureForFee\",\"InvalidAccountIndex\",\"SignatureFailure\",\"InvalidProgramForExecution\",\"SanitizeFailure\",\"ClusterMaintenance\",\"AccountBorrowOutstanding\",\"WouldExceedMaxBlockCostLimit\",\"UnsupportedVersion\",\"InvalidWritableAccount\",\"WouldExceedMaxAccountCostLimit\",\"WouldExceedAccountDataBlockLimit\",\"TooManyAccountLocks\",\"AddressLookupTableNotFound\",\"InvalidAddressLookupTableOwner\",\"InvalidAddressLookupTableData\",\"InvalidAddressLookupTableIndex\",\"InvalidRentPayingAccount\",\"WouldExceedMaxVoteCostLimit\",\"WouldExceedAccountDataTotalLimit\",\"DuplicateInstruction\",\"InsufficientFundsForRent\",\"MaxLoadedAccountsDataSizeExceeded\",\"InvalidLoadedAccountsDataSizeLimit\",\"ResanitizationNeeded\",\"ProgramExecutionTemporarilyRestricted\",\"UnbalancedTransaction\"];function La(e){return\"object\"==typeof e&&\"InstructionError\"in e?Ua(...e.InstructionError):Ma({errorCodeBaseOffset:7050001,getErrorContext:(e,t,n)=>e===aa?{errorName:t,...void 0!==n?{transactionErrorContext:n}:null}:e===sa?{index:Number(n)}:e===ca||e===ua?{accountIndex:Number(n.account_index)}:void 0,orderedErrorNames:Da,rpcEnumError:e},La)}function $a(e){let t;if(\"object\"==typeof(n=e)&&null!==n&&\"code\"in n&&\"message\"in n&&(\"number\"==typeof n.code||\"bigint\"==typeof n.code)&&\"string\"==typeof n.message){const{code:n,data:r,message:o}=e,i=Number(n);if(i===Si){const{err:e,...n}=r,o=e?{cause:La(e)}:null;t=new Ba(Si,{...n,...o})}else{let e;switch(i){case li:case di:case hi:case fi:case ui:case mi:case Ei:case bi:case gi:case yi:case vi:case wi:case Ai:case pi:e={__serverMessage:o};break;default:\"object\"!=typeof r||Array.isArray(r)||(e=r)}t=new Ba(i,e)}}else{const n=\"object\"==typeof e&&null!==e&&\"message\"in e&&\"string\"==typeof e.message?e.message:\"Malformed JSON-RPC error with no message attribute\";t=new Ba(ci,{error:e,message:n})}var n;return za(t,$a),t}var Fa=(e,t)=>((e,t)=>{if(e.length>=t)return e;const n=new Uint8Array(t).fill(0);return n.set(e),n})(e.length<=t?e:e.slice(0,t),t);function qa(e,t,n){const r=0===n&&e.length===t.length?e:e.slice(n,n+t.length);return r.length===t.length&&t.every(((e,t)=>e===r[t]))}function Wa(e,t){return\"fixedSize\"in t?t.fixedSize:t.getSizeFromValue(e)}function Va(e){return Object.freeze({...e,encode:t=>{const n=new Uint8Array(Wa(t,e));return e.write(t,n,0),n}})}function Ka(e){return Object.freeze({...e,decode:(t,n=0)=>e.read(t,n)[0]})}function Ga(e){return\"fixedSize\"in e&&\"number\"==typeof e.fixedSize}function Ha(e){if(!Ga(e))throw new Ba(fa)}function Ja(e){return!Ga(e)}function Za(e,t){if(Ga(e)!==Ga(t))throw new Ba(ha);if(Ga(e)&&Ga(t)&&e.fixedSize!==t.fixedSize)throw new Ba(pa,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!Ga(e)&&!Ga(t)&&e.maxSize!==t.maxSize)throw new Ba(ga,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}function Ya(e,t,n,r=0){const o=n.length-r;if(o<t)throw new Ba(da,{bytesLength:o,codecDescription:e,expected:t})}function Xa(e,t,n){if(t<0||t>n)throw new Ba(Sa,{bytesLength:n,codecDescription:e,offset:t})}function Qa(e,t){const n=(n,r,o)=>{const i=e.encode(n);return o=t.write(i.length,r,o),r.set(i,o),o+i.length};if(Ga(t)&&Ga(e))return Va({...e,fixedSize:t.fixedSize+e.fixedSize,write:n});const r=Ga(t)?t.fixedSize:t.maxSize??null,o=Ga(e)?e.fixedSize:e.maxSize??null,i=null!==r&&null!==o?r+o:null;return Va({...e,...null!==i?{maxSize:i}:{},getSizeFromValue:n=>{const r=Wa(n,e);return Wa(r,t)+r},write:n})}function es(e,t){const n=(n,r)=>{const[o,i]=t.read(n,r),a=Number(o);return((r=i)>0||n.length>a)&&(n=n.slice(r,r+a)),Ya(\"addDecoderSizePrefix\",a,n),[e.decode(n),r+a]};if(Ga(t)&&Ga(e))return Ka({...e,fixedSize:t.fixedSize+e.fixedSize,read:n});const r=Ga(t)?t.fixedSize:t.maxSize??null,o=Ga(e)?e.fixedSize:e.maxSize??null,i=null!==r&&null!==o?r+o:null;return Ka({...e,...null!==i?{maxSize:i}:{},read:n})}function ts(e,t){return Va({fixedSize:t,write:(n,r,o)=>{const i=e.encode(n),a=i.length>t?i.slice(0,t):i;return r.set(a,o),o+t}})}function ns(e,t){return Ka({fixedSize:t,read:(n,r)=>{Ya(\"fixCodecSize\",t,n,r),(r>0||n.length>t)&&(n=n.slice(r,r+t)),Ga(e)&&(n=Fa(n,e.fixedSize));const[o]=e.read(n,0);return[o,r+t]}})}function rs(e,t){return Ka({...e,read:(n,r)=>{const o=e=>os(e,n.length),i=t.preOffset?t.preOffset({bytes:n,preOffset:r,wrapBytes:o}):r;Xa(\"offsetDecoder\",i,n.length);const[a,s]=e.read(n,i),c=t.postOffset?t.postOffset({bytes:n,newPreOffset:i,postOffset:s,preOffset:r,wrapBytes:o}):s;return Xa(\"offsetDecoder\",c,n.length),[a,c]}})}function os(e,t){return 0===t?0:(e%t+t)%t}function is(e,t){if(Ga(e)){const n=t(e.fixedSize);if(n<0)throw new Ba(ba,{bytesLength:n,codecDescription:\"resizeDecoder\"});return Ka({...e,fixedSize:n})}return e}function as(e,t){return rs(is(e,(e=>e+t)),{postOffset:({postOffset:e})=>e+t})}function ss(e,t){return Va({...Ja(e)?{...e,getSizeFromValue:n=>e.getSizeFromValue(t(n))}:e,write:(n,r,o)=>e.write(t(n),r,o)})}function cs(e,t){return Ka({...e,read:(n,r)=>{const[o,i]=e.read(n,r);return[t(o,n,r),i]}})}function us(e,t,n=t){if(!t.match(new RegExp(`^[${e}]*$`)))throw new Ba(Aa,{alphabet:e,base:e.length,value:n})}var ls=e=>Va({getSizeFromValue:t=>{const[n,r]=hs(t,e[0]);if(!r)return t.length;const o=ps(r,e);return n.length+Math.ceil(o.toString(16).length/2)},write(t,n,r){if(us(e,t),\"\"===t)return r;const[o,i]=hs(t,e[0]);if(!i)return n.set(new Uint8Array(o.length).fill(0),r),r+o.length;let a=ps(i,e);const s=[];for(;a>0n;)s.unshift(Number(a%256n)),a/=256n;const c=[...Array(o.length).fill(0),...s];return n.set(c,r),r+c.length}}),ds=e=>Ka({read(t,n){const r=0===n?t:t.slice(n);if(0===r.length)return[\"\",0];let o=r.findIndex((e=>0!==e));o=-1===o?r.length:o;const i=e[0].repeat(o);if(o===r.length)return[i,t.length];const a=function(e,t){const n=BigInt(t.length),r=[];for(;e>0n;)r.unshift(t[Number(e%n)]),e/=n;return r.join(\"\")}(r.slice(o).reduce(((e,t)=>256n*e+BigInt(t)),0n),e);return[i+a,t.length]}}),fs=e=>Za(ls(e),ds(e));function hs(e,t){const[n,r]=e.split(new RegExp(`((?!${t}).*)`));return[n,r]}function ps(e,t){const n=BigInt(t.length);let r=0n;for(const o of e)r*=n,r+=BigInt(t.indexOf(o));return r}var gs=\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\",ms=()=>ls(gs),ys=()=>ds(gs),vs=()=>fs(gs);var ws,As,bs=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",Ss=()=>Va({getSizeFromValue:e=>{try{return atob(e).length}catch{throw new Ba(Aa,{alphabet:bs,base:64,value:e})}},write(e,t,n){try{const r=atob(e).split(\"\").map((e=>e.charCodeAt(0)));return t.set(r,n),r.length+n}catch{throw new Ba(Aa,{alphabet:bs,base:64,value:e})}}}),Es=()=>Ka({read(e,t=0){const n=e.slice(t);return[btoa(String.fromCharCode(...n)),e.length]}}),xs=()=>Za(Ss(),Es()),Ts=e=>e.replace(/\\u0000/g,\"\"),ks=globalThis.TextDecoder,Is=globalThis.TextEncoder,_s=()=>{let e;return Ka({read(t,n){const r=(e||=new ks).decode(t.slice(n));return[Ts(r),t.length]}})},Cs=()=>Za((()=>{let e;return Va({getSizeFromValue:t=>(e||=new Is).encode(t).length,write:(t,n,r)=>{const o=(e||=new Is).encode(t);return n.set(o,r),r+o.length}})})(),_s());function Rs(){if(!globalThis.isSecureContext)throw new Ba(Ni)}function Ps(){if(Rs(),void 0===globalThis.crypto||\"function\"!=typeof globalThis.crypto.subtle?.exportKey)throw new Ba(zi)}function Os(){return ws||(ws=ms()),ws}function Ns(e){if(e.length<32||e.length>44)return!1;const t=Os();try{return 32===t.encode(e).byteLength}catch{return!1}}function Bs(e){if(e.length<32||e.length>44)throw new Ba(Ti,{actualLength:e.length});const t=Os().encode(e).byteLength;if(32!==t)throw new Ba(xi,{actualLength:t})}function zs(e){return Bs(e),e}function Ms(){return ss(ts(Os(),32),(e=>zs(e)))}function js(){return ns((As||(As=ys()),As),32)}function Us(){return Za(Ms(),js())}function Ds(){return new Intl.Collator(\"en\",{caseFirst:\"lower\",ignorePunctuation:!1,localeMatcher:\"best fit\",numeric:!1,sensitivity:\"variant\",usage:\"sort\"}).compare}var Ls=37095705934669439343138083508754565189542113879843219016388785533085940283555n,$s=57896044618658097711785492504343953926634992332820282019728792003956564819949n,Fs=19681161376707505956807079304988542015446066515923890162744021073123829784752n;function qs(e){const t=e%$s;return t>=0n?t:$s+t}function Ws(e,t){let n=e;for(;t-- >0n;)n*=n,n%=$s;return n}function Vs(e,t){const n=qs(t*t*t),r=function(e){const t=e*e%$s*e%$s,n=Ws(t,2n)*t%$s,r=Ws(n,1n)*e%$s,o=Ws(r,5n)*r%$s,i=Ws(o,10n)*o%$s,a=Ws(i,20n)*i%$s,s=Ws(a,40n)*a%$s,c=Ws(s,80n)*s%$s,u=Ws(c,80n)*s%$s,l=Ws(u,10n)*o%$s;return Ws(l,2n)*e%$s}(e*qs(n*n*t));let o=qs(e*n*r);const i=qs(t*o*o),a=o,s=qs(o*Fs),c=i===e,u=i===qs(-e),l=i===qs(-e*Fs);return c&&(o=a),(u||l)&&(o=s),1n===(1n&qs(o))&&(o=qs(-o)),c||u?o:null}function Ks(e){if(32!==e.byteLength)return!1;const t=function(e){const t=e.reduce(((e,t,n)=>`${function(e){const t=e.toString(16);return 1===t.length?`0${t}`:t}(31===n?-129&t:t)}${e}`),\"\");return BigInt(`0x${t}`)}(e);return function(e,t){const n=qs(e*e),r=Vs(qs(n-1n),qs(Ls*n+1n));return null!==r&&(0n!==r||!(0!=(128&t)))}(t,e[31])}var Gs=32,Hs=16,Js=[80,114,111,103,114,97,109,68,101,114,105,118,101,100,65,100,100,114,101,115,115];async function Zs({programAddress:e,seeds:t}){if(function(){if(Rs(),void 0===globalThis.crypto||\"function\"!=typeof globalThis.crypto.subtle?.digest)throw new Ba(Bi)}(),t.length>Hs)throw new Ba(Ii,{actual:t.length,maxSeeds:Hs});let n;const r=t.reduce(((e,t,r)=>{const o=\"string\"==typeof t?(n||=new TextEncoder).encode(t):t;if(o.byteLength>Gs)throw new Ba(_i,{actual:o.byteLength,index:r,maxSeedLength:Gs});return e.push(...o),e}),[]),o=Us(),i=o.encode(e),a=await crypto.subtle.digest(\"SHA-256\",new Uint8Array([...r,...i,...Js])),s=new Uint8Array(a);if(Ks(s))throw new Ba(Ci);return o.decode(s)}async function Ys({programAddress:e,seeds:t}){let n=255;for(;n>0;)try{return[await Zs({programAddress:e,seeds:[...t,new Uint8Array([n])]}),n]}catch(e){if(!Na(e,Ci))throw e;n--}throw new Ba(Ri)}async function Xs(e){if(Ps(),\"public\"!==e.type||\"Ed25519\"!==e.algorithm.name)throw new Ba(ki);const t=await crypto.subtle.exportKey(\"raw\",e);return js().decode(new Uint8Array(t))}const Qs=1000000n,ec=1e9,tc=\"metamask\";var nc=function(e){return e.Mainnet=\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp\",e.Devnet=\"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1\",e.Testnet=\"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z\",e.Localnet=\"solana:123456789abcdef\",e}({}),rc=function(e){return e.SolMainnet=\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp/slip44:501\",e.SolDevnet=\"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1/slip44:501\",e.SolTestnet=\"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z/slip44:501\",e.SolLocalnet=\"solana:123456789abcdef/slip44:501\",e.UsdcMainnet=\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp/token:EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v\",e.UsdcDevnet=\"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1/token:4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU\",e.UsdcLocalnet=\"solana:123456789abcdef/token:4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU\",e.EurcMainnet=\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp/token:HzwqbKZw8HxMN6bF2yFZNrht3c2iXXzpKcFu7uBEDKtr\",e.EurcDevnet=\"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1/token:HzwqbKZw8HxMN6bF2yFZNrht3c2iXXzpKcFu7uBEDKtr\",e.EurcLocalnet=\"solana:123456789abcdef/token:HzwqbKZw8HxMN6bF2yFZNrht3c2iXXzpKcFu7uBEDKtr\",e.Ai16zLocalnet=\"solana:123456789abcdef/token:HeLp6NuQkmYB4pYWo2zYs22mESHXPQYzXbB8n4V98jwC\",e}({});var oc=function(e){return e.SOL=\"slip44:501\",e}({});const ic={\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp/slip44:501\":{symbol:\"SOL\",caip19Id:\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp/slip44:501\",address:\"So11111111111111111111111111111111111111112\",decimals:9},\"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1/slip44:501\":{symbol:\"SOL\",caip19Id:\"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1/slip44:501\",address:\"So11111111111111111111111111111111111111112\",decimals:9},\"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z/slip44:501\":{symbol:\"SOL\",caip19Id:\"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z/slip44:501\",address:\"So11111111111111111111111111111111111111112\",decimals:9},\"solana:123456789abcdef/slip44:501\":{symbol:\"SOL\",caip19Id:\"solana:123456789abcdef/slip44:501\",address:\"So11111111111111111111111111111111111111112\",decimals:9},\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp/token:EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v\":{symbol:\"USDC\",caip19Id:\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp/token:EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v\",address:\"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v\",decimals:6},\"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1/token:4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU\":{symbol:\"USDC\",caip19Id:\"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1/token:4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU\",address:\"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU\",decimals:6},\"solana:123456789abcdef/token:4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU\":{symbol:\"USDC\",caip19Id:\"solana:123456789abcdef/token:4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU\",address:\"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU\",decimals:6}},ac=zs(\"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb\"),sc={\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp\":{caip2Id:\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp\",cluster:\"mainnet\",name:\"Solana Mainnet\",nativeToken:ic[\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp/slip44:501\"]},\"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1\":{caip2Id:\"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1\",cluster:\"devnet\",name:\"Solana Devnet\",nativeToken:ic[\"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1/slip44:501\"]},\"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z\":{caip2Id:\"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z\",cluster:\"testnet\",name:\"Solana Testnet\",nativeToken:ic[\"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z/slip44:501\"]},\"solana:123456789abcdef\":{caip2Id:\"solana:123456789abcdef\",cluster:\"local\",name:\"Solana Localnet\",nativeToken:ic[\"solana:123456789abcdef/slip44:501\"]}},cc=ge(re(),/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/u),uc=ge(re(),/^(?!0\\d)(\\d+(\\.\\d+)?)$/u),lc=me(re(),\"safe-url\",(e=>{try{const t=new URL(e),n=[\"http:\",\"https:\",\"wss:\"];if(!n.includes(t.protocol))return`URL must use one of the following protocols: ${n}`;if(!e.match(/^(https?|wss):\\/\\/[^/]+\\/?/u))return\"Malformed URL - incorrect protocol format\";const r=t.hostname.toLowerCase();if(!(\"localhost\"===r||r.includes(\".\")&&/^[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/u.test(r)))return\"Invalid hostname format\";const o=decodeURIComponent(e.toLowerCase());if(e.includes(\"\\\\\")||e.includes(\"@\")||o.includes(\"\\\\\")||o.includes(\"@\")||e.toLowerCase().includes(\"%2f@\")||e.toLowerCase().includes(\"%5c@\"))return\"URL contains protocol pollution attempts\";const i=decodeURIComponent(r);if(r.includes(\"\\\\\")||r.includes(\"@\")||i.includes(\"/\")||r.toLowerCase().includes(\"%2f\"))return\"Invalid hostname characters detected\";if(e.includes(\"../\")||e.includes(\"..%2f\")||e.includes(\"..%2F\"))return\"Directory traversal attempts are not allowed\";const a=[/<[^>]*>/u,/javascript:/u,/data:/u,/\\\\[@\\\\]/u,/%2f@/u,/[^\\x20-\\x7E]/u,/\\$\\{.*?\\}/u,/#\\{.*?\\}/u,/[|;]/u,/%0[acd]|%0[acd]/u,/\\/\\/\\w+@/u,/(?:[^a-z]|^)(?:union\\s+(?:all\\s+)?select|select\\s+(?:.*\\s+)?from|insert\\s+into|update\\s+.*\\s+set|delete\\s+from|drop\\s+table|alter\\s+table|create\\s+table|exec(?:ute)?|union|where\\s+[\\d\\w]\\s*=\\s*[\\d\\w]|\\bor\\b\\s*[\\d\\w]\\s*=\\s*[\\d\\w])/iu,/'.*?(?:OR|UNION|SELECT|FROM|WHERE).*?'/iu,/%27.*?(?:OR|UNION|SELECT|FROM|WHERE).*?(?:%27|')/iu,/%20(?:OR|UNION|SELECT|FROM|WHERE)%20/iu,/[?&](?:url|redirect|next|return_to|return_url|goto|destination|continue|redirect_uri)=(?:[^&]*\\/\\/|https?:)/iu,/[?&](?:url|redirect|next|return_to|return_url|goto|destination|continue|redirect_uri)=%(?:[^&]*\\/\\/|https?:)/iu];for(const e of a)if(e.test(o))return\"URL contains potentially malicious patterns\";return!(t.port&&!/^\\d+$/u.test(t.port))||\"Invalid port number\"}catch(e){return\"Invalid URL format\"}})),dc=ee({accountId:cc}),fc=ee({accountId:cc}),hc=ee({accountId:cc}),pc=ee({accountId:cc,assets:K(it)}),gc=ee({accountId:cc,pagination:ee({limit:J(),next:te(X(re()))})}),mc=ne(it,ee({amount:uc,unit:re()})),yc=(K(it),H(Object.values(Ft)),H(Object.values(nc))),vc=(H([\"btc\",\"eth\",\"ltc\",\"bch\",\"bnb\",\"eos\",\"xrp\",\"xlm\",\"link\",\"dot\",\"yfi\",\"usd\",\"aed\",\"ars\",\"aud\",\"bdt\",\"bhd\",\"bmd\",\"brl\",\"cad\",\"chf\",\"clp\",\"cny\",\"czk\",\"dkk\",\"eur\",\"gbp\",\"gel\",\"hkd\",\"huf\",\"idr\",\"ils\",\"inr\",\"jpy\",\"krw\",\"kwd\",\"lkr\",\"mmk\",\"mxn\",\"myr\",\"ngn\",\"nok\",\"nzd\",\"php\",\"pkr\",\"pln\",\"rub\",\"sar\",\"sek\",\"sgd\",\"thb\",\"try\",\"twd\",\"uah\",\"vef\",\"vnd\",\"zar\",\"xdr\",\"xag\",\"xau\",\"bits\",\"sats\"]),ee({transaction:re(),scope:H(Object.values(nc))})),wc=ee({value:X(uc)}),Ac=D(\"Base58\",(e=>\"string\"!=typeof e?\"Expected a string, but received: \"+typeof e:!!/^[123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]+$/u.test(e)||\"Expected a Base58 encoded string, but received a string with invalid characters\")),bc=ge(re(),/^(?:[A-Za-z0-9+/]{4})+(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/u),Sc=ge(re(),/^m\\/44'\\/501'/u);ge(re(),/^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d{3})?Z$/u);function Ec(e){const{baseUrl:t,path:n,pathParams:r,queryParams:o}=e;z(t,lc);const i=n.replace(/\\{(\\w+)\\}/gu,((e,t)=>{const n=r?.[t];if(void 0===n)throw new Error(`Path parameter ${t} is undefined`);return n})).replace(/^\\/+/u,\"\").replace(/\\/+/gu,\"/\").replace(/\\/+$/u,\"\"),a=new URL(i,t);Object.entries(o??{}).filter((([e,t])=>void 0!==t)).filter((([e,t])=>null!==t)).forEach((([e,t])=>{t&&a.searchParams.append(e,t)}));const s=a.toString();return z(s,lc),s}function xc(e,t,n,r){if(r<t||r>n)throw new Ba(wa,{codecDescription:e,max:n,min:t,value:r})}var Tc,kc=((Tc=kc||{})[Tc.Little=0]=\"Little\",Tc[Tc.Big=1]=\"Big\",Tc);function Ic(e){return 1!==e?.endian}function _c(e){return Va({fixedSize:e.size,write(t,n,r){e.range&&xc(e.name,e.range[0],e.range[1],t);const o=new ArrayBuffer(e.size);return e.set(new DataView(o),t,Ic(e.config)),n.set(new Uint8Array(o),r),r+e.size}})}function Cc(e){return Ka({fixedSize:e.size,read(t,n=0){!function(e,t,n=0){if(t.length-n<=0)throw new Ba(la,{codecDescription:e})}(e.name,t,n),Ya(e.name,e.size,t,n);const r=new DataView(function(e,t,n){const r=e.byteOffset+(t??0),o=n??e.byteLength;return e.buffer.slice(r,r+o)}(t,n,e.size));return[e.get(r,Ic(e.config)),n+e.size]}})}var Rc=(e={})=>Cc({config:e,get:(e,t)=>e.getFloat64(0,t),name:\"f64\",size:8}),Pc=(e={})=>Cc({config:e,get:(e,t)=>e.getInt16(0,t),name:\"i16\",size:2}),Oc=(e={})=>Cc({config:e,get:(e,t)=>e.getBigInt64(0,t),name:\"i64\",size:8}),Nc=()=>Cc({get:e=>e.getInt8(0),name:\"i8\",size:1}),Bc=()=>Va({getSizeFromValue:e=>e<=127?1:e<=16383?2:3,maxSize:3,write:(e,t,n)=>{xc(\"shortU16\",0,65535,e);const r=[0];for(let t=0;;t+=1){const n=Number(e)>>7*t;if(0===n)break;const o=127&n;r[t]=o,t>0&&(r[t-1]|=128)}return t.set(r,n),n+r.length}}),zc=()=>Ka({maxSize:3,read:(e,t)=>{let n=0,r=0;for(;++r;){const o=r-1,i=e[t+o];if(n|=(127&i)<<7*o,0==(128&i))break}return[n,t+r]}}),Mc=(e={})=>Cc({config:e,get:(e,t)=>e.getUint16(0,t),name:\"u16\",size:2}),jc=(e={})=>_c({config:e,name:\"u32\",range:[0,Number(\"0xffffffff\")],set:(e,t,n)=>e.setUint32(0,Number(t),n),size:4}),Uc=(e={})=>Cc({config:e,get:(e,t)=>e.getUint32(0,t),name:\"u32\",size:4}),Dc=(e={})=>_c({config:e,name:\"u64\",range:[0n,BigInt(\"0xffffffffffffffff\")],set:(e,t,n)=>e.setBigUint64(0,BigInt(t),n),size:8}),Lc=(e={})=>Cc({config:e,get:(e,t)=>e.getBigUint64(0,t),name:\"u64\",size:8}),$c=()=>_c({name:\"u8\",range:[0,Number(\"0xff\")],set:(e,t)=>e.setUint8(0,Number(t)),size:1}),Fc=()=>Cc({get:e=>e.getUint8(0),name:\"u8\",size:1});var qc,Wc=((qc=Wc||{})[qc.WRITABLE_SIGNER=3]=\"WRITABLE_SIGNER\",qc[qc.READONLY_SIGNER=2]=\"READONLY_SIGNER\",qc[qc.WRITABLE=1]=\"WRITABLE\",qc[qc.READONLY=0]=\"READONLY\",qc),Vc=2,Kc=1;function Gc(e){return e>=2}function Hc(e){return 0!=(e&Kc)}function Jc(e,t){return e|t}function Zc(e){return e|Vc}var Yc,Xc=Object.freeze({name:\"Ed25519\"});async function Qc(e,t){const n=e.byteLength;if(32!==n)throw new Ba(Di,{actualLength:n});const r=function(e){return new Uint8Array([48,46,2,1,0,48,5,6,3,43,101,112,4,34,4,32,...e])}(e);return await crypto.subtle.importKey(\"pkcs8\",r,Xc,t??!1,[\"sign\"])}async function eu(e,t){!function(){if(Rs(),void 0===globalThis.crypto||\"function\"!=typeof globalThis.crypto.subtle?.sign)throw new Ba(Mi)}();const n=await crypto.subtle.sign(Xc,e,t);return new Uint8Array(n)}function tu(e){return function(e){if(Yc||(Yc=ms()),e.length<64||e.length>88)throw new Ba($i,{actualLength:e.length});const t=Yc.encode(e).byteLength;if(64!==t)throw new Ba(Li,{actualLength:t})}(e),e}async function nu(e,t,n){return function(){if(Rs(),void 0===globalThis.crypto||\"function\"!=typeof globalThis.crypto.subtle?.verify)throw new Ba(ji)}(),await crypto.subtle.verify(Xc,e,t,n)}async function ru(e,t=!1){const n=Qc(e,t),[r,o]=await Promise.all([(t?n:Qc(e,!0)).then((async e=>await async function(e,t=!1){if(Ps(),!1===e.extractable)throw new Ba(Ui,{key:e});const n=await crypto.subtle.exportKey(\"jwk\",e);return await crypto.subtle.importKey(\"jwk\",{crv:\"Ed25519\",ext:t,key_ops:[\"verify\"],kty:\"OKP\",x:n.x},\"Ed25519\",t,[\"verify\"])}(e,!0))),n]);return{privateKey:o,publicKey:r}}function ou(e,t,n){if(t!==n)throw new Ba(ma,{actual:n,codecDescription:e,expected:t})}function iu(e){return e.reduce(((e,t)=>null===e||null===t?null:e+t),0)}function au(e){return Ga(e)?e.fixedSize:null}function su(e){return Ga(e)?e.fixedSize:e.maxSize??null}function cu(e,t={}){const n=t.size??jc(),r=lu(n,au(e)),o=lu(n,su(e))??void 0;return Va({...null!==r?{fixedSize:r}:{getSizeFromValue:t=>(\"object\"==typeof n?Wa(t.length,n):0)+[...t].reduce(((t,n)=>t+Wa(n,e)),0),maxSize:o},write:(t,r,o)=>(\"number\"==typeof n&&ou(\"array\",n,t.length),\"object\"==typeof n&&(o=n.write(t.length,r,o)),t.forEach((t=>{o=e.write(t,r,o)})),o)})}function uu(e,t={}){const n=t.size??Uc(),r=au(e),o=lu(n,r),i=lu(n,su(e))??void 0;return Ka({...null!==o?{fixedSize:o}:{maxSize:i},read:(t,r)=>{const o=[];if(\"object\"==typeof n&&0===t.slice(r).length)return[o,r];if(\"remainder\"===n){for(;r<t.length;){const[n,i]=e.read(t,r);r=i,o.push(n)}return[o,r]}const[i,a]=\"number\"==typeof n?[n,r]:n.read(t,r);r=a;for(let n=0;n<i;n+=1){const[n,i]=e.read(t,r);r=i,o.push(n)}return[o,r]}})}function lu(e,t){return\"number\"!=typeof e?null:0===e?0:null===t?null:t*e}function du(e={}){return ss(e.size??$c(),(e=>e?1:0))}function fu(e={}){return cs(e.size??Fc(),(e=>1===Number(e)))}function hu(){return Va({getSizeFromValue:e=>e.length,write:(e,t,n)=>(t.set(e,n),n+e.length)})}function pu(){return Ka({read:(e,t)=>{const n=e.slice(t);return[n,t+n.length]}})}var gu=()=>Ka({read(e,t){const n=e.slice(t).reduce(((e,t)=>e+t.toString(16).padStart(2,\"0\")),\"\");return[n,e.length]}});function mu(e){return Va({fixedSize:e.length,write:(t,n,r)=>(n.set(e,r),r+e.length)})}function yu(e){return Ka({fixedSize:e.length,read:(t,n)=>{const r=gu();if(!qa(t,e,n))throw new Ba(xa,{constant:e,data:t,hexConstant:r.decode(e),hexData:r.decode(t),offset:n});return[void 0,n+e.length]}})}function vu(e){const t=iu(e.map(au)),n=iu(e.map(su))??void 0;return Va({...null===t?{getSizeFromValue:t=>e.map(((e,n)=>Wa(t[n],e))).reduce(((e,t)=>e+t),0),maxSize:n}:{fixedSize:t},write:(t,n,r)=>(ou(\"tuple\",e.length,t.length),e.forEach(((e,o)=>{r=e.write(t[o],n,r)})),r)})}function wu(e){const t=iu(e.map(au)),n=iu(e.map(su))??void 0;return Ka({...null===t?{maxSize:n}:{fixedSize:t},read:(t,n)=>{const r=[];return e.forEach((e=>{const[o,i]=e.read(t,n);r.push(o),n=i})),[r,n]}})}function Au(e,t){const n=Eu(e),r=(n,r,o)=>{const i=t(n);return Su(e,i),e[i].write(n,r,o)};if(null!==n)return Va({fixedSize:n,write:r});const o=xu(e);return Va({...null!==o?{maxSize:o}:{},getSizeFromValue:n=>{const r=t(n);return Su(e,r),Wa(n,e[r])},write:r})}function bu(e,t){const n=Eu(e),r=(n,r)=>{const o=t(n,r);return Su(e,o),e[o].read(n,r)};if(null!==n)return Ka({fixedSize:n,read:r});const o=xu(e);return Ka({...null!==o?{maxSize:o}:{},read:r})}function Su(e,t){if(void 0===e[t])throw new Ba(Ea,{maxRange:e.length-1,minRange:0,variant:t})}function Eu(e){if(0===e.length)return 0;if(!Ga(e[0]))return null;const t=e[0].fixedSize;return e.every((e=>Ga(e)&&e.fixedSize===t))?t:null}function xu(e){return e.map((e=>su(e))).reduce(((e,t)=>null===e||null===t?null:Math.max(e,t)),0)}function Tu(e,t={}){const n=t.discriminator??\"__kind\",r=t.size??Fc();return bu(e.map((([e,t])=>cs(wu([r,t]),(([,t])=>({[n]:e,...t}))))),((e,t)=>Number(r.read(e,t)[0])))}function ku(e){const t=[...new Set(Object.values(e).filter((e=>\"number\"==typeof e)))].sort(),n=Object.fromEntries(Object.entries(e).slice(t.length)),r=Object.keys(n),o=Object.values(n),i=[...new Set([...r,...o.filter((e=>\"string\"==typeof e))])];return{enumKeys:r,enumRecord:n,enumValues:o,numericalValues:t,stringValues:i}}function Iu(e,t){let n=e.length;for(;n--;)if(t(e[n],n,e))return n;return-1}function _u(e){if(0===e.length)return\"\";let t=[e[0],e[0]];const n=[];for(let r=1;r<e.length;r++){const o=e[r];t[1]+1===o?t[1]=o:(n.push(t[0]===t[1]?`${t[0]}`:`${t[0]}-${t[1]}`),t=[o,o])}return n.push(t[0]===t[1]?`${t[0]}`:`${t[0]}-${t[1]}`),n.join(\", \")}function Cu(e,t={}){const n=t.size??$c(),r=t.useValuesAsDiscriminators??!1,{enumKeys:o,enumValues:i,numericalValues:a,stringValues:s}=ku(e);if(r&&i.some((e=>\"string\"==typeof e)))throw new Ba(Ta,{stringValues:i.filter((e=>\"string\"==typeof e))});return ss(n,(e=>{const t=function({enumKeys:e,enumValues:t,variant:n}){const r=Iu(t,(e=>e===n));return r>=0?r:e.findIndex((e=>e===n))}({enumKeys:o,enumValues:i,variant:e});if(t<0)throw new Ba(va,{formattedNumericalValues:_u(a),numericalValues:a,stringValues:s,variant:e});return r?i[t]:t}))}function Ru(e,t={}){const n=t.size??Fc(),r=t.useValuesAsDiscriminators??!1,{enumKeys:o,enumValues:i,numericalValues:a}=ku(e);if(r&&i.some((e=>\"string\"==typeof e)))throw new Ba(Ta,{stringValues:i.filter((e=>\"string\"==typeof e))});return cs(n,(e=>{const t=Number(e),n=function({discriminator:e,enumKeys:t,enumValues:n,useValuesAsDiscriminators:r}){return r?Iu(n,(t=>t===e)):e>=0&&e<t.length?e:-1}({discriminator:t,enumKeys:o,enumValues:i,useValuesAsDiscriminators:r});if(n<0){const e=r?a:[...Array(o.length).keys()];throw new Ba(ya,{discriminator:t,formattedValidDiscriminators:_u(e),validDiscriminators:e})}return i[n]}))}var Pu;function Ou(){return Va({fixedSize:0,write:(e,t,n)=>n})}function Nu(){return Ka({fixedSize:0,read:(e,t)=>[void 0,t]})}function Bu(e){const t=e.map((([,e])=>e)),n=iu(t.map(au)),r=iu(t.map(su))??void 0;return Va({...null===n?{getSizeFromValue:t=>e.map((([e,n])=>Wa(t[e],n))).reduce(((e,t)=>e+t),0),maxSize:r}:{fixedSize:n},write:(t,n,r)=>(e.forEach((([e,o])=>{r=o.write(t[e],n,r)})),r)})}function zu(e){const t=e.map((([,e])=>e)),n=iu(t.map(au)),r=iu(t.map(su))??void 0;return Ka({...null===n?{maxSize:r}:{fixedSize:n},read:(t,n)=>{const r={};return e.forEach((([e,o])=>{const[i,a]=o.read(t,n);n=a,r[e]=i})),[r,n]}})}function Mu(){return Pu||(Pu=ms()),Pu}function ju(e){if(e.length<32||e.length>44)throw new Ba(ii,{actualLength:e.length});const t=Mu().encode(e).byteLength;if(32!==t)throw new Ba(ai,{actualLength:t})}function Uu(e){switch(e){case\"finalized\":return 2;case\"confirmed\":return 1;case\"processed\":return 0;default:throw new Ba(Ca,{unexpectedValue:e})}}var Du=18446744073709551615n;function Lu(e){return function(e){if(e<0||e>Du)throw new Ba(si)}(e),e}function $u(e,...t){return t.reduce(((e,t)=>t(e)),e)}function Fu(e){if(!(\"lifetimeConstraint\"in e&&\"string\"==typeof e.lifetimeConstraint.blockhash&&\"bigint\"==typeof e.lifetimeConstraint.lastValidBlockHeight))return!1;try{return ju(e.lifetimeConstraint.blockhash),!0}catch{return!1}}function qu(e,t){if(\"lifetimeConstraint\"in t&&t.lifetimeConstraint.blockhash===e.blockhash&&t.lifetimeConstraint.lastValidBlockHeight===e.lastValidBlockHeight)return t;const n={...t,lifetimeConstraint:Object.freeze(e)};return Object.freeze(n),n}var Wu=e=>Va({getSizeFromValue:t=>{const[n,r]=Ku(t,e[0]);if(!r)return t.length;const o=Gu(r,e);return n.length+Math.ceil(o.toString(16).length/2)},write(t,n,r){if(function(e,t,n=t){if(!t.match(new RegExp(`^[${e}]*$`)))throw new Ba(Aa,{alphabet:e,base:e.length,value:n})}(e,t),\"\"===t)return r;const[o,i]=Ku(t,e[0]);if(!i)return n.set(new Uint8Array(o.length).fill(0),r),r+o.length;let a=Gu(i,e);const s=[];for(;a>0n;)s.unshift(Number(a%256n)),a/=256n;const c=[...Array(o.length).fill(0),...s];return n.set(c,r),r+c.length}}),Vu=e=>Ka({read(t,n){const r=0===n?t:t.slice(n);if(0===r.length)return[\"\",0];let o=r.findIndex((e=>0!==e));o=-1===o?r.length:o;const i=e[0].repeat(o);if(o===r.length)return[i,t.length];const a=function(e,t){const n=BigInt(t.length),r=[];for(;e>0n;)r.unshift(t[Number(e%n)]),e/=n;return r.join(\"\")}(r.slice(o).reduce(((e,t)=>256n*e+BigInt(t)),0n),e);return[i+a,t.length]}});function Ku(e,t){const[n,r]=e.split(new RegExp(`((?!${t}).*)`));return[n,r]}function Gu(e,t){const n=BigInt(t.length);let r=0n;for(const o of e)r*=n,r+=BigInt(t.indexOf(o));return r}var Hu,Ju,Zu,Yu,Xu,Qu,el=\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\",tl=()=>Wu(el),nl=()=>Vu(el);function rl(){return Zu||(Zu=$c()),Zu}function ol(){return Yu||(Yu=Fc()),Yu}var il=128;function al(){return Va({getSizeFromValue:e=>\"legacy\"===e?0:1,maxSize:1,write:(e,t,n)=>{if(\"legacy\"===e)return n;if(e<0||e>127)throw new Ba(Hi,{actualVersion:e});return t.set([e|il],n),n+1}})}function sl(){return Ka({maxSize:1,read:(e,t)=>{const n=e[t];if(0==(n&il))return[\"legacy\",t];return[n^il,t+1]}})}function cl(){return Bu(ll())}function ul(){return ss(Bu([...ll(),[\"addressTableLookups\",cu((Hu||(Hu=Bu([[\"lookupTableAddress\",Ms()],[\"writableIndices\",cu($c(),{size:Bc()})],[\"readableIndices\",cu($c(),{size:Bc()})]])),Hu),{size:Bc()})]]),(e=>\"legacy\"===e.version?e:{...e,addressTableLookups:e.addressTableLookups??[]}))}function ll(){return[[\"version\",al()],[\"header\",Bu([[\"numSignerAccounts\",rl()],[\"numReadonlySignerAccounts\",rl()],[\"numReadonlyNonSignerAccounts\",rl()]])],[\"staticAccounts\",cu(Ms(),{size:Bc()})],[\"lifetimeToken\",ts(tl(),32)],[\"instructions\",cu((Xu||(Xu=ss(Bu([[\"programAddressIndex\",$c()],[\"accountIndices\",cu($c(),{size:Bc()})],[\"data\",Qa(hu(),Bc())]]),(e=>void 0!==e.accountIndices&&void 0!==e.data?e:{...e,accountIndices:e.accountIndices??[],data:e.data??new Uint8Array(0)}))),Xu),{size:Bc()})]]}function dl(){return Va({getSizeFromValue:e=>\"legacy\"===e.version?cl().getSizeFromValue(e):ul().getSizeFromValue(e),write:(e,t,n)=>\"legacy\"===e.version?cl().write(e,t,n):ul().write(e,t,n)})}function fl(){return cs(zu([[\"version\",sl()],[\"header\",zu([[\"numSignerAccounts\",ol()],[\"numReadonlySignerAccounts\",ol()],[\"numReadonlyNonSignerAccounts\",ol()]])],[\"staticAccounts\",uu(js(),{size:zc()})],[\"lifetimeToken\",ns(nl(),32)],[\"instructions\",uu((Qu||(Qu=cs(zu([[\"programAddressIndex\",Fc()],[\"accountIndices\",uu(Fc(),{size:zc()})],[\"data\",es(pu(),zc())]]),(e=>{if(e.accountIndices.length&&e.data.byteLength)return e;const{accountIndices:t,data:n,...r}=e;return{...r,...t.length?{accountIndices:t}:null,...n.byteLength?{data:n}:null}}))),Qu),{size:zc()})],[\"addressTableLookups\",uu((Ju||(Ju=zu([[\"lookupTableAddress\",js()],[\"writableIndices\",uu(Fc(),{size:zc()})],[\"readableIndices\",uu(Fc(),{size:zc()})]])),Ju),{size:zc()})]]),(({addressTableLookups:e,...t})=>\"legacy\"!==t.version&&e?.length?{...t,addressTableLookups:e}:t))}function hl(e,t,n){e[t]=n(e[t]??{role:Wc.READONLY})}var pl=Symbol(\"AddressMapTypeProperty\");function gl(e){const t={};for(const n of e){if(!(\"lookupTableAddress\"in n))continue;const e=t[n.lookupTableAddress]||={readableIndices:[],writableIndices:[]};n.role===Wc.WRITABLE?e.writableIndices.push(n.addressIndex):e.readableIndices.push(n.addressIndex)}return Object.keys(t).sort(Ds()).map((e=>({lookupTableAddress:e,...t[e]})))}function ml(e){let t=0,n=0,r=0;for(const o of e){if(\"lookupTableAddress\"in o)break;const e=Hc(o.role);Gc(o.role)?(r++,e||n++):e||t++}return{numReadonlyNonSignerAccounts:t,numReadonlySignerAccounts:n,numSignerAccounts:r}}function yl(e,t){const n=function(e){const t={};for(const[n,r]of e.entries())t[r.address]=n;return t}(t);return e.map((({accounts:e,data:t,programAddress:r})=>({programAddressIndex:n[r],...e?{accountIndices:e.map((({address:e})=>n[e]))}:null,...t?{data:t}:null})))}function vl(e){const t=e.findIndex((e=>\"lookupTableAddress\"in e));return(-1===t?e:e.slice(0,t)).map((({address:e})=>e))}function wl(e){const t=function(e){let t;const n=Object.entries(e).sort((([e,n],[r,o])=>{if(n[pl]!==o[pl]){if(0===n[pl])return-1;if(0===o[pl])return 1;if(2===n[pl])return-1;if(2===o[pl])return 1}const i=Gc(n.role);if(i!==Gc(o.role))return i?-1:1;const a=Hc(n.role);return a!==Hc(o.role)?a?-1:1:(t||=Ds(),1===n[pl]&&1===o[pl]&&n.lookupTableAddress!==o.lookupTableAddress?t(n.lookupTableAddress,o.lookupTableAddress):t(e,r))})).map((([e,t])=>({address:e,...t})));return n}(function(e,t){const n={[e]:{[pl]:0,role:Wc.WRITABLE_SIGNER}},r=new Set;for(const e of t){let t;if(hl(n,e.programAddress,(t=>{if(r.add(e.programAddress),pl in t){if(Hc(t.role)){if(0===t[pl])throw new Ba(Ki,{programAddress:e.programAddress});throw new Ba(Gi,{programAddress:e.programAddress})}if(2===t[pl])return t}return{[pl]:2,role:Wc.READONLY}})),e.accounts)for(const o of e.accounts)hl(n,o.address,(e=>{const{address:n,...i}=o;if(pl in e)switch(e[pl]){case 0:return e;case 1:{const n=Jc(e.role,i.role);if(\"lookupTableAddress\"in i){if(e.lookupTableAddress!==i.lookupTableAddress&&(t||=Ds())(i.lookupTableAddress,e.lookupTableAddress)<0)return{[pl]:1,...i,role:n}}else if(Gc(i.role))return{[pl]:2,role:n};return e.role!==n?{...e,role:n}:e}case 2:{const t=Jc(e.role,i.role);if(r.has(o.address)){if(Hc(i.role))throw new Ba(Gi,{programAddress:o.address});return e.role!==t?{...e,role:t}:e}return\"lookupTableAddress\"in i&&!Gc(e.role)?{...i,[pl]:1,role:t}:e.role!==t?{...e,role:t}:e}}return\"lookupTableAddress\"in i?{...i,[pl]:1}:{...i,[pl]:2}}))}return n}(e.feePayer.address,e.instructions));return{...\"legacy\"!==e.version?{addressTableLookups:gl(t)}:null,header:ml(t),instructions:yl(e.instructions,t),lifetimeToken:(n=e.lifetimeConstraint,\"nonce\"in n?n.nonce:n.blockhash),staticAccounts:vl(t),version:e.version};var n}function Al({version:e}){return Object.freeze({instructions:Object.freeze([]),version:e})}var bl,Sl=\"SysvarRecentB1ockHashes11111111111111111111\",El=\"11111111111111111111111111111111\";function xl(e,t){return{accounts:[{address:e,role:Wc.WRITABLE},{address:Sl,role:Wc.READONLY},{address:t,role:Wc.READONLY_SIGNER}],data:new Uint8Array([4,0,0,0]),programAddress:El}}function Tl(e){return e.programAddress===El&&null!=e.data&&(4===(t=e.data).byteLength&&4===t[0]&&0===t[1]&&0===t[2]&&0===t[3])&&3===e.accounts?.length&&null!=e.accounts[0].address&&e.accounts[0].role===Wc.WRITABLE&&e.accounts[1].address===Sl&&e.accounts[1].role===Wc.READONLY&&null!=e.accounts[2].address&&Gc(e.accounts[2].role);var t}function kl(e){return\"lifetimeConstraint\"in e&&\"string\"==typeof e.lifetimeConstraint.nonce&&null!=e.instructions[0]&&Tl(e.instructions[0])}function Il(e,t){if(\"feePayer\"in t&&e===t.feePayer?.address&&function(e){return!!e&&\"address\"in e&&\"string\"==typeof e.address&&1===Object.keys(e).length}(t.feePayer))return t;const n={...t,feePayer:Object.freeze({address:e})};return Object.freeze(n),n}function _l(e,t){return Cl([e],t)}function Cl(e,t){return Object.freeze({...t,instructions:Object.freeze([...t.instructions,...e])})}function Rl(e,t){return Object.freeze({...t,instructions:Object.freeze([...e,...t.instructions])})}function Pl(e,t){const n=e.staticAccounts[0];if(!n)throw new Ba(Xi);const r=[...function(e){const{header:t}=e,n=t.numSignerAccounts-t.numReadonlySignerAccounts,r=e.staticAccounts.length-t.numSignerAccounts-t.numReadonlyNonSignerAccounts,o=[];let i=0;for(let t=0;t<n;t++)o.push({address:e.staticAccounts[i],role:Wc.WRITABLE_SIGNER}),i++;for(let n=0;n<t.numReadonlySignerAccounts;n++)o.push({address:e.staticAccounts[i],role:Wc.READONLY_SIGNER}),i++;for(let t=0;t<r;t++)o.push({address:e.staticAccounts[i],role:Wc.WRITABLE}),i++;for(let n=0;n<t.numReadonlyNonSignerAccounts;n++)o.push({address:e.staticAccounts[i],role:Wc.READONLY}),i++;return o}(e),...\"addressTableLookups\"in e&&void 0!==e.addressTableLookups&&e.addressTableLookups.length>0?function(e,t){const n=e.map((e=>e.lookupTableAddress)).filter((e=>void 0===t[e]));if(n.length>0)throw new Ba(Ji,{lookupTableAddresses:n});const r=[],o=[];for(const n of e){const e=t[n.lookupTableAddress],i=Math.max(...n.readableIndices,...n.writableIndices);if(i>=e.length)throw new Ba(Zi,{highestKnownIndex:e.length-1,highestRequestedIndex:i,lookupTableAddress:n.lookupTableAddress});const a=n.readableIndices.map((t=>({address:e[t],addressIndex:t,lookupTableAddress:n.lookupTableAddress,role:Wc.READONLY})));r.push(...a);const s=n.writableIndices.map((t=>({address:e[t],addressIndex:t,lookupTableAddress:n.lookupTableAddress,role:Wc.WRITABLE})));o.push(...s)}return[...o,...r]}(e.addressTableLookups,t?.addressesByLookupTableAddress??{}):[]],o=e.instructions.map((e=>function(e,t){const n=t[e.programAddressIndex]?.address;if(!n)throw new Ba(Yi,{index:e.programAddressIndex});const r=e.accountIndices?.map((e=>t[e])),{data:o}=e;return Object.freeze({programAddress:n,...r&&r.length?{accounts:Object.freeze(r)}:{},...o&&o.length?{data:o}:{}})}(e,r))),i=o[0],a=function(e,t,n){if(t&&Tl(t)){const n=t.accounts[0].address;Bs(n);const r=t.accounts[2].address;return Bs(r),{nonce:e,nonceAccountAddress:n,nonceAuthorityAddress:r}}return{blockhash:e,lastValidBlockHeight:n??2n**64n-1n}}(e.lifetimeToken,i,t?.lastValidBlockHeight);return $u(Al({version:e.version}),(e=>Il(n,e)),(e=>o.reduce(((e,t)=>_l(t,e)),e)),(e=>\"blockhash\"in a?qu(a,e):function({nonce:e,nonceAccountAddress:t,nonceAuthorityAddress:n},r){let o;const i=r.instructions[0];if(i&&Tl(i))if(function(e,t,n){return e.accounts[0].address===t&&e.accounts[2].address===n}(i,t,n)){if(kl(r)&&r.lifetimeConstraint.nonce===e)return r;o=[i,...r.instructions.slice(1)]}else o=[Object.freeze(xl(t,n)),...r.instructions.slice(1)];else o=[Object.freeze(xl(t,n)),...r.instructions];return Object.freeze({...r,instructions:Object.freeze(o),lifetimeConstraint:Object.freeze({nonce:e})})}(a,e)))}function Ol(e){const t=Object.values(e);if(0===t.length)throw new Ba(na);return t.map((e=>e||new Uint8Array(64).fill(0)))}function Nl(){return Bu([[\"signatures\",ss(cu(ts(hu(),64),{size:Bc()}),Ol)],[\"messageBytes\",hu()]])}function Bl(){return cs(zu([[\"signatures\",uu(ns(pu(),64),{size:zc()})],[\"messageBytes\",pu()]]),zl)}function zl(e){const{messageBytes:t,signatures:n}=e,r=wu([sl(),as(Fc(),2),uu(js(),{size:zc()})]),[o,i,a]=r.decode(t),s=a.slice(0,i);if(s.length!==n.length)throw new Ba(ra,{numRequiredSignatures:i,signaturesLength:n.length,signerAddresses:s});const c={};return s.forEach(((e,t)=>{const r=n[t];r.every((e=>0===e))?c[e]=null:c[e]=r})),{messageBytes:t,signatures:Object.freeze(c)}}function Ml(e){const t=wl(e),n=dl().encode(t),r=t.staticAccounts.slice(0,t.header.numSignerAccounts),o={};for(const e of r)o[e]=null;let i;i=Fu(e)?{blockhash:e.lifetimeConstraint.blockhash,lastValidBlockHeight:e.lifetimeConstraint.lastValidBlockHeight}:{nonce:e.lifetimeConstraint.nonce,nonceAccountAddress:e.instructions[0].accounts[0].address};const a={lifetimeConstraint:i,messageBytes:n,signatures:Object.freeze(o)};return Object.freeze(a)}function jl(e){bl||(bl=ys());const t=Object.values(e.signatures)[0];if(!t)throw new Ba(ea);return bl.decode(t)}async function Ul(e,t){let n,r;if(await Promise.all(e.map((async e=>{const o=await Xs(e.publicKey),i=t.signatures[o];if(void 0===i)return r||=new Set,void r.add(o);if(r)return;const a=await eu(e.privateKey,t.messageBytes);var s,c;null!==i&&(c=i,(s=a).length===c.length&&s.every(((e,t)=>e===c[t])))||(n||={},n[o]=a)}))),r&&r.size>0){const e=Object.keys(t.signatures);throw new Ba(ta,{expectedAddresses:e,unexpectedAddresses:[...r]})}return n?Object.freeze({...t,signatures:Object.freeze({...t.signatures,...n})}):t}function Dl(e){const t=[];if(Object.entries(e.signatures).forEach((([e,n])=>{n||t.push(e)})),t.length>0)throw new Ba(Qi,{addresses:t})}function Ll(e){const t=Nl().encode(e);return Es().decode(t)}function $l(e){const t={};return e.forEach((e=>{if(t[e.address]){if(t[e.address]!==e)throw new Ba(Vi,{address:e.address})}else t[e.address]=e})),Object.values(t)}function Fl(e){return\"modifyAndSignTransactions\"in e&&\"function\"==typeof e.modifyAndSignTransactions}function ql(e){return\"signTransactions\"in e&&\"function\"==typeof e.signTransactions}function Wl(e){return\"signAndSendTransactions\"in e&&\"function\"==typeof e.signAndSendTransactions}function Vl(e){return ql(e)||Fl(e)||Wl(e)}function Kl(e){return $l((e.accounts??[]).flatMap((e=>\"signer\"in e?e.signer:[])))}function Gl(e){return $l([...e.feePayer&&Vl(e.feePayer)?[e.feePayer]:[],...e.instructions.flatMap(Kl)])}function Hl(e,t){const n=(r=t)&&\"feePayer\"in r&&r.feePayer&&\"string\"==typeof r.feePayer.address&&!Vl(r.feePayer)?e.find((e=>e.address===t.feePayer.address)):void 0;var r;return n||0!==t.instructions.length?Object.freeze({...t,...n?{feePayer:n}:null,instructions:t.instructions.map((t=>function(e,t){if(!t.accounts||0===t.accounts.length)return t;const n=new Map($l(e).map((e=>[e.address,e])));return Object.freeze({...t,accounts:t.accounts.map((e=>{const t=n.get(e.address);return Gc(e.role)&&!(\"signer\"in e)&&t?Object.freeze({...e,signer:t}):e}))})}(e,t)))}):t}async function Jl(e){const t=await Xs(e.publicKey),n={address:t,keyPair:e,signMessages:n=>Promise.all(n.map((async n=>Object.freeze({[t]:await eu(e.privateKey,n.content)})))),signTransactions:n=>Promise.all(n.map((async n=>{const r=await Ul([e],n);return Object.freeze({[t]:r.signatures[t]})})))};return Object.freeze(n)}async function Zl(e,t){return await Jl(await ru(e,t))}function Yl(e){const t={address:e,signMessages:e=>Promise.resolve(e.map((()=>Object.freeze({})))),signTransactions:e=>Promise.resolve(e.map((()=>Object.freeze({}))))};return Object.freeze(t)}async function Xl(e,t){const{partialSigners:n,modifyingSigners:r}=Ql($l(Gl(e).filter(Vl)),{identifySendingSigner:!1});return await ed(e,r,n,t)}function Ql(e,t={}){const n=t.identifySendingSigner??!0?function(e){const t=e.filter(Wl);if(0===t.length)return null;const n=t.filter((e=>!Fl(e)&&!ql(e)));if(n.length>0)return n[0];return t[0]}(e):null,r=e.filter((e=>e!==n&&(Fl(e)||ql(e)))),o=function(e){const t=e.filter(Fl);if(0===t.length)return[];const n=t.filter((e=>!ql(e)));return n.length>0?n:[t[0]]}(r),i=r.filter(ql).filter((e=>!o.includes(e)));return Object.freeze({modifyingSigners:o,partialSigners:i,sendingSigner:n})}async function ed(e,t=[],n=[],r){const o=Ml(e),i=await t.reduce((async(e,t)=>{r?.abortSignal?.throwIfAborted();const[n]=await t.modifyAndSignTransactions([await e],r);return Object.freeze(n)}),Promise.resolve(o));r?.abortSignal?.throwIfAborted();const a=await Promise.all(n.map((async e=>{const[t]=await e.signTransactions([i],r);return t}))),s={...i,signatures:Object.freeze(a.reduce(((e,t)=>({...e,...t})),i.signatures??{}))};return Object.freeze(s)}var td=globalThis.TextEncoder;var nd,rd=((nd=rd||{})[nd.Uninitialized=0]=\"Uninitialized\",nd[nd.Initialized=1]=\"Initialized\",nd);var od,id=((od=id||{})[od.Legacy=0]=\"Legacy\",od[od.Current=1]=\"Current\",od);var ad,sd,cd=\"11111111111111111111111111111111\",ud=((ad=ud||{})[ad.Nonce=0]=\"Nonce\",ad),ld=((sd=ld||{})[sd.CreateAccount=0]=\"CreateAccount\",sd[sd.Assign=1]=\"Assign\",sd[sd.TransferSol=2]=\"TransferSol\",sd[sd.CreateAccountWithSeed=3]=\"CreateAccountWithSeed\",sd[sd.AdvanceNonceAccount=4]=\"AdvanceNonceAccount\",sd[sd.WithdrawNonceAccount=5]=\"WithdrawNonceAccount\",sd[sd.InitializeNonceAccount=6]=\"InitializeNonceAccount\",sd[sd.AuthorizeNonceAccount=7]=\"AuthorizeNonceAccount\",sd[sd.Allocate=8]=\"Allocate\",sd[sd.AllocateWithSeed=9]=\"AllocateWithSeed\",sd[sd.AssignWithSeed=10]=\"AssignWithSeed\",sd[sd.TransferSolWithSeed=11]=\"TransferSolWithSeed\",sd[sd.UpgradeNonceAccount=12]=\"UpgradeNonceAccount\",sd);function dd(e){if(!e)throw new Error(\"Expected a Address.\");return\"object\"==typeof e&&\"address\"in e?e.address:Array.isArray(e)?e[0]:e}function fd(e,t){return t=>{if(!t.value)return Object.freeze({address:e,role:Wc.READONLY});const n=t.isWritable?Wc.WRITABLE:Wc.READONLY;return Object.freeze({address:dd(t.value),role:hd(t.value)?Zc(n):n,...hd(t.value)?{signer:t.value}:{}})}}function hd(e){return!!e&&\"object\"==typeof e&&\"address\"in e&&Vl(e)}function pd(){return zu([[\"discriminator\",Uc()]])}function gd(){return zu([[\"discriminator\",Uc()],[\"space\",Lc()]])}function md(){return zu([[\"discriminator\",Uc()],[\"base\",js()],[\"seed\",es(_s(),Lc())],[\"space\",Lc()],[\"programAddress\",js()]])}function yd(){return zu([[\"discriminator\",Uc()],[\"programAddress\",js()]])}function vd(){return zu([[\"discriminator\",Uc()],[\"base\",js()],[\"seed\",es(_s(),Lc())],[\"programAddress\",js()]])}function wd(){return zu([[\"discriminator\",Uc()],[\"newNonceAuthority\",js()]])}function Ad(){return zu([[\"discriminator\",Uc()],[\"lamports\",Lc()],[\"space\",Lc()],[\"programAddress\",js()]])}function bd(){return zu([[\"discriminator\",Uc()],[\"base\",js()],[\"seed\",es(_s(),Lc())],[\"amount\",Lc()],[\"space\",Lc()],[\"programAddress\",js()]])}function Sd(){return zu([[\"discriminator\",Uc()],[\"nonceAuthority\",js()]])}var Ed=2;function xd(){return ss(Bu([[\"discriminator\",jc()],[\"amount\",Dc()]]),(e=>({...e,discriminator:Ed})))}function Td(){return zu([[\"discriminator\",Uc()],[\"amount\",Lc()]])}function kd(){return zu([[\"discriminator\",Uc()],[\"amount\",Lc()],[\"fromSeed\",es(_s(),Lc())],[\"fromOwner\",js()]])}function Id(){return zu([[\"discriminator\",Uc()]])}function _d(){return zu([[\"discriminator\",Uc()],[\"withdrawAmount\",Lc()]])}const Cd={log:(console.log,(...e)=>{}),info:(console.info,(...e)=>{}),warn:(console.warn,(...e)=>{}),debug:(console.debug,(...e)=>{}),error:(console.error,(...e)=>{})},Rd=ae([H([\"btc\",\"eth\",\"ltc\",\"bch\",\"bnb\",\"eos\",\"xrp\",\"xlm\",\"link\",\"dot\",\"yfi\",\"bits\",\"sats\",\"sol\",\"sei\",\"sonic\"]),H([\"usd\",\"aed\",\"amd\",\"ars\",\"aud\",\"bam\",\"bdt\",\"bhd\",\"bmd\",\"brl\",\"cad\",\"chf\",\"clp\",\"cny\",\"cop\",\"crc\",\"czk\",\"dkk\",\"dop\",\"eur\",\"gbp\",\"gel\",\"gtq\",\"hkd\",\"hnl\",\"huf\",\"idr\",\"ils\",\"inr\",\"jpy\",\"kes\",\"krw\",\"kwd\",\"lbp\",\"lkr\",\"mmk\",\"mxn\",\"myr\",\"ngn\",\"nok\",\"nzd\",\"pen\",\"php\",\"pkr\",\"pln\",\"ron\",\"rub\",\"sar\",\"sek\",\"sgd\",\"svc\",\"thb\",\"try\",\"twd\",\"uah\",\"vef\",\"vnd\",\"xdr\",\"zar\",\"zmw\"]),H([\"xag\",\"xau\"])]),Pd=ee({id:re(),price:he(Q(),0),marketCap:te(X(he(Q(),0))),allTimeHigh:te(X(he(Q(),0))),allTimeLow:te(X(he(Q(),0))),totalVolume:te(X(he(Q(),0))),high1d:te(X(he(Q(),0))),low1d:te(X(he(Q(),0))),circulatingSupply:te(X(he(Q(),0))),dilutedMarketCap:te(X(he(Q(),0))),marketCapPercentChange1d:te(X(Q())),priceChange1d:te(X(Q())),pricePercentChange1h:te(X(Q())),pricePercentChange1d:te(X(Q())),pricePercentChange7d:te(X(Q())),pricePercentChange14d:te(X(Q())),pricePercentChange30d:te(X(Q())),pricePercentChange200d:te(X(Q())),pricePercentChange1y:te(X(Q())),bondingCurveProgressPercent:te(X(Q())),liquidity:te(X(Q())),totalSupply:te(X(Q())),holderCount:te(X(Q())),isMutable:te(X(G()))}),Od=ne(Jo,X(Pd)),Nd=Rd,Bd=ee({assetType:Jo,timePeriod:te(ge(re(),/^[1-9][0-9]*[dmy]$/u)),from:te(he(Q(),0)),to:te(he(Q(),0)),vsCurrency:te(Nd)}),zd=ee({prices:K(oe([Q(),Q()])),marketCaps:K(oe([Q(),Q()])),totalVolumes:K(oe([Q(),Q()]))}),Md={prices:[],marketCaps:[],totalVolumes:[]};class jd{#o;#i;#a;#s;#c;static cacheTtlsMilliseconds={fiatExchangeRates:Yo.Minute,spotPrices:Yo.Minute,historicalPrices:Yo.Minute};constructor(e,t,n=globalThis.fetch,r=Cd){const{baseUrl:o,chunkSize:i}=e.get().priceApi;z(o,lc),this.#o=n,this.#i=r,this.#a=o,this.#s=i,this.#c=t}async getFiatExchangeRates(){try{const e=await this.#o(`${this.#a}/v1/exchange-rates/fiat`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(e){throw this.#i.error(e,\"Error fetching fiat exchange rates\"),e}}async#u(e,t=\"usd\"){try{if(z(e,K(Jo)),z(t,Nd),0===e.length)return{};const n=[...new Set(e)],r=[];for(let e=0;e<n.length;e+=this.#s)r.push(n.slice(e,e+this.#s));const o=await Promise.all(r.map((async e=>{const n=Ec({baseUrl:this.#a,path:\"/v3/spot-prices\",queryParams:{vsCurrency:t,assetIds:e.join(\",\"),includeMarketData:\"true\"}}),r=await this.#o(n);if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const o=await r.json();return z(o,Od),o}))),i=o.reduce(((e,t)=>({...e,...t})),{});return await this.#c.mset(e.map((e=>({key:`PriceApiClient:getMultipleSpotPrices:${e}:${t}`,value:i[e],ttlMilliseconds:jd.cacheTtlsMilliseconds.spotPrices})))),i}catch(e){throw this.#i.error(e,\"Error fetching spot prices\"),e}}async#l(e,t=\"usd\"){const n=[...new Set(e)],r=\"PriceApiClient:getMultipleSpotPrices\",o=e=>`${r}:${e}:${t}`,i=await this.#c.mget(n.map(o)),a=(0,ni.mapKeys)(i,((e,t)=>(e=>{const t=new RegExp(`^${r}:(.+):(.+)$`,\"u\"),n=e.match(t);if(!n)throw new Error(\"Invalid cache key\");return n})(t)[1])),s=n.filter((e=>void 0===a[e]));if(0===s.length)return a;const c=await this.#u(s,t);return await this.#c.mset(Object.entries(c).map((([e,t])=>({key:o(e),value:t,ttlMilliseconds:jd.cacheTtlsMilliseconds.spotPrices})))),{...a,...c}}async getMultipleSpotPrices(e,t=\"usd\"){return this.#l(e,t)}async#d(e){z(e,Bd);const t=Ec({baseUrl:this.#a,path:\"/v3/historical-prices/{assetType}\",pathParams:{assetType:e.assetType},queryParams:{...e.timePeriod&&{timePeriod:e.timePeriod},...e.from&&{from:e.from.toString()},...e.to&&{to:e.to.toString()},...e.vsCurrency&&{vsCurrency:e.vsCurrency}}}),n=await this.#o(t),r=await n.json();return z(r,zd),r}async getHistoricalPrices(e){return oi(this.#d.bind(this),this.#c,{functionName:\"PriceApiClient:getHistoricalPrices\",ttlMilliseconds:jd.cacheTtlsMilliseconds.historicalPrices})(e)}}const Ud=function(e){if(e.length>=255)throw new TypeError(\"Alphabet too long\");const t=new Uint8Array(256);for(let e=0;e<t.length;e++)t[e]=255;for(let n=0;n<e.length;n++){const r=e.charAt(n),o=r.charCodeAt(0);if(255!==t[o])throw new TypeError(r+\" is ambiguous\");t[o]=n}const n=e.length,r=e.charAt(0),o=Math.log(n)/Math.log(256),i=Math.log(256)/Math.log(n);function a(e){if(\"string\"!=typeof e)throw new TypeError(\"Expected String\");if(0===e.length)return new Uint8Array;let i=0,a=0,s=0;for(;e[i]===r;)a++,i++;const c=(e.length-i)*o+1>>>0,u=new Uint8Array(c);for(;e[i];){let r=t[e.charCodeAt(i)];if(255===r)return;let o=0;for(let e=c-1;(0!==r||o<s)&&-1!==e;e--,o++)r+=n*u[e]>>>0,u[e]=r%256>>>0,r=r/256>>>0;if(0!==r)throw new Error(\"Non-zero carry\");s=o,i++}let l=c-s;for(;l!==c&&0===u[l];)l++;const d=new Uint8Array(a+(c-l));let f=a;for(;l!==c;)d[f++]=u[l++];return d}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError(\"Expected Uint8Array\");if(0===t.length)return\"\";let o=0,a=0,s=0;const c=t.length;for(;s!==c&&0===t[s];)s++,o++;const u=(c-s)*i+1>>>0,l=new Uint8Array(u);for(;s!==c;){let e=t[s],r=0;for(let t=u-1;(0!==e||r<a)&&-1!==t;t--,r++)e+=256*l[t]>>>0,l[t]=e%n>>>0,e=e/n>>>0;if(0!==e)throw new Error(\"Non-zero carry\");a=r,s++}let d=u-a;for(;d!==u&&0===l[d];)d++;let f=r.repeat(o);for(;d<u;++d)f+=e.charAt(l[d]);return f},decodeUnsafe:a,decode:function(e){const t=a(e);if(t)return t;throw new Error(\"Non-base\"+n+\" character\")}}};const Dd=Ud(\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\");var Ld=n(1048).hp;const $d={[nc.Mainnet]:\"mainnet\",[nc.Devnet]:\"devnet\",[nc.Testnet]:\"testnet\",[nc.Localnet]:\"localnet\"};class Fd{#f;#i;constructor(e,t=Cd){this.#f=e,this.#i=t}static isMaybeNonFungible(e){const{tokenAmount:t}=e,{decimals:n}=t;return!1}}const qd=K(ee({decimals:J(),assetId:Jo,name:te(re()),symbol:te(re()),iconUrl:te(lc)}));class Wd{#o;#i;#a;#s;#h;static supportedNetworks=[nc.Mainnet,nc.Devnet];constructor(e,t=globalThis.fetch,n=Cd){this.#o=t,this.#i=n;const{tokenApi:r,staticApi:o}=e.get(),{baseUrl:i,chunkSize:a}=r;z(i,lc),this.#a=i,this.#s=a,this.#h=o.baseUrl}async#p(e){z(e,K(Jo));const t=Ec({baseUrl:this.#a,path:\"/v3/assets\",queryParams:{assetIds:e.join(\",\")}}),n=await this.#o(t);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const r=await n.json();return z(r,qd),r}async getTokenMetadataFromAddresses(e){try{z(e,K(Jo));const t=e.filter((e=>{const{chainId:t}=Xo(e);return Wd.supportedNetworks.includes(t)}));t.length!==e.length&&this.#i.warn(`[TokenMetadataClient] Received some asset types on networks that the Token API doesn't support. They will be ignored. Supported networks: ${Wd.supportedNetworks.join(\", \")}`);const n=[];for(let e=0;e<t.length;e+=this.#s)n.push(t.slice(e,e+this.#s));const r=await Promise.all(n.map((async e=>this.#p(e)))),o=new Map;return r.flat().forEach((e=>{const t=e?.symbol,n=e?.name??t,r=e?.decimals;t&&n?o.set(e.assetId,{name:n,symbol:t,fungible:!Fd.isMaybeNonFungible({tokenAmount:{decimals:r}}),iconUrl:e?.iconUrl??Ec({baseUrl:this.#h,path:\"/api/v2/tokenIcons/assets/{assetId}.png\",pathParams:{assetId:e.assetId.replace(/:/gu,\"/\")}}),units:[{name:n,symbol:t,decimals:r}]}):this.#i.warn(`No metadata for ${e.assetId}`)})),Object.fromEntries(o)}catch(e){throw this.#i.error(e,\"Error fetching token metadata\"),e}}}var Vd=function(e){return e.SignAndSendTransactionWithoutConfirmation=\"signAndSendTransactionWithoutConfirmation\",e}({});class Kd extends TypeError{constructor(e,t){let n;const{message:r,explanation:o,...i}=e,{path:a}=e,s=0===a.length?r:`At path: ${a.join(\".\")} -- ${r}`;super(o??s),null!=o&&(this.cause=s),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}}function Gd(e){return\"object\"==typeof e&&null!==e}function Hd(e){return\"symbol\"==typeof e?e.toString():\"string\"==typeof e?JSON.stringify(e):`${e}`}function Jd(e,t,n,r){if(!0===e)return;!1===e?e={}:\"string\"==typeof e&&(e={message:e});const{path:o,branch:i}=t,{type:a}=n,{refinement:s,message:c=`Expected a value of type \\`${a}\\`${s?` with refinement \\`${s}\\``:\"\"}, but received: \\`${Hd(r)}\\``}=e;return{value:r,type:a,refinement:s,key:o[o.length-1],path:o,branch:i,...e,message:c}}function*Zd(e,t,n,r){(function(e){return Gd(e)&&\"function\"==typeof e[Symbol.iterator]})(e)||(e=[e]);for(const o of e){const e=Jd(o,t,n,r);e&&(yield e)}}function*Yd(e,t,n={}){const{path:r=[],branch:o=[e],coerce:i=!1,mask:a=!1}=n,s={path:r,branch:o};if(i&&(e=t.coercer(e,s),a&&\"type\"!==t.type&&Gd(t.schema)&&Gd(e)&&!Array.isArray(e)))for(const n in e)void 0===t.schema[n]&&delete e[n];let c=\"valid\";for(const r of t.validator(e,s))r.explanation=n.message,c=\"not_valid\",yield[r,void 0];for(let[u,l,d]of t.entries(e,s)){const t=Yd(l,d,{path:void 0===u?r:[...r,u],branch:void 0===u?o:[...o,l],coerce:i,mask:a,message:n.message});for(const n of t)n[0]?(c=null===n[0].refinement||void 0===n[0].refinement?\"not_valid\":\"not_refined\",yield[n[0],void 0]):i&&(l=n[1],void 0===u?e=l:e instanceof Map?e.set(u,l):e instanceof Set?e.add(l):Gd(e)&&(void 0!==l||u in e)&&(e[u]=l))}if(\"not_valid\"!==c)for(const r of t.refiner(e,s))r.explanation=n.message,c=\"not_refined\",yield[r,void 0];\"valid\"===c&&(yield[void 0,e])}class Xd{constructor(e){const{type:t,schema:n,validator:r,refiner:o,coercer:i=(e=>e),entries:a=function*(){}}=e;this.type=t,this.schema=n,this.entries=a,this.coercer=i,this.validator=r?(e,t)=>Zd(r(e,t),t,this,e):()=>[],this.refiner=o?(e,t)=>Zd(o(e,t),t,this,e):()=>[]}assert(e,t){return function(e,t,n){const r=tf(e,t,{message:n});if(r[0])throw r[0]}(e,this,t)}create(e,t){return function(e,t,n){const r=tf(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}(e,this,t)}is(e){return function(e,t){const n=tf(e,t);return!n[0]}(e,this)}mask(e,t){return function(e,t,n){const r=tf(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}(e,this,t)}validate(e,t={}){return tf(e,this,t)}}const Qd=\"EXACT_OPTIONAL\";class ef extends Xd{constructor(e){super({...e,type:`exact optional ${e.type}`}),this.brand=Qd}static isExactOptional(e){return Gd(e)&&\"brand\"in e&&e.brand===Qd}}function tf(e,t,n={}){const r=Yd(e,t,n),o=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(r);if(o[0]){return[new Kd(o[0],(function*(){for(const e of r)e[0]&&(yield e[0])})),void 0]}return[void 0,o[1]]}function nf(){return sf(\"never\",(()=>!1))}function rf(e){const t=e?Object.keys(e):[],n=nf();return new Xd({type:\"object\",schema:e??null,*entries(r){if(e&&Gd(r)){const o=new Set(Object.keys(r));for(const n of t){o.delete(n);const t=e[n];ef.isExactOptional(t)&&!Object.prototype.hasOwnProperty.call(r,n)||(yield[n,r[n],e[n]])}for(const e of o)yield[e,r[e],n]}},validator:e=>Gd(e)||`Expected an object, but received: ${Hd(e)}`,coercer:e=>Gd(e)?{...e}:e})}function of(){return sf(\"string\",(e=>\"string\"==typeof e||`Expected a string, but received: ${Hd(e)}`))}function af(...e){const t=\"type\"===e[0]?.type,n=e.map((({schema:e})=>e)),r=Object.assign({},...n);return t?function(e){const t=Object.keys(e);return new Xd({type:\"type\",schema:e,*entries(n){if(Gd(n))for(const r of t)yield[r,n[r],e[r]]},validator:e=>Gd(e)||`Expected an object, but received: ${Hd(e)}`,coercer:e=>Gd(e)?{...e}:e})}(r):rf(r)}function sf(e,t){return new Xd({type:e,schema:null,validator:t})}function cf(e){return sf(JSON.stringify(e),function(e){const t=Hd(e),n=typeof e;return new Xd({type:\"literal\",schema:\"string\"===n||\"number\"===n||\"boolean\"===n?e:null,validator:n=>n===e||`Expected the literal \\`${t}\\`, but received: ${Hd(n)}`})}(e).validator)}function uf(e){return null==e}const lf=(e,t)=>Object.hasOwnProperty.call(e,t);var df;!function(e){e[e.Null=4]=\"Null\",e[e.Comma=1]=\"Comma\",e[e.Wrapper=1]=\"Wrapper\",e[e.True=4]=\"True\",e[e.False=5]=\"False\",e[e.Quote=1]=\"Quote\",e[e.Colon=1]=\"Colon\",e[e.Date=24]=\"Date\"}(df=df||(df={}));const ff=e=>ee(e);function hf({path:e,branch:t}){const n=e[e.length-1];return lf(t[t.length-2],n)}function pf(e){return new B({...e,type:`optional ${e.type}`,validator:(t,n)=>!hf(n)||e.validator(t,n),refiner:(t,n)=>!hf(n)||e.refiner(t,n)})}function gf(e){if(null===e||\"boolean\"==typeof e||\"string\"==typeof e)return!0;if(\"number\"==typeof e&&Number.isFinite(e))return!0;if(\"object\"==typeof e){let t=!0;if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(!gf(e[n])){t=!1;break}return t}const n=Object.entries(e);for(let e=0;e<n.length;e++)if(\"string\"!=typeof n[e][0]||!gf(n[e][1])){t=!1;break}return t}return!1}const mf=D(\"JSON\",(e=>gf(e))),yf=de(mf,me(V(),\"JSON\",(e=>j(e,mf))),(e=>JSON.parse(JSON.stringify(e,((e,t)=>{if(\"__proto__\"!==e&&\"constructor\"!==e)return t})))));const vf=Z(\"2.0\"),wf=X(ae([Q(),re()])),Af=ff({code:J(),message:re(),data:pf(yf),stack:pf(re())}),bf=ae([ne(re(),yf),K(yf)]);ff({id:wf,jsonrpc:vf,method:re(),params:pf(bf)}),ff({jsonrpc:vf,method:re(),params:pf(bf)});ee({id:wf,jsonrpc:vf,result:te(se()),error:te(Af)});const Sf=ff({id:wf,jsonrpc:vf,result:yf}),Ef=ff({id:wf,jsonrpc:vf,error:Af});ae([Sf,Ef]);const xf=H(Object.values(nc)),Tf=ie({address:re()}),kf=Z(\"ed25519\"),If=ie({domain:te(re()),address:te(re()),statement:te(re()),uri:te(re()),version:te(re()),chainId:te(re()),nonce:te(re()),issuedAt:te(re()),expirationTime:te(re()),notBefore:te(re()),requestId:te(re()),resources:te(K(re()))}),_f=ie({account:Tf,message:bc}),Cf=H([\"processed\",\"confirmed\",\"finalized\"]),Rf=ie({preflightCommitment:te(Cf),minContextSlot:te(Q())}),Pf=ie({account:Tf,transaction:bc,scope:xf,options:te(Rf)}),Of=ie({...Rf.schema,commitment:te(Cf),skipPreflight:te(G()),maxRetries:te(Q())}),Nf=ie({...Pf.schema,scope:xf,options:te(Of)}),Bf=ee({method:H([Ft.SignAndSendTransaction]),params:Nf}),zf=ee({method:H([Ft.SignIn]),params:If}),Mf=ee({method:H([Ft.SignMessage]),params:_f}),jf=ee({method:H([Ft.SignTransaction]),params:Pf}),Uf=ee({signature:Ac}),Df=ee({signedTransaction:bc}),Lf=ee({signature:Ac,signedMessage:bc,signatureType:kf}),$f=ee({account:Tf,...Lf.schema}),Ff=ae([Bf,zf,Mf,jf]),qf=ee({jsonrpc:vf,id:wf,method:cf(Vd.SignAndSendTransactionWithoutConfirmation),params:Nf});var Wf,Vf=\"ComputeBudget111111111111111111111111111111\",Kf=((Wf=Kf||{})[Wf.RequestUnits=0]=\"RequestUnits\",Wf[Wf.RequestHeapFrame=1]=\"RequestHeapFrame\",Wf[Wf.SetComputeUnitLimit=2]=\"SetComputeUnitLimit\",Wf[Wf.SetComputeUnitPrice=3]=\"SetComputeUnitPrice\",Wf[Wf.SetLoadedAccountsDataSizeLimit=4]=\"SetLoadedAccountsDataSizeLimit\",Wf);function Gf(e){const t=\"data\"in e?e.data:e;if(qa(t,$c().encode(0),0))return 0;if(qa(t,$c().encode(1),0))return 1;if(qa(t,$c().encode(2),0))return 2;if(qa(t,$c().encode(3),0))return 3;if(qa(t,$c().encode(4),0))return 4;throw new Error(\"The provided instruction could not be identified as a computeBudget instruction.\")}function Hf(){return zu([[\"discriminator\",Fc()],[\"bytes\",Uc()]])}function Jf(){return zu([[\"discriminator\",Fc()],[\"units\",Uc()],[\"additionalFee\",Uc()]])}var Zf=2;function Yf(){return ss(Bu([[\"discriminator\",$c()],[\"units\",jc()]]),(e=>({...e,discriminator:Zf})))}function Xf(){return zu([[\"discriminator\",Fc()],[\"units\",Uc()]])}function Qf(e,t){const n={...e};return{programAddress:t?.programAddress??Vf,data:Yf().encode(n)}}var eh=3;function th(){return ss(Bu([[\"discriminator\",$c()],[\"microLamports\",Dc()]]),(e=>({...e,discriminator:eh})))}function nh(){return zu([[\"discriminator\",Fc()],[\"microLamports\",Lc()]])}function rh(e,t){const n={...e};return{programAddress:t?.programAddress??Vf,data:th().encode(n)}}function oh(){return zu([[\"discriminator\",Fc()],[\"accountDataSizeLimit\",Uc()]])}var ih=e=>({__option:\"Some\",value:e}),ah=()=>({__option:\"None\"}),sh=e=>!!(e&&\"object\"==typeof e&&\"__option\"in e&&(\"Some\"===e.__option&&\"value\"in e||\"None\"===e.__option)),ch=e=>\"Some\"===e.__option;var uh=e=>null!==e?ih(e):ah();function lh(e,t={}){const n=null===t.prefix?ss(Ou(),(e=>{})):du({size:t.prefix??$c()});return Au([ss(vu([n,\"zeroes\"===t.noneValue?(Ha(e),ts(Ou(),e.fixedSize)):t.noneValue?mu(t.noneValue):Ou()]),(e=>[!1,void 0])),ss(vu([n,e]),(e=>[!0,sh(e)&&ch(e)?e.value:e]))],(e=>{const t=sh(e)?e:uh(e);return Number(ch(t))}))}function dh(e,t={}){const n=null===t.prefix?cs(Nu(),(()=>!1)):fu({size:t.prefix??Fc()}),r=\"zeroes\"===t.noneValue?(Ha(e),ns(Nu(),e.fixedSize)):t.noneValue?yu(t.noneValue):Nu();return bu([cs(wu([n,r]),(()=>ah())),cs(wu([n,e]),(([,e])=>ih(e)))],((e,o)=>{if(null===t.prefix&&!t.noneValue)return Number(o<e.length);if(null===t.prefix&&null!=t.noneValue){return qa(e,\"zeroes\"===t.noneValue?new Uint8Array(r.fixedSize).fill(0):t.noneValue,o)?0:1}return Number(n.read(e,o)[0])}))}var fh,hh=((fh=hh||{})[fh.Uninitialized=0]=\"Uninitialized\",fh[fh.Initialized=1]=\"Initialized\",fh[fh.Frozen=2]=\"Frozen\",fh);var ph,gh=((ph=gh||{})[ph.MintTokens=0]=\"MintTokens\",ph[ph.FreezeAccount=1]=\"FreezeAccount\",ph[ph.AccountOwner=2]=\"AccountOwner\",ph[ph.CloseAccount=3]=\"CloseAccount\",ph);function mh(){return Ru(gh)}var yh,vh=\"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL\",wh=((yh=wh||{})[yh.CreateAssociatedToken=0]=\"CreateAssociatedToken\",yh[yh.CreateAssociatedTokenIdempotent=1]=\"CreateAssociatedTokenIdempotent\",yh[yh.RecoverNestedAssociatedToken=2]=\"RecoverNestedAssociatedToken\",yh);var Ah,bh=\"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA\",Sh=((Ah=Sh||{})[Ah.Mint=0]=\"Mint\",Ah[Ah.Token=1]=\"Token\",Ah[Ah.Multisig=2]=\"Multisig\",Ah);var Eh,xh=((Eh=xh||{})[Eh.InitializeMint=0]=\"InitializeMint\",Eh[Eh.InitializeAccount=1]=\"InitializeAccount\",Eh[Eh.InitializeMultisig=2]=\"InitializeMultisig\",Eh[Eh.Transfer=3]=\"Transfer\",Eh[Eh.Approve=4]=\"Approve\",Eh[Eh.Revoke=5]=\"Revoke\",Eh[Eh.SetAuthority=6]=\"SetAuthority\",Eh[Eh.MintTo=7]=\"MintTo\",Eh[Eh.Burn=8]=\"Burn\",Eh[Eh.CloseAccount=9]=\"CloseAccount\",Eh[Eh.FreezeAccount=10]=\"FreezeAccount\",Eh[Eh.ThawAccount=11]=\"ThawAccount\",Eh[Eh.TransferChecked=12]=\"TransferChecked\",Eh[Eh.ApproveChecked=13]=\"ApproveChecked\",Eh[Eh.MintToChecked=14]=\"MintToChecked\",Eh[Eh.BurnChecked=15]=\"BurnChecked\",Eh[Eh.InitializeAccount2=16]=\"InitializeAccount2\",Eh[Eh.SyncNative=17]=\"SyncNative\",Eh[Eh.InitializeAccount3=18]=\"InitializeAccount3\",Eh[Eh.InitializeMultisig2=19]=\"InitializeMultisig2\",Eh[Eh.InitializeMint2=20]=\"InitializeMint2\",Eh[Eh.GetAccountDataSize=21]=\"GetAccountDataSize\",Eh[Eh.InitializeImmutableOwner=22]=\"InitializeImmutableOwner\",Eh[Eh.AmountToUiAmount=23]=\"AmountToUiAmount\",Eh[Eh.UiAmountToAmount=24]=\"UiAmountToAmount\",Eh);function Th(e){if(!e)throw new Error(\"Expected a Address.\");return\"object\"==typeof e&&\"address\"in e?e.address:Array.isArray(e)?e[0]:e}function kh(e,t){return t=>{if(!t.value)return Object.freeze({address:e,role:Wc.READONLY});const n=t.isWritable?Wc.WRITABLE:Wc.READONLY;return Object.freeze({address:Th(t.value),role:Ih(t.value)?Zc(n):n,...Ih(t.value)?{signer:t.value}:{}})}}function Ih(e){return!!e&&\"object\"==typeof e&&\"address\"in e&&Vl(e)}function _h(){return zu([[\"discriminator\",Fc()],[\"amount\",Lc()]])}function Ch(){return zu([[\"discriminator\",Fc()],[\"amount\",Lc()]])}function Rh(){return zu([[\"discriminator\",Fc()],[\"amount\",Lc()],[\"decimals\",Fc()]])}function Ph(){return zu([[\"discriminator\",Fc()],[\"amount\",Lc()]])}function Oh(){return zu([[\"discriminator\",Fc()],[\"amount\",Lc()],[\"decimals\",Fc()]])}function Nh(){return zu([[\"discriminator\",Fc()]])}async function Bh(e,t={}){const{programAddress:n=\"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL\"}=t;return await Ys({programAddress:n,seeds:[Ms().encode(e.owner),Ms().encode(e.tokenProgram),Ms().encode(e.mint)]})}var zh=1;function Mh(){return ss(Bu([[\"discriminator\",$c()]]),(e=>({...e,discriminator:zh})))}function jh(e,t){const n=t?.programAddress??vh,r={payer:{value:e.payer??null,isWritable:!0},ata:{value:e.ata??null,isWritable:!0},owner:{value:e.owner??null,isWritable:!1},mint:{value:e.mint??null,isWritable:!1},systemProgram:{value:e.systemProgram??null,isWritable:!1},tokenProgram:{value:e.tokenProgram??null,isWritable:!1}};r.tokenProgram.value||(r.tokenProgram.value=\"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA\"),r.systemProgram.value||(r.systemProgram.value=\"11111111111111111111111111111111\");const o=kh(n);return{accounts:[o(r.payer),o(r.ata),o(r.owner),o(r.mint),o(r.systemProgram),o(r.tokenProgram)],programAddress:n,data:Mh().encode({})}}function Uh(){return zu([[\"discriminator\",Fc()]])}function Dh(){return zu([[\"discriminator\",Fc()]])}function Lh(){return zu([[\"discriminator\",Fc()]])}function $h(){return zu([[\"discriminator\",Fc()],[\"owner\",js()]])}function Fh(){return zu([[\"discriminator\",Fc()],[\"owner\",js()]])}function qh(){return zu([[\"discriminator\",Fc()]])}function Wh(){return zu([[\"discriminator\",Fc()],[\"decimals\",Fc()],[\"mintAuthority\",js()],[\"freezeAuthority\",dh(js())]])}function Vh(){return zu([[\"discriminator\",Fc()],[\"decimals\",Fc()],[\"mintAuthority\",js()],[\"freezeAuthority\",dh(js())]])}function Kh(){return zu([[\"discriminator\",Fc()],[\"m\",Fc()]])}function Gh(){return zu([[\"discriminator\",Fc()],[\"m\",Fc()]])}function Hh(){return zu([[\"discriminator\",Fc()],[\"amount\",Lc()]])}function Jh(){return zu([[\"discriminator\",Fc()],[\"amount\",Lc()],[\"decimals\",Fc()]])}function Zh(){return zu([[\"discriminator\",Fc()]])}function Yh(){return zu([[\"discriminator\",Fc()],[\"authorityType\",mh()],[\"newAuthority\",dh(js())]])}function Xh(){return zu([[\"discriminator\",Fc()]])}function Qh(){return zu([[\"discriminator\",Fc()]])}var ep=3;function tp(){return ss(Bu([[\"discriminator\",$c()],[\"amount\",Dc()]]),(e=>({...e,discriminator:ep})))}function np(){return zu([[\"discriminator\",Fc()],[\"amount\",Lc()]])}function rp(e,t){const n=t?.programAddress??bh,r={source:{value:e.source??null,isWritable:!0},destination:{value:e.destination??null,isWritable:!0},authority:{value:e.authority??null,isWritable:!1}},o={...e},i=(o.multiSigners??[]).map((e=>({address:e.address,role:Wc.READONLY_SIGNER,signer:e}))),a=kh(n);return{accounts:[a(r.source),a(r.destination),a(r.authority),...i],programAddress:n,data:tp().encode(o)}}function op(){return zu([[\"discriminator\",Fc()],[\"amount\",Lc()],[\"decimals\",Fc()]])}function ip(){return zu([[\"discriminator\",Fc()],[\"uiAmount\",_s()]])}var ap=(e=>(e[e.Uninitialized=0]=\"Uninitialized\",e[e.Initialized=1]=\"Initialized\",e[e.Frozen=2]=\"Frozen\",e))(ap||{});function sp(){return Ru(ap)}var cp=(e=>(e[e.MintTokens=0]=\"MintTokens\",e[e.FreezeAccount=1]=\"FreezeAccount\",e[e.AccountOwner=2]=\"AccountOwner\",e[e.CloseAccount=3]=\"CloseAccount\",e[e.TransferFeeConfig=4]=\"TransferFeeConfig\",e[e.WithheldWithdraw=5]=\"WithheldWithdraw\",e[e.CloseMint=6]=\"CloseMint\",e[e.InterestRate=7]=\"InterestRate\",e[e.PermanentDelegate=8]=\"PermanentDelegate\",e[e.ConfidentialTransferMint=9]=\"ConfidentialTransferMint\",e[e.TransferHookProgramId=10]=\"TransferHookProgramId\",e[e.ConfidentialTransferFeeConfig=11]=\"ConfidentialTransferFeeConfig\",e[e.MetadataPointer=12]=\"MetadataPointer\",e[e.GroupPointer=13]=\"GroupPointer\",e[e.GroupMemberPointer=14]=\"GroupMemberPointer\",e[e.ScaledUiAmount=15]=\"ScaledUiAmount\",e[e.Pause=16]=\"Pause\",e))(cp||{});function up(){return Ru(cp)}function lp(){return ns(pu(),36)}var dp,fp=((dp=fp||{})[dp.Uninitialized=0]=\"Uninitialized\",dp[dp.TransferFeeConfig=1]=\"TransferFeeConfig\",dp[dp.TransferFeeAmount=2]=\"TransferFeeAmount\",dp[dp.MintCloseAuthority=3]=\"MintCloseAuthority\",dp[dp.ConfidentialTransferMint=4]=\"ConfidentialTransferMint\",dp[dp.ConfidentialTransferAccount=5]=\"ConfidentialTransferAccount\",dp[dp.DefaultAccountState=6]=\"DefaultAccountState\",dp[dp.ImmutableOwner=7]=\"ImmutableOwner\",dp[dp.MemoTransfer=8]=\"MemoTransfer\",dp[dp.NonTransferable=9]=\"NonTransferable\",dp[dp.InterestBearingConfig=10]=\"InterestBearingConfig\",dp[dp.CpiGuard=11]=\"CpiGuard\",dp[dp.PermanentDelegate=12]=\"PermanentDelegate\",dp[dp.NonTransferableAccount=13]=\"NonTransferableAccount\",dp[dp.TransferHook=14]=\"TransferHook\",dp[dp.TransferHookAccount=15]=\"TransferHookAccount\",dp[dp.ConfidentialTransferFee=16]=\"ConfidentialTransferFee\",dp[dp.ConfidentialTransferFeeAmount=17]=\"ConfidentialTransferFeeAmount\",dp[dp.ScaledUiAmountConfig=18]=\"ScaledUiAmountConfig\",dp[dp.PausableConfig=19]=\"PausableConfig\",dp[dp.PausableAccount=20]=\"PausableAccount\",dp[dp.MetadataPointer=21]=\"MetadataPointer\",dp[dp.TokenMetadata=22]=\"TokenMetadata\",dp[dp.GroupPointer=23]=\"GroupPointer\",dp[dp.TokenGroup=24]=\"TokenGroup\",dp[dp.GroupMemberPointer=25]=\"GroupMemberPointer\",dp[dp.TokenGroupMember=26]=\"TokenGroupMember\",dp);function hp(){return Ru(fp,{size:Mc()})}function pp(){return Tu([[\"Name\",Nu()],[\"Symbol\",Nu()],[\"Uri\",Nu()],[\"Key\",zu([[\"fields\",wu([es(_s(),Uc())])]])]])}var gp=(e=>(e[e.CreateAssociatedToken=0]=\"CreateAssociatedToken\",e[e.CreateAssociatedTokenIdempotent=1]=\"CreateAssociatedTokenIdempotent\",e[e.RecoverNestedAssociatedToken=2]=\"RecoverNestedAssociatedToken\",e))(gp||{});var mp,yp=\"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb\",vp=((mp=vp||{})[mp.Mint=0]=\"Mint\",mp[mp.Token=1]=\"Token\",mp[mp.Multisig=2]=\"Multisig\",mp);var wp,Ap=((wp=Ap||{})[wp.InitializeMint=0]=\"InitializeMint\",wp[wp.InitializeAccount=1]=\"InitializeAccount\",wp[wp.InitializeMultisig=2]=\"InitializeMultisig\",wp[wp.Transfer=3]=\"Transfer\",wp[wp.Approve=4]=\"Approve\",wp[wp.Revoke=5]=\"Revoke\",wp[wp.SetAuthority=6]=\"SetAuthority\",wp[wp.MintTo=7]=\"MintTo\",wp[wp.Burn=8]=\"Burn\",wp[wp.CloseAccount=9]=\"CloseAccount\",wp[wp.FreezeAccount=10]=\"FreezeAccount\",wp[wp.ThawAccount=11]=\"ThawAccount\",wp[wp.TransferChecked=12]=\"TransferChecked\",wp[wp.ApproveChecked=13]=\"ApproveChecked\",wp[wp.MintToChecked=14]=\"MintToChecked\",wp[wp.BurnChecked=15]=\"BurnChecked\",wp[wp.InitializeAccount2=16]=\"InitializeAccount2\",wp[wp.SyncNative=17]=\"SyncNative\",wp[wp.InitializeAccount3=18]=\"InitializeAccount3\",wp[wp.InitializeMultisig2=19]=\"InitializeMultisig2\",wp[wp.InitializeMint2=20]=\"InitializeMint2\",wp[wp.GetAccountDataSize=21]=\"GetAccountDataSize\",wp[wp.InitializeImmutableOwner=22]=\"InitializeImmutableOwner\",wp[wp.AmountToUiAmount=23]=\"AmountToUiAmount\",wp[wp.UiAmountToAmount=24]=\"UiAmountToAmount\",wp[wp.InitializeMintCloseAuthority=25]=\"InitializeMintCloseAuthority\",wp[wp.InitializeTransferFeeConfig=26]=\"InitializeTransferFeeConfig\",wp[wp.TransferCheckedWithFee=27]=\"TransferCheckedWithFee\",wp[wp.WithdrawWithheldTokensFromMint=28]=\"WithdrawWithheldTokensFromMint\",wp[wp.WithdrawWithheldTokensFromAccounts=29]=\"WithdrawWithheldTokensFromAccounts\",wp[wp.HarvestWithheldTokensToMint=30]=\"HarvestWithheldTokensToMint\",wp[wp.SetTransferFee=31]=\"SetTransferFee\",wp[wp.InitializeConfidentialTransferMint=32]=\"InitializeConfidentialTransferMint\",wp[wp.UpdateConfidentialTransferMint=33]=\"UpdateConfidentialTransferMint\",wp[wp.ConfigureConfidentialTransferAccount=34]=\"ConfigureConfidentialTransferAccount\",wp[wp.ApproveConfidentialTransferAccount=35]=\"ApproveConfidentialTransferAccount\",wp[wp.EmptyConfidentialTransferAccount=36]=\"EmptyConfidentialTransferAccount\",wp[wp.ConfidentialDeposit=37]=\"ConfidentialDeposit\",wp[wp.ConfidentialWithdraw=38]=\"ConfidentialWithdraw\",wp[wp.ConfidentialTransfer=39]=\"ConfidentialTransfer\",wp[wp.ApplyConfidentialPendingBalance=40]=\"ApplyConfidentialPendingBalance\",wp[wp.EnableConfidentialCredits=41]=\"EnableConfidentialCredits\",wp[wp.DisableConfidentialCredits=42]=\"DisableConfidentialCredits\",wp[wp.EnableNonConfidentialCredits=43]=\"EnableNonConfidentialCredits\",wp[wp.DisableNonConfidentialCredits=44]=\"DisableNonConfidentialCredits\",wp[wp.ConfidentialTransferWithFee=45]=\"ConfidentialTransferWithFee\",wp[wp.InitializeDefaultAccountState=46]=\"InitializeDefaultAccountState\",wp[wp.UpdateDefaultAccountState=47]=\"UpdateDefaultAccountState\",wp[wp.Reallocate=48]=\"Reallocate\",wp[wp.EnableMemoTransfers=49]=\"EnableMemoTransfers\",wp[wp.DisableMemoTransfers=50]=\"DisableMemoTransfers\",wp[wp.CreateNativeMint=51]=\"CreateNativeMint\",wp[wp.InitializeNonTransferableMint=52]=\"InitializeNonTransferableMint\",wp[wp.InitializeInterestBearingMint=53]=\"InitializeInterestBearingMint\",wp[wp.UpdateRateInterestBearingMint=54]=\"UpdateRateInterestBearingMint\",wp[wp.EnableCpiGuard=55]=\"EnableCpiGuard\",wp[wp.DisableCpiGuard=56]=\"DisableCpiGuard\",wp[wp.InitializePermanentDelegate=57]=\"InitializePermanentDelegate\",wp[wp.InitializeTransferHook=58]=\"InitializeTransferHook\",wp[wp.UpdateTransferHook=59]=\"UpdateTransferHook\",wp[wp.InitializeConfidentialTransferFee=60]=\"InitializeConfidentialTransferFee\",wp[wp.WithdrawWithheldTokensFromMintForConfidentialTransferFee=61]=\"WithdrawWithheldTokensFromMintForConfidentialTransferFee\",wp[wp.WithdrawWithheldTokensFromAccountsForConfidentialTransferFee=62]=\"WithdrawWithheldTokensFromAccountsForConfidentialTransferFee\",wp[wp.HarvestWithheldTokensToMintForConfidentialTransferFee=63]=\"HarvestWithheldTokensToMintForConfidentialTransferFee\",wp[wp.EnableHarvestToMint=64]=\"EnableHarvestToMint\",wp[wp.DisableHarvestToMint=65]=\"DisableHarvestToMint\",wp[wp.WithdrawExcessLamports=66]=\"WithdrawExcessLamports\",wp[wp.InitializeMetadataPointer=67]=\"InitializeMetadataPointer\",wp[wp.UpdateMetadataPointer=68]=\"UpdateMetadataPointer\",wp[wp.InitializeGroupPointer=69]=\"InitializeGroupPointer\",wp[wp.UpdateGroupPointer=70]=\"UpdateGroupPointer\",wp[wp.InitializeGroupMemberPointer=71]=\"InitializeGroupMemberPointer\",wp[wp.UpdateGroupMemberPointer=72]=\"UpdateGroupMemberPointer\",wp[wp.InitializeScaledUiAmountMint=73]=\"InitializeScaledUiAmountMint\",wp[wp.UpdateMultiplierScaledUiMint=74]=\"UpdateMultiplierScaledUiMint\",wp[wp.InitializePausableConfig=75]=\"InitializePausableConfig\",wp[wp.Pause=76]=\"Pause\",wp[wp.Resume=77]=\"Resume\",wp[wp.InitializeTokenMetadata=78]=\"InitializeTokenMetadata\",wp[wp.UpdateTokenMetadataField=79]=\"UpdateTokenMetadataField\",wp[wp.RemoveTokenMetadataKey=80]=\"RemoveTokenMetadataKey\",wp[wp.UpdateTokenMetadataUpdateAuthority=81]=\"UpdateTokenMetadataUpdateAuthority\",wp[wp.EmitTokenMetadata=82]=\"EmitTokenMetadata\",wp[wp.InitializeTokenGroup=83]=\"InitializeTokenGroup\",wp[wp.UpdateTokenGroupMaxSize=84]=\"UpdateTokenGroupMaxSize\",wp[wp.UpdateTokenGroupUpdateAuthority=85]=\"UpdateTokenGroupUpdateAuthority\",wp[wp.InitializeTokenGroupMember=86]=\"InitializeTokenGroupMember\",wp);function bp(){return zu([[\"discriminator\",Fc()],[\"amount\",Lc()]])}function Sp(){return zu([[\"discriminator\",Fc()],[\"confidentialTransferDiscriminator\",Fc()],[\"expectedPendingBalanceCreditCounter\",Lc()],[\"newDecryptableAvailableBalance\",lp()]])}function Ep(){return zu([[\"discriminator\",Fc()],[\"amount\",Lc()]])}function xp(){return zu([[\"discriminator\",Fc()],[\"amount\",Lc()],[\"decimals\",Fc()]])}function Tp(){return zu([[\"discriminator\",Fc()],[\"confidentialTransferDiscriminator\",Fc()]])}function kp(){return zu([[\"discriminator\",Fc()],[\"amount\",Lc()]])}function Ip(){return zu([[\"discriminator\",Fc()],[\"amount\",Lc()],[\"decimals\",Fc()]])}function _p(){return zu([[\"discriminator\",Fc()]])}function Cp(){return zu([[\"discriminator\",Fc()],[\"confidentialTransferDiscriminator\",Fc()],[\"amount\",Lc()],[\"decimals\",Fc()]])}function Rp(){return zu([[\"discriminator\",Fc()],[\"confidentialTransferDiscriminator\",Fc()],[\"newSourceDecryptableAvailableBalance\",lp()],[\"equalityProofInstructionOffset\",Nc()],[\"ciphertextValidityProofInstructionOffset\",Nc()],[\"rangeProofInstructionOffset\",Nc()]])}function Pp(){return zu([[\"discriminator\",Fc()],[\"confidentialTransferDiscriminator\",Fc()],[\"newSourceDecryptableAvailableBalance\",lp()],[\"equalityProofInstructionOffset\",Nc()],[\"transferAmountCiphertextValidityProofInstructionOffset\",Nc()],[\"feeSigmaProofInstructionOffset\",Nc()],[\"feeCiphertextValidityProofInstructionOffset\",Nc()],[\"rangeProofInstructionOffset\",Nc()]])}function Op(){return zu([[\"discriminator\",Fc()],[\"confidentialTransferDiscriminator\",Fc()],[\"amount\",Lc()],[\"decimals\",Fc()],[\"newDecryptableAvailableBalance\",lp()],[\"equalityProofInstructionOffset\",Nc()],[\"rangeProofInstructionOffset\",Nc()]])}function Np(){return zu([[\"discriminator\",Fc()],[\"confidentialTransferDiscriminator\",Fc()],[\"decryptableZeroBalance\",lp()],[\"maximumPendingBalanceCreditCounter\",Lc()],[\"proofInstructionOffset\",Nc()]])}function Bp(){return zu([[\"discriminator\",Fc()]])}function zp(){return zu([[\"discriminator\",Fc()]])}function Mp(){return zu([[\"discriminator\",Fc()]])}function jp(){return zu([[\"discriminator\",Fc()],[\"confidentialTransferDiscriminator\",Fc()]])}function Up(){return zu([[\"discriminator\",Fc()],[\"cpiGuardDiscriminator\",Fc()]])}function Dp(){return zu([[\"discriminator\",Fc()],[\"confidentialTransferFeeDiscriminator\",Fc()]])}function Lp(){return zu([[\"discriminator\",Fc()],[\"memoTransfersDiscriminator\",Fc()]])}function $p(){return zu([[\"discriminator\",Fc()],[\"confidentialTransferDiscriminator\",Fc()]])}new Uint8Array([250,166,180,250,13,12,184,70]);function Fp(){return zu([[\"discriminator\",pu()],[\"start\",dh(Lc())],[\"end\",dh(Lc())]])}function qp(){return zu([[\"discriminator\",Fc()],[\"confidentialTransferDiscriminator\",Fc()],[\"proofInstructionOffset\",Nc()]])}function Wp(){return zu([[\"discriminator\",Fc()],[\"confidentialTransferDiscriminator\",Fc()]])}function Vp(){return zu([[\"discriminator\",Fc()],[\"cpiGuardDiscriminator\",Fc()]])}function Kp(){return zu([[\"discriminator\",Fc()],[\"confidentialTransferFeeDiscriminator\",Fc()]])}function Gp(){return zu([[\"discriminator\",Fc()],[\"memoTransfersDiscriminator\",Fc()]])}function Hp(){return zu([[\"discriminator\",Fc()],[\"confidentialTransferDiscriminator\",Fc()]])}function Jp(){return zu([[\"discriminator\",Fc()]])}function Zp(){return zu([[\"discriminator\",Fc()]])}function Yp(){return zu([[\"discriminator\",Fc()],[\"transferFeeDiscriminator\",Fc()]])}function Xp(){return zu([[\"discriminator\",Fc()],[\"confidentialTransferFeeDiscriminator\",Fc()]])}function Qp(){return zu([[\"discriminator\",Fc()]])}function eg(){return zu([[\"discriminator\",Fc()],[\"owner\",js()]])}function tg(){return zu([[\"discriminator\",Fc()],[\"owner\",js()]])}function ng(){return zu([[\"discriminator\",Fc()],[\"confidentialTransferFeeDiscriminator\",Fc()],[\"authority\",dh(js(),{prefix:null,noneValue:\"zeroes\"})],[\"withdrawWithheldAuthorityElGamalPubkey\",dh(js(),{prefix:null,noneValue:\"zeroes\"})]])}function rg(){return zu([[\"discriminator\",Fc()],[\"confidentialTransferDiscriminator\",Fc()],[\"authority\",dh(js(),{prefix:null,noneValue:\"zeroes\"})],[\"autoApproveNewAccounts\",fu()],[\"auditorElgamalPubkey\",dh(js(),{prefix:null,noneValue:\"zeroes\"})]])}function og(){return zu([[\"discriminator\",Fc()],[\"defaultAccountStateDiscriminator\",Fc()],[\"state\",sp()]])}function ig(){return zu([[\"discriminator\",Fc()],[\"groupMemberPointerDiscriminator\",Fc()],[\"authority\",dh(js(),{prefix:null,noneValue:\"zeroes\"})],[\"memberAddress\",dh(js(),{prefix:null,noneValue:\"zeroes\"})]])}function ag(){return zu([[\"discriminator\",Fc()],[\"groupPointerDiscriminator\",Fc()],[\"authority\",dh(js(),{prefix:null,noneValue:\"zeroes\"})],[\"groupAddress\",dh(js(),{prefix:null,noneValue:\"zeroes\"})]])}function sg(){return zu([[\"discriminator\",Fc()]])}function cg(){return zu([[\"discriminator\",Fc()],[\"interestBearingMintDiscriminator\",Fc()],[\"rateAuthority\",dh(js(),{prefix:null,noneValue:\"zeroes\"})],[\"rate\",Pc()]])}function ug(){return zu([[\"discriminator\",Fc()],[\"metadataPointerDiscriminator\",Fc()],[\"authority\",dh(js(),{prefix:null,noneValue:\"zeroes\"})],[\"metadataAddress\",dh(js(),{prefix:null,noneValue:\"zeroes\"})]])}function lg(){return zu([[\"discriminator\",Fc()],[\"decimals\",Fc()],[\"mintAuthority\",js()],[\"freezeAuthority\",dh(js())]])}function dg(){return zu([[\"discriminator\",Fc()],[\"decimals\",Fc()],[\"mintAuthority\",js()],[\"freezeAuthority\",dh(js())]])}function fg(){return zu([[\"discriminator\",Fc()],[\"closeAuthority\",dh(js())]])}function hg(){return zu([[\"discriminator\",Fc()],[\"m\",Fc()]])}function pg(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{multisig:n(),rent:n()},data:hg().decode(e.data)}}function gg(){return zu([[\"discriminator\",Fc()]])}function mg(){return zu([[\"discriminator\",Fc()],[\"pausableDiscriminator\",Fc()],[\"authority\",dh(js(),{prefix:null,noneValue:\"zeroes\"})]])}function yg(){return zu([[\"discriminator\",Fc()],[\"delegate\",js()]])}function vg(){return zu([[\"discriminator\",Fc()],[\"scaledUiAmountMintDiscriminator\",Fc()],[\"authority\",dh(js(),{prefix:null,noneValue:\"zeroes\"})],[\"multiplier\",Rc()]])}new Uint8Array([121,113,108,39,54,51,0,4]);function wg(){return zu([[\"discriminator\",pu()],[\"updateAuthority\",dh(js(),{prefix:null,noneValue:\"zeroes\"})],[\"maxSize\",Lc()]])}new Uint8Array([152,32,222,176,223,237,116,134]);function Ag(){return zu([[\"discriminator\",pu()]])}new Uint8Array([210,225,30,162,88,184,77,141]);function bg(){return zu([[\"discriminator\",pu()],[\"name\",es(_s(),Uc())],[\"symbol\",es(_s(),Uc())],[\"uri\",es(_s(),Uc())]])}function Sg(){return zu([[\"discriminator\",Fc()],[\"transferFeeDiscriminator\",Fc()],[\"transferFeeConfigAuthority\",dh(js())],[\"withdrawWithheldAuthority\",dh(js())],[\"transferFeeBasisPoints\",Mc()],[\"maximumFee\",Lc()]])}function Eg(){return zu([[\"discriminator\",Fc()],[\"transferHookDiscriminator\",Fc()],[\"authority\",dh(js(),{prefix:null,noneValue:\"zeroes\"})],[\"programId\",dh(js(),{prefix:null,noneValue:\"zeroes\"})]])}function xg(){return zu([[\"discriminator\",Fc()],[\"amount\",Lc()]])}function Tg(){return zu([[\"discriminator\",Fc()],[\"amount\",Lc()],[\"decimals\",Fc()]])}function kg(){return zu([[\"discriminator\",Fc()],[\"pausableDiscriminator\",Fc()]])}function Ig(){return zu([[\"discriminator\",Fc()],[\"newExtensionTypes\",uu(hp(),{size:\"remainder\"})]])}function _g(){return zu([[\"discriminator\",Fc()]])}new Uint8Array([234,18,32,56,89,141,37,181]);function Cg(){return zu([[\"discriminator\",pu()],[\"idempotent\",fu()],[\"key\",es(_s(),Uc())]])}function Rg(){return zu([[\"discriminator\",Fc()],[\"pausableDiscriminator\",Fc()]])}function Pg(){return zu([[\"discriminator\",Fc()]])}function Og(){return zu([[\"discriminator\",Fc()],[\"authorityType\",up()],[\"newAuthority\",dh(js())]])}function Ng(){return zu([[\"discriminator\",Fc()],[\"transferFeeDiscriminator\",Fc()],[\"transferFeeBasisPoints\",Mc()],[\"maximumFee\",Lc()]])}function Bg(){return zu([[\"discriminator\",Fc()]])}function zg(){return zu([[\"discriminator\",Fc()]])}function Mg(){return zu([[\"discriminator\",Fc()],[\"amount\",Lc()]])}function jg(){return zu([[\"discriminator\",Fc()],[\"amount\",Lc()],[\"decimals\",Fc()]])}function Ug(){return zu([[\"discriminator\",Fc()],[\"transferFeeDiscriminator\",Fc()],[\"amount\",Lc()],[\"decimals\",Fc()],[\"fee\",Lc()]])}function Dg(){return zu([[\"discriminator\",Fc()],[\"uiAmount\",_s()]])}function Lg(){return zu([[\"discriminator\",Fc()],[\"confidentialTransferDiscriminator\",Fc()],[\"autoApproveNewAccounts\",fu()],[\"auditorElgamalPubkey\",dh(js(),{prefix:null,noneValue:\"zeroes\"})]])}function $g(){return zu([[\"discriminator\",Fc()],[\"defaultAccountStateDiscriminator\",Fc()],[\"state\",sp()]])}function Fg(){return zu([[\"discriminator\",Fc()],[\"groupMemberPointerDiscriminator\",Fc()],[\"memberAddress\",dh(js(),{prefix:null,noneValue:\"zeroes\"})]])}function qg(){return zu([[\"discriminator\",Fc()],[\"groupPointerDiscriminator\",Fc()],[\"groupAddress\",dh(js(),{prefix:null,noneValue:\"zeroes\"})]])}function Wg(){return zu([[\"discriminator\",Fc()],[\"metadataPointerDiscriminator\",Fc()],[\"metadataAddress\",dh(js(),{prefix:null,noneValue:\"zeroes\"})]])}function Vg(){return zu([[\"discriminator\",Fc()],[\"scaledUiAmountMintDiscriminator\",Fc()],[\"multiplier\",Rc()],[\"effectiveTimestamp\",Oc()]])}function Kg(){return zu([[\"discriminator\",Fc()],[\"interestBearingMintDiscriminator\",Fc()],[\"rate\",Pc()]])}new Uint8Array([108,37,171,143,248,30,18,110]);function Gg(){return zu([[\"discriminator\",pu()],[\"maxSize\",Lc()]])}new Uint8Array([161,105,88,1,237,221,216,203]);function Hg(){return zu([[\"discriminator\",pu()],[\"newUpdateAuthority\",dh(js(),{prefix:null,noneValue:\"zeroes\"})]])}new Uint8Array([221,233,49,45,181,202,220,200]);function Jg(){return zu([[\"discriminator\",pu()],[\"field\",pp()],[\"value\",es(_s(),Uc())]])}new Uint8Array([215,228,166,228,84,100,86,123]);function Zg(){return zu([[\"discriminator\",pu()],[\"newUpdateAuthority\",dh(js(),{prefix:null,noneValue:\"zeroes\"})]])}function Yg(){return zu([[\"discriminator\",Fc()],[\"transferHookDiscriminator\",Fc()],[\"programId\",dh(js(),{prefix:null,noneValue:\"zeroes\"})]])}function Xg(){return zu([[\"discriminator\",Fc()]])}function Qg(){return zu([[\"discriminator\",Fc()],[\"transferFeeDiscriminator\",Fc()],[\"numTokenAccounts\",Fc()]])}function em(){return zu([[\"discriminator\",Fc()],[\"confidentialTransferFeeDiscriminator\",Fc()],[\"numTokenAccounts\",Fc()],[\"proofInstructionOffset\",Nc()],[\"newDecryptableAvailableBalance\",lp()]])}function tm(){return zu([[\"discriminator\",Fc()],[\"transferFeeDiscriminator\",Fc()]])}function nm(){return zu([[\"discriminator\",Fc()],[\"confidentialTransferFeeDiscriminator\",Fc()],[\"proofInstructionOffset\",Nc()],[\"newDecryptableAvailableBalance\",lp()]])}function rm(e){return!(\"exists\"in e)||\"exists\"in e&&e.exists}function om(e,t){if(!t)return Object.freeze({address:e,exists:!1});const n=Ss().encode(t.data[0]);return Object.freeze({...am(t),address:e,data:n,exists:!0})}function im(e,t){if(!t)return Object.freeze({address:e,exists:!1});const n=t.data.parsed.info;return Object.freeze({...am(t),address:e,data:n,exists:!0})}function am(e){return Object.freeze({executable:e.executable,lamports:e.lamports,programAddress:e.owner,space:e.space})}async function sm(e,t,n={}){const{abortSignal:r,...o}=n;return om(t,(await e.getAccountInfo(t,{...o,encoding:\"base64\"}).send({abortSignal:r})).value)}async function cm(e,t,n={}){const{abortSignal:r,...o}=n;return(await e.getMultipleAccounts(t,{...o,encoding:\"base64\"}).send({abortSignal:r})).value.map(((e,n)=>om(t[n],e)))}var um=\"ComputeBudget111111111111111111111111111111\",lm={blockhash:\"11111111111111111111111111111111\",lastValidBlockHeight:0n},dm=2;function fm(e){return function(e,t){return e.programAddress===t}(e,um)&&function(e){return void 0!==e.data}(e)&&e.data[0]===dm}async function hm({abortSignal:e,rpc:t,transactionMessage:n,...r}){const o=kl(n);let i;i=o||Fu(n)?n:qu(lm,n);const a=n.instructions.findIndex(fm),s=function(e){const t=new Uint8Array(5);return t[0]=dm,jc().write(e,t,1),Object.freeze({data:t,programAddress:um})}(14e5);if(-1===a)i=_l(s,i);else{const e=[...i.instructions];e.splice(a,1,s),i=Object.freeze({...i,instructions:e})}const c=Ll(Ml(i));try{const{value:{err:n,unitsConsumed:i}}=await t.simulateTransaction(c,{...r,encoding:\"base64\",replaceRecentBlockhash:!o,sigVerify:!1}).send({abortSignal:e});if(null==i)throw new Ba(oa);const a=i>4294967295n?4294967295:Number(i);if(n)throw new Ba(ia,{cause:n,unitsConsumed:a});return a}catch(e){if(Na(e,ia))throw e;throw new Ba(oa,{cause:e})}}function pm({rpc:e}){return async function(t,n){return await hm({...n,rpc:e,transactionMessage:t})}}async function gm(e,t,n){if(0===e.length)return{};const r=await async function(e,t,n={}){const{abortSignal:r,...o}=n;return(await e.getMultipleAccounts(t,{...o,encoding:\"jsonParsed\"}).send({abortSignal:r})).value.map(((e,n)=>e&&\"object\"==typeof e&&\"parsed\"in e.data?im(t[n],e):om(t[n],e)))}(t,e,n);return function(e){const t=e.filter((e=>rm(e)&&e.data instanceof Uint8Array));if(t.length>0){const e=t.map((e=>e.address));throw new Ba(Oi,{addresses:e})}}(r),function(e){const t=e.filter((e=>!e.exists));if(t.length>0){const e=t.map((e=>e.address));throw new Ba(Pi,{addresses:e})}}(r),r.reduce(((e,t)=>({...e,[t.address]:t.data.addresses})),{})}async function mm(e,t,n){const r=(\"addressTableLookups\"in e&&void 0!==e.addressTableLookups&&e.addressTableLookups.length>0?e.addressTableLookups:[]).map((e=>e.lookupTableAddress)),{lastValidBlockHeight:o,...i}=n??{};return Pl(e,{addressesByLookupTableAddress:r.length>0?await gm(r,t,i):{},lastValidBlockHeight:o})}function ym(e,t){return!t?.preflightCommitment&&function(e,t){return e===t?0:Uu(e)<Uu(t)?-1:1}(e,\"finalized\")<0?{...t,preflightCommitment:e}:t}async function vm({abortSignal:e,commitment:t,rpc:n,transaction:r,...o}){const i=Ll(r);return await n.sendTransaction(i,{...ym(t,o),encoding:\"base64\"}).send({abortSignal:e})}const wm=async(e,t,n)=>$u(e,Ss().encode,fl().decode,(async e=>mm(e,t,n))),Am=async(e,t,n)=>$u(e,fl().decode,(async e=>mm(e,t,n))),bm=async e=>$u(e,Ss().encode,Bl().decode),Sm=async(e,t,n)=>(async e=>new Promise(((t,n)=>{if(0===e.length)return void n(new AggregateError([],\"No promises to resolve\"));let r=0;const o=[];e.forEach(((i,a)=>{Promise.resolve(i).then((e=>t(e)),(t=>{o[a]=t,r+=1,r===e.length&&n(new AggregateError(o,\"All promises rejected\"))}))}))})))([bm(e),wm(e,t,n)]);const Em={[cd]:{identifier:function(e){const t=\"data\"in e?e.data:e;if(qa(t,jc().encode(0),0))return 0;if(qa(t,jc().encode(1),0))return 1;if(qa(t,jc().encode(2),0))return 2;if(qa(t,jc().encode(3),0))return 3;if(qa(t,jc().encode(4),0))return 4;if(qa(t,jc().encode(5),0))return 5;if(qa(t,jc().encode(6),0))return 6;if(qa(t,jc().encode(7),0))return 7;if(qa(t,jc().encode(8),0))return 8;if(qa(t,jc().encode(9),0))return 9;if(qa(t,jc().encode(10),0))return 10;if(qa(t,jc().encode(11),0))return 11;if(qa(t,jc().encode(12),0))return 12;throw new Error(\"The provided instruction could not be identified as a system instruction.\")},instructionEnum:ld,typeToParserMap:{[ld.Assign]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{account:(()=>{const n=e.accounts[t];return t+=1,n})()},data:yd().decode(e.data)}},[ld.TransferSol]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),destination:n()},data:Td().decode(e.data)}},[ld.CreateAccount]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{payer:n(),newAccount:n()},data:Ad().decode(e.data)}},[ld.CreateAccountWithSeed]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{payer:n(),newAccount:n(),baseAccount:n()},data:bd().decode(e.data)}},[ld.AdvanceNonceAccount]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{nonceAccount:n(),recentBlockhashesSysvar:n(),nonceAuthority:n()},data:pd().decode(e.data)}},[ld.WithdrawNonceAccount]:function(e){if(e.accounts.length<5)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{nonceAccount:n(),recipientAccount:n(),recentBlockhashesSysvar:n(),rentSysvar:n(),nonceAuthority:n()},data:_d().decode(e.data)}},[ld.InitializeNonceAccount]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{nonceAccount:n(),recentBlockhashesSysvar:n(),rentSysvar:n()},data:Sd().decode(e.data)}},[ld.AuthorizeNonceAccount]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{nonceAccount:n(),nonceAuthority:n()},data:wd().decode(e.data)}},[ld.Allocate]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{newAccount:(()=>{const n=e.accounts[t];return t+=1,n})()},data:gd().decode(e.data)}},[ld.AllocateWithSeed]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{newAccount:n(),baseAccount:n()},data:md().decode(e.data)}},[ld.AssignWithSeed]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),baseAccount:n()},data:vd().decode(e.data)}},[ld.TransferSolWithSeed]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),baseAccount:n(),destination:n()},data:kd().decode(e.data)}},[ld.UpgradeNonceAccount]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{nonceAccount:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Id().decode(e.data)}}}},[Vf]:{identifier:Gf,instructionEnum:Kf,typeToParserMap:{[Kf.RequestUnits]:function(e){return{programAddress:e.programAddress,data:Jf().decode(e.data)}},[Kf.RequestHeapFrame]:function(e){return{programAddress:e.programAddress,data:Hf().decode(e.data)}},[Kf.SetComputeUnitPrice]:function(e){return{programAddress:e.programAddress,data:nh().decode(e.data)}},[Kf.SetComputeUnitLimit]:function(e){return{programAddress:e.programAddress,data:Xf().decode(e.data)}},[Kf.SetLoadedAccountsDataSizeLimit]:function(e){return{programAddress:e.programAddress,data:oh().decode(e.data)}}}},[bh]:{identifier:function(e){const t=\"data\"in e?e.data:e;if(qa(t,$c().encode(0),0))return 0;if(qa(t,$c().encode(1),0))return 1;if(qa(t,$c().encode(2),0))return 2;if(qa(t,$c().encode(3),0))return 3;if(qa(t,$c().encode(4),0))return 4;if(qa(t,$c().encode(5),0))return 5;if(qa(t,$c().encode(6),0))return 6;if(qa(t,$c().encode(7),0))return 7;if(qa(t,$c().encode(8),0))return 8;if(qa(t,$c().encode(9),0))return 9;if(qa(t,$c().encode(10),0))return 10;if(qa(t,$c().encode(11),0))return 11;if(qa(t,$c().encode(12),0))return 12;if(qa(t,$c().encode(13),0))return 13;if(qa(t,$c().encode(14),0))return 14;if(qa(t,$c().encode(15),0))return 15;if(qa(t,$c().encode(16),0))return 16;if(qa(t,$c().encode(17),0))return 17;if(qa(t,$c().encode(18),0))return 18;if(qa(t,$c().encode(19),0))return 19;if(qa(t,$c().encode(20),0))return 20;if(qa(t,$c().encode(21),0))return 21;if(qa(t,$c().encode(22),0))return 22;if(qa(t,$c().encode(23),0))return 23;if(qa(t,$c().encode(24),0))return 24;throw new Error(\"The provided instruction could not be identified as a token instruction.\")},instructionEnum:xh,typeToParserMap:{[xh.InitializeMint]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),rent:n()},data:Wh().decode(e.data)}},[xh.InitializeAccount]:function(e){if(e.accounts.length<4)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),owner:n(),rent:n()},data:Lh().decode(e.data)}},[xh.InitializeMultisig]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{multisig:n(),rent:n()},data:Kh().decode(e.data)}},[xh.Transfer]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),destination:n(),authority:n()},data:np().decode(e.data)}},[xh.Approve]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),delegate:n(),owner:n()},data:Ch().decode(e.data)}},[xh.Revoke]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),owner:n()},data:Zh().decode(e.data)}},[xh.SetAuthority]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{owned:n(),owner:n()},data:Yh().decode(e.data)}},[xh.MintTo]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),token:n(),mintAuthority:n()},data:Hh().decode(e.data)}},[xh.Burn]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),authority:n()},data:Ph().decode(e.data)}},[xh.CloseAccount]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),destination:n(),owner:n()},data:Nh().decode(e.data)}},[xh.FreezeAccount]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),owner:n()},data:Uh().decode(e.data)}},[xh.ThawAccount]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),owner:n()},data:Qh().decode(e.data)}},[xh.TransferChecked]:function(e){if(e.accounts.length<4)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),mint:n(),destination:n(),authority:n()},data:op().decode(e.data)}},[xh.ApproveChecked]:function(e){if(e.accounts.length<4)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),mint:n(),delegate:n(),owner:n()},data:Rh().decode(e.data)}},[xh.MintToChecked]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),token:n(),mintAuthority:n()},data:Jh().decode(e.data)}},[xh.BurnChecked]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),authority:n()},data:Oh().decode(e.data)}},[xh.InitializeAccount2]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),rent:n()},data:$h().decode(e.data)}},[xh.SyncNative]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{account:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Xh().decode(e.data)}},[xh.InitializeAccount3]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n()},data:Fh().decode(e.data)}},[xh.InitializeMultisig2]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{multisig:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Gh().decode(e.data)}},[xh.InitializeMint2]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Vh().decode(e.data)}},[xh.GetAccountDataSize]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Dh().decode(e.data)}},[xh.InitializeImmutableOwner]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{account:(()=>{const n=e.accounts[t];return t+=1,n})()},data:qh().decode(e.data)}},[xh.AmountToUiAmount]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:_h().decode(e.data)}},[xh.UiAmountToAmount]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:ip().decode(e.data)}}}},[yp]:{identifier:function(e){const t=\"data\"in e?e.data:e;if(qa(t,$c().encode(0),0))return 0;if(qa(t,$c().encode(1),0))return 1;if(qa(t,$c().encode(2),0))return 2;if(qa(t,$c().encode(3),0))return 3;if(qa(t,$c().encode(4),0))return 4;if(qa(t,$c().encode(5),0))return 5;if(qa(t,$c().encode(6),0))return 6;if(qa(t,$c().encode(7),0))return 7;if(qa(t,$c().encode(8),0))return 8;if(qa(t,$c().encode(9),0))return 9;if(qa(t,$c().encode(10),0))return 10;if(qa(t,$c().encode(11),0))return 11;if(qa(t,$c().encode(12),0))return 12;if(qa(t,$c().encode(13),0))return 13;if(qa(t,$c().encode(14),0))return 14;if(qa(t,$c().encode(15),0))return 15;if(qa(t,$c().encode(16),0))return 16;if(qa(t,$c().encode(17),0))return 17;if(qa(t,$c().encode(18),0))return 18;if(qa(t,$c().encode(19),0))return 19;if(qa(t,$c().encode(20),0))return 20;if(qa(t,$c().encode(21),0))return 21;if(qa(t,$c().encode(22),0))return 22;if(qa(t,$c().encode(23),0))return 23;if(qa(t,$c().encode(24),0))return 24;if(qa(t,$c().encode(25),0))return 25;if(qa(t,$c().encode(26),0)&&qa(t,$c().encode(0),1))return 26;if(qa(t,$c().encode(26),0)&&qa(t,$c().encode(1),1))return 27;if(qa(t,$c().encode(26),0)&&qa(t,$c().encode(2),1))return 28;if(qa(t,$c().encode(26),0)&&qa(t,$c().encode(3),1))return 29;if(qa(t,$c().encode(26),0)&&qa(t,$c().encode(4),1))return 30;if(qa(t,$c().encode(26),0)&&qa(t,$c().encode(5),1))return 31;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(0),1))return 32;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(1),1))return 33;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(2),1))return 34;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(3),1))return 35;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(4),1))return 36;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(5),1))return 37;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(6),1))return 38;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(7),1))return 39;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(8),1))return 40;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(9),1))return 41;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(10),1))return 42;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(11),1))return 43;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(12),1))return 44;if(qa(t,$c().encode(27),0)&&qa(t,$c().encode(13),1))return 45;if(qa(t,$c().encode(28),0)&&qa(t,$c().encode(0),1))return 46;if(qa(t,$c().encode(28),0)&&qa(t,$c().encode(1),1))return 47;if(qa(t,$c().encode(29),0))return 48;if(qa(t,$c().encode(30),0)&&qa(t,$c().encode(0),1))return 49;if(qa(t,$c().encode(30),0)&&qa(t,$c().encode(1),1))return 50;if(qa(t,$c().encode(31),0))return 51;if(qa(t,$c().encode(32),0))return 52;if(qa(t,$c().encode(33),0)&&qa(t,$c().encode(0),1))return 53;if(qa(t,$c().encode(33),0)&&qa(t,$c().encode(1),1))return 54;if(qa(t,$c().encode(34),0)&&qa(t,$c().encode(0),1))return 55;if(qa(t,$c().encode(34),0)&&qa(t,$c().encode(1),1))return 56;if(qa(t,$c().encode(35),0))return 57;if(qa(t,$c().encode(36),0)&&qa(t,$c().encode(0),1))return 58;if(qa(t,$c().encode(36),0)&&qa(t,$c().encode(1),1))return 59;if(qa(t,$c().encode(37),0)&&qa(t,$c().encode(0),1))return 60;if(qa(t,$c().encode(37),0)&&qa(t,$c().encode(1),1))return 61;if(qa(t,$c().encode(37),0)&&qa(t,$c().encode(2),1))return 62;if(qa(t,$c().encode(37),0)&&qa(t,$c().encode(3),1))return 63;if(qa(t,$c().encode(37),0)&&qa(t,$c().encode(4),1))return 64;if(qa(t,$c().encode(37),0)&&qa(t,$c().encode(5),1))return 65;if(qa(t,$c().encode(38),0))return 66;if(qa(t,$c().encode(39),0)&&qa(t,$c().encode(0),1))return 67;if(qa(t,$c().encode(39),0)&&qa(t,$c().encode(1),1))return 68;if(qa(t,$c().encode(40),0)&&qa(t,$c().encode(0),1))return 69;if(qa(t,$c().encode(40),0)&&qa(t,$c().encode(1),1))return 70;if(qa(t,$c().encode(41),0)&&qa(t,$c().encode(0),1))return 71;if(qa(t,$c().encode(41),0)&&qa(t,$c().encode(1),1))return 72;if(qa(t,$c().encode(43),0)&&qa(t,$c().encode(0),1))return 73;if(qa(t,$c().encode(43),0)&&qa(t,$c().encode(1),1))return 74;if(qa(t,$c().encode(44),0)&&qa(t,$c().encode(0),1))return 75;if(qa(t,$c().encode(44),0)&&qa(t,$c().encode(1),1))return 76;if(qa(t,$c().encode(44),0)&&qa(t,$c().encode(2),1))return 77;if(qa(t,new Uint8Array([210,225,30,162,88,184,77,141]),0))return 78;if(qa(t,new Uint8Array([221,233,49,45,181,202,220,200]),0))return 79;if(qa(t,new Uint8Array([234,18,32,56,89,141,37,181]),0))return 80;if(qa(t,new Uint8Array([215,228,166,228,84,100,86,123]),0))return 81;if(qa(t,new Uint8Array([250,166,180,250,13,12,184,70]),0))return 82;if(qa(t,new Uint8Array([121,113,108,39,54,51,0,4]),0))return 83;if(qa(t,new Uint8Array([108,37,171,143,248,30,18,110]),0))return 84;if(qa(t,new Uint8Array([161,105,88,1,237,221,216,203]),0))return 85;if(qa(t,new Uint8Array([152,32,222,176,223,237,116,134]),0))return 86;throw new Error(\"The provided instruction could not be identified as a token-2022 instruction.\")},instructionEnum:Ap,typeToParserMap:{[Ap.InitializeMint]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),rent:n()},data:lg().decode(e.data)}},[Ap.InitializeAccount]:function(e){if(e.accounts.length<4)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),owner:n(),rent:n()},data:Qp().decode(e.data)}},[Ap.InitializeMultisig]:pg,[Ap.Transfer]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),destination:n(),authority:n()},data:Mg().decode(e.data)}},[Ap.Approve]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),delegate:n(),owner:n()},data:Ep().decode(e.data)}},[Ap.Revoke]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),owner:n()},data:Pg().decode(e.data)}},[Ap.SetAuthority]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{owned:n(),owner:n()},data:Og().decode(e.data)}},[Ap.MintTo]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),token:n(),mintAuthority:n()},data:xg().decode(e.data)}},[Ap.Burn]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),authority:n()},data:kp().decode(e.data)}},[Ap.CloseAccount]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),destination:n(),owner:n()},data:_p().decode(e.data)}},[Ap.FreezeAccount]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),owner:n()},data:Jp().decode(e.data)}},[Ap.ThawAccount]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),owner:n()},data:zg().decode(e.data)}},[Ap.TransferChecked]:function(e){if(e.accounts.length<4)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),mint:n(),destination:n(),authority:n()},data:jg().decode(e.data)}},[Ap.ApproveChecked]:function(e){if(e.accounts.length<4)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),mint:n(),delegate:n(),owner:n()},data:xp().decode(e.data)}},[Ap.MintToChecked]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),token:n(),mintAuthority:n()},data:Tg().decode(e.data)}},[Ap.BurnChecked]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),authority:n()},data:Ip().decode(e.data)}},[Ap.InitializeAccount2]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n(),rent:n()},data:eg().decode(e.data)}},[Ap.SyncNative]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{account:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Bg().decode(e.data)}},[Ap.InitializeAccount3]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{account:n(),mint:n()},data:tg().decode(e.data)}},[Ap.InitializeMultisig2]:pg,[Ap.InitializeMint2]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:dg().decode(e.data)}},[Ap.GetAccountDataSize]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Zp().decode(e.data)}},[Ap.InitializeImmutableOwner]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{account:(()=>{const n=e.accounts[t];return t+=1,n})()},data:sg().decode(e.data)}},[Ap.AmountToUiAmount]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:bp().decode(e.data)}},[Ap.UiAmountToAmount]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Dg().decode(e.data)}},[Ap.InitializeMintCloseAuthority]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:fg().decode(e.data)}},[Ap.InitializeTransferFeeConfig]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Sg().decode(e.data)}},[Ap.TransferCheckedWithFee]:function(e){if(e.accounts.length<4)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{source:n(),mint:n(),destination:n(),authority:n()},data:Ug().decode(e.data)}},[Ap.WithdrawWithheldTokensFromMint]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),feeReceiver:n(),withdrawWithheldAuthority:n()},data:tm().decode(e.data)}},[Ap.WithdrawWithheldTokensFromAccounts]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),feeReceiver:n(),withdrawWithheldAuthority:n()},data:Qg().decode(e.data)}},[Ap.HarvestWithheldTokensToMint]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Yp().decode(e.data)}},[Ap.SetTransferFee]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),transferFeeConfigAuthority:n()},data:Ng().decode(e.data)}},[Ap.InitializeConfidentialTransferMint]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:rg().decode(e.data)}},[Ap.UpdateConfidentialTransferMint]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),authority:n()},data:Lg().decode(e.data)}},[Ap.ConfigureConfidentialTransferAccount]:function(e){if(e.accounts.length<5)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),mint:n(),instructionsSysvarOrContextState:n(),record:(()=>{const e=n();return e.address===yp?void 0:e})(),authority:n()},data:Np().decode(e.data)}},[Ap.ApproveConfidentialTransferAccount]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),mint:n(),authority:n()},data:Tp().decode(e.data)}},[Ap.EmptyConfidentialTransferAccount]:function(e){if(e.accounts.length<4)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),instructionsSysvarOrContextState:n(),record:(()=>{const e=n();return e.address===yp?void 0:e})(),authority:n()},data:qp().decode(e.data)}},[Ap.ConfidentialDeposit]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),mint:n(),authority:n()},data:Cp().decode(e.data)}},[Ap.ConfidentialWithdraw]:function(e){if(e.accounts.length<6)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n},r=()=>{const e=n();return e.address===yp?void 0:e};return{programAddress:e.programAddress,accounts:{token:n(),mint:n(),instructionsSysvar:r(),equalityRecord:r(),rangeRecord:r(),authority:n()},data:Op().decode(e.data)}},[Ap.ConfidentialTransfer]:function(e){if(e.accounts.length<8)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n},r=()=>{const e=n();return e.address===yp?void 0:e};return{programAddress:e.programAddress,accounts:{sourceToken:n(),mint:n(),destinationToken:n(),instructionsSysvar:r(),equalityRecord:r(),ciphertextValidityRecord:r(),rangeRecord:r(),authority:n()},data:Rp().decode(e.data)}},[Ap.ApplyConfidentialPendingBalance]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),authority:n()},data:Sp().decode(e.data)}},[Ap.EnableConfidentialCredits]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),authority:n()},data:Wp().decode(e.data)}},[Ap.DisableConfidentialCredits]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),authority:n()},data:jp().decode(e.data)}},[Ap.EnableNonConfidentialCredits]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),authority:n()},data:Hp().decode(e.data)}},[Ap.DisableNonConfidentialCredits]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),authority:n()},data:$p().decode(e.data)}},[Ap.ConfidentialTransferWithFee]:function(e){if(e.accounts.length<10)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n},r=()=>{const e=n();return e.address===yp?void 0:e};return{programAddress:e.programAddress,accounts:{sourceToken:n(),mint:n(),destinationToken:n(),instructionsSysvar:r(),equalityRecord:r(),transferAmountCiphertextValidityRecord:r(),feeSigmaRecord:r(),feeCiphertextValidityRecord:r(),rangeRecord:r(),authority:n()},data:Pp().decode(e.data)}},[Ap.InitializeDefaultAccountState]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:og().decode(e.data)}},[Ap.UpdateDefaultAccountState]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),freezeAuthority:n()},data:$g().decode(e.data)}},[Ap.Reallocate]:function(e){if(e.accounts.length<4)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),payer:n(),systemProgram:n(),owner:n()},data:Ig().decode(e.data)}},[Ap.EnableMemoTransfers]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),owner:n()},data:Gp().decode(e.data)}},[Ap.DisableMemoTransfers]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),owner:n()},data:Lp().decode(e.data)}},[Ap.CreateNativeMint]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{payer:n(),nativeMint:n(),systemProgram:n()},data:Mp().decode(e.data)}},[Ap.InitializeNonTransferableMint]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:gg().decode(e.data)}},[Ap.InitializeInterestBearingMint]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:cg().decode(e.data)}},[Ap.UpdateRateInterestBearingMint]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),rateAuthority:n()},data:Kg().decode(e.data)}},[Ap.EnableCpiGuard]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),owner:n()},data:Vp().decode(e.data)}},[Ap.DisableCpiGuard]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{token:n(),owner:n()},data:Up().decode(e.data)}},[Ap.InitializePermanentDelegate]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:yg().decode(e.data)}},[Ap.InitializeTransferHook]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Eg().decode(e.data)}},[Ap.UpdateTransferHook]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),authority:n()},data:Yg().decode(e.data)}},[Ap.InitializeConfidentialTransferFee]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:ng().decode(e.data)}},[Ap.WithdrawWithheldTokensFromMintForConfidentialTransferFee]:function(e){if(e.accounts.length<5)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),destination:n(),instructionsSysvarOrContextState:n(),record:(()=>{const e=n();return e.address===yp?void 0:e})(),authority:n()},data:nm().decode(e.data)}},[Ap.WithdrawWithheldTokensFromAccountsForConfidentialTransferFee]:function(e){if(e.accounts.length<5)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),destination:n(),instructionsSysvarOrContextState:n(),record:(()=>{const e=n();return e.address===yp?void 0:e})(),authority:n()},data:em().decode(e.data)}},[Ap.HarvestWithheldTokensToMintForConfidentialTransferFee]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Xp().decode(e.data)}},[Ap.EnableHarvestToMint]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),authority:n()},data:Kp().decode(e.data)}},[Ap.DisableHarvestToMint]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),authority:n()},data:Dp().decode(e.data)}},[Ap.WithdrawExcessLamports]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{sourceAccount:n(),destinationAccount:n(),authority:n()},data:Xg().decode(e.data)}},[Ap.InitializeMetadataPointer]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:ug().decode(e.data)}},[Ap.UpdateMetadataPointer]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),metadataPointerAuthority:n()},data:Wg().decode(e.data)}},[Ap.InitializeGroupPointer]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:ag().decode(e.data)}},[Ap.UpdateGroupPointer]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),groupPointerAuthority:n()},data:qg().decode(e.data)}},[Ap.InitializeGroupMemberPointer]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:ig().decode(e.data)}},[Ap.UpdateGroupMemberPointer]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),groupMemberPointerAuthority:n()},data:Fg().decode(e.data)}},[Ap.InitializeScaledUiAmountMint]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:vg().decode(e.data)}},[Ap.UpdateMultiplierScaledUiMint]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),authority:n()},data:Vg().decode(e.data)}},[Ap.InitializePausableConfig]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{mint:(()=>{const n=e.accounts[t];return t+=1,n})()},data:mg().decode(e.data)}},[Ap.Pause]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),authority:n()},data:kg().decode(e.data)}},[Ap.Resume]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{mint:n(),authority:n()},data:Rg().decode(e.data)}},[Ap.InitializeTokenMetadata]:function(e){if(e.accounts.length<4)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{metadata:n(),updateAuthority:n(),mint:n(),mintAuthority:n()},data:bg().decode(e.data)}},[Ap.UpdateTokenMetadataField]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{metadata:n(),updateAuthority:n()},data:Jg().decode(e.data)}},[Ap.RemoveTokenMetadataKey]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{metadata:n(),updateAuthority:n()},data:Cg().decode(e.data)}},[Ap.UpdateTokenMetadataUpdateAuthority]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{metadata:n(),updateAuthority:n()},data:Zg().decode(e.data)}},[Ap.EmitTokenMetadata]:function(e){if(e.accounts.length<1)throw new Error(\"Not enough accounts\");let t=0;return{programAddress:e.programAddress,accounts:{metadata:(()=>{const n=e.accounts[t];return t+=1,n})()},data:Fp().decode(e.data)}},[Ap.InitializeTokenGroup]:function(e){if(e.accounts.length<3)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{group:n(),mint:n(),mintAuthority:n()},data:wg().decode(e.data)}},[Ap.UpdateTokenGroupMaxSize]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{group:n(),updateAuthority:n()},data:Gg().decode(e.data)}},[Ap.UpdateTokenGroupUpdateAuthority]:function(e){if(e.accounts.length<2)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{group:n(),updateAuthority:n()},data:Hg().decode(e.data)}},[Ap.InitializeTokenGroupMember]:function(e){if(e.accounts.length<5)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{member:n(),memberMint:n(),memberMintAuthority:n(),group:n(),groupUpdateAuthority:n()},data:Ag().decode(e.data)}}}},[vh]:{identifier:function(e){const t=\"data\"in e?e.data:e;if(qa(t,$c().encode(0),0))return 0;if(qa(t,$c().encode(1),0))return 1;if(qa(t,$c().encode(2),0))return 2;throw new Error(\"The provided instruction could not be identified as a associatedToken instruction.\")},instructionEnum:gp,typeToParserMap:{[gp.CreateAssociatedToken]:function(e){if(e.accounts.length<6)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{payer:n(),ata:n(),owner:n(),mint:n(),systemProgram:n(),tokenProgram:n()},data:Bp().decode(e.data)}},[gp.CreateAssociatedTokenIdempotent]:function(e){if(e.accounts.length<6)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{payer:n(),ata:n(),owner:n(),mint:n(),systemProgram:n(),tokenProgram:n()},data:zp().decode(e.data)}},[gp.RecoverNestedAssociatedToken]:function(e){if(e.accounts.length<7)throw new Error(\"Not enough accounts\");let t=0;const n=()=>{const n=e.accounts[t];return t+=1,n};return{programAddress:e.programAddress,accounts:{nestedAssociatedAccountAddress:n(),nestedTokenMintAddress:n(),destinationAssociatedAccountAddress:n(),ownerAssociatedAccountAddress:n(),ownerTokenMintAddress:n(),walletAddress:n(),tokenProgram:n()},data:_g().decode(e.data)}}}}},xm=async(e,t)=>{const n=await Sm(t,e),r=\"instructions\"in n?n:await Am(n.messageBytes,e),{instructions:o}=r;return o.map((e=>{const{programAddress:t}=e;return((e,t)=>{const n={...e,dataBase58:vs().decode(e.data??new Uint8Array)};try{const r=Em[t];if(!r)throw new Error(\"Unsupported program address\");const{identifier:o,typeToParserMap:i,instructionEnum:a}=r,s=o(e),c=a[s],u=i[s];if(!u)throw new Error(\"Unsupported instruction type\");return{type:c,encoded:n,parsed:u(e)}}catch(e){return{type:\"Unknown\",encoded:n,parsed:null}}})(e,t)}))};function Tm(e){const{type:t,id:n,address:r,options:o,methods:i,scopes:a}=e;return{type:t,id:n,address:r,options:o,methods:i,scopes:a}}const km=ge(re(),/^(?:0x)?[0-9a-f]+$/iu);ge(re(),/^0x[0-9a-f]+$/iu),ge(re(),/^0x[0-9a-f]{40}$/u),ge(re(),/^0x[0-9a-fA-F]{40}$/u);function Im(e){ti(function(e){return j(e,km)}(e),\"Value must be a hexadecimal string.\")}function _m(e){return e.startsWith(\"0x\")||e.startsWith(\"0X\")?e.substring(2):e}n(1048).hp;const Cm=48,Rm=58,Pm=87;!function(){const e=[]}();function Om(e){if(\"0x\"===e?.toLowerCase?.())return new Uint8Array;Im(e);const t=_m(e).toLowerCase(),n=t.length%2==0?t:`0${t}`,r=new Uint8Array(n.length/2);for(let e=0;e<r.length;e++){const t=n.charCodeAt(2*e),o=n.charCodeAt(2*e+1),i=t-(t<Rm?Cm:Pm),a=o-(o<Rm?Cm:Pm);r[e]=16*i+a}return r}async function Nm({entropySource:e,derivationPath:t}){Cd.log({derivationPath:t},\"Generating solana wallet\"),z(t,Sc);const n=t.split(\"/\");try{const t=await async function({entropySource:e,path:t,curve:n}){return await snap.request({method:\"snap_getBip32Entropy\",params:{path:t,curve:n,...e?{source:e}:{}}})}({entropySource:e,path:n,curve:\"ed25519\"});if(!t.privateKey||!t.publicKey)throw new Error(\"Unable to derive private key\");return{privateKeyBytes:Om(t.privateKey),publicKeyBytes:Om(t.publicKey)}}catch(e){throw Cd.error({error:e},\"Error deriving keypair\"),new Error(e)}}const Bm=e=>JSON.parse(JSON.stringify(e),((e,t)=>t?\"undefined\"!==t.__type?\"BigNumber\"===t.__type?new jo(t.value):\"bigint\"===t.__type?BigInt(t.value):\"Uint8Array\"===t.__type?xs().encode(t.value):t:void 0:t)),zm=e=>(0,ni.cloneDeepWith)(e,(e=>void 0===e?{__type:\"undefined\"}:e instanceof jo?{__type:\"BigNumber\",value:e.toString()}:\"bigint\"==typeof e?{__type:\"bigint\",value:e.toString()}:e instanceof Uint8Array?{__type:\"Uint8Array\",value:xs().decode(e)}:void 0)),Mm=\"send-form\",jm=\"confirm-sign-and-send-transaction\";async function Um(e,t){const n=zm(t);return snap.request({method:\"snap_createInterface\",params:{ui:e,context:n}})}async function Dm(e,t,n){const r=zm(n);return snap.request({method:\"snap_updateInterface\",params:{id:e,ui:t,context:r}})}async function Lm(e,t){return snap.request({method:\"snap_resolveInterface\",params:{id:e,value:t}})}async function $m(e){return snap.request({method:\"snap_dialog\",params:{id:e}})}async function Fm(){return snap.request({method:\"snap_getPreferences\"})}async function qm(e){const t=await async function(e){const t=await snap.request({method:\"snap_getInterfaceContext\",params:{id:e}});return t?Bm(t):null}(e);if(!t)throw new Error(\"Interface context not found\");return t}var Wm=function(e){return e.GetGenesisHash=\"getGenesisHash\",e.GetLatestBlockhash=\"getLatestBlockhash\",e.GetMinimumBalanceForRentExemption=\"getMinimumBalanceForRentExemption\",e}({});const Vm=ee({jsonrpc:vf,id:wf,method:Z(\"getGenesisHash\"),params:te(K())}),Km=ee({jsonrpc:vf,id:wf,method:Z(\"getLatestBlockhash\")}),Gm=ee({jsonrpc:vf,id:wf,method:Z(\"getMinimumBalanceForRentExemption\"),params:oe([Q(),te(ee())])});var Hm=function(e){return e.StartSendTransactionFlow=\"startSendTransactionFlow\",e.GetFeeForTransaction=\"getFeeForTransaction\",e}({}),Jm=function(e){return e.TestSetupAllConnections=\"testSetupAllConnections\",e.TestCloseAllConnections=\"testCloseAllConnections\",e.TestSubscribeToAccount=\"testSubscribeToAccount\",e.TestUnsubscribeFromAccount=\"testUnsubscribeFromAccount\",e}({});const Zm={production:[nc.Mainnet],local:[nc.Mainnet,nc.Devnet],test:[nc.Localnet]},Ym=de(K(lc),re(),(e=>e.split(\",\"))),Xm=de(K(re()),re(),(e=>e.split(\",\"))),Qm=ee({ENVIRONMENT:H([\"local\",\"test\",\"production\"]),RPC_URL_MAINNET_LIST:Ym,RPC_URL_DEVNET_LIST:Ym,RPC_URL_TESTNET_LIST:Ym,RPC_URL_LOCALNET_LIST:Xm,RPC_WEB_SOCKET_URL_MAINNET:lc,RPC_WEB_SOCKET_URL_DEVNET:lc,RPC_WEB_SOCKET_URL_TESTNET:lc,RPC_WEB_SOCKET_URL_LOCALNET:lc,EXPLORER_BASE_URL:lc,PRICE_API_BASE_URL:lc,TOKEN_API_BASE_URL:lc,STATIC_API_BASE_URL:lc,SECURITY_ALERTS_API_BASE_URL:lc,LOCAL_API_BASE_URL:re()});class ey{#g;constructor(){const e=this.#m();this.#g=this.#y(e)}#m(){return M({ENVIRONMENT:\"production\",RPC_URL_MAINNET_LIST:\"https://solana-mainnet.infura.io/v3/5b98a22672004ef1bf40a80123c5c48d\",RPC_URL_DEVNET_LIST:\"https://solana-devnet.infura.io/v3/5b98a22672004ef1bf40a80123c5c48d\",RPC_URL_TESTNET_LIST:\"https://api.testnet.solana.com\",RPC_URL_LOCALNET_LIST:\"http://localhost:8899\",RPC_WEB_SOCKET_URL_MAINNET:\"wss://solana-mainnet.infura.io/ws/v3/5b98a22672004ef1bf40a80123c5c48d\",RPC_WEB_SOCKET_URL_DEVNET:\"wss://solana-devnet.infura.io/ws/v3/5b98a22672004ef1bf40a80123c5c48d\",RPC_WEB_SOCKET_URL_TESTNET:\"wss://api.testnet.solana.com\",RPC_WEB_SOCKET_URL_LOCALNET:\"wss://localhost:8899\",EXPLORER_BASE_URL:\"https://solscan.io\",PRICE_API_BASE_URL:\"https://price.api.cx.metamask.io\",TOKEN_API_BASE_URL:\"https://tokens.api.cx.metamask.io\",STATIC_API_BASE_URL:\"https://static.cx.metamask.io\",SECURITY_ALERTS_API_BASE_URL:\"https://security-alerts.api.cx.metamask.io\",LOCAL_API_BASE_URL:\"http://localhost:8899\"},Qm)}#y(e){return{environment:e.ENVIRONMENT,networks:[{...sc[nc.Mainnet],rpcUrls:e.RPC_URL_MAINNET_LIST,webSocketUrl:e.RPC_WEB_SOCKET_URL_MAINNET},{...sc[nc.Devnet],rpcUrls:e.RPC_URL_DEVNET_LIST,webSocketUrl:e.RPC_WEB_SOCKET_URL_DEVNET},{...sc[nc.Testnet],rpcUrls:e.RPC_URL_TESTNET_LIST,webSocketUrl:e.RPC_WEB_SOCKET_URL_TESTNET},{...sc[nc.Localnet],rpcUrls:e.RPC_URL_LOCALNET_LIST,webSocketUrl:e.RPC_WEB_SOCKET_URL_LOCALNET}],explorerBaseUrl:e.EXPLORER_BASE_URL,activeNetworks:Zm[e.ENVIRONMENT],priceApi:{baseUrl:\"test\"===e.ENVIRONMENT?e.LOCAL_API_BASE_URL:e.PRICE_API_BASE_URL,chunkSize:50},tokenApi:{baseUrl:\"test\"===e.ENVIRONMENT?e.LOCAL_API_BASE_URL:e.TOKEN_API_BASE_URL,chunkSize:50},staticApi:{baseUrl:e.STATIC_API_BASE_URL},transactions:{storageLimit:10},securityAlertsApi:{baseUrl:\"test\"===e.ENVIRONMENT?e.LOCAL_API_BASE_URL:e.SECURITY_ALERTS_API_BASE_URL},subscription:{maxReconnectAttempts:5,reconnectDelayMilliseconds:1e3}}}get(){return this.#g}getNetworkBy(e,t){const n=this.get().networks.find((n=>n[e]===t));if(!n)throw new Error(`Network ${e} not found`);return n}}const ty=(new ey).get(),ny=[\"local\",\"test\"].includes(ty.environment),ry=ny?[\"http://localhost:3000\"]:[\"https://portfolio.metamask.io\"],oy=ny?new Set([Ht.ListAccounts,Ht.GetAccount,Ht.CreateAccount,Ht.FilterAccountChains,Ht.DeleteAccount,Ht.DiscoverAccounts,Ht.GetAccountBalances,Ht.SubmitRequest,Ht.ListAccountTransactions,Ht.ListAccountAssets,Hm.StartSendTransactionFlow,Hm.GetFeeForTransaction,Wm.GetGenesisHash,Wm.GetLatestBlockhash,Vd.SignAndSendTransactionWithoutConfirmation,Jm.TestSetupAllConnections,Jm.TestCloseAllConnections,Jm.TestSubscribeToAccount,Jm.TestUnsubscribeFromAccount]):new Set([]),iy=new Set([Ht.ListAccounts,Ht.GetAccount,Ht.CreateAccount,Ht.DeleteAccount,Ht.DiscoverAccounts,Ht.GetAccountBalances,Ht.SubmitRequest,Ht.ListAccountTransactions,Ht.ListAccountAssets,Ht.ResolveAccountAddress,Hm.StartSendTransactionFlow,Hm.GetFeeForTransaction,Wm.GetGenesisHash,Wm.GetLatestBlockhash,Vd.SignAndSendTransactionWithoutConfirmation]),ay=new Map([]);for(const e of ry)ay.set(e,oy);ay.set(\"metamask\",iy);const sy=(e,t)=>{if(!e)throw new go(\"Origin not found\");if(!ay.get(e)?.has(t))throw new go(\"Permission denied\")};function cy(e,t){try{z(e,t)}catch(e){throw new ro(e.message)}}function uy(e,t){try{z(e,t)}catch(e){throw new Qr(\"Invalid Response\")}}const ly=ee({...St.schema,scope:yc,request:Ff}),dy=ee({scopes:pe(K(yc)),entropySource:re(),groupIndex:he(Q(),0)});function fy(e,t){const n=t.filter((t=>!e.includes(t))),r=e.filter((e=>!t.includes(e)));return{hasDiff:n.length>0||r.length>0,added:n,deleted:r}}function hy(e,t){const n={added:{},deleted:{},changed:{},hasDiff:!1},r=(e,o,i=\"\")=>{for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){const s=i?`${i}.${a}`:a;if(Object.prototype.hasOwnProperty.call(o,a)){if(\"object\"==typeof e[a]&&null!==e[a]&&\"object\"==typeof o[a]&&null!==o[a])r(e[a],o[a],s);else if(e[a]!==o[a]){const e=s.split(\".\")[0];n.changed[e??a]=t[e??a],n.hasDiff=!0}}else n.deleted[s]=e[a],n.hasDiff=!0}for(const t in o)if(Object.prototype.hasOwnProperty.call(o,t)&&!Object.prototype.hasOwnProperty.call(e,t)){const e=i?`${i}.${t}`:t;n.added[e]=o[t],n.hasDiff=!0}};return r(e,t),n}function py(e){return e.split(\"/\")[0]}function gy(e,t){return`${e}/token:${t}`}class my{#i;#f;#v;#w;#A;#b;#c;static cacheTtlsMilliseconds={tokenAccountsByOwner:5*Yo.Second};constructor({connection:e,logger:t,configProvider:n,state:r,tokenMetadataService:o,tokenPricesService:i,cache:a}){this.#i=t,this.#f=e,this.#v=n,this.#w=r,this.#A=o,this.#b=i,this.#c=a}async listAccountAssets(e){const{activeNetworks:t}=this.#v.get();return[...t.map((e=>`${e}/${oc.SOL}`)),...(await this.#S(zs(e.address),[bh,ac],t)).flatMap((e=>e.assetType))]}async#S(e,t=[bh,ac],n=[nc.Mainnet]){if(0===t.length||0===n.length)return[];const r=n.flatMap((e=>t.map((t=>({scope:e,programId:t}))))),o=oi(this.#E.bind(this),this.#c,{functionName:\"AssetsService:getTokenAccountsByOwner\",ttlMilliseconds:my.cacheTtlsMilliseconds.tokenAccountsByOwner});return(await Promise.all(r.map((async({scope:t,programId:n})=>await o(e,n,t))))).flat()}async#E(e,t=bh,n=nc.Mainnet){return(await this.#f.getRpc(n).getTokenAccountsByOwner(e,{programId:t},{encoding:\"jsonParsed\"}).send()).value.map((e=>({...e,scope:n,assetType:gy(n,e.account.data.parsed.info.mint)})))}async getAccountBalances(e,t){const n=zs(e.address),r=await this.#A.getTokensMetadata(t),o=(0,ni.uniq)((0,ni.map)(t,py)),i=[bh,ac],a=await this.#S(n,i,o),s={},c=t.map((async e=>{const{chainId:t}=Xo(e);let o;if(e.endsWith(oc.SOL))o=(await this.#f.getRpc(t).getBalance(n).send()).value;else{const t=a.find((t=>t.assetType===e));o=t?BigInt(t.account.data.parsed.info.tokenAmount.amount):BigInt(0)}const i=r[e],c=function(e,t){return new jo(e.toString()).div(10**t).toFixed()}(o,i?.units[0]?.decimals??9);s[e]={amount:c,unit:i?.symbol??\"UNKNOWN\"}}));await Promise.all(c);const u={...await this.#w.getKey(`assets.${e.id}`),...s};return await this.#w.setKey(`assets.${e.id}`,u),s}async refreshAssets(e){if(0===e.length)return void this.#i.info(\"[AssetsService] No accounts found\");this.#i.log(`[AssetsService] Refreshing assets for ${e.length} accounts`);const t=await this.#w.getKey(\"assets\")??{};for(const n of e){this.#i.log(`[AssetsService] Fetching all assets for ${n.address} in all networks`);const e=await this.listAccountAssets(n),r=t[n.id],o=Object.keys(r??{}),i=e??{},{added:a,deleted:s,hasDiff:c}=fy(o,i);c&&(this.#i.info({assetsAdded:a,assetsDeleted:s,assetsChanged:c},`[refreshAssets] Found updated assets for ${n.address}`),await vn(snap,gn.AccountAssetListUpdated,{assets:{[n.id]:{added:a,removed:s}}}));const u=await this.getAccountBalances(n,e),l=t[n.id],{added:d,deleted:f,changed:h,hasDiff:p}=hy(l??{},u);p&&(this.#i.info({balancesAdded:d,balancesDeleted:f,balancesChanged:h},`[BalancesService] Found updated balances for ${n.address}`),await vn(snap,gn.AccountBalancesUpdated,{balances:{[n.id]:{...d,...h}}}),await this.#w.setKey(`assets.${n.id}`,u))}}async getAssetsMarketData(e){return await this.#b.getMultipleTokensMarketData(e)}}function yy(e,t,n){if(\"string\"==typeof e)throw new Error(`An HTML element (\"${String(e)}\") was used in a Snap component, which is not supported by Snaps UI. Please use one of the supported Snap components.`);if(!e)throw new Error(\"A JSX fragment was used in a Snap component, which is not supported by Snaps UI. Please use one of the supported Snap components.\");return e({...t,key:n})}function vy(e,t,n){return yy(e,t,n)}const wy='<svg width=\"16\" height=\"16\" xmlns=\"http://www.w3.org/2000/svg\"><image width=\"16\" height=\"16\" href=\"data:image/png;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAUFBQUFBQUGBgUICAcICAsKCQkKCxEMDQwNDBEaEBMQEBMQGhcbFhUWGxcpIBwcICkvJyUnLzkzMzlHREddXX0BBQUFBQUFBQYGBQgIBwgICwoJCQoLEQwNDA0MERoQExAQExAaFxsWFRYbFykgHBwgKS8nJScvOTMzOUdER11dff/CABEIAPoA+gMBIgACEQEDEQH/xAA1AAEAAwEBAQEBAAAAAAAAAAAAAQIHBggEBQMBAQADAQEBAQAAAAAAAAAAAAACAwQBBQYH/9oADAMBAAIQAxAAAADxkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACx204cU3mdnnYLG+IQwNvsxhgLfrRh5/egLRh59egkYefXoRCPn6mv5BH2ajuwAAAACZdFZz6/SvzfofWfLWtS2jw7WpNGO01mjJaas+P+k0tRjtNbUY38Leccnq/DxFq5f2ao7cAAAAB+36W8/9p7+DZZxp6nl7LOM3qzbLOMqs2zzjF6suyzjNqqNlnGrU5NkY7zlHP75Wjzv0mg5pAAAAAAs6jqdsMuajacMsam5HLGqORytqkxjlTVbc5lLVpjDKGsfhQlwdb1p3QAAAAAADofSXk7q/cp9MT8n0/cebe1Jpx2tS2fJNqTRkvNLUY7TWaMdqXZ8vnHPvZHmrw/u+JTGL6EAAAAABMDuvQvkLQfo6PQU55P0WLRJztTl0Sc7U5tFnOppzaOzmacujTnSrLo3x8NNFOM8zsuM+H99Aq2AAAAAATMfpWPznbNXOJdqjHi47Wec4l2jnOLdo5zi57JFxrsp5HjadRy9d0CMgAAAAJPqm+j0X8fW/oV82rPvUWRNGObUmjHe1LUZLIUY7TDPk/opk2CP5uPy+U+1qKrwAAAAPo3zPdc+23fu2/BfYXdA/AmjL+/bn1GToZ55Tl6KedmjJ0c87anL0LnuZyUTgH9fm+Q9+Bk0AAAAAAWVdWVFlRZUWVFpo4uoLxV0HAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH//EAEEQAAECAwQHBAgDBgcBAAAAAAECBAADBgURF1UQMUFRkpPSEiFSohYgIjBAYaPiBzLBEyRUYnCRFBVDRYGhstH/2gAIAQEAAT8A/qXdF0XRd8ou9a4R3aOz8AO+KUo95Uc1SyoyGcs+3OIvvPhQDrMYUWPmbzhRGFFj5m74URhRY2Zu+FEYT2NmbvhRGE1jZm84URhNY2ZvOFEYTWNmjzhRGEti5o84URhLYuaPP7IjCWxc0ecKIwksXM3nCiMJLFzN5wojCSxczd/2RGEliZm8/siKt/DthYNkTLRbWlNUqWtIKJwA7Xa8JHwFK0w6qN6EJvQ1lkGfO2AeEb1HZDRq2YNpLVrJTLkyk9lCAO4D9TtJ2nQIv0C/QDAOgGL9Lp22Yt5rl1NTLky03rWrUB+p+W2KyqubUr72SpDOSSJEonzKHiPv6dsB7UT1LduLkJuM2afyy0bzvO4RZdmtbIZSGTRHZlS069qlbVK3k6AYGkQDA0DQDonTpTaVMnTpqUSkJKlrUbkhI1kmK3rJdQuRIaKUiz5BPYB7jMV41CD3++sWx3ltv5LNqm9au9Sj+VCRrUo7hFg2IzsBhLZthftmzCO+Yvao7vkNA0AxfA0A6RAMCCpKUqJUAALySbgBFeVsLXUuzbPWQxQr25m2coH/AMiFa/f0rVK6ZmO1hkiemehIIKuwoFBvFyrjGLByIc89MYsnIxz/ALIxZORjn/ZGLJyMc89MYspyP6/2xi0nIvr/AGxi2nI/r/bGLYyL6/2xi5LyM8/7Yxbl5Gef9sYuSsjPPHTGLkrI1c8dMYuSMjXzh0xi63yRfOHTFR/iO9tpktk1bBpJWLpp7fbWtPh1CCTBJPwN3udfqk6vgKcph7Ui3KW02VKEhIK1zL9atQFwJjCu1szZ+fpjCy18zZ+fpjCu1syZefpjCu1syZefpjCq18yZ+fpjCq18yZ+fpjCm18zZ+fpjCi1s0Z+fpjCe1szZ+fpjCe1s0Z+fpjCa180Z+fpjCa1szZ+fpjCa1szZefpjCW1s0Zefpi36Etan2gdrVKcSAblqlX+wTvBAMKB7ou9/T9vPKffJctriki6bLP5Vo3H9DFl2m1tdlIetV9qXMGralW1KtxGgGAYvgQDoBi+L9A0TZUtxKmSp0tK5cwFK0K7wUnWCIrWjlU+4DltethOPsE95lK8CjB+ApipnVPPAtN62yyBPk7FDeNyhsMNHbZ+2kum04TJMxPaSobR+hG0bIEXwDpB0AwIHqO2rZ+2nNXMlM2TMR2VoVqI/Q7jsisKWn049ISVTGc4kyJvy1lCvmII9+DdFH1VNsB0JThalMJyh+1RrKD40jeIkzpLiVLnSZqZkqYkKQtJvSUnUQdAOi+BF+gHQNA0WjZzO1Wc5m8lCZKmC4jaDsUk7FDYYqWnHtOv1t56SqUq8yJwHctH/ANG2B78G4xR1ZKsLttXiVzGSzeAk3mUraUg6wdojEum9zzkp64xMprc85KeuMTKa8Lzkp64xMprwvOSnrjE2mvC85KeuMTaa8LzlJ64xNprwveSnrjE6mvC95KeuMT6Z3POSnrjE+mdzzlJ6oxOpnc85Q6oxPpjc85SeqMT6YOx5yU9cYn0xue8lPXFY1tYFuWKtk1kT1zzNQpCpqAkIuPeoHtHX8APWv9S+L4vGjVo/4+Bs6zHtquA3ZN1TphBNydgG0k9wEYfVR/Ao5qIw9qj+BRzURh/VWXDmojD6qsuHNRGH1VZcOaiMPqqy4c1EYf1Xlf1ZfVGH9WZX9VHVGH1WZX9WX1Rh9VeWfVl9UYf1blJ5qOqMP6tyo81HVGH1W5T9VHVGH1XZSeajqi0qSt+yGxdPrPXLkhQSV9pKgCd/ZJ+As6z3dpu5LVrKMybMNwA/7JOwDaYpun29PMBIRcufMuLib41bh/KNnq3iL4ECO6Bd6m0d0fiBWMp6ldj2esKkBX7xOGpage5Cd6RtPvhDRrPeOJTeRKVMnTFBKEDWSYpSmJNPNSVkLezUj9rM2Aa+wn5DadI9QQDovgQNAivK2S2TPsezZl80jsOZwP5AdaE/PeYJJ99KlrmrQhAJWSAABeSdwikaTRYklLp0Ap/MRcdolJOwfPeY1QDov0iBoBi+AdNb1l/k6FWcwX+/LR7ax/oAjZ/OYUpSiSSSSbyT3kn39BubFZv5860ZqJc5KB/h1zPyJO0/JW6PSanh/vTXjj0mp7OmvHAqens6a8celFO501449Kacztrxx6U05nbXjj0ppzPGnHHpTTeeNOOPSqnM8accelVN54044FVU3njTjj0rprPWnHAqums8accelVNZ4044qav7PYNDLsp0hy7mC4LR3oljxE7VbhE+dNcTVzpswrmLUVKUokqJOsknWfgAbovMXnfF/wAzHai+L4vMdo747R3x2jvgKO+O18zHa+cXnfBJ/rX/AP/EADQRAAEDAQUFBAkFAAAAAAAAAAIAAQQDBRIUU5IREzBCVBUjMkMGICExM0RQUqIQImFyof/aAAgBAgEBPwD6pTpnVK6A3iT2fJ+z/U8GQ3InhyG5FhqzcqehUbkW7qfYnE25eBTA6piADeIlCgNFD2/ELxIhRCiFEKIUQqq93gWXXs+NT3lQu+/qitWC/m/i6e04b+annxcxFOi5iKZGfmRSo78yORS2ftJETk+1+BRgTK4bylQMhT2XO6U12ZOb5c12dMyDTwJWQawUnKNYORlIo9YG2vS4NkWoUM92fwS/H+UziY3hRCiFEKIUQog2+9S4z0ivD4eDY9rYd9xXLu+UvtRWlA6oEVowepBFPhZ4IpsPPBFMiZ4IpUbNBHXjG2x6oKsICbsBXh4AAVQhAAvES7Om9Kel1gJnSnpdYGY3y56Vg5TeQelYSVkHpWGkZJ6Vh6+UaISF9hD64iREIj73Vh2Jg6bSKw98X4ohRCiFEKIUQqVWCPTvEq1YqxuRev6Nw4Aji5MgN5yARN7EU6D1YamRTYXVBqZFMh9QGpkUqJ1AamRSonUBqZFJi54amVaXGpgRb0FKlHKqXn8PLwNqvOrzra6vP+u36t//xAA2EQABBAEBAwkECwEAAAAAAAACAAEDBAWiEjFDBhETFDAyQkRSICFBkhYjM1BTVGBhcrHB0f/aAAgBAwEBPwD70llCGMpJC2RT5jHtxtLp85jm42l0/KDFtvsaXT8pMS3mdLp+U+HbzOl0/KvCN5vS6+l+Cbfb0uqOQq5KBp6x7Ufd7rt/ftkTA3O+5ZC0dk9lvsxRgjBGCMEYI41hMBLl7PpgDvn/AIq1aGpBHBCGzGDcw+3binmbZDuosbYfwo8VbfhosNdfhamR4PIPwtTIsBkX4GpkfJzKPug1MoOSuSmmAZI+jDxntMqVOvQrhBCGyI6v3fsHkAX95J7ELeNPbr/GVddqNxl1+m3HBPk6Db7QJ8tjvjaBRZOhNIMYWgci7GWPbZHGjBGCMFJGjBOxCTEKwmYG4HQTF9cOrsZYtv3sjryP4UdSV+EjpWH4SPH2X3QGjxlx+AaPE338qaHFZSIwOOuYkKoS2ZawPZi6OT4/97F3ZOYN4l0sbeNl08P4oJ7EDcUF1mv+YD5l1uq3mA+ZkMkcjc4GxD2DROze9GCMFICMEYIwVelJbl2B3KtWjqxDFHub260cXNtmYI3i9aNg9aMWRx86OE/Qjry+hdSnM+ZgVatHWjYQb+X6F//Z\" /></svg>';function Ay(e){return Object.fromEntries(Object.entries(e).filter((([,e])=>void 0!==e)))}function by(e){return t=>{const{key:n=null,...r}=t;return{type:e,props:Ay(r),key:n}}}const Sy=by(\"Container\"),Ey=by(\"Box\"),xy=by(\"Heading\"),Ty=by(\"Text\"),ky=by(\"Section\"),Iy=by(\"Row\"),_y=by(\"Address\"),Cy=by(\"Image\"),Ry=by(\"Footer\"),Py=by(\"Button\");function Oy(e,t){return`${e}:${t}`}const Ny=JSON.parse('{\"D\":{\"send.title\":{\"message\":\"Send\"},\"send.balance\":{\"message\":\"Balance\"},\"send.maxButton\":{\"message\":\"Max\"},\"send.cancelButton\":{\"message\":\"Cancel\"},\"send.continueButton\":{\"message\":\"Continue\"},\"send.fromField\":{\"message\":\"From\"},\"send.toField\":{\"message\":\"To\"},\"send.amountField\":{\"message\":\"Amount\"},\"send.assetField\":{\"message\":\"Token\"},\"send.toPlaceholder\":{\"message\":\"Enter public address or domain name\"},\"send.fromRequiredError\":{\"message\":\"Account is required\"},\"send.amountRequiredError\":{\"message\":\"Amount is required\"},\"send.amountGreatherThanMinimumBalanceForRentExemptionError\":{\"message\":\"Amount must be greater than {minimumValue}\"},\"send.insuffientSolToCoverFee\":{\"message\":\"Insufficient SOL balance to cover the transaction fee\"},\"send.toRequiredError\":{\"message\":\"To address is required\"},\"send.toInvalidError\":{\"message\":\"Invalid Solana address or domain name\"},\"send.toInvalidErrorDomain\":{\"message\":\"Unable to resolve domain name\"},\"send.toDomainResolutionStatus.initial\":{\"message\":\"Domain\"},\"send.toDomainResolutionStatus.fetching\":{\"message\":\"Resolving domain name...\"},\"send.toDomainResolutionStatus.fetched\":{\"message\":\"Domain name resolved.\"},\"send.toDomainResolutionStatus.error\":{\"message\":\"Unable to resolve domain name.\"},\"send.insufficientBalance\":{\"message\":\"Insufficient balance\"},\"send.simulationTitleAPIError\":{\"message\":\"Because of an error, we couldn\\'t check for security alerts.\"},\"send.simulationMessageAPIError\":{\"message\":\"Only continue if you trust every address involved.\"},\"send.simulationTitleError\":{\"message\":\"Transaction simulation failed\"},\"send.simulationMessageError\":{\"message\":\"This transaction was reverted during simulation.\"},\"send.selectedTokenPriceNotAvailable\":{\"message\":\"Prices for tokens in {currency} are currently not available. You are still able to send tokens.\"},\"send.confirmation.title\":{\"message\":\"Review\"},\"send.confirmation.from\":{\"message\":\"From\"},\"send.confirmation.recipient\":{\"message\":\"Recipient\"},\"send.confirmation.network\":{\"message\":\"Network\"},\"send.confirmation.transactionSpeed\":{\"message\":\"Transaction speed\"},\"send.confirmation.fee\":{\"message\":\"Network fee\"},\"send.confirmation.sendButton\":{\"message\":\"Send\"},\"send.confirmation.cancelButton\":{\"message\":\"Cancel\"},\"send.confirmation.viewTransaction\":{\"message\":\"View transaction\"},\"send.send-pending.title\":{\"message\":\"Sending...\"},\"send.send-pending.subtitle\":{\"message\":\"Your transaction was submitted.\"},\"send.transaction-success.title\":{\"message\":\"Sent\"},\"send.transaction-success.subtitle\":{\"message\":\"{amount} {tokenSymbol} was successfully sent\"},\"send.transaction-failure.title\":{\"message\":\"Transaction failed\"},\"send.transaction-failure.subtitle\":{\"message\":\"Unable to send {amount} {tokenSymbol}\"},\"confirmation.account\":{\"message\":\"Account\"},\"confirmation.network\":{\"message\":\"Network\"},\"confirmation.estimatedChanges\":{\"message\":\"Estimated changes\"},\"confirmation.estimatedChanges.send\":{\"message\":\"You send\"},\"confirmation.estimatedChanges.receive\":{\"message\":\"You receive\"},\"confirmation.estimatedChanges.notAvailable\":{\"message\":\"Not available\"},\"confirmation.estimatedChanges.noChanges\":{\"message\":\"No changes\"},\"confirmation.estimatedChanges.tooltip\":{\"message\":\"Estimated changes are what might happen if you go through with this transaction. This is just a prediction, not a guarantee.\"},\"confirmation.advanced.show\":{\"message\":\"Show advanced\"},\"confirmation.advanced.hide\":{\"message\":\"Hide advanced\"},\"confirmation.cancelButton\":{\"message\":\"Cancel\"},\"confirmation.confirmButton\":{\"message\":\"Confirm\"},\"confirmation.signAndSendTransaction.title\":{\"message\":\"Transaction request\"},\"confirmation.signTransaction.title\":{\"message\":\"Signing request\"},\"confirmation.sendAndConfirmTransaction.title\":{\"message\":\"Sending and confirming transaction\"},\"confirmation.advanced.unknownInstruction\":{\"message\":\"Unknown\"},\"confirmation.advanced.programId\":{\"message\":\"Program ID\"},\"confirmation.advanced.data\":{\"message\":\"Data\"},\"confirmation.fee\":{\"message\":\"Network fee\"},\"confirmation.feeError\":{\"message\":\"Unable to estimate fee\"},\"confirmation.origin\":{\"message\":\"Request from\"},\"confirmation.origin.tooltip\":{\"message\":\"This is the site asking for your confirmation.\"},\"confirmation.simulationErrorTitle\":{\"message\":\"This transaction was reverted during simulation.\"},\"confirmation.simulationErrorSubtitle\":{\"message\":\"{reason}\"},\"confirmation.validationErrorTitle\":{\"message\":\"This is a deceptive request\"},\"confirmation.validationErrorSubtitle\":{\"message\":\"If you approve this request, a third party known for scams will take all your assets.\"},\"confirmation.validationErrorLearnMore\":{\"message\":\"Learn more\"},\"confirmation.validationErrorSecurityAdviced\":{\"message\":\"Security advice by\"},\"confirmation.signMessage.title\":{\"message\":\"Sign message\"},\"confirmation.signMessage.message\":{\"message\":\"Message\"},\"confirmation.signIn.title\":{\"message\":\"Sign-in request\"},\"confirmation.signIn.description\":{\"message\":\"A site wants you to sign in to prove you own this account.\"},\"confirmation.signIn.domain\":{\"message\":\"Domain\"},\"confirmation.signIn.unknownDomain\":{\"message\":\"Unknown domain\"},\"confirmation.signIn.signingInWith\":{\"message\":\"Signing in with\"},\"confirmation.signIn.badAccount\":{\"message\":\"This site is asking you to sign in using the wrong account.\"},\"confirmation.signIn.message\":{\"message\":\"Message\"},\"confirmation.signIn.statement\":{\"message\":\"Statement\"},\"confirmation.signIn.version\":{\"message\":\"Version\"},\"confirmation.signIn.chainId\":{\"message\":\"Chain ID\"},\"confirmation.signIn.nonce\":{\"message\":\"Nonce\"},\"confirmation.signIn.issuedAt\":{\"message\":\"Issued at\"},\"confirmation.signIn.expirationTime\":{\"message\":\"Expiration time\"},\"confirmation.signIn.notBefore\":{\"message\":\"Not before\"},\"confirmation.signIn.requestId\":{\"message\":\"Request ID\"},\"confirmation.signIn.resources\":{\"message\":\"Resources\"},\"confirmation.signIn.badDomain\":{\"message\":\"This site is asking you to sign in using the wrong domain.\"},\"transactionScan.errors.accountAlreadyInUse\":{\"message\":\"An account with the same address already exists.\"},\"transactionScan.errors.insufficientSol\":{\"message\":\"Account does not have enough SOL to perform the operation.\"},\"transactionScan.errors.slippageToleranceExceeded\":{\"message\":\"The transaction was reverted because the slippage tolerance was exceeded.\"},\"transactionScan.errors.unknownError\":{\"message\":\"An unknown error occurred.\"}}}'),By=JSON.parse('{\"D\":{\"send.title\":{\"message\":\"Enviar\"},\"send.balance\":{\"message\":\"Saldo\"},\"send.maxButton\":{\"message\":\"Máx.\"},\"send.cancelButton\":{\"message\":\"Cancelar\"},\"send.continueButton\":{\"message\":\"Continuar\"},\"send.fromField\":{\"message\":\"De\"},\"send.toField\":{\"message\":\"Para\"},\"send.amountField\":{\"message\":\"Monto\"},\"send.assetField\":{\"message\":\"Token\"},\"send.toPlaceholder\":{\"message\":\"Introduzca la dirección pública\"},\"send.fromRequiredError\":{\"message\":\"La cuenta es obligatoria\"},\"send.amountRequiredError\":{\"message\":\"El monto es obligatorio\"},\"send.amountGreatherThanMinimumBalanceForRentExemptionError\":{\"message\":\"El valor debe ser superior a {minimumValue}\"},\"send.insuffientSolToCoverFee\":{\"message\":\"Saldo de SOL insuficiente para cubrir la tarifa de transacción\"},\"send.toRequiredError\":{\"message\":\"La dirección del destinatario es obligatoria\"},\"send.toInvalidError\":{\"message\":\"Dirección de Solana no válida\"},\"send.insufficientBalance\":{\"message\":\"Saldo insuficiente\"},\"send.simulationTitleAPIError\":{\"message\":\"Debido a un error, no pudimos verificar las alertas de seguridad.\"},\"send.simulationMessageAPIError\":{\"message\":\"Continúa solo si confías en todas las direcciones involucradas.\"},\"send.simulationTitleError\":{\"message\":\"Simulación de transacción fallida\"},\"send.simulationMessageError\":{\"message\":\"Esta transacción se revirtió durante la simulación.\"},\"send.selectedTokenPriceNotAvailable\":{\"message\":\"Los precios de los tokens en {currency} no están disponibles actualmente. Aún puede enviar tokens.\"},\"send.confirmation.title\":{\"message\":\"Revisar\"},\"send.confirmation.from\":{\"message\":\"De\"},\"send.confirmation.recipient\":{\"message\":\"Destinatario\"},\"send.confirmation.network\":{\"message\":\"Red\"},\"send.confirmation.transactionSpeed\":{\"message\":\"Velocidad de la transacción\"},\"send.confirmation.fee\":{\"message\":\"Tarifa de red\"},\"send.confirmation.sendButton\":{\"message\":\"Enviar\"},\"send.confirmation.cancelButton\":{\"message\":\"Cancelar\"},\"send.confirmation.viewTransaction\":{\"message\":\"Ver transacción\"},\"send.send-pending.title\":{\"message\":\"Enviando...\"},\"send.send-pending.subtitle\":{\"message\":\"Se envió su transacción.\"},\"send.transaction-success.title\":{\"message\":\"Enviado\"},\"send.transaction-success.subtitle\":{\"message\":\"El envío de {amount} {tokenSymbol} se realizó correctamente\"},\"send.transaction-failure.title\":{\"message\":\"Transacción fallida\"},\"send.transaction-failure.subtitle\":{\"message\":\"Error al enviar {amount} {tokenSymbol}\"},\"confirmation.account\":{\"message\":\"Cuenta\"},\"confirmation.network\":{\"message\":\"Red\"},\"confirmation.estimatedChanges\":{\"message\":\"Cambios estimados\"},\"confirmation.estimatedChanges.send\":{\"message\":\"Usted envía\"},\"confirmation.estimatedChanges.receive\":{\"message\":\"Usted recibe\"},\"confirmation.estimatedChanges.notAvailable\":{\"message\":\"No disponible\"},\"confirmation.estimatedChanges.noChanges\":{\"message\":\"Sin cambios\"},\"confirmation.estimatedChanges.tooltip\":{\"message\":\"Los cambios estimados son los que podrían producirse si sigue adelante con esta transacción. Esto es solo una predicción, no una garantía.\"},\"confirmation.advanced.show\":{\"message\":\"Mostrar avanzadas\"},\"confirmation.advanced.hide\":{\"message\":\"Ocultar avanzadas\"},\"confirmation.cancelButton\":{\"message\":\"Cancelar\"},\"confirmation.confirmButton\":{\"message\":\"Confirmar\"},\"confirmation.signAndSendTransaction.title\":{\"message\":\"Solicitud de transacción\"},\"confirmation.signTransaction.title\":{\"message\":\"Signing request\"},\"confirmation.sendAndConfirmTransaction.title\":{\"message\":\"Sending and confirming transaction\"},\"confirmation.advanced.unknownInstruction\":{\"message\":\"Desconocida\"},\"confirmation.advanced.programId\":{\"message\":\"ID del programa\"},\"confirmation.advanced.data\":{\"message\":\"Datos\"},\"confirmation.fee\":{\"message\":\"Tarifa de red\"},\"confirmation.feeError\":{\"message\":\"No se puede calcular la tarifa\"},\"confirmation.origin\":{\"message\":\"Solicitud de\"},\"confirmation.origin.tooltip\":{\"message\":\"This is the site asking for your confirmation.\"},\"confirmation.simulationErrorTitle\":{\"message\":\"Esta transacción se revirtió durante la simulación.\"},\"confirmation.simulationErrorSubtitle\":{\"message\":\"Motivo: {reason}\"},\"confirmation.validationErrorTitle\":{\"message\":\"Esta es una solicitud engañosa\"},\"confirmation.validationErrorSubtitle\":{\"message\":\"Si aprueba esta solicitud, un tercero conocido por sus estafas se quedará con todos sus activos.\"},\"confirmation.validationErrorLearnMore\":{\"message\":\"Conozca más\"},\"confirmation.validationErrorSecurityAdviced\":{\"message\":\"Asesoramiento de seguridad por\"},\"confirmation.signMessage.title\":{\"message\":\"Firmar mensaje\"},\"confirmation.signMessage.message\":{\"message\":\"Mensaje\"},\"confirmation.signIn.title\":{\"message\":\"Solicitud de inicio de sesión\"},\"confirmation.signIn.description\":{\"message\":\"Un sitio quiere que inicie sesión para demostrar que usted es el titular de esta cuenta.\"},\"confirmation.signIn.domain\":{\"message\":\"Domain\"},\"confirmation.signIn.unknownDomain\":{\"message\":\"Dominio desconocido\"},\"confirmation.signIn.signingInWith\":{\"message\":\"Iniciar sesión con\"},\"confirmation.signIn.badAccount\":{\"message\":\"Este sitio le pide que inicie sesión con la cuenta incorrecta.\"},\"confirmation.signIn.message\":{\"message\":\"Mensaje\"},\"confirmation.signIn.statement\":{\"message\":\"Declaración\"},\"confirmation.signIn.version\":{\"message\":\"Versión\"},\"confirmation.signIn.chainId\":{\"message\":\"ID de cadena\"},\"confirmation.signIn.nonce\":{\"message\":\"Nonce\"},\"confirmation.signIn.issuedAt\":{\"message\":\"Emitido a las\"},\"confirmation.signIn.expirationTime\":{\"message\":\"Hora de caducidad\"},\"confirmation.signIn.notBefore\":{\"message\":\"No antes de\"},\"confirmation.signIn.requestId\":{\"message\":\"ID de solicitud\"},\"confirmation.signIn.resources\":{\"message\":\"Recursos\"},\"confirmation.signIn.badDomain\":{\"message\":\"This site is asking you to sign in using the wrong domain.\"},\"transactionScan.errors.accountAlreadyInUse\":{\"message\":\"Ya existe una cuenta con la misma dirección.\"},\"transactionScan.errors.insufficientSol\":{\"message\":\"La cuenta no tiene suficiente SOL para realizar la operación.\"},\"transactionScan.errors.slippageToleranceExceeded\":{\"message\":\"La transacción se revirtió porque se superó la tolerancia de deslizamiento.\"},\"transactionScan.errors.unknownError\":{\"message\":\"An unknown error occurred.\"}}}'),zy={en:Ny.D,es:By.D},My=\"en\";function jy(e){const t=zy[e]??zy[My];return(e,n)=>{let r=t?.[e]?.message??e;return n&&r&&Object.keys(n).forEach((e=>{const t=new RegExp(`\\\\{${e}\\\\}`,\"gu\");r=r.replace(t,n[e]??\"\")})),r}}const Uy=({label:e,value:t})=>null!=t?vy(Ey,{alignment:\"space-between\",direction:\"horizontal\",children:[yy(Ty,{fontWeight:\"medium\",color:\"alternative\",children:e}),yy(Ty,{children:t})]}):null,Dy=1e-6,Ly=3,$y=\"0\",Fy=new jo(Dy).decimalPlaces();function qy(e,t){const[n]=t.split(\"_\");try{const r=new jo(e);if(r.isNaN())return $y;if(r.isZero())return $y;if(r.abs().lt(Dy))return`<${function(e,t){const n=new jo(t),r=n.decimalPlaces(),o=n.toFixed(r??0),[i]=e.split(\"_\"),[a,s]=o.split(\".\"),c=new Intl.NumberFormat(i).format(a);return s?`${c}.${s}`:c}(t,Dy)}`;if(r.abs().lt(1))return new Intl.NumberFormat(n,{maximumSignificantDigits:Ly}).format(Number(r.toFixed(Fy??0)));const o=r.abs().integerValue().toString().length,i=Math.max(0,Ly-o+1);return new Intl.NumberFormat(t,{maximumFractionDigits:i}).format(r.toFixed(i))}catch(e){return console.error(e),$y}}function Wy(e,t,n){const r=new jo(e).toNumber(),[o]=n.split(\"_\");return r.toLocaleString(o,{style:\"currency\",currency:t,maximumFractionDigits:2,minimumFractionDigits:2})}const Vy=({asset:e,preferences:t})=>{const n=e.type;return vy(Ey,{direction:\"vertical\",crossAlignment:\"end\",children:[vy(Ey,{direction:\"horizontal\",alignment:\"center\",children:[vy(Ty,{color:\"in\"===n?\"success\":\"error\",children:[\"in\"===n?\"+\":\"-\",qy(e.value??0,t.locale)]}),e.imageSvg?yy(Ey,{alignment:\"center\",center:!0,children:yy(Cy,{borderRadius:\"full\",src:e.imageSvg})}):null,yy(Ty,{children:e.symbol??\"\"})]}),e.price?yy(Ty,{color:\"muted\",children:Wy(e.price.toString(),t.currency,t.locale)}):null]})},Ky=by(\"Tooltip\");var Gy;!function(e){e.AddSquare=\"add-square\",e.Add=\"add\",e.Arrow2Down=\"arrow-2-down\",e.Arrow2Left=\"arrow-2-left\",e.Arrow2Right=\"arrow-2-right\",e.Arrow2Up=\"arrow-2-up\",e.Arrow2UpRight=\"arrow-2-up-right\",e.ArrowDoubleLeft=\"arrow-double-left\",e.ArrowDoubleRight=\"arrow-double-right\",e.ArrowDown=\"arrow-down\",e.ArrowLeft=\"arrow-left\",e.ArrowRight=\"arrow-right\",e.ArrowUp=\"arrow-up\",e.BankToken=\"bank-token\",e.Bank=\"bank\",e.Book=\"book\",e.Bookmark=\"bookmark\",e.Bridge=\"bridge\",e.Calculator=\"calculator\",e.CardPos=\"card-pos\",e.CardToken=\"card-token\",e.Card=\"card\",e.Category=\"category\",e.Chart=\"chart\",e.CheckBold=\"check-bold\",e.Check=\"check\",e.Clock=\"clock\",e.Close=\"close\",e.CodeCircle=\"code-circle\",e.Coin=\"coin\",e.Confirmation=\"confirmation\",e.Connect=\"connect\",e.CopySuccess=\"copy-success\",e.Copy=\"copy\",e.Customize=\"customize\",e.Danger=\"danger\",e.Dark=\"dark\",e.Data=\"data\",e.Diagram=\"diagram\",e.DocumentCode=\"document-code\",e.DragDrop=\"drag-drop\",e.DraggingAnimation=\"dragging-animation\",e.PinningAnimation=\"pinning-animation\",e.Edit=\"edit\",e.Eraser=\"eraser\",e.Ethereum=\"ethereum\",e.Expand=\"expand\",e.Explore=\"explore\",e.Export=\"export\",e.EyeSlash=\"eye-slash\",e.Eye=\"eye\",e.Filter=\"filter\",e.Flag=\"flag\",e.FlashSlash=\"flash-slash\",e.Flash=\"flash\",e.FullCircle=\"full-circle\",e.Gas=\"gas\",e.GlobalSearch=\"global-search\",e.Global=\"global\",e.Graph=\"graph\",e.Hardware=\"hardware\",e.Heart=\"heart\",e.Hierarchy=\"hierarchy\",e.Home=\"home\",e.Import=\"import\",e.Info=\"info\",e.Key=\"key\",e.Light=\"light\",e.Link=\"link\",e.Loading=\"loading\",e.LockCircle=\"lock-circle\",e.LockSlash=\"lock-slash\",e.Lock=\"lock\",e.Login=\"login\",e.Logout=\"logout\",e.Menu=\"menu\",e.MessageQuestion=\"message-question\",e.Messages=\"messages\",e.MinusBold=\"minus-bold\",e.MinusSquare=\"minus-square\",e.Minus=\"minus\",e.Mobile=\"mobile\",e.Money=\"money\",e.Monitor=\"monitor\",e.MoreHorizontal=\"more-horizontal\",e.MoreVertical=\"more-vertical\",e.NotificationCircle=\"notification-circle\",e.Notification=\"notification\",e.PasswordCheck=\"password-check\",e.People=\"people\",e.Pin=\"pin\",e.ProgrammingArrows=\"programming-arrows\",e.Custody=\"custody\",e.Question=\"question\",e.Received=\"received\",e.Refresh=\"refresh\",e.Save=\"save\",e.ScanBarcode=\"scan-barcode\",e.ScanFocus=\"scan-focus\",e.Scan=\"scan\",e.Scroll=\"scroll\",e.Search=\"search\",e.SecurityCard=\"security-card\",e.SecurityCross=\"security-cross\",e.SecurityKey=\"security-key\",e.SecuritySearch=\"security-search\",e.SecuritySlash=\"security-slash\",e.SecurityTick=\"security-tick\",e.SecurityTime=\"security-time\",e.SecurityUser=\"security-user\",e.Security=\"security\",e.Send1=\"send-1\",e.Send2=\"send-2\",e.Setting=\"setting\",e.Slash=\"slash\",e.SnapsMobile=\"snaps-mobile\",e.SnapsPlus=\"snaps-plus\",e.Snaps=\"snaps\",e.Speedometer=\"speedometer\",e.Star=\"star\",e.Stake=\"stake\",e.Student=\"student\",e.SwapHorizontal=\"swap-horizontal\",e.SwapVertical=\"swap-vertical\",e.Tag=\"tag\",e.Tilde=\"tilde\",e.Timer=\"timer\",e.Trash=\"trash\",e.TrendDown=\"trend-down\",e.TrendUp=\"trend-up\",e.UserCircleAdd=\"user-circle-add\",e.UserCircleLink=\"user-circle-link\",e.UserCircleRemove=\"user-circle-remove\",e.UserCircle=\"user-circle\",e.User=\"user\",e.WalletCard=\"wallet-card\",e.WalletMoney=\"wallet-money\",e.Wallet=\"wallet\",e.Warning=\"warning\",e.Twitter=\"twitter\",e.QrCode=\"qr-code\",e.UserCheck=\"user-check\",e.Unpin=\"unpin\",e.Ban=\"ban\",e.Bold=\"bold\",e.CircleX=\"circle-x\",e.Download=\"download\",e.FileIcon=\"file\",e.Flask=\"flask\",e.Plug=\"plug\",e.Share=\"share\",e.Square=\"square\",e.Tint=\"tint\",e.Upload=\"upload\",e.Usb=\"usb\",e.Wifi=\"wifi\",e.PlusMinus=\"plus-minus\"}(Gy||(Gy={}));const Hy=by(\"Icon\"),Jy=({preferences:e})=>{const t=jy(e.locale);return vy(Ey,{direction:\"horizontal\",center:!0,children:[yy(Ty,{fontWeight:\"medium\",children:t(\"confirmation.estimatedChanges\")}),yy(Ky,{content:t(\"confirmation.estimatedChanges.tooltip\"),children:yy(Hy,{name:\"info\"})})]})},Zy=by(\"Skeleton\"),Yy=({preferences:e})=>{const t=jy(e.locale);return vy(ky,{direction:\"vertical\",children:[yy(Jy,{preferences:e}),vy(Ey,{alignment:\"space-between\",direction:\"horizontal\",children:[yy(Ty,{fontWeight:\"medium\",color:\"alternative\",children:t(\"confirmation.estimatedChanges.send\")}),yy(Ey,{children:vy(Ey,{direction:\"vertical\",crossAlignment:\"end\",children:[yy(Zy,{width:100,height:20}),yy(Zy,{width:40,height:20})]})})]}),vy(Ey,{alignment:\"space-between\",direction:\"horizontal\",children:[yy(Ty,{fontWeight:\"medium\",color:\"alternative\",children:t(\"confirmation.estimatedChanges.receive\")}),yy(Ey,{children:vy(Ey,{direction:\"vertical\",crossAlignment:\"end\",children:[yy(Zy,{width:100,height:20}),yy(Zy,{width:40,height:20})]})})]})]})},Xy=({changes:e,preferences:t,scanFetchStatus:n,scanStatus:r})=>{const o=jy(t.locale),i=\"fetched\"===n,a=\"error\"===n;if(\"fetching\"===n)return yy(Yy,{preferences:t});if(a||i&&\"ERROR\"===r)return vy(ky,{direction:\"vertical\",children:[yy(Jy,{preferences:t}),yy(Ty,{color:\"alternative\",children:o(\"confirmation.estimatedChanges.notAvailable\")})]});const s=e?.assets.filter((e=>\"out\"===e.type))??[],c=e?.assets.filter((e=>\"in\"===e.type))??[],u=s.length>0||c.length>0;return vy(ky,i&&!u?{direction:\"vertical\",children:[yy(Jy,{preferences:t}),yy(Ty,{color:\"alternative\",children:o(\"confirmation.estimatedChanges.noChanges\")})]}:{children:[yy(Jy,{preferences:t}),s?.length>0?vy(Ey,{alignment:\"space-between\",direction:\"horizontal\",children:[yy(Ty,{fontWeight:\"medium\",color:\"alternative\",children:o(\"confirmation.estimatedChanges.send\")}),yy(Ey,{children:yy(Ey,{children:s?.map((e=>yy(Vy,{asset:e,preferences:t})))})})]}):null,yy(Ey,{children:null}),c?.length>0?vy(Ey,{alignment:\"space-between\",direction:\"horizontal\",children:[yy(Ty,{fontWeight:\"medium\",color:\"alternative\",children:o(\"confirmation.estimatedChanges.receive\")}),yy(Ey,{children:yy(Ey,{children:c?.map((e=>yy(Vy,{asset:e,preferences:t})))})})]}):null]})};var Qy=function(e){return e.Cancel=\"confirm-sign-in-cancel\",e.Confirm=\"confirm-sign-in-confirm\",e}({});const ev={\"confirm-sign-in-cancel\":async function({id:e}){await Lm(e,!1)},\"confirm-sign-in-confirm\":async function({id:e}){await Lm(e,!0)}},tv=({params:e,origin:t,account:n,scope:r,preferences:o,networkImage:i})=>{const a=jy(o.locale),s=t?new URL(t).hostname:null,{domain:c,statement:u,uri:l,version:d,chainId:f,nonce:h,issuedAt:p,expirationTime:g,notBefore:m,requestId:y,resources:v,address:w}=e,A=Oy(r,n.address),b=w?Oy(r,w):null,S=b!==A,E=c!==s;return vy(Sy,{children:[vy(Ey,{children:[vy(Ey,{alignment:\"center\",center:!0,children:[yy(Ey,{children:null}),yy(xy,{size:\"lg\",children:a(\"confirmation.signIn.title\")}),yy(Ty,{color:\"muted\",alignment:\"center\",children:a(\"confirmation.signIn.description\")})]}),o.simulateOnChainActions?yy(Xy,{changes:null,scanStatus:null,preferences:o,scanFetchStatus:\"fetched\"}):null,vy(ky,{children:[s?yy(Iy,{label:a(\"confirmation.origin\"),tooltip:a(\"confirmation.origin.tooltip\"),children:yy(Ty,{children:s})}):null,yy(Iy,{variant:E?\"critical\":\"default\",label:a(\"confirmation.signIn.domain\"),tooltip:E?a(\"confirmation.signIn.badDomain\"):void 0,children:yy(Ty,{children:c??a(\"confirmation.signIn.unknownDomain\")})}),yy(Iy,{label:a(\"confirmation.signIn.signingInWith\"),tooltip:S?a(\"confirmation.signIn.badAccount\"):void 0,variant:S?\"warning\":\"default\",children:yy(_y,{address:A,truncate:!0,displayName:!0,avatar:!0})})]}),vy(ky,{children:[yy(Ty,{fontWeight:\"medium\",children:a(\"confirmation.signIn.message\")}),yy(Ty,{children:u??\"\"}),yy(Uy,{label:\"URL\",value:l}),vy(Ey,{alignment:\"space-between\",direction:\"horizontal\",children:[yy(Ty,{fontWeight:\"medium\",color:\"alternative\",children:a(\"confirmation.network\")}),vy(Ey,{direction:\"horizontal\",alignment:\"center\",children:[yy(Ey,{alignment:\"center\",center:!0,children:yy(Cy,{borderRadius:\"medium\",src:i??wy})}),yy(Ty,{children:sc[r].name})]})]}),b?vy(Ey,{alignment:\"space-between\",direction:\"horizontal\",children:[yy(Ty,{fontWeight:\"medium\",color:\"alternative\",children:a(\"confirmation.account\")}),yy(_y,{address:b,truncate:!0,displayName:!0,avatar:!0})]}):null,yy(Uy,{label:a(\"confirmation.signIn.version\"),value:d}),yy(Uy,{label:a(\"confirmation.signIn.chainId\"),value:f}),yy(Uy,{label:a(\"confirmation.signIn.nonce\"),value:h}),yy(Uy,{label:a(\"confirmation.signIn.issuedAt\"),value:p}),yy(Uy,{label:a(\"confirmation.signIn.expirationTime\"),value:g}),yy(Uy,{label:a(\"confirmation.signIn.notBefore\"),value:m}),yy(Uy,{label:a(\"confirmation.signIn.requestId\"),value:y}),v&&v.length>0?vy(Ey,{alignment:\"space-between\",direction:\"vertical\",children:[yy(Ty,{fontWeight:\"medium\",color:\"alternative\",children:a(\"confirmation.signIn.resources\")}),yy(Ey,{direction:\"vertical\",children:v.map((e=>yy(Ty,{children:e},e)))})]}):null]})]}),vy(Ry,{children:[yy(Py,{name:Qy.Cancel,children:a(\"confirmation.cancelButton\")}),yy(Py,{name:Qy.Confirm,variant:E?\"destructive\":\"primary\",children:a(\"confirmation.confirmButton\")})]})]})};var nv=function(e){return e.Cancel=\"confirm-sign-message-cancel\",e.Confirm=\"confirm-sign-message-confirm\",e}({});const rv={\"confirm-sign-message-cancel\":async function({id:e}){await Lm(e,!1)},\"confirm-sign-message-confirm\":async function({id:e}){await Lm(e,!0)}},ov=({message:e,account:t,scope:n,locale:r,networkImage:o,origin:i})=>{const a=jy(r),{address:s}=t,c=i?new URL(i).hostname:null,u=Oy(n,s);return vy(Sy,{children:[vy(Ey,{children:[vy(Ey,{alignment:\"center\",center:!0,children:[yy(Ey,{children:null}),yy(xy,{size:\"lg\",children:a(\"confirmation.signMessage.title\")})]}),vy(ky,{children:[yy(Ey,{direction:\"horizontal\",center:!0,children:yy(Ty,{fontWeight:\"medium\",children:a(\"confirmation.signMessage.message\")})}),yy(Ey,{alignment:\"space-between\",children:yy(Ty,{children:e})})]}),vy(ky,{children:[c?vy(Ey,{alignment:\"space-between\",direction:\"horizontal\",children:[vy(Ey,{alignment:\"space-between\",direction:\"horizontal\",center:!0,children:[yy(Ty,{fontWeight:\"medium\",color:\"alternative\",children:a(\"confirmation.origin\")}),yy(Ky,{content:a(\"confirmation.origin.tooltip\"),children:yy(Hy,{name:\"question\",color:\"muted\"})})]}),yy(Ty,{children:c})]}):null,vy(Ey,{alignment:\"space-between\",direction:\"horizontal\",children:[yy(Ty,{fontWeight:\"medium\",color:\"alternative\",children:a(\"confirmation.account\")}),yy(_y,{address:u,truncate:!0,displayName:!0,avatar:!0})]}),vy(Ey,{alignment:\"space-between\",direction:\"horizontal\",children:[yy(Ty,{fontWeight:\"medium\",color:\"alternative\",children:a(\"confirmation.network\")}),vy(Ey,{direction:\"horizontal\",alignment:\"center\",children:[yy(Ey,{alignment:\"center\",center:!0,children:yy(Cy,{borderRadius:\"medium\",src:o??wy})}),yy(Ty,{children:sc[n].name})]})]})]})]}),vy(Ry,{children:[yy(Py,{name:nv.Cancel,children:a(\"confirmation.cancelButton\")}),yy(Py,{name:nv.Confirm,children:a(\"confirmation.confirmButton\")})]})]})};const iv=e=>jo(e.toString()).dividedBy(ec),av=e=>jo(e.toString()).multipliedBy(ec).integerValue(jo.ROUND_DOWN);var sv=function(e){return e.ShowAdvanced=\"confirm-sign-and-send-transaction-show-advanced\",e.Cancel=\"confirm-sign-and-send-transaction-cancel\",e.Confirm=\"confirm-sign-and-send-transaction-confirm\",e}({});const cv={\"confirm-sign-and-send-transaction-show-advanced\":async function({id:e,context:t}){const n={...t,advanced:{...t.advanced,shown:!t.advanced.shown}};await Dm(e,yy(Ev,{context:n}),n)},\"confirm-sign-and-send-transaction-cancel\":async function({id:e}){await Lm(e,!1)},\"confirm-sign-and-send-transaction-confirm\":async function({id:e}){await Lm(e,!0)}},uv=by(\"Link\");function lv(e,t,n){const{cluster:r}=sc[e];return Ec({baseUrl:\"https://solscan.io\",path:`/${t}/${n}`,queryParams:r?{cluster:r}:void 0})}const dv=e=>e.replace(/([A-Z])/gu,\" $1\").trim().replace(/^./u,(e=>e.toUpperCase())),fv=({address:e,scope:t})=>yy(uv,{href:lv(t,\"address\",e),children:yy(_y,{avatar:!1,address:Oy(t,e),truncate:!0})}),hv=({instruction:e,scope:t,locale:n})=>{const r=jy(n),{type:o,encoded:i,parsed:a}=e,{programAddress:s,dataBase58:c}=i,u=null!==a,l=dv(o);return vy(ky,{alignment:\"start\",children:[yy(Ty,{color:\"alternative\",fontWeight:\"bold\",children:l}),vy(Ey,{alignment:\"space-between\",direction:\"horizontal\",children:[yy(Ty,{color:\"alternative\",alignment:\"start\",children:r(\"confirmation.advanced.programId\")}),yy(fv,{address:s,scope:t})]}),u&&Object.entries(a.accounts??{}).map((([e,n])=>vy(Ey,{alignment:\"space-between\",direction:\"horizontal\",children:[yy(Ty,{color:\"alternative\",children:dv(e)}),Ns(n.address)?yy(fv,{address:n.address,scope:t}):yy(Ty,{children:Bm(n.address)?.toString()??\"\"})]}))),u&&Object.entries(a.data).map((([e,n])=>vy(Ey,{alignment:\"space-between\",direction:\"horizontal\",children:[yy(Ty,{color:\"alternative\",children:dv(e)}),Ns(n)?yy(fv,{address:n,scope:t}):yy(Ty,{children:Bm(n)?.toString()??\"\"})]}))),!u&&vy(Ey,{alignment:\"space-between\",direction:\"horizontal\",children:[yy(Ty,{color:\"alternative\",children:r(\"confirmation.advanced.data\")}),yy(Ty,{children:(d=c,d.length>12?`${d.slice(0,5)}...${d.slice(-5)}`:d)})]})]});var d},pv=({instructions:e,showInstructions:t,locale:n,scope:r})=>{const o=jy(n),i=t?\"hide\":\"show\",a=t?\"arrow-up\":\"arrow-down\";return vy(Ey,{alignment:\"start\",children:[vy(Py,{name:sv.ShowAdvanced,children:[o(`confirmation.advanced.${i}`),\"&nbsp;\",yy(Hy,{name:a,color:\"primary\"})]}),t&&yy(Ey,{children:e.map((e=>yy(hv,{locale:n,scope:r,instruction:e})))})]})},gv=by(\"Banner\"),mv={AccountAlreadyInUse:\"transactionScan.errors.accountAlreadyInUse\",ResultWithNegativeLamports:\"transactionScan.errors.insufficientSol\",SlippageToleranceExceeded:\"transactionScan.errors.slippageToleranceExceeded\",ExceededDesiredSlippageLimit:\"transactionScan.errors.slippageToleranceExceeded\"};function yv(e,t){const n=jy(t.locale),{code:r}=e;return n((r&&mv[r])??\"transactionScan.errors.unknownError\")}const vv={Malicious:\"danger\",Warning:\"warning\"},wv=({preferences:e,validation:t,error:n,scanFetchStatus:r})=>{const o=jy(e.locale);if(\"error\"===r)return yy(gv,{title:o(\"send.simulationTitleAPIError\"),severity:\"danger\",children:yy(Ty,{children:o(\"send.simulationMessageAPIError\")})});if(!n&&!t)return yy(Ey,{children:null});if(n)return yy(gv,{title:o(\"confirmation.simulationErrorTitle\"),severity:\"warning\",children:yy(Ty,{children:o(\"confirmation.simulationErrorSubtitle\",{reason:yv(n,e)})})});if(!t)return yy(Ey,{children:null});const i=t?.type?vv[t.type]:void 0;return i?vy(gv,{title:o(\"confirmation.validationErrorTitle\"),severity:i,children:[yy(Ty,{children:o(\"confirmation.validationErrorSubtitle\")}),yy(Ty,{size:\"sm\",children:yy(uv,{href:\"https://support.metamask.io/configure/wallet/how-to-turn-on-security-alerts/\",children:o(\"confirmation.validationErrorLearnMore\")})}),vy(Ty,{size:\"sm\",children:[yy(Hy,{color:\"primary\",name:\"security-tick\"}),\" \",o(\"confirmation.validationErrorSecurityAdviced\"),\" \",yy(uv,{href:\"https://www.blockaid.io\",children:\"Blockaid\"})]})]}):yy(Ey,{children:null})};function Av(e,t,n){return`${qy(e,n)} ${t}`}function bv(e,t){return new jo(e).multipliedBy(t).toString()}const Sv=({origin:e,accountAddress:t,scope:n,feeInSol:r,nativePrice:o,fetchingPricesStatus:i,preferences:a,networkImage:s})=>{const{currency:c,locale:u}=a,l=jy(u),d=e?new URL(e).hostname:null,f=\"fetching\"===i,h=r&&o&&!(\"error\"===i)?Wy(bv(r,o),c,u):\"\";return vy(ky,{children:[d?vy(Ey,{children:[vy(Ey,{alignment:\"space-between\",direction:\"horizontal\",children:[vy(Ey,{alignment:\"space-between\",direction:\"horizontal\",center:!0,children:[yy(Ty,{fontWeight:\"medium\",color:\"alternative\",children:l(\"confirmation.origin\")}),yy(Ky,{content:l(\"confirmation.origin.tooltip\"),children:yy(Hy,{name:\"question\",color:\"muted\"})})]}),yy(Ty,{children:d})]}),yy(Ey,{children:null})]}):null,vy(Ey,{alignment:\"space-between\",direction:\"horizontal\",children:[yy(Ty,{fontWeight:\"medium\",color:\"alternative\",children:l(\"confirmation.account\")}),yy(_y,{address:Oy(n,t),truncate:!0,displayName:!0,avatar:!0})]}),yy(Ey,{children:null}),vy(Ey,{alignment:\"space-between\",direction:\"horizontal\",children:[yy(Ty,{fontWeight:\"medium\",color:\"alternative\",children:l(\"confirmation.network\")}),vy(Ey,{direction:\"horizontal\",alignment:\"center\",children:[yy(Ey,{alignment:\"center\",center:!0,children:yy(Cy,{borderRadius:\"medium\",src:s??\"\"})}),yy(Ty,{children:sc[n].name})]})]}),yy(Ey,{children:null}),vy(Ey,{alignment:\"space-between\",direction:\"horizontal\",children:[yy(Ty,{fontWeight:\"medium\",color:\"alternative\",children:l(\"confirmation.fee\")}),r?vy(Ey,{direction:\"horizontal\",alignment:\"center\",children:[f?yy(Zy,{width:80}):yy(Ty,{color:\"muted\",children:h}),yy(Ty,{children:Av(r,sc[n].nativeToken.symbol,u)})]}):yy(Ky,{content:l(\"confirmation.feeError\"),children:yy(Hy,{name:\"warning\"})})]})]})},Ev=({context:e})=>{const t=jy(e.preferences.locale),n=e.feeEstimatedInSol,{nativeToken:r}=sc[e.scope],o=e.tokenPrices[r.caip19Id]?.price??null,i=\"fetching\"===e.scanFetchStatus||\"ERROR\"===e.scan?.status;return vy(Sy,{children:[vy(Ey,{children:[e.preferences.useSecurityAlerts?yy(wv,{scanFetchStatus:e.scanFetchStatus,validation:e.scan?.validation??null,error:e.scan?.error??null,preferences:e.preferences}):null,vy(Ey,{alignment:\"center\",center:!0,children:[yy(Ey,{children:null}),yy(xy,{size:\"lg\",children:t(`confirmation.${e.method}.title`)}),yy(Ey,{children:null})]}),e.preferences.simulateOnChainActions?yy(Xy,{scanStatus:e.scan?.status??null,scanFetchStatus:e.scanFetchStatus,changes:e.scan?.estimatedChanges??null,preferences:e.preferences}):null,yy(Sv,{accountAddress:e.account?.address??null,scope:e.scope,feeInSol:n,nativePrice:o,fetchingPricesStatus:e.tokenPricesFetchStatus,preferences:e.preferences,networkImage:e.networkImage,origin:e.origin}),yy(pv,{instructions:e.advanced.instructions,showInstructions:e.advanced.shown,locale:e.preferences.locale,scope:e.scope})]}),vy(Ry,{children:[yy(Py,{name:sv.Cancel,children:t(\"confirmation.cancelButton\")}),yy(Py,{name:sv.Confirm,disabled:i,children:t(\"confirmation.confirmButton\")})]})]})},xv={method:Ft.SignAndSendTransaction,scope:nc.Mainnet,networkImage:wy,account:null,transaction:\"\",scan:null,scanFetchStatus:\"fetching\",feeEstimatedInSol:\"0\",tokenPrices:{},tokenPricesFetchStatus:\"fetching\",origin:\"\",preferences:{locale:\"en\",currency:\"usd\",hideBalances:!1,useSecurityAlerts:!0,useExternalPricingData:!0,simulateOnChainActions:!0,useTokenDetection:!0,batchCheckBalances:!0,displayNftMedia:!0,useNftDetection:!0},advanced:{shown:!1,instructions:[]}};var Tv=function(e){return e.OnTransactionAdded=\"onTransactionAdded\",e.OnTransactionApproved=\"onTransactionApproved\",e.OnTransactionRejected=\"onTransactionRejected\",e.OnAccountsRefresh=\"onAccountsRefresh\",e}({});function kv(e){return JSON.parse(function(e){const t=[];let n=!1;for(let r=0;r<e.length;r++){let o=!1;if(\"\\\\\"===e[r]&&(t.push(e[r++]),o=!o),'\"'!==e[r]){if(!n){const n=Iv(e,r);if(n?.length){r+=n.length-1,n.match(/\\.|[eE]-/)?t.push(n):t.push(_v(n));continue}}t.push(e[r])}else t.push(e[r]),o||(n=!n)}return t.join(\"\")}(e),((e,t)=>function(e){return!!e&&\"object\"==typeof e&&\"$n\"in e&&\"string\"==typeof e.$n}(t)?function({$n:e}){if(e.match(/[eE]/)){const[t,n]=e.split(/[eE]/);return BigInt(t)*BigInt(10)**BigInt(n)}return BigInt(e)}(t):t))}function Iv(e,t){if(!e[t]?.match(/[-\\d]/))return null;const n=e.slice(t).match(/^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/);return n?n[0]:null}function _v(e){return`{\"$n\":\"${e}\"}`}var Cv=0n;function Rv(){const e=Cv;return Cv++,e.toString()}function Pv(e){return function(e){return new Proxy(e.api,{defineProperty:()=>!1,deleteProperty:()=>!1,get:(t,n,r)=>function(...o){const i=n.toString(),a=Reflect.get(t,i,r);if(!a)throw new Ba(_a,{method:i,params:o});const s=a(...o);return function({transport:e},t){return{send:async n=>await t.execute({signal:n?.abortSignal,transport:e})}}(e,s)}})}(e)}function Ov(e){return new Proxy({},{defineProperty:()=>!1,deleteProperty:()=>!1,get(...t){const[n,r]=t,o=r.toString();return function(...t){const n=Object.freeze({methodName:o,params:t}),r=e?.requestTransformer?e?.requestTransformer(n):n;return Object.freeze({execute:async({signal:t,transport:n})=>{const o=function(e){return{id:Rv(),jsonrpc:\"2.0\",method:e.methodName,params:e.params}}(r),i=await n({payload:o,signal:t});return e?.responseTransformer?e.responseTransformer(i,r):i}})}}})}function Nv(e){return null!=e&&\"object\"==typeof e&&!Array.isArray(e)&&(\"jsonrpc\"in e&&\"2.0\"===e.jsonrpc&&\"method\"in e&&\"string\"==typeof e.method&&\"params\"in e)}var Bv={};function zv(e){return function t(n,r){if(Array.isArray(n))return n.map(((e,n)=>{const o={...r,keyPath:[...r.keyPath,n]};return t(e,o)}));if(\"object\"==typeof n&&null!==n){const e={};for(const o in n){if(!Object.prototype.hasOwnProperty.call(n,o))continue;const i={...r,keyPath:[...r.keyPath,o]};e[o]=t(n[o],i)}return e}return e.reduce(((e,t)=>t(e,r)),n)}}function Mv(e,t){return n=>{const r=zv(e);return Object.freeze({...n,params:r(n.params,t)})}}function jv(e){return\"bigint\"==typeof e?Number(e):e}function Uv({commitmentPropertyName:e,params:t,optionsObjectPositionInParams:n,overrideCommitment:r}){const o=t[n];if(void 0===o||o&&\"object\"==typeof o&&!Array.isArray(o))if(o&&e in o){if(!o[e]||\"finalized\"===o[e]){const r=[...t],{[e]:i,...a}=o;return Object.keys(a).length>0?r[n]=a:n===r.length-1?r.length--:r[n]=void 0,r}}else if(\"finalized\"!==r){const i=[...t];return i[n]={...o,[e]:r},i}return t}function Dv(e){return(t,{keyPath:n})=>(\"bigint\"==typeof t&&e&&(t>Number.MAX_SAFE_INTEGER||t<-Number.MAX_SAFE_INTEGER)&&e(n,t),t)}var Lv={accountNotifications:1,blockNotifications:1,getAccountInfo:1,getBalance:1,getBlock:1,getBlockHeight:0,getBlockProduction:0,getBlocks:2,getBlocksWithLimit:2,getEpochInfo:0,getFeeForMessage:1,getInflationGovernor:0,getInflationReward:1,getLargestAccounts:0,getLatestBlockhash:0,getLeaderSchedule:1,getMinimumBalanceForRentExemption:1,getMultipleAccounts:1,getProgramAccounts:1,getSignaturesForAddress:1,getSlot:0,getSlotLeader:0,getStakeMinimumDelegation:0,getSupply:0,getTokenAccountBalance:1,getTokenAccountsByDelegate:2,getTokenAccountsByOwner:2,getTokenLargestAccounts:1,getTokenSupply:1,getTransaction:1,getTransactionCount:0,getVoteAccounts:0,isBlockhashValid:1,logsNotifications:1,programNotifications:1,requestAirdrop:2,sendTransaction:1,signatureNotifications:1,simulateTransaction:1};function $v(e){const t=e?.onIntegerOverflow;return n=>{return $u(n,t?(r=t,e=>Mv([Dv(((...t)=>r(e,...t)))],{keyPath:[]})(e)):e=>e,Mv([jv],{keyPath:[]}),function({defaultCommitment:e,optionsObjectPositionByMethod:t}){return n=>{const{params:r,methodName:o}=n;if(!Array.isArray(r))return n;const i=t[o];return null==i?n:Object.freeze({methodName:o,params:Uv({commitmentPropertyName:\"sendTransaction\"===o?\"preflightCommitment\":\"commitment\",optionsObjectPositionInParams:i,overrideCommitment:e,params:r})})}}({defaultCommitment:e?.defaultCommitment,optionsObjectPositionByMethod:Lv}));var r}}function Fv(e){return t=[qv(e)],n={keyPath:[]},e=>zv(t)(e,n);var t,n}function qv(e){return function(t,{keyPath:n}){return\"number\"==typeof t&&Number.isInteger(t)||\"bigint\"==typeof t?function(e,t){return t.some((t=>{if(t.length!==e.length)return!1;for(let n=e.length-1;n>=0;n--){const r=e[n],o=t[n];if(o!==r&&(o!==Bv||\"number\"!=typeof r))return!1}return!0}))}(n,e)?Number(t):BigInt(t):t}}function Wv(e){return(t,n)=>{const r=n.methodName,o=e?.allowedNumericKeyPaths&&r?e.allowedNumericKeyPaths[r]:void 0;return $u(t,(e=>(e=>{const t=e;if(\"error\"in t)throw $a(t.error);return t})(e)),(e=>e.result),(e=>Fv(o??[])(e,n)))}}var Vv,Kv=[[\"data\",\"parsed\",\"info\",\"tokenAmount\",\"decimals\"],[\"data\",\"parsed\",\"info\",\"tokenAmount\",\"uiAmount\"],[\"data\",\"parsed\",\"info\",\"rentExemptReserve\",\"decimals\"],[\"data\",\"parsed\",\"info\",\"rentExemptReserve\",\"uiAmount\"],[\"data\",\"parsed\",\"info\",\"delegatedAmount\",\"decimals\"],[\"data\",\"parsed\",\"info\",\"delegatedAmount\",\"uiAmount\"],[\"data\",\"parsed\",\"info\",\"extensions\",Bv,\"state\",\"olderTransferFee\",\"transferFeeBasisPoints\"],[\"data\",\"parsed\",\"info\",\"extensions\",Bv,\"state\",\"newerTransferFee\",\"transferFeeBasisPoints\"],[\"data\",\"parsed\",\"info\",\"extensions\",Bv,\"state\",\"preUpdateAverageRate\"],[\"data\",\"parsed\",\"info\",\"extensions\",Bv,\"state\",\"currentRate\"]],Gv=[...Kv,[\"data\",\"parsed\",\"info\",\"lastExtendedSlotStartIndex\"],[\"data\",\"parsed\",\"info\",\"slashPenalty\"],[\"data\",\"parsed\",\"info\",\"warmupCooldownRate\"],[\"data\",\"parsed\",\"info\",\"decimals\"],[\"data\",\"parsed\",\"info\",\"numRequiredSigners\"],[\"data\",\"parsed\",\"info\",\"numValidSigners\"],[\"data\",\"parsed\",\"info\",\"stake\",\"delegation\",\"warmupCooldownRate\"],[\"data\",\"parsed\",\"info\",\"exemptionThreshold\"],[\"data\",\"parsed\",\"info\",\"burnPercent\"],[\"data\",\"parsed\",\"info\",\"commission\"],[\"data\",\"parsed\",\"info\",\"votes\",Bv,\"confirmationCount\"]],Hv=[[\"index\"],[\"instructions\",Bv,\"accounts\",Bv],[\"instructions\",Bv,\"programIdIndex\"],[\"instructions\",Bv,\"stackHeight\"]],Jv=[[\"addressTableLookups\",Bv,\"writableIndexes\",Bv],[\"addressTableLookups\",Bv,\"readonlyIndexes\",Bv],[\"header\",\"numReadonlySignedAccounts\"],[\"header\",\"numReadonlyUnsignedAccounts\"],[\"header\",\"numRequiredSignatures\"],[\"instructions\",Bv,\"accounts\",Bv],[\"instructions\",Bv,\"programIdIndex\"],[\"instructions\",Bv,\"stackHeight\"]];function Zv(e){return Ov({requestTransformer:$v(e),responseTransformer:Wv({allowedNumericKeyPaths:Yv()})})}function Yv(){return Vv||(Vv={getAccountInfo:Gv.map((e=>[\"value\",...e])),getBlock:[[\"transactions\",Bv,\"meta\",\"preTokenBalances\",Bv,\"accountIndex\"],[\"transactions\",Bv,\"meta\",\"preTokenBalances\",Bv,\"uiTokenAmount\",\"decimals\"],[\"transactions\",Bv,\"meta\",\"postTokenBalances\",Bv,\"accountIndex\"],[\"transactions\",Bv,\"meta\",\"postTokenBalances\",Bv,\"uiTokenAmount\",\"decimals\"],[\"transactions\",Bv,\"meta\",\"rewards\",Bv,\"commission\"],...Hv.map((e=>[\"transactions\",Bv,\"meta\",\"innerInstructions\",Bv,...e])),...Jv.map((e=>[\"transactions\",Bv,\"transaction\",\"message\",...e])),[\"rewards\",Bv,\"commission\"]],getClusterNodes:[[Bv,\"featureSet\"],[Bv,\"shredVersion\"]],getInflationGovernor:[[\"initial\"],[\"foundation\"],[\"foundationTerm\"],[\"taper\"],[\"terminal\"]],getInflationRate:[[\"foundation\"],[\"total\"],[\"validator\"]],getInflationReward:[[Bv,\"commission\"]],getMultipleAccounts:Gv.map((e=>[\"value\",Bv,...e])),getProgramAccounts:Gv.flatMap((e=>[[\"value\",Bv,\"account\",...e],[Bv,\"account\",...e]])),getRecentPerformanceSamples:[[Bv,\"samplePeriodSecs\"]],getTokenAccountBalance:[[\"value\",\"decimals\"],[\"value\",\"uiAmount\"]],getTokenAccountsByDelegate:Kv.map((e=>[\"value\",Bv,\"account\",...e])),getTokenAccountsByOwner:Kv.map((e=>[\"value\",Bv,\"account\",...e])),getTokenLargestAccounts:[[\"value\",Bv,\"decimals\"],[\"value\",Bv,\"uiAmount\"]],getTokenSupply:[[\"value\",\"decimals\"],[\"value\",\"uiAmount\"]],getTransaction:[[\"meta\",\"preTokenBalances\",Bv,\"accountIndex\"],[\"meta\",\"preTokenBalances\",Bv,\"uiTokenAmount\",\"decimals\"],[\"meta\",\"postTokenBalances\",Bv,\"accountIndex\"],[\"meta\",\"postTokenBalances\",Bv,\"uiTokenAmount\",\"decimals\"],[\"meta\",\"rewards\",Bv,\"commission\"],...Hv.map((e=>[\"meta\",\"innerInstructions\",Bv,...e])),...Jv.map((e=>[\"transaction\",\"message\",...e]))],getVersion:[[\"feature-set\"]],getVoteAccounts:[[\"current\",Bv,\"commission\"],[\"delinquent\",Bv,\"commission\"]],simulateTransaction:[...Gv.map((e=>[\"value\",\"accounts\",Bv,...e])),...Hv.map((e=>[\"value\",\"innerInstructions\",Bv,...e]))]}),Vv}Object.assign({\"accept-charset\":!0,\"access-control-request-headers\":!0,\"access-control-request-method\":!0,connection:!0,\"content-length\":!0,cookie:!0,date:!0,dnt:!0,expect:!0,host:!0,\"keep-alive\":!0,origin:!0,\"permissions-policy\":!0,referer:!0,te:!0,trailer:!0,\"transfer-encoding\":!0,upgrade:!0,via:!0},{\"accept-encoding\":!0});var Xv=[\"getAccountInfo\",\"getBalance\",\"getBlock\",\"getBlockCommitment\",\"getBlockHeight\",\"getBlockProduction\",\"getBlocks\",\"getBlocksWithLimit\",\"getBlockTime\",\"getClusterNodes\",\"getEpochInfo\",\"getEpochSchedule\",\"getFeeForMessage\",\"getFirstAvailableBlock\",\"getGenesisHash\",\"getHealth\",\"getHighestSnapshotSlot\",\"getIdentity\",\"getInflationGovernor\",\"getInflationRate\",\"getInflationReward\",\"getLargestAccounts\",\"getLatestBlockhash\",\"getLeaderSchedule\",\"getMaxRetransmitSlot\",\"getMaxShredInsertSlot\",\"getMinimumBalanceForRentExemption\",\"getMultipleAccounts\",\"getProgramAccounts\",\"getRecentPerformanceSamples\",\"getRecentPrioritizationFees\",\"getSignaturesForAddress\",\"getSignatureStatuses\",\"getSlot\",\"getSlotLeader\",\"getSlotLeaders\",\"getStakeMinimumDelegation\",\"getSupply\",\"getTokenAccountBalance\",\"getTokenAccountsByDelegate\",\"getTokenAccountsByOwner\",\"getTokenLargestAccounts\",\"getTokenSupply\",\"getTransaction\",\"getTransactionCount\",\"getVersion\",\"getVoteAccounts\",\"index\",\"isBlockhashValid\",\"minimumLedgerSlot\",\"requestAirdrop\",\"sendTransaction\",\"simulateTransaction\"];function Qv(e){return Nv(e)&&Xv.includes(e.method)}function ew(e){return function(e){const{fromJson:t,headers:n,toJson:r,url:o}=e,i=n&&function(e){const t={};for(const n in e)t[n.toLowerCase()]=e[n];return t}(n);return async function({payload:e,signal:n}){const a=r?r(e):JSON.stringify(e),s={body:a,headers:{...i,accept:\"application/json\",\"content-length\":a.length.toString(),\"content-type\":\"application/json; charset=utf-8\"},method:\"POST\",signal:n},c=await fetch(o,s);if(!c.ok)throw new Ba(Ia,{headers:c.headers,message:c.statusText,statusCode:c.status});return t?t(await c.text(),e):await c.json()}}({...e,fromJson:(e,t)=>Qv(t)?kv(e):JSON.parse(e),toJson:e=>{return Qv(e)?(t=e,function(e){return e.replace(/\\{\\s*\"\\$n\"\\s*:\\s*\"(-?\\d+)\"\\s*\\}/g,\"$1\")}(JSON.stringify(t,((e,t)=>\"bigint\"==typeof t?function(e){return{$n:`${e}`}}(t):t),n))):JSON.stringify(e);var t,n}})}var tw=Object.prototype.toString,nw=Object.keys||function(e){const t=[];for(const n in e)t.push(n);return t};function rw(e,t){let n,r,o,i,a,s,c;if(!0===e)return\"true\";if(!1===e)return\"false\";switch(typeof e){case\"object\":if(null===e)return null;if(\"toJSON\"in e&&\"function\"==typeof e.toJSON)return rw(e.toJSON(),t);if(c=tw.call(e),\"[object Array]\"===c){for(o=\"[\",r=e.length-1,n=0;n<r;n++)o+=rw(e[n],!0)+\",\";return r>-1&&(o+=rw(e[n],!0)),o+\"]\"}if(\"[object Object]\"===c){for(i=nw(e).sort(),r=i.length,o=\"\",n=0;n<r;)a=i[n],s=rw(e[a],!1),void 0!==s&&(o&&(o+=\",\"),o+=JSON.stringify(a)+\":\"+s),n++;return\"{\"+o+\"}\"}return JSON.stringify(e);case\"function\":case\"undefined\":return t?null:void 0;case\"bigint\":return`${e.toString()}n`;case\"string\":return JSON.stringify(e);default:return isFinite(e)?e:null}}function ow(e){const t=rw(e,!1);if(void 0!==t)return\"\"+t}function iw(e,t,n){let r=\"\";if(\"number\"==typeof t[0]){const e=t[0]+1,n=e%10,o=e%100;r=1==n&&11!=o?e+\"st\":2==n&&12!=o?e+\"nd\":3==n&&13!=o?e+\"rd\":e+\"th\"}else r=`\\`${t[0].toString()}\\``;const o=t.length>1?t.slice(1).map((e=>\"number\"==typeof e?`[${e}]`:e)).join(\".\"):void 0,i=new Ba(ka,{argumentLabel:r,keyPath:t,methodName:e,optionalPathLabel:o?` at path \\`${o}\\``:\"\",value:n,...void 0!==o?{path:o}:void 0});return za(i,iw),i}var aw,sw={defaultCommitment:\"confirmed\",onIntegerOverflow(e,t,n){throw iw(e.methodName,t,n)}},cw=globalThis.AbortController;function uw(e){return Nv(e)?ow([e.method,e.params]):void 0}function lw(e){const t={};for(const n in e)t[n.toLowerCase()]=e[n];return t}function dw(e){return $u(ew({...e,headers:{...!1,...e.headers?lw(e.headers):void 0,\"solana-client\":\"js/2.1.0\"}}),(e=>function(e,t){let n;return async function(r){const{payload:o,signal:i}=r,a=t(o);if(void 0===a)return await e(r);if(n||(queueMicrotask((()=>{n=void 0})),n={}),null==n[a]){const t=new cw,o=(async()=>{try{return await e({...r,signal:t.signal})}catch(e){if(e===(aw||={}))return;throw e}})();n[a]={abortController:t,numConsumers:0,responsePromise:o}}const s=n[a];if(s.numConsumers++,i){const e=s.responsePromise;return await new Promise(((t,n)=>{const r=e=>{i.removeEventListener(\"abort\",r),s.numConsumers-=1,queueMicrotask((()=>{0===s.numConsumers&&s.abortController.abort(aw||={})})),n(e.target.reason)};i.addEventListener(\"abort\",r),e.then(t).catch(n).finally((()=>{i.removeEventListener(\"abort\",r)}))}))}return await s.responsePromise}}(e,uw)))}function fw(e){return Pv({api:Zv(sw),transport:e})}const hw=[\"getTransaction\",\"getSignaturesForAddress\"],pw=e=>{const t=dw({url:e}),n=dw({url:e,headers:{\"x-bigtable\":\"disabled\"}});return async(...e)=>{const{payload:r}=e[0],{method:o}=r,i=hw.includes(o);return Cd.info(`[🚌 ToggleInfuraBigtableLookupsTransport] RPC method is ${o}. ${i?\"Enabling\":\"Disabling\"} BigTable lookups.`),i?t(...e):n(...e)}},gw=e=>async(...t)=>{let n;const r=e.length;for(const[o,i]of e.entries())try{return Cd.info(`[🚌 FailoverTransport] Attempting to use transport ${o+1} of ${r}`),await i(...t)}catch(e){n=e;const t=o===r-1;Cd.error(`[🚌 FailoverTransport] Transport failed: ${e}. ${t?\"No more transports to try.\":\"Trying next transport...\"}`)}throw n};async function mw(e){return new Promise((t=>setTimeout(t,e)))}const yw=e=>async(...t)=>{const{payload:n}=t[0],{method:r}=n;let o;for(let n=0;n<4;n++)try{return Cd.info(`[🚌 RetryingTransport] Attempt \"${r}\" ${n+1} of 4`),await e(...t)}catch(e){if(Cd.error(`[🚌 RetryingTransport] Error during attempt \"${r}\" ${n+1} of 4: ${e}`),o=e,n<3){const e=(i=n,Math.min(400*Math.pow(2,i),1500));Cd.info(`[🚌 RetryingTransport] Sleeping for ${e}ms`),await mw(e)}}var i;throw o};const vw=(e,t)=>(e=>Boolean(e.feePayer))(t)?t:Il(e,t),ww=e=>e.programAddress===Vf&&Gf({data:new Uint8Array,...e})===Kf.SetComputeUnitPrice,Aw=e=>e.instructions.filter(Boolean).some(ww),bw=e=>e.programAddress===Vf&&Gf({data:new Uint8Array,...e})===Kf.SetComputeUnitLimit,Sw=e=>e.instructions.filter(Boolean).some(bw);class Ew{#f;#i;static defaultComputeUnitPriceInMicroLamportsPerComputeUnit=10000n;constructor(e,t){this.#f=e,this.#i=t}async getLatestBlockhash(e){try{return(await this.#f.getRpc(e).getLatestBlockhash().send()).value}catch(e){throw this.#i.error(e),e}}async getComputeUnitEstimate(e,t){const n=pm({rpc:this.#f.getRpc(t)});return await n(e)}async getFeeFromBase64StringInLamports(e,t){try{z(e,bc);const n=await Sm(e,this.#f.getRpc(t)),r=\"instructions\"in n?e:xs().decode(n.messageBytes),o=this.#f.getRpc(t),i=await o.getFeeForMessage(r,{commitment:\"confirmed\"}).send();return this.#i.log(`Transaction is estimated to cost ${i.value} lamports`),i.value}catch(e){return this.#i.error(e),null}}async waitForTransactionCommitment(e,t,n){z(e,Ac);const r=this.#f.getRpc(n);return async function(e,t){const n=t?.maxAttempts??10,r=t?.delayMs??1e3;let o=0;for(;o<n;)try{return await e()}catch(e){if(o+=1,o===n)throw e;await new Promise((e=>setTimeout(e,r)))}throw new Error(\"Unreachable\")}((async()=>{this.#i.log(`🔎 Checking if transaction ${e} has reached commitment level ${t}`);const n=await r.getTransaction(tu(e),{commitment:t,maxSupportedTransactionVersion:0}).send();if(n)return this.#i.log(`🎉 Transaction ${e} has reached commitment level ${t}`),n;const o=`⚠️ Transaction with signature ${e} not found or has not yet reached requested commitment level: ${t}`;throw this.#i.warn(o),new Error(o)}),{delayMs:200})}async partiallySignBase64String(e,t,n,r){const o=this.#f.getRpc(n),i=await Sm(e,o,r);if(\"instructions\"in i)return this.#x(i,t,n);if(Object.values(i.signatures).every((e=>!e))){const{messageBytes:e}=i,a=await Am(e,o,r);return this.#x(a,t,n)}return this.#T(i,t)}async#x(e,t,n){const{privateKeyBytes:r}=await Nm({entropySource:t.entropySource,derivationPath:t.derivationPath}),o=await Zl(r),i=Fu(e)?e.lifetimeConstraint:await this.getLatestBlockhash(n),a=Aw(e),s=Ew.defaultComputeUnitPriceInMicroLamportsPerComputeUnit,c=!Sw(e)||!a,u=await $u(e,(e=>vw(o.address,e)),(e=>{return t=i,Fu(n=e)?n:qu(t,n);var t,n}),(e=>((e,t,n)=>Aw(e)?e:Rl([rh(t,n)],e))(e,{microLamports:s})),(async e=>c?(async(e,t,n)=>{try{const r=e.instructions.filter(Boolean),o=pm({rpc:t}),i=await o(e,n?.getComputeUnitEstimateConfig).catch((e=>{if(Na(e,ia))return e.context.unitsConsumed;throw e}));return{...(0,ni.cloneDeep)(e),instructions:[...r.filter((e=>!bw(e))),Qf({units:i},n?.getSetComputeUnitLimitInstructionConfig)]}}catch(t){return e}})(e,this.#f.getRpc(n)):e)),l=Hl([o],u);return await Xl(l)}async#T(e,t){const{privateKeyBytes:n}=await Nm({entropySource:t.entropySource,derivationPath:t.derivationPath});return Ul([await ru(n)],e)}}var xw,Tw=[\"u8\",\"u16\",\"u32\",\"u64\",\"u128\",\"i8\",\"i16\",\"i32\",\"i64\",\"i128\",\"f32\",\"f64\"],kw=function(){function e(){this.offset=0,this.buffer_size=256,this.buffer=new ArrayBuffer(this.buffer_size),this.view=new DataView(this.buffer)}return e.prototype.resize_if_necessary=function(e){if(this.buffer_size-this.offset<e){this.buffer_size=Math.max(2*this.buffer_size,this.buffer_size+e);var t=new ArrayBuffer(this.buffer_size);new Uint8Array(t).set(new Uint8Array(this.buffer)),this.buffer=t,this.view=new DataView(t)}},e.prototype.get_used_buffer=function(){return new Uint8Array(this.buffer).slice(0,this.offset)},e.prototype.store_value=function(e,t){var n=t.substring(1),r=parseInt(n)/8;this.resize_if_necessary(r);var o=\"f\"===t[0]?\"setFloat\".concat(n):\"i\"===t[0]?\"setInt\".concat(n):\"setUint\".concat(n);this.view[o](this.offset,e,!0),this.offset+=r},e.prototype.store_bytes=function(e){this.resize_if_necessary(e.length),new Uint8Array(this.buffer).set(new Uint8Array(e),this.offset),this.offset+=e.length},e}(),Iw=function(){function e(e){this.offset=0,this.buffer_size=e.length,this.buffer=new ArrayBuffer(e.length),new Uint8Array(this.buffer).set(e),this.view=new DataView(this.buffer)}return e.prototype.assert_enough_buffer=function(e){if(this.offset+e>this.buffer.byteLength)throw new Error(\"Error in schema, the buffer is smaller than expected\")},e.prototype.consume_value=function(e){var t=e.substring(1),n=parseInt(t)/8;this.assert_enough_buffer(n);var r=\"f\"===e[0]?\"getFloat\".concat(t):\"i\"===e[0]?\"getInt\".concat(t):\"getUint\".concat(t),o=this.view[r](this.offset,!0);return this.offset+=n,o},e.prototype.consume_bytes=function(e){this.assert_enough_buffer(e);var t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t},e}(),_w=(xw=function(e,t){return xw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},xw(e,t)},function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Class extends value \"+String(t)+\" is not a constructor or null\");function n(){this.constructor=e}xw(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function Cw(e,t,n){if(typeof e!==t)throw new Error(\"Expected \".concat(t,\" not \").concat(typeof e,\"(\").concat(e,\") at \").concat(n.join(\".\")))}function Rw(e,t,n){if(e!==t)throw new Error(\"Array length \".concat(e,\" does not match schema length \").concat(t,\" at \").concat(n.join(\".\")))}var Pw=Tw.concat([\"bool\",\"string\"]),Ow=[\"option\",\"enum\",\"array\",\"set\",\"map\",\"struct\"],Nw=function(e){function t(t,n){var r=\"Invalid schema: \".concat(JSON.stringify(t),\" expected \").concat(n);return e.call(this,r)||this}return _w(t,e),t}(Error);function Bw(e){if(\"string\"!=typeof e||!Pw.includes(e)){if(e&&\"object\"==typeof e){var t=Object.keys(e);if(1===t.length&&Ow.includes(t[0])){var n=t[0];if(\"option\"===n)return Bw(e[n]);if(\"enum\"===n)return function(e){if(!Array.isArray(e))throw new Nw(e,\"Array\");for(var t=0,n=e;t<n.length;t++){var r=n[t];if(\"object\"!=typeof r||!(\"struct\"in r))throw new Error('Missing \"struct\" key in enum schema');if(\"object\"!=typeof r.struct||1!==Object.keys(r.struct).length)throw new Error('The \"struct\" in each enum must have a single key');Bw({struct:r.struct})}}(e[n]);if(\"array\"===n)return function(e){if(\"object\"!=typeof e)throw new Nw(e,\"{ type, len? }\");if(e.len&&\"number\"!=typeof e.len)throw new Error(\"Invalid schema: \".concat(e));if(\"type\"in e)return Bw(e.type);throw new Nw(e,\"{ type, len? }\")}(e[n]);if(\"set\"===n)return Bw(e[n]);if(\"map\"===n)return function(e){if(\"object\"!=typeof e||!(\"key\"in e)||!(\"value\"in e))throw new Nw(e,\"{ key, value }\");Bw(e.key),Bw(e.value)}(e[n]);if(\"struct\"===n)return function(e){if(\"object\"!=typeof e)throw new Nw(e,\"object\");for(var t in e)Bw(e[t])}(e[n])}}throw new Nw(e,Ow.join(\", \")+\" or \"+Pw.join(\", \"))}}!function(){function e(e){this.encoded=new kw,this.fieldPath=[\"value\"],this.checkTypes=e}e.prototype.encode=function(e,t){return this.encode_value(e,t),this.encoded.get_used_buffer()},e.prototype.encode_value=function(e,t){if(\"string\"==typeof t){if(Tw.includes(t))return this.encode_integer(e,t);if(\"string\"===t)return this.encode_string(e);if(\"bool\"===t)return this.encode_boolean(e)}if(\"object\"==typeof t){if(\"option\"in t)return this.encode_option(e,t);if(\"enum\"in t)return this.encode_enum(e,t);if(\"array\"in t)return this.encode_array(e,t);if(\"set\"in t)return this.encode_set(e,t);if(\"map\"in t)return this.encode_map(e,t);if(\"struct\"in t)return this.encode_struct(e,t)}},e.prototype.encode_integer=function(e,t){var n=parseInt(t.substring(1));n<=32||\"f64\"==t?(this.checkTypes&&Cw(e,\"number\",this.fieldPath),this.encoded.store_value(e,t)):(this.checkTypes&&function(e,t){if(!([\"number\",\"string\",\"bigint\",\"boolean\"].includes(typeof e)||\"object\"==typeof e&&null!==e&&\"toString\"in e))throw new Error(\"Expected bigint, number, boolean or string not \".concat(typeof e,\"(\").concat(e,\") at \").concat(t.join(\".\")))}(e,this.fieldPath),this.encode_bigint(BigInt(e),n))},e.prototype.encode_bigint=function(e,t){for(var n=t/8,r=new Uint8Array(n),o=0;o<n;o++)r[o]=Number(e&BigInt(255)),e>>=BigInt(8);this.encoded.store_bytes(new Uint8Array(r))},e.prototype.encode_string=function(e){this.checkTypes&&Cw(e,\"string\",this.fieldPath);for(var t=e,n=[],r=0;r<t.length;r++){var o=t.charCodeAt(r);o<128?n.push(o):o<2048?n.push(192|o>>6,128|63&o):o<55296||o>=57344?n.push(224|o>>12,128|o>>6&63,128|63&o):(r++,o=65536+((1023&o)<<10|1023&t.charCodeAt(r)),n.push(240|o>>18,128|o>>12&63,128|o>>6&63,128|63&o))}this.encoded.store_value(n.length,\"u32\"),this.encoded.store_bytes(new Uint8Array(n))},e.prototype.encode_boolean=function(e){this.checkTypes&&Cw(e,\"boolean\",this.fieldPath),this.encoded.store_value(e?1:0,\"u8\")},e.prototype.encode_option=function(e,t){null==e?this.encoded.store_value(0,\"u8\"):(this.encoded.store_value(1,\"u8\"),this.encode_value(e,t.option))},e.prototype.encode_enum=function(e,t){this.checkTypes&&function(e,t){if(\"object\"!=typeof e||null===e)throw new Error(\"Expected object not \".concat(typeof e,\"(\").concat(e,\") at \").concat(t.join(\".\")))}(e,this.fieldPath);for(var n=Object.keys(e)[0],r=0;r<t.enum.length;r++){var o=t.enum[r];if(n===Object.keys(o.struct)[0])return this.encoded.store_value(r,\"u8\"),this.encode_struct(e,o)}throw new Error(\"Enum key (\".concat(n,\") not found in enum schema: \").concat(JSON.stringify(t),\" at \").concat(this.fieldPath.join(\".\")))},e.prototype.encode_array=function(e,t){if(function(e){return Array.isArray(e)||!!e&&\"object\"==typeof e&&\"length\"in e&&\"number\"==typeof e.length&&(0===e.length||e.length>0&&e.length-1 in e)}(e))return this.encode_arraylike(e,t);if(e instanceof ArrayBuffer)return this.encode_buffer(e,t);throw new Error(\"Expected Array-like not \".concat(typeof e,\"(\").concat(e,\") at \").concat(this.fieldPath.join(\".\")))},e.prototype.encode_arraylike=function(e,t){t.array.len?Rw(e.length,t.array.len,this.fieldPath):this.encoded.store_value(e.length,\"u32\");for(var n=0;n<e.length;n++)this.encode_value(e[n],t.array.type)},e.prototype.encode_buffer=function(e,t){t.array.len?Rw(e.byteLength,t.array.len,this.fieldPath):this.encoded.store_value(e.byteLength,\"u32\"),this.encoded.store_bytes(new Uint8Array(e))},e.prototype.encode_set=function(e,t){this.checkTypes&&Cw(e,\"object\",this.fieldPath);var n=e instanceof Set?Array.from(e.values()):Object.values(e);this.encoded.store_value(n.length,\"u32\");for(var r=0,o=n;r<o.length;r++){var i=o[r];this.encode_value(i,t.set)}},e.prototype.encode_map=function(e,t){this.checkTypes&&Cw(e,\"object\",this.fieldPath);var n=e instanceof Map,r=n?Array.from(e.keys()):Object.keys(e);this.encoded.store_value(r.length,\"u32\");for(var o=0,i=r;o<i.length;o++){var a=i[o];this.encode_value(a,t.map.key),this.encode_value(n?e.get(a):e[a],t.map.value)}},e.prototype.encode_struct=function(e,t){this.checkTypes&&Cw(e,\"object\",this.fieldPath);for(var n=0,r=Object.keys(t.struct);n<r.length;n++){var o=r[n];this.fieldPath.push(o),this.encode_value(e[o],t.struct[o]),this.fieldPath.pop()}}}();var zw=function(){function e(e){this.buffer=new Iw(e)}return e.prototype.decode=function(e){return this.decode_value(e)},e.prototype.decode_value=function(e){if(\"string\"==typeof e){if(Tw.includes(e))return this.decode_integer(e);if(\"string\"===e)return this.decode_string();if(\"bool\"===e)return this.decode_boolean()}if(\"object\"==typeof e){if(\"option\"in e)return this.decode_option(e);if(\"enum\"in e)return this.decode_enum(e);if(\"array\"in e)return this.decode_array(e);if(\"set\"in e)return this.decode_set(e);if(\"map\"in e)return this.decode_map(e);if(\"struct\"in e)return this.decode_struct(e)}throw new Error(\"Unsupported type: \".concat(e))},e.prototype.decode_integer=function(e){var t=parseInt(e.substring(1));return t<=32||\"f64\"==e?this.buffer.consume_value(e):this.decode_bigint(t,e.startsWith(\"i\"))},e.prototype.decode_bigint=function(e,t){void 0===t&&(t=!1);var n=e/8,r=new Uint8Array(this.buffer.consume_bytes(n)),o=r.reduceRight((function(e,t){return e+t.toString(16).padStart(2,\"0\")}),\"\");return t&&r[n-1]?BigInt.asIntN(e,BigInt(\"0x\".concat(o))):BigInt(\"0x\".concat(o))},e.prototype.decode_string=function(){for(var e=this.decode_integer(\"u32\"),t=new Uint8Array(this.buffer.consume_bytes(e)),n=[],r=0;r<e;++r){var o=t[r];if(o<128)n.push(o);else if(o<224)n.push((31&o)<<6|63&t[++r]);else if(o<240)n.push((15&o)<<12|(63&t[++r])<<6|63&t[++r]);else{var i=(7&o)<<18|(63&t[++r])<<12|(63&t[++r])<<6|63&t[++r];n.push(i)}}return String.fromCodePoint.apply(String,n)},e.prototype.decode_boolean=function(){return this.buffer.consume_value(\"u8\")>0},e.prototype.decode_option=function(e){var t=this.buffer.consume_value(\"u8\");if(1===t)return this.decode_value(e.option);if(0!==t)throw new Error(\"Invalid option \".concat(t));return null},e.prototype.decode_enum=function(e){var t,n=this.buffer.consume_value(\"u8\");if(n>e.enum.length)throw new Error(\"Enum option \".concat(n,\" is not available\"));var r=e.enum[n].struct,o=Object.keys(r)[0];return(t={})[o]=this.decode_value(r[o]),t},e.prototype.decode_array=function(e){for(var t=[],n=e.array.len?e.array.len:this.decode_integer(\"u32\"),r=0;r<n;++r)t.push(this.decode_value(e.array.type));return t},e.prototype.decode_set=function(e){for(var t=this.decode_integer(\"u32\"),n=new Set,r=0;r<t;++r)n.add(this.decode_value(e.set));return n},e.prototype.decode_map=function(e){for(var t=this.decode_integer(\"u32\"),n=new Map,r=0;r<t;++r){var o=this.decode_value(e.map.key),i=this.decode_value(e.map.value);n.set(o,i)}return n},e.prototype.decode_struct=function(e){var t={};for(var n in e.struct)t[n]=this.decode_value(e.struct[n]);return t},e}();function Mw(e,t,n){return void 0===n&&(n=!0),n&&Bw(e),new zw(t).decode(e)}var jw=(e=>(e[e.Uninitialized=0]=\"Uninitialized\",e[e.Initialized=1]=\"Initialized\",e[e.Frozen=2]=\"Frozen\",e))(jw||{});const Uw=Us(),Dw=(vs(),xs()),Lw=Cs(),$w=Za(Bu([[\"mint\",Ms()],[\"owner\",Ms()],[\"amount\",Dc()],[\"delegate\",lh(Ms(),{prefix:jc(),noneValue:\"zeroes\"})],[\"state\",Cu(jw)],[\"isNative\",lh(Dc(),{prefix:jc(),noneValue:\"zeroes\"})],[\"delegatedAmount\",Dc()],[\"closeAuthority\",lh(Ms(),{prefix:jc(),noneValue:\"zeroes\"})]]),zu([[\"mint\",js()],[\"owner\",js()],[\"amount\",Lc()],[\"delegate\",dh(js(),{prefix:Uc(),noneValue:\"zeroes\"})],[\"state\",Ru(jw)],[\"isNative\",dh(Lc(),{prefix:Uc(),noneValue:\"zeroes\"})],[\"delegatedAmount\",Lc()],[\"closeAuthority\",dh(js(),{prefix:Uc(),noneValue:\"zeroes\"})]]));var Fw;!function(e){e.SymbolNotFound=\"SymbolNotFound\",e.InvalidSubdomain=\"InvalidSubdomain\",e.PrimaryDomainNotFound=\"PrimaryDomainNotFound\",e.MissingParentOwner=\"MissingParentOwner\",e.U32Overflow=\"U32Overflow\",e.InvalidBufferLength=\"InvalidBufferLength\",e.U64Overflow=\"U64Overflow\",e.NoRecordData=\"NoRecordData\",e.InvalidRecordData=\"InvalidRecordData\",e.UnsupportedRecord=\"UnsupportedRecord\",e.InvalidEvmAddress=\"InvalidEvmAddress\",e.InvalidInjectiveAddress=\"InvalidInjectiveAddress\",e.InvalidARecord=\"InvalidARecord\",e.InvalidAAAARecord=\"InvalidAAAARecord\",e.InvalidRecordInput=\"InvalidRecordInput\",e.InvalidSignature=\"InvalidSignature\",e.AccountDoesNotExist=\"AccountDoesNotExist\",e.MultipleRegistries=\"MultipleRegistries\",e.InvalidReverseTwitter=\"InvalidReverseTwitter\",e.NoAccountData=\"NoAccountData\",e.InvalidInput=\"InvalidInput\",e.InvalidDomain=\"InvalidDomain\",e.InvalidCustomBg=\"InvalidCustomBackground\",e.UnsupportedSignature=\"UnsupportedSignature\",e.RecordDoestNotSupportGuardianSig=\"RecordDoestNotSupportGuardianSig\",e.RecordIsNotSigned=\"RecordIsNotSigned\",e.UnsupportedSignatureType=\"UnsupportedSignatureType\",e.InvalidSolRecordV2=\"InvalidSolRecordV2\",e.MissingVerifier=\"MissingVerifier\",e.PythFeedNotFound=\"PythFeedNotFound\",e.InvalidRoA=\"InvalidRoA\",e.InvalidPda=\"InvalidPda\",e.InvalidParent=\"InvalidParent\",e.NftAccountNotFound=\"NftRecordNotFound\",e.PdaOwnerNotAllowed=\"PdaOwnerNotAllowed\",e.DomainDoesNotExist=\"DomainDoesNotExist\",e.RecordMalformed=\"RecordMalformed\",e.CouldNotFindNftOwner=\"CouldNotFindNftOwner\",e.InvalidValidation=\"InvalidValidation\",e.InvalidSerializedData=\"InvalidSerializedData\"}(Fw||(Fw={}));class qw extends Error{type;constructor(e,t){super(t),this.name=\"SNSError\",this.type=e,Error.captureStackTrace&&Error.captureStackTrace(this,qw)}}class Ww extends qw{constructor(e){super(Fw.PrimaryDomainNotFound,e)}}class Vw extends qw{constructor(e){super(Fw.NoRecordData,e)}}class Kw extends qw{constructor(e){super(Fw.AccountDoesNotExist,e)}}class Gw extends qw{constructor(e){super(Fw.NoAccountData,e)}}class Hw extends qw{constructor(e){super(Fw.InvalidInput,e)}}class Jw extends qw{constructor(e){super(Fw.InvalidRoA,e)}}class Zw extends qw{constructor(e){super(Fw.NftAccountNotFound,e)}}class Yw extends qw{constructor(e){super(Fw.PdaOwnerNotAllowed,e)}}class Xw extends qw{constructor(e){super(Fw.DomainDoesNotExist,e)}}class Qw extends qw{constructor(e){super(Fw.RecordMalformed,e)}}class eA extends qw{constructor(e){super(Fw.CouldNotFindNftOwner,e)}}class tA extends qw{constructor(e){super(Fw.InvalidValidation,e)}}class nA extends qw{constructor(e){super(Fw.InvalidSerializedData,e)}}class rA{static HEADER_LEN=96;parentName;owner;class;data;static schema={struct:{parentName:{array:{type:\"u8\",len:32}},owner:{array:{type:\"u8\",len:32}},class:{array:{type:\"u8\",len:32}}}};constructor(e){this.parentName=Uw.decode(e.parentName),this.owner=Uw.decode(e.owner),this.class=Uw.decode(e.class)}static deserialize(e){try{const t=new rA(Mw(this.schema,e));return t.data=e?.slice(this.HEADER_LEN),t}catch{throw new Error(\"Failed to deserialize RegistryState data\")}}static async retrieve(e,t){const n=await sm(e,t);if(!n.exists)throw new Kw(\"The domain account does not exist\");return this.deserialize(n.data)}static async _retrieveBatch(e,t){return(await cm(e,t)).map((e=>e.exists?this.deserialize(e.data):void 0))}static async retrieveBatch(e,t){const n=[],r=[...t];for(;r.length>0;)n.push(...await this._retrieveBatch(e,r.splice(0,100)));return n}}const oA=\"58PwtjSDuFHuUkYjH9BYnnQKHfwo9reZhC2zMJv9JPkx\",iA=\"nftD3vbNkNqfj2Sd3HZwbpw4BxxKWr4AjGb9X38JeZk\",aA=\"33m47vH6Eav6jr5Ry86XjhRft2jRBLDnDgPSHoquXi2Z\",sA=\"2pMnqHvei2N5oDcVGCRdZx48gqti199wr5CsyTTafsbo\",cA=async(e,t,n)=>{const r=await(async e=>{const t=Lw.encode(\"SPL Name Service\"+e),n=await crypto.subtle.digest(\"SHA-256\",t);return new Uint8Array(n)})(e);return await(async(e,t,n)=>{const r=[e];r.push(n?Uw.encode(n):new Uint8Array(32)),r.push(t?Uw.encode(t):new Uint8Array(32));const[o]=await Ys({programAddress:\"namesLPneVptA9Z5rqUDD9tMTWEJwofgaYwp8cawRkX\",seeds:r});return o})(r,t,n)};var uA;!function(e){e[e.Uninitialized=0]=\"Uninitialized\",e[e.CentralState=1]=\"CentralState\",e[e.ActiveRecord=2]=\"ActiveRecord\",e[e.InactiveRecord=3]=\"InactiveRecord\"}(uA||(uA={}));class lA{tag;nonce;nameAccount;owner;nftMint;static LEN=98;static schema={struct:{tag:\"u8\",nonce:\"u8\",nameAccount:{array:{type:\"u8\",len:32}},owner:{array:{type:\"u8\",len:32}},nftMint:{array:{type:\"u8\",len:32}}}};constructor(e){this.tag=e.tag,this.nonce=e.nonce,this.nameAccount=Uw.decode(e.nameAccount),this.owner=Uw.decode(e.owner),this.nftMint=Uw.decode(e.nftMint)}static deserialize(e){try{return new lA(Mw(this.schema,e))}catch{throw new nA(\"Failed to deserialize NftState data\")}}static async retrieve(e,t){const n=await sm(e,t);if(!n.exists)throw new Zw(`NFT not found: ${t}`);return this.deserialize(n.data)}static async retrieveFromMint(e,t){const n=await e.getProgramAccounts(iA,{encoding:\"base64\",filters:[{dataSize:BigInt(lA.LEN)},{memcmp:{offset:BigInt(0),bytes:\"3\",encoding:\"base58\"}},{memcmp:{offset:BigInt(66),bytes:t,encoding:\"base58\"}}]}).send();if(1!==n.length)throw new Zw(`NFT not found: ${t}`);return this.deserialize(Dw.encode(n[0].account.data[0]))}static async getAddress(e){const[t]=await Ys({programAddress:iA,seeds:[Lw.encode(\"nft_record\"),Uw.encode(e)]});return t}}const dA=Lw.encode(\"tokenized_name\"),fA=async(e,t)=>{try{const n=await(async e=>{const[t]=await Ys({programAddress:iA,seeds:[dA,Uw.encode(e)]});return t})(t),r=await e.getTokenLargestAccounts(n).send();if(0===r.value.length)return null;const o=await sm(e,r.value[0].address);if(!o.exists)return null;const i=$w.decode(o.data);return\"1\"===i.amount.toString()?i.owner:null}catch(e){if(Na(e,di))return null;throw e}};class hA{tag;nameAccount;static schema={struct:{tag:\"u8\",nameAccount:{array:{type:\"u8\",len:32}}}};constructor(e){this.tag=e.tag,this.nameAccount=Uw.decode(e.nameAccount)}static deserialize(e){try{return new hA(Mw(this.schema,e))}catch{throw new nA(\"Failed to deserialize PrimaryDomainState data\")}}static async retrieve(e,t){const n=await sm(e,t);if(!n.exists)throw new Ww(\"The favourite account does not exist\");return this.deserialize(n.data)}static async _retrieveBatch(e,t){return(await cm(e,t)).map((e=>e.exists?this.deserialize(e.data):void 0))}static async retrieveBatch(e,t){const n=[],r=[...t];for(;r.length>0;)n.push(...await this._retrieveBatch(e,r.splice(0,100)));return n}static async getAddress(e,t){const[n]=await Ys({programAddress:e,seeds:[Lw.encode(\"favourite_domain\"),Uw.encode(t)]});return n}}async function pA(e,t,n){const r=await(async(e,t)=>await cA(e,t,aA))(t,n),o=await rA.retrieve(e,r);if(!o.data)throw new Gw(\"The registry data is empty\");return function(e,t=!1){if(!e)return;const n=new DataView(e.buffer).getUint32(0,!0);return Lw.decode(e.subarray(4,4+n)).replace(/^\\0/,t?\"\":\"\\0\")}(o.data,!!n)}var gA;!function(e){e.IPFS=\"IPFS\",e.ARWV=\"ARWV\",e.SOL=\"SOL\",e.ETH=\"ETH\",e.BTC=\"BTC\",e.LTC=\"LTC\",e.DOGE=\"DOGE\",e.Email=\"email\",e.Url=\"url\",e.Discord=\"discord\",e.Github=\"github\",e.Reddit=\"reddit\",e.Twitter=\"twitter\",e.Telegram=\"telegram\",e.Pic=\"pic\",e.SHDW=\"SHDW\",e.POINT=\"POINT\",e.BSC=\"BSC\",e.Injective=\"INJ\",e.Backpack=\"backpack\",e.A=\"A\",e.AAAA=\"AAAA\",e.CNAME=\"CNAME\",e.TXT=\"TXT\",e.Background=\"background\",e.BASE=\"BASE\",e.IPNS=\"IPNS\"}(gA||(gA={}));new Map([[gA.SOL,96],[gA.ETH,20],[gA.BSC,20],[gA.Injective,20],[gA.A,4],[gA.AAAA,16],[gA.Background,32]]);var mA;!function(e){e[e.V1=1]=\"V1\",e[e.V2=2]=\"V2\"}(mA||(mA={}));const yA=async(e,t)=>{e.endsWith(\".sol\")&&(e=e.slice(0,-4));const n=t===mA.V2?sA:void 0,r={[mA.V2]:\"\u0002\",[mA.V1]:\"\u0001\"}[t]||\"\\0\",o=e.split(\".\");if(2===o.length){const e=await cA(o[1],oA);return{address:await cA(r+o[0],e,n),parentAddress:e,isSub:!0}}if(3===o.length&&t){const e=await cA(o[2],oA),t=await cA(\"\\0\"+o[1],e);return{address:await cA(r+o[0],t,n),parentAddress:e,isSub:!0,isSubRecord:!0}}if(o.length>=3)throw new Hw(\"The domain is malformed\");return{address:await cA(e,oA),isSub:!1}};function vA(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&\"Uint8Array\"===e.constructor.name}function wA(e,t){return!!Array.isArray(t)&&(0===t.length||(e?t.every((e=>\"string\"==typeof e)):t.every((e=>Number.isSafeInteger(e)))))}function AA(e,t){if(\"string\"!=typeof t)throw new Error(`${e}: string expected`);return!0}function bA(e){if(!Number.isSafeInteger(e))throw new Error(`invalid integer: ${e}`)}function SA(e){if(!Array.isArray(e))throw new Error(\"array expected\")}function EA(e,t){if(!wA(!0,t))throw new Error(`${e}: array of strings expected`)}function xA(e,t){if(!wA(!1,t))throw new Error(`${e}: array of numbers expected`)}const TA=(e,t)=>0===t?e:TA(t,e%t),kA=(e,t)=>e+(t-TA(e,t)),IA=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function _A(e,t,n,r){if(SA(e),t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(kA(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${kA(t,n)}`);let o=0,i=0;const a=IA[t],s=IA[n]-1,c=[];for(const r of e){if(bA(r),r>=a)throw new Error(`convertRadix2: invalid data word=${r} from=${t}`);if(o=o<<t|r,i+t>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${t}`);for(i+=t;i>=n;i-=n)c.push((o>>i-n&s)>>>0);const e=IA[i];if(void 0===e)throw new Error(\"invalid carry\");o&=e-1}if(o=o<<n-i&s,!r&&i>=t)throw new Error(\"Excess padding\");if(!r&&o>0)throw new Error(`Non-zero padding: ${o}`);return r&&i>0&&c.push(o>>>0),c}function CA(e){return function(e){if(\"function\"!=typeof e)throw new Error(\"function expected\")}(e),function(...t){try{return e.apply(null,t)}catch(e){}}}const RA=function(...e){const t=e=>e,n=(e,t)=>n=>e(t(n));return{encode:e.map((e=>e.encode)).reduceRight(n,t),decode:e.map((e=>e.decode)).reduce(n,t)}}(function(e){const t=e.split(\"\"),n=t.length;EA(\"alphabet\",t);const r=new Map(t.map(((e,t)=>[e,t])));return{encode:r=>(SA(r),r.map((r=>{if(!Number.isSafeInteger(r)||r<0||r>=n)throw new Error(`alphabet.encode: digit index outside alphabet \"${r}\". Allowed: ${e}`);return t[r]}))),decode:t=>(SA(t),t.map((t=>{AA(\"alphabet.decode\",t);const n=r.get(t);if(void 0===n)throw new Error(`Unknown letter: \"${t}\". Allowed: ${e}`);return n})))}}(\"qpzry9x8gf2tvdw0s3jn54khce6mua7l\"),function(e=\"\"){return AA(\"join\",e),{encode:t=>(EA(\"join.decode\",t),t.join(e)),decode:t=>(AA(\"join.decode\",t),t.split(e))}}(\"\")),PA=[996825010,642813549,513874426,1027748829,705979059];function OA(e){const t=e>>25;let n=(33554431&e)<<5;for(let e=0;e<PA.length;e++)1==(t>>e&1)&&(n^=PA[e]);return n}function NA(e,t,n=1){const r=e.length;let o=1;for(let t=0;t<r;t++){const n=e.charCodeAt(t);if(n<33||n>126)throw new Error(`Invalid prefix (${e})`);o=OA(o)^n>>5}o=OA(o);for(let t=0;t<r;t++)o=OA(o)^31&e.charCodeAt(t);for(let e of t)o=OA(o)^e;for(let e=0;e<6;e++)o=OA(o);return o^=n,RA.encode(_A([o%IA[30]],30,5,!1))}!function(e){const t=function(e,t=!1){if(bA(e),e<=0||e>32)throw new Error(\"radix2: bits should be in (0..32]\");if(kA(8,e)>32||kA(e,8)>32)throw new Error(\"radix2: carry overflow\");return{encode:n=>{if(!vA(n))throw new Error(\"radix2.encode input should be Uint8Array\");return _A(Array.from(n),8,e,!t)},decode:n=>(xA(\"radix2.decode\",n),Uint8Array.from(_A(n,e,8,t)))}}(5),n=t.decode,r=t.encode,o=CA(n);function i(e,t,n=90){AA(\"bech32.encode prefix\",e),vA(t)&&Array.from(t),xA(\"bech32.encode\",t);const r=e.length;if(0===r)throw new TypeError(`Invalid prefix length ${r}`);const o=r+7+t.length;if(!1!==n&&o>n)throw new TypeError(`Length ${o} exceeds limit ${n}`);const i=e.toLowerCase(),a=NA(i,t,1);return`${i}1${RA.encode(t)}${a}`}function a(e,t=90){AA(\"bech32.decode input\",e);const n=e.length;if(n<8||!1!==t&&n>t)throw new TypeError(`invalid string length: ${n} (${e}). Expected (8..${t})`);const r=e.toLowerCase();if(e!==r&&e!==e.toUpperCase())throw new Error(\"String must be lowercase or uppercase\");const o=r.lastIndexOf(\"1\");if(0===o||-1===o)throw new Error('Letter \"1\" must be present between prefix and data only');const i=r.slice(0,o),a=r.slice(o+1);if(a.length<6)throw new Error(\"Data must be at least 6 characters long\");const s=RA.decode(a).slice(0,-6),c=NA(i,s,1);if(!a.endsWith(c))throw new Error(`Invalid checksum in ${e}: expected \"${c}\"`);return{prefix:i,words:s}}CA(a)}();var BA,zA={exports:{}},MA=zA.exports;!function(){return BA||(BA=1,e=zA,function(t){const n=\"(0?\\\\d+|0x[a-f0-9]+)\",r={fourOctet:new RegExp(`^${n}\\\\.${n}\\\\.${n}\\\\.${n}$`,\"i\"),threeOctet:new RegExp(`^${n}\\\\.${n}\\\\.${n}$`,\"i\"),twoOctet:new RegExp(`^${n}\\\\.${n}$`,\"i\"),longValue:new RegExp(`^${n}$`,\"i\")},o=new RegExp(\"^0[0-7]+$\",\"i\"),i=new RegExp(\"^0x[a-f0-9]+$\",\"i\"),a=\"%[0-9a-z]{1,}\",s=\"(?:[0-9a-f]+::?)+\",c={zoneIndex:new RegExp(a,\"i\"),native:new RegExp(`^(::)?(${s})?([0-9a-f]+)?(::)?(${a})?$`,\"i\"),deprecatedTransitional:new RegExp(`^(?:::)(${n}\\\\.${n}\\\\.${n}\\\\.${n}(${a})?)$`,\"i\"),transitional:new RegExp(`^((?:${s})|(?:::)(?:${s})?)${n}\\\\.${n}\\\\.${n}\\\\.${n}(${a})?$`,\"i\")};function u(e,t){if(e.indexOf(\"::\")!==e.lastIndexOf(\"::\"))return null;let n,r,o=0,i=-1,a=(e.match(c.zoneIndex)||[])[0];for(a&&(a=a.substring(1),e=e.replace(/%.+$/,\"\"));(i=e.indexOf(\":\",i+1))>=0;)o++;if(\"::\"===e.substr(0,2)&&o--,\"::\"===e.substr(-2,2)&&o--,o>t)return null;for(r=t-o,n=\":\";r--;)n+=\"0:\";return\":\"===(e=e.replace(\"::\",n))[0]&&(e=e.slice(1)),\":\"===e[e.length-1]&&(e=e.slice(0,-1)),{parts:t=function(){const t=e.split(\":\"),n=[];for(let e=0;e<t.length;e++)n.push(parseInt(t[e],16));return n}(),zoneId:a}}function l(e,t,n,r){if(e.length!==t.length)throw new Error(\"ipaddr: cannot match CIDR for objects with different lengths\");let o,i=0;for(;r>0;){if(o=n-r,o<0&&(o=0),e[i]>>o!=t[i]>>o)return!1;r-=n,i+=1}return!0}function d(e){if(i.test(e))return parseInt(e,16);if(\"0\"===e[0]&&!isNaN(parseInt(e[1],10))){if(o.test(e))return parseInt(e,8);throw new Error(`ipaddr: cannot parse ${e} as octal`)}return parseInt(e,10)}function f(e,t){for(;e.length<t;)e=`0${e}`;return e}const h={};h.IPv4=function(){function e(e){if(4!==e.length)throw new Error(\"ipaddr: ipv4 octet count should be 4\");let t,n;for(t=0;t<e.length;t++)if(n=e[t],!(0<=n&&n<=255))throw new Error(\"ipaddr: ipv4 octet should fit in 8 bits\");this.octets=e}return e.prototype.SpecialRanges={unspecified:[[new e([0,0,0,0]),8]],broadcast:[[new e([255,255,255,255]),32]],multicast:[[new e([224,0,0,0]),4]],linkLocal:[[new e([169,254,0,0]),16]],loopback:[[new e([127,0,0,0]),8]],carrierGradeNat:[[new e([100,64,0,0]),10]],private:[[new e([10,0,0,0]),8],[new e([172,16,0,0]),12],[new e([192,168,0,0]),16]],reserved:[[new e([192,0,0,0]),24],[new e([192,0,2,0]),24],[new e([192,88,99,0]),24],[new e([198,18,0,0]),15],[new e([198,51,100,0]),24],[new e([203,0,113,0]),24],[new e([240,0,0,0]),4]],as112:[[new e([192,175,48,0]),24],[new e([192,31,196,0]),24]],amt:[[new e([192,52,193,0]),24]]},e.prototype.kind=function(){return\"ipv4\"},e.prototype.match=function(e,t){let n;if(void 0===t&&(n=e,e=n[0],t=n[1]),\"ipv4\"!==e.kind())throw new Error(\"ipaddr: cannot match ipv4 address with non-ipv4 one\");return l(this.octets,e.octets,8,t)},e.prototype.prefixLengthFromSubnetMask=function(){let e=0,t=!1;const n={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0};let r,o,i;for(r=3;r>=0;r-=1){if(o=this.octets[r],!(o in n))return null;if(i=n[o],t&&0!==i)return null;8!==i&&(t=!0),e+=i}return 32-e},e.prototype.range=function(){return h.subnetMatch(this,this.SpecialRanges)},e.prototype.toByteArray=function(){return this.octets.slice(0)},e.prototype.toIPv4MappedAddress=function(){return h.IPv6.parse(`::ffff:${this.toString()}`)},e.prototype.toNormalizedString=function(){return this.toString()},e.prototype.toString=function(){return this.octets.join(\".\")},e}(),h.IPv4.broadcastAddressFromCIDR=function(e){try{const t=this.parseCIDR(e),n=t[0].toByteArray(),r=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),o=[];let i=0;for(;i<4;)o.push(parseInt(n[i],10)|255^parseInt(r[i],10)),i++;return new this(o)}catch(e){throw new Error(\"ipaddr: the address does not have IPv4 CIDR format\")}},h.IPv4.isIPv4=function(e){return null!==this.parser(e)},h.IPv4.isValid=function(e){try{return new this(this.parser(e)),!0}catch(e){return!1}},h.IPv4.isValidCIDR=function(e){try{return this.parseCIDR(e),!0}catch(e){return!1}},h.IPv4.isValidFourPartDecimal=function(e){return!(!h.IPv4.isValid(e)||!e.match(/^(0|[1-9]\\d*)(\\.(0|[1-9]\\d*)){3}$/))},h.IPv4.networkAddressFromCIDR=function(e){let t,n,r,o,i;try{for(t=this.parseCIDR(e),r=t[0].toByteArray(),i=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),o=[],n=0;n<4;)o.push(parseInt(r[n],10)&parseInt(i[n],10)),n++;return new this(o)}catch(e){throw new Error(\"ipaddr: the address does not have IPv4 CIDR format\")}},h.IPv4.parse=function(e){const t=this.parser(e);if(null===t)throw new Error(\"ipaddr: string is not formatted like an IPv4 Address\");return new this(t)},h.IPv4.parseCIDR=function(e){let t;if(t=e.match(/^(.+)\\/(\\d+)$/)){const e=parseInt(t[2]);if(e>=0&&e<=32){const n=[this.parse(t[1]),e];return Object.defineProperty(n,\"toString\",{value:function(){return this.join(\"/\")}}),n}}throw new Error(\"ipaddr: string is not formatted like an IPv4 CIDR range\")},h.IPv4.parser=function(e){let t,n,o;if(t=e.match(r.fourOctet))return function(){const e=t.slice(1,6),r=[];for(let t=0;t<e.length;t++)n=e[t],r.push(d(n));return r}();if(t=e.match(r.longValue)){if(o=d(t[1]),o>4294967295||o<0)throw new Error(\"ipaddr: address outside defined range\");return function(){const e=[];let t;for(t=0;t<=24;t+=8)e.push(o>>t&255);return e}().reverse()}return(t=e.match(r.twoOctet))?function(){const e=t.slice(1,4),n=[];if(o=d(e[1]),o>16777215||o<0)throw new Error(\"ipaddr: address outside defined range\");return n.push(d(e[0])),n.push(o>>16&255),n.push(o>>8&255),n.push(255&o),n}():(t=e.match(r.threeOctet))?function(){const e=t.slice(1,5),n=[];if(o=d(e[2]),o>65535||o<0)throw new Error(\"ipaddr: address outside defined range\");return n.push(d(e[0])),n.push(d(e[1])),n.push(o>>8&255),n.push(255&o),n}():null},h.IPv4.subnetMaskFromPrefixLength=function(e){if((e=parseInt(e))<0||e>32)throw new Error(\"ipaddr: invalid IPv4 prefix length\");const t=[0,0,0,0];let n=0;const r=Math.floor(e/8);for(;n<r;)t[n]=255,n++;return r<4&&(t[r]=Math.pow(2,e%8)-1<<8-e%8),new this(t)},h.IPv6=function(){function e(e,t){let n,r;if(16===e.length)for(this.parts=[],n=0;n<=14;n+=2)this.parts.push(e[n]<<8|e[n+1]);else{if(8!==e.length)throw new Error(\"ipaddr: ipv6 part count should be 8 or 16\");this.parts=e}for(n=0;n<this.parts.length;n++)if(r=this.parts[n],!(0<=r&&r<=65535))throw new Error(\"ipaddr: ipv6 part should fit in 16 bits\");t&&(this.zoneId=t)}return e.prototype.SpecialRanges={unspecified:[new e([0,0,0,0,0,0,0,0]),128],linkLocal:[new e([65152,0,0,0,0,0,0,0]),10],multicast:[new e([65280,0,0,0,0,0,0,0]),8],loopback:[new e([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new e([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new e([0,0,0,0,0,65535,0,0]),96],discard:[new e([256,0,0,0,0,0,0,0]),64],rfc6145:[new e([0,0,0,0,65535,0,0,0]),96],rfc6052:[new e([100,65435,0,0,0,0,0,0]),96],\"6to4\":[new e([8194,0,0,0,0,0,0,0]),16],teredo:[new e([8193,0,0,0,0,0,0,0]),32],benchmarking:[new e([8193,2,0,0,0,0,0,0]),48],amt:[new e([8193,3,0,0,0,0,0,0]),32],as112v6:[[new e([8193,4,274,0,0,0,0,0]),48],[new e([9760,79,32768,0,0,0,0,0]),48]],deprecated:[new e([8193,16,0,0,0,0,0,0]),28],orchid2:[new e([8193,32,0,0,0,0,0,0]),28],droneRemoteIdProtocolEntityTags:[new e([8193,48,0,0,0,0,0,0]),28],reserved:[[new e([8193,0,0,0,0,0,0,0]),23],[new e([8193,3512,0,0,0,0,0,0]),32]]},e.prototype.isIPv4MappedAddress=function(){return\"ipv4Mapped\"===this.range()},e.prototype.kind=function(){return\"ipv6\"},e.prototype.match=function(e,t){let n;if(void 0===t&&(n=e,e=n[0],t=n[1]),\"ipv6\"!==e.kind())throw new Error(\"ipaddr: cannot match ipv6 address with non-ipv6 one\");return l(this.parts,e.parts,16,t)},e.prototype.prefixLengthFromSubnetMask=function(){let e=0,t=!1;const n={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0};let r,o;for(let i=7;i>=0;i-=1){if(r=this.parts[i],!(r in n))return null;if(o=n[r],t&&0!==o)return null;16!==o&&(t=!0),e+=o}return 128-e},e.prototype.range=function(){return h.subnetMatch(this,this.SpecialRanges)},e.prototype.toByteArray=function(){let e;const t=[],n=this.parts;for(let r=0;r<n.length;r++)e=n[r],t.push(e>>8),t.push(255&e);return t},e.prototype.toFixedLengthString=function(){const e=function(){const e=[];for(let t=0;t<this.parts.length;t++)e.push(f(this.parts[t].toString(16),4));return e}.call(this).join(\":\");let t=\"\";return this.zoneId&&(t=`%${this.zoneId}`),e+t},e.prototype.toIPv4Address=function(){if(!this.isIPv4MappedAddress())throw new Error(\"ipaddr: trying to convert a generic ipv6 address to ipv4\");const e=this.parts.slice(-2),t=e[0],n=e[1];return new h.IPv4([t>>8,255&t,n>>8,255&n])},e.prototype.toNormalizedString=function(){const e=function(){const e=[];for(let t=0;t<this.parts.length;t++)e.push(this.parts[t].toString(16));return e}.call(this).join(\":\");let t=\"\";return this.zoneId&&(t=`%${this.zoneId}`),e+t},e.prototype.toRFC5952String=function(){const e=/((^|:)(0(:|$)){2,})/g,t=this.toNormalizedString();let n,r=0,o=-1;for(;n=e.exec(t);)n[0].length>o&&(r=n.index,o=n[0].length);return o<0?t:`${t.substring(0,r)}::${t.substring(r+o)}`},e.prototype.toString=function(){return this.toRFC5952String()},e}(),h.IPv6.broadcastAddressFromCIDR=function(e){try{const t=this.parseCIDR(e),n=t[0].toByteArray(),r=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),o=[];let i=0;for(;i<16;)o.push(parseInt(n[i],10)|255^parseInt(r[i],10)),i++;return new this(o)}catch(e){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${e})`)}},h.IPv6.isIPv6=function(e){return null!==this.parser(e)},h.IPv6.isValid=function(e){if(\"string\"==typeof e&&-1===e.indexOf(\":\"))return!1;try{const t=this.parser(e);return new this(t.parts,t.zoneId),!0}catch(e){return!1}},h.IPv6.isValidCIDR=function(e){if(\"string\"==typeof e&&-1===e.indexOf(\":\"))return!1;try{return this.parseCIDR(e),!0}catch(e){return!1}},h.IPv6.networkAddressFromCIDR=function(e){let t,n,r,o,i;try{for(t=this.parseCIDR(e),r=t[0].toByteArray(),i=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),o=[],n=0;n<16;)o.push(parseInt(r[n],10)&parseInt(i[n],10)),n++;return new this(o)}catch(e){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${e})`)}},h.IPv6.parse=function(e){const t=this.parser(e);if(null===t.parts)throw new Error(\"ipaddr: string is not formatted like an IPv6 Address\");return new this(t.parts,t.zoneId)},h.IPv6.parseCIDR=function(e){let t,n,r;if((n=e.match(/^(.+)\\/(\\d+)$/))&&(t=parseInt(n[2]),t>=0&&t<=128))return r=[this.parse(n[1]),t],Object.defineProperty(r,\"toString\",{value:function(){return this.join(\"/\")}}),r;throw new Error(\"ipaddr: string is not formatted like an IPv6 CIDR range\")},h.IPv6.parser=function(e){let t,n,r,o,i,a;if(r=e.match(c.deprecatedTransitional))return this.parser(`::ffff:${r[1]}`);if(c.native.test(e))return u(e,8);if((r=e.match(c.transitional))&&(a=r[6]||\"\",t=r[1],r[1].endsWith(\"::\")||(t=t.slice(0,-1)),t=u(t+a,6),t.parts)){for(i=[parseInt(r[2]),parseInt(r[3]),parseInt(r[4]),parseInt(r[5])],n=0;n<i.length;n++)if(o=i[n],!(0<=o&&o<=255))return null;return t.parts.push(i[0]<<8|i[1]),t.parts.push(i[2]<<8|i[3]),{parts:t.parts,zoneId:t.zoneId}}return null},h.IPv6.subnetMaskFromPrefixLength=function(e){if((e=parseInt(e))<0||e>128)throw new Error(\"ipaddr: invalid IPv6 prefix length\");const t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];let n=0;const r=Math.floor(e/8);for(;n<r;)t[n]=255,n++;return r<16&&(t[r]=Math.pow(2,e%8)-1<<8-e%8),new this(t)},h.fromByteArray=function(e){const t=e.length;if(4===t)return new h.IPv4(e);if(16===t)return new h.IPv6(e);throw new Error(\"ipaddr: the binary input is neither an IPv6 nor IPv4 address\")},h.isValid=function(e){return h.IPv6.isValid(e)||h.IPv4.isValid(e)},h.isValidCIDR=function(e){return h.IPv6.isValidCIDR(e)||h.IPv4.isValidCIDR(e)},h.parse=function(e){if(h.IPv6.isValid(e))return h.IPv6.parse(e);if(h.IPv4.isValid(e))return h.IPv4.parse(e);throw new Error(\"ipaddr: the address has neither IPv6 nor IPv4 format\")},h.parseCIDR=function(e){try{return h.IPv6.parseCIDR(e)}catch(t){try{return h.IPv4.parseCIDR(e)}catch(e){throw new Error(\"ipaddr: the address has neither IPv6 nor IPv4 CIDR format\")}}},h.process=function(e){const t=this.parse(e);return\"ipv6\"===t.kind()&&t.isIPv4MappedAddress()?t.toIPv4Address():t},h.subnetMatch=function(e,t,n){let r,o,i,a;for(o in null==n&&(n=\"unicast\"),t)if(Object.prototype.hasOwnProperty.call(t,o))for(i=t[o],!i[0]||i[0]instanceof Array||(i=[i]),r=0;r<i.length;r++)if(a=i[r],e.kind()===a[0].kind()&&e.match.apply(e,a))return o;return n},e.exports?e.exports=h:t.ipaddr=h}(MA)),zA.exports;var e}();Math.floor,String.fromCharCode;new Map([[gA.CNAME,\"ExXjtfdQe8JacoqP9Z535WzQKjF4CzW1TTRKRgpxvya3\"],[gA.Url,\"ExXjtfdQe8JacoqP9Z535WzQKjF4CzW1TTRKRgpxvya3\"]]),new Set([gA.BASE,gA.BSC,gA.ETH,gA.Injective]),new Set([gA.BASE,gA.BSC,gA.ETH]),new Set([gA.ARWV,gA.Backpack,gA.BTC,gA.CNAME,gA.Discord,gA.DOGE,gA.Email,gA.Github,gA.IPFS,gA.IPNS,gA.LTC,gA.Pic,gA.POINT,gA.Reddit,gA.SHDW,gA.Telegram,gA.Twitter,gA.TXT,gA.Url]),new Set([gA.BASE,gA.BSC,gA.ETH,gA.Injective,gA.SOL]);new Map([[\"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v\",[234,160,32,198,28,196,121,113,40,19,70,28,225,83,137,74,150,166,192,11,33,237,12,252,39,152,209,249,169,233,201,74]],[\"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB\",[43,137,185,220,143,223,159,52,112,154,91,16,107,71,47,15,57,187,108,169,206,4,176,253,127,46,151,22,136,226,229,59]],[\"So11111111111111111111111111111111111111112\",[239,13,139,111,218,44,235,164,29,161,93,64,149,209,218,57,42,13,47,142,208,198,199,188,15,76,250,200,194,128,181,109]],[\"EchesyfXePKdLtoiZSL8pBe8Myagyy8ZRqsACNCFGnvp\",[200,6,87,183,246,243,234,194,114,24,208,157,90,78,84,228,123,37,118,141,159,94,16,172,21,254,44,249,0,136,20,0]],[\"mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So\",[194,40,154,106,67,210,206,145,198,245,92,174,195,112,244,172,195,138,46,212,119,245,136,19,51,76,109,3,116,159,242,164]],[\"DezXAZ8z7PnrnRJjz3wXBoRgixCa6xjnB7YaB1pPB263\",[114,176,33,33,124,163,254,104,146,42,25,170,249,144,16,156,185,216,78,154,208,4,180,210,2,90,214,245,41,49,68,25]],[\"EPeUFDgHRxs9xxEPVaL6kfGQvCon7jmAWKVUHuux1Tpz\",[142,134,15,183,78,96,229,115,107,69,93,130,246,11,55,40,4,156,52,142,148,150,26,221,95,150,27,2,253,238,37,53]],[\"HZ1JovNiVvGrGNiiYvEozEVgZ58xaU3RKwX8eACQBCt3\",[11,191,40,233,168,65,161,204,120,143,106,54,27,23,202,7,45,14,163,9,138,30,93,241,195,146,45,6,113,149,121,255]],[\"bSo13r4TkiE4KumL71LsHTPpL2euBYLFx6h9HP3piy1\",[137,135,83,121,231,15,143,186,220,23,174,243,21,173,243,168,213,209,96,184,17,67,85,55,224,60,151,232,170,201,125,156]],[\"6McPRfPV6bY1e9hLxWyG54W9i9Epq75QBvXg2oetBVTB\",[122,91,193,210,181,106,208,41,4,140,214,57,100,179,173,39,118,234,223,129,46,220,26,67,163,20,6,203,84,191,245,146]],[\"6p6xgHyF7AeE6TZkSmFsko444wqoP15icUSqi2jfGiPN\",[135,149,81,2,24,83,238,199,167,220,130,117,120,232,230,157,167,228,250,129,72,51,154,160,211,213,41,100,5,190,75,26]]]);var jA;!function(e){e[e.None=0]=\"None\",e[e.Solana=1]=\"Solana\",e[e.Ethereum=2]=\"Ethereum\",e[e.UnverifiedSolana=3]=\"UnverifiedSolana\"}(jA||(jA={}));const UA=e=>{switch(e){case jA.None:return 0;case jA.Ethereum:return 20;case jA.Solana:case jA.UnverifiedSolana:return 32;default:throw new Error(\"Invalid validation enum\")}};class DA{stalenessValidation;rightOfAssociationValidation;contentLength;static LEN=8;static schema={struct:{stalenessValidation:\"u16\",rightOfAssociationValidation:\"u16\",contentLength:\"u32\"}};constructor(e){this.stalenessValidation=e.stalenessValidation,this.rightOfAssociationValidation=e.rightOfAssociationValidation,this.contentLength=e.contentLength}static deserialize(e){return new DA(Mw(this.schema,e,!0))}static async retrieve(e,t){const n=await sm(e,t);if(!n.exists)throw new Error(\"Record header account not found\");return this.deserialize(n.data.slice(96,96+this.LEN))}}class LA{header;data;constructor(e,t){this.data=t,this.header=e}static deserialize(e){const t=DA.deserialize(e.slice(96,96+DA.LEN));return new LA(t,e.slice(96+DA.LEN))}static async retrieve(e,t){const n=await sm(e,t);if(!n.exists)throw new Vw(\"Record account not found\");return this.deserialize(n.data)}static async retrieveBatch(e,t){return(await cm(e,t)).map((e=>e.exists?this.deserialize(e.data):void 0))}getContent(){const e=UA(this.header.stalenessValidation)+UA(this.header.rightOfAssociationValidation);return this.data.slice(e)}getStalenessId(){const e=UA(this.header.stalenessValidation);return this.data.slice(0,e)}getRoAId(){const e=UA(this.header.stalenessValidation),t=e+UA(this.header.rightOfAssociationValidation);return this.data.slice(e,t)}}const $A=57896044618658097711785492504343953926634992332820282019728792003956564819949n,FA=19681161376707505956807079304988542015446066515923890162744021073123829784752n;function qA(e){const t=e%$A;return t>=0n?t:$A+t}function WA(e,t){let n=e;for(;t-- >0n;)n*=n,n%=$A;return n}function VA(e,t){const n=qA(e*e),r=function(e,t){const n=qA(t*t*t),r=function(e){const t=e*e%$A*e%$A,n=WA(t,2n)*t%$A,r=WA(n,1n)*e%$A,o=WA(r,5n)*r%$A,i=WA(o,10n)*o%$A,a=WA(i,20n)*i%$A,s=WA(a,40n)*a%$A,c=WA(s,80n)*s%$A,u=WA(c,80n)*s%$A,l=WA(u,10n)*o%$A;return WA(l,2n)*e%$A}(e*qA(n*n*t));let o=qA(e*n*r);const i=qA(t*o*o),a=o,s=qA(o*FA),c=i===e,u=i===qA(-e),l=i===qA(-e*FA);return c&&(o=a),(u||l)&&(o=s),1n===(1n&qA(o))&&(o=qA(-o)),c||u?o:null}(qA(n-1n),qA(37095705934669439343138083508754565189542113879843219016388785533085940283555n*n+1n));return null!==r&&(0n!==r||!(128&t))}const KA=async(e,t,n={allowPda:!1})=>{const{address:r}=await yA(t),o=await lA.getAddress(r),i=await(async(e,t)=>{const{address:n}=await yA(t+\".\"+e,mA.V1);return n})(t,gA.SOL),a=await(async(e,t)=>{const{address:n}=await yA(e);return await cA(`\u0002${t}`,n,sA)})(t,gA.SOL),[s,c,u,l]=await cm(e,[r,o,i,a]);if(!s.exists)throw new Xw(`Domain ${t} does not exist`);const d=rA.deserialize(s.data);if(c.exists&&lA.deserialize(c.data).tag===uA.ActiveRecord){const t=await fA(e,r);if(!t)throw new eA;return t}e:if(l.exists){const e=LA.deserialize(l.data),t=e.getStalenessId(),n=e.getRoAId(),r=e.getContent();if(32!==r.length)throw new Qw(\"Record is malformed\");if(e.header.rightOfAssociationValidation!==jA.Solana||e.header.stalenessValidation!==jA.Solana)throw new tA;if(d.owner!==Uw.decode(t))break e;if(((e,t)=>e.length===t.length&&e.every(((e,n)=>e===t[n])))(n,r))return Uw.decode(r);throw new Jw(`The RoA ID shoudl be ${Uw.decode(r)} but is ${Uw.decode(n)} `)}if(u.exists){const e=new Uint8Array([...u.data.slice(rA.HEADER_LEN,rA.HEADER_LEN+32),...Uw.encode(i)]),t=u.data.slice(rA.HEADER_LEN+32,rA.HEADER_LEN+32+64),n=await(async({data:e,signature:t,address:n})=>{const r=await async function(e){const t=Ms().encode(e);return await crypto.subtle.importKey(\"raw\",t,{name:\"Ed25519\"},!0,[\"verify\"])}(n),o=Lw.encode((e=>Array.from(e).map((e=>e.toString(16).padStart(2,\"0\"))).join(\"\"))(e));return await crypto.subtle.verify({name:\"Ed25519\"},r,t,o)})({data:e,signature:t,address:d.owner});if(n)return Uw.decode(u.data.slice(rA.HEADER_LEN,rA.HEADER_LEN+32))}if(!function(e){const t=Uw.encode(e);if(32!==t.byteLength)return!1;return VA(function(e){const t=e.reduce(((e,t,n)=>`${function(e){const t=e.toString(16);return 1===t.length?`0${t}`:t}(31===n?-129&t:t)}${e}`),\"\");return BigInt(`0x${t}`)}(t),t[31])}(d.owner)){if(\"any\"===n.allowPda)return d.owner;if(n.allowPda){const t=await sm(e,d.owner);if(!t.exists)throw new Yw(\"Invalid domain owner account\");const r=n.programIds?.some((e=>t.programAddress===e));if(r)return d.owner;throw new Yw(`The program ${t.programAddress} is not allowed`)}throw new Yw}return d.owner};Error;function GA(e){return function(e){return function(e){return\"object\"==typeof e&&null!==e&&\"message\"in e}(e)&&\"string\"==typeof e.message?e.message:null==e?\"\":String(e)}(e).replace(/\\.$/u,\"\")}function HA(e,t){return n=e,Boolean(\"string\"==typeof n?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var n}class JA extends Error{constructor(e){super(e.message),this.code=\"ERR_ASSERTION\"}}function ZA(e,t=\"Assertion failed.\",n=JA){if(!e){if(t instanceof Error)throw t;throw HA(n,t)}}function YA(e,t,n=\"Assertion failed\",r=JA){try{Er(e,t)}catch(e){throw HA(r,`${n}: ${GA(e)}.`)}}function XA(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function QA(...e){const t=(e,t)=>n=>e(t(n));return{encode:Array.from(e).reverse().reduce(((e,n)=>e?t(e,n.encode):n.encode),void 0),decode:e.reduce(((e,n)=>e?t(e,n.decode):n.decode),void 0)}}function eb(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&\"number\"!=typeof t[0])throw new Error(\"alphabet.encode input should be an array of numbers\");return t.map((t=>{if(XA(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&\"string\"!=typeof t[0])throw new Error(\"alphabet.decode input should be array of strings\");return t.map((t=>{if(\"string\"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const n=e.indexOf(t);if(-1===n)throw new Error(`Unknown letter: \"${t}\". Allowed: ${e}`);return n}))}}}function tb(e=\"\"){if(\"string\"!=typeof e)throw new Error(\"join separator should be string\");return{encode:t=>{if(!Array.isArray(t)||t.length&&\"string\"!=typeof t[0])throw new Error(\"join.encode input should be array of strings\");for(let e of t)if(\"string\"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if(\"string\"!=typeof t)throw new Error(\"join.decode input should be string\");return t.split(e)}}}function nb(e,t=\"=\"){if(XA(e),\"string\"!=typeof t)throw new Error(\"padding chr should be string\");return{encode(n){if(!Array.isArray(n)||n.length&&\"string\"!=typeof n[0])throw new Error(\"padding.encode input should be array of strings\");for(let e of n)if(\"string\"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&\"string\"!=typeof n[0])throw new Error(\"padding.encode input should be array of strings\");for(let e of n)if(\"string\"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let r=n.length;if(r*e%8)throw new Error(\"Invalid padding: string should have whole number of bytes\");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error(\"Invalid padding: string has too much padding\");return n.slice(0,r)}}}function rb(e){if(\"function\"!=typeof e)throw new Error(\"normalize fn should be function\");return{encode:e=>e,decode:t=>e(t)}}function ob(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error(\"convertRadix: data should be array\");if(!e.length)return[];let r=0;const o=[],i=Array.from(e);for(i.forEach((e=>{if(XA(e),e<0||e>=t)throw new Error(`Wrong integer: ${e}`)}));;){let e=0,a=!0;for(let o=r;o<i.length;o++){const s=i[o],c=t*e+s;if(!Number.isSafeInteger(c)||t*e/t!==e||c-s!=t*e)throw new Error(\"convertRadix: carry overflow\");e=c%n;const u=Math.floor(c/n);if(i[o]=u,!Number.isSafeInteger(u)||u*n+e!==c)throw new Error(\"convertRadix: carry overflow\");a&&(u?a=!1:r=o)}if(o.push(e),a)break}for(let t=0;t<e.length-1&&0===e[t];t++)o.push(0);return o.reverse()}const ib=(e,t)=>t?ib(t,e%t):e,ab=(e,t)=>e+(t-ib(e,t));function sb(e,t,n,r){if(!Array.isArray(e))throw new Error(\"convertRadix2: data should be array\");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(ab(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${ab(t,n)}`);let o=0,i=0;const a=2**n-1,s=[];for(const r of e){if(XA(r),r>=2**t)throw new Error(`convertRadix2: invalid data word=${r} from=${t}`);if(o=o<<t|r,i+t>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${t}`);for(i+=t;i>=n;i-=n)s.push((o>>i-n&a)>>>0);o&=2**i-1}if(o=o<<n-i&a,!r&&i>=t)throw new Error(\"Excess padding\");if(!r&&o)throw new Error(`Non-zero padding: ${o}`);return r&&i>0&&s.push(o>>>0),s}function cb(e){return XA(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error(\"radix.encode input should be Uint8Array\");return ob(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&\"number\"!=typeof t[0])throw new Error(\"radix.decode input should be array of strings\");return Uint8Array.from(ob(t,e,256))}}}function ub(e,t=!1){if(XA(e),e<=0||e>32)throw new Error(\"radix2: bits should be in (0..32]\");if(ab(8,e)>32||ab(e,8)>32)throw new Error(\"radix2: carry overflow\");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error(\"radix2.encode input should be Uint8Array\");return sb(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&\"number\"!=typeof n[0])throw new Error(\"radix2.decode input should be array of strings\");return Uint8Array.from(sb(n,e,8,t))}}}const lb=QA(ub(4),eb(\"0123456789ABCDEF\"),tb(\"\")),db=QA(ub(5),eb(\"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567\"),nb(5),tb(\"\")),fb=(QA(ub(5),eb(\"0123456789ABCDEFGHIJKLMNOPQRSTUV\"),nb(5),tb(\"\")),QA(ub(5),eb(\"0123456789ABCDEFGHJKMNPQRSTVWXYZ\"),tb(\"\"),rb((e=>e.toUpperCase().replace(/O/g,\"0\").replace(/[IL]/g,\"1\")))),QA(ub(6),eb(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\"),nb(6),tb(\"\"))),hb=QA(ub(6),eb(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\"),nb(6),tb(\"\")),pb=(QA(ub(6),eb(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\"),tb(\"\")),e=>QA(cb(58),eb(e),tb(\"\"))),gb=pb(\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\"),mb=[0,2,3,5,6,7,9,10,11],yb={encode(e){let t=\"\";for(let n=0;n<e.length;n+=8){const r=e.subarray(n,n+8);t+=gb.encode(r).padStart(mb[r.length],\"1\")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const r=e.slice(n,n+11),o=mb.indexOf(r.length),i=gb.decode(r);for(let e=0;e<i.length-o;e++)if(0!==i[e])throw new Error(\"base58xmr: wrong padding\");t=t.concat(Array.from(i.slice(i.length-o)))}return Uint8Array.from(t)}};QA(eb(\"qpzry9x8gf2tvdw0s3jn54khce6mua7l\"),tb(\"\"));const vb={encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)};QA(ub(4),eb(\"0123456789abcdef\"),tb(\"\"),rb((e=>{if(\"string\"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})));n(1048).hp;!function(){const e=[]}();function wb(e){return e instanceof Uint8Array}function Ab(e){ZA(wb(e),\"Value must be a Uint8Array.\")}function bb(e,t,n){return new Xd({...e,*refiner(r,o){yield*e.refiner(r,o);const i=Zd(n(r,o),o,e,r);for(const e of i)yield{...e,refinement:t}}})}var Sb;!function(e){e.Copyable=\"copyable\",e.Divider=\"divider\",e.Heading=\"heading\",e.Panel=\"panel\",e.Spinner=\"spinner\",e.Text=\"text\",e.Image=\"image\",e.Row=\"row\",e.Address=\"address\",e.Button=\"button\",e.Input=\"input\",e.Form=\"form\"}(Sb||(Sb={}));const Eb=rf({type:of()}),xb=(af(Eb,rf({value:sf(\"unknown\",(()=>!0))})),af(Eb,rf({type:cf(Sb.Image),value:bb(of(),\"SVG\",(e=>!!e.includes(\"<svg\")||\"Value is not a valid SVG.\"))}))),Tb=function(e,t,n=[]){return(...r)=>{if(1===r.length&&function(e){if(\"object\"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}}(r[0])){const n={...r[0],type:e};return YA(n,t,`Invalid ${e} component`),n}const o=n.reduce(((e,t,n)=>void 0!==r[n]?{...e,[t]:r[n]}:e),{type:e});return YA(o,t,`Invalid ${e} component`),o}}(Sb.Image,xb,[\"value\"]);async function kb(e,t){const n=await async function(e,t){if(\"function\"!=typeof fetch)throw new Error(`Failed to fetch image data from \"${e}\": Using this function requires the \"endowment:network-access\" permission.`);return fetch(e,t).then((async t=>{if(!t.ok)throw new Error(`Failed to fetch image data from \"${e}\": ${t.status} ${t.statusText}`);const n=await t.blob();return ZA(\"image/jpeg\"===n.type||\"image/png\"===n.type,\"Expected image data to be a JPEG or PNG image.\"),n}))}(e,t),r=new Uint8Array(await n.arrayBuffer());return`data:${n.type};base64,${function(e){return Ab(e),fb.encode(e)}(r)}`}const Ib='<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 48 48\" width=\"48\" height=\"48\">\\n  <path fill=\"#999999\" d=\"M42.75 24c0 10.59375-8.53125 19.21875-19.125 19.21875-10.6875 0-19.21875-8.625-19.21875-19.21875 0-10.59375 8.53125-19.21875 19.21875-19.21875 10.59375 0 19.125 8.625 19.125 19.21875zM23.625 14.0625c-3.09375 0-5.90625 2.25-5.90625 5.4375 0 0.84375 0.75 1.59375 1.59375 1.59375 0.84375 0 1.59375-0.75 1.59375-1.59375 0-1.125 1.03125-2.25 2.71875-2.25 1.59375 0 2.625 1.125 2.625 2.25 0 0.5625-0.375 1.03125-1.3125 1.59375l0 0c-1.125 0.75-3 1.96875-3 4.5l0 0.46875c0 0.84375 0.75 1.59375 1.6875 1.59375 0.84375 0 1.59375-0.75 1.59375-1.59375l0-0.46875c0-0.65625 0.28125-1.125 1.40625-1.78125 1.03125-0.65625 2.8125-1.875 2.8125-4.3125 0-3.1875-2.8125-5.4375-5.8125-5.4375zM23.53125 31.875c-0.84375 0-1.59375 0.65625-1.59375 1.59375 0 0.84375 0.75 1.59375 1.59375 1.59375l0.09375 0c0.84375 0 1.59375-0.75 1.59375-1.59375 0-0.9375-0.75-1.59375-1.59375-1.59375z\"/>\\n</svg>';function _b(e){return e.includes(\"swift:0/iso4217:\")}var Cb=function(e){return e.Benign=\"Benign\",e.Warning=\"Warning\",e.Malicious=\"Malicious\",e}({}),Rb=function(e){return e.SUCCESS=\"SUCCESS\",e.ERROR=\"ERROR\",e}({});const Pb=(e,t)=>{const{to:n,type:r,status:o}=e,{address:i}=t;if(!(r===It.Receive||o===kt.Failed))return!1;const{hasReceivedSOL:a,receivedSOLAmount:s}=n.reduce(((e,t)=>t.address!==i||!t.asset?.fungible||t.asset.type!==rc.SolMainnet&&t.asset.type!==rc.SolDevnet?e:{hasReceivedSOL:!0,receivedSOLAmount:e.receivedSOLAmount.plus(t.asset.amount)}),{hasReceivedSOL:!1,receivedSOLAmount:new jo(0)});return a&&s.isLessThan(.001)};function Ob(e,t){return[Pb].some((n=>n(e,t)))}function Nb({scope:e,transactionData:t}){const n=function(e){const t=new jo(e.meta?.fee?.toString()??\"0\");return t.dividedBy(ec)}(t),r=function(e){const t=e.transaction.signatures.length;return jo(5e3).dividedBy(ec).multipliedBy(t)}(t),o=n.minus(r),i=[{type:\"base\",asset:{fungible:!0,type:sc[e].nativeToken.caip19Id,unit:sc[e].nativeToken.symbol,amount:r.toString()}}];return o?.isGreaterThan(0)&&i.push({type:\"priority\",asset:{fungible:!0,type:sc[e].nativeToken.caip19Id,unit:sc[e].nativeToken.symbol,amount:o.toString()}}),i}function Bb({scope:e,transactionData:t}){const n=Nb({scope:e,transactionData:t}),r=[],o=[],i=new Map(t.meta?.preBalances?.map(((e,t)=>[t,new jo(e.toString())]))??[]),a=new Map(t.meta?.postBalances?.map(((e,t)=>[t,new jo(e.toString())]))??[]),s=[...t.transaction.message.accountKeys,...t.meta?.loadedAddresses?.writable??[],...t.meta?.loadedAddresses?.readonly??[]],c=new Set([...Array.from(i.keys()),...Array.from(a.keys())]);for(const n of c){const c=s[n]?.toString();if(!c)continue;const u=i.get(n)??new jo(0),l=a.get(n)??new jo(0),d=0===n?iv(t.meta?.fee??0):new jo(0),f=u.minus(l).dividedBy(new jo(ec)).minus(d);if(f.isZero())continue;const h=f.absoluteValue().toString();u.isGreaterThan(l)&&r.push({address:c,asset:{fungible:!0,type:sc[e].nativeToken.caip19Id,unit:sc[e].nativeToken.symbol,amount:h}}),u.isLessThan(l)&&o.push({address:c,asset:{fungible:!0,type:sc[e].nativeToken.caip19Id,unit:sc[e].nativeToken.symbol,amount:h}})}const u=function({scope:e,transactionData:t}){const{instructions:n}=t.transaction.message,r=[],o=[],i=t.transaction.message.accountKeys.findIndex((e=>e===cd));if(-1===i)return{from:r,to:o};return n.forEach((n=>{const{accounts:a,data:s,programIdIndex:c}=n;if(c!==i)return;const[u,l]=a;if(void 0===u||void 0===l||u!==l)return;const d=t.transaction.message.accountKeys[u],f=t.transaction.message.accountKeys[l];if(!d||!f||d!==f)return;const h=function(e){let t=BigInt(0);for(let n=4;n<12;n++)t|=BigInt(e[n]??0)<<BigInt(8*(n-4));return jo(t.toString()).dividedBy(ec)}(Dd.decode(s));r.push({address:d,asset:{amount:h.toString(),fungible:!0,type:sc[e].nativeToken.caip19Id,unit:sc[e].nativeToken.symbol}}),o.push({address:f,asset:{amount:h.toString(),fungible:!0,type:sc[e].nativeToken.caip19Id,unit:sc[e].nativeToken.symbol}})})),{from:r,to:o}}({scope:e,transactionData:t});return u.from.length>0&&r.push(...u.from),u.to.length>0&&o.push(...u.to),{fees:n,from:r,to:o}}function zb({scope:e,transactionData:t}){const n=Nb({scope:e,transactionData:t}),r=[...t.transaction.message.accountKeys,...t.meta?.loadedAddresses?.writable??[],...t.meta?.loadedAddresses?.readonly??[]],o=[],i=[],{instructions:a}=t.transaction.message;a.forEach((t=>{const{accounts:n,data:a,programIdIndex:s}=t;if(r[s]!==cd)return;const[c,u]=n;if(void 0===c||void 0===u)return;const l=r[c],d=r[u];if(!l||!d)return;const f=Dd.decode(a),h=function(e){let t=BigInt(0);for(let n=0;n<4;n++)t|=BigInt(e[n]??0)<<BigInt(8*n);return Number(t)}(f);if(2!==h)return;const p=function(e){let t=BigInt(0);for(let n=4;n<12;n++)t|=BigInt(e[n]??0)<<BigInt(8*(n-4));return jo(t.toString()).dividedBy(ec)}(f);o.push({address:l,asset:{amount:p.toString(),fungible:!0,type:sc[e].nativeToken.caip19Id,unit:sc[e].nativeToken.symbol}}),i.push({address:d,asset:{amount:p.toString(),fungible:!0,type:sc[e].nativeToken.caip19Id,unit:sc[e].nativeToken.symbol}})}));return{fees:n,from:Mb(o),to:Mb(i)}}function Mb(e){return e.reduce(((e,t)=>{const n=e.find((e=>!0===e?.asset?.fungible&&!0===t.asset?.fungible&&e.asset.type===t.asset.type&&e.address===t.address));if(n&&!0===n.asset?.fungible&&!0===t.asset?.fungible){const e=new jo(n.asset.amount).plus(t.asset.amount);n.asset.amount=e.toString()}else e.push(t);return e}),[])}function jb({scope:e,transactionData:t}){const n=[],r=[],o=new Map(t.meta?.preTokenBalances?.map((e=>[e.accountIndex,new jo(e.uiTokenAmount.amount)]))??[]),i=new Map(t.meta?.postTokenBalances?.map((e=>[e.accountIndex,new jo(e.uiTokenAmount.amount)]))??[]),a=new Set([...t.meta?.preTokenBalances?.map((e=>e.accountIndex))??[],...t.meta?.postTokenBalances?.map((e=>e.accountIndex))??[]]);for(const s of a){const a=o.get(s)??new jo(0),c=(i.get(s)??new jo(0)).minus(a);if(c.isZero())continue;const u=t.meta?.preTokenBalances?.find((e=>e.accountIndex===s))??t.meta?.postTokenBalances?.find((e=>e.accountIndex===s));if(!u)continue;const{mint:l,uiTokenAmount:{decimals:d},owner:f}=u,h=gy(e,l);if(!f)continue;const p=c.absoluteValue().dividedBy(new jo(10).pow(d)).toString();c.isNegative()&&n.push({address:f,asset:{fungible:!0,type:h,unit:\"\",amount:p}}),c.isPositive()&&r.push({address:f,asset:{fungible:!0,type:h,unit:\"\",amount:p}})}const s=function({scope:e,transactionData:t}){const{instructions:n}=t.transaction.message,r=[],o=[],i=t.transaction.message.accountKeys.findIndex((e=>e===bh));if(-1===i)return{from:r,to:o};return n.forEach((n=>{const{accounts:a,data:s,programIdIndex:c}=n;if(c!==i)return;let u,l;if(5===a.length?(u=a[0],l=a[2]):3===a.length&&(u=a[0],l=a[1]),void 0===u||void 0===l||u!==l)return;const d=t.transaction.message.accountKeys[u],f=t.transaction.message.accountKeys[l];if(!d||!f||d!==f)return;const h=function(e){let t=BigInt(0);for(let n=1;n<9;n++)t|=BigInt(e[n]??0)<<BigInt(8*(n-1));return jo(t.toString()).dividedBy(1e6)}(Dd.decode(s)),p=t.meta?.preTokenBalances?.find((e=>e.accountIndex===u))?.mint,g=t.meta?.preTokenBalances?.find((e=>e.accountIndex===u))?.owner;if(!p||!g)return;const m=gy(e,p);r.push({address:g,asset:{amount:h.toString(),fungible:!0,type:m,unit:\"\"}}),o.push({address:g,asset:{amount:h.toString(),fungible:!0,type:m,unit:\"\"}})})),{from:r,to:o}}({scope:e,transactionData:t});return s.from.length>0&&n.push(...s.from),s.to.length>0&&r.push(...s.to),{from:n,to:r}}function Ub({transactionData:e,account:t,scope:n}){try{const{blockTime:r}=e,{id:o,address:i}=t,a=e.transaction.signatures[0];if(!a)throw new Error(\"Transaction ID is required\");const s=Number(r),c=function(e){const t=e.meta?.err||e.meta?.status&&\"Err\"in e.meta.status,n=t?kt.Failed:kt.Confirmed;return n}(e);let u=[],l=[],d=[];const f=(c===kt.Failed?zb:Bb)({scope:n,transactionData:e});u=f.fees,l=f.from,d=f.to;const{from:h,to:p}=jb({scope:n,transactionData:e});let g=[...h,...l],m=[...p,...d];const y=function({address:e,status:t,from:n,to:r}){if(0===n.length||0===r.length||t===kt.Failed)return It.Unknown;const o=n.filter((t=>t.address===e)),i=r.filter((t=>t.address===e)),a=o.length>0,s=i.length>0,c=n.every((t=>r.some((n=>n.address===e&&!0===t.asset?.fungible&&!0===n.asset?.fungible&&t.asset.type===n.asset.type)))),u=r.every((t=>n.some((n=>n.address===e&&!0===n.asset?.fungible&&!0===t.asset?.fungible&&n.asset.type===t.asset.type))));if(c&&u)return It.Send;if(a&&s)return It.Swap;if(a)return It.Send;return It.Receive}({address:zs(i),status:c,from:g,to:m});return y===It.Swap&&(g=g.filter((e=>e.address===i)),m=m.filter((e=>e.address===i))),y===It.Receive&&(m=m.filter((e=>e.address===i)),u=[]),{id:a,account:o,timestamp:s,chain:n,status:c,type:y,from:g,to:m,fees:u,events:[{status:c,timestamp:s}]}}catch(e){return Cd.warn(e,\"Error mapping transaction\"),null}}class Db{#f;#k;#i;#I=3e4;#_=10000n;constructor(e,t,n){this.#f=e,this.#k=t,this.#i=n}async buildTransactionMessage(e){this.#i.log(\"Build transfer SPL token transaction message\");const{from:t,to:n,mint:r,amount:o,network:i}=e;ti(r,\"Mint is required\");const{privateKeyBytes:a}=await Nm({entropySource:t.entropySource,derivationPath:t.derivationPath}),s=await Zl(a),c=await this.getTokenAccount({mint:r,network:i});Db.assertAccountExists(c);const u=c.programAddress,l=function(e,t){const n=new jo(e.toString());if(n.isNegative())throw new Error(\"Token amount cannot be negative\");const r=n.times(10**t).integerValue(jo.ROUND_DOWN);return BigInt(r.toString())}(o,this.getDecimals(c)),[d,f]=await Promise.all([Db.deriveAssociatedTokenAccountAddress({mint:r,owner:s.address,tokenProgram:u}),Db.deriveAssociatedTokenAccountAddress({mint:r,owner:n,tokenProgram:u})]),h=await this.#k.getLatestBlockhash(i),p=$u(Al({version:0}),(e=>Il(s.address,e)),(e=>qu(h,e)),(e=>Cl([jh({mint:r,payer:s,tokenProgram:u,owner:n,ata:f}),rp({source:d,destination:f,authority:s,amount:l},{programAddress:u})],e)));return Rl([Qf({units:this.#I}),rh({microLamports:this.#_})],p)}static async deriveAssociatedTokenAccountAddress({mint:e,owner:t,tokenProgram:n}){return(await Bh({mint:e,owner:t,tokenProgram:n}))[0]}async getTokenAccount({mint:e,network:t}){const n=this.#f.getRpc(t),r=await async function(e,t,n={}){const{abortSignal:r,...o}=n,{value:i}=await e.getAccountInfo(t,{...o,encoding:\"jsonParsed\"}).send({abortSignal:r});return i&&\"object\"==typeof i&&\"parsed\"in i.data?im(t,i):om(t,i)}(n,e);return r}getDecimals(e){Db.assertAccountExists(e),Db.assertAccountDecoded(e);const{decimals:t}=e.data;if(!t)throw new Error(`Decimals not found for ${e}`);return t}static isAccountExists(e){return e.exists}static assertAccountExists(e){if(!Db.isAccountExists(e))throw new Error(\"Token account does not exist\")}static assertAccountNotExists(e){if(Db.isAccountExists(e))throw new Error(\"Token account exists\")}static isAccountDecoded(e){return Db.assertAccountExists(e),!(e.data instanceof Uint8Array)}static assertAccountDecoded(e){if(Db.assertAccountExists(e),!Db.isAccountDecoded(e))throw new Error(\"Token account is encoded. Implement a decoder.\")}getComputeUnitLimit(){return this.#I}getComputeUnitPriceMicroLamportsPerComputeUnit(){return this.#_}}const Lb=new ey,$b=new class{#i;#C=\"[⚡ EventEmitter]\";#R=new Map;constructor(e){this.#i=e}on(e,t){this.#i.info(this.#C,`Adding listener for event ${e}`),this.#R.has(e)||this.#R.set(e,new Set),this.#R.get(e)?.add(t)}off(e,t){this.#i.info(this.#C,`Removing listener for event ${e}`);const n=this.#R.get(e);n&&(n.delete(t),0===n.size&&this.#R.delete(e))}async emitSync(e,t){this.#i.info(this.#C,`Emitting event ${e}`);const n=this.#R.get(e);if(n){const e=Array.from(n).map((async e=>await e(t)));await Promise.allSettled(e)}}removeAllListeners(e){e?(this.#i.info(this.#C,`Removing all listeners for event ${e}`),this.#R.delete(e)):(this.#i.info(this.#C,\"Removing all listeners for all events\"),this.#R.clear())}listenerCount(e){const t=this.#R.get(e);return t?t.size:0}eventNames(){return Array.from(this.#R.keys())}}(Cd),Fb=new class{#g;constructor(e){this.#g=e}async get(){const e=await snap.request({method:\"snap_getState\",params:{encrypted:this.#g.encrypted}}),t=Bm(e??{});var n,r;return n=this.#g.defaultState,r=t,{...n,...Object.fromEntries(Object.entries(r).filter((([e,t])=>null!=t&&(!t||\"object\"!=typeof t||Object.keys(t).length>0))))}}async getKey(e){const t=await snap.request({method:\"snap_getState\",params:{key:e,encrypted:this.#g.encrypted}});if(null!==t)return Bm(t)}async setKey(e,t){await snap.request({method:\"snap_setState\",params:{key:e,value:zm(t),encrypted:this.#g.encrypted}})}async update(e){return this.get().then((async t=>{const n=e(t);return await snap.request({method:\"snap_manageState\",params:{operation:\"update\",newState:zm(n),encrypted:this.#g.encrypted}}),n}))}async deleteKey(e){await this.update((t=>((0,ni.unset)(t,e),t)))}}({encrypted:!1,defaultState:{keyringAccounts:{},mapInterfaceNameToId:{},transactions:{},signatures:{},assets:{},tokenPrices:{},subscriptions:{}}}),qb=new class{#w;prefix;logger;constructor(e,t=console,n=\"__cache__default\"){this.#w=e,this.logger=t,this.prefix=n}async get(e){return(await this.mget([e]))[e]}async set(e,t,n=Number.MAX_SAFE_INTEGER){this.#P(n),await this.#w.setKey(`${this.prefix}.${e}`,{value:t,expiresAt:Math.min(Date.now()+(n??Number.MAX_SAFE_INTEGER),Number.MAX_SAFE_INTEGER)})}#P(e){if(void 0!==e){if(\"number\"!=typeof e)throw new Error(\"TTL must be a number\");if(e<0)throw new Error(\"TTL must be positive\");if(e>Number.MAX_SAFE_INTEGER)throw new Error(\"TTL must be less than 2^53 - 1\")}}async delete(e){return(await this.mdelete([e]))[e]??!1}async clear(){await this.#w.setKey(this.prefix,{})}async has(e){return void 0!==await this.get(e)}async keys(){const e=await this.#w.getKey(this.prefix);return Object.keys(e??{})}async size(){const e=await this.#w.getKey(this.prefix);return Object.keys(e??{}).length}async peek(e){const t=await this.#w.getKey(this.prefix),n=t?.[e];return n?.value}async mget(e){const t=await this.#w.getKey(this.prefix),n=Object.entries(t??{}).filter((([t])=>e.includes(t))),r=n.filter((([e,t])=>t&&t.expiresAt<Date.now()));return await this.mdelete(r.map((([e])=>e))),n.reduce(((e,[t,n])=>void 0===n?(this.logger.info(`[StateCache] ❌ Cache miss for key \"${t}\"`),e):(n.expiresAt<Date.now()?(this.logger.info(`[StateCache] ⌛ Cache expired for key \"${t}\"`),e[t]=void 0):(this.logger.info(`[StateCache] 🎉 Cache hit for key \"${t}\"`),e[t]=n.value),e)),{})}async mset(e){if(0!==e.length)if(1!==e.length)e.forEach((({ttlMilliseconds:e})=>{this.#P(e)})),await this.#w.update((t=>{const n=t[this.prefix]??{};return e.forEach((({key:e,value:t,ttlMilliseconds:r})=>{void 0!==t&&(n[e]={value:t,expiresAt:Math.min(Date.now()+(r??Number.MAX_SAFE_INTEGER),Number.MAX_SAFE_INTEGER)})})),t[this.prefix]=n,t}));else{ti(e[0]);const{key:t,value:n,ttlMilliseconds:r}=e[0];await this.set(t,n,r)}}async mdelete(e){const t={};return await this.#w.update((n=>{const r=n[this.prefix]??{};return e.forEach((e=>{void 0===r[e]?t[e]=!1:(delete r[e],t[e]=!0)})),n[this.prefix]=r,n})),t}}(Fb,Cd),Wb=new class{#c=new Map;logger;constructor(e){this.logger=e}#P(e){if(void 0!==e){if(\"number\"!=typeof e)throw new Error(\"TTL must be a number\");if(e<0)throw new Error(\"TTL must be positive\");if(e>Number.MAX_SAFE_INTEGER)throw new Error(\"TTL must be less than 2^53 - 1\")}}#O(e){return e.expiresAt<Date.now()}async#N(){const e=[];for(const[t,n]of this.#c.entries())this.#O(n)&&e.push(t);await this.mdelete(e)}async get(e){return(await this.mget([e]))[e]}async set(e,t,n=Number.MAX_SAFE_INTEGER){this.#P(n),this.#c.set(e,{value:t,expiresAt:Math.min(Date.now()+(n??Number.MAX_SAFE_INTEGER),Number.MAX_SAFE_INTEGER)})}async delete(e){return(await this.mdelete([e]))[e]??!1}async clear(){this.#c.clear()}async has(e){const t=this.#c.get(e);return!!t&&(!this.#O(t)||(this.#c.delete(e),!1))}async keys(){return await this.#N(),Array.from(this.#c.keys())}async size(){return await this.#N(),this.#c.size}async peek(e){const t=this.#c.get(e);if(t){if(!this.#O(t))return t.value;this.#c.delete(e)}}async mget(e){await this.#N();const t={};for(const n of e){const e=this.#c.get(n);e?(this.logger.info(`[InMemoryCache] 🎉 Cache hit for key \"${n}\"`),t[n]=e.value):(this.logger.info(`[InMemoryCache] ❌ Cache miss for key \"${n}\"`),t[n]=void 0)}return t}async mset(e){if(0!==e.length)if(1!==e.length)e.forEach((({ttlMilliseconds:e})=>{this.#P(e)})),e.forEach((({key:e,value:t,ttlMilliseconds:n})=>{void 0!==t&&this.#c.set(e,{value:t,expiresAt:Math.min(Date.now()+(n??Number.MAX_SAFE_INTEGER),Number.MAX_SAFE_INTEGER)})}));else{ti(e[0]);const{key:t,value:n,ttlMilliseconds:r}=e[0];await this.set(t,n,r)}}async mdelete(e){return Object.fromEntries(e.map((e=>[e,this.#c.delete(e)])))}}(Cd),Vb=new class{#v;#B=new Map;constructor(e){this.#v=e}#z(e){const t=this.#v.getNetworkBy(\"caip2Id\",e);var n;const r=fw($u(t.rpcUrls,(n=pw,e=>e.map(n)),gw,yw));return this.#B.set(e,r),r}getRpc(e){return z(e,yc),this.#B.get(e)??this.#z(e)}}(Lb),Kb=new class{#v;constructor(e){this.#v=e}async getAll(){return(await snap.request({method:\"snap_getWebSockets\"})).map((e=>({...e,network:this.#M(e.url)})))}async getById(e){return(await this.getAll()).find((t=>t.id===e))??null}async findByNetwork(e){return(await this.getAll()).find((t=>t.network===e))??null}async save(e){const{url:t,protocols:n}=e,r=await snap.request({method:\"snap_openWebSocket\",params:{url:t,...n?{protocols:n}:{}}});return{...e,id:r}}async delete(e){await snap.request({method:\"snap_closeWebSocket\",params:{id:e}})}#M(e){const t=this.#v.getNetworkBy(\"webSocketUrl\",e);if(!t)throw new Error(`No network found for WebSocket URL: ${e}`);return t.caip2Id}}(Lb),Gb=new class{#v;#j;#i;#C=\"[🔌 WebSocketConnectionService]\";#U;#D;#L=new Map;constructor(e,t,n,r){const{maxReconnectAttempts:o,reconnectDelayMilliseconds:i}=t.get().subscription;this.#j=e,this.#v=t,this.#i=r,this.#U=o,this.#D=i,n.on(\"onStart\",this.setupAllConnections.bind(this)),n.on(\"onUpdate\",this.setupAllConnections.bind(this)),n.on(\"onInstall\",this.setupAllConnections.bind(this)),n.on(\"onWebSocketEvent\",this.#$.bind(this)),n.on(\"onTestSetupAllConnections\",this.setupAllConnections.bind(this)),n.on(\"onTestCloseAllConnections\",this.#F.bind(this))}async setupAllConnections(){this.#i.info(this.#C,\"Setting up all connections\");const{activeNetworks:e}=this.#v.get(),t=(0,ni.difference)(Object.values(nc),e),n=await this.#j.getAll(),r=e=>n.some((t=>t.network===e)),o=e.filter((e=>!r(e))).map((async e=>this.openConnection(e))),i=t.filter(r).map((async e=>this.#q(e)));await Promise.allSettled([...o,...i])}async openConnection(e){this.#i.info(this.#C,`Opening connection for network ${e}`);const t=this.#v.getNetworkBy(\"caip2Id\",e),{webSocketUrl:n}=t,r=await this.#j.findByNetwork(e);if(r)return this.#i.info(this.#C,`Connection for network ${e} already exists`,r),r;let o=0;for(;o<this.#U;)try{this.#i.info(this.#C,`Opening connection for network ${e} to ${n} (attempt ${o+1}/${this.#U})`);return await this.#j.save({network:e,url:n,protocols:[]})}catch(e){if(o+=1,o>=this.#U)throw this.#i.error(this.#C,\"Failed to open connection after all retry attempts:\",e),e;const t=this.#D*Math.pow(2,o-1);this.#i.info(this.#C,`Connection attempt ${o} failed, retrying in ${t}ms:`,e),await new Promise((e=>setTimeout(e,t)))}throw new Error(\"Unexpected end of openConnection method\")}async#q(e){this.#i.info(this.#C,`Closing connection for network ${e}`),this.#L.delete(e);const t=await this.#j.findByNetwork(e);if(!t)return void this.#i.warn(this.#C,`Tried to close connection for network ${e} but no connection was found`);const n=t.id;try{await this.#j.delete(n),this.#i.info(this.#C,` ❌ Closed connection ${n}`)}catch(e){this.#i.error(this.#C,\"Failed to close connection:\",e)}}onConnectionRecovery(e,t){const n=this.#L.get(e)??[];this.#L.set(e,[...n,t])}async getConnectionIdByNetwork(e){const t=await this.#j.findByNetwork(e);return t?.id??null}async#$(e){if(\"open\"!==e.type&&\"close\"!==e.type)return;const{id:t,type:n}=e,r=await this.#j.getById(t);if(!r)return void this.#i.warn(this.#C,`No connection found with id: ${t}`,e);const{network:o}=r;switch(this.#i.info(this.#C,`Handling connection event: ${n} for ${t}`),n){case\"open\":await this.#W(o);break;case\"close\":await this.#V(o);break;default:this.#i.warn(this.#C,`Unknown connection event type: ${n}`)}}async#W(e){this.#i.info(this.#C,\"✅ Connected to\",e),this.#i.info(this.#C,\"Triggering connection recovery callbacks\",e);const t=this.#L.get(e)?.map((async e=>{try{await e()}catch(e){this.#i.error(this.#C,\"Error in connection recovery callback:\",e)}}))??[];await Promise.allSettled(t)}async#V(e){await this.openConnection(e)}async#F(){this.#i.info(this.#C,\"Closing all connections\");const e=Object.values(nc).map((async e=>{await this.#q(e)}));await Promise.allSettled(e)}}(Kb,Lb,$b,Cd),Hb=new class{#w;#K=\"subscriptions\";constructor(e){this.#w=e}async getAll(){const e=await this.#w.getKey(`${this.#K}`);return Object.values(e??{})}async getById(e){return await this.#w.getKey(`${this.#K}.${e}`)}async save(e){await this.#w.setKey(`${this.#K}.${e.id}`,e)}async delete(e){await this.#w.deleteKey(`${this.#K}.${e}`)}async deleteAll(){await this.#w.deleteKey(`${this.#K}`)}async update(e){await this.#w.setKey(`${this.#K}.${e.id}`,e)}async findBy(e,t){const n=await this.getAll();if(0!==n.length)return n.find((n=>e in n&&n[e]===t))}async clear(){await this.#w.deleteKey(`${this.#K}`)}}(Fb),Jb=new class{#G;#H;#i;loggerPrefix=\"[🔔 SubscriptionService]\";#J=new Map;constructor(e,t,n,r){this.#G=e,this.#H=t,this.#i=r,n.on(\"onStart\",this.#Z.bind(this)),n.on(\"onWebSocketEvent\",this.#$.bind(this)),n.on(\"onTestSubscribeToAccount\",this.#Y.bind(this)),n.on(\"onTestUnsubscribeFromAccount\",this.#X.bind(this))}async subscribe(e,t){this.#i.info(this.loggerPrefix,\"New subscription request\",e,t);const{method:n,params:r,network:o}=e,{onConnectionRecovery:i}=t,a=this.#Q(),s={...e,id:a,status:\"pending\",requestId:a,createdAt:(new Date).toISOString()};await this.#H.save(s),this.#J.set(a,t),i&&this.#G.onConnectionRecovery(o,i);const c=await this.#G.getConnectionIdByNetwork(o),u=async e=>{const t={jsonrpc:\"2.0\",id:a,method:n,params:r};e&&await this.#ee(e,t)};return this.#G.onConnectionRecovery(o,(async()=>{const e=await this.#G.getConnectionIdByNetwork(o);e&&await u(e)})),c?await u(c):(this.#i.info(this.loggerPrefix,`No connection found for network ${o}, opening a new one`),await this.#G.openConnection(o)),s.id}async unsubscribe(e){this.#i.info(this.loggerPrefix,\"Unsubscribing\",e);const t=await this.#H.getById(e);if(!t)return void this.#i.warn(this.loggerPrefix,`Subscription not found: ${e}`);const{id:n,network:r,unsubscribeMethod:o}=t;if(\"confirmed\"===t.status){const e=await this.#G.getConnectionIdByNetwork(r);e&&await this.#ee(e,{jsonrpc:\"2.0\",id:this.#Q(),method:o,params:[t.rpcSubscriptionId]})}await this.#H.delete(n)}async#$(e){if(\"message\"===e.type){this.#i.info(this.loggerPrefix,\"Received message\",e);try{const{data:t}=e;let n;if(t&&\"object\"==typeof t&&\"type\"in t)if(\"text\"===t.type)n=\"string\"==typeof t.message?JSON.parse(t.message):t.message;else{if(\"binary\"!==t.type)return void this.#i.warn(this.loggerPrefix,\"Unknown message data\",t);{const e=t.message,r=String.fromCharCode(...e);n=JSON.parse(r)}}else n=\"string\"==typeof t?JSON.parse(t):t;this.#te(n)?await this.#ne(n):this.#re(n)?await this.#oe(n):(j(n,Ef)||\"error\"in n)&&await this.#ie(n)}catch(e){this.#i.error(this.loggerPrefix,\"Failed to handle message\",e)}}}async#ee(e,t){this.#i.info(this.loggerPrefix,`Sending message to connection ${e}`,t),await snap.request({method:\"snap_sendWebSocketMessage\",params:{id:e,message:JSON.stringify(t)}})}#te(e){return\"method\"in e&&void 0!==e.method&&\"params\"in e}#re(e){return\"jsonrpc\"in e&&\"2.0\"===e.jsonrpc&&\"id\"in e&&\"result\"in e}async#ne(e){const{subscription:t,result:n}=e.params,r=await this.#H.findBy(\"rpcSubscriptionId\",t);if(r)try{const e=this.#J.get(r.id);if(!e)return void this.#i.warn(this.loggerPrefix,`Received a notification, but no matching callbacks found for subscription ID: ${r.id}.`);await e.onNotification(n)}catch(e){this.#i.error(this.loggerPrefix,`Error in subscription callback for ${t}:`,e)}else this.#i.warn(this.loggerPrefix,`Received a notification, but no matching confirmed subscription found for RPC subscription ID: ${t}.`)}async#oe(e){const{id:t,result:n}=e,r=await this.#H.getById(String(t));r?\"confirmed\"!==r.status?(await this.#H.update({...r,status:\"confirmed\",rpcSubscriptionId:n,confirmedAt:(new Date).toISOString()}),this.#i.info(this.loggerPrefix,`Subscription confirmed: request ID: ${t} -> RPC ID: ${n}`)):this.#i.warn(this.loggerPrefix,`Received subscription confirmation, but the subscription is already confirmed for request ID: ${t}.`):this.#i.warn(this.loggerPrefix,`Received subscription confirmation, but no matching pending subscription found for subscription ID: ${t}.`)}async#ie(e){if(\"id\"in e&&void 0!==e.id){const t=await this.#H.getById(String(e.id));if(\"pending\"===t?.status){await this.#H.delete(t.id),this.#i.error(this.loggerPrefix,`Subscription establishment failed for ${t.id}:`,e.error);const n=this.#J.get(t.id);if(n?.onSubscriptionFailed)try{await n.onSubscriptionFailed(e.error)}catch(e){this.#i.error(\"Error in subscription error callback:\",e)}}else this.#i.error(this.loggerPrefix,`Received error for request ID: ${e.id}`,e.error)}else this.#i.error(this.loggerPrefix,\"Connection-level error:\",e.error)}async#Z(){this.#i.info(this.loggerPrefix,\"Clearing subscriptions\"),await this.#H.deleteAll()}#Q(){return globalThis.crypto.randomUUID()}async#Y(){const e={method:\"accountSubscribe\",unsubscribeMethod:\"accountUnsubscribe\",network:nc.Mainnet,params:[\"8A4AptCThfbuknsbteHgGKXczfJpfjuVA9SLTSGaaLGC\",{commitment:\"confirmed\"}]};this.#i.info(this.loggerPrefix,\"Testing subscription\",e);const t={onNotification:async e=>{this.#i.info(this.loggerPrefix,\"onNotification\",e)},onSubscriptionFailed:async e=>{this.#i.info(this.loggerPrefix,\"onSubscriptionFailed\",e)},onConnectionRecovery:async()=>{this.#i.info(this.loggerPrefix,\"onConnectionRecovery\")}};await this.subscribe(e,t)}async#X(){const e=(await this.#H.getAll()).find((e=>\"accountSubscribe\"===e.method&&\"8A4AptCThfbuknsbteHgGKXczfJpfjuVA9SLTSGaaLGC\"===(0,ni.get)(e,\"params[0]\")));e&&await this.unsubscribe(e.id)}}(Gb,Hb,$b,Cd),Zb=new class{#ae;#f;#i;#C=\"[✍️ SignatureMonitor]\";constructor(e,t,n){this.#ae=e,this.#f=t,this.#i=n}async monitor(e){this.#i.info(this.#C,\"Monitoring signature\",e);const{network:t,signature:n,commitment:r}=e;await this.#ae.subscribe({method:\"signatureSubscribe\",unsubscribeMethod:\"signatureUnsubscribe\",network:t,params:[n,{commitment:r,enableReceivedNotification:!1}]},{onNotification:async t=>{await this.#ne(e)},onConnectionRecovery:async()=>{await this.#se(e)}})}async#ne(e){const{signature:t,commitment:n,onCommitmentReached:r}=e;this.#i.info(this.#C,`🎉 Signature ${t} reached commitment \"${n}\"`);try{await r(e)}catch(e){this.#i.warn(this.#C,\"⚠️ Error calling onCommitmentReached callback\",e)}}async#se(e){const{signature:t,network:n}=e;await this.#ce(t,n)?await this.#ne(e):this.#i.warn(this.#C,`⚠️ Signature ${t} not found via HTTP fetch during connection recovery`)}async#ce(e,t){try{const n=await this.#f.getRpc(t).getSignatureStatuses([tu(e)],{searchTransactionHistory:!0}).send(),r=n.value[0]?.confirmationStatus;return r?(this.#i.info(this.#C,`✅ Signature ${e} found via HTTP fetch during connection recovery with confirmation status ${r}`),r):void this.#i.warn(this.#C,`⚠️ Signature ${e} not found via HTTP fetch during connection recovery`)}catch(t){return void this.#i.warn(this.#C,`⚠️ Could not fetch confirmation status for signature ${e}`,t)}}}(Jb,Vb,Cd),Yb=new Ew(Vb,Cd),Xb=new class{#f;#i;#I=450;#_=10000n;constructor(e,t){this.#f=e,this.#i=t}async buildTransactionMessage(e){try{const{from:t,to:n,amount:r,network:o}=e,i=zs(t.address),a=BigInt(av(r).toString()),s=(await this.#f.getRpc(o).getLatestBlockhash().send()).value,c=$u(Al({version:0}),(e=>Il(i,e)),(e=>qu(s,e)),(e=>_l(function(e,t){const n=t?.programAddress??cd,r={source:{value:e.source??null,isWritable:!0},destination:{value:e.destination??null,isWritable:!0}},o={...e},i=fd(n);return{accounts:[i(r.source),i(r.destination)],programAddress:n,data:xd().encode(o)}}({amount:a,destination:n,source:Yl(i)}),e)));return Rl([Qf({units:this.#I}),rh({microLamports:this.#_})],c)}catch(e){throw this.#i.error({error:e},\"Error building transaction message\"),e}}getComputeUnitLimit(){return this.#I}getComputeUnitPriceMicroLamportsPerComputeUnit(){return this.#_}}(Vb,Cd),Qb=new Db(Vb,Yb,Cd),eS=new Wd(Lb),tS=new jd(Lb,Wb),nS=new class{#ue;#i;constructor({tokenMetadataClient:e,logger:t}){this.#ue=e,this.#i=t}async getTokensMetadata(e){if(0===e.length)return this.#i.warn(`No tokens to get metadata for ${e.join(\", \")}`),{};return await this.#ue.getTokenMetadataFromAddresses(e)}async generateImageComponent(e,t=48,n=48){return e?async function(e,{width:t,height:n=t,request:r}){ZA(\"number\"==typeof t&&t>0,\"Expected width to be a number greater than 0.\"),ZA(\"number\"==typeof n&&n>0,\"Expected height to be a number greater than 0.\");const o=await kb(e,r),i=`width=\"${t}\" height=\"${n}\"`;return Tb(`<svg ${i.trim()} xmlns=\"http://www.w3.org/2000/svg\"><image ${i.trim()} href=\"${o}\" /></svg>`)}(e,{width:t,height:n}).then((e=>e.value)).catch((()=>Ib)):Ib}}({tokenMetadataClient:eS,logger:Cd}),rS=new class{#le;#i;constructor(e,t=Cd){this.#le=e,this.#i=t}#de(e){if(!_b(e))throw new Error(\"Passed caipAssetType is not a fiat asset\");return Xo(e).assetReference.toLowerCase()}async#fe(e){const t=e.filter((e=>!_b(e))),[n,r]=await Promise.all([this.#le.getFiatExchangeRates(),this.#le.getMultipleSpotPrices(t,\"usd\")]);return{fiatExchangeRates:n,cryptoPrices:r}}async getMultipleTokenConversions(e){if(0===e.length)return{};const t=e.flatMap((e=>[e.from,e.to])),{fiatExchangeRates:n,cryptoPrices:r}=await this.#fe(t),o={};return e.forEach((e=>{const{from:t,to:i}=e;let a,s;if(o[t]||(o[t]={}),_b(t)){const e=n[this.#de(t)]?.value;if(!e)return void(o[t][i]=null);a=new jo(1).dividedBy(e)}else a=new jo(r[t]?.price??0);if(_b(i)){const e=n[this.#de(i)]?.value;if(!e)return void(o[t][i]=null);s=new jo(1).dividedBy(e)}else s=new jo(r[i]?.price??0);if(a.isZero()||s.isZero())return void(o[t][i]=null);const c=a.dividedBy(s).toString(),u=Date.now();o[t][i]={rate:c,conversionTime:u,expirationTime:u+jd.cacheTtlsMilliseconds.historicalPrices}})),o}#he(e,t){const n=(0,ni.pick)(e,[\"marketCap\",\"totalVolume\",\"circulatingSupply\",\"allTimeHigh\",\"allTimeLow\",\"pricePercentChange1h\",\"pricePercentChange1d\",\"pricePercentChange7d\",\"pricePercentChange14d\",\"pricePercentChange30d\",\"pricePercentChange200d\",\"pricePercentChange1y\"]),r=e=>null==e?\"\":new jo(e).dividedBy(t).toString(),o=(e,t)=>null==t?{}:{[e]:t},i={...o(\"PT1H\",n.pricePercentChange1h),...o(\"P1D\",n.pricePercentChange1d),...o(\"P7D\",n.pricePercentChange7d),...o(\"P14D\",n.pricePercentChange14d),...o(\"P30D\",n.pricePercentChange30d),...o(\"P200D\",n.pricePercentChange200d),...o(\"P1Y\",n.pricePercentChange1y)};return{fungible:!0,marketCap:r(n.marketCap),totalVolume:r(n.totalVolume),circulatingSupply:(n.circulatingSupply??0).toString(),allTimeHigh:r(n.allTimeHigh),allTimeLow:r(n.allTimeLow),...Object.keys(i).length>0?{pricePercentChange:i}:{}}}async getMultipleTokensMarketData(e){if(0===e.length)return{};const t=e.flatMap((e=>[e.asset,e.unit])),{fiatExchangeRates:n,cryptoPrices:r}=await this.#fe(t),o={};return e.forEach((e=>{const{asset:t,unit:i}=e;if(!r[t])return;let a;if(_b(i)){const e=n[this.#de(i)]?.value;if(!e)return;a=new jo(1).dividedBy(e)}else a=new jo(r[i]?.price??0);a.isZero()||(o[t]||(o[t]={}),o[t][i]=this.#he(r[t],a))})),o}async getHistoricalPrice(e,t){z(e,it),z(t,it);const n=Xo(t).assetReference.toLowerCase();z(n,Nd);const r=[\"1d\",\"7d\",\"1m\",\"3m\",\"1y\",\"1000y\"].map((async r=>this.#le.getHistoricalPrices({assetType:e,timePeriod:r,vsCurrency:n}).then((e=>({timePeriod:r,response:e}))).catch((n=>(this.#i.warn(`Error fetching historical prices for ${e} to ${t} with time period ${r}. Returning null object.`,n),{timePeriod:r,response:Md}))))),o=(await Promise.all(r)).reduce(((e,{timePeriod:t,response:n})=>(e[`P${t.toUpperCase()}`]=n.prices.map((e=>[e[0],e[1].toString()])),e)),{}),i=Date.now();return{intervals:o,updateTime:i,expirationTime:i+jd.cacheTtlsMilliseconds.historicalPrices}}}(tS),oS=new class{#f;constructor(e){this.#f=e}async resolveDomain(e,t){const n=this.#f.getRpc(e);return KA(n,t)}async resolveAddress(e,t){const n=this.#f.getRpc(e);return(await(async(e,t)=>{const n=await hA.getAddress(\"85iDfUvr3HJyLM2zcq5BXSiDvUWfw6cSE1FfNBo8Ap29\",t),r=await hA.retrieve(e,n),[o,i]=await Promise.all([rA.retrieve(e,r.nameAccount),fA(e,r.nameAccount)]),a=i||o.owner,s=o.parentName!==oA,c=[pA(e,r.nameAccount,s?o.parentName:void 0)];s&&c.push(pA(e,o.parentName));const u=(await Promise.all(c)).join(\".\");return{domainAddress:r.nameAccount,domainName:u,stale:t!==a}})(n,zs(t))).domainAddress}}(Vb),iS=new my({connection:Vb,logger:Cd,configProvider:Lb,state:Fb,tokenMetadataService:nS,cache:Wb,tokenPricesService:rS}),aS=new class{#f;#i;#A;#w;#v;constructor({logger:e,connection:t,tokenMetadataService:n,state:r,configProvider:o}){this.#f=t,this.#A=n,this.#i=e,this.#w=r,this.#v=o}async fetchLatestAccountTransactions(e,t){const n=this.#v.get().activeNetworks,r=(await Promise.all(n.map((async n=>this.#pe(e,n,{limit:t}))))).flatMap((({data:e})=>e)).sort(((e,t)=>(t.timestamp??0)-(e.timestamp??0)));return r}async#pe(e,t,n){const{address:r}=e,o=zs(r),i=(await this.#f.getRpc(t).getSignaturesForAddress(o,n.next?{limit:n.limit,before:n.next}:{limit:n.limit}).send()).map((({signature:e})=>e)),a=await this.#w.getKey(`signatures.${r}`)??[];await this.#w.setKey(`signatures.${r}`,[...new Set([...a,...i])]);const s=(await this.getTransactionsDataFromSignatures({scope:t,signatures:i})).filter((e=>null!==e)).map((n=>Ub({transactionData:n,account:e,scope:t}))).filter((e=>null!==e)).filter((t=>!Ob(t,e))),c=await this.#ge({[r]:s}),u=i.length===n.limit?i[i.length-1]??null:null;return{data:c[r]??[],next:u}}async fetchLatestSignatures(e,t,n){this.#i.log(`[TransactionsService.fetchAllSignatures] Fetching all signatures for ${t} on ${e}`);const r=(await this.#f.getRpc(e).getSignaturesForAddress(t,{limit:n}).send()).map((({signature:e})=>e)),o=await this.#w.getKey(`signatures.${t}`)??[];return await this.#w.setKey(`signatures.${t}`,[...new Set([...o,...r])]),r}async getTransactionsDataFromSignatures({scope:e,signatures:t}){return await Promise.all(t.map((async t=>this.#f.getRpc(e).getTransaction(t,{maxSupportedTransactionVersion:0}).send())))}async fetchBySignature(e,t,n){const r=await this.#f.getRpc(n).getTransaction(tu(e),{maxSupportedTransactionVersion:0}).send();return r?Ub({transactionData:r,scope:n,account:t}):null}async saveTransaction(e,t){const{id:n,address:r}=t,{id:o}=e;await Promise.all([(async()=>{const t=await this.#w.getKey(`transactions.${n}`)??[],r=t.findIndex((e=>e.id===o));-1!==r&&(t[r]=e);const i=(0,ni.uniqBy)([...t,e],\"id\");await this.#w.setKey(`transactions.${n}`,i)})(),(async()=>{const e=await this.#w.getKey(`signatures.${r}`)??[];if(e.map((e=>e.toString())).includes(o.toString()))return;const t=(0,ni.uniq)([...e,o]);await this.#w.setKey(`signatures.${r}`,t)})()])}async refreshTransactions(e){try{if(this.#i.log(`[TransactionsService] Refreshing transactions for ${e.length} accounts`),!e.length)return void this.#i.log(\"[TransactionsService] No accounts found\");const t=this.#v.get().activeNetworks,n=await this.#w.getKey(\"transactions\")??{},r=this.#me(n),o=await this.#ye({scopes:t,accounts:e,existingSignatures:r}),i=await this.#ve({scopes:t,accounts:e,newSignaturesMapping:o}),a=await this.#ge(i);await vn(snap,gn.AccountTransactionsUpdated,{transactions:a});const s=this.#we({accounts:e,previousTransactionsByAccount:n,newTransactionsByAccount:i});await this.#w.setKey(\"transactions\",s)}catch(e){this.#i.error(\"[TransactionsService] Error. Releasing lock...\",e)}}#me(e){return new Set(Object.values(e??{}).flat().map((e=>e.id)))}async#ye({scopes:e=[nc.Mainnet,nc.Devnet],accounts:t,existingSignatures:n}){const r={byNetwork:new Map(e.map((e=>[e,new Set]))),byAccountAndNetwork:new Map(t.map((t=>[t.id,new Map(e.map((e=>[e,new Set])))])))};for(const o of t)for(const t of e){this.#i.log(`[TransactionsService] Fetching signatures for ${o.address} on ${t}...`);const e=await this.fetchLatestSignatures(t,zs(o.address),this.#v.get().transactions.storageLimit),i=e.filter((e=>!n.has(e)));if(!i.length){this.#i.log(`[TransactionsService] Found 0 new signatures out of ${e.length} total for address ${o.address} on network ${t}`);continue}const a=r.byNetwork.get(t),s=r.byAccountAndNetwork.get(o.id).get(t);i.forEach((e=>{a.add(e),s.add(e)})),this.#i.info(`[TransactionsService] Found ${i.length} new signatures (${e.length} total) for ${o.address} on ${t}`)}return r}async#ve({scopes:e=[nc.Mainnet,nc.Devnet],accounts:t,newSignaturesMapping:n}){const r={};for(const o of e){const e=n.byNetwork.get(o);if(!e.size)continue;const i=Array.from(e),a=await this.getTransactionsDataFromSignatures({scope:o,signatures:i});for(const e of t){r[e.id]||(r[e.id]=[]);const t=n.byAccountAndNetwork.get(e.id).get(o),i=a.filter((e=>null!==e)).filter((e=>{const n=e?.transaction?.signatures[0];return n&&t.has(n)})).map((t=>Ub({transactionData:t,account:e,scope:o}))).filter((e=>null!==e)).filter((t=>!Ob(t,e)));r[e.id]?.push(...i)}}return r}#we({accounts:e,previousTransactionsByAccount:t,newTransactionsByAccount:n}){return Object.fromEntries(e.map((e=>[e.id,[...t[e.id]??[],...n[e.id]??[]].sort(((e,t)=>(e.timestamp??0)-(t.timestamp??0))).slice(0,this.#v.get().transactions.storageLimit)])))}async#ge(e){const t=[...new Set(Object.values(e).flatMap((e=>e.flatMap((({from:e,to:t})=>[...e,...t].filter((e=>e.asset?.fungible)).map((e=>e.asset.type)))))))],n=await this.#A.getTokensMetadata(t);return Object.keys(e).forEach((t=>{e[t]?.forEach((e=>{e.from.forEach((e=>{e.asset?.fungible&&n[e.asset.type]&&(e.asset.unit=n[e.asset.type]?.symbol??\"\")})),e.to.forEach((e=>{e.asset?.fungible&&n[e.asset.type]&&(e.asset.unit=n[e.asset.type]?.symbol??\"\")}))}))})),e}}({logger:Cd,connection:Vb,tokenMetadataService:nS,state:Fb,configProvider:Lb}),sS=new class{#i=Cd;#C=\"[📣 AnalyticsService]\";constructor(e=Cd){this.#i=e}async trackEventTransactionAdded(e,t,n){try{this.#i.log(this.#C,\"Tracking event transaction added\"),z(t,bc),await snap.request({method:\"snap_trackEvent\",params:{event:{event:\"Transaction Added\",properties:{message:\"Snap transaction added\",origin:n.origin,account_id:e.id,account_address:e.address,account_type:e.type,chain_id:n.scope}}}})}catch(e){this.#i.warn(this.#C,\"Error tracking event transaction added\",{error:e,base64EncodedTransaction:t,metadata:n})}}async trackEventTransactionApproved(e,t,n){try{this.#i.log(this.#C,\"Tracking event transaction approved\"),z(t,bc),await snap.request({method:\"snap_trackEvent\",params:{event:{event:\"Transaction Approved\",properties:{message:\"Snap transaction approved\",origin:n.origin,account_id:e.id,account_address:e.address,account_type:e.type,chain_id:n.scope}}}})}catch(e){this.#i.warn(this.#C,\"Error tracking event transaction approved\",{error:e,base64EncodedTransaction:t,metadata:n})}}async trackEventTransactionSubmitted(e,t,n,r){try{this.#i.log(this.#C,\"Tracking event transaction submitted\"),z(t,bc),await snap.request({method:\"snap_trackEvent\",params:{event:{event:\"Transaction Submitted\",properties:{message:\"Snap transaction submitted\",origin:r.origin,account_id:e.id,account_address:e.address,account_type:e.type,chain_id:r.scope}}}})}catch(e){this.#i.warn(this.#C,\"Error tracking event transaction submitted\",{error:e,transactionMessageBase64Encoded:t,signature:n,metadata:r})}}async trackEventTransactionFinalized(e,t,n){try{this.#i.log(this.#C,\"Tracking event transaction finalized\"),await snap.request({method:\"snap_trackEvent\",params:{event:{event:\"Transaction Finalized\",properties:{message:\"Snap transaction finalized\",origin:n.origin,account_id:e.id,account_address:e.address,account_type:e.type,chain_id:t.chain,transaction_status:t.status,transaction_type:t.type}}}})}catch(e){this.#i.warn(this.#C,\"Error tracking event transaction finalized\",{error:e,transaction:t,metadata:n})}}async trackEventTransactionRejected(e,t,n){try{this.#i.log(this.#C,\"Tracking event transaction rejected\"),z(t,bc),await snap.request({method:\"snap_trackEvent\",params:{event:{event:\"Transaction Rejected\",properties:{message:\"Snap transaction rejected\",origin:n.origin,account_id:e.id,account_address:e.address,account_type:e.type,chain_id:n.scope}}}})}catch(e){this.#i.warn(this.#C,\"Error tracking event transaction rejected\",{error:e,base64EncodedTransaction:t,metadata:n})}}async trackEventSecurityAlertDetected(e,t,n,r,o,i,a){try{this.#i.log(this.#C,\"Tracking event security alert detected\"),z(t,bc),await snap.request({method:\"snap_trackEvent\",params:{event:{event:\"Security Alert Detected\",properties:{message:\"Snap security alert detected\",origin:n,account_id:e.id,account_address:e.address,account_type:e.type,chain_id:r,security_alert_response:o,security_alert_reason:i,security_alert_description:a}}}})}catch(e){this.#i.warn(this.#C,\"Error tracking event security alert detected\",{error:e,base64EncodedTransaction:t,origin:n,scope:r,securityAlertResponse:o,securityAlertReason:i,securityAlertDescription:a})}}async trackEventSecurityScanCompleted(e,t,n,r,o,i){try{this.#i.log(this.#C,\"Tracking event security scan completed\"),z(t,bc),await snap.request({method:\"snap_trackEvent\",params:{event:{event:\"Security Scan Completed\",properties:{message:\"Snap security scan completed\",origin:n,account_id:e.id,account_address:e.address,account_type:e.type,chain_id:r,scan_status:o,has_security_alerts:i}}}})}catch(e){this.#i.warn(this.#C,\"Error tracking event security scan completed\",{error:e,base64EncodedTransaction:t,origin:n,scope:r,scanStatus:o,hasSecurityAlerts:i})}}}(Cd),cS=new class{#Ae;#be;#Se;#f;#k;#Ee;#i;#C=\"[👛 WalletService]\";constructor(e,t,n,r,o,i,a=Cd){this.#Ae=e,this.#be=t,this.#Se=n,this.#f=r,this.#k=o,this.#Ee=i,this.#i=a}async resolveAccountAddress(e,t,n){this.#i.log(this.#C,\"Resolving account address\",{keyringAccounts:e,scope:t,request:n});const{method:r,params:o}=n,i=e.filter((e=>e.scopes.includes(t)));if(0===i.length)throw new Error(\"No accounts with this scope\");switch(r){case Ft.SignIn:{const{address:e}=o;if(!e)throw new Error(\"No address\");return Oy(t,e)}case Ft.SignAndSendTransaction:case Ft.SignMessage:case Ft.SignTransaction:{const{account:e}=o,n=i.find((t=>t.address===e.address))?.address;if(!n)throw new Error(\"Account not found\");return Oy(t,n)}default:throw this.#i.warn({method:r},\"Unsupported method\"),new Error(\"Unsupported method\")}}async signTransaction(e,t){this.#i.log(this.#C,\"Signing transaction\",{account:e,request:t}),z(t.request,jf),z(t.scope,yc);const{transaction:n,scope:r,options:o}=t.request.params,i=o?.minContextSlot?{minContextSlot:BigInt(o.minContextSlot)}:void 0,a=await this.#k.partiallySignBase64String(n,e,r,i),s=(e=>$u(e,Nl().encode,Es().decode))(a),c={signedTransaction:s};z(c,Df);const u=jl(a);return await Promise.allSettled([this.#Ee.monitor({network:r,signature:u,commitment:\"confirmed\",onCommitmentReached:async n=>{await this.#xe(n.signature,e,r,t.origin)}})]),c}async signAndSendTransaction(e,t,n,r,o){this.#i.log(this.#C,\"Signing and sending transaction\",e);const i=o?.minContextSlot?{minContextSlot:BigInt(o.minContextSlot)}:void 0,a=await this.#k.partiallySignBase64String(t,e,n,i),s=jl(a),c=function({rpc:e}){return async function(t,n){await vm({...n,rpc:e,transaction:t})}}({rpc:this.#f.getRpc(n)}),u=lv(n,\"tx\",s);this.#i.info(`Sending transaction: ${u}`),Dl(a);const l={...o?.preflightCommitment?{preflightCommitment:o.preflightCommitment}:{},...o?.minContextSlot?{minContextSlot:BigInt(o.minContextSlot)}:{},...o?.maxRetries?{maxRetries:BigInt(o.maxRetries)}:{},commitment:\"confirmed\",skipPreflight:!0};await c(a,l),await this.#Te(s,t,e,n,r),await this.#Ee.monitor({network:n,signature:s,commitment:o?.commitment??\"confirmed\",onCommitmentReached:async t=>{await this.#xe(t.signature,e,n,r)}});const d={signature:s};return z(d,Uf),d}async#Te(e,t,n,r,o){this.#i.info(this.#C,\"Handling transaction submitted\",{signature:e,transactionMessageBase64Encoded:t,account:n,network:r,origin:o}),await this.#Se.trackEventTransactionSubmitted(n,t,e,{scope:r,origin:o})}async#xe(e,t,n,r){this.#i.info(this.#C,\"Handling transaction confirmed\",{signature:e,account:t,network:n,origin:r});const o=await this.#Ae.fetchBySignature(e,t,n);if(!o)throw new Error(`Transaction with signature ${e} not found on network ${n}`);await this.#Ae.saveTransaction(o,t),await Promise.allSettled([this.#be.refreshAssets([t]),vn(snap,gn.AccountTransactionsUpdated,{transactions:{[t.id]:[o]}}),this.#Se.trackEventTransactionFinalized(t,o,{scope:n,origin:r})])}async signMessage(e,t){this.#i.log(this.#C,\"Signing message\",e,t),z(t.request,Mf);const{address:n,entropySource:r,derivationPath:o}=e,i=zs(n),{scope:a}=t;z(a,yc);const{message:s}=t.request.params,c=xs().encode(s),u=Cs().decode(c),{privateKeyBytes:l}=await Nm({entropySource:r,derivationPath:o}),d=await Zl(l),f=function(e,t={}){return Object.freeze({content:\"string\"==typeof e?(new td).encode(e):e,signatures:Object.freeze({...t})})}(u),[h]=await d.signMessages([f]);z(h,ee());const p=h[i];var g;z(p,(g=Uint8Array,D(\"instance\",(e=>e instanceof g||`Expected a \\`${g.name}\\` instance, but received: ${R(e)}`))));const m={signature:ys().decode(p),signedMessage:s,signatureType:\"ed25519\"};return z(m,Lf),m}async signIn(e,t){this.#i.log(this.#C,\"Signing in\",e,t),z(t.request,zf);const{address:n}=e,{params:r}=t.request,o=this.#ke(r),i=Cs().encode(o),a=xs().decode(i),s={id:globalThis.crypto.randomUUID(),scope:t.scope,account:e.id,origin:t.origin,request:{method:Ft.SignMessage,params:{account:{address:n},message:a}}},c={account:{address:n},...await this.signMessage(e,s)};return z(c,$f),c}async verifySignature(e,t,n){this.#i.log(this.#C,\"Verifying signature\",{account:e,signatureBase58:t,messageBase64:n}),z(t,Ac),z(n,bc);const{privateKeyBytes:r}=await Nm({entropySource:e.entropySource,derivationPath:e.derivationPath}),o=await Zl(r),i=vs().encode(t),a=xs().encode(n);return await nu(o.keyPair.publicKey,i,a)}#ke(e){const{domain:t,address:n,statement:r,uri:o,version:i,chainId:a,nonce:s,issuedAt:c,expirationTime:u,notBefore:l,requestId:d,resources:f}=e;let h=`${t} wants you to sign in with your Solana account:\\n`;h+=`${n}`,r&&(h+=`\\n\\n${r}`);const p=[];if(o&&p.push(`URI: ${o}`),i&&p.push(`Version: ${i}`),a&&p.push(`Chain ID: ${a}`),s&&p.push(`Nonce: ${s}`),c&&p.push(`Issued At: ${c}`),u&&p.push(`Expiration Time: ${u}`),l&&p.push(`Not Before: ${l}`),d&&p.push(`Request ID: ${d}`),f){p.push(\"Resources:\");for(const e of f)p.push(`- ${e}`)}return p.length&&(h+=`\\n\\n${p.join(\"\\n\")}`),h}}(aS,iS,sS,Vb,Yb,Zb,Cd),uS=new class{#Ie;#i;#A;#Se;constructor(e,t,n,r){this.#Ie=e,this.#A=t,this.#Se=n,this.#i=r}async scanTransaction({method:e,accountAddress:t,transaction:n,scope:r,origin:o,options:i=[\"simulation\",\"validation\"],account:a}){try{const s=await this.#Ie.scanTransactions({method:e,accountAddress:t,transactions:[n],scope:r,origin:o,options:i}),c=this.#_e(s);if(!c?.status)return this.#i.warn(\"Invalid scan result received from security alerts API\"),a&&await this.#Se.trackEventSecurityScanCompleted(a,n,o,r,Rb.ERROR,!1),null;if(a){const e=Object.values(Rb).includes(c.status)?c.status:Rb.ERROR,t=Boolean(c.validation?.type&&c.validation.type!==Cb.Benign),i=[this.#Se.trackEventSecurityScanCompleted(a,n,o,r,e,t)];if(t){const e=Object.values(Cb).includes(c.validation.type)?c.validation.type:Cb.Warning;i.push(this.#Se.trackEventSecurityAlertDetected(a,n,o,r,e,c.validation.reason??\"unknown\",this.#Ce(c.validation)))}await Promise.all(i)}if(!c?.estimatedChanges?.assets)return null;const u={...c},l=c.estimatedChanges.assets.map((async(e,t)=>{const{logo:n}=e;if(n)return this.#A.generateImageComponent(n,16,16).then((e=>{e&&u?.estimatedChanges?.assets?.[t]&&(u.estimatedChanges.assets[t].imageSvg=e)})).catch((()=>null))}));return await Promise.all(l??[]),u}catch(e){return this.#i.error(e),a&&await this.#Se.trackEventSecurityScanCompleted(a,n,o,r,Rb.ERROR,!1),null}}#Ce(e){if(!e?.reason)return\"Security alert: Unknown reason\";return{unfair_trade:\"Unfair trade of assets, without adequate compensation to the owner's account\",transfer_farming:\"Substantial transfer of the account's assets to untrusted entities\",writable_accounts_farming:\"Transaction exposes unused writable account, can be utilized in BIT-FLIP attacks patterns\",native_ownership_change:\"The account transferred ownership of its native SOL to untrusted entities\",spl_token_ownership_change:\"The account transferred ownership of its SPL tokens to untrusted entities\",exposure_farming:\"The account delegates ownership, thereby exposing its assets to untrusted spenders\",known_attacker:\"A known attacker's account is involved in the transaction\",invalid_signature:\"One of the transactions provided contains non valid signatures, that can lead misleading simulation results\",honeypot:\"The account invests funds in a token that is part of an orchestrated honeypot scheme\",other:\"The transaction was marked as malicious for other reason, further details would be described in features field\"}[e.reason]??`Security alert: ${e.reason}`}#_e(e){return e?{status:\"SUCCESS\"===e.status||\"ERROR\"===e.status?e.status:\"ERROR\",estimatedChanges:{assets:e.result?.simulation?.account_summary?.account_assets_diff?.map((e=>({type:e.in?\"in\":\"out\",symbol:\"symbol\"in e.asset?e.asset.symbol:e.asset_type,name:\"name\"in e.asset?e.asset.name:e.asset_type,logo:\"logo\"in e.asset?e.asset.logo:null,value:e.in?.value??e.out?.value??null,price:e.in?.usd_price??e.out?.usd_price??null,imageSvg:null})))??[]},validation:{type:e.result?.validation?.result_type??null,reason:e.result?.validation?.reason??null},error:e?.error_details?{type:\"type\"in e.error_details?e.error_details.type:null,code:\"code\"in e.error_details?e.error_details.code:null}:null}:null}}(new class{#o;#i;#a;constructor(e,t=globalThis.fetch,n=Cd){const{baseUrl:r}=e.get().securityAlertsApi;this.#o=t,this.#i=n,this.#a=r}async scanTransactions({method:e,accountAddress:t,transactions:n,scope:r,origin:o,options:i}){const a=Ld.from(Dd.decode(t)).toString(\"base64\");this.#i.info(\"Scanning transaction\");return(await this.#o(`${this.#a}/solana/message/scan`,{headers:{\"Content-Type\":\"application/json\",accept:\"application/json\"},method:\"POST\",body:JSON.stringify({method:e,encoding:\"base64\",account_address:a,metadata:{url:o},chain:$d[r],transactions:n,options:i})})).json()}}(Lb),nS,sS,Cd),lS=new class{async handleKeyringRequest(e,t){const{request:{method:n}}=e;switch(n){case Ft.SignAndSendTransaction:case Ft.SignTransaction:return this.#Re(e,t);case Ft.SignMessage:return this.#Pe(e,t);case Ft.SignIn:return this.#Oe(e,t);default:throw new Error(`Unsupported method: ${n}`)}}async#Re(e,t){z(e.request,ae([Bf,jf]));const{request:{method:n,params:{transaction:r}},scope:o,account:i,origin:a}=e;await snap.request({method:\"snap_scheduleBackgroundEvent\",params:{duration:\"PT1S\",request:{method:Tv.OnTransactionAdded,params:{accountId:i,base64EncodedTransaction:r,metadata:{scope:o,origin:a}}}}});return await async function(e){const t={...xv,...e},n=Fm().then((e=>{t.preferences=e})).catch((()=>{t.preferences=xv.preferences})),r=xm(Vb.getRpc(t.scope),t.transaction).then((e=>{t.advanced.instructions=e})).catch((e=>{console.error(e),t.advanced.instructions=[]}));await Promise.all([n,r]);const{currency:o,useExternalPricingData:i,useSecurityAlerts:a,simulateOnChainActions:s}=t.preferences,c=await Um(yy(Ev,{context:t}),t),u=$m(c),l={...t},d=[sc[t.scope].nativeToken.caip19Id];let f;i?f=tS.getMultipleSpotPrices(d,o).then((e=>{l.tokenPrices=e,l.tokenPricesFetchStatus=\"fetched\"})).catch((()=>{l.tokenPricesFetchStatus=\"error\"})):(l.tokenPricesFetchStatus=\"fetched\",l.tokenPrices={});const h=Yb.getFeeFromBase64StringInLamports(t.transaction,l.scope).then((e=>{l.feeEstimatedInSol=e?iv(e).toString():null})).catch((()=>{l.feeEstimatedInSol=null}));await Promise.all([f,h]),await Dm(c,yy(Ev,{context:l}),l);const p={...l},g=[];if(s&&g.push(\"simulation\"),a&&g.push(\"validation\"),s||a){const e=uS.scanTransaction({method:p.method,accountAddress:p.account?.address??\"\",transaction:p.transaction,scope:p.scope,origin:p.origin,options:g}).then((async e=>{p.scan=e,p.scanFetchStatus=e?\"fetched\":\"error\"})).catch((()=>{p.scan=null,p.scanFetchStatus=\"error\"}));await Promise.all([e])}else p.scanFetchStatus=\"fetched\",p.scan=null;return await Dm(c,yy(Ev,{context:p}),p),await Fb.setKey(`mapInterfaceNameToId.${jm}`,c),u}({...xv,scope:o,method:n,origin:e.origin,transaction:r,account:t})?(await snap.request({method:\"snap_scheduleBackgroundEvent\",params:{duration:\"PT1S\",request:{method:Tv.OnTransactionApproved,params:{accountId:i,base64EncodedTransaction:r,metadata:{scope:o,origin:a}}}}}),!0):(await snap.request({method:\"snap_scheduleBackgroundEvent\",params:{duration:\"PT1S\",request:{method:Tv.OnTransactionRejected,params:{accountId:i,base64EncodedTransaction:r,metadata:{scope:o,origin:a}}}}}),!1)}async#Pe(e,t){const n=await async function(e,t){z(e.request,Mf);const{request:{params:{message:n}},scope:r,origin:o}=e,i=xs().encode(n),a=Cs().decode(i),s=await Fm().then((e=>e.locale)).catch((()=>My));return $m(await Um(yy(ov,{message:a,account:t,scope:r,locale:s,networkImage:wy,origin:o}),{}))}(e,t);return Boolean(n)}async#Oe(e,t){const n=await async function(e,t){z(e.request,zf);const{request:{params:n},scope:r,origin:o}=e,i=await Fm();return $m(await Um(yy(tv,{params:n,account:t,scope:r,preferences:i,networkImage:wy,origin:o}),{}))}(e,t);return Boolean(n)}},dS=new class{#w;#i;#Ae;#be;#Ne;#Be;constructor({state:e,logger:t,transactionsService:n,assetsService:r,walletService:o,confirmationHandler:i}){this.#w=e,this.#i=t,this.#Ae=n,this.#be=r,this.#Ne=o,this.#Be=i}async listAccounts(){try{const e=await this.#w.getKey(\"keyringAccounts\")??{};return(0,ni.sortBy)(Object.values(e),[\"entropySource\",\"index\"])}catch(e){throw this.#i.error({error:e},\"Error listing accounts\"),new Error(\"Error listing accounts\")}}async getAccount(e){try{cy({accountId:e},dc);return await this.#w.getKey(`keyringAccounts.${e}`)}catch(e){throw this.#i.error({error:e},\"Error getting account\"),new Qr(e)}}async getAccountOrThrow(e){const t=await this.getAccount(e);if(!t)throw new Error(`Account \"${e}\" not found`);return t}#ze(e,t){return function(e){if(0===e.length)return 0;const t=e.map((e=>e.index)).sort(((e,t)=>e-t));let n=0;for(const e of t){if(e!==n)break;n+=1}return n}(e.filter((e=>e.entropySource===t)))}#Me(e){return`m/44'/501'/${e}'/0'`}#je(e){const t=e.split(\"/\")[3];if(!t)throw new Error(\"Invalid derivation path\");const n=parseInt(t.replace(\"'\",\"\"),10);return z(n,J()),n}async#Ue(){const e=(await async function(){return await snap.request({method:\"snap_listEntropySources\"})}()).find((({primary:e})=>e));if(!e)throw new Error(\"No default entropy source found - this can never happen\");return e.id}async createAccount(e){const t=globalThis.crypto.randomUUID();try{const n=await this.listAccounts(),r=e?.entropySource??await this.#Ue(),o=e?.derivationPath?this.#je(e.derivationPath):this.#ze(n,r),i=e?.derivationPath?e.derivationPath:this.#Me(o),a=n.find((e=>e.derivationPath===i&&e.entropySource===r));if(a)return this.#i.warn(\"[🔑 Keyring] An account already exists with the same derivation path and entropy source. Skipping account creation.\"),Tm(a);const{publicKeyBytes:s}=await Nm({entropySource:r,derivationPath:i}),c=js().decode(s.slice(1)),{importedAccount:u,accountNameSuggestion:l,metamask:d,...f}=e??{},h={id:t,entropySource:r,derivationPath:i,index:o,type:dt.DataAccount,address:c,scopes:[Lt.Mainnet,Lt.Testnet,Lt.Devnet],options:{...f,entropySource:r,derivationPath:i,index:o},methods:[Ft.SignAndSendTransaction,Ft.SignTransaction,Ft.SignMessage,Ft.SignIn]};await this.#w.setKey(`keyringAccounts.${h.id}`,h);const p=Tm(h);return await this.emitEvent(gn.AccountCreated,{account:p,accountNameSuggestion:l??`Solana Account ${o+1}`,displayAccountNameSuggestion:!l,displayConfirmation:!1,...d?{metamask:d}:{}}),p}catch(e){throw this.#i.error({error:e},\"Error creating account\"),await this.#De(t),new Error(`Error creating account: ${e.message}`)}}async#De(e){await Promise.all([this.#w.deleteKey(`keyringAccounts.${e}`),this.#w.deleteKey(`transactions.${e}`),this.#w.deleteKey(`assets.${e}`)])}async deleteAccount(e){try{cy({accountId:e},fc),await this.#De(e),await this.emitEvent(gn.AccountDeleted,{id:e})}catch(e){throw this.#i.error({error:e},\"Error deleting account\"),e}}async listAccountAssets(e){try{cy({accountId:e},hc);const t=await this.getAccountOrThrow(e),n=await this.#be.listAccountAssets(t);return uy(n,nn),n}catch(e){throw this.#i.error({error:e},\"Error listing account assets\"),e}}async getAccountBalances(e,t){try{cy({accountId:e,assets:t},pc);const n=await this.getAccountOrThrow(e),r=await this.#be.getAccountBalances(n,t);return uy(r,mc),r}catch(e){throw this.#i.error({error:e},\"Error getting account balances\"),e}}async emitEvent(e,t){await vn(snap,e,t)}async filterAccountChains(e,t){throw new Error(`Implement me! ${e} ${t.toString()}`)}async updateAccount(e){throw new Error(`Implement me! ${JSON.stringify(e)}`)}async submitRequest(e){return{pending:!1,result:await this.#Le(e)}}async#Le(e){z(e,ly);const{request:{method:t,params:n},scope:r,account:o,origin:i}=e,a=await this.getAccountOrThrow(o);if(!a.scopes.includes(r))throw new Error(`Scope \"${r}\" is not allowed for this account`);if(!a.methods.includes(t))throw new Error(`Method \"${t}\" is not allowed for this account`);if(\"scope\"in n&&r!==n.scope)throw new Error(`Scope \"${r}\" does not match \"${n.scope}\" in request.params`);if(!await this.#Be.handleKeyringRequest(e,a))throw new yo;switch(t){case Ft.SignAndSendTransaction:{const{transaction:e,options:t}=n;return this.#Ne.signAndSendTransaction(a,e,r,i,t)}case Ft.SignTransaction:return this.#Ne.signTransaction(a,e);case Ft.SignMessage:return this.#Ne.signMessage(a,e);case Ft.SignIn:return this.#Ne.signIn(a,e);default:throw new ao(`Unsupported method: ${t}`)}}async listAccountTransactions(e,t){try{cy({accountId:e,pagination:t},gc);const n=await this.getAccount(e);if(!n)throw new Error(\"Account not found\");const r=await this.#w.getKey(`transactions.${e}`)??[];if(!r.length){const e=await this.#Ae.fetchLatestAccountTransactions(n,t.limit);return await this.#w.setKey(`transactions.${n.id}`,e),{data:e,next:null}}const o=t.next?r.findIndex((e=>e.id===t.next)):0,i=r.slice(o,o+t.limit),a=o+t.limit<r.length;return{data:i,next:a?r[o+t.limit]?.id??null:null}}catch(e){throw this.#i.error({error:e},\"Error listing account transactions\"),e}}async resolveAccountAddress(e,t){try{z(e,yc);const{method:n,params:r}=t,o={method:n,params:r};z(o,Ff);const i=await this.listAccounts();return{address:await this.#Ne.resolveAccountAddress(i,e,o)}}catch(e){return this.#i.error({error:e},\"Error resolving account address\"),null}}async discoverAccounts(e,t,n){try{z({scopes:e,entropySource:t,groupIndex:n},dy);const r=this.#Me(n),o=await Nm({entropySource:t,derivationPath:r}),i=js().decode(o.publicKeyBytes.slice(1)),a=[];for(const t of e)a.push(this.#Ae.fetchLatestSignatures(t,i,1));const s=await Promise.all(a);return s.some((e=>e.length>0))?[{type:\"bip44\",scopes:e,derivationPath:r}]:[]}catch(e){throw this.#i.error({error:e},\"Error discovering accounts\"),e}}}({state:Fb,transactionsService:aS,logger:Cd,assetsService:iS,walletService:cS,confirmationHandler:lS}),fS=new Fd(Vb,Cd),hS=new class{#$e;#Ne;#i;constructor(e,t,n){this.#$e=e,this.#Ne=t,this.#i=n}async handle(e){this.#i.log(\"[onClientRequest] Handling client request...\",e);const{method:t}=e;if(t===Vd.SignAndSendTransactionWithoutConfirmation)return this.#Fe(e);throw new ao}async#Fe(e){try{z(e,qf)}catch(e){const t=new ro;throw t.cause=e,t}const{params:{transaction:t,options:n,account:{address:r},scope:o}}=e,i=(await this.#$e.listAccounts()).find((e=>e.address===r));if(!i)throw new ro(`Account not found: ${r}`);return this.#Ne.signAndSendTransaction(i,t,o,tc,n)}}(dS,cS,Cd),pS={configProvider:Lb,connection:Vb,keyring:dS,priceApiClient:tS,state:Fb,cache:qb,assetsService:iS,tokenPricesService:rS,transactionHelper:Yb,transactionsService:aS,sendSolBuilder:Xb,sendSplTokenBuilder:Qb,walletService:cS,transactionScanService:uS,analyticsService:sS,confirmationHandler:lS,nftService:fS,clientRequestHandler:hS,webSocketConnectionService:Gb,subscriptionService:Jb,eventEmitter:$b,nameResolutionService:oS},gS=ee({id:re(),jsonrpc:Z(\"2.0\"),method:Z(Tv.OnTransactionAdded),params:ee({accountId:cc,base64EncodedTransaction:bc,metadata:ee({scope:yc,origin:re()})})}),mS=ee({id:re(),jsonrpc:Z(\"2.0\"),method:Z(Tv.OnTransactionApproved),params:ee({accountId:cc,base64EncodedTransaction:bc,metadata:ee({scope:yc,origin:re()})})}),yS=ee({id:re(),jsonrpc:Z(\"2.0\"),method:Z(Tv.OnTransactionRejected),params:ee({accountId:cc,base64EncodedTransaction:bc,metadata:ee({scope:yc,origin:re()})})}),vS={[Tv.OnTransactionAdded]:async({request:e})=>{try{Cd.info(\"[onTransactionAdded] Cronjob triggered\",e),z(e,gS);const{accountId:t,base64EncodedTransaction:n,metadata:r}=e.params,o=await dS.getAccountOrThrow(t);await sS.trackEventTransactionAdded(o,n,r)}catch(e){throw Cd.error(e),new to(e)}},[Tv.OnTransactionApproved]:async({request:e})=>{try{Cd.info(\"[onTransactionApproved] Cronjob triggered\",e),z(e,mS);const{accountId:t,base64EncodedTransaction:n,metadata:r}=e.params,o=await dS.getAccountOrThrow(t);await sS.trackEventTransactionApproved(o,n,r)}catch(e){throw Cd.error(e),new to(e)}},[Tv.OnTransactionRejected]:async({request:e})=>{try{Cd.info(\"[onTransactionRejected] Cronjob triggered\",e),z(e,yS);const{accountId:t,base64EncodedTransaction:n,metadata:r}=e.params,o=await dS.getAccountOrThrow(t);await sS.trackEventTransactionRejected(o,n,r)}catch(e){throw Cd.error(e),new to(e)}},[Tv.OnAccountsRefresh]:async()=>{try{Cd.info(\"[onAccountsRefresh] Cronjob triggered\");const e=await dS.listAccounts(),t=nc.Mainnet,n=e.map((async e=>{const n=await Fb.getKey(`signatures.${e.address}`)??[],[r]=await aS.fetchLatestSignatures(t,zs(e.address),1);return Cd.log(`[onAccountsRefresh] Latest signature for account ${e.address} is ${r}`),{account:e,didChange:r&&!n.includes(r)}})),r=(await Promise.all(n)).filter((e=>e.didChange)).map((e=>e.account));if(0===r.length)return void Cd.info(\"[onAccountsRefresh] No accounts with changes, skipping refresh\");Cd.info(`[onAccountsRefresh] Found ${r.length} accounts with changes`),await iS.refreshAssets(r).catch((e=>{Cd.warn(\"[onAccountsRefresh] Caught error while refreshing assets\",e)})),await aS.refreshTransactions(r).catch((e=>{Cd.warn(\"[onAccountsRefresh] Caught error while refreshing transactions\",e)})),Cd.info(`[onAccountsRefresh] Successfully refreshed ${r.length} accounts`)}catch(e){Cd.error(\"[onAccountsRefresh] Error\",e)}}};var wS=function(e){return e.RefreshSend=\"refreshSend\",e.RefreshConfirmationEstimation=\"refreshConfirmationEstimation\",e.ScheduleRefreshAccounts=\"scheduleRefreshAccounts\",e}({});const AS=by(\"Form\"),bS=by(\"Field\"),SS=by(\"AssetSelector\"),ES=({title:e,backButtonName:t})=>vy(Ey,{direction:\"horizontal\",alignment:\"space-between\",center:!0,children:[t?yy(Py,{name:t,children:yy(Hy,{name:\"arrow-left\",color:\"primary\",size:\"md\"})}):null,yy(xy,{size:\"sm\",children:e}),vy(Ey,{direction:\"horizontal\",children:[yy(Ey,{children:null}),yy(Ey,{children:null}),yy(Ey,{children:null}),yy(Ey,{children:null})]})]}),xS=by(\"Selector\"),TS=by(\"SelectorOption\"),kS=by(\"Card\");function IS(e){return e?e.length<=10?\"\":`${e.slice(0,6)}...${e.slice(-4)}`:\"\"}const _S=({accounts:e,balances:t,price:n,name:r,scope:o,selectedAccountId:i,error:a,locale:s,currency:c})=>{const u=jy(s),l=Object.values(e);return yy(bS,{label:u(\"send.fromField\"),error:a,children:yy(xS,{name:r,value:i,title:\"From\",children:l.map((e=>{const r=t[e.id]?.[`${o}/${oc.SOL}`],{amount:i,unit:a}=r??{},u=void 0!==i&&a?Av(i,a,s):\"\",l=void 0!==i&&null!==n&&c?Wy(bv(i,n),c,s):\"-\";return yy(TS,{value:e.id,children:yy(kS,{value:u,extra:l,description:IS(e.address),title:yy(_y,{address:Oy(o,e.address),truncate:!0,displayName:!0,avatar:!0})})})}))})})},CS=by(\"Input\");var RS=function(e){return e.Form=\"send-form\",e.DestinationAccountInput=\"send-to\",e.BackButton=\"send-back-button\",e.SourceAccountSelector=\"send-account-selector\",e.AmountInput=\"send-amount-input\",e.AssetSelector=\"send-asset-selector\",e.SwapCurrencyButton=\"send-swap-currency\",e.MaxAmountButton=\"send-amount-input-max\",e.CancelButton=\"send-cancel-button\",e.SendButton=\"send-submit-button\",e.ClearButton=\"send-clear-button\",e.CloseButton=\"send-close-button\",e}({}),PS=function(e){return e.TOKEN=\"TOKEN\",e.FIAT=\"USD\",e}({});const OS=({name:e,value:t,tokenSymbol:n,currency:r,currencyType:o,locale:i,swapCurrencyButtonDisabled:a=!1})=>{const s=jy(i),c=o===PS.FIAT?r.toUpperCase():n;return vy(bS,{label:s(\"send.amountField\"),children:[yy(CS,{name:e,type:\"number\",min:0,placeholder:\"0\",step:.01,value:t??void 0}),vy(Ey,{direction:\"horizontal\",center:!0,children:[yy(Ey,{direction:\"vertical\",alignment:\"center\",children:yy(Ty,{size:\"sm\",children:c})}),yy(Py,{name:RS.SwapCurrencyButton,disabled:a,children:yy(Hy,{name:\"swap-vertical\",color:a?\"muted\":\"primary\",size:\"md\"})})]})]})},NS={initial:null,fetching:\"default\",fetched:\"success\",error:null},BS=({name:e,value:t,error:n,locale:r,showClearButton:o,disabled:i,domainResolutionStatus:a})=>{const s=jy(r);return vy(Ey,{children:[vy(bS,{label:s(\"send.toField\"),error:n,children:[yy(CS,{name:e,placeholder:i?\"\":s(\"send.toPlaceholder\"),value:t??void 0,disabled:i}),o?yy(Ey,{children:yy(Py,{name:RS.ClearButton,children:yy(Hy,{name:Gy.Close,color:\"primary\"})})}):null]}),a&&null!==NS[a]&&yy(Ty,{size:\"sm\",color:NS[a],children:s(`send.toDomainResolutionStatus.${a}`)})]})},zS=e=>{const{amount:t,tokenPrices:n,tokenCaipId:r,currencyType:o}=e,i=n?.[r]?.price;if(o===PS.TOKEN)return t;if(void 0===i)throw new Error(\"Token price is undefined, cannot convert to fiat amount.\");return null===t?null:jo(t).dividedBy(jo(i)).toString()},MS=e=>{const{selectedTokenMetadata:t}=e;return{...t??{},tokenSymbol:t?.symbol??\"UNKNOWN\",tokenImage:t?.imageSvg??Ib}},jS=e=>{const{tokenCaipId:t,tokenPrices:n}=e;return n?.[t]?.price},US=e=>{const{balances:t,fromAccountId:n,tokenCaipId:r}=e;return t?.[n]?.[r]?.amount??\"0\"},DS=e=>{const{tokenCaipId:t,scope:n}=e;return t===sc[n]?.nativeToken?.caip19Id},LS=by(\"Spinner\"),$S=({title:e,subtitle:t,iconSrc:n,isLoading:r})=>vy(Ey,{alignment:\"center\",center:!0,children:[vy(Ey,{direction:\"horizontal\",center:!0,children:[r?yy(LS,{}):null,n&&!r?yy(Cy,{borderRadius:\"full\",src:n}):null]}),yy(xy,{size:\"lg\",children:e}),t?yy(Ty,{color:\"muted\",children:t}):null]}),FS=by(\"Value\"),qS=({context:e})=>{const{scope:t,fromAccountId:n,toAddress:r,accounts:o,feeEstimatedInSol:i,preferences:{locale:a,currency:s},transaction:c,feePaidInSol:u,tokenPrices:l}=e,d=jy(a),f=sc[t],h=o.find((e=>e.id===n))?.address,p=Oy(t,h),g=f.name,m=f.nativeToken.symbol,y=l[f.nativeToken.caip19Id]?.price,v=c?u:i,w=v?Av(v,m,a):\"\",A=void 0===y||null===v?\"\":Wy(bv(v,y),s,a);return vy(Ey,{children:[vy(ky,{children:[yy(Iy,{label:d(\"send.confirmation.from\"),children:yy(uv,{href:lv(t,\"address\",h),children:yy(_y,{address:p,displayName:!0})})}),r?yy(Iy,{label:d(\"send.confirmation.recipient\"),children:yy(uv,{href:lv(t,\"address\",r),children:yy(_y,{address:Oy(t,r),displayName:!0})})}):null]}),vy(ky,{children:[yy(Iy,{label:d(\"send.confirmation.network\"),children:yy(Ty,{children:g})}),yy(Iy,{label:d(\"send.confirmation.transactionSpeed\"),children:yy(Ty,{children:\"<1s\"})}),yy(Iy,{label:d(\"send.confirmation.fee\"),children:yy(FS,{extra:A,value:w})})]})]})};var WS=function(e){return e.BackButton=\"transaction-confirmation-back-button\",e.CancelButton=\"transaction-confirmation-cancel-button\",e.ConfirmButton=\"transaction-confirmation-submit-button\",e}({});const VS={\"send-form\":({context:e,inputToAddress:t,inputAmount:n})=>{const{accounts:r,fromAccountId:o,amount:i,destinationAddressOrDomain:a,domainResolutionStatus:s,validation:c,currencyType:u,tokenCaipId:l,scope:d,balances:f,tokenPricesFetchStatus:h,buildingTransaction:p,error:g,loading:m,transactionMessage:y,preferences:{locale:v,currency:w}}=e,A=jy(v),b=f[o]?.[l],S=b?.amount,E=b?.unit??\"\",x=void 0!==S,T=r.find((e=>e.id===o)),k=T?.address?Oy(d,T.address):\"\",I=(e=>{const{tokenPrices:t,scope:n}=e;return t?.[sc[n]?.nativeToken?.caip19Id]?.price})(e),_=jS(e),C=void 0===S||\"0\"===S,R=void 0===_,P=\"error\"===h||\"fetched\"===h&&R,O=(x?{[PS.FIAT]:Wy(bv(S,_??0),w,v),[PS.TOKEN]:Av(S,E,v)}:{[PS.FIAT]:\"\",[PS.TOKEN]:\"\"})[u],N=o.length>0&&!!a&&a.length>0&&uf(c?.[RS.DestinationAccountInput]),B=!uf(y)&&\"\"!==y,z=Boolean(a&&a.length>0),M=Boolean(c?.[RS.AmountInput]?.message),j=M?c?.[RS.AmountInput]?.message??\"\":`${A(\"send.balance\")}: ${O}`,U=o.length>0&&!!i&&i.length>0&&!!a&&a.length>0&&Object.values(c).every(uf)&&x&&!p&&B;return vy(Sy,{backgroundColor:\"alternative\",children:[vy(Ey,{children:[yy(ES,{title:A(\"send.title\"),backButtonName:RS.BackButton}),vy(AS,{name:RS.Form,children:[P&&yy(gv,{title:\"\",severity:\"info\",children:yy(Ty,{children:A(\"send.selectedTokenPriceNotAvailable\",{currency:w})})}),yy(Ey,{children:null}),yy(Ey,{children:null}),yy(Ey,{children:null}),yy(_S,{name:RS.SourceAccountSelector,scope:d,error:c?.[RS.SourceAccountSelector]?.message??\"\",accounts:r,selectedAccountId:o,balances:f,price:I??null,locale:v,currency:w}),yy(Ey,{children:null}),yy(Ey,{children:null}),yy(Ey,{children:null}),yy(BS,{locale:v,disabled:m,name:RS.DestinationAccountInput,value:t??null,showClearButton:z,domainResolutionStatus:s,error:c?.[RS.DestinationAccountInput]?.message??\"\"}),N&&vy(Ey,{children:[yy(Ey,{children:null}),yy(Ey,{children:null}),yy(Ey,{children:null}),vy(Ey,{direction:\"horizontal\",children:[yy(bS,{label:A(\"send.assetField\"),children:yy(SS,{chainIds:[d],value:l,name:RS.AssetSelector,addresses:k?[k]:[]})}),yy(OS,{name:RS.AmountInput,currencyType:u,tokenSymbol:E,currency:w,value:n??null,locale:v,swapCurrencyButtonDisabled:R||C})]}),vy(Ey,{direction:\"horizontal\",alignment:\"space-between\",crossAlignment:\"start\",children:[yy(Ey,{direction:\"vertical\",alignment:\"start\",children:yy(Ty,{size:\"sm\",color:M?\"error\":\"muted\",children:j})}),yy(Py,{size:\"sm\",name:RS.MaxAmountButton,disabled:C,children:A(\"send.maxButton\")})]})]}),g&&vy(Ey,{children:[yy(Ey,{children:null}),yy(gv,{title:A(g.title),severity:\"warning\",children:yy(Ty,{children:A(g.message)})})]})]})]}),vy(Ry,{children:[yy(Py,{name:RS.CancelButton,children:A(\"send.cancelButton\")}),yy(Py,{name:RS.SendButton,disabled:!U,loading:p,children:A(\"send.continueButton\")})]})]})},\"transaction-confirmation\":({context:e})=>{const{preferences:{currency:t,locale:n}}=e,r=jy(n),{tokenImage:o,tokenSymbol:i}=MS(e),a=zS(e),s=jS(e),c=void 0===s?\"\":Wy(bv(a??\"0\",s),t,n);return vy(Sy,{children:[vy(Ey,{children:[yy(ES,{title:r(\"send.confirmation.title\"),backButtonName:\"transaction-confirmation-back-button\"}),yy($S,{title:Av(a??\"0\",i,n),subtitle:c,iconSrc:o}),yy(qS,{context:e})]}),vy(Ry,{children:[yy(Py,{name:\"transaction-confirmation-cancel-button\",children:r(\"send.confirmation.cancelButton\")}),yy(Py,{name:\"transaction-confirmation-submit-button\",loading:e.loading,disabled:e.loading,children:r(\"send.confirmation.sendButton\")})]})]})},\"send-pending\":({context:e})=>{const t=jy(e.preferences.locale);return yy(Sy,{children:vy(Ey,{children:[yy(Ey,{children:null}),yy($S,{title:t(\"send.send-pending.title\"),subtitle:t(\"send.send-pending.subtitle\"),isLoading:!0}),yy(qS,{context:e})]})})},\"transaction-success\":({context:e})=>{const{preferences:t,transaction:n,scope:r}=e,o=jy(t.locale),{tokenSymbol:i}=MS(e),a=zS(e);return yy(Sy,{children:vy(Ey,{children:[yy(Ey,{children:null}),yy($S,{title:o(\"send.transaction-success.title\"),subtitle:o(\"send.transaction-success.subtitle\",{amount:qy(a??\"0\",t.locale),tokenSymbol:i}),iconSrc:'<svg width=\"48\" height=\"48\" viewBox=\"0 0 48 48\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n<path d=\"M24.0002 3.99902C12.9802 3.99902 4.00024 12.979 4.00024 23.999C4.00024 35.019 12.9802 43.999 24.0002 43.999C35.0202 43.999 44.0002 35.019 44.0002 23.999C44.0002 12.979 35.0202 3.99902 24.0002 3.99902ZM33.5602 19.399L22.2202 30.739C21.9402 31.019 21.5602 31.179 21.1602 31.179C20.7602 31.179 20.3802 31.019 20.1002 30.739L14.4402 25.079C13.8602 24.499 13.8602 23.539 14.4402 22.959C15.0202 22.379 15.9802 22.379 16.5602 22.959L21.1602 27.559L31.4402 17.279C32.0202 16.699 32.9802 16.699 33.5602 17.279C34.1402 17.859 34.1402 18.799 33.5602 19.399Z\" fill=\"#1C8234\"/>\\n</svg>\\n'}),yy(qS,{context:e}),n?.signature?yy(Ey,{alignment:\"center\",center:!0,children:yy(uv,{href:lv(r,\"tx\",n?.signature),children:o(\"send.confirmation.viewTransaction\")})}):null]})})},\"transaction-failure\":({context:e})=>{const{preferences:t}=e,n=jy(t.locale),{tokenSymbol:r}=MS(e),o=zS(e);return yy(Sy,{children:vy(Ey,{children:[yy(Ey,{children:null}),yy($S,{title:n(\"send.transaction-failure.title\"),subtitle:n(\"send.transaction-failure.subtitle\",{amount:o??\"0\",tokenSymbol:r}),iconSrc:'<svg width=\"48\" height=\"48\" viewBox=\"0 0 48 48\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n<path d=\"M40.8277 29.5283L29.7931 8.40143C28.3104 5.55884 26.2586 4 24 4C21.7414 4 19.6896 5.55884 18.2069 8.40143L7.17228 29.5283C5.77572 32.2241 5.62055 34.81 6.74125 36.8456C7.86194 38.8813 10.0689 40 12.9654 40H35.0346C37.9311 40 40.1381 38.8813 41.2588 36.8456C42.3795 34.81 42.2243 32.2058 40.8277 29.5283ZM22.7069 16.8375C22.7069 16.0856 23.2931 15.462 24 15.462C24.7069 15.462 25.2931 16.0856 25.2931 16.8375V26.0071C25.2931 26.759 24.7069 27.3826 24 27.3826C23.2931 27.3826 22.7069 26.759 22.7069 26.0071V16.8375ZM25.2241 32.811C25.1379 32.8844 25.0517 32.9577 24.9655 33.0311C24.8621 33.1044 24.7586 33.1595 24.6552 33.1961C24.5517 33.2511 24.4483 33.2878 24.3276 33.3062C24.2241 33.3245 24.1034 33.3428 24 33.3428C23.8965 33.3428 23.7759 33.3245 23.6552 33.3062C23.5517 33.2878 23.4483 33.2511 23.3448 33.1961C23.2414 33.1595 23.1379 33.1044 23.0345 33.0311C22.9483 32.9577 22.8621 32.8844 22.7759 32.811C22.4655 32.4626 22.2758 31.9857 22.2758 31.5089C22.2758 31.0321 22.4655 30.5553 22.7759 30.2068C22.8621 30.1335 22.9483 30.0601 23.0345 29.9868C23.1379 29.9134 23.2414 29.8584 23.3448 29.8217C23.4483 29.7667 23.5517 29.73 23.6552 29.7117C23.8793 29.6567 24.1207 29.6567 24.3276 29.7117C24.4483 29.73 24.5517 29.7667 24.6552 29.8217C24.7586 29.8584 24.8621 29.9134 24.9655 29.9868C25.0517 30.0601 25.1379 30.1335 25.2241 30.2068C25.5345 30.5553 25.7241 31.0321 25.7241 31.5089C25.7241 31.9857 25.5345 32.4626 25.2241 32.811Z\" fill=\"#BF5208\"/>\\n</svg>\\n'}),yy(qS,{context:e})]})})}},KS=({context:e,inputToAddress:t,inputAmount:n})=>{const r=e.stage??\"send-form\";return yy(VS[r],{context:e,inputToAddress:t,inputAmount:n})};function GS(e){if(!e)return!1;return/^[a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?(\\.[a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?)*\\.sol$/u.test(e)}function HS(e,t,n){return n[e]?n[e]?.map((e=>e(t))).find((e=>null!==e))??null:null}function JS(e){const t=eE(e),n={[RS.SourceAccountSelector]:e.fromAccountId,[RS.AmountInput]:e.amount,[RS.DestinationAccountInput]:e.toAddress};return Object.entries(t).every((([e,t])=>{const r=n[e];return!!r&&t.every((e=>null===e(r)))}))}const ZS=(e,t)=>{const n=jy(t);return t=>{const r=\"\"===t?{message:n(e),value:t}:null;return r?{message:r.message,value:t}:null}},YS=(e,t)=>{const n=jy(t);return t=>{try{return GS(t)||zs(t),null}catch{return{message:n(e),value:t}}}},XS=e=>{const{minimumBalanceForRentExemptionSol:t,preferences:{locale:n},feeEstimatedInSol:r,selectedTokenMetadata:o}=e,i=jy(n);return n=>{if(\"\"===n)return{message:\"\",value:n};const a=zS({...e,amount:n}),s=av(a??\"0\"),c=US(e),u=av(c),l=av(r??\"0\"),d=av(t??\"0\"),f=(e=>US({...e,tokenCaipId:sc[e.scope].nativeToken.caip19Id}))(e),h=av(f),p=DS(e);if(s.gt(u))return{message:`${i(\"send.insufficientBalance\")}: ${c} ${o?.symbol??\"\"}`,value:n};if(p){if(s.lt(d))return{message:i(\"send.amountGreatherThanMinimumBalanceForRentExemptionError\",{minimumValue:t}),value:n};if(s.plus(l).plus(d).gt(u))return{message:i(\"send.insuffientSolToCoverFee\"),value:n}}else{if(l.plus(d).gt(h))return{message:i(\"send.insuffientSolToCoverFee\"),value:n}}return s.isZero()?{message:\"\",value:n}:h.isZero()?{message:i(\"send.insuffientSolToCoverFee\"),value:n}:null}},QS=ee({scope:H([...Object.values(nc)]),account:cc,assetId:te(Jo)}),eE=e=>({[RS.SourceAccountSelector]:[ZS(\"send.fromRequiredError\",e.preferences.locale)],[RS.AmountInput]:[XS(e),ZS(\"send.amountRequiredError\",e.preferences.locale)],[RS.DestinationAccountInput]:[ZS(\"send.toRequiredError\",e.preferences.locale),YS(\"send.toInvalidError\",e.preferences.locale)]}),tE={scope:nc.Mainnet,fromAccountId:\"\",amount:\"\",destinationAddressOrDomain:null,toAddress:null,domainResolutionStatus:null,feeEstimatedInSol:\"0\",feePaidInSol:\"0\",tokenCaipId:rc.SolMainnet,accounts:[],currencyType:PS.TOKEN,validation:{},balances:{},assets:[],tokenPrices:{},selectedTokenMetadata:null,tokenPricesFetchStatus:\"initial\",preferences:{locale:\"en\",currency:\"usd\",hideBalances:!1,useSecurityAlerts:!0,useExternalPricingData:!0,simulateOnChainActions:!0,useTokenDetection:!0,batchCheckBalances:!0,displayNftMedia:!0,useNftDetection:!0},error:null,buildingTransaction:!1,transactionMessage:null,transaction:null,stage:\"send-form\",minimumBalanceForRentExemptionSol:\"0.002\",loading:!0},nE={...{[wS.RefreshSend]:async()=>{const[e,t,n]=await Promise.all([Fb.getKey(\"assets\"),Fb.getKey(\"mapInterfaceNameToId\"),Fm().catch((()=>tE.preferences))]);try{Cd.info(`[${wS.RefreshSend}] Cronjob triggered`);const r=Object.values(e??{}).flatMap((e=>Object.keys(e)));let o={};try{o=await tS.getMultipleSpotPrices(r,n.currency),await Fb.setKey(\"tokenPrices\",o),Cd.info(`[${wS.RefreshSend}] ✅ Token prices were properly refreshed and saved in the state.`)}catch(e){Cd.info({error:e},`[${wS.RefreshSend}] ❌ Could not update the token prices in the state.`)}try{const e=t?.[Mm];if(e){const t=await qm(e);if(\"transaction-confirmation\"!==t.stage)return void Cd.info(`[${wS.RefreshSend}] ❌ Not in transaction confirmation stage`);if(!t.assets)return void Cd.info(`[${wS.RefreshSend}] ❌ No assets found`);const n={...t,tokenPrices:{...t.tokenPrices,...o}};await Dm(e,yy(KS,{context:n}),n)}}catch(e){Cd.info({error:e},`[${wS.RefreshSend}] ❌ Could not update the interface`)}Cd.info(`[${wS.RefreshSend}] ✅ Cronjob suceeded`)}catch(e){Cd.info({error:e},`[${wS.RefreshSend}] ❌ Cronjob failed`)}},[wS.RefreshConfirmationEstimation]:async()=>{try{Cd.info(`[${wS.RefreshConfirmationEstimation}] Cronjob triggered`);const e=(await Fb.getKey(\"mapInterfaceNameToId\")??{})[jm];try{if(e){const t=await qm(e);if(!(t.account?.address&&t.transaction&&t.scope&&t.method))return void Cd.info(`[${wS.RefreshConfirmationEstimation}] Context is missing required fields`);if(!t.preferences?.simulateOnChainActions)return void Cd.info(`[${wS.RefreshConfirmationEstimation}] Transaction simulation is disabled in preferences`);const n={...t,scanFetchStatus:\"fetching\"};await Dm(e,yy(Ev,{context:n}),n);const r=await uS.scanTransaction({method:t.method,accountAddress:t.account.address,transaction:t.transaction,scope:t.scope,origin:t.origin,account:t.account}),o={...await qm(e),scanFetchStatus:\"fetched\",scan:r};Cd.info(`[${wS.RefreshConfirmationEstimation}] New scan fetched`),await Dm(e,yy(Ev,{context:o}),o)}Cd.info(`[${wS.RefreshConfirmationEstimation}] Cronjob suceeded`)}catch(t){if(!e)return void Cd.info(`[${wS.RefreshConfirmationEstimation}] No interface context found`);const n={...await qm(e),scanFetchStatus:\"fetched\"};await Dm(e,yy(Ev,{context:n}),n),Cd.info({error:t},`[${wS.RefreshConfirmationEstimation}] Could not update the interface. But rolled back status to fetched.`)}}catch(e){Cd.info({error:e},`[${wS.RefreshConfirmationEstimation}] Cronjob failed`)}},[wS.ScheduleRefreshAccounts]:async()=>{Cd.info(\"[scheduleRefreshAccounts] Cronjob triggered\");const e=await Fb.getKey(\"didUpdate\");let t=await Fb.getKey(\"refreshAccountsInterval\");t&&e||(t=2*(Math.random()||Number.MIN_VALUE),await Fb.setKey(\"refreshAccountsInterval\",t),await Fb.setKey(\"didUpdate\",!0)),await snap.request({method:\"snap_scheduleBackgroundEvent\",params:{duration:`PT${t}M`,request:{method:Tv.OnAccountsRefresh,params:{}}}}),Cd.info(`[scheduleRefreshAccounts] Scheduling next refresh in ${t} minutes`)}},...vS},rE=ee({chainId:yc,domain:te(re()),address:te(re())}),oE=\"Solana Name Service\",iE={[Hm.StartSendTransactionFlow]:async({request:e})=>{const{params:t}=e;z(t,QS);const{scope:n,account:r}=t,o=t.assetId??sc[n].nativeToken.caip19Id,i={...tE,scope:n,fromAccountId:r,tokenCaipId:o,loading:!0},[a,s]=await Promise.all([Fb.get(),Fm().catch((()=>tE.preferences))]),{assets:c,keyringAccounts:u,tokenPrices:l}=a;i.balances=function({scope:e,balances:t}){return Object.fromEntries(Object.entries(t).map((([t,n])=>[t,Object.fromEntries(Object.entries(n).filter((([t,n])=>{const r=t===sc[e].nativeToken.caip19Id,o=t.startsWith(e),i=\"0\"!==n.amount;return r||o&&i})))])))}({scope:n,balances:c});const d=c[i.fromAccountId]??{};i.assets=Object.keys(d),i.accounts=Object.values(u),i.preferences=s,i.tokenPrices=l??{};const f=await Um(yy(KS,{context:i}),i),h=$m(f),p=nS.getTokensMetadata([i.tokenCaipId]).then((e=>{const t=e[i.tokenCaipId];t?.symbol&&t?.name&&(i.selectedTokenMetadata={symbol:t.symbol,name:t.name,asset:i.tokenCaipId,imageSvg:null})})).catch((()=>null));let g;i.preferences.useExternalPricingData?g=tS.getMultipleSpotPrices(i.assets,i.preferences.currency).then((e=>{i.tokenPrices={...i.tokenPrices,...e},i.tokenPricesFetchStatus=\"fetched\"})).catch((()=>{i.tokenPricesFetchStatus=\"error\"})):i.tokenPricesFetchStatus=\"fetched\";const m=Vb.getRpc(n).getMinimumBalanceForRentExemption(BigInt(0)).send().then((e=>{i.minimumBalanceForRentExemptionSol=iv(e).toString()})).catch((()=>{}));return i.loading=!0,await Dm(f,yy(KS,{context:i}),i),i.loading=!1,await Promise.all([g,p,m]),await Dm(f,yy(KS,{context:i}),i),await Fb.setKey(`mapInterfaceNameToId.${Mm}`,f),h},[Hm.GetFeeForTransaction]:async({request:e})=>{z(e.params,vc);const{transaction:t,scope:n}=e.params;try{const e=await Yb.getFeeFromBase64StringInLamports(t,n);if(null===e)throw new Error(\"Failed to get fee for transaction\");const r={value:e.toString()};return z(r,wc),r}catch(e){throw Cd.error(e),new to(e)}},[Jm.TestSetupAllConnections]:async()=>(await $b.emitSync(\"onTestSetupAllConnections\"),null),[Jm.TestCloseAllConnections]:async()=>(await $b.emitSync(\"onTestCloseAllConnections\"),null),[Jm.TestSubscribeToAccount]:async()=>(await $b.emitSync(\"onTestSubscribeToAccount\"),null),[Jm.TestUnsubscribeFromAccount]:async()=>(await $b.emitSync(\"onTestUnsubscribeFromAccount\"),null)};const aE=async e=>{try{return await e()}catch(e){const t=function(e){return[Qr,ao,yo,so,ao,co,uo,lo,fo,ho,po,go,mo,to,no,ro,oo,io].some((t=>e instanceof t))}(e)?e:new Qr(e);throw Cd.error({error:t},`[SnapError] ${JSON.stringify(t.toJSON(),null,2)}`),t}},sE=Lu(5000n);class cE{#qe;constructor(e){this.#qe=e}#We(){const e=this.#qe.getComputeUnitLimit(),t=this.#qe.getComputeUnitPriceMicroLamportsPerComputeUnit();return $u(e,(e=>jo(e)),(e=>e.multipliedBy(t.toString())),(e=>e.dividedToIntegerBy(Qs.toString())),(e=>e.toString()),BigInt,Lu)}getFee(){const e=this.#We();return Lu(sE+e)}}var uE=n(4255),lE=n.n(uE),dE=n(3804),fE=n.n(dE);class hE extends Error{constructor(e=\"Operation cancelled\"){super(e),this.name=\"CancellationError\"}}const pE=async e=>{const{fromAccountId:t,tokenCaipId:n,scope:r,toAddress:o}=e,i=zS(e),a=await dS.getAccountOrThrow(t);if(!o||!i)throw new Error(\"Invalid transaction parameters\");const s=n===sc[r].nativeToken.caip19Id,c=s?Xb:Qb,u=new cE(c),l={from:a,to:zs(o),amount:i,network:r,...s?{}:{mint:zs(Xo(n).assetReference)}},d=await c.buildTransactionMessage(l),f=await(async e=>$u(e,wl,dl().encode,Es().decode))(d);return{feeInLamports:u.getFee(),base64EncodedTransactionMessage:f}},gE=fE()((async(e,t)=>{try{if(!JS(t))return;const n={buildingTransaction:!0,transactionMessage:null,feeEstimatedInSol:null};await Dm(e,yy(KS,{context:{...t,...n}}),{...t,...n});const{feeInLamports:r,base64EncodedTransactionMessage:o}=await pE(t),i={transactionMessage:o,feeEstimatedInSol:r?iv(r).toString():null,buildingTransaction:!1},a=await qm(e);await Dm(e,yy(KS,{context:{...a,...i}}),{...a,...i})}catch(t){Cd.error(\"Could not build the send transaction\",t);const n={error:{title:\"send.simulationTitleError\",message:\"send.simulationMessageError\"},transactionMessage:null,feeEstimatedInSol:null,buildingTransaction:!1},r=await qm(e);await Dm(e,yy(KS,{context:{...r,...n}}),{...r,...n})}}),(function(e){const t=(e=>(...t)=>{const n=new AbortController,r=[...t];r.some((e=>e instanceof AbortSignal))||r.push(n.signal);const o=Promise.race([e(...r),new Promise(((e,t)=>{n.signal.addEventListener(\"abort\",(()=>{t(new hE)}))}))]);return o.cancel=()=>n.abort(),o})(e);let n=null;return async(...e)=>{if(n&&\"function\"==typeof n.cancel){const e=\"Cancelling previous task\";console.warn(e),n.cancel()}const r=t(...e);n=r;try{return await r}finally{n===r&&(n=null)}}}),lE()(500));const mE={[RS.BackButton]:async function({id:e}){await Lm(e,!1),await Fb.deleteKey(`mapInterfaceNameToId.${Mm}`)},[RS.SourceAccountSelector]:async function({id:e,event:t,context:n}){n.fromAccountId=t.value,n.error=null,n.validation[RS.SourceAccountSelector]=HS(RS.SourceAccountSelector,n.fromAccountId,eE(n)),n.amount&&(n.validation[RS.AmountInput]=HS(RS.AmountInput,n.amount,eE(n))),await Dm(e,yy(KS,{context:n}),n),await gE(e,n)},[RS.AmountInput]:async function({id:e,event:t,context:n}){const r={...n};r.amount=t.value,r.error=null;const o=HS(RS.AmountInput,r.amount,eE(r));if(o&&r.validation[RS.AmountInput]?.message!==o?.message)return r.validation[RS.AmountInput]=o,void await Dm(e,yy(KS,{context:r}),r);null===o&&(r.validation[RS.AmountInput]=null,await Dm(e,yy(KS,{context:r}),r),await gE(e,r))},[RS.AssetSelector]:async function({id:e,event:t,context:n}){if(\"object\"!=typeof t.value||!(\"asset\"in t.value))return;const r=t.value.asset;if(n.tokenCaipId===r)return;const o=r===sc[n.scope].nativeToken.caip19Id?Xb:Qb,i=new cE(o).getFee(),a={tokenCaipId:r,feeEstimatedInSol:iv(i).toString(),selectedTokenMetadata:{symbol:t.value.symbol,name:t.value.name,asset:t.value.asset,imageSvg:null},amount:\"\",error:null},s=(0,ni.merge)(n,a);await Dm(e,yy(KS,{context:s,inputAmount:\"\"}),s),await gE(e,n)},[RS.SwapCurrencyButton]:async function({id:e,context:t}){if(t.error=null,t.currencyType=t.currencyType===PS.TOKEN?PS.FIAT:PS.TOKEN,!t.amount)return void await Dm(e,yy(KS,{context:t}),t);const n=jo(t.amount??\"0\"),{price:r}=t.tokenPrices[t.tokenCaipId]??{price:0};t.currencyType===PS.TOKEN&&(t.amount=n.dividedBy(r).toString()),t.currencyType===PS.FIAT&&(t.amount=n.multipliedBy(r).toString()),await Dm(e,yy(KS,{context:t,inputAmount:t.amount}),t)},[RS.MaxAmountButton]:async function({id:e,context:t}){const{currencyType:n,minimumBalanceForRentExemptionSol:r,tokenCaipId:o,tokenPrices:i}=t,a={...t},s=US(t);if(DS(t)){const e=av(s),t=new cE(Xb).getFee().toString(),n=av(r),o=e.minus(t).minus(n).minus(1),i=jo.maximum(o,o.isNegative()?e:jo(0)),c=iv(i);a.amount=c.toString()}else a.amount=s;if(n===PS.FIAT){const{price:e}=i[o]??{price:0};a.amount=bv(a.amount,e)}a.error=null,a.validation[RS.AmountInput]=HS(RS.AmountInput,a.amount,eE(a)),await Dm(e,yy(KS,{context:a,inputAmount:a.amount}),a),await gE(e,a)},[RS.DestinationAccountInput]:async function({id:e,event:t,context:n}){const r={...n};r.destinationAddressOrDomain=t.value,r.domainResolutionStatus=null,r.error=null;const o=HS(RS.DestinationAccountInput,r.destinationAddressOrDomain,eE(r));r.validation[RS.DestinationAccountInput]=o,GS(r?.destinationAddressOrDomain)?(r.domainResolutionStatus=\"fetching\",await Dm(e,yy(KS,{context:r}),r),r.toAddress=await oS.resolveDomain(r.scope,r.destinationAddressOrDomain).catch((()=>{const e=jy(r.preferences.locale);return r.validation[RS.DestinationAccountInput]={message:e(\"send.toInvalidErrorDomain\"),value:r.destinationAddressOrDomain??\"\"},null})),r.domainResolutionStatus=r.toAddress?\"fetched\":\"error\"):r.toAddress=r.destinationAddressOrDomain,await Dm(e,yy(KS,{context:r}),r),null===o&&await gE(e,r)},[RS.ClearButton]:async function({id:e,context:t}){t.destinationAddressOrDomain=\"\",t.toAddress=\"\",t.domainResolutionStatus=null,t.error=null,t.validation[RS.DestinationAccountInput]=null,await Dm(e,yy(KS,{context:t,inputToAddress:t.toAddress}),t)},[RS.CancelButton]:async function({id:e}){await Lm(e,!1),await Fb.deleteKey(`mapInterfaceNameToId.${Mm}`)},[RS.SendButton]:async function({id:e,context:t}){if(!JS(t))return;const n={...t};n.stage=\"transaction-confirmation\",n.loading=!0,await Dm(e,yy(KS,{context:n}),n);const[r,o]=await Promise.all([tS.getMultipleSpotPrices(t.assets,t.preferences.currency).then((e=>e)).catch((()=>null)),t.selectedTokenMetadata?nS.generateImageComponent(Ec({baseUrl:Lb.get().staticApi.baseUrl,path:\"/api/v2/tokenIcons/assets/{assetId}.png\",pathParams:{assetId:t.selectedTokenMetadata?.asset.replace(/:/gu,\"/\")}})):null]);r&&o&&(n.tokenPrices=r,n.selectedTokenMetadata=t.selectedTokenMetadata?{...t.selectedTokenMetadata,imageSvg:o}:null),n.loading=!1,await Dm(e,yy(KS,{context:n}),n),await snap.request({method:\"snap_scheduleBackgroundEvent\",params:{duration:\"PT1S\",request:{method:Tv.OnTransactionAdded,params:{accountId:t.fromAccountId,base64EncodedTransaction:t.transactionMessage,metadata:{scope:t.scope,origin:tc}}}}})}};const yE={[WS.BackButton]:async function({id:e,context:t}){const n={...t,stage:\"send-form\"};await Dm(e,yy(KS,{context:n,inputAmount:t.amount??\"\",inputToAddress:t.destinationAddressOrDomain??\"\"}),n)},[WS.CancelButton]:async function({id:e,context:t}){const{fromAccountId:n,transactionMessage:r,scope:o}=t;await snap.request({method:\"snap_scheduleBackgroundEvent\",params:{duration:\"PT1S\",request:{method:Tv.OnTransactionRejected,params:{accountId:n,base64EncodedTransaction:r,metadata:{scope:o,origin:tc}}}}}),await Lm(e,!1),await Fb.deleteKey(`mapInterfaceNameToId.${Mm}`)},[WS.ConfirmButton]:async function({id:e,context:t}){const{scope:n,fromAccountId:r,feeEstimatedInSol:o,transactionMessage:i}=t;if(t.error=null,!i)return t.stage=\"send-form\",void await Dm(e,yy(KS,{context:t}),t);await snap.request({method:\"snap_scheduleBackgroundEvent\",params:{duration:\"PT1S\",request:{method:Tv.OnTransactionApproved,params:{accountId:t.fromAccountId,base64EncodedTransaction:t.transactionMessage,metadata:{scope:t.scope,origin:tc}}}}});const a={...t,stage:\"send-pending\"};await Dm(e,yy(KS,{context:a}),a);let s=null;try{const e=await dS.getAccountOrThrow(r);s=(await cS.signAndSendTransaction(e,i,n,tc)).signature}catch(e){Cd.error({error:e},\"Error submitting request\")}const c={...t,stage:s?\"transaction-success\":\"transaction-failure\",feePaidInSol:o,transaction:{result:s?\"success\":\"failure\",signature:s}};await Dm(e,yy(KS,{context:c}),c)}};const vE=2n**255n-19n,wE=2n**252n+27742317777372353535851937790883648493n,AE=0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51an,bE=0x6666666666666666666666666666666666666666666666666666666666666658n,SE={a:-1n,d:37095705934669439343138083508754565189542113879843219016388785533085940283555n,p:vE,n:wE,h:8,Gx:AE,Gy:bE},EE=(e=\"\")=>{throw new Error(e)},xE=e=>\"string\"==typeof e,TE=(e,t)=>!(e=>e instanceof Uint8Array||null!=e&&\"object\"==typeof e&&\"Uint8Array\"===e.constructor.name)(e)||\"number\"==typeof t&&t>0&&e.length!==t?EE(\"Uint8Array of valid length expected\"):e,kE=e=>new Uint8Array(e),IE=(e,t)=>TE(xE(e)?zE(e):kE(TE(e)),t),_E=(e,t=vE)=>{let n=e%t;return n>=0n?n:t+n},CE=e=>e instanceof RE?e:EE(\"Point expected\");class RE{constructor(e,t,n,r){this.ex=e,this.ey=t,this.ez=n,this.et=r}static fromAffine(e){return new RE(e.x,e.y,1n,_E(e.x*e.y))}static fromHex(e,t=!1){const{d:n}=SE,r=(e=IE(e,32)).slice(),o=e[31];r[31]=-129&o;const i=jE(r);!t||0n<=i&&i<2n**256n||EE(\"bad y coord 1\"),t||0n<=i&&i<vE||EE(\"bad y coord 2\");const a=_E(i*i),s=_E(a-1n),c=_E(n*a+1n);let{isValid:u,value:l}=FE(s,c);u||EE(\"bad y coordinate 3\");const d=1n===(1n&l),f=0!=(128&o);return!t&&0n===l&&f&&EE(\"bad y coord 3\"),f!==d&&(l=_E(-l)),new RE(l,i,1n,_E(l*i))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}equals(e){const{ex:t,ey:n,ez:r}=this,{ex:o,ey:i,ez:a}=CE(e),s=_E(t*a),c=_E(o*r),u=_E(n*a),l=_E(i*r);return s===c&&u===l}is0(){return this.equals(OE)}negate(){return new RE(_E(-this.ex),this.ey,this.ez,_E(-this.et))}double(){const{ex:e,ey:t,ez:n}=this,{a:r}=SE,o=_E(e*e),i=_E(t*t),a=_E(2n*_E(n*n)),s=_E(r*o),c=e+t,u=_E(_E(c*c)-o-i),l=s+i,d=l-a,f=s-i,h=_E(u*d),p=_E(l*f),g=_E(u*f),m=_E(d*l);return new RE(h,p,m,g)}add(e){const{ex:t,ey:n,ez:r,et:o}=this,{ex:i,ey:a,ez:s,et:c}=CE(e),{a:u,d:l}=SE,d=_E(t*i),f=_E(n*a),h=_E(o*l*c),p=_E(r*s),g=_E((t+n)*(i+a)-d-f),m=_E(p-h),y=_E(p+h),v=_E(f-u*d),w=_E(g*m),A=_E(y*v),b=_E(g*v),S=_E(m*y);return new RE(w,A,S,b)}mul(e,t=!0){if(0n===e)return!0===t?EE(\"cannot multiply by 0\"):OE;if(\"bigint\"==typeof e&&0n<e&&e<wE||EE(\"invalid scalar, must be < L\"),!t&&this.is0()||1n===e)return this;if(this.equals(PE))return sx(e).p;let n=OE,r=PE;for(let o=this;e>0n;o=o.double(),e>>=1n)1n&e?n=n.add(o):t&&(r=r.add(o));return n}multiply(e){return this.mul(e)}clearCofactor(){return this.mul(BigInt(SE.h),!1)}isSmallOrder(){return this.clearCofactor().is0()}isTorsionFree(){let e=this.mul(wE/2n,!1).double();return wE%2n&&(e=e.add(this)),e.is0()}toAffine(){const{ex:e,ey:t,ez:n}=this;if(this.equals(OE))return{x:0n,y:1n};const r=DE(n);return 1n!==_E(n*r)&&EE(\"invalid inverse\"),{x:_E(e*r),y:_E(t*r)}}toRawBytes(){const{x:e,y:t}=this.toAffine(),n=ME(t);return n[31]|=1n&e?128:0,n}toHex(){return BE(this.toRawBytes())}}RE.BASE=new RE(AE,bE,1n,_E(AE*bE)),RE.ZERO=new RE(0n,1n,1n,0n);const{BASE:PE,ZERO:OE}=RE,NE=(e,t)=>e.toString(16).padStart(t,\"0\"),BE=e=>Array.from(e).map((e=>NE(e,2))).join(\"\"),zE=e=>{const t=e.length;(!xE(e)||t%2)&&EE(\"hex invalid 1\");const n=kE(t/2);for(let t=0;t<n.length;t++){const r=2*t,o=e.slice(r,r+2),i=Number.parseInt(o,16);(Number.isNaN(i)||i<0)&&EE(\"hex invalid 2\"),n[t]=i}return n},ME=e=>zE(NE(e,64)).reverse(),jE=e=>BigInt(\"0x\"+BE(kE(TE(e)).reverse())),UE=(...e)=>{const t=kE(e.reduce(((e,t)=>e+TE(t).length),0));let n=0;return e.forEach((e=>{t.set(e,n),n+=e.length})),t},DE=(e,t=vE)=>{(0n===e||t<=0n)&&EE(\"no inverse n=\"+e+\" mod=\"+t);let n=_E(e,t),r=t,o=0n,i=1n,a=1n,s=0n;for(;0n!==n;){const e=r/n,t=r%n,c=o-a*e,u=i-s*e;r=n,n=t,o=a,i=s,a=c,s=u}return 1n===r?_E(o,t):EE(\"no inverse\")},LE=(e,t)=>{let n=e;for(;t-- >0n;)n*=n,n%=vE;return n},$E=19681161376707505956807079304988542015446066515923890162744021073123829784752n,FE=(e,t)=>{const n=_E(t*t*t),r=(e=>{const t=e*e%vE*e%vE,n=LE(t,2n)*t%vE,r=LE(n,1n)*e%vE,o=LE(r,5n)*r%vE,i=LE(o,10n)*o%vE,a=LE(i,20n)*i%vE,s=LE(a,40n)*a%vE,c=LE(s,80n)*s%vE,u=LE(c,80n)*s%vE,l=LE(u,10n)*o%vE;return{pow_p_5_8:LE(l,2n)*e%vE,b2:t}})(e*_E(n*n*t)).pow_p_5_8;let o=_E(e*n*r);const i=_E(t*o*o),a=o,s=_E(o*$E),c=i===e,u=i===_E(-e),l=i===_E(-e*$E);return c&&(o=a),(u||l)&&(o=s),1n===(1n&_E(o))&&(o=_E(-o)),{isValid:c||u,value:o}},qE=e=>_E(jE(e),wE);let WE;const VE=(...e)=>ox.sha512Async(...e),KE=(...e)=>\"function\"==typeof WE?WE(...e):EE(\"etc.sha512Sync not set\"),GE=e=>{const t=e.slice(0,32);t[0]&=248,t[31]&=127,t[31]|=64;const n=e.slice(32,64),r=qE(t),o=PE.mul(r),i=o.toRawBytes();return{head:t,prefix:n,scalar:r,point:o,pointBytes:i}},HE=e=>VE(IE(e,32)).then(GE),JE=e=>GE(KE(IE(e,32))),ZE=e=>HE(e).then((e=>e.pointBytes));function YE(e,t){return e?VE(t.hashable).then(t.finish):t.finish(KE(t.hashable))}const XE=(e,t,n)=>{const{pointBytes:r,scalar:o}=e,i=qE(t),a=PE.mul(i).toRawBytes();return{hashable:UE(a,r,n),finish:e=>{const t=_E(i+qE(e)*o,wE);return TE(UE(a,ME(t)),64)}}},QE=async(e,t)=>{const n=IE(e),r=await HE(t),o=await VE(r.prefix,n);return YE(!0,XE(r,o,n))},ex={zip215:!0},tx=(e,t,n,r=ex)=>{t=IE(t),e=IE(e,64);const{zip215:o}=r;let i,a,s,c,u=new Uint8Array;try{i=RE.fromHex(n,o),a=RE.fromHex(e.slice(0,32),o),s=jE(e.slice(32,64)),c=PE.mul(s,!1),u=UE(a.toRawBytes(),i.toRawBytes(),t)}catch(e){}return{hashable:u,finish:e=>{if(null==c)return!1;if(!o&&i.isSmallOrder())return!1;const t=qE(e);return a.add(i.mul(t,!1)).add(c.negate()).clearCofactor().is0()}}},nx=async(e,t,n,r=ex)=>YE(!0,tx(e,t,n,r)),rx=()=>\"object\"==typeof globalThis&&\"crypto\"in globalThis?globalThis.crypto:void 0,ox={bytesToHex:BE,hexToBytes:zE,concatBytes:UE,mod:_E,invert:DE,randomBytes:(e=32)=>{const t=rx();return t&&t.getRandomValues||EE(\"crypto.getRandomValues must be defined\"),t.getRandomValues(kE(e))},sha512Async:async(...e)=>{const t=rx();t&&t.subtle||EE(\"crypto.subtle or etc.sha512Async must be defined\");const n=UE(...e);return kE(await t.subtle.digest(\"SHA-512\",n.buffer))},sha512Sync:void 0};Object.defineProperties(ox,{sha512Sync:{configurable:!1,get:()=>WE,set(e){WE||(WE=e)}}});const ix={getExtendedPublicKeyAsync:HE,getExtendedPublicKey:JE,randomPrivateKey:()=>ox.randomBytes(32),precompute:(e=8,t=PE)=>(t.multiply(3n),t)};let ax;const sx=e=>{const t=ax||(ax=(()=>{const e=[];let t=PE,n=t;for(let r=0;r<33;r++){n=t,e.push(n);for(let r=1;r<128;r++)n=n.add(t),e.push(n);t=n.double()}return e})()),n=(e,t)=>{let n=t.negate();return e?n:t};let r=OE,o=PE;const i=BigInt(255),a=BigInt(8);for(let s=0;s<33;s++){const c=128*s;let u=Number(e&i);e>>=a,u>128&&(u-=256,e+=1n);const l=c,d=c+Math.abs(u)-1,f=s%2!=0,h=u<0;0===u?o=o.add(n(f,t[l])):r=r.add(n(h,t[d]))}return{p:r,f:o}};function cx(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}var ux=n(1048).hp;const lx=\"8d9df0f7-1363-4d2c-8152-ce4ed78f27d8\",dx=[48,46,2,1,0,48,5,6,3,43,101,112,4,34,4,32];function fx(e){return ux.from(e).toString(\"base64\").replace(/\\+/gu,\"-\").replace(/\\//gu,\"_\").replace(/[=]/gu,\"\")}function hx(e){const t=e.replace(/-/gu,\"+\").replace(/_/gu,\"/\");return new Uint8Array(ux.from(t,\"base64\"))}function px(e){return\"Ed25519\"===e||\"object\"==typeof e&&\"Ed25519\"===e.name}function gx(){const{subtle:e}=globalThis.crypto;Object.defineProperty(globalThis,\"isSecureContext\",{value:!0,writable:!0,configurable:!0}),Object.defineProperty(e,\"generateKey\",{value:async(...e)=>px(e[0])?await async function(e,t,n){const r=ix.randomPrivateKey(),o=await ZE(r),i=Array.from(n);return{privateKey:{algorithm:{name:\"Ed25519\"},extractable:t,type:\"private\",usages:i,[lx]:r},publicKey:{algorithm:{name:\"Ed25519\"},extractable:!0,type:\"public\",usages:i,[lx]:o}}}(...e):await globalThis.crypto.subtle.generateKey(...e),writable:!0,configurable:!0}),Object.defineProperty(e,\"exportKey\",{value:async(...e)=>px(e[1].algorithm)?await async function(e,t){if(!t.extractable)throw new DOMException(\"key is not extractable\",\"InvalidAccessException\");const n=t[lx];switch(e){case\"raw\":if(\"public\"!==t.type)throw new DOMException(\"Unable to export a raw Ed25519 private key\",\"InvalidAccessError\");return n.buffer;case\"pkcs8\":if(\"private\"!==t.type)throw new DOMException(\"Unable to export a pkcs8 Ed25519 public key\",\"InvalidAccessError\");return new Uint8Array([...dx,...n]).buffer;case\"jwk\":{const e={crv:\"Ed25519\",ext:t.extractable,key_ops:t.usages,kty:\"OKP\"};if(\"private\"===t.type){const t=await ZE(n);return Object.freeze({...e,d:fx(n),x:fx(t)})}return Object.freeze({...e,x:fx(n)})}case\"spki\":{if(\"public\"!==t.type)throw new DOMException(\"Only public keys can be exported as SPKI\",\"InvalidAccessError\");const e=new Uint8Array([48,5,6,3,43,101,112]),r=new Uint8Array([3,n.length+1,0,...n]);return new Uint8Array([48,e.length+r.length,...e,...r]).buffer}default:throw new Error(`Unsupported export format: ${e}`)}}(...e):await globalThis.crypto.subtle.exportKey(...e),writable:!0,configurable:!0}),Object.defineProperty(e,\"sign\",{value:async(...e)=>{const[t,n]=e;return px(t)&&px(n.algorithm)?await async function(e,t,n){if(\"private\"!==t.type)throw new DOMException(\"Key is not private\",\"NotAllowedError\");if(!t.usages.includes(\"sign\"))throw new DOMException(\"Key usage not allowed\",\"NotAllowedError\");const r=cx(n),o=t[lx],i=function(e){return e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteLength)}(await QE(r,o));return i}(...e):await globalThis.crypto.subtle.sign(...e)},writable:!0,configurable:!0}),Object.defineProperty(e,\"verify\",{value:async(...e)=>{const[t,n]=e;return px(t)&&px(n.algorithm)?await async function(e,t,n,r){if(\"public\"!==t.type)throw new DOMException(\"Key is not public\",\"NotAllowedError\");if(!t.usages.includes(\"verify\"))throw new DOMException(\"Key usage not allowed\",\"NotAllowedError\");const o=cx(n),i=cx(r),a=t[lx];return await nx(o,i,a)}(...e):await globalThis.crypto.subtle.verify(...e)},writable:!0,configurable:!0}),Object.defineProperty(e,\"importKey\",{value:async(...e)=>px(e[2])?await async function(e,t,n,r,o){const i=Array.from(o);switch(e){case\"raw\":{const e=cx(t);if(32!==e.length)throw new DOMException(\"Ed25519 raw keys must be exactly 32-bytes\",\"DataError\");return{algorithm:{name:\"Ed25519\"},extractable:r,type:\"public\",usages:i.filter((e=>\"verify\"===e)),[lx]:e}}case\"pkcs8\":{const e=cx(t);if(48!==e.length)throw new DOMException(\"Invalid PKCS8 key data length\",\"DataError\");if(!e.slice(0,16).every(((e,t)=>e===dx[t])))throw new DOMException(\"Invalid PKCS8 header\",\"DataError\");return{algorithm:{name:\"Ed25519\"},extractable:r,type:\"private\",usages:i.filter((e=>\"sign\"===e)),[lx]:e.slice(16)}}case\"jwk\":{const e=t;if(\"OKP\"!==e.kty||\"Ed25519\"!==e.crv)throw new DOMException(\"Invalid Ed25519 JWK\",\"DataError\");const n=\"d\"in e?\"private\":\"public\";if(\"public\"===n&&!e.x)throw new DOMException(\"Ed25519 JWK is missing public key\",\"DataError\");if(!(\"private\"!==n||e.d&&e.x))throw new DOMException(\"Ed25519 JWK is missing key data\",\"DataError\");const o=\"private\"===n?e.d:e.x;return{algorithm:{name:\"Ed25519\"},extractable:r,type:n,usages:i.filter((e=>\"private\"===n?\"sign\"===e:\"verify\"===e)),[lx]:hx(o)}}case\"spki\":{const e=cx(t);if(48!==e[0])throw new DOMException(\"Invalid SPKI format\",\"DataError\");const n=2;if(48!==e[n]||6!==e[n+2]||3!==e[n+3]||43!==e[n+4]||101!==e[n+5]||112!==e[n+6])throw new DOMException(\"Not an Ed25519 key\",\"DataError\");const r=n+7+2;return{algorithm:{name:\"Ed25519\"},extractable:!0,type:\"public\",usages:i.filter((e=>\"verify\"===e)),[lx]:e.slice(r)}}default:throw new Error(`Unsupported import format: ${e}`)}}(...e):await globalThis.crypto.subtle.importKey(...e),writable:!0,configurable:!0})}const mx=async e=>Promise.resolve().then(e);Object.defineProperty(globalThis,\"DOMException\",{value:Error,writable:!0,configurable:!0,enumerable:!0}),gx(),Object.defineProperty(globalThis,\"queueMicrotask\",{value:mx,writable:!0,configurable:!0,enumerable:!0}),jo.config({EXPONENTIAL_AT:16});const yx=async({origin:e,request:t})=>{Cd.log(\"[🔄 onRpcRequest]\",t.method,t);const{method:n}=t;sy(e,n);const r=iE[n];if(!r)throw new ao(`RpcRequest method ${n} not found. Available methods: ${Object.values(Hm).toString()}`);return await aE((async()=>r({origin:e,request:t})))??null},vx=async({origin:e,request:t})=>{Cd.log(\"[🔑 onKeyringRequest]\",t.method,t),sy(e,t.method),t.method===Ht.SubmitRequest&&t.params&&!(\"origin\"in t.params)&&(t.params.origin=\"https://metamask.io\");return await aE((async()=>yn(dS,t)))??null},wx=async({id:e,event:t,context:n})=>{if(Cd.log(\"[👇 onUserInput]\",e,t),!t.name)return;const r={...mE,...yE,...cv,...rv,...ev}[t.name];r&&await aE((async()=>r({id:e,event:t,context:n,snapContext:pS})))},Ax=async({request:e})=>{Cd.log(\"[⏱️ onCronjob]\",e.method,e);const{method:t}=e;z(t,H([...Object.values(wS),...Object.values(Tv)]));return await aE((async()=>{const{locked:n,active:r}=await async function(){return await snap.request({method:\"snap_getClientStatus\"})}();if(Cd.log(\"[🔑 onCronjob] Client status\",{locked:n,active:r}),n)return Promise.resolve();if(!1===r){const e=await Fb.getKey(\"lastCronjobRun\"),t=72e5;if(Cd.log(\"[🔑 onCronjob] Last cronjob run\",{lastCronjobRun:e}),e&&Date.now()-e<t)return Cd.log(\"[🔑 onCronjob] Skipping cronjob because it has been run in the last 2 hours\"),Promise.resolve()}await Fb.setKey(\"lastCronjobRun\",Date.now()),Cd.log(\"[🔑 onCronjob] Running cronjob\",{method:t});return(0,nE[t])({request:e})}))??null},bx=async e=>{const t=await aE((async()=>(async e=>{Cd.log(\"[🔍 onAssetsLookup]\",e);const{assets:t}=e;return{assets:await eS.getTokenMetadataFromAddresses(t)}})(e)));return t??null},Sx=async e=>{const t=await aE((async()=>(async e=>{Cd.log(\"[💱 onAssetsConversion]\",e);const{conversions:t}=e;return{conversionRates:await rS.getMultipleTokenConversions(t)}})(e)));return t??null},Ex=async e=>await aE((async()=>(async({scope:e,request:t})=>{switch(z(e,yc),t.method){case Wm.GetGenesisHash:return z(t,Vm),Vb.getRpc(e).getGenesisHash().send();case Wm.GetLatestBlockhash:return z(t,Km),(await Vb.getRpc(e).getLatestBlockhash().send()).value.blockhash;case Wm.GetMinimumBalanceForRentExemption:return z(t,Gm),(await Vb.getRpc(e).getMinimumBalanceForRentExemption(BigInt(t.params[0]),t.params[1]).send()).toString();default:throw new Error(`Unsupported method: ${t.method}`)}})(e)))??null,xx=async e=>{const t=await aE((async()=>(async e=>{Cd.log(\"[📈 onAssetHistoricalPrice]\",e);const{from:t,to:n}=e;return z(t,Jo),z(n,Jo),{historicalPrice:await rS.getHistoricalPrice(t,n)}})(e)));return t??null},Tx=async({request:e})=>await aE((async()=>hS.handle(e)))??null,kx=async({event:e})=>aE((async()=>$b.emitSync(\"onWebSocketEvent\",e))),Ix=async()=>aE((async()=>$b.emitSync(\"onStart\"))),_x=async()=>aE((async()=>$b.emitSync(\"onUpdate\"))),Cx=async()=>aE((async()=>$b.emitSync(\"onInstall\"))),Rx=async e=>{const t=await aE((async()=>(async e=>{z(e,rE);const{chainId:t,domain:n,address:r}=e;if(n){const e=await oS.resolveDomain(t,n);if(e)return{resolvedAddresses:[{resolvedAddress:e,protocol:oE,domainName:n}]}}if(r){const e=await oS.resolveAddress(t,r);if(e)return{resolvedDomains:[{resolvedDomain:e,protocol:oE}]}}return null})(e)));return t??null},Px=async e=>{const t=await aE((async()=>(async e=>{Cd.log(\"[💰 onAssetsMarketData]\",e);const{assets:t}=e;return{marketData:await iS.getAssetsMarketData(t)}})(e)));return t??null}})(),module.exports=r})();"},{"path":"locales/en.json","value":"{\n  \"locale\": \"en\",\n  \"messages\": {\n    \"send.title\": {\n      \"message\": \"Send\"\n    },\n    \"send.balance\": {\n      \"message\": \"Balance\"\n    },\n    \"send.maxButton\": {\n      \"message\": \"Max\"\n    },\n    \"send.cancelButton\": {\n      \"message\": \"Cancel\"\n    },\n    \"send.continueButton\": {\n      \"message\": \"Continue\"\n    },\n    \"send.fromField\": {\n      \"message\": \"From\"\n    },\n    \"send.toField\": {\n      \"message\": \"To\"\n    },\n    \"send.amountField\": {\n      \"message\": \"Amount\"\n    },\n    \"send.assetField\": {\n      \"message\": \"Token\"\n    },\n    \"send.toPlaceholder\": {\n      \"message\": \"Enter public address or domain name\"\n    },\n    \"send.fromRequiredError\": {\n      \"message\": \"Account is required\"\n    },\n    \"send.amountRequiredError\": {\n      \"message\": \"Amount is required\"\n    },\n    \"send.amountGreatherThanMinimumBalanceForRentExemptionError\": {\n      \"message\": \"Amount must be greater than {minimumValue}\"\n    },\n    \"send.insuffientSolToCoverFee\": {\n      \"message\": \"Insufficient SOL balance to cover the transaction fee\"\n    },\n    \"send.toRequiredError\": {\n      \"message\": \"To address is required\"\n    },\n    \"send.toInvalidError\": {\n      \"message\": \"Invalid Solana address or domain name\"\n    },\n    \"send.toInvalidErrorDomain\": {\n      \"message\": \"Unable to resolve domain name\"\n    },\n    \"send.toDomainResolutionStatus.initial\": {\n      \"message\": \"Domain\"\n    },\n    \"send.toDomainResolutionStatus.fetching\": {\n      \"message\": \"Resolving domain name...\"\n    },\n    \"send.toDomainResolutionStatus.fetched\": {\n      \"message\": \"Domain name resolved.\"\n    },\n    \"send.toDomainResolutionStatus.error\": {\n      \"message\": \"Unable to resolve domain name.\"\n    },\n    \"send.insufficientBalance\": {\n      \"message\": \"Insufficient balance\"\n    },\n    \"send.simulationTitleAPIError\": {\n      \"message\": \"Because of an error, we couldn't check for security alerts.\"\n    },\n    \"send.simulationMessageAPIError\": {\n      \"message\": \"Only continue if you trust every address involved.\"\n    },\n    \"send.simulationTitleError\": {\n      \"message\": \"Transaction simulation failed\"\n    },\n    \"send.simulationMessageError\": {\n      \"message\": \"This transaction was reverted during simulation.\"\n    },\n    \"send.selectedTokenPriceNotAvailable\": {\n      \"message\": \"Prices for tokens in {currency} are currently not available. You are still able to send tokens.\"\n    },\n    \"send.confirmation.title\": {\n      \"message\": \"Review\"\n    },\n    \"send.confirmation.from\": {\n      \"message\": \"From\"\n    },\n    \"send.confirmation.recipient\": {\n      \"message\": \"Recipient\"\n    },\n    \"send.confirmation.network\": {\n      \"message\": \"Network\"\n    },\n    \"send.confirmation.transactionSpeed\": {\n      \"message\": \"Transaction speed\"\n    },\n    \"send.confirmation.fee\": {\n      \"message\": \"Network fee\"\n    },\n    \"send.confirmation.sendButton\": {\n      \"message\": \"Send\"\n    },\n    \"send.confirmation.cancelButton\": {\n      \"message\": \"Cancel\"\n    },\n    \"send.confirmation.viewTransaction\": {\n      \"message\": \"View transaction\"\n    },\n    \"send.send-pending.title\": {\n      \"message\": \"Sending...\"\n    },\n    \"send.send-pending.subtitle\": {\n      \"message\": \"Your transaction was submitted.\"\n    },\n    \"send.transaction-success.title\": {\n      \"message\": \"Sent\"\n    },\n    \"send.transaction-success.subtitle\": {\n      \"message\": \"{amount} {tokenSymbol} was successfully sent\"\n    },\n    \"send.transaction-failure.title\": {\n      \"message\": \"Transaction failed\"\n    },\n    \"send.transaction-failure.subtitle\": {\n      \"message\": \"Unable to send {amount} {tokenSymbol}\"\n    },\n    \"confirmation.account\": {\n      \"message\": \"Account\"\n    },\n    \"confirmation.network\": {\n      \"message\": \"Network\"\n    },\n    \"confirmation.estimatedChanges\": {\n      \"message\": \"Estimated changes\"\n    },\n    \"confirmation.estimatedChanges.send\": {\n      \"message\": \"You send\"\n    },\n    \"confirmation.estimatedChanges.receive\": {\n      \"message\": \"You receive\"\n    },\n    \"confirmation.estimatedChanges.notAvailable\": {\n      \"message\": \"Not available\"\n    },\n    \"confirmation.estimatedChanges.noChanges\": {\n      \"message\": \"No changes\"\n    },\n    \"confirmation.estimatedChanges.tooltip\": {\n      \"message\": \"Estimated changes are what might happen if you go through with this transaction. This is just a prediction, not a guarantee.\"\n    },\n    \"confirmation.advanced.show\": {\n      \"message\": \"Show advanced\"\n    },\n    \"confirmation.advanced.hide\": {\n      \"message\": \"Hide advanced\"\n    },\n    \"confirmation.cancelButton\": {\n      \"message\": \"Cancel\"\n    },\n    \"confirmation.confirmButton\": {\n      \"message\": \"Confirm\"\n    },\n    \"confirmation.signAndSendTransaction.title\": {\n      \"message\": \"Transaction request\"\n    },\n    \"confirmation.signTransaction.title\": {\n      \"message\": \"Signing request\"\n    },\n    \"confirmation.sendAndConfirmTransaction.title\": {\n      \"message\": \"Sending and confirming transaction\"\n    },\n    \"confirmation.advanced.unknownInstruction\": {\n      \"message\": \"Unknown\"\n    },\n    \"confirmation.advanced.programId\": {\n      \"message\": \"Program ID\"\n    },\n    \"confirmation.advanced.data\": {\n      \"message\": \"Data\"\n    },\n    \"confirmation.fee\": {\n      \"message\": \"Network fee\"\n    },\n    \"confirmation.feeError\": {\n      \"message\": \"Unable to estimate fee\"\n    },\n    \"confirmation.origin\": {\n      \"message\": \"Request from\"\n    },\n    \"confirmation.origin.tooltip\": {\n      \"message\": \"This is the site asking for your confirmation.\"\n    },\n    \"confirmation.simulationErrorTitle\": {\n      \"message\": \"This transaction was reverted during simulation.\"\n    },\n    \"confirmation.simulationErrorSubtitle\": {\n      \"message\": \"{reason}\"\n    },\n    \"confirmation.validationErrorTitle\": {\n      \"message\": \"This is a deceptive request\"\n    },\n    \"confirmation.validationErrorSubtitle\": {\n      \"message\": \"If you approve this request, a third party known for scams will take all your assets.\"\n    },\n    \"confirmation.validationErrorLearnMore\": {\n      \"message\": \"Learn more\"\n    },\n    \"confirmation.validationErrorSecurityAdviced\": {\n      \"message\": \"Security advice by\"\n    },\n    \"confirmation.signMessage.title\": {\n      \"message\": \"Sign message\"\n    },\n    \"confirmation.signMessage.message\": {\n      \"message\": \"Message\"\n    },\n    \"confirmation.signIn.title\": {\n      \"message\": \"Sign-in request\"\n    },\n    \"confirmation.signIn.description\": {\n      \"message\": \"A site wants you to sign in to prove you own this account.\"\n    },\n    \"confirmation.signIn.domain\": {\n      \"message\": \"Domain\"\n    },\n    \"confirmation.signIn.unknownDomain\": {\n      \"message\": \"Unknown domain\"\n    },\n    \"confirmation.signIn.signingInWith\": {\n      \"message\": \"Signing in with\"\n    },\n    \"confirmation.signIn.badAccount\": {\n      \"message\": \"This site is asking you to sign in using the wrong account.\"\n    },\n    \"confirmation.signIn.message\": {\n      \"message\": \"Message\"\n    },\n    \"confirmation.signIn.statement\": {\n      \"message\": \"Statement\"\n    },\n    \"confirmation.signIn.version\": {\n      \"message\": \"Version\"\n    },\n    \"confirmation.signIn.chainId\": {\n      \"message\": \"Chain ID\"\n    },\n    \"confirmation.signIn.nonce\": {\n      \"message\": \"Nonce\"\n    },\n    \"confirmation.signIn.issuedAt\": {\n      \"message\": \"Issued at\"\n    },\n    \"confirmation.signIn.expirationTime\": {\n      \"message\": \"Expiration time\"\n    },\n    \"confirmation.signIn.notBefore\": {\n      \"message\": \"Not before\"\n    },\n    \"confirmation.signIn.requestId\": {\n      \"message\": \"Request ID\"\n    },\n    \"confirmation.signIn.resources\": {\n      \"message\": \"Resources\"\n    },\n    \"confirmation.signIn.badDomain\": {\n      \"message\": \"This site is asking you to sign in using the wrong domain.\"\n    },\n    \"transactionScan.errors.accountAlreadyInUse\": {\n      \"message\": \"An account with the same address already exists.\"\n    },\n    \"transactionScan.errors.insufficientSol\": {\n      \"message\": \"Account does not have enough SOL to perform the operation.\"\n    },\n    \"transactionScan.errors.slippageToleranceExceeded\": {\n      \"message\": \"The transaction was reverted because the slippage tolerance was exceeded.\"\n    },\n    \"transactionScan.errors.unknownError\": {\n      \"message\": \"An unknown error occurred.\"\n    }\n  }\n}"}],"removable":false,"hideSnapBranding":true}
\ No newline at end of file
