{"snapId":"npm:@metamask/account-watcher","manifest":{"version":"3.0.0","description":"Keep an eye on Ethereum addresses or ENS domains right in MetaMask","proposedName":"Account Watcher","repository":{"type":"git","url":"https://github.com/metamask/snap-watch-only.git"},"source":{"shasum":"dAJEkECdBj8RGcinrYAuCSIIUbPGK4+px6OdiLwZ3J0=","location":{"npm":{"filePath":"dist/bundle.js","iconPath":"images/watcher-fox-eye.svg","packageName":"@metamask/account-watcher","registry":"https://registry.npmjs.org/"}}},"initialPermissions":{"snap_dialog":{},"endowment:keyring":{"allowedOrigins":["https://snaps.metamask.io"]},"endowment:rpc":{"allowedOrigins":["https://snaps.metamask.io"]},"snap_manageAccounts":{},"endowment:page-home":{},"snap_manageState":{},"endowment:ethereum-provider":{}},"manifestVersion":"0.1"},"files":[{"path":"images/watcher-fox-eye.svg","value":"<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n\t width=\"100%\" viewBox=\"0 0 1024 1024\" enable-background=\"new 0 0 1024 1024\" xml:space=\"preserve\">\n<path fill=\"#F48320\" opacity=\"1.000000\" stroke=\"none\" \n\td=\"\nM1.000000,808.000000 \n\tC1.000000,541.977356 1.000000,275.954712 1.267370,9.191578 \n\tC5.780173,7.202375 10.069000,6.081650 14.256378,4.661746 \n\tC17.241562,3.649497 20.090347,2.234995 23.000000,1.000000 \n\tC23.444445,1.000000 23.888887,1.000000 24.849617,1.078521 \n\tC25.910603,1.104694 26.455301,1.052347 27.000000,1.000000 \n\tC87.689308,1.000000 148.378616,1.000000 209.452972,1.338681 \n\tC208.822403,3.388152 207.884964,5.151262 206.779633,6.801964 \n\tC186.321564,37.354450 165.834381,67.887444 145.371857,98.436951 \n\tC119.168259,137.557556 92.957733,176.673584 66.809624,215.831253 \n\tC62.387630,222.453323 58.264912,229.275223 54.157597,236.300262 \n\tC55.425724,237.828842 56.488300,239.113831 57.662003,240.287735 \n\tC151.383713,334.025421 245.111572,427.756897 338.868927,521.458923 \n\tC340.241394,522.830688 341.989777,523.826294 343.773865,525.327698 \n\tC367.573456,532.586487 391.151550,539.550476 414.752899,546.434753 \n\tC445.652008,555.447815 476.572906,564.386108 507.478119,573.378296 \n\tC542.048279,583.436646 576.609009,593.527283 611.178040,603.589294 \n\tC640.797058,612.210327 670.421997,620.810913 700.218628,629.724243 \n\tC700.906067,631.422791 701.619324,632.778320 701.901978,634.218445 \n\tC705.846802,654.315796 709.709595,674.429138 713.638123,694.529724 \n\tC720.857300,731.467102 728.083923,768.403015 735.348572,805.331543 \n\tC747.434814,866.770325 759.584473,928.196655 771.631226,989.643250 \n\tC773.934875,1001.393372 775.886169,1013.212646 778.000000,1025.000000 \n\tC727.977356,1025.000000 677.954773,1025.000000 627.387085,1024.666016 \n\tC625.752686,1023.124878 624.816589,1021.719421 623.550476,1020.740845 \n\tC608.668091,1009.237427 593.729553,997.806641 578.818787,986.339966 \n\tC531.184998,949.709045 483.555359,913.072693 435.926666,876.435181 \n\tC413.893219,859.486328 391.902679,842.481384 369.808716,825.611816 \n\tC364.418152,821.495850 358.697083,817.812744 352.766602,813.710571 \n\tC343.787598,813.010803 335.174957,812.260498 326.551392,812.102051 \n\tC300.757050,811.628357 274.958527,811.383728 249.161545,811.054443 \n\tC222.698441,810.716614 196.235214,810.388062 169.772125,810.048645 \n\tC144.308243,809.721985 118.844696,809.367554 93.380585,809.059814 \n\tC62.587288,808.687622 31.793549,808.351685 1.000000,808.000000 \nz\"/>\n<path fill=\"#F6851F\" opacity=\"1.000000\" stroke=\"none\" \n\td=\"\nM752.000000,1.000000 \n\tC842.974854,1.000000 933.949707,1.000000 1024.962280,1.000000 \n\tC1024.962280,342.213837 1024.962280,683.427673 1024.962280,1025.000000 \n\tC945.308777,1025.000000 865.617065,1025.000000 785.458740,1024.531372 \n\tC784.990112,849.986694 784.988464,675.910645 784.979797,501.834564 \n\tC784.979675,499.504059 785.011475,497.163635 784.822754,494.844574 \n\tC783.246826,475.478119 781.551636,456.121155 780.036194,436.750092 \n\tC778.870178,421.845490 778.010193,406.916931 776.837341,392.012939 \n\tC775.325928,372.808502 773.546753,353.625031 772.052185,334.419373 \n\tC770.583069,315.541229 769.356567,296.644196 767.908203,277.764313 \n\tC767.807983,276.458618 766.747803,275.226532 766.146729,273.575928 \n\tC766.420898,271.144806 766.682495,269.097992 766.956787,266.604858 \n\tC765.945435,246.917023 764.938538,227.674515 763.890930,208.434235 \n\tC763.249817,196.658966 762.548218,184.886963 761.870056,173.113724 \n\tC760.580688,150.730515 759.268799,128.348587 758.005188,105.963928 \n\tC757.256226,92.694771 756.628235,79.418716 755.863220,66.150528 \n\tC754.610840,44.431648 753.291260,22.716642 752.000000,1.000000 \nz\"/>\n<path fill=\"#E27726\" opacity=\"1.000000\" stroke=\"none\" \n\td=\"\nM751.531372,1.000000 \n\tC753.291260,22.716642 754.610840,44.431648 755.863220,66.150528 \n\tC756.628235,79.418716 757.256226,92.694771 758.005188,105.963928 \n\tC759.268799,128.348587 760.580688,150.730515 761.870056,173.113724 \n\tC762.548218,184.886963 763.249817,196.658966 763.890930,208.434235 \n\tC764.938538,227.674515 765.945435,246.917023 766.545166,266.547791 \n\tC764.316467,266.637482 762.520996,266.154083 760.706543,266.067352 \n\tC745.597656,265.344910 730.485657,264.687775 715.373840,264.026215 \n\tC700.096191,263.357361 684.817932,262.701599 669.539612,262.047913 \n\tC638.133972,260.704163 606.727905,259.367889 575.322266,258.024017 \n\tC560.043884,257.370239 544.766846,256.686127 529.487671,256.051727 \n\tC504.727753,255.023712 479.968445,253.976791 455.205383,253.029724 \n\tC435.432220,252.273514 415.653076,251.674454 395.878113,250.964142 \n\tC387.737732,250.671753 379.599182,250.312683 371.463409,249.911209 \n\tC345.553497,248.632614 319.646881,247.286392 293.735779,246.033127 \n\tC278.794128,245.310425 263.847443,244.687790 248.900909,244.071274 \n\tC223.641602,243.029404 198.379318,242.058807 173.120865,240.997482 \n\tC159.505386,240.425385 145.897919,239.661255 132.282059,239.099960 \n\tC106.191154,238.024460 80.096832,237.031830 54.003925,236.004807 \n\tC58.264912,229.275223 62.387630,222.453323 66.809624,215.831253 \n\tC92.957733,176.673584 119.168259,137.557556 145.371857,98.436951 \n\tC165.834381,67.887444 186.321564,37.354450 206.779633,6.801964 \n\tC207.884964,5.151262 208.822403,3.388152 209.919006,1.338681 \n\tC390.354218,1.000000 570.708435,1.000000 751.531372,1.000000 \nz\"/>\n<path fill=\"#CC6329\" opacity=\"1.000000\" stroke=\"none\" \n\td=\"\nM1.000000,808.468628 \n\tC31.793549,808.351685 62.587288,808.687622 93.380585,809.059814 \n\tC118.844696,809.367554 144.308243,809.721985 169.772125,810.048645 \n\tC196.235214,810.388062 222.698441,810.716614 249.161545,811.054443 \n\tC274.958527,811.383728 300.757050,811.628357 326.551392,812.102051 \n\tC335.174957,812.260498 343.787598,813.010803 352.718872,814.138000 \n\tC351.566711,826.657166 350.109009,838.529785 348.633484,850.400330 \n\tC345.764404,873.481506 342.891479,896.562256 340.008545,919.641724 \n\tC337.475555,939.919495 334.902679,960.192383 332.393066,980.473022 \n\tC330.557007,995.310608 328.795013,1010.157349 327.000000,1025.000000 \n\tC252.645767,1025.000000 178.291550,1025.000000 103.318298,1024.692627 \n\tC88.668358,1003.561279 74.614235,982.752808 60.612232,961.909302 \n\tC41.876354,934.018860 23.187817,906.096619 4.448768,878.208313 \n\tC3.441829,876.709717 2.156003,875.398438 0.999997,874.000000 \n\tC1.000000,852.312439 1.000000,830.624878 1.000000,808.468628 \nz\"/>\n<path fill=\"#E27726\" opacity=\"1.000000\" stroke=\"none\" \n\td=\"\nM766.134033,273.960205 \n\tC766.747803,275.226532 767.807983,276.458618 767.908203,277.764313 \n\tC769.356567,296.644196 770.583069,315.541229 772.052185,334.419373 \n\tC773.546753,353.625031 775.325928,372.808502 776.837341,392.012939 \n\tC778.010193,406.916931 778.870178,421.845490 780.036194,436.750092 \n\tC781.551636,456.121155 783.246826,475.478119 784.822754,494.844574 \n\tC785.011475,497.163635 784.979675,499.504059 784.979797,501.834564 \n\tC784.988464,675.910645 784.990112,849.986694 784.996094,1024.531372 \n\tC782.958313,1025.000000 780.916687,1025.000000 778.437500,1025.000000 \n\tC775.886169,1013.212646 773.934875,1001.393372 771.631226,989.643250 \n\tC759.584473,928.196655 747.434814,866.770325 735.348572,805.331543 \n\tC728.083923,768.403015 720.857300,731.467102 713.638123,694.529724 \n\tC709.709595,674.429138 705.846802,654.315796 701.901978,634.218445 \n\tC701.619324,632.778320 700.906067,631.422791 700.257080,629.324097 \n\tC700.075928,628.086487 700.030762,627.552673 700.278809,626.794678 \n\tC701.248718,624.560364 702.183472,622.597717 702.563538,620.533020 \n\tC708.017029,590.910156 713.411865,561.276428 718.789368,531.639648 \n\tC732.574585,455.664886 746.322327,379.683350 760.146545,303.715729 \n\tC761.957581,293.763580 764.129333,283.877075 766.134033,273.960205 \nz\"/>\n<path fill=\"#E27726\" opacity=\"1.000000\" stroke=\"none\" \n\td=\"\nM327.468658,1025.000000 \n\tC328.795013,1010.157349 330.557007,995.310608 332.393066,980.473022 \n\tC334.902679,960.192383 337.475555,939.919495 340.008545,919.641724 \n\tC342.891479,896.562256 345.764404,873.481506 348.633484,850.400330 \n\tC350.109009,838.529785 351.566711,826.657166 353.080261,814.358032 \n\tC358.697083,817.812744 364.418152,821.495850 369.808716,825.611816 \n\tC391.902679,842.481384 413.893219,859.486328 435.926666,876.435181 \n\tC483.555359,913.072693 531.184998,949.709045 578.818787,986.339966 \n\tC593.729553,997.806641 608.668091,1009.237427 623.550476,1020.740845 \n\tC624.816589,1021.719421 625.752686,1023.124878 626.921021,1024.666016 \n\tC527.312439,1025.000000 427.624878,1025.000000 327.468658,1025.000000 \nz\"/>\n<path fill=\"#E27726\" opacity=\"1.000000\" stroke=\"none\" \n\td=\"\nM0.999997,874.468628 \n\tC2.156003,875.398438 3.441829,876.709717 4.448768,878.208313 \n\tC23.187817,906.096619 41.876354,934.018860 60.612232,961.909302 \n\tC74.614235,982.752808 88.668358,1003.561279 102.849640,1024.692627 \n\tC69.058884,1025.000000 35.117767,1025.000000 1.000000,1025.000000 \n\tC1.000000,974.979248 1.000000,924.958252 0.999997,874.468628 \nz\"/>\n<path fill=\"#30353C\" opacity=\"1.000000\" stroke=\"none\" \n\td=\"\nM22.531218,1.000000 \n\tC20.090347,2.234995 17.241562,3.649497 14.256378,4.661746 \n\tC10.069000,6.081650 5.780173,7.202375 1.267370,8.725536 \n\tC1.000000,6.372888 1.000000,3.745775 1.000000,1.000000 \n\tC8.020491,1.000000 15.041463,1.000000 22.531218,1.000000 \nz\"/>\n<path fill=\"#30353C\" opacity=\"1.000000\" stroke=\"none\" \n\td=\"\nM26.666668,1.000000 \n\tC26.455301,1.052347 25.910603,1.104694 25.182953,1.078521 \n\tC25.444445,1.000000 25.888889,1.000000 26.666668,1.000000 \nz\"/>\n<path fill=\"#CC6329\" opacity=\"1.000000\" stroke=\"none\" \n\td=\"\nM766.146667,273.575928 \n\tC764.129333,283.877075 761.957581,293.763580 760.146545,303.715729 \n\tC746.322327,379.683350 732.574585,455.664886 718.789368,531.639648 \n\tC713.411865,561.276428 708.017029,590.910156 702.563538,620.533020 \n\tC702.183472,622.597717 701.248718,624.560364 700.013672,626.566406 \n\tC665.286377,554.975647 631.117249,483.388855 596.783142,411.456238 \n\tC594.540100,412.389313 592.866577,413.037079 591.232422,413.772278 \n\tC533.579102,439.709778 475.937836,465.674011 418.275574,491.591492 \n\tC393.393127,502.775391 368.468292,513.865051 343.562744,524.997437 \n\tC341.989777,523.826294 340.241394,522.830688 338.868927,521.458923 \n\tC245.111572,427.756897 151.383713,334.025421 57.662003,240.287735 \n\tC56.488300,239.113831 55.425724,237.828842 54.157597,236.300262 \n\tC80.096832,237.031830 106.191154,238.024460 132.282059,239.099960 \n\tC145.897919,239.661255 159.505386,240.425385 173.120865,240.997482 \n\tC198.379318,242.058807 223.641602,243.029404 248.900909,244.071274 \n\tC263.847443,244.687790 278.794128,245.310425 293.735779,246.033127 \n\tC319.646881,247.286392 345.553497,248.632614 371.463409,249.911209 \n\tC379.599182,250.312683 387.737732,250.671753 395.878113,250.964142 \n\tC415.653076,251.674454 435.432220,252.273514 455.205383,253.029724 \n\tC479.968445,253.976791 504.727753,255.023712 529.487671,256.051727 \n\tC544.766846,256.686127 560.043884,257.370239 575.322266,258.024017 \n\tC606.727905,259.367889 638.133972,260.704163 669.539612,262.047913 \n\tC684.817932,262.701599 700.096191,263.357361 715.373840,264.026215 \n\tC730.485657,264.687775 745.597656,265.344910 760.706543,266.067352 \n\tC762.520996,266.154083 764.316467,266.637482 766.532410,266.994080 \n\tC766.682495,269.097992 766.420898,271.144806 766.146667,273.575928 \nz\"/>\n<path fill=\"#30353C\" opacity=\"1.000000\" stroke=\"none\" \n\td=\"\nM343.773865,525.327759 \n\tC368.468292,513.865051 393.393127,502.775391 418.275574,491.591492 \n\tC475.937836,465.674011 533.579102,439.709778 591.232422,413.772278 \n\tC592.866577,413.037079 594.540100,412.389313 596.783142,411.456238 \n\tC631.117249,483.388855 665.286377,554.975647 699.720520,626.790649 \n\tC700.030762,627.552673 700.075928,628.086487 700.082703,629.020386 \n\tC670.421997,620.810913 640.797058,612.210327 611.178040,603.589294 \n\tC576.609009,593.527283 542.048279,583.436646 507.478119,573.378296 \n\tC476.572906,564.386108 445.652008,555.447815 414.752899,546.434753 \n\tC391.151550,539.550476 367.573456,532.586487 343.773865,525.327759 \nz\"/>\n</svg>"},{"path":"dist/bundle.js","value":"(()=>{var t={5978:(t,e,r)=>{\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.JsonRpcRequestStruct=void 0;const n=r(2049),s=r(2150),i=r(4520);e.JsonRpcRequestStruct=(0,i.object)({jsonrpc:(0,s.literal)(\"2.0\"),id:(0,s.union)([(0,s.string)(),(0,s.number)(),(0,s.literal)(null)]),method:(0,s.string)(),params:(0,i.exactOptional)((0,s.union)([(0,s.array)(n.JsonStruct),(0,s.record)((0,s.string)(),n.JsonStruct)]))})},1236:function(t,e,r){\"use strict\";var n,s,i,o=this&&this.__classPrivateFieldSet||function(t,e,r,n,s){if(\"m\"===n)throw new TypeError(\"Private method is not writable\");if(\"a\"===n&&!s)throw new TypeError(\"Private accessor was defined without a setter\");if(\"function\"==typeof e?t!==e||!s:!e.has(t))throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");return\"a\"===n?s.call(t,r):s?s.value=r:e.set(t,r),r},a=this&&this.__classPrivateFieldGet||function(t,e,r,n){if(\"a\"===r&&!n)throw new TypeError(\"Private accessor was defined without a getter\");if(\"function\"==typeof e?t!==e||!n:!e.has(t))throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");return\"m\"===r?n:\"a\"===r?n.call(t):n?n.value:e.get(t)};Object.defineProperty(e,\"__esModule\",{value:!0}),e.KeyringClient=void 0;const c=r(2150),u=r(2831),l=r(2582),h=r(1925),f=r(7003);e.KeyringClient=class{constructor(t){n.add(this),s.set(this,void 0),o(this,s,t,\"f\")}async listAccounts(){return(0,f.strictMask)(await a(this,n,\"m\",i).call(this,{method:h.KeyringRpcMethod.ListAccounts}),l.ListAccountsResponseStruct)}async getAccount(t){return(0,f.strictMask)(await a(this,n,\"m\",i).call(this,{method:h.KeyringRpcMethod.GetAccount,params:{id:t}}),l.GetAccountResponseStruct)}async createAccount(t={}){return(0,f.strictMask)(await a(this,n,\"m\",i).call(this,{method:h.KeyringRpcMethod.CreateAccount,params:{options:t}}),l.CreateAccountResponseStruct)}async filterAccountChains(t,e){return(0,f.strictMask)(await a(this,n,\"m\",i).call(this,{method:h.KeyringRpcMethod.FilterAccountChains,params:{id:t,chains:e}}),l.FilterAccountChainsResponseStruct)}async updateAccount(t){(0,c.assert)(await a(this,n,\"m\",i).call(this,{method:h.KeyringRpcMethod.UpdateAccount,params:{account:t}}),l.UpdateAccountResponseStruct)}async deleteAccount(t){(0,c.assert)(await a(this,n,\"m\",i).call(this,{method:h.KeyringRpcMethod.DeleteAccount,params:{id:t}}),l.DeleteAccountResponseStruct)}async exportAccount(t){return(0,f.strictMask)(await a(this,n,\"m\",i).call(this,{method:h.KeyringRpcMethod.ExportAccount,params:{id:t}}),l.ExportAccountResponseStruct)}async listRequests(){return(0,f.strictMask)(await a(this,n,\"m\",i).call(this,{method:h.KeyringRpcMethod.ListRequests}),l.ListRequestsResponseStruct)}async getRequest(t){return(0,f.strictMask)(await a(this,n,\"m\",i).call(this,{method:h.KeyringRpcMethod.GetRequest,params:{id:t}}),l.GetRequestResponseStruct)}async submitRequest(t){return(0,f.strictMask)(await a(this,n,\"m\",i).call(this,{method:h.KeyringRpcMethod.SubmitRequest,params:t}),l.SubmitRequestResponseStruct)}async approveRequest(t,e={}){(0,c.assert)(await a(this,n,\"m\",i).call(this,{method:h.KeyringRpcMethod.ApproveRequest,params:{id:t,data:e}}),l.ApproveRequestResponseStruct)}async rejectRequest(t){(0,c.assert)(await a(this,n,\"m\",i).call(this,{method:h.KeyringRpcMethod.RejectRequest,params:{id:t}}),l.RejectRequestResponseStruct)}},s=new WeakMap,n=new WeakSet,i=async function(t){return a(this,s,\"f\").send({jsonrpc:\"2.0\",id:(0,u.v4)(),...t})}},4071:function(t,e,r){\"use strict\";var n,s,i=this&&this.__classPrivateFieldSet||function(t,e,r,n,s){if(\"m\"===n)throw new TypeError(\"Private method is not writable\");if(\"a\"===n&&!s)throw new TypeError(\"Private accessor was defined without a setter\");if(\"function\"==typeof e?t!==e||!s:!e.has(t))throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");return\"a\"===n?s.call(t,r):s?s.value=r:e.set(t,r),r},o=this&&this.__classPrivateFieldGet||function(t,e,r,n){if(\"a\"===r&&!n)throw new TypeError(\"Private accessor was defined without a getter\");if(\"function\"==typeof e?t!==e||!n:!e.has(t))throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");return\"m\"===r?n:\"a\"===r?n.call(t):n?n.value:e.get(t)};Object.defineProperty(e,\"__esModule\",{value:!0}),e.KeyringSnapRpcClient=e.SnapRpcSender=void 0;const a=r(1236);class c{constructor(t,e){n.set(this,void 0),s.set(this,void 0),i(this,n,t,\"f\"),i(this,s,e,\"f\")}async send(t){return o(this,s,\"f\").request({method:\"wallet_invokeKeyring\",params:{snapId:o(this,n,\"f\"),request:t}})}}e.SnapRpcSender=c,n=new WeakMap,s=new WeakMap;class u extends a.KeyringClient{constructor(t,e){super(new c(t,e))}}e.KeyringSnapRpcClient=u},8026:(t,e,r)=>{\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.KeyringResponseStruct=e.KeyringAccountDataStruct=e.KeyringRequestStruct=e.KeyringAccountStruct=e.EthAccountType=e.EthMethod=void 0;const n=r(2049),s=r(2150),i=r(4520),o=r(7003);var a,c;!function(t){t.PersonalSign=\"personal_sign\",t.Sign=\"eth_sign\",t.SignTransaction=\"eth_signTransaction\",t.SignTypedDataV1=\"eth_signTypedData_v1\",t.SignTypedDataV3=\"eth_signTypedData_v3\",t.SignTypedDataV4=\"eth_signTypedData_v4\",t.PrepareUserOperation=\"eth_prepareUserOperation\",t.PatchUserOperation=\"eth_patchUserOperation\",t.SignUserOperation=\"eth_signUserOperation\"}(a=e.EthMethod||(e.EthMethod={})),function(t){t.Eoa=\"eip155:eoa\",t.Erc4337=\"eip155:erc4337\"}(c=e.EthAccountType||(e.EthAccountType={})),e.KeyringAccountStruct=(0,i.object)({id:o.UuidStruct,address:(0,s.string)(),options:(0,s.record)((0,s.string)(),n.JsonStruct),methods:(0,s.array)((0,s.enums)([`${a.PersonalSign}`,`${a.Sign}`,`${a.SignTransaction}`,`${a.SignTypedDataV1}`,`${a.SignTypedDataV3}`,`${a.SignTypedDataV4}`,`${a.PrepareUserOperation}`,`${a.PatchUserOperation}`,`${a.SignUserOperation}`])),type:(0,s.enums)([`${c.Eoa}`,`${c.Erc4337}`])}),e.KeyringRequestStruct=(0,i.object)({id:o.UuidStruct,scope:(0,s.string)(),account:o.UuidStruct,request:(0,i.object)({method:(0,s.string)(),params:(0,i.exactOptional)((0,s.union)([(0,s.array)(n.JsonStruct),(0,s.record)((0,s.string)(),n.JsonStruct)]))})}),e.KeyringAccountDataStruct=(0,s.record)((0,s.string)(),n.JsonStruct),e.KeyringResponseStruct=(0,s.union)([(0,i.object)({pending:(0,s.literal)(!0),redirect:(0,i.exactOptional)((0,i.object)({message:(0,i.exactOptional)((0,s.string)()),url:(0,i.exactOptional)((0,s.string)())}))}),(0,i.object)({pending:(0,s.literal)(!1),result:n.JsonStruct})])},322:function(t,e,r){\"use strict\";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);s&&!(\"get\"in s?!e.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),s=this&&this.__exportStar||function(t,e){for(var r in t)\"default\"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,\"__esModule\",{value:!0}),s(r(4943),e)},4943:(t,e,r)=>{\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.EthUserOperationPatchStruct=e.EthBaseUserOperationStruct=e.EthBaseTransactionStruct=e.EthUserOperationStruct=void 0;const n=r(4520),s=r(6879);e.EthUserOperationStruct=(0,n.object)({sender:s.EthAddressStruct,nonce:s.EthUint256Struct,initCode:s.EthBytesStruct,callData:s.EthBytesStruct,callGasLimit:s.EthUint256Struct,verificationGasLimit:s.EthUint256Struct,preVerificationGas:s.EthUint256Struct,maxFeePerGas:s.EthUint256Struct,maxPriorityFeePerGas:s.EthUint256Struct,paymasterAndData:s.EthBytesStruct,signature:s.EthBytesStruct}),e.EthBaseTransactionStruct=(0,n.object)({to:s.EthAddressStruct,value:s.EthUint256Struct,data:s.EthBytesStruct}),e.EthBaseUserOperationStruct=(0,n.object)({nonce:s.EthUint256Struct,initCode:s.EthBytesStruct,callData:s.EthBytesStruct,gasLimits:(0,n.exactOptional)((0,n.object)({callGasLimit:s.EthUint256Struct,verificationGasLimit:s.EthUint256Struct,preVerificationGas:s.EthUint256Struct})),dummyPaymasterAndData:s.EthBytesStruct,dummySignature:s.EthBytesStruct,bundlerUrl:n.UrlStruct}),e.EthUserOperationPatchStruct=(0,n.object)({paymasterAndData:s.EthBytesStruct,callGasLimit:(0,n.exactOptional)(s.EthUint256Struct),verificationGasLimit:(0,n.exactOptional)(s.EthUint256Struct),preVerificationGas:(0,n.exactOptional)(s.EthUint256Struct)})},6034:function(t,e,r){\"use strict\";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);s&&!(\"get\"in s?!e.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),s=this&&this.__exportStar||function(t,e){for(var r in t)\"default\"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,\"__esModule\",{value:!0}),s(r(322),e),s(r(6879),e)},6879:(t,e,r)=>{\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.EthUint256Struct=e.EthAddressStruct=e.EthBytesStruct=void 0;const n=r(4520);e.EthBytesStruct=(0,n.definePattern)(\"EthBytes\",/^0x[0-9a-f]*$/iu),e.EthAddressStruct=(0,n.definePattern)(\"EthAddress\",/^0x[0-9a-f]{40}$/iu),e.EthUint256Struct=(0,n.definePattern)(\"EthUint256\",/^0x([1-9a-f][0-9a-f]*|0)$/iu)},4433:(t,e)=>{\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.KeyringEvent=void 0,function(t){t.AccountCreated=\"notify:accountCreated\",t.AccountUpdated=\"notify:accountUpdated\",t.AccountDeleted=\"notify:accountDeleted\",t.RequestApproved=\"notify:requestApproved\",t.RequestRejected=\"notify:requestRejected\"}(e.KeyringEvent||(e.KeyringEvent={}))},7962:function(t,e,r){\"use strict\";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);s&&!(\"get\"in s?!e.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),s=this&&this.__exportStar||function(t,e){for(var r in t)\"default\"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,\"__esModule\",{value:!0}),s(r(8026),e),s(r(6034),e),s(r(4433),e),s(r(7470),e),s(r(1236),e),s(r(4071),e),s(r(3060),e),s(r(5524),e),s(r(4520),e)},2582:(t,e,r)=>{\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.RejectRequestResponseStruct=e.RejectRequestRequestStruct=e.ApproveRequestResponseStruct=e.ApproveRequestRequestStruct=e.SubmitRequestResponseStruct=e.SubmitRequestRequestStruct=e.GetRequestResponseStruct=e.GetRequestRequestStruct=e.ListRequestsResponseStruct=e.ListRequestsRequestStruct=e.ExportAccountResponseStruct=e.ExportAccountRequestStruct=e.DeleteAccountResponseStruct=e.DeleteAccountRequestStruct=e.UpdateAccountResponseStruct=e.UpdateAccountRequestStruct=e.FilterAccountChainsResponseStruct=e.FilterAccountChainsStruct=e.CreateAccountResponseStruct=e.CreateAccountRequestStruct=e.GetAccountResponseStruct=e.GetAccountRequestStruct=e.ListAccountsResponseStruct=e.ListAccountsRequestStruct=void 0;const n=r(2049),s=r(2150),i=r(8026),o=r(7003),a={jsonrpc:(0,s.literal)(\"2.0\"),id:(0,s.union)([(0,s.string)(),(0,s.number)(),(0,s.literal)(null)])};e.ListAccountsRequestStruct=(0,s.object)({...a,method:(0,s.literal)(\"keyring_listAccounts\")}),e.ListAccountsResponseStruct=(0,s.array)(i.KeyringAccountStruct),e.GetAccountRequestStruct=(0,s.object)({...a,method:(0,s.literal)(\"keyring_getAccount\"),params:(0,s.object)({id:o.UuidStruct})}),e.GetAccountResponseStruct=i.KeyringAccountStruct,e.CreateAccountRequestStruct=(0,s.object)({...a,method:(0,s.literal)(\"keyring_createAccount\"),params:(0,s.object)({options:(0,s.record)((0,s.string)(),n.JsonStruct)})}),e.CreateAccountResponseStruct=i.KeyringAccountStruct,e.FilterAccountChainsStruct=(0,s.object)({...a,method:(0,s.literal)(\"keyring_filterAccountChains\"),params:(0,s.object)({id:o.UuidStruct,chains:(0,s.array)((0,s.string)())})}),e.FilterAccountChainsResponseStruct=(0,s.array)((0,s.string)()),e.UpdateAccountRequestStruct=(0,s.object)({...a,method:(0,s.literal)(\"keyring_updateAccount\"),params:(0,s.object)({account:i.KeyringAccountStruct})}),e.UpdateAccountResponseStruct=(0,s.literal)(null),e.DeleteAccountRequestStruct=(0,s.object)({...a,method:(0,s.literal)(\"keyring_deleteAccount\"),params:(0,s.object)({id:o.UuidStruct})}),e.DeleteAccountResponseStruct=(0,s.literal)(null),e.ExportAccountRequestStruct=(0,s.object)({...a,method:(0,s.literal)(\"keyring_exportAccount\"),params:(0,s.object)({id:o.UuidStruct})}),e.ExportAccountResponseStruct=i.KeyringAccountDataStruct,e.ListRequestsRequestStruct=(0,s.object)({...a,method:(0,s.literal)(\"keyring_listRequests\")}),e.ListRequestsResponseStruct=(0,s.array)(i.KeyringRequestStruct),e.GetRequestRequestStruct=(0,s.object)({...a,method:(0,s.literal)(\"keyring_getRequest\"),params:(0,s.object)({id:o.UuidStruct})}),e.GetRequestResponseStruct=i.KeyringRequestStruct,e.SubmitRequestRequestStruct=(0,s.object)({...a,method:(0,s.literal)(\"keyring_submitRequest\"),params:i.KeyringRequestStruct}),e.SubmitRequestResponseStruct=i.KeyringResponseStruct,e.ApproveRequestRequestStruct=(0,s.object)({...a,method:(0,s.literal)(\"keyring_approveRequest\"),params:(0,s.object)({id:o.UuidStruct,data:(0,s.record)((0,s.string)(),n.JsonStruct)})}),e.ApproveRequestResponseStruct=(0,s.literal)(null),e.RejectRequestRequestStruct=(0,s.object)({...a,method:(0,s.literal)(\"keyring_rejectRequest\"),params:(0,s.object)({id:o.UuidStruct})}),e.RejectRequestResponseStruct=(0,s.literal)(null)},6796:(t,e)=>{\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0})},222:function(t,e,r){\"use strict\";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);s&&!(\"get\"in s?!e.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),s=this&&this.__exportStar||function(t,e){for(var r in t)\"default\"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,\"__esModule\",{value:!0}),s(r(6796),e)},3005:(t,e,r)=>{\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.RequestRejectedEventStruct=e.RequestApprovedEventStruct=e.AccountDeletedEventStruct=e.AccountUpdatedEventStruct=e.AccountCreatedEventStruct=void 0;const n=r(2049),s=r(2150),i=r(8026),o=r(4433),a=r(7003);e.AccountCreatedEventStruct=(0,s.object)({method:(0,s.literal)(`${o.KeyringEvent.AccountCreated}`),params:(0,s.object)({account:i.KeyringAccountStruct})}),e.AccountUpdatedEventStruct=(0,s.object)({method:(0,s.literal)(`${o.KeyringEvent.AccountUpdated}`),params:(0,s.object)({account:i.KeyringAccountStruct})}),e.AccountDeletedEventStruct=(0,s.object)({method:(0,s.literal)(`${o.KeyringEvent.AccountDeleted}`),params:(0,s.object)({id:a.UuidStruct})}),e.RequestApprovedEventStruct=(0,s.object)({method:(0,s.literal)(`${o.KeyringEvent.RequestApproved}`),params:(0,s.object)({id:a.UuidStruct,result:n.JsonStruct})}),e.RequestRejectedEventStruct=(0,s.object)({method:(0,s.literal)(`${o.KeyringEvent.RequestRejected}`),params:(0,s.object)({id:a.UuidStruct})})},7470:function(t,e,r){\"use strict\";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);s&&!(\"get\"in s?!e.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),s=this&&this.__exportStar||function(t,e){for(var r in t)\"default\"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,\"__esModule\",{value:!0}),s(r(2582),e),s(r(222),e),s(r(3005),e),s(r(1925),e),s(r(3699),e)},1925:(t,e)=>{\"use strict\";var r;Object.defineProperty(e,\"__esModule\",{value:!0}),e.isKeyringRpcMethod=e.KeyringRpcMethod=void 0,function(t){t.ListAccounts=\"keyring_listAccounts\",t.GetAccount=\"keyring_getAccount\",t.CreateAccount=\"keyring_createAccount\",t.FilterAccountChains=\"keyring_filterAccountChains\",t.UpdateAccount=\"keyring_updateAccount\",t.DeleteAccount=\"keyring_deleteAccount\",t.ExportAccount=\"keyring_exportAccount\",t.ListRequests=\"keyring_listRequests\",t.GetRequest=\"keyring_getRequest\",t.SubmitRequest=\"keyring_submitRequest\",t.ApproveRequest=\"keyring_approveRequest\",t.RejectRequest=\"keyring_rejectRequest\"}(r=e.KeyringRpcMethod||(e.KeyringRpcMethod={})),e.isKeyringRpcMethod=function(t){return Object.values(r).includes(t)}},3699:(t,e,r)=>{\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.InternalAccountStruct=void 0;const n=r(2150),s=r(8026),i=r(4520);e.InternalAccountStruct=(0,i.object)({...s.KeyringAccountStruct.schema,metadata:(0,i.object)({name:(0,n.string)(),snap:(0,i.exactOptional)((0,i.object)({id:(0,n.string)(),enabled:(0,n.boolean)(),name:(0,n.string)()})),lastSelected:(0,i.exactOptional)((0,n.number)()),keyring:(0,i.object)({type:(0,n.string)()})})})},3060:(t,e,r)=>{\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.handleKeyringRequest=e.MethodNotSupportedError=void 0;const n=r(2150),s=r(2582),i=r(1925),o=r(5978);class a extends Error{constructor(t){super(`Method not supported: ${t}`)}}e.MethodNotSupportedError=a,e.handleKeyringRequest=async function(t,e){switch((0,n.assert)(e,o.JsonRpcRequestStruct),e.method){case i.KeyringRpcMethod.ListAccounts:return(0,n.assert)(e,s.ListAccountsRequestStruct),t.listAccounts();case i.KeyringRpcMethod.GetAccount:return(0,n.assert)(e,s.GetAccountRequestStruct),t.getAccount(e.params.id);case i.KeyringRpcMethod.CreateAccount:return(0,n.assert)(e,s.CreateAccountRequestStruct),t.createAccount(e.params.options);case i.KeyringRpcMethod.FilterAccountChains:return(0,n.assert)(e,s.FilterAccountChainsStruct),t.filterAccountChains(e.params.id,e.params.chains);case i.KeyringRpcMethod.UpdateAccount:return(0,n.assert)(e,s.UpdateAccountRequestStruct),t.updateAccount(e.params.account);case i.KeyringRpcMethod.DeleteAccount:return(0,n.assert)(e,s.DeleteAccountRequestStruct),t.deleteAccount(e.params.id);case i.KeyringRpcMethod.ExportAccount:if(void 0===t.exportAccount)throw new a(e.method);return(0,n.assert)(e,s.ExportAccountRequestStruct),t.exportAccount(e.params.id);case i.KeyringRpcMethod.ListRequests:if(void 0===t.listRequests)throw new a(e.method);return(0,n.assert)(e,s.ListRequestsRequestStruct),t.listRequests();case i.KeyringRpcMethod.GetRequest:if(void 0===t.getRequest)throw new a(e.method);return(0,n.assert)(e,s.GetRequestRequestStruct),t.getRequest(e.params.id);case i.KeyringRpcMethod.SubmitRequest:return(0,n.assert)(e,s.SubmitRequestRequestStruct),t.submitRequest(e.params);case i.KeyringRpcMethod.ApproveRequest:if(void 0===t.approveRequest)throw new a(e.method);return(0,n.assert)(e,s.ApproveRequestRequestStruct),t.approveRequest(e.params.id,e.params.data);case i.KeyringRpcMethod.RejectRequest:if(void 0===t.rejectRequest)throw new a(e.method);return(0,n.assert)(e,s.RejectRequestRequestStruct),t.rejectRequest(e.params.id);default:throw new a(e.method)}}},5524:(t,e)=>{\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.emitSnapKeyringEvent=void 0,e.emitSnapKeyringEvent=async function(t,e,r){await t.request({method:\"snap_manageAccounts\",params:{method:e,params:{...r}}})}},4520:(t,e,r)=>{\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.UrlStruct=e.definePattern=e.exactOptional=e.object=void 0;const n=r(2150);function s(t){return t.path[t.path.length-1]in t.branch[t.branch.length-2]}e.object=function(t){return(0,n.object)(t)},e.exactOptional=function(t){return new n.Struct({...t,validator:(e,r)=>!s(r)||t.validator(e,r),refiner:(e,r)=>!s(r)||t.refiner(e,r)})},e.definePattern=function(t,e){return(0,n.define)(t,(t=>\"string\"==typeof t&&e.test(t)))},e.UrlStruct=(0,n.define)(\"Url\",(t=>{let e;try{e=new URL(t)}catch(t){return!1}return\"http:\"===e.protocol||\"https:\"===e.protocol}))},7003:(t,e,r)=>{\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.strictMask=e.UuidStruct=void 0;const n=r(2150),s=r(4520);e.UuidStruct=(0,s.definePattern)(\"UuidV4\",/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/iu),e.strictMask=function(t,e,r){return(0,n.assert)(t,e,r),t}},1275:(t,e,r)=>{\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n,s=r(7833),i=((n=s)&&n.__esModule?n:{default:n}).default.call(void 0,\"metamask\");e.createProjectLogger=function(t){return i.extend(t)},e.createModuleLogger=function(t,e){return t.extend(e)}},5244:(t,e)=>{\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=(t,e,r)=>{if(!e.has(t))throw TypeError(\"Cannot \"+r)};e.__privateGet=(t,e,n)=>(r(t,e,\"read from private field\"),n?n.call(t):e.get(t)),e.__privateAdd=(t,e,r)=>{if(e.has(t))throw TypeError(\"Cannot add the same private member more than once\");e instanceof WeakSet?e.add(t):e.set(t,r)},e.__privateSet=(t,e,n,s)=>(r(t,e,\"write to private field\"),s?s.call(t,n):e.set(t,n),n)},3631:(t,e,r)=>{\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=r(932),s=r(9589),i=r(2150),o=i.refine.call(void 0,i.string.call(void 0),\"Version\",(t=>null!==s.valid.call(void 0,t)||`Expected SemVer version, got \"${t}\"`)),a=i.refine.call(void 0,i.string.call(void 0),\"Version range\",(t=>null!==s.validRange.call(void 0,t)||`Expected SemVer range, got \"${t}\"`));e.VersionStruct=o,e.VersionRangeStruct=a,e.isValidSemVerVersion=function(t){return i.is.call(void 0,t,o)},e.isValidSemVerRange=function(t){return i.is.call(void 0,t,a)},e.assertIsSemVerVersion=function(t){n.assertStruct.call(void 0,t,o)},e.assertIsSemVerRange=function(t){n.assertStruct.call(void 0,t,a)},e.gtVersion=function(t,e){return s.gt.call(void 0,t,e)},e.gtRange=function(t,e){return s.gtr.call(void 0,t,e)},e.satisfiesVersionRange=function(t,e){return s.satisfies.call(void 0,t,e,{includePrerelease:!0})}},9116:(t,e)=>{\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,n=((r=n||{})[r.Millisecond=1]=\"Millisecond\",r[r.Second=1e3]=\"Second\",r[r.Minute=6e4]=\"Minute\",r[r.Hour=36e5]=\"Hour\",r[r.Day=864e5]=\"Day\",r[r.Week=6048e5]=\"Week\",r[r.Year=31536e6]=\"Year\",r),s=(t,e)=>{if(!(t=>Number.isInteger(t)&&t>=0)(t))throw new Error(`\"${e}\" must be a non-negative integer. Received: \"${t}\".`)};e.Duration=n,e.inMilliseconds=function(t,e){return s(t,\"count\"),t*e},e.timeSince=function(t){return s(t,\"timestamp\"),Date.now()-t}},7982:()=>{},1848:(t,e,r)=>{\"use strict\";function n(t,e){return null!=t?t:e()}Object.defineProperty(e,\"__esModule\",{value:!0});var s=r(932),i=r(2150);e.base64=(t,e={})=>{const r=n(e.paddingRequired,(()=>!1)),o=n(e.characterSet,(()=>\"base64\"));let a,c;return\"base64\"===o?a=String.raw`[A-Za-z0-9+\\/]`:(s.assert.call(void 0,\"base64url\"===o),a=String.raw`[-_A-Za-z0-9]`),c=r?new RegExp(`^(?:${a}{4})*(?:${a}{3}=|${a}{2}==)?$`,\"u\"):new RegExp(`^(?:${a}{4})*(?:${a}{2,3}|${a}{3}=|${a}{2}==)?$`,\"u\"),i.pattern.call(void 0,t,c)}},932:(t,e,r)=>{\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=r(1486),s=r(2150);function i(t,e){return Boolean(\"string\"==typeof function(t){let e,r=t[0],n=1;for(;n<t.length;){const s=t[n],i=t[n+1];if(n+=2,(\"optionalAccess\"===s||\"optionalCall\"===s)&&null==r)return;\"access\"===s||\"optionalAccess\"===s?(e=r,r=i(r)):\"call\"!==s&&\"optionalCall\"!==s||(r=i(((...t)=>r.call(e,...t))),e=void 0)}return r}([t,\"optionalAccess\",t=>t.prototype,\"optionalAccess\",t=>t.constructor,\"optionalAccess\",t=>t.name]))?new t({message:e}):t({message:e})}var o=class extends Error{constructor(t){super(t.message),this.code=\"ERR_ASSERTION\"}};e.AssertionError=o,e.assert=function(t,e=\"Assertion failed.\",r=o){if(!t){if(e instanceof Error)throw e;throw i(r,e)}},e.assertStruct=function(t,e,r=\"Assertion failed\",a=o){try{s.assert.call(void 0,t,e)}catch(t){throw i(a,`${r}: ${function(t){return n.getErrorMessage.call(void 0,t).replace(/\\.$/u,\"\")}(t)}.`)}},e.assertExhaustive=function(t){throw new Error(\"Invalid branch reached. Should be detected during compilation.\")}},9705:(t,e)=>{\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.createDeferredPromise=function({suppressUnhandledRejection:t=!1}={}){let e,r;const n=new Promise(((t,n)=>{e=t,r=n}));return t&&n.catch((t=>{})),{promise:n,resolve:e,reject:r}}},1203:(t,e,r)=>{\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=r(5363),s=r(932),i=r(2150),o=i.union.call(void 0,[i.number.call(void 0),i.bigint.call(void 0),i.string.call(void 0),n.StrictHexStruct]),a=i.coerce.call(void 0,i.number.call(void 0),o,Number),c=i.coerce.call(void 0,i.bigint.call(void 0),o,BigInt),u=(i.union.call(void 0,[n.StrictHexStruct,i.instance.call(void 0,Uint8Array)]),i.coerce.call(void 0,i.instance.call(void 0,Uint8Array),i.union.call(void 0,[n.StrictHexStruct]),n.hexToBytes)),l=i.coerce.call(void 0,n.StrictHexStruct,i.instance.call(void 0,Uint8Array),n.bytesToHex);e.createNumber=function(t){try{const e=i.create.call(void 0,t,a);return s.assert.call(void 0,Number.isFinite(e),`Expected a number-like value, got \"${t}\".`),e}catch(e){if(e instanceof i.StructError)throw new Error(`Expected a number-like value, got \"${t}\".`);throw e}},e.createBigInt=function(t){try{return i.create.call(void 0,t,c)}catch(t){if(t instanceof i.StructError)throw new Error(`Expected a number-like value, got \"${String(t.value)}\".`);throw t}},e.createBytes=function(t){if(\"string\"==typeof t&&\"0x\"===t.toLowerCase())return new Uint8Array;try{return i.create.call(void 0,t,u)}catch(t){if(t instanceof i.StructError)throw new Error(`Expected a bytes-like value, got \"${String(t.value)}\".`);throw t}},e.createHex=function(t){if(t instanceof Uint8Array&&0===t.length||\"string\"==typeof t&&\"0x\"===t.toLowerCase())return\"0x\";try{return i.create.call(void 0,t,l)}catch(t){if(t instanceof i.StructError)throw new Error(`Expected a bytes-like value, got \"${String(t.value)}\".`);throw t}}},1508:(t,e,r)=>{\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=r(1848),s=r(2150),i=s.size.call(void 0,n.base64.call(void 0,s.string.call(void 0),{paddingRequired:!0}),44,44);e.ChecksumStruct=i},1423:()=>{},1486:(t,e,r)=>{\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=r(6526),s=r(1843);function i(t){return\"object\"==typeof t&&null!==t&&\"code\"in t}function o(t){return\"object\"==typeof t&&null!==t&&\"message\"in t}e.isErrorWithCode=i,e.isErrorWithMessage=o,e.isErrorWithStack=function(t){return\"object\"==typeof t&&null!==t&&\"stack\"in t},e.getErrorMessage=function(t){return o(t)&&\"string\"==typeof t.message?t.message:n.isNullOrUndefined.call(void 0,t)?\"\":String(t)},e.wrapError=function(t,e){if((r=t)instanceof Error||n.isObject.call(void 0,r)&&\"Error\"===r.constructor.name){let r;return r=2===Error.length?new Error(e,{cause:t}):new(0,s.ErrorWithCause)(e,{cause:t}),i(t)&&(r.code=t.code),r}var r;return e.length>0?new Error(`${String(t)}: ${e}`):new Error(String(t))}},8383:()=>{},7427:(t,e,r)=>{\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=r(932),s=r(6526),i=r(2150),o=t=>i.object.call(void 0,t);function a({path:t,branch:e}){const r=t[t.length-1];return s.hasProperty.call(void 0,e[e.length-2],r)}function c(t){return new(0,i.Struct)({...t,type:`optional ${t.type}`,validator:(e,r)=>!a(r)||t.validator(e,r),refiner:(e,r)=>!a(r)||t.refiner(e,r)})}var u=i.union.call(void 0,[i.literal.call(void 0,null),i.boolean.call(void 0),i.define.call(void 0,\"finite number\",(t=>i.is.call(void 0,t,i.number.call(void 0))&&Number.isFinite(t))),i.string.call(void 0),i.array.call(void 0,i.lazy.call(void 0,(()=>u))),i.record.call(void 0,i.string.call(void 0),i.lazy.call(void 0,(()=>u)))]),l=i.coerce.call(void 0,u,i.any.call(void 0),(t=>(n.assertStruct.call(void 0,t,u),JSON.parse(JSON.stringify(t,((t,e)=>{if(\"__proto__\"!==t&&\"constructor\"!==t)return e}))))));function h(t){return i.create.call(void 0,t,l)}var f=i.literal.call(void 0,\"2.0\"),d=i.nullable.call(void 0,i.union.call(void 0,[i.number.call(void 0),i.string.call(void 0)])),p=o({code:i.integer.call(void 0),message:i.string.call(void 0),data:c(l),stack:c(i.string.call(void 0))}),g=i.union.call(void 0,[i.record.call(void 0,i.string.call(void 0),l),i.array.call(void 0,l)]),y=o({id:d,jsonrpc:f,method:i.string.call(void 0),params:c(g)}),m=o({jsonrpc:f,method:i.string.call(void 0),params:c(g)});var w=i.object.call(void 0,{id:d,jsonrpc:f,result:i.optional.call(void 0,i.unknown.call(void 0)),error:i.optional.call(void 0,p)}),b=o({id:d,jsonrpc:f,result:l}),v=o({id:d,jsonrpc:f,error:p}),A=i.union.call(void 0,[b,v]);e.object=o,e.exactOptional=c,e.UnsafeJsonStruct=u,e.JsonStruct=l,e.isValidJson=function(t){try{return h(t),!0}catch(t){return!1}},e.getSafeJson=h,e.getJsonSize=function(t){n.assertStruct.call(void 0,t,l,\"Invalid JSON value\");const e=JSON.stringify(t);return(new TextEncoder).encode(e).byteLength},e.jsonrpc2=\"2.0\",e.JsonRpcVersionStruct=f,e.JsonRpcIdStruct=d,e.JsonRpcErrorStruct=p,e.JsonRpcParamsStruct=g,e.JsonRpcRequestStruct=y,e.JsonRpcNotificationStruct=m,e.isJsonRpcNotification=function(t){return i.is.call(void 0,t,m)},e.assertIsJsonRpcNotification=function(t,e){n.assertStruct.call(void 0,t,m,\"Invalid JSON-RPC notification\",e)},e.isJsonRpcRequest=function(t){return i.is.call(void 0,t,y)},e.assertIsJsonRpcRequest=function(t,e){n.assertStruct.call(void 0,t,y,\"Invalid JSON-RPC request\",e)},e.PendingJsonRpcResponseStruct=w,e.JsonRpcSuccessStruct=b,e.JsonRpcFailureStruct=v,e.JsonRpcResponseStruct=A,e.isPendingJsonRpcResponse=function(t){return i.is.call(void 0,t,w)},e.assertIsPendingJsonRpcResponse=function(t,e){n.assertStruct.call(void 0,t,w,\"Invalid pending JSON-RPC response\",e)},e.isJsonRpcResponse=function(t){return i.is.call(void 0,t,A)},e.assertIsJsonRpcResponse=function(t,e){n.assertStruct.call(void 0,t,A,\"Invalid JSON-RPC response\",e)},e.isJsonRpcSuccess=function(t){return i.is.call(void 0,t,b)},e.assertIsJsonRpcSuccess=function(t,e){n.assertStruct.call(void 0,t,b,\"Invalid JSON-RPC success response\",e)},e.isJsonRpcFailure=function(t){return i.is.call(void 0,t,v)},e.assertIsJsonRpcFailure=function(t,e){n.assertStruct.call(void 0,t,v,\"Invalid JSON-RPC failure response\",e)},e.isJsonRpcError=function(t){return i.is.call(void 0,t,p)},e.assertIsJsonRpcError=function(t,e){n.assertStruct.call(void 0,t,p,\"Invalid JSON-RPC error\",e)},e.getJsonRpcIdValidator=function(t){const{permitEmptyString:e,permitFractions:r,permitNull:n}={permitEmptyString:!0,permitFractions:!1,permitNull:!0,...t};return t=>Boolean(\"number\"==typeof t&&(r||Number.isInteger(t))||\"string\"==typeof t&&(e||t.length>0)||n&&null===t)}},5363:(t,e,r)=>{\"use strict\";var n=r(8287).hp;Object.defineProperty(e,\"__esModule\",{value:!0});var s=r(932),i=r(2955),o=r(2150),a=r(3203),c=48,u=58,l=87;var h=function(){const t=[];return()=>{if(0===t.length)for(let e=0;e<256;e++)t.push(e.toString(16).padStart(2,\"0\"));return t}}();function f(t){return t instanceof Uint8Array}function d(t){s.assert.call(void 0,f(t),\"Value must be a Uint8Array.\")}function p(t){if(d(t),0===t.length)return\"0x\";const e=h(),r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=e[t[n]];return P(r.join(\"\"))}function g(t){d(t);const e=p(t);return BigInt(e)}function y(t){if(\"0x\"===function(t){let e,r=t[0],n=1;for(;n<t.length;){const s=t[n],i=t[n+1];if(n+=2,(\"optionalAccess\"===s||\"optionalCall\"===s)&&null==r)return;\"access\"===s||\"optionalAccess\"===s?(e=r,r=i(r)):\"call\"!==s&&\"optionalCall\"!==s||(r=i(((...t)=>r.call(e,...t))),e=void 0)}return r}([t,\"optionalAccess\",t=>t.toLowerCase,\"optionalCall\",t=>t()]))return new Uint8Array;N(t);const e=B(t).toLowerCase(),r=e.length%2==0?e:`0${e}`,n=new Uint8Array(r.length/2);for(let t=0;t<n.length;t++){const e=r.charCodeAt(2*t),s=r.charCodeAt(2*t+1),i=e-(e<u?c:l),o=s-(s<u?c:l);n[t]=16*i+o}return n}function m(t){s.assert.call(void 0,\"bigint\"==typeof t,\"Value must be a bigint.\"),s.assert.call(void 0,t>=BigInt(0),\"Value must be a non-negative bigint.\");return y(t.toString(16))}function w(t){s.assert.call(void 0,\"number\"==typeof t,\"Value must be a number.\"),s.assert.call(void 0,t>=0,\"Value must be a non-negative number.\"),s.assert.call(void 0,Number.isSafeInteger(t),\"Value is not a safe integer. Use `bigIntToBytes` instead.\");return y(t.toString(16))}function b(t){return s.assert.call(void 0,\"string\"==typeof t,\"Value must be a string.\"),(new TextEncoder).encode(t)}function v(t){if(\"bigint\"==typeof t)return m(t);if(\"number\"==typeof t)return w(t);if(\"string\"==typeof t)return t.startsWith(\"0x\")?y(t):b(t);if(f(t))return t;throw new TypeError(`Unsupported value type: \"${typeof t}\".`)}var A=o.pattern.call(void 0,o.string.call(void 0),/^(?:0x)?[0-9a-f]+$/iu),E=o.pattern.call(void 0,o.string.call(void 0),/^0x[0-9a-f]+$/iu),x=o.pattern.call(void 0,o.string.call(void 0),/^0x[0-9a-f]{40}$/u),R=o.pattern.call(void 0,o.string.call(void 0),/^0x[0-9a-fA-F]{40}$/u);function I(t){return o.is.call(void 0,t,A)}function S(t){return o.is.call(void 0,t,E)}function N(t){s.assert.call(void 0,I(t),\"Value must be a hexadecimal string.\")}function O(t){s.assert.call(void 0,o.is.call(void 0,t,R),\"Invalid hex address.\");const e=B(t.toLowerCase()),r=B(p(i.keccak_256.call(void 0,e)));return`0x${e.split(\"\").map(((t,e)=>{const n=r[e];return s.assert.call(void 0,o.is.call(void 0,n,o.string.call(void 0)),\"Hash shorter than address.\"),parseInt(n,16)>7?t.toUpperCase():t})).join(\"\")}`}function C(t){return!!o.is.call(void 0,t,R)&&O(t)===t}function P(t){return t.startsWith(\"0x\")?t:t.startsWith(\"0X\")?`0x${t.substring(2)}`:`0x${t}`}function B(t){return t.startsWith(\"0x\")||t.startsWith(\"0X\")?t.substring(2):t}e.HexStruct=A,e.StrictHexStruct=E,e.HexAddressStruct=x,e.HexChecksumAddressStruct=R,e.isHexString=I,e.isStrictHexString=S,e.assertIsHexString=N,e.assertIsStrictHexString=function(t){s.assert.call(void 0,S(t),'Value must be a hexadecimal string, starting with \"0x\".')},e.isValidHexAddress=function(t){return o.is.call(void 0,t,x)||C(t)},e.getChecksumAddress=O,e.isValidChecksumAddress=C,e.add0x=P,e.remove0x=B,e.isBytes=f,e.assertIsBytes=d,e.bytesToHex=p,e.bytesToBigInt=g,e.bytesToSignedBigInt=function(t){d(t);let e=BigInt(0);for(const r of t)e=(e<<BigInt(8))+BigInt(r);return BigInt.asIntN(8*t.length,e)},e.bytesToNumber=function(t){d(t);const e=g(t);return s.assert.call(void 0,e<=BigInt(Number.MAX_SAFE_INTEGER),\"Number is not a safe integer. Use `bytesToBigInt` instead.\"),Number(e)},e.bytesToString=function(t){return d(t),(new TextDecoder).decode(t)},e.bytesToBase64=function(t){return d(t),a.base64.encode(t)},e.hexToBytes=y,e.bigIntToBytes=m,e.signedBigIntToBytes=function(t,e){s.assert.call(void 0,\"bigint\"==typeof t,\"Value must be a bigint.\"),s.assert.call(void 0,\"number\"==typeof e,\"Byte length must be a number.\"),s.assert.call(void 0,e>0,\"Byte length must be greater than 0.\"),s.assert.call(void 0,function(t,e){s.assert.call(void 0,e>0);const r=t>>BigInt(31);return!((~t&r)+(t&~r)>>BigInt(8*e-1))}(t,e),\"Byte length is too small to represent the given value.\");let r=t;const n=new Uint8Array(e);for(let t=0;t<n.length;t++)n[t]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()},e.numberToBytes=w,e.stringToBytes=b,e.base64ToBytes=function(t){return s.assert.call(void 0,\"string\"==typeof t,\"Value must be a string.\"),a.base64.decode(t)},e.valueToBytes=v,e.concatBytes=function(t){const e=new Array(t.length);let r=0;for(let n=0;n<t.length;n++){const s=v(t[n]);e[n]=s,r+=s.length}const n=new Uint8Array(r);for(let t=0,r=0;t<e.length;t++)n.set(e[t],r),r+=e[t].length;return n},e.createDataView=function(t){if(void 0!==n&&t instanceof n){const e=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);return new DataView(e)}return new DataView(t.buffer,t.byteOffset,t.byteLength)}},6526:(t,e)=>{\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,n=((r=n||{})[r.Null=4]=\"Null\",r[r.Comma=1]=\"Comma\",r[r.Wrapper=1]=\"Wrapper\",r[r.True=4]=\"True\",r[r.False=5]=\"False\",r[r.Quote=1]=\"Quote\",r[r.Colon=1]=\"Colon\",r[r.Date=24]=\"Date\",r),s=/\"|\\\\|\\n|\\r|\\t/gu;function i(t){return t.charCodeAt(0)<=127}e.isNonEmptyArray=function(t){return Array.isArray(t)&&t.length>0},e.isNullOrUndefined=function(t){return null==t},e.isObject=function(t){return Boolean(t)&&\"object\"==typeof t&&!Array.isArray(t)},e.hasProperty=(t,e)=>Object.hasOwnProperty.call(t,e),e.getKnownPropertyNames=function(t){return Object.getOwnPropertyNames(t)},e.JsonSize=n,e.ESCAPE_CHARACTERS_REGEXP=s,e.isPlainObject=function(t){if(\"object\"!=typeof t||null===t)return!1;try{let e=t;for(;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}catch(t){return!1}},e.isASCII=i,e.calculateStringSize=function(t){return t.split(\"\").reduce(((t,e)=>i(e)?t+1:t+2),0)+(e=t.match(s),r=()=>[],null!=e?e:r()).length;var e,r},e.calculateNumberSize=function(t){return t.toString().length}},1305:()=>{},3207:()=>{},1535:(t,e,r)=>{\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=r(5363),s=r(932);e.numberToHex=t=>(s.assert.call(void 0,\"number\"==typeof t,\"Value must be a number.\"),s.assert.call(void 0,t>=0,\"Value must be a non-negative number.\"),s.assert.call(void 0,Number.isSafeInteger(t),\"Value is not a safe integer. Use `bigIntToHex` instead.\"),n.add0x.call(void 0,t.toString(16))),e.bigIntToHex=t=>(s.assert.call(void 0,\"bigint\"==typeof t,\"Value must be a bigint.\"),s.assert.call(void 0,t>=0,\"Value must be a non-negative bigint.\"),n.add0x.call(void 0,t.toString(16))),e.hexToNumber=t=>{n.assertIsHexString.call(void 0,t);const e=parseInt(t,16);return s.assert.call(void 0,Number.isSafeInteger(e),\"Value is not a safe integer. Use `hexToBigInt` instead.\"),e},e.hexToBigInt=t=>(n.assertIsHexString.call(void 0,t),BigInt(n.add0x.call(void 0,t)))},2489:(t,e,r)=>{\"use strict\";function n(t){let e,r=t[0],n=1;for(;n<t.length;){const s=t[n],i=t[n+1];if(n+=2,(\"optionalAccess\"===s||\"optionalCall\"===s)&&null==r)return;\"access\"===s||\"optionalAccess\"===s?(e=r,r=i(r)):\"call\"!==s&&\"optionalCall\"!==s||(r=i(((...t)=>r.call(e,...t))),e=void 0)}return r}Object.defineProperty(e,\"__esModule\",{value:!0});var s,i=r(2150),o=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$/u,a=/^[-a-z0-9]{3,8}$/u,c=/^[-_a-zA-Z0-9]{1,32}$/u,u=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$/u,l=/^[-.%a-zA-Z0-9]{1,128}$/u,h=i.pattern.call(void 0,i.string.call(void 0),o),f=i.pattern.call(void 0,i.string.call(void 0),a),d=i.pattern.call(void 0,i.string.call(void 0),c),p=i.pattern.call(void 0,i.string.call(void 0),u),g=i.pattern.call(void 0,i.string.call(void 0),l),y=((s=y||{}).Eip155=\"eip155\",s);function m(t){return i.is.call(void 0,t,f)}function w(t){return i.is.call(void 0,t,d)}e.CAIP_CHAIN_ID_REGEX=o,e.CAIP_NAMESPACE_REGEX=a,e.CAIP_REFERENCE_REGEX=c,e.CAIP_ACCOUNT_ID_REGEX=u,e.CAIP_ACCOUNT_ADDRESS_REGEX=l,e.CaipChainIdStruct=h,e.CaipNamespaceStruct=f,e.CaipReferenceStruct=d,e.CaipAccountIdStruct=p,e.CaipAccountAddressStruct=g,e.KnownCaipNamespace=y,e.isCaipChainId=function(t){return i.is.call(void 0,t,h)},e.isCaipNamespace=m,e.isCaipReference=w,e.isCaipAccountId=function(t){return i.is.call(void 0,t,p)},e.isCaipAccountAddress=function(t){return i.is.call(void 0,t,g)},e.parseCaipChainId=function(t){const e=o.exec(t);if(!n([e,\"optionalAccess\",t=>t.groups]))throw new Error(\"Invalid CAIP chain ID.\");return{namespace:e.groups.namespace,reference:e.groups.reference}},e.parseCaipAccountId=function(t){const e=u.exec(t);if(!n([e,\"optionalAccess\",t=>t.groups]))throw new Error(\"Invalid CAIP account ID.\");return{address:e.groups.accountAddress,chainId:e.groups.chainId,chain:{namespace:e.groups.namespace,reference:e.groups.reference}}},e.toCaipChainId=function(t,e){if(!m(t))throw new Error(`Invalid \"namespace\", must match: ${a.toString()}`);if(!w(e))throw new Error(`Invalid \"reference\", must match: ${c.toString()}`);return`${t}:${e}`}},1584:(t,e,r)=>{\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n,s,i=r(5244),o=class{constructor(t){i.__privateAdd.call(void 0,this,n,void 0),i.__privateSet.call(void 0,this,n,new Map(t)),Object.freeze(this)}get size(){return i.__privateGet.call(void 0,this,n).size}[Symbol.iterator](){return i.__privateGet.call(void 0,this,n)[Symbol.iterator]()}entries(){return i.__privateGet.call(void 0,this,n).entries()}forEach(t,e){return i.__privateGet.call(void 0,this,n).forEach(((r,n,s)=>t.call(e,r,n,this)))}get(t){return i.__privateGet.call(void 0,this,n).get(t)}has(t){return i.__privateGet.call(void 0,this,n).has(t)}keys(){return i.__privateGet.call(void 0,this,n).keys()}values(){return i.__privateGet.call(void 0,this,n).values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map((([t,e])=>`${String(t)} => ${String(e)}`)).join(\", \")} `:\"\"}}`}};n=new WeakMap;var a=class{constructor(t){i.__privateAdd.call(void 0,this,s,void 0),i.__privateSet.call(void 0,this,s,new Set(t)),Object.freeze(this)}get size(){return i.__privateGet.call(void 0,this,s).size}[Symbol.iterator](){return i.__privateGet.call(void 0,this,s)[Symbol.iterator]()}entries(){return i.__privateGet.call(void 0,this,s).entries()}forEach(t,e){return i.__privateGet.call(void 0,this,s).forEach(((r,n,s)=>t.call(e,r,n,this)))}has(t){return i.__privateGet.call(void 0,this,s).has(t)}keys(){return i.__privateGet.call(void 0,this,s).keys()}values(){return i.__privateGet.call(void 0,this,s).values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map((t=>String(t))).join(\", \")} `:\"\"}}`}};s=new WeakMap,Object.freeze(o),Object.freeze(o.prototype),Object.freeze(a),Object.freeze(a.prototype),e.FrozenMap=o,e.FrozenSet=a},2049:(t,e,r)=>{\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),r(7982);var n=r(1535);r(8383);var s=r(9705),i=r(9116);r(3207);var o=r(3631),a=r(7427);r(1305);var c=r(1275),u=r(2489),l=r(1508),h=r(1848),f=r(1203),d=r(5363),p=r(932),g=r(1486),y=r(6526),m=r(1584);r(5244),r(1423),e.AssertionError=p.AssertionError,e.CAIP_ACCOUNT_ADDRESS_REGEX=u.CAIP_ACCOUNT_ADDRESS_REGEX,e.CAIP_ACCOUNT_ID_REGEX=u.CAIP_ACCOUNT_ID_REGEX,e.CAIP_CHAIN_ID_REGEX=u.CAIP_CHAIN_ID_REGEX,e.CAIP_NAMESPACE_REGEX=u.CAIP_NAMESPACE_REGEX,e.CAIP_REFERENCE_REGEX=u.CAIP_REFERENCE_REGEX,e.CaipAccountAddressStruct=u.CaipAccountAddressStruct,e.CaipAccountIdStruct=u.CaipAccountIdStruct,e.CaipChainIdStruct=u.CaipChainIdStruct,e.CaipNamespaceStruct=u.CaipNamespaceStruct,e.CaipReferenceStruct=u.CaipReferenceStruct,e.ChecksumStruct=l.ChecksumStruct,e.Duration=i.Duration,e.ESCAPE_CHARACTERS_REGEXP=y.ESCAPE_CHARACTERS_REGEXP,e.FrozenMap=m.FrozenMap,e.FrozenSet=m.FrozenSet,e.HexAddressStruct=d.HexAddressStruct,e.HexChecksumAddressStruct=d.HexChecksumAddressStruct,e.HexStruct=d.HexStruct,e.JsonRpcErrorStruct=a.JsonRpcErrorStruct,e.JsonRpcFailureStruct=a.JsonRpcFailureStruct,e.JsonRpcIdStruct=a.JsonRpcIdStruct,e.JsonRpcNotificationStruct=a.JsonRpcNotificationStruct,e.JsonRpcParamsStruct=a.JsonRpcParamsStruct,e.JsonRpcRequestStruct=a.JsonRpcRequestStruct,e.JsonRpcResponseStruct=a.JsonRpcResponseStruct,e.JsonRpcSuccessStruct=a.JsonRpcSuccessStruct,e.JsonRpcVersionStruct=a.JsonRpcVersionStruct,e.JsonSize=y.JsonSize,e.JsonStruct=a.JsonStruct,e.KnownCaipNamespace=u.KnownCaipNamespace,e.PendingJsonRpcResponseStruct=a.PendingJsonRpcResponseStruct,e.StrictHexStruct=d.StrictHexStruct,e.UnsafeJsonStruct=a.UnsafeJsonStruct,e.VersionRangeStruct=o.VersionRangeStruct,e.VersionStruct=o.VersionStruct,e.add0x=d.add0x,e.assert=p.assert,e.assertExhaustive=p.assertExhaustive,e.assertIsBytes=d.assertIsBytes,e.assertIsHexString=d.assertIsHexString,e.assertIsJsonRpcError=a.assertIsJsonRpcError,e.assertIsJsonRpcFailure=a.assertIsJsonRpcFailure,e.assertIsJsonRpcNotification=a.assertIsJsonRpcNotification,e.assertIsJsonRpcRequest=a.assertIsJsonRpcRequest,e.assertIsJsonRpcResponse=a.assertIsJsonRpcResponse,e.assertIsJsonRpcSuccess=a.assertIsJsonRpcSuccess,e.assertIsPendingJsonRpcResponse=a.assertIsPendingJsonRpcResponse,e.assertIsSemVerRange=o.assertIsSemVerRange,e.assertIsSemVerVersion=o.assertIsSemVerVersion,e.assertIsStrictHexString=d.assertIsStrictHexString,e.assertStruct=p.assertStruct,e.base64=h.base64,e.base64ToBytes=d.base64ToBytes,e.bigIntToBytes=d.bigIntToBytes,e.bigIntToHex=n.bigIntToHex,e.bytesToBase64=d.bytesToBase64,e.bytesToBigInt=d.bytesToBigInt,e.bytesToHex=d.bytesToHex,e.bytesToNumber=d.bytesToNumber,e.bytesToSignedBigInt=d.bytesToSignedBigInt,e.bytesToString=d.bytesToString,e.calculateNumberSize=y.calculateNumberSize,e.calculateStringSize=y.calculateStringSize,e.concatBytes=d.concatBytes,e.createBigInt=f.createBigInt,e.createBytes=f.createBytes,e.createDataView=d.createDataView,e.createDeferredPromise=s.createDeferredPromise,e.createHex=f.createHex,e.createModuleLogger=c.createModuleLogger,e.createNumber=f.createNumber,e.createProjectLogger=c.createProjectLogger,e.exactOptional=a.exactOptional,e.getChecksumAddress=d.getChecksumAddress,e.getErrorMessage=g.getErrorMessage,e.getJsonRpcIdValidator=a.getJsonRpcIdValidator,e.getJsonSize=a.getJsonSize,e.getKnownPropertyNames=y.getKnownPropertyNames,e.getSafeJson=a.getSafeJson,e.gtRange=o.gtRange,e.gtVersion=o.gtVersion,e.hasProperty=y.hasProperty,e.hexToBigInt=n.hexToBigInt,e.hexToBytes=d.hexToBytes,e.hexToNumber=n.hexToNumber,e.inMilliseconds=i.inMilliseconds,e.isASCII=y.isASCII,e.isBytes=d.isBytes,e.isCaipAccountAddress=u.isCaipAccountAddress,e.isCaipAccountId=u.isCaipAccountId,e.isCaipChainId=u.isCaipChainId,e.isCaipNamespace=u.isCaipNamespace,e.isCaipReference=u.isCaipReference,e.isErrorWithCode=g.isErrorWithCode,e.isErrorWithMessage=g.isErrorWithMessage,e.isErrorWithStack=g.isErrorWithStack,e.isHexString=d.isHexString,e.isJsonRpcError=a.isJsonRpcError,e.isJsonRpcFailure=a.isJsonRpcFailure,e.isJsonRpcNotification=a.isJsonRpcNotification,e.isJsonRpcRequest=a.isJsonRpcRequest,e.isJsonRpcResponse=a.isJsonRpcResponse,e.isJsonRpcSuccess=a.isJsonRpcSuccess,e.isNonEmptyArray=y.isNonEmptyArray,e.isNullOrUndefined=y.isNullOrUndefined,e.isObject=y.isObject,e.isPendingJsonRpcResponse=a.isPendingJsonRpcResponse,e.isPlainObject=y.isPlainObject,e.isStrictHexString=d.isStrictHexString,e.isValidChecksumAddress=d.isValidChecksumAddress,e.isValidHexAddress=d.isValidHexAddress,e.isValidJson=a.isValidJson,e.isValidSemVerRange=o.isValidSemVerRange,e.isValidSemVerVersion=o.isValidSemVerVersion,e.jsonrpc2=a.jsonrpc2,e.numberToBytes=d.numberToBytes,e.numberToHex=n.numberToHex,e.object=a.object,e.parseCaipAccountId=u.parseCaipAccountId,e.parseCaipChainId=u.parseCaipChainId,e.remove0x=d.remove0x,e.satisfiesVersionRange=o.satisfiesVersionRange,e.signedBigIntToBytes=d.signedBigIntToBytes,e.stringToBytes=d.stringToBytes,e.timeSince=i.timeSince,e.toCaipChainId=u.toCaipChainId,e.valueToBytes=d.valueToBytes,e.wrapError=g.wrapError},7557:(t,e)=>{\"use strict\";function r(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function n(t){if(\"boolean\"!=typeof t)throw new Error(`boolean expected, not ${t}`)}function s(t){return t instanceof Uint8Array||null!=t&&\"object\"==typeof t&&\"Uint8Array\"===t.constructor.name}function i(t,...e){if(!s(t))throw new Error(\"Uint8Array expected\");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function o(t){if(\"function\"!=typeof t||\"function\"!=typeof t.create)throw new Error(\"Hash should be wrapped by utils.wrapConstructor\");r(t.outputLen),r(t.blockLen)}function a(t,e=!0){if(t.destroyed)throw new Error(\"Hash instance has been destroyed\");if(e&&t.finished)throw new Error(\"Hash#digest() has already been called\")}function c(t,e){i(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(e,\"__esModule\",{value:!0}),e.output=e.exists=e.hash=e.bytes=e.bool=e.number=e.isBytes=void 0,e.number=r,e.bool=n,e.isBytes=s,e.bytes=i,e.hash=o,e.exists=a,e.output=c;const u={number:r,bool:n,bytes:i,hash:o,exists:a,output:c};e.default=u},2318:(t,e)=>{\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.add5L=e.add5H=e.add4H=e.add4L=e.add3H=e.add3L=e.add=e.rotlBL=e.rotlBH=e.rotlSL=e.rotlSH=e.rotr32L=e.rotr32H=e.rotrBL=e.rotrBH=e.rotrSL=e.rotrSH=e.shrSL=e.shrSH=e.toBig=e.split=e.fromBig=void 0;const r=BigInt(2**32-1),n=BigInt(32);function s(t,e=!1){return e?{h:Number(t&r),l:Number(t>>n&r)}:{h:0|Number(t>>n&r),l:0|Number(t&r)}}function i(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:o,l:a}=s(t[i],e);[r[i],n[i]]=[o,a]}return[r,n]}e.fromBig=s,e.split=i;const o=(t,e)=>BigInt(t>>>0)<<n|BigInt(e>>>0);e.toBig=o;const a=(t,e,r)=>t>>>r;e.shrSH=a;const c=(t,e,r)=>t<<32-r|e>>>r;e.shrSL=c;const u=(t,e,r)=>t>>>r|e<<32-r;e.rotrSH=u;const l=(t,e,r)=>t<<32-r|e>>>r;e.rotrSL=l;const h=(t,e,r)=>t<<64-r|e>>>r-32;e.rotrBH=h;const f=(t,e,r)=>t>>>r-32|e<<64-r;e.rotrBL=f;const d=(t,e)=>e;e.rotr32H=d;const p=(t,e)=>t;e.rotr32L=p;const g=(t,e,r)=>t<<r|e>>>32-r;e.rotlSH=g;const y=(t,e,r)=>e<<r|t>>>32-r;e.rotlSL=y;const m=(t,e,r)=>e<<r-32|t>>>64-r;e.rotlBH=m;const w=(t,e,r)=>t<<r-32|e>>>64-r;function b(t,e,r,n){const s=(e>>>0)+(n>>>0);return{h:t+r+(s/2**32|0)|0,l:0|s}}e.rotlBL=w,e.add=b;const v=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0);e.add3L=v;const A=(t,e,r,n)=>e+r+n+(t/2**32|0)|0;e.add3H=A;const E=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0);e.add4L=E;const x=(t,e,r,n,s)=>e+r+n+s+(t/2**32|0)|0;e.add4H=x;const R=(t,e,r,n,s)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(s>>>0);e.add5L=R;const I=(t,e,r,n,s,i)=>e+r+n+s+i+(t/2**32|0)|0;e.add5H=I;const S={fromBig:s,split:i,toBig:o,shrSH:a,shrSL:c,rotrSH:u,rotrSL:l,rotrBH:h,rotrBL:f,rotr32H:d,rotr32L:p,rotlSH:g,rotlSL:y,rotlBH:m,rotlBL:w,add:b,add3L:v,add3H:A,add4L:E,add4H:x,add5H:I,add5L:R};e.default=S},5145:(t,e)=>{\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.crypto=void 0,e.crypto=\"object\"==typeof globalThis&&\"crypto\"in globalThis?globalThis.crypto:void 0},2955:(t,e,r)=>{\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.shake256=e.shake128=e.keccak_512=e.keccak_384=e.keccak_256=e.keccak_224=e.sha3_512=e.sha3_384=e.sha3_256=e.sha3_224=e.Keccak=e.keccakP=void 0;const n=r(7557),s=r(2318),i=r(9175),o=[],a=[],c=[],u=BigInt(0),l=BigInt(1),h=BigInt(2),f=BigInt(7),d=BigInt(256),p=BigInt(113);for(let t=0,e=l,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],o.push(2*(5*n+r)),a.push((t+1)*(t+2)/2%64);let s=u;for(let t=0;t<7;t++)e=(e<<l^(e>>f)*p)%d,e&h&&(s^=l<<(l<<BigInt(t))-l);c.push(s)}const[g,y]=(0,s.split)(c,!0),m=(t,e,r)=>r>32?(0,s.rotlBH)(t,e,r):(0,s.rotlSH)(t,e,r),w=(t,e,r)=>r>32?(0,s.rotlBL)(t,e,r):(0,s.rotlSL)(t,e,r);function b(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let e=0;e<10;e++)r[e]=t[e]^t[e+10]^t[e+20]^t[e+30]^t[e+40];for(let e=0;e<10;e+=2){const n=(e+8)%10,s=(e+2)%10,i=r[s],o=r[s+1],a=m(i,o,1)^r[n],c=w(i,o,1)^r[n+1];for(let r=0;r<50;r+=10)t[e+r]^=a,t[e+r+1]^=c}let e=t[2],s=t[3];for(let r=0;r<24;r++){const n=a[r],i=m(e,s,n),c=w(e,s,n),u=o[r];e=t[u],s=t[u+1],t[u]=i,t[u+1]=c}for(let e=0;e<50;e+=10){for(let n=0;n<10;n++)r[n]=t[e+n];for(let n=0;n<10;n++)t[e+n]^=~r[(n+2)%10]&r[(n+4)%10]}t[0]^=g[n],t[1]^=y[n]}r.fill(0)}e.keccakP=b;class v extends i.Hash{constructor(t,e,r,s=!1,o=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=r,this.enableXOF=s,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,n.number)(r),0>=this.blockLen||this.blockLen>=200)throw new Error(\"Sha3 supports only keccak-f1600 function\");this.state=new Uint8Array(200),this.state32=(0,i.u32)(this.state)}keccak(){i.isLE||(0,i.byteSwap32)(this.state32),b(this.state32,this.rounds),i.isLE||(0,i.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(t){(0,n.exists)(this);const{blockLen:e,state:r}=this,s=(t=(0,i.toBytes)(t)).length;for(let n=0;n<s;){const i=Math.min(e-this.pos,s-n);for(let e=0;e<i;e++)r[this.pos++]^=t[n++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:r,blockLen:n}=this;t[r]^=e,128&e&&r===n-1&&this.keccak(),t[n-1]^=128,this.keccak()}writeInto(t){(0,n.exists)(this,!1),(0,n.bytes)(t),this.finish();const e=this.state,{blockLen:r}=this;for(let n=0,s=t.length;n<s;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,s-n);t.set(e.subarray(this.posOut,this.posOut+i),n),this.posOut+=i,n+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error(\"XOF is not possible for this instance\");return this.writeInto(t)}xof(t){return(0,n.number)(t),this.xofInto(new Uint8Array(t))}digestInto(t){if((0,n.output)(t,this),this.finished)throw new Error(\"digest() was already called\");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:r,outputLen:n,rounds:s,enableXOF:i}=this;return t||(t=new v(e,r,n,i,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=r,t.outputLen=n,t.enableXOF=i,t.destroyed=this.destroyed,t}}e.Keccak=v;const A=(t,e,r)=>(0,i.wrapConstructor)((()=>new v(e,t,r)));e.sha3_224=A(6,144,28),e.sha3_256=A(6,136,32),e.sha3_384=A(6,104,48),e.sha3_512=A(6,72,64),e.keccak_224=A(1,144,28),e.keccak_256=A(1,136,32),e.keccak_384=A(1,104,48),e.keccak_512=A(1,72,64);const E=(t,e,r)=>(0,i.wrapXOFConstructorWithOpts)(((n={})=>new v(e,t,void 0===n.dkLen?r:n.dkLen,!0)));e.shake128=E(31,168,16),e.shake256=E(31,136,32)},9175:(t,e,r)=>{\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.randomBytes=e.wrapXOFConstructorWithOpts=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.byteSwap32=e.byteSwapIfBE=e.byteSwap=e.isLE=e.rotl=e.rotr=e.createView=e.u32=e.u8=e.isBytes=void 0;const n=r(5145),s=r(7557);e.isBytes=function(t){return t instanceof Uint8Array||null!=t&&\"object\"==typeof t&&\"Uint8Array\"===t.constructor.name};e.u8=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);e.u32=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));e.createView=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);e.rotr=(t,e)=>t<<32-e|t>>>e;e.rotl=(t,e)=>t<<e|t>>>32-e>>>0,e.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];e.byteSwap=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255,e.byteSwapIfBE=e.isLE?t=>t:t=>(0,e.byteSwap)(t),e.byteSwap32=function(t){for(let r=0;r<t.length;r++)t[r]=(0,e.byteSwap)(t[r])};const i=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,\"0\")));e.bytesToHex=function(t){(0,s.bytes)(t);let e=\"\";for(let r=0;r<t.length;r++)e+=i[t[r]];return e};const o={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function a(t){return t>=o._0&&t<=o._9?t-o._0:t>=o._A&&t<=o._F?t-(o._A-10):t>=o._a&&t<=o._f?t-(o._a-10):void 0}e.hexToBytes=function(t){if(\"string\"!=typeof t)throw new Error(\"hex string expected, got \"+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error(\"padded hex string expected, got unpadded hex of length \"+e);const n=new Uint8Array(r);for(let e=0,s=0;e<r;e++,s+=2){const r=a(t.charCodeAt(s)),i=a(t.charCodeAt(s+1));if(void 0===r||void 0===i){const e=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character \"'+e+'\" at index '+s)}n[e]=16*r+i}return n};function c(t){if(\"string\"!=typeof t)throw new Error(\"utf8ToBytes expected string, got \"+typeof t);return new Uint8Array((new TextEncoder).encode(t))}function u(t){return\"string\"==typeof t&&(t=c(t)),(0,s.bytes)(t),t}e.nextTick=async()=>{},e.asyncLoop=async function(t,r,n){let s=Date.now();for(let i=0;i<t;i++){n(i);const t=Date.now()-s;t>=0&&t<r||(await(0,e.nextTick)(),s+=t)}},e.utf8ToBytes=c,e.toBytes=u,e.concatBytes=function(...t){let e=0;for(let r=0;r<t.length;r++){const n=t[r];(0,s.bytes)(n),e+=n.length}const r=new Uint8Array(e);for(let e=0,n=0;e<t.length;e++){const s=t[e];r.set(s,n),n+=s.length}return r};e.Hash=class{clone(){return this._cloneInto()}};const l={}.toString;e.checkOpts=function(t,e){if(void 0!==e&&\"[object Object]\"!==l.call(e))throw new Error(\"Options should be object or undefined\");return Object.assign(t,e)},e.wrapConstructor=function(t){const e=e=>t().update(u(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e},e.wrapConstructorWithOpts=function(t){const e=(e,r)=>t(r).update(u(e)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=e=>t(e),e},e.wrapXOFConstructorWithOpts=function(t){const e=(e,r)=>t(r).update(u(e)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=e=>t(e),e},e.randomBytes=function(t=32){if(n.crypto&&\"function\"==typeof n.crypto.getRandomValues)return n.crypto.getRandomValues(new Uint8Array(t));throw new Error(\"crypto.getRandomValues must be defined\")}},3203:(t,e)=>{\"use strict\";function r(t){if(!Number.isSafeInteger(t))throw new Error(`Wrong integer: ${t}`)}function n(t){return t instanceof Uint8Array||null!=t&&\"object\"==typeof t&&\"Uint8Array\"===t.constructor.name}function s(...t){const e=t=>t,r=(t,e)=>r=>t(e(r));return{encode:t.map((t=>t.encode)).reduceRight(r,e),decode:t.map((t=>t.decode)).reduce(r,e)}}function i(t){return{encode:e=>{if(!Array.isArray(e)||e.length&&\"number\"!=typeof e[0])throw new Error(\"alphabet.encode input should be an array of numbers\");return e.map((e=>{if(r(e),e<0||e>=t.length)throw new Error(`Digit index outside alphabet: ${e} (alphabet: ${t.length})`);return t[e]}))},decode:e=>{if(!Array.isArray(e)||e.length&&\"string\"!=typeof e[0])throw new Error(\"alphabet.decode input should be array of strings\");return e.map((e=>{if(\"string\"!=typeof e)throw new Error(`alphabet.decode: not string element=${e}`);const r=t.indexOf(e);if(-1===r)throw new Error(`Unknown letter: \"${e}\". Allowed: ${t}`);return r}))}}}function o(t=\"\"){if(\"string\"!=typeof t)throw new Error(\"join separator should be string\");return{encode:e=>{if(!Array.isArray(e)||e.length&&\"string\"!=typeof e[0])throw new Error(\"join.encode input should be array of strings\");for(let t of e)if(\"string\"!=typeof t)throw new Error(`join.encode: non-string input=${t}`);return e.join(t)},decode:e=>{if(\"string\"!=typeof e)throw new Error(\"join.decode input should be string\");return e.split(t)}}}function a(t,e=\"=\"){if(r(t),\"string\"!=typeof e)throw new Error(\"padding chr should be string\");return{encode(r){if(!Array.isArray(r)||r.length&&\"string\"!=typeof r[0])throw new Error(\"padding.encode input should be array of strings\");for(let t of r)if(\"string\"!=typeof t)throw new Error(`padding.encode: non-string input=${t}`);for(;r.length*t%8;)r.push(e);return r},decode(r){if(!Array.isArray(r)||r.length&&\"string\"!=typeof r[0])throw new Error(\"padding.encode input should be array of strings\");for(let t of r)if(\"string\"!=typeof t)throw new Error(`padding.decode: non-string input=${t}`);let n=r.length;if(n*t%8)throw new Error(\"Invalid padding: string should have whole number of bytes\");for(;n>0&&r[n-1]===e;n--)if(!((n-1)*t%8))throw new Error(\"Invalid padding: string has too much padding\");return r.slice(0,n)}}}function c(t){if(\"function\"!=typeof t)throw new Error(\"normalize fn should be function\");return{encode:t=>t,decode:e=>t(e)}}function u(t,e,n){if(e<2)throw new Error(`convertRadix: wrong from=${e}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(t))throw new Error(\"convertRadix: data should be array\");if(!t.length)return[];let s=0;const i=[],o=Array.from(t);for(o.forEach((t=>{if(r(t),t<0||t>=e)throw new Error(`Wrong integer: ${t}`)}));;){let t=0,r=!0;for(let i=s;i<o.length;i++){const a=o[i],c=e*t+a;if(!Number.isSafeInteger(c)||e*t/e!==t||c-a!=e*t)throw new Error(\"convertRadix: carry overflow\");t=c%n;const u=Math.floor(c/n);if(o[i]=u,!Number.isSafeInteger(u)||u*n+t!==c)throw new Error(\"convertRadix: carry overflow\");r&&(u?r=!1:s=i)}if(i.push(t),r)break}for(let e=0;e<t.length-1&&0===t[e];e++)i.push(0);return i.reverse()}Object.defineProperty(e,\"__esModule\",{value:!0}),e.bytes=e.stringToBytes=e.str=e.bytesToString=e.hex=e.utf8=e.bech32m=e.bech32=e.base58check=e.createBase58check=e.base58xmr=e.base58xrp=e.base58flickr=e.base58=e.base64urlnopad=e.base64url=e.base64nopad=e.base64=e.base32crockford=e.base32hex=e.base32=e.base16=e.utils=e.assertNumber=void 0,e.assertNumber=r;const l=(t,e)=>e?l(e,t%e):t,h=(t,e)=>t+(e-l(t,e));function f(t,e,n,s){if(!Array.isArray(t))throw new Error(\"convertRadix2: data should be array\");if(e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(h(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${h(e,n)}`);let i=0,o=0;const a=2**n-1,c=[];for(const s of t){if(r(s),s>=2**e)throw new Error(`convertRadix2: invalid data word=${s} from=${e}`);if(i=i<<e|s,o+e>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${e}`);for(o+=e;o>=n;o-=n)c.push((i>>o-n&a)>>>0);i&=2**o-1}if(i=i<<n-o&a,!s&&o>=e)throw new Error(\"Excess padding\");if(!s&&i)throw new Error(`Non-zero padding: ${i}`);return s&&o>0&&c.push(i>>>0),c}function d(t){return r(t),{encode:e=>{if(!n(e))throw new Error(\"radix.encode input should be Uint8Array\");return u(Array.from(e),256,t)},decode:e=>{if(!Array.isArray(e)||e.length&&\"number\"!=typeof e[0])throw new Error(\"radix.decode input should be array of numbers\");return Uint8Array.from(u(e,t,256))}}}function p(t,e=!1){if(r(t),t<=0||t>32)throw new Error(\"radix2: bits should be in (0..32]\");if(h(8,t)>32||h(t,8)>32)throw new Error(\"radix2: carry overflow\");return{encode:r=>{if(!n(r))throw new Error(\"radix2.encode input should be Uint8Array\");return f(Array.from(r),8,t,!e)},decode:r=>{if(!Array.isArray(r)||r.length&&\"number\"!=typeof r[0])throw new Error(\"radix2.decode input should be array of numbers\");return Uint8Array.from(f(r,t,8,e))}}}function g(t){if(\"function\"!=typeof t)throw new Error(\"unsafeWrapper fn should be function\");return function(...e){try{return t.apply(null,e)}catch(t){}}}function y(t,e){if(r(t),\"function\"!=typeof e)throw new Error(\"checksum fn should be function\");return{encode(r){if(!n(r))throw new Error(\"checksum.encode: input should be Uint8Array\");const s=e(r).slice(0,t),i=new Uint8Array(r.length+t);return i.set(r),i.set(s,r.length),i},decode(r){if(!n(r))throw new Error(\"checksum.decode: input should be Uint8Array\");const s=r.slice(0,-t),i=e(s).slice(0,t),o=r.slice(-t);for(let e=0;e<t;e++)if(i[e]!==o[e])throw new Error(\"Invalid checksum\");return s}}}e.utils={alphabet:i,chain:s,checksum:y,convertRadix:u,convertRadix2:f,radix:d,radix2:p,join:o,padding:a},e.base16=s(p(4),i(\"0123456789ABCDEF\"),o(\"\")),e.base32=s(p(5),i(\"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567\"),a(5),o(\"\")),e.base32hex=s(p(5),i(\"0123456789ABCDEFGHIJKLMNOPQRSTUV\"),a(5),o(\"\")),e.base32crockford=s(p(5),i(\"0123456789ABCDEFGHJKMNPQRSTVWXYZ\"),o(\"\"),c((t=>t.toUpperCase().replace(/O/g,\"0\").replace(/[IL]/g,\"1\")))),e.base64=s(p(6),i(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\"),a(6),o(\"\")),e.base64nopad=s(p(6),i(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\"),o(\"\")),e.base64url=s(p(6),i(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\"),a(6),o(\"\")),e.base64urlnopad=s(p(6),i(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\"),o(\"\"));const m=t=>s(d(58),i(t),o(\"\"));e.base58=m(\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\"),e.base58flickr=m(\"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ\"),e.base58xrp=m(\"rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz\");const w=[0,2,3,5,6,7,9,10,11];e.base58xmr={encode(t){let r=\"\";for(let n=0;n<t.length;n+=8){const s=t.subarray(n,n+8);r+=e.base58.encode(s).padStart(w[s.length],\"1\")}return r},decode(t){let r=[];for(let n=0;n<t.length;n+=11){const s=t.slice(n,n+11),i=w.indexOf(s.length),o=e.base58.decode(s);for(let t=0;t<o.length-i;t++)if(0!==o[t])throw new Error(\"base58xmr: wrong padding\");r=r.concat(Array.from(o.slice(o.length-i)))}return Uint8Array.from(r)}};e.createBase58check=t=>s(y(4,(e=>t(t(e)))),e.base58),e.base58check=e.createBase58check;const b=s(i(\"qpzry9x8gf2tvdw0s3jn54khce6mua7l\"),o(\"\")),v=[996825010,642813549,513874426,1027748829,705979059];function A(t){const e=t>>25;let r=(33554431&t)<<5;for(let t=0;t<v.length;t++)1==(e>>t&1)&&(r^=v[t]);return r}function E(t,e,r=1){const n=t.length;let s=1;for(let e=0;e<n;e++){const r=t.charCodeAt(e);if(r<33||r>126)throw new Error(`Invalid prefix (${t})`);s=A(s)^r>>5}s=A(s);for(let e=0;e<n;e++)s=A(s)^31&t.charCodeAt(e);for(let t of e)s=A(s)^t;for(let t=0;t<6;t++)s=A(s);return s^=r,b.encode(f([s%2**30],30,5,!1))}function x(t){const e=\"bech32\"===t?1:734539939,r=p(5),n=r.decode,s=r.encode,i=g(n);function o(t,r=90){if(\"string\"!=typeof t)throw new Error(\"bech32.decode input should be string, not \"+typeof t);if(t.length<8||!1!==r&&t.length>r)throw new TypeError(`Wrong string length: ${t.length} (${t}). Expected (8..${r})`);const n=t.toLowerCase();if(t!==n&&t!==t.toUpperCase())throw new Error(\"String must be lowercase or uppercase\");const s=n.lastIndexOf(\"1\");if(0===s||-1===s)throw new Error('Letter \"1\" must be present between prefix and data only');const i=n.slice(0,s),o=n.slice(s+1);if(o.length<6)throw new Error(\"Data must be at least 6 characters long\");const a=b.decode(o).slice(0,-6),c=E(i,a,e);if(!o.endsWith(c))throw new Error(`Invalid checksum in ${t}: expected \"${c}\"`);return{prefix:i,words:a}}return{encode:function(t,r,n=90){if(\"string\"!=typeof t)throw new Error(\"bech32.encode prefix should be string, not \"+typeof t);if(!Array.isArray(r)||r.length&&\"number\"!=typeof r[0])throw new Error(\"bech32.encode words should be array of numbers, not \"+typeof r);if(0===t.length)throw new TypeError(`Invalid prefix length ${t.length}`);const s=t.length+7+r.length;if(!1!==n&&s>n)throw new TypeError(`Length ${s} exceeds limit ${n}`);const i=t.toLowerCase(),o=E(i,r,e);return`${i}1${b.encode(r)}${o}`},decode:o,decodeToBytes:function(t){const{prefix:e,words:r}=o(t,!1);return{prefix:e,words:r,bytes:n(r)}},decodeUnsafe:g(o),fromWords:n,fromWordsUnsafe:i,toWords:s}}e.bech32=x(\"bech32\"),e.bech32m=x(\"bech32m\"),e.utf8={encode:t=>(new TextDecoder).decode(t),decode:t=>(new TextEncoder).encode(t)},e.hex=s(p(4),i(\"0123456789abcdef\"),o(\"\"),c((t=>{if(\"string\"!=typeof t||t.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof t} with length ${t.length}`);return t.toLowerCase()})));const R={utf8:e.utf8,hex:e.hex,base16:e.base16,base32:e.base32,base64:e.base64,base64url:e.base64url,base58:e.base58,base58xmr:e.base58xmr},I=\"Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr\";e.bytesToString=(t,e)=>{if(\"string\"!=typeof t||!R.hasOwnProperty(t))throw new TypeError(I);if(!n(e))throw new TypeError(\"bytesToString() expects Uint8Array\");return R[t].encode(e)},e.str=e.bytesToString;e.stringToBytes=(t,e)=>{if(!R.hasOwnProperty(t))throw new TypeError(I);if(\"string\"!=typeof e)throw new TypeError(\"stringToBytes() expects string\");return R[t].decode(e)},e.bytes=e.stringToBytes},7526:(t,e)=>{\"use strict\";e.byteLength=function(t){var e=a(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,i=a(t),o=i[0],c=i[1],u=new s(function(t,e,r){return 3*(e+r)/4-r}(0,o,c)),l=0,h=c>0?o-4:o;for(r=0;r<h;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],u[l++]=e>>16&255,u[l++]=e>>8&255,u[l++]=255&e;2===c&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,u[l++]=255&e);1===c&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,u[l++]=e>>8&255,u[l++]=255&e);return u},e.fromByteArray=function(t){for(var e,n=t.length,s=n%3,i=[],o=16383,a=0,u=n-s;a<u;a+=o)i.push(c(t,a,a+o>u?u:a+o));1===s?(e=t[n-1],i.push(r[e>>2]+r[e<<4&63]+\"==\")):2===s&&(e=(t[n-2]<<8)+t[n-1],i.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+\"=\"));return i.join(\"\")};for(var r=[],n=[],s=\"undefined\"!=typeof Uint8Array?Uint8Array:Array,i=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",o=0;o<64;++o)r[o]=i[o],n[i.charCodeAt(o)]=o;function a(t){var e=t.length;if(e%4>0)throw new Error(\"Invalid string. Length must be a multiple of 4\");var r=t.indexOf(\"=\");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function c(t,e,n){for(var s,i,o=[],a=e;a<n;a+=3)s=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),o.push(r[(i=s)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return o.join(\"\")}n[\"-\".charCodeAt(0)]=62,n[\"_\".charCodeAt(0)]=63},8287:(t,e,r)=>{\"use strict\";const n=r(7526),s=r(251),i=\"function\"==typeof Symbol&&\"function\"==typeof Symbol.for?Symbol.for(\"nodejs.util.inspect.custom\"):null;e.hp=c,e.IS=50;const o=2147483647;function a(t){if(t>o)throw new RangeError('The value \"'+t+'\" is invalid for option \"size\"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,c.prototype),e}function c(t,e,r){if(\"number\"==typeof t){if(\"string\"==typeof e)throw new TypeError('The \"string\" argument must be of type string. Received type number');return h(t)}return u(t,e,r)}function u(t,e,r){if(\"string\"==typeof t)return function(t,e){\"string\"==typeof e&&\"\"!==e||(e=\"utf8\");if(!c.isEncoding(e))throw new TypeError(\"Unknown encoding: \"+e);const r=0|g(t,e);let n=a(r);const s=n.write(t,e);s!==r&&(n=n.slice(0,s));return n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(K(t,Uint8Array)){const e=new Uint8Array(t);return d(e.buffer,e.byteOffset,e.byteLength)}return f(t)}(t);if(null==t)throw new TypeError(\"The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type \"+typeof t);if(K(t,ArrayBuffer)||t&&K(t.buffer,ArrayBuffer))return d(t,e,r);if(\"undefined\"!=typeof SharedArrayBuffer&&(K(t,SharedArrayBuffer)||t&&K(t.buffer,SharedArrayBuffer)))return d(t,e,r);if(\"number\"==typeof t)throw new TypeError('The \"value\" argument must not be of type number. Received type number');const n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return c.from(n,e,r);const s=function(t){if(c.isBuffer(t)){const e=0|p(t.length),r=a(e);return 0===r.length||t.copy(r,0,0,e),r}if(void 0!==t.length)return\"number\"!=typeof t.length||W(t.length)?a(0):f(t);if(\"Buffer\"===t.type&&Array.isArray(t.data))return f(t.data)}(t);if(s)return s;if(\"undefined\"!=typeof Symbol&&null!=Symbol.toPrimitive&&\"function\"==typeof t[Symbol.toPrimitive])return c.from(t[Symbol.toPrimitive](\"string\"),e,r);throw new TypeError(\"The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type \"+typeof t)}function l(t){if(\"number\"!=typeof t)throw new TypeError('\"size\" argument must be of type number');if(t<0)throw new RangeError('The value \"'+t+'\" is invalid for option \"size\"')}function h(t){return l(t),a(t<0?0:0|p(t))}function f(t){const e=t.length<0?0:0|p(t.length),r=a(e);for(let n=0;n<e;n+=1)r[n]=255&t[n];return r}function d(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('\"offset\" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('\"length\" is outside of buffer bounds');let n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,c.prototype),n}function p(t){if(t>=o)throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\"+o.toString(16)+\" bytes\");return 0|t}function g(t,e){if(c.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||K(t,ArrayBuffer))return t.byteLength;if(\"string\"!=typeof t)throw new TypeError('The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let s=!1;for(;;)switch(e){case\"ascii\":case\"latin1\":case\"binary\":return r;case\"utf8\":case\"utf-8\":return J(t).length;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return 2*r;case\"hex\":return r>>>1;case\"base64\":return z(t).length;default:if(s)return n?-1:J(t).length;e=(\"\"+e).toLowerCase(),s=!0}}function y(t,e,r){let n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return\"\";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return\"\";if((r>>>=0)<=(e>>>=0))return\"\";for(t||(t=\"utf8\");;)switch(t){case\"hex\":return P(this,e,r);case\"utf8\":case\"utf-8\":return S(this,e,r);case\"ascii\":return O(this,e,r);case\"latin1\":case\"binary\":return C(this,e,r);case\"base64\":return I(this,e,r);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return B(this,e,r);default:if(n)throw new TypeError(\"Unknown encoding: \"+t);t=(t+\"\").toLowerCase(),n=!0}}function m(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function w(t,e,r,n,s){if(0===t.length)return-1;if(\"string\"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),W(r=+r)&&(r=s?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(s)return-1;r=t.length-1}else if(r<0){if(!s)return-1;r=0}if(\"string\"==typeof e&&(e=c.from(e,n)),c.isBuffer(e))return 0===e.length?-1:b(t,e,r,n,s);if(\"number\"==typeof e)return e&=255,\"function\"==typeof Uint8Array.prototype.indexOf?s?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):b(t,[e],r,n,s);throw new TypeError(\"val must be string, number or Buffer\")}function b(t,e,r,n,s){let i,o=1,a=t.length,c=e.length;if(void 0!==n&&(\"ucs2\"===(n=String(n).toLowerCase())||\"ucs-2\"===n||\"utf16le\"===n||\"utf-16le\"===n)){if(t.length<2||e.length<2)return-1;o=2,a/=2,c/=2,r/=2}function u(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(s){let n=-1;for(i=r;i<a;i++)if(u(t,i)===u(e,-1===n?0:i-n)){if(-1===n&&(n=i),i-n+1===c)return n*o}else-1!==n&&(i-=i-n),n=-1}else for(r+c>a&&(r=a-c),i=r;i>=0;i--){let r=!0;for(let n=0;n<c;n++)if(u(t,i+n)!==u(e,n)){r=!1;break}if(r)return i}return-1}function v(t,e,r,n){r=Number(r)||0;const s=t.length-r;n?(n=Number(n))>s&&(n=s):n=s;const i=e.length;let o;for(n>i/2&&(n=i/2),o=0;o<n;++o){const n=parseInt(e.substr(2*o,2),16);if(W(n))return o;t[r+o]=n}return o}function A(t,e,r,n){return Q(J(e,t.length-r),t,r,n)}function E(t,e,r,n){return Q(function(t){const e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function x(t,e,r,n){return Q(z(e),t,r,n)}function R(t,e,r,n){return Q(function(t,e){let r,n,s;const i=[];for(let o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),n=r>>8,s=r%256,i.push(s),i.push(n);return i}(e,t.length-r),t,r,n)}function I(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function S(t,e,r){r=Math.min(t.length,r);const n=[];let s=e;for(;s<r;){const e=t[s];let i=null,o=e>239?4:e>223?3:e>191?2:1;if(s+o<=r){let r,n,a,c;switch(o){case 1:e<128&&(i=e);break;case 2:r=t[s+1],128==(192&r)&&(c=(31&e)<<6|63&r,c>127&&(i=c));break;case 3:r=t[s+1],n=t[s+2],128==(192&r)&&128==(192&n)&&(c=(15&e)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:r=t[s+1],n=t[s+2],a=t[s+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(c=(15&e)<<18|(63&r)<<12|(63&n)<<6|63&a,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,o=1):i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|1023&i),n.push(i),s+=o}return function(t){const e=t.length;if(e<=N)return String.fromCharCode.apply(String,t);let r=\"\",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=N));return r}(n)}c.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),c.TYPED_ARRAY_SUPPORT||\"undefined\"==typeof console||\"function\"!=typeof console.error||console.error(\"This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.\"),Object.defineProperty(c.prototype,\"parent\",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,\"offset\",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(t,e,r){return u(t,e,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(t,e,r){return function(t,e,r){return l(t),t<=0?a(t):void 0!==e?\"string\"==typeof r?a(t).fill(e,r):a(t).fill(e):a(t)}(t,e,r)},c.allocUnsafe=function(t){return h(t)},c.allocUnsafeSlow=function(t){return h(t)},c.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==c.prototype},c.compare=function(t,e){if(K(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),K(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError('The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,n=e.length;for(let s=0,i=Math.min(r,n);s<i;++s)if(t[s]!==e[s]){r=t[s],n=e[s];break}return r<n?-1:n<r?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"latin1\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return!0;default:return!1}},c.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('\"list\" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;const n=c.allocUnsafe(e);let s=0;for(r=0;r<t.length;++r){let e=t[r];if(K(e,Uint8Array))s+e.length>n.length?(c.isBuffer(e)||(e=c.from(e)),e.copy(n,s)):Uint8Array.prototype.set.call(n,e,s);else{if(!c.isBuffer(e))throw new TypeError('\"list\" argument must be an Array of Buffers');e.copy(n,s)}s+=e.length}return n},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError(\"Buffer size must be a multiple of 16-bits\");for(let e=0;e<t;e+=2)m(this,e,e+1);return this},c.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError(\"Buffer size must be a multiple of 32-bits\");for(let e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},c.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError(\"Buffer size must be a multiple of 64-bits\");for(let e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},c.prototype.toString=function(){const t=this.length;return 0===t?\"\":0===arguments.length?S(this,0,t):y.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError(\"Argument must be a Buffer\");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){let t=\"\";const r=e.IS;return t=this.toString(\"hex\",0,r).replace(/(.{2})/g,\"$1 \").trim(),this.length>r&&(t+=\" ... \"),\"<Buffer \"+t+\">\"},i&&(c.prototype[i]=c.prototype.inspect),c.prototype.compare=function(t,e,r,n,s){if(K(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(t))throw new TypeError('The \"target\" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===s&&(s=this.length),e<0||r>t.length||n<0||s>this.length)throw new RangeError(\"out of range index\");if(n>=s&&e>=r)return 0;if(n>=s)return-1;if(e>=r)return 1;if(this===t)return 0;let i=(s>>>=0)-(n>>>=0),o=(r>>>=0)-(e>>>=0);const a=Math.min(i,o),u=this.slice(n,s),l=t.slice(e,r);for(let t=0;t<a;++t)if(u[t]!==l[t]){i=u[t],o=l[t];break}return i<o?-1:o<i?1:0},c.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},c.prototype.indexOf=function(t,e,r){return w(this,t,e,r,!0)},c.prototype.lastIndexOf=function(t,e,r){return w(this,t,e,r,!1)},c.prototype.write=function(t,e,r,n){if(void 0===e)n=\"utf8\",r=this.length,e=0;else if(void 0===r&&\"string\"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n=\"utf8\")):(n=r,r=void 0)}const s=this.length-e;if((void 0===r||r>s)&&(r=s),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError(\"Attempt to write outside buffer bounds\");n||(n=\"utf8\");let i=!1;for(;;)switch(n){case\"hex\":return v(this,t,e,r);case\"utf8\":case\"utf-8\":return A(this,t,e,r);case\"ascii\":case\"latin1\":case\"binary\":return E(this,t,e,r);case\"base64\":return x(this,t,e,r);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return R(this,t,e,r);default:if(i)throw new TypeError(\"Unknown encoding: \"+n);n=(\"\"+n).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:\"Buffer\",data:Array.prototype.slice.call(this._arr||this,0)}};const N=4096;function O(t,e,r){let n=\"\";r=Math.min(t.length,r);for(let s=e;s<r;++s)n+=String.fromCharCode(127&t[s]);return n}function C(t,e,r){let n=\"\";r=Math.min(t.length,r);for(let s=e;s<r;++s)n+=String.fromCharCode(t[s]);return n}function P(t,e,r){const n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let s=\"\";for(let n=e;n<r;++n)s+=X[t[n]];return s}function B(t,e,r){const n=t.slice(e,r);let s=\"\";for(let t=0;t<n.length-1;t+=2)s+=String.fromCharCode(n[t]+256*n[t+1]);return s}function k(t,e,r){if(t%1!=0||t<0)throw new RangeError(\"offset is not uint\");if(t+e>r)throw new RangeError(\"Trying to access beyond buffer length\")}function T(t,e,r,n,s,i){if(!c.isBuffer(t))throw new TypeError('\"buffer\" argument must be a Buffer instance');if(e>s||e<i)throw new RangeError('\"value\" argument is out of bounds');if(r+n>t.length)throw new RangeError(\"Index out of range\")}function L(t,e,r,n,s){$(e,n,s,t,r,7);let i=Number(e&BigInt(4294967295));t[r++]=i,i>>=8,t[r++]=i,i>>=8,t[r++]=i,i>>=8,t[r++]=i;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,r}function U(t,e,r,n,s){$(e,n,s,t,r,7);let i=Number(e&BigInt(4294967295));t[r+7]=i,i>>=8,t[r+6]=i,i>>=8,t[r+5]=i,i>>=8,t[r+4]=i;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=o,o>>=8,t[r+2]=o,o>>=8,t[r+1]=o,o>>=8,t[r]=o,r+8}function F(t,e,r,n,s,i){if(r+n>t.length)throw new RangeError(\"Index out of range\");if(r<0)throw new RangeError(\"Index out of range\")}function M(t,e,r,n,i){return e=+e,r>>>=0,i||F(t,0,r,4),s.write(t,e,r,n,23,4),r+4}function D(t,e,r,n,i){return e=+e,r>>>=0,i||F(t,0,r,8),s.write(t,e,r,n,52,8),r+8}c.prototype.slice=function(t,e){const r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);const n=this.subarray(t,e);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||k(t,e,this.length);let n=this[t],s=1,i=0;for(;++i<e&&(s*=256);)n+=this[t+i]*s;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||k(t,e,this.length);let n=this[t+--e],s=1;for(;e>0&&(s*=256);)n+=this[t+--e]*s;return n},c.prototype.readUint8=c.prototype.readUInt8=function(t,e){return t>>>=0,e||k(t,1,this.length),this[t]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(t,e){return t>>>=0,e||k(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(t,e){return t>>>=0,e||k(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(t,e){return t>>>=0,e||k(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(t,e){return t>>>=0,e||k(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readBigUInt64LE=Z((function(t){H(t>>>=0,\"offset\");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||V(t,this.length-8);const n=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,s=this[++t]+256*this[++t]+65536*this[++t]+r*2**24;return BigInt(n)+(BigInt(s)<<BigInt(32))})),c.prototype.readBigUInt64BE=Z((function(t){H(t>>>=0,\"offset\");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||V(t,this.length-8);const n=e*2**24+65536*this[++t]+256*this[++t]+this[++t],s=this[++t]*2**24+65536*this[++t]+256*this[++t]+r;return(BigInt(n)<<BigInt(32))+BigInt(s)})),c.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||k(t,e,this.length);let n=this[t],s=1,i=0;for(;++i<e&&(s*=256);)n+=this[t+i]*s;return s*=128,n>=s&&(n-=Math.pow(2,8*e)),n},c.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||k(t,e,this.length);let n=e,s=1,i=this[t+--n];for(;n>0&&(s*=256);)i+=this[t+--n]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*e)),i},c.prototype.readInt8=function(t,e){return t>>>=0,e||k(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){t>>>=0,e||k(t,2,this.length);const r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(t,e){t>>>=0,e||k(t,2,this.length);const r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(t,e){return t>>>=0,e||k(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return t>>>=0,e||k(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readBigInt64LE=Z((function(t){H(t>>>=0,\"offset\");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||V(t,this.length-8);const n=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),c.prototype.readBigInt64BE=Z((function(t){H(t>>>=0,\"offset\");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||V(t,this.length-8);const n=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+r)})),c.prototype.readFloatLE=function(t,e){return t>>>=0,e||k(t,4,this.length),s.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return t>>>=0,e||k(t,4,this.length),s.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return t>>>=0,e||k(t,8,this.length),s.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return t>>>=0,e||k(t,8,this.length),s.read(this,t,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){T(this,t,e,r,Math.pow(2,8*r)-1,0)}let s=1,i=0;for(this[e]=255&t;++i<r&&(s*=256);)this[e+i]=t/s&255;return e+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){T(this,t,e,r,Math.pow(2,8*r)-1,0)}let s=r-1,i=1;for(this[e+s]=255&t;--s>=0&&(i*=256);)this[e+s]=t/i&255;return e+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||T(this,t,e,1,255,0),this[e]=255&t,e+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||T(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||T(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||T(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||T(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigUInt64LE=Z((function(t,e=0){return L(this,t,e,BigInt(0),BigInt(\"0xffffffffffffffff\"))})),c.prototype.writeBigUInt64BE=Z((function(t,e=0){return U(this,t,e,BigInt(0),BigInt(\"0xffffffffffffffff\"))})),c.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);T(this,t,e,r,n-1,-n)}let s=0,i=1,o=0;for(this[e]=255&t;++s<r&&(i*=256);)t<0&&0===o&&0!==this[e+s-1]&&(o=1),this[e+s]=(t/i|0)-o&255;return e+r},c.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);T(this,t,e,r,n-1,-n)}let s=r-1,i=1,o=0;for(this[e+s]=255&t;--s>=0&&(i*=256);)t<0&&0===o&&0!==this[e+s+1]&&(o=1),this[e+s]=(t/i|0)-o&255;return e+r},c.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||T(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||T(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||T(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||T(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},c.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||T(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigInt64LE=Z((function(t,e=0){return L(this,t,e,-BigInt(\"0x8000000000000000\"),BigInt(\"0x7fffffffffffffff\"))})),c.prototype.writeBigInt64BE=Z((function(t,e=0){return U(this,t,e,-BigInt(\"0x8000000000000000\"),BigInt(\"0x7fffffffffffffff\"))})),c.prototype.writeFloatLE=function(t,e,r){return M(this,t,e,!0,r)},c.prototype.writeFloatBE=function(t,e,r){return M(this,t,e,!1,r)},c.prototype.writeDoubleLE=function(t,e,r){return D(this,t,e,!0,r)},c.prototype.writeDoubleBE=function(t,e,r){return D(this,t,e,!1,r)},c.prototype.copy=function(t,e,r,n){if(!c.isBuffer(t))throw new TypeError(\"argument should be a Buffer\");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError(\"targetStart out of bounds\");if(r<0||r>=this.length)throw new RangeError(\"Index out of range\");if(n<0)throw new RangeError(\"sourceEnd out of bounds\");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);const s=n-r;return this===t&&\"function\"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),s},c.prototype.fill=function(t,e,r,n){if(\"string\"==typeof t){if(\"string\"==typeof e?(n=e,e=0,r=this.length):\"string\"==typeof r&&(n=r,r=this.length),void 0!==n&&\"string\"!=typeof n)throw new TypeError(\"encoding must be a string\");if(\"string\"==typeof n&&!c.isEncoding(n))throw new TypeError(\"Unknown encoding: \"+n);if(1===t.length){const e=t.charCodeAt(0);(\"utf8\"===n&&e<128||\"latin1\"===n)&&(t=e)}}else\"number\"==typeof t?t&=255:\"boolean\"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError(\"Out of range index\");if(r<=e)return this;let s;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),\"number\"==typeof t)for(s=e;s<r;++s)this[s]=t;else{const i=c.isBuffer(t)?t:c.from(t,n),o=i.length;if(0===o)throw new TypeError('The value \"'+t+'\" is invalid for argument \"value\"');for(s=0;s<r-e;++s)this[s+e]=i[s%o]}return this};const j={};function _(t,e,r){j[t]=class extends r{constructor(){super(),Object.defineProperty(this,\"message\",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,\"code\",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function G(t){let e=\"\",r=t.length;const n=\"-\"===t[0]?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function $(t,e,r,n,s,i){if(t>r||t<e){const n=\"bigint\"==typeof e?\"n\":\"\";let s;throw s=i>3?0===e||e===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(i+1)}${n}`:`>= -(2${n} ** ${8*(i+1)-1}${n}) and < 2 ** ${8*(i+1)-1}${n}`:`>= ${e}${n} and <= ${r}${n}`,new j.ERR_OUT_OF_RANGE(\"value\",s,t)}!function(t,e,r){H(e,\"offset\"),void 0!==t[e]&&void 0!==t[e+r]||V(e,t.length-(r+1))}(n,s,i)}function H(t,e){if(\"number\"!=typeof t)throw new j.ERR_INVALID_ARG_TYPE(e,\"number\",t)}function V(t,e,r){if(Math.floor(t)!==t)throw H(t,r),new j.ERR_OUT_OF_RANGE(r||\"offset\",\"an integer\",t);if(e<0)throw new j.ERR_BUFFER_OUT_OF_BOUNDS;throw new j.ERR_OUT_OF_RANGE(r||\"offset\",`>= ${r?1:0} and <= ${e}`,t)}_(\"ERR_BUFFER_OUT_OF_BOUNDS\",(function(t){return t?`${t} is outside of buffer bounds`:\"Attempt to access memory outside buffer bounds\"}),RangeError),_(\"ERR_INVALID_ARG_TYPE\",(function(t,e){return`The \"${t}\" argument must be of type number. Received type ${typeof e}`}),TypeError),_(\"ERR_OUT_OF_RANGE\",(function(t,e,r){let n=`The value of \"${t}\" is out of range.`,s=r;return Number.isInteger(r)&&Math.abs(r)>2**32?s=G(String(r)):\"bigint\"==typeof r&&(s=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(s=G(s)),s+=\"n\"),n+=` It must be ${e}. Received ${s}`,n}),RangeError);const q=/[^+/0-9A-Za-z-_]/g;function J(t,e){let r;e=e||1/0;const n=t.length;let s=null;const i=[];for(let o=0;o<n;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!s){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&i.push(239,191,189);continue}s=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),s=r;continue}r=65536+(s-55296<<10|r-56320)}else s&&(e-=3)>-1&&i.push(239,191,189);if(s=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error(\"Invalid code point\");if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function z(t){return n.toByteArray(function(t){if((t=(t=t.split(\"=\")[0]).trim().replace(q,\"\")).length<2)return\"\";for(;t.length%4!=0;)t+=\"=\";return t}(t))}function Q(t,e,r,n){let s;for(s=0;s<n&&!(s+r>=e.length||s>=t.length);++s)e[s+r]=t[s];return s}function K(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function W(t){return t!=t}const X=function(){const t=\"0123456789abcdef\",e=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let s=0;s<16;++s)e[n+s]=t[r]+t[s]}return e}();function Z(t){return\"undefined\"==typeof BigInt?Y:t}function Y(){throw new Error(\"BigInt not supported\")}},8e3:t=>{var e=1e3,r=60*e,n=60*r,s=24*n,i=7*s,o=365.25*s;function a(t,e,r,n){var s=e>=1.5*r;return Math.round(t/r)+\" \"+n+(s?\"s\":\"\")}t.exports=function(t,c){c=c||{};var u=typeof t;if(\"string\"===u&&t.length>0)return function(t){if((t=String(t)).length>100)return;var a=/^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!a)return;var c=parseFloat(a[1]);switch((a[2]||\"ms\").toLowerCase()){case\"years\":case\"year\":case\"yrs\":case\"yr\":case\"y\":return c*o;case\"weeks\":case\"week\":case\"w\":return c*i;case\"days\":case\"day\":case\"d\":return c*s;case\"hours\":case\"hour\":case\"hrs\":case\"hr\":case\"h\":return c*n;case\"minutes\":case\"minute\":case\"mins\":case\"min\":case\"m\":return c*r;case\"seconds\":case\"second\":case\"secs\":case\"sec\":case\"s\":return c*e;case\"milliseconds\":case\"millisecond\":case\"msecs\":case\"msec\":case\"ms\":return c;default:return}}(t);if(\"number\"===u&&isFinite(t))return c.long?function(t){var i=Math.abs(t);if(i>=s)return a(t,i,s,\"day\");if(i>=n)return a(t,i,n,\"hour\");if(i>=r)return a(t,i,r,\"minute\");if(i>=e)return a(t,i,e,\"second\");return t+\" ms\"}(t):function(t){var i=Math.abs(t);if(i>=s)return Math.round(t/s)+\"d\";if(i>=n)return Math.round(t/n)+\"h\";if(i>=r)return Math.round(t/r)+\"m\";if(i>=e)return Math.round(t/e)+\"s\";return t+\"ms\"}(t);throw new Error(\"val is not a non-empty string or a valid number. val=\"+JSON.stringify(t))}},7833:(t,e,r)=>{e.formatArgs=function(e){if(e[0]=(this.useColors?\"%c\":\"\")+this.namespace+(this.useColors?\" %c\":\" \")+e[0]+(this.useColors?\"%c \":\" \")+\"+\"+t.exports.humanize(this.diff),!this.useColors)return;const r=\"color: \"+this.color;e.splice(1,0,r,\"color: inherit\");let n=0,s=0;e[0].replace(/%[a-zA-Z%]/g,(t=>{\"%%\"!==t&&(n++,\"%c\"===t&&(s=n))})),e.splice(s,0,r)},e.save=function(t){try{t?e.storage.setItem(\"debug\",t):e.storage.removeItem(\"debug\")}catch(t){}},e.load=function(){let t;try{t=e.storage.getItem(\"debug\")}catch(t){}!t&&\"undefined\"!=typeof process&&\"env\"in process&&(t=\"false\");return t},e.useColors=function(){if(\"undefined\"!=typeof window&&window.process&&(\"renderer\"===window.process.type||window.process.__nwjs))return!0;if(\"undefined\"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/))return!1;return\"undefined\"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||\"undefined\"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||\"undefined\"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)&&parseInt(RegExp.$1,10)>=31||\"undefined\"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/)},e.storage=function(){try{return localStorage}catch(t){}}(),e.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn(\"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.\"))}})(),e.colors=[\"#0000CC\",\"#0000FF\",\"#0033CC\",\"#0033FF\",\"#0066CC\",\"#0066FF\",\"#0099CC\",\"#0099FF\",\"#00CC00\",\"#00CC33\",\"#00CC66\",\"#00CC99\",\"#00CCCC\",\"#00CCFF\",\"#3300CC\",\"#3300FF\",\"#3333CC\",\"#3333FF\",\"#3366CC\",\"#3366FF\",\"#3399CC\",\"#3399FF\",\"#33CC00\",\"#33CC33\",\"#33CC66\",\"#33CC99\",\"#33CCCC\",\"#33CCFF\",\"#6600CC\",\"#6600FF\",\"#6633CC\",\"#6633FF\",\"#66CC00\",\"#66CC33\",\"#9900CC\",\"#9900FF\",\"#9933CC\",\"#9933FF\",\"#99CC00\",\"#99CC33\",\"#CC0000\",\"#CC0033\",\"#CC0066\",\"#CC0099\",\"#CC00CC\",\"#CC00FF\",\"#CC3300\",\"#CC3333\",\"#CC3366\",\"#CC3399\",\"#CC33CC\",\"#CC33FF\",\"#CC6600\",\"#CC6633\",\"#CC9900\",\"#CC9933\",\"#CCCC00\",\"#CCCC33\",\"#FF0000\",\"#FF0033\",\"#FF0066\",\"#FF0099\",\"#FF00CC\",\"#FF00FF\",\"#FF3300\",\"#FF3333\",\"#FF3366\",\"#FF3399\",\"#FF33CC\",\"#FF33FF\",\"#FF6600\",\"#FF6633\",\"#FF9900\",\"#FF9933\",\"#FFCC00\",\"#FFCC33\"],e.log=console.debug||console.log||(()=>{}),t.exports=r(736)(e);const{formatters:n}=t.exports;n.j=function(t){try{return JSON.stringify(t)}catch(t){return\"[UnexpectedJSONParseError]: \"+t.message}}},736:(t,e,r)=>{t.exports=function(t){function e(t){let r,s,i,o=null;function a(...t){if(!a.enabled)return;const n=a,s=Number(new Date),i=s-(r||s);n.diff=i,n.prev=r,n.curr=s,r=s,t[0]=e.coerce(t[0]),\"string\"!=typeof t[0]&&t.unshift(\"%O\");let o=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,((r,s)=>{if(\"%%\"===r)return\"%\";o++;const i=e.formatters[s];if(\"function\"==typeof i){const e=t[o];r=i.call(n,e),t.splice(o,1),o--}return r})),e.formatArgs.call(n,t);(n.log||e.log).apply(n,t)}return a.namespace=t,a.useColors=e.useColors(),a.color=e.selectColor(t),a.extend=n,a.destroy=e.destroy,Object.defineProperty(a,\"enabled\",{enumerable:!0,configurable:!1,get:()=>null!==o?o:(s!==e.namespaces&&(s=e.namespaces,i=e.enabled(t)),i),set:t=>{o=t}}),\"function\"==typeof e.init&&e.init(a),a}function n(t,r){const n=e(this.namespace+(void 0===r?\":\":r)+t);return n.log=this.log,n}function s(t){return t.toString().substring(2,t.toString().length-2).replace(/\\.\\*\\?$/,\"*\")}return e.debug=e,e.default=e,e.coerce=function(t){if(t instanceof Error)return t.stack||t.message;return t},e.disable=function(){const t=[...e.names.map(s),...e.skips.map(s).map((t=>\"-\"+t))].join(\",\");return e.enable(\"\"),t},e.enable=function(t){let r;e.save(t),e.namespaces=t,e.names=[],e.skips=[];const n=(\"string\"==typeof t?t:\"\").split(/[\\s,]+/),s=n.length;for(r=0;r<s;r++)n[r]&&(\"-\"===(t=n[r].replace(/\\*/g,\".*?\"))[0]?e.skips.push(new RegExp(\"^\"+t.slice(1)+\"$\")):e.names.push(new RegExp(\"^\"+t+\"$\")))},e.enabled=function(t){if(\"*\"===t[t.length-1])return!0;let r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1},e.humanize=r(8e3),e.destroy=function(){console.warn(\"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.\")},Object.keys(t).forEach((r=>{e[r]=t[r]})),e.names=[],e.skips=[],e.formatters={},e.selectColor=function(t){let r=0;for(let e=0;e<t.length;e++)r=(r<<5)-r+t.charCodeAt(e),r|=0;return e.colors[Math.abs(r)%e.colors.length]},e.enable(e.load()),e}},7007:t=>{\"use strict\";var e,r=\"object\"==typeof Reflect?Reflect:null,n=r&&\"function\"==typeof r.apply?r.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};e=r&&\"function\"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!=t};function i(){i.init.call(this)}t.exports=i,t.exports.once=function(t,e){return new Promise((function(r,n){function s(r){t.removeListener(e,i),n(r)}function i(){\"function\"==typeof t.removeListener&&t.removeListener(\"error\",s),r([].slice.call(arguments))}g(t,e,i,{once:!0}),\"error\"!==e&&function(t,e,r){\"function\"==typeof t.on&&g(t,\"error\",e,r)}(t,s,{once:!0})}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var o=10;function a(t){if(\"function\"!=typeof t)throw new TypeError('The \"listener\" argument must be of type Function. Received type '+typeof t)}function c(t){return void 0===t._maxListeners?i.defaultMaxListeners:t._maxListeners}function u(t,e,r,n){var s,i,o,u;if(a(r),void 0===(i=t._events)?(i=t._events=Object.create(null),t._eventsCount=0):(void 0!==i.newListener&&(t.emit(\"newListener\",e,r.listener?r.listener:r),i=t._events),o=i[e]),void 0===o)o=i[e]=r,++t._eventsCount;else if(\"function\"==typeof o?o=i[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),(s=c(t))>0&&o.length>s&&!o.warned){o.warned=!0;var l=new Error(\"Possible EventEmitter memory leak detected. \"+o.length+\" \"+String(e)+\" listeners added. Use emitter.setMaxListeners() to increase limit\");l.name=\"MaxListenersExceededWarning\",l.emitter=t,l.type=e,l.count=o.length,u=l,console&&console.warn&&console.warn(u)}return t}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},s=l.bind(n);return s.listener=r,n.wrapFn=s,s}function f(t,e,r){var n=t._events;if(void 0===n)return[];var s=n[e];return void 0===s?[]:\"function\"==typeof s?r?[s.listener||s]:[s]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(s):p(s,s.length)}function d(t){var e=this._events;if(void 0!==e){var r=e[t];if(\"function\"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function g(t,e,r,n){if(\"function\"==typeof t.on)n.once?t.once(e,r):t.on(e,r);else{if(\"function\"!=typeof t.addEventListener)throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function s(i){n.once&&t.removeEventListener(e,s),r(i)}))}}Object.defineProperty(i,\"defaultMaxListeners\",{enumerable:!0,get:function(){return o},set:function(t){if(\"number\"!=typeof t||t<0||s(t))throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received '+t+\".\");o=t}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(t){if(\"number\"!=typeof t||t<0||s(t))throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received '+t+\".\");return this._maxListeners=t,this},i.prototype.getMaxListeners=function(){return c(this)},i.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var s=\"error\"===t,i=this._events;if(void 0!==i)s=s&&void 0===i.error;else if(!s)return!1;if(s){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var a=new Error(\"Unhandled error.\"+(o?\" (\"+o.message+\")\":\"\"));throw a.context=o,a}var c=i[t];if(void 0===c)return!1;if(\"function\"==typeof c)n(c,this,e);else{var u=c.length,l=p(c,u);for(r=0;r<u;++r)n(l[r],this,e)}return!0},i.prototype.addListener=function(t,e){return u(this,t,e,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(t,e){return u(this,t,e,!0)},i.prototype.once=function(t,e){return a(e),this.on(t,h(this,t,e)),this},i.prototype.prependOnceListener=function(t,e){return a(e),this.prependListener(t,h(this,t,e)),this},i.prototype.removeListener=function(t,e){var r,n,s,i,o;if(a(e),void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit(\"removeListener\",t,r.listener||e));else if(\"function\"!=typeof r){for(s=-1,i=r.length-1;i>=0;i--)if(r[i]===e||r[i].listener===e){o=r[i].listener,s=i;break}if(s<0)return this;0===s?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,s),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit(\"removeListener\",t,o||e)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var s,i=Object.keys(r);for(n=0;n<i.length;++n)\"removeListener\"!==(s=i[n])&&this.removeAllListeners(s);return this.removeAllListeners(\"removeListener\"),this._events=Object.create(null),this._eventsCount=0,this}if(\"function\"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},i.prototype.listeners=function(t){return f(this,t,!0)},i.prototype.rawListeners=function(t){return f(this,t,!1)},i.listenerCount=function(t,e){return\"function\"==typeof t.listenerCount?t.listenerCount(e):d.call(t,e)},i.prototype.listenerCount=d,i.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},8463:t=>{t.exports=o,o.default=o,o.stable=l,o.stableStringify=l;var e=\"[...]\",r=\"[Circular]\",n=[],s=[];function i(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function o(t,e,r,o){var a;void 0===o&&(o=i()),c(t,\"\",0,[],void 0,0,o);try{a=0===s.length?JSON.stringify(t,e,r):JSON.stringify(t,f(e),r)}catch(t){return JSON.stringify(\"[unable to serialize, circular reference is too complex to analyze]\")}finally{for(;0!==n.length;){var u=n.pop();4===u.length?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}}return a}function a(t,e,r,i){var o=Object.getOwnPropertyDescriptor(i,r);void 0!==o.get?o.configurable?(Object.defineProperty(i,r,{value:t}),n.push([i,r,e,o])):s.push([e,r,t]):(i[r]=t,n.push([i,r,e]))}function c(t,n,s,i,o,u,l){var h;if(u+=1,\"object\"==typeof t&&null!==t){for(h=0;h<i.length;h++)if(i[h]===t)return void a(r,t,n,o);if(void 0!==l.depthLimit&&u>l.depthLimit)return void a(e,t,n,o);if(void 0!==l.edgesLimit&&s+1>l.edgesLimit)return void a(e,t,n,o);if(i.push(t),Array.isArray(t))for(h=0;h<t.length;h++)c(t[h],h,h,i,t,u,l);else{var f=Object.keys(t);for(h=0;h<f.length;h++){var d=f[h];c(t[d],d,h,i,t,u,l)}}i.pop()}}function u(t,e){return t<e?-1:t>e?1:0}function l(t,e,r,o){void 0===o&&(o=i());var a,c=h(t,\"\",0,[],void 0,0,o)||t;try{a=0===s.length?JSON.stringify(c,e,r):JSON.stringify(c,f(e),r)}catch(t){return JSON.stringify(\"[unable to serialize, circular reference is too complex to analyze]\")}finally{for(;0!==n.length;){var u=n.pop();4===u.length?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}}return a}function h(t,s,i,o,c,l,f){var d;if(l+=1,\"object\"==typeof t&&null!==t){for(d=0;d<o.length;d++)if(o[d]===t)return void a(r,t,s,c);try{if(\"function\"==typeof t.toJSON)return}catch(t){return}if(void 0!==f.depthLimit&&l>f.depthLimit)return void a(e,t,s,c);if(void 0!==f.edgesLimit&&i+1>f.edgesLimit)return void a(e,t,s,c);if(o.push(t),Array.isArray(t))for(d=0;d<t.length;d++)h(t[d],d,d,o,t,l,f);else{var p={},g=Object.keys(t).sort(u);for(d=0;d<g.length;d++){var y=g[d];h(t[y],y,d,o,t,l,f),p[y]=t[y]}if(void 0===c)return p;n.push([c,s,t]),c[s]=p}o.pop()}}function f(t){return t=void 0!==t?t:function(t,e){return e},function(e,r){if(s.length>0)for(var n=0;n<s.length;n++){var i=s[n];if(i[1]===e&&i[0]===r){r=i[2],s.splice(n,1);break}}return t.call(this,e,r)}}},6454:(t,e,r)=>{\"use strict\";const n=r(3918),s=r(2923),i=r(8904);t.exports={XMLParser:s,XMLValidator:n,XMLBuilder:i}},5334:(t,e)=>{\"use strict\";const r=\":A-Za-z_\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD\",n=\"[\"+r+\"][\"+(r+\"\\\\-.\\\\d\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040\")+\"]*\",s=new RegExp(\"^\"+n+\"$\");e.isExist=function(t){return void 0!==t},e.isEmptyObject=function(t){return 0===Object.keys(t).length},e.merge=function(t,e,r){if(e){const n=Object.keys(e),s=n.length;for(let i=0;i<s;i++)t[n[i]]=\"strict\"===r?[e[n[i]]]:e[n[i]]}},e.getValue=function(t){return e.isExist(t)?t:\"\"},e.isName=function(t){const e=s.exec(t);return!(null==e)},e.getAllMatches=function(t,e){const r=[];let n=e.exec(t);for(;n;){const s=[];s.startIndex=e.lastIndex-n[0].length;const i=n.length;for(let t=0;t<i;t++)s.push(n[t]);r.push(s),n=e.exec(t)}return r},e.nameRegexp=n},3918:(t,e,r)=>{\"use strict\";const n=r(5334),s={allowBooleanAttributes:!1,unpairedTags:[]};function i(t){return\" \"===t||\"\\t\"===t||\"\\n\"===t||\"\\r\"===t}function o(t,e){const r=e;for(;e<t.length;e++)if(\"?\"!=t[e]&&\" \"!=t[e]);else{const n=t.substr(r,e-r);if(e>5&&\"xml\"===n)return p(\"InvalidXml\",\"XML declaration allowed only at the start of the document.\",y(t,e));if(\"?\"==t[e]&&\">\"==t[e+1]){e++;break}}return e}function a(t,e){if(t.length>e+5&&\"-\"===t[e+1]&&\"-\"===t[e+2]){for(e+=3;e<t.length;e++)if(\"-\"===t[e]&&\"-\"===t[e+1]&&\">\"===t[e+2]){e+=2;break}}else if(t.length>e+8&&\"D\"===t[e+1]&&\"O\"===t[e+2]&&\"C\"===t[e+3]&&\"T\"===t[e+4]&&\"Y\"===t[e+5]&&\"P\"===t[e+6]&&\"E\"===t[e+7]){let r=1;for(e+=8;e<t.length;e++)if(\"<\"===t[e])r++;else if(\">\"===t[e]&&(r--,0===r))break}else if(t.length>e+9&&\"[\"===t[e+1]&&\"C\"===t[e+2]&&\"D\"===t[e+3]&&\"A\"===t[e+4]&&\"T\"===t[e+5]&&\"A\"===t[e+6]&&\"[\"===t[e+7])for(e+=8;e<t.length;e++)if(\"]\"===t[e]&&\"]\"===t[e+1]&&\">\"===t[e+2]){e+=2;break}return e}e.validate=function(t,e){e=Object.assign({},s,e);const r=[];let c=!1,u=!1;\"\\ufeff\"===t[0]&&(t=t.substr(1));for(let s=0;s<t.length;s++)if(\"<\"===t[s]&&\"?\"===t[s+1]){if(s+=2,s=o(t,s),s.err)return s}else{if(\"<\"!==t[s]){if(i(t[s]))continue;return p(\"InvalidChar\",\"char '\"+t[s]+\"' is not expected.\",y(t,s))}{let g=s;if(s++,\"!\"===t[s]){s=a(t,s);continue}{let m=!1;\"/\"===t[s]&&(m=!0,s++);let w=\"\";for(;s<t.length&&\">\"!==t[s]&&\" \"!==t[s]&&\"\\t\"!==t[s]&&\"\\n\"!==t[s]&&\"\\r\"!==t[s];s++)w+=t[s];if(w=w.trim(),\"/\"===w[w.length-1]&&(w=w.substring(0,w.length-1),s--),h=w,!n.isName(h)){let e;return e=0===w.trim().length?\"Invalid space after '<'.\":\"Tag '\"+w+\"' is an invalid name.\",p(\"InvalidTag\",e,y(t,s))}const b=l(t,s);if(!1===b)return p(\"InvalidAttr\",\"Attributes for '\"+w+\"' have open quote.\",y(t,s));let v=b.value;if(s=b.index,\"/\"===v[v.length-1]){const r=s-v.length;v=v.substring(0,v.length-1);const n=f(v,e);if(!0!==n)return p(n.err.code,n.err.msg,y(t,r+n.err.line));c=!0}else if(m){if(!b.tagClosed)return p(\"InvalidTag\",\"Closing tag '\"+w+\"' doesn't have proper closing.\",y(t,s));if(v.trim().length>0)return p(\"InvalidTag\",\"Closing tag '\"+w+\"' can't have attributes or invalid starting.\",y(t,g));{const e=r.pop();if(w!==e.tagName){let r=y(t,e.tagStartPos);return p(\"InvalidTag\",\"Expected closing tag '\"+e.tagName+\"' (opened in line \"+r.line+\", col \"+r.col+\") instead of closing tag '\"+w+\"'.\",y(t,g))}0==r.length&&(u=!0)}}else{const n=f(v,e);if(!0!==n)return p(n.err.code,n.err.msg,y(t,s-v.length+n.err.line));if(!0===u)return p(\"InvalidXml\",\"Multiple possible root nodes found.\",y(t,s));-1!==e.unpairedTags.indexOf(w)||r.push({tagName:w,tagStartPos:g}),c=!0}for(s++;s<t.length;s++)if(\"<\"===t[s]){if(\"!\"===t[s+1]){s++,s=a(t,s);continue}if(\"?\"!==t[s+1])break;if(s=o(t,++s),s.err)return s}else if(\"&\"===t[s]){const e=d(t,s);if(-1==e)return p(\"InvalidChar\",\"char '&' is not expected.\",y(t,s));s=e}else if(!0===u&&!i(t[s]))return p(\"InvalidXml\",\"Extra text at the end\",y(t,s));\"<\"===t[s]&&s--}}}var h;return c?1==r.length?p(\"InvalidTag\",\"Unclosed tag '\"+r[0].tagName+\"'.\",y(t,r[0].tagStartPos)):!(r.length>0)||p(\"InvalidXml\",\"Invalid '\"+JSON.stringify(r.map((t=>t.tagName)),null,4).replace(/\\r?\\n/g,\"\")+\"' found.\",{line:1,col:1}):p(\"InvalidXml\",\"Start tag expected.\",1)};const c='\"',u=\"'\";function l(t,e){let r=\"\",n=\"\",s=!1;for(;e<t.length;e++){if(t[e]===c||t[e]===u)\"\"===n?n=t[e]:n!==t[e]||(n=\"\");else if(\">\"===t[e]&&\"\"===n){s=!0;break}r+=t[e]}return\"\"===n&&{value:r,index:e,tagClosed:s}}const h=new RegExp(\"(\\\\s*)([^\\\\s=]+)(\\\\s*=)?(\\\\s*(['\\\"])(([\\\\s\\\\S])*?)\\\\5)?\",\"g\");function f(t,e){const r=n.getAllMatches(t,h),s={};for(let t=0;t<r.length;t++){if(0===r[t][1].length)return p(\"InvalidAttr\",\"Attribute '\"+r[t][2]+\"' has no space in starting.\",m(r[t]));if(void 0!==r[t][3]&&void 0===r[t][4])return p(\"InvalidAttr\",\"Attribute '\"+r[t][2]+\"' is without value.\",m(r[t]));if(void 0===r[t][3]&&!e.allowBooleanAttributes)return p(\"InvalidAttr\",\"boolean attribute '\"+r[t][2]+\"' is not allowed.\",m(r[t]));const n=r[t][2];if(!g(n))return p(\"InvalidAttr\",\"Attribute '\"+n+\"' is an invalid name.\",m(r[t]));if(s.hasOwnProperty(n))return p(\"InvalidAttr\",\"Attribute '\"+n+\"' is repeated.\",m(r[t]));s[n]=1}return!0}function d(t,e){if(\";\"===t[++e])return-1;if(\"#\"===t[e])return function(t,e){let r=/\\d/;for(\"x\"===t[e]&&(e++,r=/[\\da-fA-F]/);e<t.length;e++){if(\";\"===t[e])return e;if(!t[e].match(r))break}return-1}(t,++e);let r=0;for(;e<t.length;e++,r++)if(!(t[e].match(/\\w/)&&r<20)){if(\";\"===t[e])break;return-1}return e}function p(t,e,r){return{err:{code:t,msg:e,line:r.line||r,col:r.col}}}function g(t){return n.isName(t)}function y(t,e){const r=t.substring(0,e).split(/\\r?\\n/);return{line:r.length,col:r[r.length-1].length+1}}function m(t){return t.startIndex+t[1].length}},8904:(t,e,r)=>{\"use strict\";const n=r(2788),s={attributeNamePrefix:\"@_\",attributesGroupName:!1,textNodeName:\"#text\",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:\"  \",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp(\"&\",\"g\"),val:\"&amp;\"},{regex:new RegExp(\">\",\"g\"),val:\"&gt;\"},{regex:new RegExp(\"<\",\"g\"),val:\"&lt;\"},{regex:new RegExp(\"'\",\"g\"),val:\"&apos;\"},{regex:new RegExp('\"',\"g\"),val:\"&quot;\"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function i(t){this.options=Object.assign({},s,t),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=c),this.processTextOrObjNode=o,this.options.format?(this.indentate=a,this.tagEndChar=\">\\n\",this.newLine=\"\\n\"):(this.indentate=function(){return\"\"},this.tagEndChar=\">\",this.newLine=\"\")}function o(t,e,r){const n=this.j2x(t,r+1);return void 0!==t[this.options.textNodeName]&&1===Object.keys(t).length?this.buildTextValNode(t[this.options.textNodeName],e,n.attrStr,r):this.buildObjectNode(n.val,e,n.attrStr,r)}function a(t){return this.options.indentBy.repeat(t)}function c(t){return!(!t.startsWith(this.options.attributeNamePrefix)||t===this.options.textNodeName)&&t.substr(this.attrPrefixLen)}i.prototype.build=function(t){return this.options.preserveOrder?n(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t={[this.options.arrayNodeName]:t}),this.j2x(t,0).val)},i.prototype.j2x=function(t,e){let r=\"\",n=\"\";for(let s in t)if(Object.prototype.hasOwnProperty.call(t,s))if(void 0===t[s])this.isAttribute(s)&&(n+=\"\");else if(null===t[s])this.isAttribute(s)?n+=\"\":\"?\"===s[0]?n+=this.indentate(e)+\"<\"+s+\"?\"+this.tagEndChar:n+=this.indentate(e)+\"<\"+s+\"/\"+this.tagEndChar;else if(t[s]instanceof Date)n+=this.buildTextValNode(t[s],s,\"\",e);else if(\"object\"!=typeof t[s]){const i=this.isAttribute(s);if(i)r+=this.buildAttrPairStr(i,\"\"+t[s]);else if(s===this.options.textNodeName){let e=this.options.tagValueProcessor(s,\"\"+t[s]);n+=this.replaceEntitiesValue(e)}else n+=this.buildTextValNode(t[s],s,\"\",e)}else if(Array.isArray(t[s])){const r=t[s].length;let i=\"\";for(let o=0;o<r;o++){const r=t[s][o];void 0===r||(null===r?\"?\"===s[0]?n+=this.indentate(e)+\"<\"+s+\"?\"+this.tagEndChar:n+=this.indentate(e)+\"<\"+s+\"/\"+this.tagEndChar:\"object\"==typeof r?this.options.oneListGroup?i+=this.j2x(r,e+1).val:i+=this.processTextOrObjNode(r,s,e):i+=this.buildTextValNode(r,s,\"\",e))}this.options.oneListGroup&&(i=this.buildObjectNode(i,s,\"\",e)),n+=i}else if(this.options.attributesGroupName&&s===this.options.attributesGroupName){const e=Object.keys(t[s]),n=e.length;for(let i=0;i<n;i++)r+=this.buildAttrPairStr(e[i],\"\"+t[s][e[i]])}else n+=this.processTextOrObjNode(t[s],s,e);return{attrStr:r,val:n}},i.prototype.buildAttrPairStr=function(t,e){return e=this.options.attributeValueProcessor(t,\"\"+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&\"true\"===e?\" \"+t:\" \"+t+'=\"'+e+'\"'},i.prototype.buildObjectNode=function(t,e,r,n){if(\"\"===t)return\"?\"===e[0]?this.indentate(n)+\"<\"+e+r+\"?\"+this.tagEndChar:this.indentate(n)+\"<\"+e+r+this.closeTag(e)+this.tagEndChar;{let s=\"</\"+e+this.tagEndChar,i=\"\";return\"?\"===e[0]&&(i=\"?\",s=\"\"),!r&&\"\"!==r||-1!==t.indexOf(\"<\")?!1!==this.options.commentPropName&&e===this.options.commentPropName&&0===i.length?this.indentate(n)+`\\x3c!--${t}--\\x3e`+this.newLine:this.indentate(n)+\"<\"+e+r+i+this.tagEndChar+t+this.indentate(n)+s:this.indentate(n)+\"<\"+e+r+i+\">\"+t+s}},i.prototype.closeTag=function(t){let e=\"\";return-1!==this.options.unpairedTags.indexOf(t)?this.options.suppressUnpairedNode||(e=\"/\"):e=this.options.suppressEmptyNode?\"/\":`></${t}`,e},i.prototype.buildTextValNode=function(t,e,r,n){if(!1!==this.options.cdataPropName&&e===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${t}]]>`+this.newLine;if(!1!==this.options.commentPropName&&e===this.options.commentPropName)return this.indentate(n)+`\\x3c!--${t}--\\x3e`+this.newLine;if(\"?\"===e[0])return this.indentate(n)+\"<\"+e+r+\"?\"+this.tagEndChar;{let s=this.options.tagValueProcessor(e,t);return s=this.replaceEntitiesValue(s),\"\"===s?this.indentate(n)+\"<\"+e+r+this.closeTag(e)+this.tagEndChar:this.indentate(n)+\"<\"+e+r+\">\"+s+\"</\"+e+this.tagEndChar}},i.prototype.replaceEntitiesValue=function(t){if(t&&t.length>0&&this.options.processEntities)for(let e=0;e<this.options.entities.length;e++){const r=this.options.entities[e];t=t.replace(r.regex,r.val)}return t},t.exports=i},2788:t=>{function e(t,o,a,c){let u=\"\",l=!1;for(let h=0;h<t.length;h++){const f=t[h],d=r(f);if(void 0===d)continue;let p=\"\";if(p=0===a.length?d:`${a}.${d}`,d===o.textNodeName){let t=f[d];s(p,o)||(t=o.tagValueProcessor(d,t),t=i(t,o)),l&&(u+=c),u+=t,l=!1;continue}if(d===o.cdataPropName){l&&(u+=c),u+=`<![CDATA[${f[d][0][o.textNodeName]}]]>`,l=!1;continue}if(d===o.commentPropName){u+=c+`\\x3c!--${f[d][0][o.textNodeName]}--\\x3e`,l=!0;continue}if(\"?\"===d[0]){const t=n(f[\":@\"],o),e=\"?xml\"===d?\"\":c;let r=f[d][0][o.textNodeName];r=0!==r.length?\" \"+r:\"\",u+=e+`<${d}${r}${t}?>`,l=!0;continue}let g=c;\"\"!==g&&(g+=o.indentBy);const y=c+`<${d}${n(f[\":@\"],o)}`,m=e(f[d],o,p,g);-1!==o.unpairedTags.indexOf(d)?o.suppressUnpairedNode?u+=y+\">\":u+=y+\"/>\":m&&0!==m.length||!o.suppressEmptyNode?m&&m.endsWith(\">\")?u+=y+`>${m}${c}</${d}>`:(u+=y+\">\",m&&\"\"!==c&&(m.includes(\"/>\")||m.includes(\"</\"))?u+=c+o.indentBy+m+c:u+=m,u+=`</${d}>`):u+=y+\"/>\",l=!0}return u}function r(t){const e=Object.keys(t);for(let r=0;r<e.length;r++){const n=e[r];if(t.hasOwnProperty(n)&&\":@\"!==n)return n}}function n(t,e){let r=\"\";if(t&&!e.ignoreAttributes)for(let n in t){if(!t.hasOwnProperty(n))continue;let s=e.attributeValueProcessor(n,t[n]);s=i(s,e),!0===s&&e.suppressBooleanAttributes?r+=` ${n.substr(e.attributeNamePrefix.length)}`:r+=` ${n.substr(e.attributeNamePrefix.length)}=\"${s}\"`}return r}function s(t,e){let r=(t=t.substr(0,t.length-e.textNodeName.length-1)).substr(t.lastIndexOf(\".\")+1);for(let n in e.stopNodes)if(e.stopNodes[n]===t||e.stopNodes[n]===\"*.\"+r)return!0;return!1}function i(t,e){if(t&&t.length>0&&e.processEntities)for(let r=0;r<e.entities.length;r++){const n=e.entities[r];t=t.replace(n.regex,n.val)}return t}t.exports=function(t,r){let n=\"\";return r.format&&r.indentBy.length>0&&(n=\"\\n\"),e(t,r,\"\",n)}},9400:(t,e,r)=>{const n=r(5334);function s(t,e){let r=\"\";for(;e<t.length&&\"'\"!==t[e]&&'\"'!==t[e];e++)r+=t[e];if(r=r.trim(),-1!==r.indexOf(\" \"))throw new Error(\"External entites are not supported\");const n=t[e++];let s=\"\";for(;e<t.length&&t[e]!==n;e++)s+=t[e];return[r,s,e]}function i(t,e){return\"!\"===t[e+1]&&\"-\"===t[e+2]&&\"-\"===t[e+3]}function o(t,e){return\"!\"===t[e+1]&&\"E\"===t[e+2]&&\"N\"===t[e+3]&&\"T\"===t[e+4]&&\"I\"===t[e+5]&&\"T\"===t[e+6]&&\"Y\"===t[e+7]}function a(t,e){return\"!\"===t[e+1]&&\"E\"===t[e+2]&&\"L\"===t[e+3]&&\"E\"===t[e+4]&&\"M\"===t[e+5]&&\"E\"===t[e+6]&&\"N\"===t[e+7]&&\"T\"===t[e+8]}function c(t,e){return\"!\"===t[e+1]&&\"A\"===t[e+2]&&\"T\"===t[e+3]&&\"T\"===t[e+4]&&\"L\"===t[e+5]&&\"I\"===t[e+6]&&\"S\"===t[e+7]&&\"T\"===t[e+8]}function u(t,e){return\"!\"===t[e+1]&&\"N\"===t[e+2]&&\"O\"===t[e+3]&&\"T\"===t[e+4]&&\"A\"===t[e+5]&&\"T\"===t[e+6]&&\"I\"===t[e+7]&&\"O\"===t[e+8]&&\"N\"===t[e+9]}function l(t){if(n.isName(t))return t;throw new Error(`Invalid entity name ${t}`)}t.exports=function(t,e){const r={};if(\"O\"!==t[e+3]||\"C\"!==t[e+4]||\"T\"!==t[e+5]||\"Y\"!==t[e+6]||\"P\"!==t[e+7]||\"E\"!==t[e+8])throw new Error(\"Invalid Tag instead of DOCTYPE\");{e+=9;let n=1,h=!1,f=!1,d=\"\";for(;e<t.length;e++)if(\"<\"!==t[e]||f)if(\">\"===t[e]){if(f?\"-\"===t[e-1]&&\"-\"===t[e-2]&&(f=!1,n--):n--,0===n)break}else\"[\"===t[e]?h=!0:d+=t[e];else{if(h&&o(t,e))e+=7,[entityName,val,e]=s(t,e+1),-1===val.indexOf(\"&\")&&(r[l(entityName)]={regx:RegExp(`&${entityName};`,\"g\"),val});else if(h&&a(t,e))e+=8;else if(h&&c(t,e))e+=8;else if(h&&u(t,e))e+=9;else{if(!i)throw new Error(\"Invalid DOCTYPE\");f=!0}n++,d=\"\"}if(0!==n)throw new Error(\"Unclosed DOCTYPE\")}return{entities:r,i:e}}},460:(t,e)=>{const r={preserveOrder:!1,attributeNamePrefix:\"@_\",attributesGroupName:!1,textNodeName:\"#text\",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,r){return t}};e.buildOptions=function(t){return Object.assign({},r,t)},e.defaultOptions=r},7680:(t,e,r)=>{\"use strict\";const n=r(5334),s=r(3832),i=r(9400),o=r(7983);function a(t){const e=Object.keys(t);for(let r=0;r<e.length;r++){const n=e[r];this.lastEntities[n]={regex:new RegExp(\"&\"+n+\";\",\"g\"),val:t[n]}}}function c(t,e,r,n,s,i,o){if(void 0!==t&&(this.options.trimValues&&!n&&(t=t.trim()),t.length>0)){o||(t=this.replaceEntitiesValue(t));const n=this.options.tagValueProcessor(e,t,r,s,i);if(null==n)return t;if(typeof n!=typeof t||n!==t)return n;if(this.options.trimValues)return v(t,this.options.parseTagValue,this.options.numberParseOptions);return t.trim()===t?v(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function u(t){if(this.options.removeNSPrefix){const e=t.split(\":\"),r=\"/\"===t.charAt(0)?\"/\":\"\";if(\"xmlns\"===e[0])return\"\";2===e.length&&(t=r+e[1])}return t}const l=new RegExp(\"([^\\\\s=]+)\\\\s*(=\\\\s*(['\\\"])([\\\\s\\\\S]*?)\\\\3)?\",\"gm\");function h(t,e,r){if(!this.options.ignoreAttributes&&\"string\"==typeof t){const r=n.getAllMatches(t,l),s=r.length,i={};for(let t=0;t<s;t++){const n=this.resolveNameSpace(r[t][1]);let s=r[t][4],o=this.options.attributeNamePrefix+n;if(n.length)if(this.options.transformAttributeName&&(o=this.options.transformAttributeName(o)),\"__proto__\"===o&&(o=\"#__proto__\"),void 0!==s){this.options.trimValues&&(s=s.trim()),s=this.replaceEntitiesValue(s);const t=this.options.attributeValueProcessor(n,s,e);i[o]=null==t?s:typeof t!=typeof s||t!==s?t:v(s,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(i[o]=!0)}if(!Object.keys(i).length)return;if(this.options.attributesGroupName){const t={};return t[this.options.attributesGroupName]=i,t}return i}}const f=function(t){t=t.replace(/\\r\\n?/g,\"\\n\");const e=new s(\"!xml\");let r=e,n=\"\",o=\"\";for(let a=0;a<t.length;a++){if(\"<\"===t[a])if(\"/\"===t[a+1]){const e=m(t,\">\",a,\"Closing Tag is not closed.\");let s=t.substring(a+2,e).trim();if(this.options.removeNSPrefix){const t=s.indexOf(\":\");-1!==t&&(s=s.substr(t+1))}this.options.transformTagName&&(s=this.options.transformTagName(s)),r&&(n=this.saveTextToParentTag(n,r,o));const i=o.substring(o.lastIndexOf(\".\")+1);if(s&&-1!==this.options.unpairedTags.indexOf(s))throw new Error(`Unpaired tag can not be used as closing tag: </${s}>`);let c=0;i&&-1!==this.options.unpairedTags.indexOf(i)?(c=o.lastIndexOf(\".\",o.lastIndexOf(\".\")-1),this.tagsNodeStack.pop()):c=o.lastIndexOf(\".\"),o=o.substring(0,c),r=this.tagsNodeStack.pop(),n=\"\",a=e}else if(\"?\"===t[a+1]){let e=w(t,a,!1,\"?>\");if(!e)throw new Error(\"Pi Tag is not closed.\");if(n=this.saveTextToParentTag(n,r,o),this.options.ignoreDeclaration&&\"?xml\"===e.tagName||this.options.ignorePiTags);else{const t=new s(e.tagName);t.add(this.options.textNodeName,\"\"),e.tagName!==e.tagExp&&e.attrExpPresent&&(t[\":@\"]=this.buildAttributesMap(e.tagExp,o,e.tagName)),this.addChild(r,t,o)}a=e.closeIndex+1}else if(\"!--\"===t.substr(a+1,3)){const e=m(t,\"--\\x3e\",a+4,\"Comment is not closed.\");if(this.options.commentPropName){const s=t.substring(a+4,e-2);n=this.saveTextToParentTag(n,r,o),r.add(this.options.commentPropName,[{[this.options.textNodeName]:s}])}a=e}else if(\"!D\"===t.substr(a+1,2)){const e=i(t,a);this.docTypeEntities=e.entities,a=e.i}else if(\"![\"===t.substr(a+1,2)){const e=m(t,\"]]>\",a,\"CDATA is not closed.\")-2,s=t.substring(a+9,e);n=this.saveTextToParentTag(n,r,o);let i=this.parseTextData(s,r.tagname,o,!0,!1,!0,!0);null==i&&(i=\"\"),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:s}]):r.add(this.options.textNodeName,i),a=e+2}else{let i=w(t,a,this.options.removeNSPrefix),c=i.tagName;const u=i.rawTagName;let l=i.tagExp,h=i.attrExpPresent,f=i.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&\"!xml\"!==r.tagname&&(n=this.saveTextToParentTag(n,r,o,!1));const d=r;if(d&&-1!==this.options.unpairedTags.indexOf(d.tagname)&&(r=this.tagsNodeStack.pop(),o=o.substring(0,o.lastIndexOf(\".\"))),c!==e.tagname&&(o+=o?\".\"+c:c),this.isItStopNode(this.options.stopNodes,o,c)){let e=\"\";if(l.length>0&&l.lastIndexOf(\"/\")===l.length-1)a=i.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(c))a=i.closeIndex;else{const r=this.readStopNodeData(t,u,f+1);if(!r)throw new Error(`Unexpected end of ${u}`);a=r.i,e=r.tagContent}const n=new s(c);c!==l&&h&&(n[\":@\"]=this.buildAttributesMap(l,o,c)),e&&(e=this.parseTextData(e,c,o,!0,h,!0,!0)),o=o.substr(0,o.lastIndexOf(\".\")),n.add(this.options.textNodeName,e),this.addChild(r,n,o)}else{if(l.length>0&&l.lastIndexOf(\"/\")===l.length-1){\"/\"===c[c.length-1]?(c=c.substr(0,c.length-1),o=o.substr(0,o.length-1),l=c):l=l.substr(0,l.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));const t=new s(c);c!==l&&h&&(t[\":@\"]=this.buildAttributesMap(l,o,c)),this.addChild(r,t,o),o=o.substr(0,o.lastIndexOf(\".\"))}else{const t=new s(c);this.tagsNodeStack.push(r),c!==l&&h&&(t[\":@\"]=this.buildAttributesMap(l,o,c)),this.addChild(r,t,o),r=t}n=\"\",a=f}}else n+=t[a]}return e.child};function d(t,e,r){const n=this.options.updateTag(e.tagname,r,e[\":@\"]);!1===n||(\"string\"==typeof n?(e.tagname=n,t.addChild(e)):t.addChild(e))}const p=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){const r=this.docTypeEntities[e];t=t.replace(r.regx,r.val)}for(let e in this.lastEntities){const r=this.lastEntities[e];t=t.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){const r=this.htmlEntities[e];t=t.replace(r.regex,r.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t};function g(t,e,r,n){return t&&(void 0===n&&(n=0===Object.keys(e.child).length),void 0!==(t=this.parseTextData(t,e.tagname,r,!1,!!e[\":@\"]&&0!==Object.keys(e[\":@\"]).length,n))&&\"\"!==t&&e.add(this.options.textNodeName,t),t=\"\"),t}function y(t,e,r){const n=\"*.\"+r;for(const r in t){const s=t[r];if(n===s||e===s)return!0}return!1}function m(t,e,r,n){const s=t.indexOf(e,r);if(-1===s)throw new Error(n);return s+e.length-1}function w(t,e,r,n=\">\"){const s=function(t,e,r=\">\"){let n,s=\"\";for(let i=e;i<t.length;i++){let e=t[i];if(n)e===n&&(n=\"\");else if('\"'===e||\"'\"===e)n=e;else if(e===r[0]){if(!r[1])return{data:s,index:i};if(t[i+1]===r[1])return{data:s,index:i}}else\"\\t\"===e&&(e=\" \");s+=e}}(t,e+1,n);if(!s)return;let i=s.data;const o=s.index,a=i.search(/\\s/);let c=i,u=!0;-1!==a&&(c=i.substring(0,a),i=i.substring(a+1).trimStart());const l=c;if(r){const t=c.indexOf(\":\");-1!==t&&(c=c.substr(t+1),u=c!==s.data.substr(t+1))}return{tagName:c,tagExp:i,closeIndex:o,attrExpPresent:u,rawTagName:l}}function b(t,e,r){const n=r;let s=1;for(;r<t.length;r++)if(\"<\"===t[r])if(\"/\"===t[r+1]){const i=m(t,\">\",r,`${e} is not closed`);if(t.substring(r+2,i).trim()===e&&(s--,0===s))return{tagContent:t.substring(n,r),i};r=i}else if(\"?\"===t[r+1]){r=m(t,\"?>\",r+1,\"StopNode is not closed.\")}else if(\"!--\"===t.substr(r+1,3)){r=m(t,\"--\\x3e\",r+3,\"StopNode is not closed.\")}else if(\"![\"===t.substr(r+1,2)){r=m(t,\"]]>\",r,\"StopNode is not closed.\")-2}else{const n=w(t,r,\">\");if(n){(n&&n.tagName)===e&&\"/\"!==n.tagExp[n.tagExp.length-1]&&s++,r=n.closeIndex}}}function v(t,e,r){if(e&&\"string\"==typeof t){const e=t.trim();return\"true\"===e||\"false\"!==e&&o(t,r)}return n.isExist(t)?t:\"\"}t.exports=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:\"'\"},gt:{regex:/&(gt|#62|#x3E);/g,val:\">\"},lt:{regex:/&(lt|#60|#x3C);/g,val:\"<\"},quot:{regex:/&(quot|#34|#x22);/g,val:'\"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:\"&\"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:\" \"},cent:{regex:/&(cent|#162);/g,val:\"\"},pound:{regex:/&(pound|#163);/g,val:\"\"},yen:{regex:/&(yen|#165);/g,val:\"\"},euro:{regex:/&(euro|#8364);/g,val:\"\"},copyright:{regex:/&(copy|#169);/g,val:\"\"},reg:{regex:/&(reg|#174);/g,val:\"\"},inr:{regex:/&(inr|#8377);/g,val:\"\"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(t,e)=>String.fromCharCode(Number.parseInt(e,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(t,e)=>String.fromCharCode(Number.parseInt(e,16))}},this.addExternalEntities=a,this.parseXml=f,this.parseTextData=c,this.resolveNameSpace=u,this.buildAttributesMap=h,this.isItStopNode=y,this.replaceEntitiesValue=p,this.readStopNodeData=b,this.saveTextToParentTag=g,this.addChild=d}}},2923:(t,e,r)=>{const{buildOptions:n}=r(460),s=r(7680),{prettify:i}=r(5629),o=r(3918);t.exports=class{constructor(t){this.externalEntities={},this.options=n(t)}parse(t,e){if(\"string\"==typeof t);else{if(!t.toString)throw new Error(\"XML data is accepted in String or Bytes[] form.\");t=t.toString()}if(e){!0===e&&(e={});const r=o.validate(t,e);if(!0!==r)throw Error(`${r.err.msg}:${r.err.line}:${r.err.col}`)}const r=new s(this.options);r.addExternalEntities(this.externalEntities);const n=r.parseXml(t);return this.options.preserveOrder||void 0===n?n:i(n,this.options)}addEntity(t,e){if(-1!==e.indexOf(\"&\"))throw new Error(\"Entity value can't have '&'\");if(-1!==t.indexOf(\"&\")||-1!==t.indexOf(\";\"))throw new Error(\"An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'\");if(\"&\"===e)throw new Error(\"An entity with value '&' is not permitted\");this.externalEntities[t]=e}}},5629:(t,e)=>{\"use strict\";function r(t,e,o){let a;const c={};for(let u=0;u<t.length;u++){const l=t[u],h=n(l);let f=\"\";if(f=void 0===o?h:o+\".\"+h,h===e.textNodeName)void 0===a?a=l[h]:a+=\"\"+l[h];else{if(void 0===h)continue;if(l[h]){let t=r(l[h],e,f);const n=i(t,e);l[\":@\"]?s(t,l[\":@\"],f,e):1!==Object.keys(t).length||void 0===t[e.textNodeName]||e.alwaysCreateTextNode?0===Object.keys(t).length&&(e.alwaysCreateTextNode?t[e.textNodeName]=\"\":t=\"\"):t=t[e.textNodeName],void 0!==c[h]&&c.hasOwnProperty(h)?(Array.isArray(c[h])||(c[h]=[c[h]]),c[h].push(t)):e.isArray(h,f,n)?c[h]=[t]:c[h]=t}}}return\"string\"==typeof a?a.length>0&&(c[e.textNodeName]=a):void 0!==a&&(c[e.textNodeName]=a),c}function n(t){const e=Object.keys(t);for(let t=0;t<e.length;t++){const r=e[t];if(\":@\"!==r)return r}}function s(t,e,r,n){if(e){const s=Object.keys(e),i=s.length;for(let o=0;o<i;o++){const i=s[o];n.isArray(i,r+\".\"+i,!0,!0)?t[i]=[e[i]]:t[i]=e[i]}}}function i(t,e){const{textNodeName:r}=e,n=Object.keys(t).length;return 0===n||!(1!==n||!t[r]&&\"boolean\"!=typeof t[r]&&0!==t[r])}e.prettify=function(t,e){return r(t,e)}},3832:t=>{\"use strict\";t.exports=class{constructor(t){this.tagname=t,this.child=[],this[\":@\"]={}}add(t,e){\"__proto__\"===t&&(t=\"#__proto__\"),this.child.push({[t]:e})}addChild(t){\"__proto__\"===t.tagname&&(t.tagname=\"#__proto__\"),t[\":@\"]&&Object.keys(t[\":@\"]).length>0?this.child.push({[t.tagname]:t.child,\":@\":t[\":@\"]}):this.child.push({[t.tagname]:t.child})}}},251:(t,e)=>{e.read=function(t,e,r,n,s){var i,o,a=8*s-n-1,c=(1<<a)-1,u=c>>1,l=-7,h=r?s-1:0,f=r?-1:1,d=t[e+h];for(h+=f,i=d&(1<<-l)-1,d>>=-l,l+=a;l>0;i=256*i+t[e+h],h+=f,l-=8);for(o=i&(1<<-l)-1,i>>=-l,l+=n;l>0;o=256*o+t[e+h],h+=f,l-=8);if(0===i)i=1-u;else{if(i===c)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,n),i-=u}return(d?-1:1)*o*Math.pow(2,i-n)},e.write=function(t,e,r,n,s,i){var o,a,c,u=8*i-s-1,l=(1<<u)-1,h=l>>1,f=23===s?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:i-1,p=n?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),(e+=o+h>=1?f/c:f*Math.pow(2,1-h))*c>=2&&(o++,c/=2),o+h>=l?(a=0,o=l):o+h>=1?(a=(e*c-1)*Math.pow(2,s),o+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,s),o=0));s>=8;t[r+d]=255&a,d+=p,a/=256,s-=8);for(o=o<<s|a,u+=s;u>0;t[r+d]=255&o,d+=p,o/=256,u-=8);t[r+d-p]|=128*g}},1843:(t,e,r)=>{\"use strict\";const{ErrorWithCause:n}=r(5832),{findCauseByReference:s,getErrorCause:i,messageWithCauses:o,stackWithCauses:a}=r(4306);t.exports={ErrorWithCause:n,findCauseByReference:s,getErrorCause:i,stackWithCauses:a,messageWithCauses:o}},5832:t=>{\"use strict\";class e extends Error{constructor(t,{cause:r}={}){super(t),this.name=e.name,r&&(this.cause=r),this.message=t}}t.exports={ErrorWithCause:e}},4306:t=>{\"use strict\";const e=t=>{if(t&&\"object\"==typeof t&&\"cause\"in t){if(\"function\"==typeof t.cause){const e=t.cause();return e instanceof Error?e:void 0}return t.cause instanceof Error?t.cause:void 0}},r=(t,n)=>{if(!(t instanceof Error))return\"\";const s=t.stack||\"\";if(n.has(t))return s+\"\\ncauses have become circular...\";const i=e(t);return i?(n.add(t),s+\"\\ncaused by: \"+r(i,n)):s},n=(t,r,s)=>{if(!(t instanceof Error))return\"\";const i=s?\"\":t.message||\"\";if(r.has(t))return i+\": ...\";const o=e(t);if(o){r.add(t);const e=\"cause\"in t&&\"function\"==typeof t.cause;return i+(e?\"\":\": \")+n(o,r,e)}return i};t.exports={findCauseByReference:(t,r)=>{if(!t||!r)return;if(!(t instanceof Error))return;if(!(r.prototype instanceof Error)&&r!==Error)return;const n=new Set;let s=t;for(;s&&!n.has(s);){if(n.add(s),s instanceof r)return s;s=e(s)}},getErrorCause:e,stackWithCauses:t=>r(t,new Set),messageWithCauses:t=>n(t,new Set)}},3904:(t,e,r)=>{const n=Symbol(\"SemVer ANY\");class s{static get ANY(){return n}constructor(t,e){if(e=i(e),t instanceof s){if(t.loose===!!e.loose)return t;t=t.value}t=t.trim().split(/\\s+/).join(\" \"),u(\"comparator\",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.semver===n?this.value=\"\":this.value=this.operator+this.semver.version,u(\"comp\",this)}parse(t){const e=this.options.loose?o[a.COMPARATORLOOSE]:o[a.COMPARATOR],r=t.match(e);if(!r)throw new TypeError(`Invalid comparator: ${t}`);this.operator=void 0!==r[1]?r[1]:\"\",\"=\"===this.operator&&(this.operator=\"\"),r[2]?this.semver=new l(r[2],this.options.loose):this.semver=n}toString(){return this.value}test(t){if(u(\"Comparator.test\",t,this.options.loose),this.semver===n||t===n)return!0;if(\"string\"==typeof t)try{t=new l(t,this.options)}catch(t){return!1}return c(t,this.operator,this.semver,this.options)}intersects(t,e){if(!(t instanceof s))throw new TypeError(\"a Comparator is required\");return\"\"===this.operator?\"\"===this.value||new h(t.value,e).test(this.value):\"\"===t.operator?\"\"===t.value||new h(this.value,e).test(t.semver):(!(e=i(e)).includePrerelease||\"<0.0.0-0\"!==this.value&&\"<0.0.0-0\"!==t.value)&&(!(!e.includePrerelease&&(this.value.startsWith(\"<0.0.0\")||t.value.startsWith(\"<0.0.0\")))&&(!(!this.operator.startsWith(\">\")||!t.operator.startsWith(\">\"))||(!(!this.operator.startsWith(\"<\")||!t.operator.startsWith(\"<\"))||(!(this.semver.version!==t.semver.version||!this.operator.includes(\"=\")||!t.operator.includes(\"=\"))||(!!(c(this.semver,\"<\",t.semver,e)&&this.operator.startsWith(\">\")&&t.operator.startsWith(\"<\"))||!!(c(this.semver,\">\",t.semver,e)&&this.operator.startsWith(\"<\")&&t.operator.startsWith(\">\")))))))}}t.exports=s;const i=r(8587),{safeRe:o,t:a}=r(9718),c=r(2111),u=r(7272),l=r(3908),h=r(8311)},8311:(t,e,r)=>{class n{constructor(t,e){if(e=i(e),t instanceof n)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new n(t.raw,e);if(t instanceof o)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t.trim().split(/\\s+/).join(\" \"),this.set=this.raw.split(\"||\").map((t=>this.parseRange(t.trim()))).filter((t=>t.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const t=this.set[0];if(this.set=this.set.filter((t=>!y(t[0]))),0===this.set.length)this.set=[t];else if(this.set.length>1)for(const t of this.set)if(1===t.length&&m(t[0])){this.set=[t];break}}this.format()}format(){return this.range=this.set.map((t=>t.join(\" \").trim())).join(\"||\").trim(),this.range}toString(){return this.range}parseRange(t){const e=((this.options.includePrerelease&&p)|(this.options.loose&&g))+\":\"+t,r=s.get(e);if(r)return r;const n=this.options.loose,i=n?u[l.HYPHENRANGELOOSE]:u[l.HYPHENRANGE];t=t.replace(i,C(this.options.includePrerelease)),a(\"hyphen replace\",t),t=t.replace(u[l.COMPARATORTRIM],h),a(\"comparator trim\",t),t=t.replace(u[l.TILDETRIM],f),a(\"tilde trim\",t),t=t.replace(u[l.CARETTRIM],d),a(\"caret trim\",t);let c=t.split(\" \").map((t=>b(t,this.options))).join(\" \").split(/\\s+/).map((t=>O(t,this.options)));n&&(c=c.filter((t=>(a(\"loose invalid filter\",t,this.options),!!t.match(u[l.COMPARATORLOOSE]))))),a(\"range list\",c);const m=new Map,w=c.map((t=>new o(t,this.options)));for(const t of w){if(y(t))return[t];m.set(t.value,t)}m.size>1&&m.has(\"\")&&m.delete(\"\");const v=[...m.values()];return s.set(e,v),v}intersects(t,e){if(!(t instanceof n))throw new TypeError(\"a Range is required\");return this.set.some((r=>w(r,e)&&t.set.some((t=>w(t,e)&&r.every((r=>t.every((t=>r.intersects(t,e)))))))))}test(t){if(!t)return!1;if(\"string\"==typeof t)try{t=new c(t,this.options)}catch(t){return!1}for(let e=0;e<this.set.length;e++)if(P(this.set[e],t,this.options))return!0;return!1}}t.exports=n;const s=new(r(8357))({max:1e3}),i=r(8587),o=r(3904),a=r(7272),c=r(3908),{safeRe:u,t:l,comparatorTrimReplace:h,tildeTrimReplace:f,caretTrimReplace:d}=r(9718),{FLAG_INCLUDE_PRERELEASE:p,FLAG_LOOSE:g}=r(6874),y=t=>\"<0.0.0-0\"===t.value,m=t=>\"\"===t.value,w=(t,e)=>{let r=!0;const n=t.slice();let s=n.pop();for(;r&&n.length;)r=n.every((t=>s.intersects(t,e))),s=n.pop();return r},b=(t,e)=>(a(\"comp\",t,e),t=x(t,e),a(\"caret\",t),t=A(t,e),a(\"tildes\",t),t=I(t,e),a(\"xrange\",t),t=N(t,e),a(\"stars\",t),t),v=t=>!t||\"x\"===t.toLowerCase()||\"*\"===t,A=(t,e)=>t.trim().split(/\\s+/).map((t=>E(t,e))).join(\" \"),E=(t,e)=>{const r=e.loose?u[l.TILDELOOSE]:u[l.TILDE];return t.replace(r,((e,r,n,s,i)=>{let o;return a(\"tilde\",t,e,r,n,s,i),v(r)?o=\"\":v(n)?o=`>=${r}.0.0 <${+r+1}.0.0-0`:v(s)?o=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:i?(a(\"replaceTilde pr\",i),o=`>=${r}.${n}.${s}-${i} <${r}.${+n+1}.0-0`):o=`>=${r}.${n}.${s} <${r}.${+n+1}.0-0`,a(\"tilde return\",o),o}))},x=(t,e)=>t.trim().split(/\\s+/).map((t=>R(t,e))).join(\" \"),R=(t,e)=>{a(\"caret\",t,e);const r=e.loose?u[l.CARETLOOSE]:u[l.CARET],n=e.includePrerelease?\"-0\":\"\";return t.replace(r,((e,r,s,i,o)=>{let c;return a(\"caret\",t,e,r,s,i,o),v(r)?c=\"\":v(s)?c=`>=${r}.0.0${n} <${+r+1}.0.0-0`:v(i)?c=\"0\"===r?`>=${r}.${s}.0${n} <${r}.${+s+1}.0-0`:`>=${r}.${s}.0${n} <${+r+1}.0.0-0`:o?(a(\"replaceCaret pr\",o),c=\"0\"===r?\"0\"===s?`>=${r}.${s}.${i}-${o} <${r}.${s}.${+i+1}-0`:`>=${r}.${s}.${i}-${o} <${r}.${+s+1}.0-0`:`>=${r}.${s}.${i}-${o} <${+r+1}.0.0-0`):(a(\"no pr\"),c=\"0\"===r?\"0\"===s?`>=${r}.${s}.${i}${n} <${r}.${s}.${+i+1}-0`:`>=${r}.${s}.${i}${n} <${r}.${+s+1}.0-0`:`>=${r}.${s}.${i} <${+r+1}.0.0-0`),a(\"caret return\",c),c}))},I=(t,e)=>(a(\"replaceXRanges\",t,e),t.split(/\\s+/).map((t=>S(t,e))).join(\" \")),S=(t,e)=>{t=t.trim();const r=e.loose?u[l.XRANGELOOSE]:u[l.XRANGE];return t.replace(r,((r,n,s,i,o,c)=>{a(\"xRange\",t,r,n,s,i,o,c);const u=v(s),l=u||v(i),h=l||v(o),f=h;return\"=\"===n&&f&&(n=\"\"),c=e.includePrerelease?\"-0\":\"\",u?r=\">\"===n||\"<\"===n?\"<0.0.0-0\":\"*\":n&&f?(l&&(i=0),o=0,\">\"===n?(n=\">=\",l?(s=+s+1,i=0,o=0):(i=+i+1,o=0)):\"<=\"===n&&(n=\"<\",l?s=+s+1:i=+i+1),\"<\"===n&&(c=\"-0\"),r=`${n+s}.${i}.${o}${c}`):l?r=`>=${s}.0.0${c} <${+s+1}.0.0-0`:h&&(r=`>=${s}.${i}.0${c} <${s}.${+i+1}.0-0`),a(\"xRange return\",r),r}))},N=(t,e)=>(a(\"replaceStars\",t,e),t.trim().replace(u[l.STAR],\"\")),O=(t,e)=>(a(\"replaceGTE0\",t,e),t.trim().replace(u[e.includePrerelease?l.GTE0PRE:l.GTE0],\"\")),C=t=>(e,r,n,s,i,o,a,c,u,l,h,f,d)=>`${r=v(n)?\"\":v(s)?`>=${n}.0.0${t?\"-0\":\"\"}`:v(i)?`>=${n}.${s}.0${t?\"-0\":\"\"}`:o?`>=${r}`:`>=${r}${t?\"-0\":\"\"}`} ${c=v(u)?\"\":v(l)?`<${+u+1}.0.0-0`:v(h)?`<${u}.${+l+1}.0-0`:f?`<=${u}.${l}.${h}-${f}`:t?`<${u}.${l}.${+h+1}-0`:`<=${c}`}`.trim(),P=(t,e,r)=>{for(let r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let r=0;r<t.length;r++)if(a(t[r].semver),t[r].semver!==o.ANY&&t[r].semver.prerelease.length>0){const n=t[r].semver;if(n.major===e.major&&n.minor===e.minor&&n.patch===e.patch)return!0}return!1}return!0}},3908:(t,e,r)=>{const n=r(7272),{MAX_LENGTH:s,MAX_SAFE_INTEGER:i}=r(6874),{safeRe:o,t:a}=r(9718),c=r(8587),{compareIdentifiers:u}=r(1123);class l{constructor(t,e){if(e=c(e),t instanceof l){if(t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease)return t;t=t.version}else if(\"string\"!=typeof t)throw new TypeError(`Invalid version. Must be a string. Got type \"${typeof t}\".`);if(t.length>s)throw new TypeError(`version is longer than ${s} characters`);n(\"SemVer\",t,e),this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease;const r=t.trim().match(e.loose?o[a.LOOSE]:o[a.FULL]);if(!r)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>i||this.major<0)throw new TypeError(\"Invalid major version\");if(this.minor>i||this.minor<0)throw new TypeError(\"Invalid minor version\");if(this.patch>i||this.patch<0)throw new TypeError(\"Invalid patch version\");r[4]?this.prerelease=r[4].split(\".\").map((t=>{if(/^[0-9]+$/.test(t)){const e=+t;if(e>=0&&e<i)return e}return t})):this.prerelease=[],this.build=r[5]?r[5].split(\".\"):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(\".\")}`),this.version}toString(){return this.version}compare(t){if(n(\"SemVer.compare\",this.version,this.options,t),!(t instanceof l)){if(\"string\"==typeof t&&t===this.version)return 0;t=new l(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof l||(t=new l(t,this.options)),u(this.major,t.major)||u(this.minor,t.minor)||u(this.patch,t.patch)}comparePre(t){if(t instanceof l||(t=new l(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let e=0;do{const r=this.prerelease[e],s=t.prerelease[e];if(n(\"prerelease compare\",e,r,s),void 0===r&&void 0===s)return 0;if(void 0===s)return 1;if(void 0===r)return-1;if(r!==s)return u(r,s)}while(++e)}compareBuild(t){t instanceof l||(t=new l(t,this.options));let e=0;do{const r=this.build[e],s=t.build[e];if(n(\"prerelease compare\",e,r,s),void 0===r&&void 0===s)return 0;if(void 0===s)return 1;if(void 0===r)return-1;if(r!==s)return u(r,s)}while(++e)}inc(t,e,r){switch(t){case\"premajor\":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc(\"pre\",e,r);break;case\"preminor\":this.prerelease.length=0,this.patch=0,this.minor++,this.inc(\"pre\",e,r);break;case\"prepatch\":this.prerelease.length=0,this.inc(\"patch\",e,r),this.inc(\"pre\",e,r);break;case\"prerelease\":0===this.prerelease.length&&this.inc(\"patch\",e,r),this.inc(\"pre\",e,r);break;case\"major\":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case\"minor\":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case\"patch\":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case\"pre\":{const t=Number(r)?1:0;if(!e&&!1===r)throw new Error(\"invalid increment argument: identifier is empty\");if(0===this.prerelease.length)this.prerelease=[t];else{let n=this.prerelease.length;for(;--n>=0;)\"number\"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(e===this.prerelease.join(\".\")&&!1===r)throw new Error(\"invalid increment argument: identifier already exists\");this.prerelease.push(t)}}if(e){let n=[e,t];!1===r&&(n=[e]),0===u(this.prerelease[0],e)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(\".\")}`),this}}t.exports=l},7414:(t,e,r)=>{const n=r(144);t.exports=(t,e)=>{const r=n(t.trim().replace(/^[=v]+/,\"\"),e);return r?r.version:null}},2111:(t,e,r)=>{const n=r(4641),s=r(3999),i=r(5580),o=r(4089),a=r(7059),c=r(5200);t.exports=(t,e,r,u)=>{switch(e){case\"===\":return\"object\"==typeof t&&(t=t.version),\"object\"==typeof r&&(r=r.version),t===r;case\"!==\":return\"object\"==typeof t&&(t=t.version),\"object\"==typeof r&&(r=r.version),t!==r;case\"\":case\"=\":case\"==\":return n(t,r,u);case\"!=\":return s(t,r,u);case\">\":return i(t,r,u);case\">=\":return o(t,r,u);case\"<\":return a(t,r,u);case\"<=\":return c(t,r,u);default:throw new TypeError(`Invalid operator: ${e}`)}}},6170:(t,e,r)=>{const n=r(3908),s=r(144),{safeRe:i,t:o}=r(9718);t.exports=(t,e)=>{if(t instanceof n)return t;if(\"number\"==typeof t&&(t=String(t)),\"string\"!=typeof t)return null;let r=null;if((e=e||{}).rtl){const n=e.includePrerelease?i[o.COERCERTLFULL]:i[o.COERCERTL];let s;for(;(s=n.exec(t))&&(!r||r.index+r[0].length!==t.length);)r&&s.index+s[0].length===r.index+r[0].length||(r=s),n.lastIndex=s.index+s[1].length+s[2].length;n.lastIndex=-1}else r=t.match(e.includePrerelease?i[o.COERCEFULL]:i[o.COERCE]);if(null===r)return null;const a=r[2],c=r[3]||\"0\",u=r[4]||\"0\",l=e.includePrerelease&&r[5]?`-${r[5]}`:\"\",h=e.includePrerelease&&r[6]?`+${r[6]}`:\"\";return s(`${a}.${c}.${u}${l}${h}`,e)}},909:(t,e,r)=>{const n=r(3908);t.exports=(t,e,r)=>{const s=new n(t,r),i=new n(e,r);return s.compare(i)||s.compareBuild(i)}},1763:(t,e,r)=>{const n=r(560);t.exports=(t,e)=>n(t,e,!0)},560:(t,e,r)=>{const n=r(3908);t.exports=(t,e,r)=>new n(t,r).compare(new n(e,r))},1832:(t,e,r)=>{const n=r(144);t.exports=(t,e)=>{const r=n(t,null,!0),s=n(e,null,!0),i=r.compare(s);if(0===i)return null;const o=i>0,a=o?r:s,c=o?s:r,u=!!a.prerelease.length;if(!!c.prerelease.length&&!u)return c.patch||c.minor?a.patch?\"patch\":a.minor?\"minor\":\"major\":\"major\";const l=u?\"pre\":\"\";return r.major!==s.major?l+\"major\":r.minor!==s.minor?l+\"minor\":r.patch!==s.patch?l+\"patch\":\"prerelease\"}},4641:(t,e,r)=>{const n=r(560);t.exports=(t,e,r)=>0===n(t,e,r)},5580:(t,e,r)=>{const n=r(560);t.exports=(t,e,r)=>n(t,e,r)>0},4089:(t,e,r)=>{const n=r(560);t.exports=(t,e,r)=>n(t,e,r)>=0},3007:(t,e,r)=>{const n=r(3908);t.exports=(t,e,r,s,i)=>{\"string\"==typeof r&&(i=s,s=r,r=void 0);try{return new n(t instanceof n?t.version:t,r).inc(e,s,i).version}catch(t){return null}}},7059:(t,e,r)=>{const n=r(560);t.exports=(t,e,r)=>n(t,e,r)<0},5200:(t,e,r)=>{const n=r(560);t.exports=(t,e,r)=>n(t,e,r)<=0},2938:(t,e,r)=>{const n=r(3908);t.exports=(t,e)=>new n(t,e).major},6254:(t,e,r)=>{const n=r(3908);t.exports=(t,e)=>new n(t,e).minor},3999:(t,e,r)=>{const n=r(560);t.exports=(t,e,r)=>0!==n(t,e,r)},144:(t,e,r)=>{const n=r(3908);t.exports=(t,e,r=!1)=>{if(t instanceof n)return t;try{return new n(t,e)}catch(t){if(!r)return null;throw t}}},4493:(t,e,r)=>{const n=r(3908);t.exports=(t,e)=>new n(t,e).patch},1729:(t,e,r)=>{const n=r(144);t.exports=(t,e)=>{const r=n(t,e);return r&&r.prerelease.length?r.prerelease:null}},9970:(t,e,r)=>{const n=r(560);t.exports=(t,e,r)=>n(e,t,r)},4277:(t,e,r)=>{const n=r(909);t.exports=(t,e)=>t.sort(((t,r)=>n(r,t,e)))},7638:(t,e,r)=>{const n=r(8311);t.exports=(t,e,r)=>{try{e=new n(e,r)}catch(t){return!1}return e.test(t)}},3927:(t,e,r)=>{const n=r(909);t.exports=(t,e)=>t.sort(((t,r)=>n(t,r,e)))},6953:(t,e,r)=>{const n=r(144);t.exports=(t,e)=>{const r=n(t,e);return r?r.version:null}},9589:(t,e,r)=>{const n=r(9718),s=r(6874),i=r(3908),o=r(1123),a=r(144),c=r(6953),u=r(7414),l=r(3007),h=r(1832),f=r(2938),d=r(6254),p=r(4493),g=r(1729),y=r(560),m=r(9970),w=r(1763),b=r(909),v=r(3927),A=r(4277),E=r(5580),x=r(7059),R=r(4641),I=r(3999),S=r(4089),N=r(5200),O=r(2111),C=r(6170),P=r(3904),B=r(8311),k=r(7638),T=r(7631),L=r(9628),U=r(270),F=r(1261),M=r(3874),D=r(7075),j=r(5571),_=r(5342),G=r(6780),$=r(2525),H=r(5032);t.exports={parse:a,valid:c,clean:u,inc:l,diff:h,major:f,minor:d,patch:p,prerelease:g,compare:y,rcompare:m,compareLoose:w,compareBuild:b,sort:v,rsort:A,gt:E,lt:x,eq:R,neq:I,gte:S,lte:N,cmp:O,coerce:C,Comparator:P,Range:B,satisfies:k,toComparators:T,maxSatisfying:L,minSatisfying:U,minVersion:F,validRange:M,outside:D,gtr:j,ltr:_,intersects:G,simplifyRange:$,subset:H,SemVer:i,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:s.SEMVER_SPEC_VERSION,RELEASE_TYPES:s.RELEASE_TYPES,compareIdentifiers:o.compareIdentifiers,rcompareIdentifiers:o.rcompareIdentifiers}},6874:t=>{const e=Number.MAX_SAFE_INTEGER||9007199254740991;t.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:e,RELEASE_TYPES:[\"major\",\"premajor\",\"minor\",\"preminor\",\"patch\",\"prepatch\",\"prerelease\"],SEMVER_SPEC_VERSION:\"2.0.0\",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},7272:t=>{const e=\"object\"==typeof process&&process.env&&/\\bsemver\\b/i.test(\"false\")?(...t)=>console.error(\"SEMVER\",...t):()=>{};t.exports=e},1123:t=>{const e=/^[0-9]+$/,r=(t,r)=>{const n=e.test(t),s=e.test(r);return n&&s&&(t=+t,r=+r),t===r?0:n&&!s?-1:s&&!n?1:t<r?-1:1};t.exports={compareIdentifiers:r,rcompareIdentifiers:(t,e)=>r(e,t)}},8587:t=>{const e=Object.freeze({loose:!0}),r=Object.freeze({});t.exports=t=>t?\"object\"!=typeof t?e:t:r},9718:(t,e,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:s,MAX_LENGTH:i}=r(6874),o=r(7272),a=(e=t.exports={}).re=[],c=e.safeRe=[],u=e.src=[],l=e.t={};let h=0;const f=\"[a-zA-Z0-9-]\",d=[[\"\\\\s\",1],[\"\\\\d\",i],[f,s]],p=(t,e,r)=>{const n=(t=>{for(const[e,r]of d)t=t.split(`${e}*`).join(`${e}{0,${r}}`).split(`${e}+`).join(`${e}{1,${r}}`);return t})(e),s=h++;o(t,s,e),l[t]=s,u[s]=e,a[s]=new RegExp(e,r?\"g\":void 0),c[s]=new RegExp(n,r?\"g\":void 0)};p(\"NUMERICIDENTIFIER\",\"0|[1-9]\\\\d*\"),p(\"NUMERICIDENTIFIERLOOSE\",\"\\\\d+\"),p(\"NONNUMERICIDENTIFIER\",`\\\\d*[a-zA-Z-]${f}*`),p(\"MAINVERSION\",`(${u[l.NUMERICIDENTIFIER]})\\\\.(${u[l.NUMERICIDENTIFIER]})\\\\.(${u[l.NUMERICIDENTIFIER]})`),p(\"MAINVERSIONLOOSE\",`(${u[l.NUMERICIDENTIFIERLOOSE]})\\\\.(${u[l.NUMERICIDENTIFIERLOOSE]})\\\\.(${u[l.NUMERICIDENTIFIERLOOSE]})`),p(\"PRERELEASEIDENTIFIER\",`(?:${u[l.NUMERICIDENTIFIER]}|${u[l.NONNUMERICIDENTIFIER]})`),p(\"PRERELEASEIDENTIFIERLOOSE\",`(?:${u[l.NUMERICIDENTIFIERLOOSE]}|${u[l.NONNUMERICIDENTIFIER]})`),p(\"PRERELEASE\",`(?:-(${u[l.PRERELEASEIDENTIFIER]}(?:\\\\.${u[l.PRERELEASEIDENTIFIER]})*))`),p(\"PRERELEASELOOSE\",`(?:-?(${u[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\\\.${u[l.PRERELEASEIDENTIFIERLOOSE]})*))`),p(\"BUILDIDENTIFIER\",`${f}+`),p(\"BUILD\",`(?:\\\\+(${u[l.BUILDIDENTIFIER]}(?:\\\\.${u[l.BUILDIDENTIFIER]})*))`),p(\"FULLPLAIN\",`v?${u[l.MAINVERSION]}${u[l.PRERELEASE]}?${u[l.BUILD]}?`),p(\"FULL\",`^${u[l.FULLPLAIN]}$`),p(\"LOOSEPLAIN\",`[v=\\\\s]*${u[l.MAINVERSIONLOOSE]}${u[l.PRERELEASELOOSE]}?${u[l.BUILD]}?`),p(\"LOOSE\",`^${u[l.LOOSEPLAIN]}$`),p(\"GTLT\",\"((?:<|>)?=?)\"),p(\"XRANGEIDENTIFIERLOOSE\",`${u[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`),p(\"XRANGEIDENTIFIER\",`${u[l.NUMERICIDENTIFIER]}|x|X|\\\\*`),p(\"XRANGEPLAIN\",`[v=\\\\s]*(${u[l.XRANGEIDENTIFIER]})(?:\\\\.(${u[l.XRANGEIDENTIFIER]})(?:\\\\.(${u[l.XRANGEIDENTIFIER]})(?:${u[l.PRERELEASE]})?${u[l.BUILD]}?)?)?`),p(\"XRANGEPLAINLOOSE\",`[v=\\\\s]*(${u[l.XRANGEIDENTIFIERLOOSE]})(?:\\\\.(${u[l.XRANGEIDENTIFIERLOOSE]})(?:\\\\.(${u[l.XRANGEIDENTIFIERLOOSE]})(?:${u[l.PRERELEASELOOSE]})?${u[l.BUILD]}?)?)?`),p(\"XRANGE\",`^${u[l.GTLT]}\\\\s*${u[l.XRANGEPLAIN]}$`),p(\"XRANGELOOSE\",`^${u[l.GTLT]}\\\\s*${u[l.XRANGEPLAINLOOSE]}$`),p(\"COERCEPLAIN\",`(^|[^\\\\d])(\\\\d{1,${n}})(?:\\\\.(\\\\d{1,${n}}))?(?:\\\\.(\\\\d{1,${n}}))?`),p(\"COERCE\",`${u[l.COERCEPLAIN]}(?:$|[^\\\\d])`),p(\"COERCEFULL\",u[l.COERCEPLAIN]+`(?:${u[l.PRERELEASE]})?`+`(?:${u[l.BUILD]})?(?:$|[^\\\\d])`),p(\"COERCERTL\",u[l.COERCE],!0),p(\"COERCERTLFULL\",u[l.COERCEFULL],!0),p(\"LONETILDE\",\"(?:~>?)\"),p(\"TILDETRIM\",`(\\\\s*)${u[l.LONETILDE]}\\\\s+`,!0),e.tildeTrimReplace=\"$1~\",p(\"TILDE\",`^${u[l.LONETILDE]}${u[l.XRANGEPLAIN]}$`),p(\"TILDELOOSE\",`^${u[l.LONETILDE]}${u[l.XRANGEPLAINLOOSE]}$`),p(\"LONECARET\",\"(?:\\\\^)\"),p(\"CARETTRIM\",`(\\\\s*)${u[l.LONECARET]}\\\\s+`,!0),e.caretTrimReplace=\"$1^\",p(\"CARET\",`^${u[l.LONECARET]}${u[l.XRANGEPLAIN]}$`),p(\"CARETLOOSE\",`^${u[l.LONECARET]}${u[l.XRANGEPLAINLOOSE]}$`),p(\"COMPARATORLOOSE\",`^${u[l.GTLT]}\\\\s*(${u[l.LOOSEPLAIN]})$|^$`),p(\"COMPARATOR\",`^${u[l.GTLT]}\\\\s*(${u[l.FULLPLAIN]})$|^$`),p(\"COMPARATORTRIM\",`(\\\\s*)${u[l.GTLT]}\\\\s*(${u[l.LOOSEPLAIN]}|${u[l.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace=\"$1$2$3\",p(\"HYPHENRANGE\",`^\\\\s*(${u[l.XRANGEPLAIN]})\\\\s+-\\\\s+(${u[l.XRANGEPLAIN]})\\\\s*$`),p(\"HYPHENRANGELOOSE\",`^\\\\s*(${u[l.XRANGEPLAINLOOSE]})\\\\s+-\\\\s+(${u[l.XRANGEPLAINLOOSE]})\\\\s*$`),p(\"STAR\",\"(<|>)?=?\\\\s*\\\\*\"),p(\"GTE0\",\"^\\\\s*>=\\\\s*0\\\\.0\\\\.0\\\\s*$\"),p(\"GTE0PRE\",\"^\\\\s*>=\\\\s*0\\\\.0\\\\.0-0\\\\s*$\")},8357:(t,e,r)=>{\"use strict\";const n=r(8799),s=Symbol(\"max\"),i=Symbol(\"length\"),o=Symbol(\"lengthCalculator\"),a=Symbol(\"allowStale\"),c=Symbol(\"maxAge\"),u=Symbol(\"dispose\"),l=Symbol(\"noDisposeOnSet\"),h=Symbol(\"lruList\"),f=Symbol(\"cache\"),d=Symbol(\"updateAgeOnGet\"),p=()=>1;const g=(t,e,r)=>{const n=t[f].get(e);if(n){const e=n.value;if(y(t,e)){if(w(t,n),!t[a])return}else r&&(t[d]&&(n.value.now=Date.now()),t[h].unshiftNode(n));return e.value}},y=(t,e)=>{if(!e||!e.maxAge&&!t[c])return!1;const r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[c]&&r>t[c]},m=t=>{if(t[i]>t[s])for(let e=t[h].tail;t[i]>t[s]&&null!==e;){const r=e.prev;w(t,e),e=r}},w=(t,e)=>{if(e){const r=e.value;t[u]&&t[u](r.key,r.value),t[i]-=r.length,t[f].delete(r.key),t[h].removeNode(e)}};class b{constructor(t,e,r,n,s){this.key=t,this.value=e,this.length=r,this.now=n,this.maxAge=s||0}}const v=(t,e,r,n)=>{let s=r.value;y(t,s)&&(w(t,r),t[a]||(s=void 0)),s&&e.call(n,s.value,s.key,t)};t.exports=class{constructor(t){if(\"number\"==typeof t&&(t={max:t}),t||(t={}),t.max&&(\"number\"!=typeof t.max||t.max<0))throw new TypeError(\"max must be a non-negative number\");this[s]=t.max||1/0;const e=t.length||p;if(this[o]=\"function\"!=typeof e?p:e,this[a]=t.stale||!1,t.maxAge&&\"number\"!=typeof t.maxAge)throw new TypeError(\"maxAge must be a number\");this[c]=t.maxAge||0,this[u]=t.dispose,this[l]=t.noDisposeOnSet||!1,this[d]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(\"number\"!=typeof t||t<0)throw new TypeError(\"max must be a non-negative number\");this[s]=t||1/0,m(this)}get max(){return this[s]}set allowStale(t){this[a]=!!t}get allowStale(){return this[a]}set maxAge(t){if(\"number\"!=typeof t)throw new TypeError(\"maxAge must be a non-negative number\");this[c]=t,m(this)}get maxAge(){return this[c]}set lengthCalculator(t){\"function\"!=typeof t&&(t=p),t!==this[o]&&(this[o]=t,this[i]=0,this[h].forEach((t=>{t.length=this[o](t.value,t.key),this[i]+=t.length}))),m(this)}get lengthCalculator(){return this[o]}get length(){return this[i]}get itemCount(){return this[h].length}rforEach(t,e){e=e||this;for(let r=this[h].tail;null!==r;){const n=r.prev;v(this,t,r,e),r=n}}forEach(t,e){e=e||this;for(let r=this[h].head;null!==r;){const n=r.next;v(this,t,r,e),r=n}}keys(){return this[h].toArray().map((t=>t.key))}values(){return this[h].toArray().map((t=>t.value))}reset(){this[u]&&this[h]&&this[h].length&&this[h].forEach((t=>this[u](t.key,t.value))),this[f]=new Map,this[h]=new n,this[i]=0}dump(){return this[h].map((t=>!y(this,t)&&{k:t.key,v:t.value,e:t.now+(t.maxAge||0)})).toArray().filter((t=>t))}dumpLru(){return this[h]}set(t,e,r){if((r=r||this[c])&&\"number\"!=typeof r)throw new TypeError(\"maxAge must be a number\");const n=r?Date.now():0,a=this[o](e,t);if(this[f].has(t)){if(a>this[s])return w(this,this[f].get(t)),!1;const o=this[f].get(t).value;return this[u]&&(this[l]||this[u](t,o.value)),o.now=n,o.maxAge=r,o.value=e,this[i]+=a-o.length,o.length=a,this.get(t),m(this),!0}const d=new b(t,e,a,n,r);return d.length>this[s]?(this[u]&&this[u](t,e),!1):(this[i]+=d.length,this[h].unshift(d),this[f].set(t,this[h].head),m(this),!0)}has(t){if(!this[f].has(t))return!1;const e=this[f].get(t).value;return!y(this,e)}get(t){return g(this,t,!0)}peek(t){return g(this,t,!1)}pop(){const t=this[h].tail;return t?(w(this,t),t.value):null}del(t){w(this,this[f].get(t))}load(t){this.reset();const e=Date.now();for(let r=t.length-1;r>=0;r--){const n=t[r],s=n.e||0;if(0===s)this.set(n.k,n.v);else{const t=s-e;t>0&&this.set(n.k,n.v,t)}}}prune(){this[f].forEach(((t,e)=>g(this,e,!1)))}}},5571:(t,e,r)=>{const n=r(7075);t.exports=(t,e,r)=>n(t,e,\">\",r)},6780:(t,e,r)=>{const n=r(8311);t.exports=(t,e,r)=>(t=new n(t,r),e=new n(e,r),t.intersects(e,r))},5342:(t,e,r)=>{const n=r(7075);t.exports=(t,e,r)=>n(t,e,\"<\",r)},9628:(t,e,r)=>{const n=r(3908),s=r(8311);t.exports=(t,e,r)=>{let i=null,o=null,a=null;try{a=new s(e,r)}catch(t){return null}return t.forEach((t=>{a.test(t)&&(i&&-1!==o.compare(t)||(i=t,o=new n(i,r)))})),i}},270:(t,e,r)=>{const n=r(3908),s=r(8311);t.exports=(t,e,r)=>{let i=null,o=null,a=null;try{a=new s(e,r)}catch(t){return null}return t.forEach((t=>{a.test(t)&&(i&&1!==o.compare(t)||(i=t,o=new n(i,r)))})),i}},1261:(t,e,r)=>{const n=r(3908),s=r(8311),i=r(5580);t.exports=(t,e)=>{t=new s(t,e);let r=new n(\"0.0.0\");if(t.test(r))return r;if(r=new n(\"0.0.0-0\"),t.test(r))return r;r=null;for(let e=0;e<t.set.length;++e){const s=t.set[e];let o=null;s.forEach((t=>{const e=new n(t.semver.version);switch(t.operator){case\">\":0===e.prerelease.length?e.patch++:e.prerelease.push(0),e.raw=e.format();case\"\":case\">=\":o&&!i(e,o)||(o=e);break;case\"<\":case\"<=\":break;default:throw new Error(`Unexpected operation: ${t.operator}`)}})),!o||r&&!i(r,o)||(r=o)}return r&&t.test(r)?r:null}},7075:(t,e,r)=>{const n=r(3908),s=r(3904),{ANY:i}=s,o=r(8311),a=r(7638),c=r(5580),u=r(7059),l=r(5200),h=r(4089);t.exports=(t,e,r,f)=>{let d,p,g,y,m;switch(t=new n(t,f),e=new o(e,f),r){case\">\":d=c,p=l,g=u,y=\">\",m=\">=\";break;case\"<\":d=u,p=h,g=c,y=\"<\",m=\"<=\";break;default:throw new TypeError('Must provide a hilo val of \"<\" or \">\"')}if(a(t,e,f))return!1;for(let r=0;r<e.set.length;++r){const n=e.set[r];let o=null,a=null;if(n.forEach((t=>{t.semver===i&&(t=new s(\">=0.0.0\")),o=o||t,a=a||t,d(t.semver,o.semver,f)?o=t:g(t.semver,a.semver,f)&&(a=t)})),o.operator===y||o.operator===m)return!1;if((!a.operator||a.operator===y)&&p(t,a.semver))return!1;if(a.operator===m&&g(t,a.semver))return!1}return!0}},2525:(t,e,r)=>{const n=r(7638),s=r(560);t.exports=(t,e,r)=>{const i=[];let o=null,a=null;const c=t.sort(((t,e)=>s(t,e,r)));for(const t of c){n(t,e,r)?(a=t,o||(o=t)):(a&&i.push([o,a]),a=null,o=null)}o&&i.push([o,null]);const u=[];for(const[t,e]of i)t===e?u.push(t):e||t!==c[0]?e?t===c[0]?u.push(`<=${e}`):u.push(`${t} - ${e}`):u.push(`>=${t}`):u.push(\"*\");const l=u.join(\" || \"),h=\"string\"==typeof e.raw?e.raw:String(e);return l.length<h.length?l:e}},5032:(t,e,r)=>{const n=r(8311),s=r(3904),{ANY:i}=s,o=r(7638),a=r(560),c=[new s(\">=0.0.0-0\")],u=[new s(\">=0.0.0\")],l=(t,e,r)=>{if(t===e)return!0;if(1===t.length&&t[0].semver===i){if(1===e.length&&e[0].semver===i)return!0;t=r.includePrerelease?c:u}if(1===e.length&&e[0].semver===i){if(r.includePrerelease)return!0;e=u}const n=new Set;let s,l,d,p,g,y,m;for(const e of t)\">\"===e.operator||\">=\"===e.operator?s=h(s,e,r):\"<\"===e.operator||\"<=\"===e.operator?l=f(l,e,r):n.add(e.semver);if(n.size>1)return null;if(s&&l){if(d=a(s.semver,l.semver,r),d>0)return null;if(0===d&&(\">=\"!==s.operator||\"<=\"!==l.operator))return null}for(const t of n){if(s&&!o(t,String(s),r))return null;if(l&&!o(t,String(l),r))return null;for(const n of e)if(!o(t,String(n),r))return!1;return!0}let w=!(!l||r.includePrerelease||!l.semver.prerelease.length)&&l.semver,b=!(!s||r.includePrerelease||!s.semver.prerelease.length)&&s.semver;w&&1===w.prerelease.length&&\"<\"===l.operator&&0===w.prerelease[0]&&(w=!1);for(const t of e){if(m=m||\">\"===t.operator||\">=\"===t.operator,y=y||\"<\"===t.operator||\"<=\"===t.operator,s)if(b&&t.semver.prerelease&&t.semver.prerelease.length&&t.semver.major===b.major&&t.semver.minor===b.minor&&t.semver.patch===b.patch&&(b=!1),\">\"===t.operator||\">=\"===t.operator){if(p=h(s,t,r),p===t&&p!==s)return!1}else if(\">=\"===s.operator&&!o(s.semver,String(t),r))return!1;if(l)if(w&&t.semver.prerelease&&t.semver.prerelease.length&&t.semver.major===w.major&&t.semver.minor===w.minor&&t.semver.patch===w.patch&&(w=!1),\"<\"===t.operator||\"<=\"===t.operator){if(g=f(l,t,r),g===t&&g!==l)return!1}else if(\"<=\"===l.operator&&!o(l.semver,String(t),r))return!1;if(!t.operator&&(l||s)&&0!==d)return!1}return!(s&&y&&!l&&0!==d)&&(!(l&&m&&!s&&0!==d)&&(!b&&!w))},h=(t,e,r)=>{if(!t)return e;const n=a(t.semver,e.semver,r);return n>0?t:n<0||\">\"===e.operator&&\">=\"===t.operator?e:t},f=(t,e,r)=>{if(!t)return e;const n=a(t.semver,e.semver,r);return n<0?t:n>0||\"<\"===e.operator&&\"<=\"===t.operator?e:t};t.exports=(t,e,r={})=>{if(t===e)return!0;t=new n(t,r),e=new n(e,r);let s=!1;t:for(const n of t.set){for(const t of e.set){const e=l(n,t,r);if(s=s||null!==e,e)continue t}if(s)return!1}return!0}},7631:(t,e,r)=>{const n=r(8311);t.exports=(t,e)=>new n(t,e).set.map((t=>t.map((t=>t.value)).join(\" \").trim().split(\" \")))},3874:(t,e,r)=>{const n=r(8311);t.exports=(t,e)=>{try{return new n(t,e).range||\"*\"}catch(t){return null}}},7983:t=>{const e=/^[-+]?0x[a-fA-F0-9]+$/,r=/^([\\-\\+])?(0*)(\\.[0-9]+([eE]\\-?[0-9]+)?|[0-9]+(\\.[0-9]+([eE]\\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const n={hex:!0,leadingZeros:!0,decimalPoint:\".\",eNotation:!0};t.exports=function(t,s={}){if(s=Object.assign({},n,s),!t||\"string\"!=typeof t)return t;let i=t.trim();if(void 0!==s.skipLike&&s.skipLike.test(i))return t;if(s.hex&&e.test(i))return Number.parseInt(i,16);{const e=r.exec(i);if(e){const r=e[1],n=e[2];let o=function(t){if(t&&-1!==t.indexOf(\".\"))return\".\"===(t=t.replace(/0+$/,\"\"))?t=\"0\":\".\"===t[0]?t=\"0\"+t:\".\"===t[t.length-1]&&(t=t.substr(0,t.length-1)),t;return t}(e[3]);const a=e[4]||e[6];if(!s.leadingZeros&&n.length>0&&r&&\".\"!==i[2])return t;if(!s.leadingZeros&&n.length>0&&!r&&\".\"!==i[1])return t;{const e=Number(i),c=\"\"+e;return-1!==c.search(/[eE]/)||a?s.eNotation?e:t:-1!==i.indexOf(\".\")?\"0\"===c&&\"\"===o||c===o||r&&c===\"-\"+o?e:t:n?o===c||r+o===c?e:t:i===c||i===r+c?e:t}}return t}}},2831:(t,e,r)=>{\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),Object.defineProperty(e,\"NIL\",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,\"parse\",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,\"stringify\",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,\"v1\",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,\"v3\",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,\"v4\",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,\"v5\",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,\"validate\",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,\"version\",{enumerable:!0,get:function(){return c.default}});var n=f(r(3518)),s=f(r(4948)),i=f(r(5073)),o=f(r(7186)),a=f(r(4808)),c=f(r(7775)),u=f(r(7037)),l=f(r(9910)),h=f(r(6792));function f(t){return t&&t.__esModule?t:{default:t}}},2311:(t,e)=>{\"use strict\";function r(t){return 14+(t+64>>>9<<4)+1}function n(t,e){const r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}function s(t,e,r,s,i,o){return n((a=n(n(e,t),n(s,o)))<<(c=i)|a>>>32-c,r);var a,c}function i(t,e,r,n,i,o,a){return s(e&r|~e&n,t,e,i,o,a)}function o(t,e,r,n,i,o,a){return s(e&n|r&~n,t,e,i,o,a)}function a(t,e,r,n,i,o,a){return s(e^r^n,t,e,i,o,a)}function c(t,e,r,n,i,o,a){return s(r^(e|~n),t,e,i,o,a)}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var u=function(t){if(\"string\"==typeof t){const e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(let r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return function(t){const e=[],r=32*t.length,n=\"0123456789abcdef\";for(let s=0;s<r;s+=8){const r=t[s>>5]>>>s%32&255,i=parseInt(n.charAt(r>>>4&15)+n.charAt(15&r),16);e.push(i)}return e}(function(t,e){t[e>>5]|=128<<e%32,t[r(e)-1]=e;let s=1732584193,u=-271733879,l=-1732584194,h=271733878;for(let e=0;e<t.length;e+=16){const r=s,f=u,d=l,p=h;s=i(s,u,l,h,t[e],7,-680876936),h=i(h,s,u,l,t[e+1],12,-389564586),l=i(l,h,s,u,t[e+2],17,606105819),u=i(u,l,h,s,t[e+3],22,-1044525330),s=i(s,u,l,h,t[e+4],7,-176418897),h=i(h,s,u,l,t[e+5],12,1200080426),l=i(l,h,s,u,t[e+6],17,-1473231341),u=i(u,l,h,s,t[e+7],22,-45705983),s=i(s,u,l,h,t[e+8],7,1770035416),h=i(h,s,u,l,t[e+9],12,-1958414417),l=i(l,h,s,u,t[e+10],17,-42063),u=i(u,l,h,s,t[e+11],22,-1990404162),s=i(s,u,l,h,t[e+12],7,1804603682),h=i(h,s,u,l,t[e+13],12,-40341101),l=i(l,h,s,u,t[e+14],17,-1502002290),u=i(u,l,h,s,t[e+15],22,1236535329),s=o(s,u,l,h,t[e+1],5,-165796510),h=o(h,s,u,l,t[e+6],9,-1069501632),l=o(l,h,s,u,t[e+11],14,643717713),u=o(u,l,h,s,t[e],20,-373897302),s=o(s,u,l,h,t[e+5],5,-701558691),h=o(h,s,u,l,t[e+10],9,38016083),l=o(l,h,s,u,t[e+15],14,-660478335),u=o(u,l,h,s,t[e+4],20,-405537848),s=o(s,u,l,h,t[e+9],5,568446438),h=o(h,s,u,l,t[e+14],9,-1019803690),l=o(l,h,s,u,t[e+3],14,-187363961),u=o(u,l,h,s,t[e+8],20,1163531501),s=o(s,u,l,h,t[e+13],5,-1444681467),h=o(h,s,u,l,t[e+2],9,-51403784),l=o(l,h,s,u,t[e+7],14,1735328473),u=o(u,l,h,s,t[e+12],20,-1926607734),s=a(s,u,l,h,t[e+5],4,-378558),h=a(h,s,u,l,t[e+8],11,-2022574463),l=a(l,h,s,u,t[e+11],16,1839030562),u=a(u,l,h,s,t[e+14],23,-35309556),s=a(s,u,l,h,t[e+1],4,-1530992060),h=a(h,s,u,l,t[e+4],11,1272893353),l=a(l,h,s,u,t[e+7],16,-155497632),u=a(u,l,h,s,t[e+10],23,-1094730640),s=a(s,u,l,h,t[e+13],4,681279174),h=a(h,s,u,l,t[e],11,-358537222),l=a(l,h,s,u,t[e+3],16,-722521979),u=a(u,l,h,s,t[e+6],23,76029189),s=a(s,u,l,h,t[e+9],4,-640364487),h=a(h,s,u,l,t[e+12],11,-421815835),l=a(l,h,s,u,t[e+15],16,530742520),u=a(u,l,h,s,t[e+2],23,-995338651),s=c(s,u,l,h,t[e],6,-198630844),h=c(h,s,u,l,t[e+7],10,1126891415),l=c(l,h,s,u,t[e+14],15,-1416354905),u=c(u,l,h,s,t[e+5],21,-57434055),s=c(s,u,l,h,t[e+12],6,1700485571),h=c(h,s,u,l,t[e+3],10,-1894986606),l=c(l,h,s,u,t[e+10],15,-1051523),u=c(u,l,h,s,t[e+1],21,-2054922799),s=c(s,u,l,h,t[e+8],6,1873313359),h=c(h,s,u,l,t[e+15],10,-30611744),l=c(l,h,s,u,t[e+6],15,-1560198380),u=c(u,l,h,s,t[e+13],21,1309151649),s=c(s,u,l,h,t[e+4],6,-145523070),h=c(h,s,u,l,t[e+11],10,-1120210379),l=c(l,h,s,u,t[e+2],15,718787259),u=c(u,l,h,s,t[e+9],21,-343485551),s=n(s,r),u=n(u,f),l=n(l,d),h=n(h,p)}return[s,u,l,h]}(function(t){if(0===t.length)return[];const e=8*t.length,n=new Uint32Array(r(e));for(let r=0;r<e;r+=8)n[r>>5]|=(255&t[r/8])<<r%32;return n}(t),8*t.length))};e.default=u},6140:(t,e)=>{\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var r={randomUUID:\"undefined\"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};e.default=r},4808:(t,e)=>{\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;e.default=\"00000000-0000-0000-0000-000000000000\"},6792:(t,e,r)=>{\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var n,s=(n=r(7037))&&n.__esModule?n:{default:n};var i=function(t){if(!(0,s.default)(t))throw TypeError(\"Invalid UUID\");let e;const r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=255&e,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=255&e,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=255&e,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=255&e,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=255&e,r};e.default=i},7656:(t,e)=>{\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;e.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},2858:(t,e)=>{\"use strict\";let r;Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(){if(!r&&(r=\"undefined\"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!r))throw new Error(\"crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported\");return r(n)};const n=new Uint8Array(16)},9042:(t,e)=>{\"use strict\";function r(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:case 3:return e^r^n;case 2:return e&r^e&n^r&n}}function n(t,e){return t<<e|t>>>32-e}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var s=function(t){const e=[1518500249,1859775393,2400959708,3395469782],s=[1732584193,4023233417,2562383102,271733878,3285377520];if(\"string\"==typeof t){const e=unescape(encodeURIComponent(t));t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);const i=t.length/4+2,o=Math.ceil(i/16),a=new Array(o);for(let e=0;e<o;++e){const r=new Uint32Array(16);for(let n=0;n<16;++n)r[n]=t[64*e+4*n]<<24|t[64*e+4*n+1]<<16|t[64*e+4*n+2]<<8|t[64*e+4*n+3];a[e]=r}a[o-1][14]=8*(t.length-1)/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=8*(t.length-1)&4294967295;for(let t=0;t<o;++t){const i=new Uint32Array(80);for(let e=0;e<16;++e)i[e]=a[t][e];for(let t=16;t<80;++t)i[t]=n(i[t-3]^i[t-8]^i[t-14]^i[t-16],1);let o=s[0],c=s[1],u=s[2],l=s[3],h=s[4];for(let t=0;t<80;++t){const s=Math.floor(t/20),a=n(o,5)+r(s,c,u,l)+h+e[s]+i[t]>>>0;h=l,l=u,u=n(c,30)>>>0,c=o,o=a}s[0]=s[0]+o>>>0,s[1]=s[1]+c>>>0,s[2]=s[2]+u>>>0,s[3]=s[3]+l>>>0,s[4]=s[4]+h>>>0}return[s[0]>>24&255,s[0]>>16&255,s[0]>>8&255,255&s[0],s[1]>>24&255,s[1]>>16&255,s[1]>>8&255,255&s[1],s[2]>>24&255,s[2]>>16&255,s[2]>>8&255,255&s[2],s[3]>>24&255,s[3]>>16&255,s[3]>>8&255,255&s[3],s[4]>>24&255,s[4]>>16&255,s[4]>>8&255,255&s[4]]};e.default=s},9910:(t,e,r)=>{\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0,e.unsafeStringify=o;var n,s=(n=r(7037))&&n.__esModule?n:{default:n};const i=[];for(let t=0;t<256;++t)i.push((t+256).toString(16).slice(1));function o(t,e=0){return i[t[e+0]]+i[t[e+1]]+i[t[e+2]]+i[t[e+3]]+\"-\"+i[t[e+4]]+i[t[e+5]]+\"-\"+i[t[e+6]]+i[t[e+7]]+\"-\"+i[t[e+8]]+i[t[e+9]]+\"-\"+i[t[e+10]]+i[t[e+11]]+i[t[e+12]]+i[t[e+13]]+i[t[e+14]]+i[t[e+15]]}var a=function(t,e=0){const r=o(t,e);if(!(0,s.default)(r))throw TypeError(\"Stringified UUID is invalid\");return r};e.default=a},3518:(t,e,r)=>{\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var n,s=(n=r(2858))&&n.__esModule?n:{default:n},i=r(9910);let o,a,c=0,u=0;var l=function(t,e,r){let n=e&&r||0;const l=e||new Array(16);let h=(t=t||{}).node||o,f=void 0!==t.clockseq?t.clockseq:a;if(null==h||null==f){const e=t.random||(t.rng||s.default)();null==h&&(h=o=[1|e[0],e[1],e[2],e[3],e[4],e[5]]),null==f&&(f=a=16383&(e[6]<<8|e[7]))}let d=void 0!==t.msecs?t.msecs:Date.now(),p=void 0!==t.nsecs?t.nsecs:u+1;const g=d-c+(p-u)/1e4;if(g<0&&void 0===t.clockseq&&(f=f+1&16383),(g<0||d>c)&&void 0===t.nsecs&&(p=0),p>=1e4)throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");c=d,u=p,a=f,d+=122192928e5;const y=(1e4*(268435455&d)+p)%4294967296;l[n++]=y>>>24&255,l[n++]=y>>>16&255,l[n++]=y>>>8&255,l[n++]=255&y;const m=d/4294967296*1e4&268435455;l[n++]=m>>>8&255,l[n++]=255&m,l[n++]=m>>>24&15|16,l[n++]=m>>>16&255,l[n++]=f>>>8|128,l[n++]=255&f;for(let t=0;t<6;++t)l[n+t]=h[t];return e||(0,i.unsafeStringify)(l)};e.default=l},4948:(t,e,r)=>{\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var n=i(r(9025)),s=i(r(2311));function i(t){return t&&t.__esModule?t:{default:t}}var o=(0,n.default)(\"v3\",48,s.default);e.default=o},9025:(t,e,r)=>{\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.URL=e.DNS=void 0,e.default=function(t,e,r){function n(t,n,o,a){var c;if(\"string\"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));const e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}(t)),\"string\"==typeof n&&(n=(0,i.default)(n)),16!==(null===(c=n)||void 0===c?void 0:c.length))throw TypeError(\"Namespace must be array-like (16 iterable integer values, 0-255)\");let u=new Uint8Array(16+t.length);if(u.set(n),u.set(t,n.length),u=r(u),u[6]=15&u[6]|e,u[8]=63&u[8]|128,o){a=a||0;for(let t=0;t<16;++t)o[a+t]=u[t];return o}return(0,s.unsafeStringify)(u)}try{n.name=t}catch(t){}return n.DNS=o,n.URL=a,n};var n,s=r(9910),i=(n=r(6792))&&n.__esModule?n:{default:n};const o=\"6ba7b810-9dad-11d1-80b4-00c04fd430c8\";e.DNS=o;const a=\"6ba7b811-9dad-11d1-80b4-00c04fd430c8\";e.URL=a},5073:(t,e,r)=>{\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var n=o(r(6140)),s=o(r(2858)),i=r(9910);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t,e,r){if(n.default.randomUUID&&!e&&!t)return n.default.randomUUID();const o=(t=t||{}).random||(t.rng||s.default)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e){r=r||0;for(let t=0;t<16;++t)e[r+t]=o[t];return e}return(0,i.unsafeStringify)(o)};e.default=a},7186:(t,e,r)=>{\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var n=i(r(9025)),s=i(r(9042));function i(t){return t&&t.__esModule?t:{default:t}}var o=(0,n.default)(\"v5\",80,s.default);e.default=o},7037:(t,e,r)=>{\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var n,s=(n=r(7656))&&n.__esModule?n:{default:n};var i=function(t){return\"string\"==typeof t&&s.default.test(t)};e.default=i},7775:(t,e,r)=>{\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var n,s=(n=r(7037))&&n.__esModule?n:{default:n};var i=function(t){if(!(0,s.default)(t))throw TypeError(\"Invalid UUID\");return parseInt(t.slice(14,15),16)};e.default=i},259:t=>{\"use strict\";t.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}},8799:(t,e,r)=>{\"use strict\";function n(t){var e=this;if(e instanceof n||(e=new n),e.tail=null,e.head=null,e.length=0,t&&\"function\"==typeof t.forEach)t.forEach((function(t){e.push(t)}));else if(arguments.length>0)for(var r=0,s=arguments.length;r<s;r++)e.push(arguments[r]);return e}function s(t,e,r){var n=e===t.head?new a(r,null,e,t):new a(r,e,e.next,t);return null===n.next&&(t.tail=n),null===n.prev&&(t.head=n),t.length++,n}function i(t,e){t.tail=new a(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function o(t,e){t.head=new a(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function a(t,e,r,n){if(!(this instanceof a))return new a(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}t.exports=n,n.Node=a,n.create=n,n.prototype.removeNode=function(t){if(t.list!==this)throw new Error(\"removing node which does not belong to this list\");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e},n.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},n.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}},n.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)i(this,arguments[t]);return this.length},n.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)o(this,arguments[t]);return this.length},n.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}},n.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}},n.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;null!==r;n++)t.call(e,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;null!==r;n--)t.call(e,r.value,n,this),r=r.prev},n.prototype.get=function(t){for(var e=0,r=this.head;null!==r&&e<t;e++)r=r.next;if(e===t&&null!==r)return r.value},n.prototype.getReverse=function(t){for(var e=0,r=this.tail;null!==r&&e<t;e++)r=r.prev;if(e===t&&null!==r)return r.value},n.prototype.map=function(t,e){e=e||this;for(var r=new n,s=this.head;null!==s;)r.push(t.call(e,s.value,this)),s=s.next;return r},n.prototype.mapReverse=function(t,e){e=e||this;for(var r=new n,s=this.tail;null!==s;)r.push(t.call(e,s.value,this)),s=s.prev;return r},n.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else{if(!this.head)throw new TypeError(\"Reduce of empty list with no initial value\");n=this.head.next,r=this.head.value}for(var s=0;null!==n;s++)r=t(r,n.value,s),n=n.next;return r},n.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else{if(!this.tail)throw new TypeError(\"Reduce of empty list with no initial value\");n=this.tail.prev,r=this.tail.value}for(var s=this.length-1;null!==n;s--)r=t(r,n.value,s),n=n.prev;return r},n.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;null!==r;e++)t[e]=r.value,r=r.next;return t},n.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;null!==r;e++)t[e]=r.value,r=r.prev;return t},n.prototype.slice=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var r=new n;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var s=0,i=this.head;null!==i&&s<t;s++)i=i.next;for(;null!==i&&s<e;s++,i=i.next)r.push(i.value);return r},n.prototype.sliceReverse=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var r=new n;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var s=this.length,i=this.tail;null!==i&&s>e;s--)i=i.prev;for(;null!==i&&s>t;s--,i=i.prev)r.push(i.value);return r},n.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;null!==i&&n<t;n++)i=i.next;var o=[];for(n=0;i&&n<e;n++)o.push(i.value),i=this.removeNode(i);null===i&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(n=0;n<r.length;n++)i=s(this,i,r[n]);return o},n.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};try{r(259)(n)}catch(t){}},2150:(t,e,r)=>{\"use strict\";r.r(e),r.d(e,{Struct:()=>l,StructError:()=>n,any:()=>I,array:()=>S,assert:()=>h,assign:()=>y,bigint:()=>N,boolean:()=>O,coerce:()=>W,create:()=>f,date:()=>C,defaulted:()=>X,define:()=>m,deprecated:()=>w,dynamic:()=>b,empty:()=>Y,enums:()=>P,func:()=>B,instance:()=>k,integer:()=>T,intersection:()=>L,is:()=>p,lazy:()=>v,literal:()=>U,map:()=>F,mask:()=>d,max:()=>et,min:()=>rt,never:()=>M,nonempty:()=>nt,nullable:()=>D,number:()=>j,object:()=>_,omit:()=>A,optional:()=>G,partial:()=>E,pattern:()=>st,pick:()=>x,record:()=>$,refine:()=>ot,regexp:()=>H,set:()=>V,size:()=>it,string:()=>q,struct:()=>R,trimmed:()=>Z,tuple:()=>J,type:()=>z,union:()=>Q,unknown:()=>K,validate:()=>g});class n extends TypeError{constructor(t,e){let r;const{message:n,explanation:s,...i}=t,{path:o}=t,a=0===o.length?n:`At path: ${o.join(\".\")} -- ${n}`;super(s??a),null!=s&&(this.cause=a),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>r??(r=[t,...e()])}}function s(t){return\"object\"==typeof t&&null!=t}function i(t){if(\"[object Object]\"!==Object.prototype.toString.call(t))return!1;const e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function o(t){return\"symbol\"==typeof t?t.toString():\"string\"==typeof t?JSON.stringify(t):`${t}`}function a(t,e,r,n){if(!0===t)return;!1===t?t={}:\"string\"==typeof t&&(t={message:t});const{path:s,branch:i}=e,{type:a}=r,{refinement:c,message:u=`Expected a value of type \\`${a}\\`${c?` with refinement \\`${c}\\``:\"\"}, but received: \\`${o(n)}\\``}=t;return{value:n,type:a,refinement:c,key:s[s.length-1],path:s,branch:i,...t,message:u}}function*c(t,e,r,n){var i;s(i=t)&&\"function\"==typeof i[Symbol.iterator]||(t=[t]);for(const s of t){const t=a(s,e,r,n);t&&(yield t)}}function*u(t,e,r={}){const{path:n=[],branch:i=[t],coerce:o=!1,mask:a=!1}=r,c={path:n,branch:i};if(o&&(t=e.coercer(t,c),a&&\"type\"!==e.type&&s(e.schema)&&s(t)&&!Array.isArray(t)))for(const r in t)void 0===e.schema[r]&&delete t[r];let l=\"valid\";for(const n of e.validator(t,c))n.explanation=r.message,l=\"not_valid\",yield[n,void 0];for(let[h,f,d]of e.entries(t,c)){const e=u(f,d,{path:void 0===h?n:[...n,h],branch:void 0===h?i:[...i,f],coerce:o,mask:a,message:r.message});for(const r of e)r[0]?(l=null!=r[0].refinement?\"not_refined\":\"not_valid\",yield[r[0],void 0]):o&&(f=r[1],void 0===h?t=f:t instanceof Map?t.set(h,f):t instanceof Set?t.add(f):s(t)&&(void 0!==f||h in t)&&(t[h]=f))}if(\"not_valid\"!==l)for(const n of e.refiner(t,c))n.explanation=r.message,l=\"not_refined\",yield[n,void 0];\"valid\"===l&&(yield[void 0,t])}class l{constructor(t){const{type:e,schema:r,validator:n,refiner:s,coercer:i=(t=>t),entries:o=function*(){}}=t;this.type=e,this.schema=r,this.entries=o,this.coercer=i,this.validator=n?(t,e)=>c(n(t,e),e,this,t):()=>[],this.refiner=s?(t,e)=>c(s(t,e),e,this,t):()=>[]}assert(t,e){return h(t,this,e)}create(t,e){return f(t,this,e)}is(t){return p(t,this)}mask(t,e){return d(t,this,e)}validate(t,e={}){return g(t,this,e)}}function h(t,e,r){const n=g(t,e,{message:r});if(n[0])throw n[0]}function f(t,e,r){const n=g(t,e,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function d(t,e,r){const n=g(t,e,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function p(t,e){return!g(t,e)[0]}function g(t,e,r={}){const s=u(t,e,r),i=function(t){const{done:e,value:r}=t.next();return e?void 0:r}(s);if(i[0]){return[new n(i[0],(function*(){for(const t of s)t[0]&&(yield t[0])})),void 0]}return[void 0,i[1]]}function y(...t){const e=\"type\"===t[0].type,r=t.map((t=>t.schema)),n=Object.assign({},...r);return e?z(n):_(n)}function m(t,e){return new l({type:t,schema:null,validator:e})}function w(t,e){return new l({...t,refiner:(e,r)=>void 0===e||t.refiner(e,r),validator:(r,n)=>void 0===r||(e(r,n),t.validator(r,n))})}function b(t){return new l({type:\"dynamic\",schema:null,*entries(e,r){const n=t(e,r);yield*n.entries(e,r)},validator:(e,r)=>t(e,r).validator(e,r),coercer:(e,r)=>t(e,r).coercer(e,r),refiner:(e,r)=>t(e,r).refiner(e,r)})}function v(t){let e;return new l({type:\"lazy\",schema:null,*entries(r,n){e??(e=t()),yield*e.entries(r,n)},validator:(r,n)=>(e??(e=t()),e.validator(r,n)),coercer:(r,n)=>(e??(e=t()),e.coercer(r,n)),refiner:(r,n)=>(e??(e=t()),e.refiner(r,n))})}function A(t,e){const{schema:r}=t,n={...r};for(const t of e)delete n[t];return\"type\"===t.type?z(n):_(n)}function E(t){const e=t instanceof l,r=e?{...t.schema}:{...t};for(const t in r)r[t]=G(r[t]);return e&&\"type\"===t.type?z(r):_(r)}function x(t,e){const{schema:r}=t,n={};for(const t of e)n[t]=r[t];return\"type\"===t.type?z(n):_(n)}function R(t,e){return console.warn(\"superstruct@0.11 - The `struct` helper has been renamed to `define`.\"),m(t,e)}function I(){return m(\"any\",(()=>!0))}function S(t){return new l({type:\"array\",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer:t=>Array.isArray(t)?t.slice():t,validator:t=>Array.isArray(t)||`Expected an array value, but received: ${o(t)}`})}function N(){return m(\"bigint\",(t=>\"bigint\"==typeof t))}function O(){return m(\"boolean\",(t=>\"boolean\"==typeof t))}function C(){return m(\"date\",(t=>t instanceof Date&&!isNaN(t.getTime())||`Expected a valid \\`Date\\` object, but received: ${o(t)}`))}function P(t){const e={},r=t.map((t=>o(t))).join();for(const r of t)e[r]=r;return new l({type:\"enums\",schema:e,validator:e=>t.includes(e)||`Expected one of \\`${r}\\`, but received: ${o(e)}`})}function B(){return m(\"func\",(t=>\"function\"==typeof t||`Expected a function, but received: ${o(t)}`))}function k(t){return m(\"instance\",(e=>e instanceof t||`Expected a \\`${t.name}\\` instance, but received: ${o(e)}`))}function T(){return m(\"integer\",(t=>\"number\"==typeof t&&!isNaN(t)&&Number.isInteger(t)||`Expected an integer, but received: ${o(t)}`))}function L(t){return new l({type:\"intersection\",schema:null,*entries(e,r){for(const n of t)yield*n.entries(e,r)},*validator(e,r){for(const n of t)yield*n.validator(e,r)},*refiner(e,r){for(const n of t)yield*n.refiner(e,r)}})}function U(t){const e=o(t),r=typeof t;return new l({type:\"literal\",schema:\"string\"===r||\"number\"===r||\"boolean\"===r?t:null,validator:r=>r===t||`Expected the literal \\`${e}\\`, but received: ${o(r)}`})}function F(t,e){return new l({type:\"map\",schema:null,*entries(r){if(t&&e&&r instanceof Map)for(const[n,s]of r.entries())yield[n,n,t],yield[n,s,e]},coercer:t=>t instanceof Map?new Map(t):t,validator:t=>t instanceof Map||`Expected a \\`Map\\` object, but received: ${o(t)}`})}function M(){return m(\"never\",(()=>!1))}function D(t){return new l({...t,validator:(e,r)=>null===e||t.validator(e,r),refiner:(e,r)=>null===e||t.refiner(e,r)})}function j(){return m(\"number\",(t=>\"number\"==typeof t&&!isNaN(t)||`Expected a number, but received: ${o(t)}`))}function _(t){const e=t?Object.keys(t):[],r=M();return new l({type:\"object\",schema:t||null,*entries(n){if(t&&s(n)){const s=new Set(Object.keys(n));for(const r of e)s.delete(r),yield[r,n[r],t[r]];for(const t of s)yield[t,n[t],r]}},validator:t=>s(t)||`Expected an object, but received: ${o(t)}`,coercer:t=>s(t)?{...t}:t})}function G(t){return new l({...t,validator:(e,r)=>void 0===e||t.validator(e,r),refiner:(e,r)=>void 0===e||t.refiner(e,r)})}function $(t,e){return new l({type:\"record\",schema:null,*entries(r){if(s(r))for(const n in r){const s=r[n];yield[n,n,t],yield[n,s,e]}},validator:t=>s(t)||`Expected an object, but received: ${o(t)}`})}function H(){return m(\"regexp\",(t=>t instanceof RegExp))}function V(t){return new l({type:\"set\",schema:null,*entries(e){if(t&&e instanceof Set)for(const r of e)yield[r,r,t]},coercer:t=>t instanceof Set?new Set(t):t,validator:t=>t instanceof Set||`Expected a \\`Set\\` object, but received: ${o(t)}`})}function q(){return m(\"string\",(t=>\"string\"==typeof t||`Expected a string, but received: ${o(t)}`))}function J(t){const e=M();return new l({type:\"tuple\",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let s=0;s<n;s++)yield[s,r[s],t[s]||e]}},validator:t=>Array.isArray(t)||`Expected an array, but received: ${o(t)}`})}function z(t){const e=Object.keys(t);return new l({type:\"type\",schema:t,*entries(r){if(s(r))for(const n of e)yield[n,r[n],t[n]]},validator:t=>s(t)||`Expected an object, but received: ${o(t)}`,coercer:t=>s(t)?{...t}:t})}function Q(t){const e=t.map((t=>t.type)).join(\" | \");return new l({type:\"union\",schema:null,coercer(e){for(const r of t){const[t,n]=r.validate(e,{coerce:!0});if(!t)return n}return e},validator(r,n){const s=[];for(const e of t){const[...t]=u(r,e,n),[i]=t;if(!i[0])return[];for(const[e]of t)e&&s.push(e)}return[`Expected the value to satisfy a union of \\`${e}\\`, but received: ${o(r)}`,...s]}})}function K(){return m(\"unknown\",(()=>!0))}function W(t,e,r){return new l({...t,coercer:(n,s)=>p(n,e)?t.coercer(r(n,s),s):t.coercer(n,s)})}function X(t,e,r={}){return W(t,K(),(t=>{const n=\"function\"==typeof e?e():e;if(void 0===t)return n;if(!r.strict&&i(t)&&i(n)){const e={...t};let r=!1;for(const t in n)void 0===e[t]&&(e[t]=n[t],r=!0);if(r)return e}return t}))}function Z(t){return W(t,q(),(t=>t.trim()))}function Y(t){return ot(t,\"empty\",(e=>{const r=tt(e);return 0===r||`Expected an empty ${t.type} but received one with a size of \\`${r}\\``}))}function tt(t){return t instanceof Map||t instanceof Set?t.size:t.length}function et(t,e,r={}){const{exclusive:n}=r;return ot(t,\"max\",(r=>n?r<e:r<=e||`Expected a ${t.type} less than ${n?\"\":\"or equal to \"}${e} but received \\`${r}\\``))}function rt(t,e,r={}){const{exclusive:n}=r;return ot(t,\"min\",(r=>n?r>e:r>=e||`Expected a ${t.type} greater than ${n?\"\":\"or equal to \"}${e} but received \\`${r}\\``))}function nt(t){return ot(t,\"nonempty\",(e=>tt(e)>0||`Expected a nonempty ${t.type} but received an empty one`))}function st(t,e){return ot(t,\"pattern\",(r=>e.test(r)||`Expected a ${t.type} matching \\`/${e.source}/\\` but received \"${r}\"`))}function it(t,e,r=e){const n=`Expected a ${t.type}`,s=e===r?`of \\`${e}\\``:`between \\`${e}\\` and \\`${r}\\``;return ot(t,\"size\",(t=>{if(\"number\"==typeof t||t instanceof Date)return e<=t&&t<=r||`${n} ${s} but received \\`${t}\\``;if(t instanceof Map||t instanceof Set){const{size:i}=t;return e<=i&&i<=r||`${n} with a size ${s} but received one with a size of \\`${i}\\``}{const{length:i}=t;return e<=i&&i<=r||`${n} with a length ${s} but received one with a length of \\`${i}\\``}}))}function ot(t,e,r){return new l({...t,*refiner(n,s){yield*t.refiner(n,s);const i=c(r(n,s),s,t,n);for(const t of i)yield{...t,refinement:e}}})}}},e={};function r(n){var s=e[n];if(void 0!==s)return s.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,r),i.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})};var n={};(()=>{\"use strict\";r.r(n),r.d(n,{onHomePage:()=>Qp,onKeyringRequest:()=>zp,onUserInput:()=>Kp});var t={};r.r(t),r.d(t,{OG:()=>Vr,My:()=>Tr,bytesToNumberBE:()=>Dr,lX:()=>jr,Id:()=>Hr,fg:()=>zr,qj:()=>$r,hexToBytes:()=>Mr,aY:()=>Br,lq:()=>_r,z:()=>Gr,Q5:()=>Kr});var e={};r.r(e),r.d(e,{OG:()=>cf,My:()=>Zh,bytesToNumberBE:()=>ef,lX:()=>rf,Id:()=>af,fg:()=>hf,qj:()=>of,hexToBytes:()=>tf,lq:()=>nf,z:()=>sf,Q5:()=>df});var s=r(7962);function i(t){return Boolean(t)&&\"object\"==typeof t&&!Array.isArray(t)}var o=(t,e)=>Object.hasOwnProperty.call(t,e);var a,c=((a=c||{})[a.Null=4]=\"Null\",a[a.Comma=1]=\"Comma\",a[a.Wrapper=1]=\"Wrapper\",a[a.True=4]=\"True\",a[a.False=5]=\"False\",a[a.Quote=1]=\"Quote\",a[a.Colon=1]=\"Colon\",a[a.Date=24]=\"Date\",a);function u(t){if(\"object\"!=typeof t||null===t)return!1;try{let e=t;for(;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}catch(t){return!1}}Error;var l=r(2150);function h(t){return function(t){return function(t){return\"object\"==typeof t&&null!==t&&\"message\"in t}(t)&&\"string\"==typeof t.message?t.message:null==t?\"\":String(t)}(t).replace(/\\.$/u,\"\")}function f(t,e){return r=t,Boolean(\"string\"==typeof r?.prototype?.constructor?.name)?new t({message:e}):t({message:e});var r}var d=class extends Error{constructor(t){super(t.message),this.code=\"ERR_ASSERTION\"}};function p(t,e=\"Assertion failed.\",r=d){if(!t){if(e instanceof Error)throw e;throw f(r,e)}}function g(t,e,r=\"Assertion failed\",n=d){try{(0,l.assert)(t,e)}catch(t){throw f(n,`${r}: ${h(t)}.`)}}var y=t=>(0,l.object)(t);function m({path:t,branch:e}){const r=t[t.length-1];return o(e[e.length-2],r)}function w(t){return new l.Struct({...t,type:`optional ${t.type}`,validator:(e,r)=>!m(r)||t.validator(e,r),refiner:(e,r)=>!m(r)||t.refiner(e,r)})}var b=(0,l.union)([(0,l.literal)(null),(0,l.boolean)(),(0,l.define)(\"finite number\",(t=>(0,l.is)(t,(0,l.number)())&&Number.isFinite(t))),(0,l.string)(),(0,l.array)((0,l.lazy)((()=>b))),(0,l.record)((0,l.string)(),(0,l.lazy)((()=>b)))]),v=(0,l.coerce)(b,(0,l.any)(),(t=>(g(t,b),JSON.parse(JSON.stringify(t,((t,e)=>{if(\"__proto__\"!==t&&\"constructor\"!==t)return e}))))));function A(t){try{return function(t){(0,l.create)(t,v)}(t),!0}catch{return!1}}var E=(0,l.literal)(\"2.0\"),x=(0,l.nullable)((0,l.union)([(0,l.number)(),(0,l.string)()])),R=y({code:(0,l.integer)(),message:(0,l.string)(),data:w(v),stack:w((0,l.string)())}),I=(0,l.union)([(0,l.record)((0,l.string)(),v),(0,l.array)(v)]);y({id:x,jsonrpc:E,method:(0,l.string)(),params:w(I)}),y({jsonrpc:E,method:(0,l.string)(),params:w(I)});(0,l.object)({id:x,jsonrpc:E,result:(0,l.optional)((0,l.unknown)()),error:(0,l.optional)(R)});var S=y({id:x,jsonrpc:E,result:v}),N=y({id:x,jsonrpc:E,error:R});(0,l.union)([S,N]);var O=r(6454),C={invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},P={userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901},B={\"-32700\":{standard:\"JSON RPC 2.0\",message:\"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text.\"},\"-32600\":{standard:\"JSON RPC 2.0\",message:\"The JSON sent is not a valid Request object.\"},\"-32601\":{standard:\"JSON RPC 2.0\",message:\"The method does not exist / is not available.\"},\"-32602\":{standard:\"JSON RPC 2.0\",message:\"Invalid method parameter(s).\"},\"-32603\":{standard:\"JSON RPC 2.0\",message:\"Internal JSON-RPC error.\"},\"-32000\":{standard:\"EIP-1474\",message:\"Invalid input.\"},\"-32001\":{standard:\"EIP-1474\",message:\"Resource not found.\"},\"-32002\":{standard:\"EIP-1474\",message:\"Resource unavailable.\"},\"-32003\":{standard:\"EIP-1474\",message:\"Transaction rejected.\"},\"-32004\":{standard:\"EIP-1474\",message:\"Method not supported.\"},\"-32005\":{standard:\"EIP-1474\",message:\"Request limit exceeded.\"},4001:{standard:\"EIP-1193\",message:\"User rejected the request.\"},4100:{standard:\"EIP-1193\",message:\"The requested account and/or method has not been authorized by the user.\"},4200:{standard:\"EIP-1193\",message:\"The requested method is not supported by this Ethereum provider.\"},4900:{standard:\"EIP-1193\",message:\"The provider is disconnected from all chains.\"},4901:{standard:\"EIP-1193\",message:\"The provider is disconnected from the specified chain.\"}},k=C.internal,T=\"Unspecified error message. This is a bug, please report it.\",L=(U(k),\"Unspecified server error.\");function U(t,e=T){if(function(t){return Number.isInteger(t)}(t)){const e=t.toString();if(o(B,e))return B[e].message;if(function(t){return t>=-32099&&t<=-32e3}(t))return L}return e}function F(t){return Array.isArray(t)?t.map((t=>A(t)?t:i(t)?M(t):null)):i(t)?M(t):A(t)?t:null}function M(t){return Object.getOwnPropertyNames(t).reduce(((e,r)=>{const n=t[r];return A(n)&&(e[r]=n),e}),{})}var D=r(8463),j=class extends Error{constructor(t,e,r){if(!Number.isInteger(t))throw new Error('\"code\" must be an integer.');if(!e||\"string\"!=typeof e)throw new Error('\"message\" must be a non-empty string.');super(e),this.code=t,void 0!==r&&(this.data=r)}serialize(){const t={code:this.code,message:this.message};return void 0!==this.data&&(t.data=this.data,u(this.data)&&(t.data.cause=F(this.data.cause))),this.stack&&(t.stack=this.stack),t}toString(){return D(this.serialize(),G,2)}},_=class extends j{constructor(t,e,r){if(!function(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}(t))throw new Error('\"code\" must be an integer such that: 1000 <= code <= 4999');super(t,e,r)}};function G(t,e){if(\"[Circular]\"!==e)return e}var $=t=>st(C.parse,t),H=t=>st(C.invalidRequest,t),V=t=>st(C.invalidParams,t),q=t=>st(C.methodNotFound,t),J=t=>st(C.internal,t),z=t=>st(C.invalidInput,t),Q=t=>st(C.resourceNotFound,t),K=t=>st(C.resourceUnavailable,t),W=t=>st(C.transactionRejected,t),X=t=>st(C.methodNotSupported,t),Z=t=>st(C.limitExceeded,t),Y=t=>it(P.userRejectedRequest,t),tt=t=>it(P.unauthorized,t),et=t=>it(P.unsupportedMethod,t),rt=t=>it(P.disconnected,t),nt=t=>it(P.chainDisconnected,t);function st(t,e){const[r,n]=ot(e);return new j(t,r??U(t),n)}function it(t,e){const[r,n]=ot(e);return new _(t,r??U(t),n)}function ot(t){if(t){if(\"string\"==typeof t)return[t];if(\"object\"==typeof t&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&\"string\"!=typeof e)throw new Error(\"Must specify string message.\");return[e??void 0,r]}}return[]}function at(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function ct(t,...e){if(!((r=t)instanceof Uint8Array||null!=r&&\"object\"==typeof r&&\"Uint8Array\"===r.constructor.name))throw new Error(\"Uint8Array expected\");var r;if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function ut(t,e=!0){if(t.destroyed)throw new Error(\"Hash instance has been destroyed\");if(e&&t.finished)throw new Error(\"Hash#digest() has already been called\")}function lt(t,e){ct(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const ht=BigInt(2**32-1),ft=BigInt(32);function dt(t,e=!1){return e?{h:Number(t&ht),l:Number(t>>ft&ht)}:{h:0|Number(t>>ft&ht),l:0|Number(t&ht)}}function pt(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=dt(t[s],e);[r[s],n[s]]=[i,o]}return[r,n]}const gt=(t,e,r)=>t<<r|e>>>32-r,yt=(t,e,r)=>e<<r|t>>>32-r,mt=(t,e,r)=>e<<r-32|t>>>64-r,wt=(t,e,r)=>t<<r-32|e>>>64-r;const bt=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],vt=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;function At(t){for(let e=0;e<t.length;e++)t[e]=vt(t[e])}Array.from({length:256},((t,e)=>e.toString(16).padStart(2,\"0\")));function Et(t){return\"string\"==typeof t&&(t=function(t){if(\"string\"!=typeof t)throw new Error(\"utf8ToBytes expected string, got \"+typeof t);return new Uint8Array((new TextEncoder).encode(t))}(t)),ct(t),t}class xt{clone(){return this._cloneInto()}}const Rt=[],It=[],St=[],Nt=BigInt(0),Ot=BigInt(1),Ct=BigInt(2),Pt=BigInt(7),Bt=BigInt(256),kt=BigInt(113);for(let t=0,e=Ot,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],Rt.push(2*(5*n+r)),It.push((t+1)*(t+2)/2%64);let s=Nt;for(let t=0;t<7;t++)e=(e<<Ot^(e>>Pt)*kt)%Bt,e&Ct&&(s^=Ot<<(Ot<<BigInt(t))-Ot);St.push(s)}const[Tt,Lt]=pt(St,!0),Ut=(t,e,r)=>r>32?mt(t,e,r):gt(t,e,r),Ft=(t,e,r)=>r>32?wt(t,e,r):yt(t,e,r);class Mt extends xt{constructor(t,e,r,n=!1,s=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=r,this.enableXOF=n,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,at(r),0>=this.blockLen||this.blockLen>=200)throw new Error(\"Sha3 supports only keccak-f1600 function\");var i;this.state=new Uint8Array(200),this.state32=(i=this.state,new Uint32Array(i.buffer,i.byteOffset,Math.floor(i.byteLength/4)))}keccak(){bt||At(this.state32),function(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let e=0;e<10;e++)r[e]=t[e]^t[e+10]^t[e+20]^t[e+30]^t[e+40];for(let e=0;e<10;e+=2){const n=(e+8)%10,s=(e+2)%10,i=r[s],o=r[s+1],a=Ut(i,o,1)^r[n],c=Ft(i,o,1)^r[n+1];for(let r=0;r<50;r+=10)t[e+r]^=a,t[e+r+1]^=c}let e=t[2],s=t[3];for(let r=0;r<24;r++){const n=It[r],i=Ut(e,s,n),o=Ft(e,s,n),a=Rt[r];e=t[a],s=t[a+1],t[a]=i,t[a+1]=o}for(let e=0;e<50;e+=10){for(let n=0;n<10;n++)r[n]=t[e+n];for(let n=0;n<10;n++)t[e+n]^=~r[(n+2)%10]&r[(n+4)%10]}t[0]^=Tt[n],t[1]^=Lt[n]}r.fill(0)}(this.state32,this.rounds),bt||At(this.state32),this.posOut=0,this.pos=0}update(t){ut(this);const{blockLen:e,state:r}=this,n=(t=Et(t)).length;for(let s=0;s<n;){const i=Math.min(e-this.pos,n-s);for(let e=0;e<i;e++)r[this.pos++]^=t[s++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:r,blockLen:n}=this;t[r]^=e,128&e&&r===n-1&&this.keccak(),t[n-1]^=128,this.keccak()}writeInto(t){ut(this,!1),ct(t),this.finish();const e=this.state,{blockLen:r}=this;for(let n=0,s=t.length;n<s;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,s-n);t.set(e.subarray(this.posOut,this.posOut+i),n),this.posOut+=i,n+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error(\"XOF is not possible for this instance\");return this.writeInto(t)}xof(t){return at(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(lt(t,this),this.finished)throw new Error(\"digest() was already called\");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:r,outputLen:n,rounds:s,enableXOF:i}=this;return t||(t=new Mt(e,r,n,i,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=r,t.outputLen=n,t.enableXOF=i,t.destroyed=this.destroyed,t}}const Dt=(t,e,r)=>function(t){const e=e=>t().update(Et(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}((()=>new Mt(e,t,r))),jt=Dt(1,136,32);r(8287).hp;var _t=function(){const t=[];return()=>{if(0===t.length)for(let e=0;e<256;e++)t.push(e.toString(16).padStart(2,\"0\"));return t}}();function Gt(t){return t instanceof Uint8Array}function $t(t){p(Gt(t),\"Value must be a Uint8Array.\")}function Ht(t){if($t(t),0===t.length)return\"0x\";const e=_t(),r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=e[t[n]];return zt(r.join(\"\"))}(0,l.pattern)((0,l.string)(),/^(?:0x)?[0-9a-f]+$/iu),(0,l.pattern)((0,l.string)(),/^0x[0-9a-f]+$/iu);var Vt=(0,l.pattern)((0,l.string)(),/^0x[0-9a-f]{40}$/u),qt=(0,l.pattern)((0,l.string)(),/^0x[0-9a-fA-F]{40}$/u);function Jt(t){return(0,l.is)(t,Vt)||function(t){if(!(0,l.is)(t,qt))return!1;return function(t){p((0,l.is)(t,qt),\"Invalid hex address.\");const e=Qt(t.toLowerCase()),r=Qt(Ht(jt(e)));return`0x${e.split(\"\").map(((t,e)=>{const n=r[e];return p((0,l.is)(n,(0,l.string)()),\"Hash shorter than address.\"),parseInt(n,16)>7?t.toUpperCase():t})).join(\"\")}`}(t)===t}(t)}function zt(t){return t.startsWith(\"0x\")?t:t.startsWith(\"0X\")?`0x${t.substring(2)}`:`0x${t}`}function Qt(t){return t.startsWith(\"0x\")||t.startsWith(\"0X\")?t.substring(2):t}var Kt,Wt,Xt,Zt,Yt=(t,e,r)=>{if(!e.has(t))throw TypeError(\"Cannot \"+r)},te=(t,e,r)=>(Yt(t,e,\"read from private field\"),r?r.call(t):e.get(t)),ee=(t,e,r)=>{if(e.has(t))throw TypeError(\"Cannot add the same private member more than once\");e instanceof WeakSet?e.add(t):e.set(t,r)},re=(t,e,r,n)=>(Yt(t,e,\"write to private field\"),n?n.call(t,r):e.set(t,r),r),ne=class extends Error{constructor(t,e={}){const r=function(t){if(i(t)&&o(t,\"message\")&&\"string\"==typeof t.message)return t.message;return String(t)}(t);super(r),ee(this,Kt,void 0),ee(this,Wt,void 0),ee(this,Xt,void 0),ee(this,Zt,void 0),re(this,Wt,r),re(this,Kt,function(t){if(i(t)&&o(t,\"code\")&&\"number\"==typeof t.code&&Number.isInteger(t.code))return t.code;return-32603}(t));const n={...ae(t),...e};Object.keys(n).length>0&&re(this,Xt,n),re(this,Zt,super.stack)}get name(){return\"SnapError\"}get code(){return te(this,Kt)}get message(){return te(this,Wt)}get data(){return te(this,Xt)}get stack(){return te(this,Zt)}toJSON(){return{code:ie,message:oe,data:{cause:{code:this.code,message:this.message,stack:this.stack,...this.data?{data:this.data}:{}}}}}serialize(){return this.toJSON()}};function se(t){return class extends ne{constructor(e,r){if(\"object\"==typeof e){const r=t();return void super({code:r.code,message:r.message,data:e})}const n=t(e);super({code:n.code,message:n.message,data:r})}}}Kt=new WeakMap,Wt=new WeakMap,Xt=new WeakMap,Zt=new WeakMap;var ie=-31002,oe=\"Snap Error\";function ae(t){return i(t)&&o(t,\"data\")&&\"object\"==typeof t.data&&null!==t.data&&A(t.data)&&!Array.isArray(t.data)?t.data:{}}function ce(t){return e=t,(0,l.define)(JSON.stringify(e),(0,l.literal)(e).validator);var e}function ue(t){try{return function(t){try{const e=t.trim();p(e.length>0);const r=new O.XMLParser({ignoreAttributes:!1,parseAttributeValue:!0}).parse(e,!0);return p(o(r,\"svg\")),i(r.svg)?r.svg:{}}catch{throw new Error(\"Snap icon must be a valid SVG.\")}}(t),!0}catch{return!1}}se(J),se(z),se(V),se(H),se(Z),se(q),se(X),se($),se(Q),se(K),se(W),se(nt),se(rt),se(tt),se(et),se(Y);function le(t,e,r=[]){return(...n)=>{if(1===n.length&&u(n[0])){const r={...n[0],type:t};return g(r,e,`Invalid ${t} component`),r}const s=r.reduce(((t,e,r)=>void 0!==n[r]?{...t,[e]:n[r]}:t),{type:t});return g(s,e,`Invalid ${t} component`),s}}var he,fe=((he=fe||{}).Copyable=\"copyable\",he.Divider=\"divider\",he.Heading=\"heading\",he.Panel=\"panel\",he.Spinner=\"spinner\",he.Text=\"text\",he.Image=\"image\",he.Row=\"row\",he.Address=\"address\",he.Button=\"button\",he.Input=\"input\",he.Form=\"form\",he),de=(0,l.object)({type:(0,l.string)()}),pe=(0,l.assign)(de,(0,l.object)({value:(0,l.unknown)()})),ge=(0,l.assign)(pe,(0,l.object)({type:(0,l.literal)(\"address\"),value:qt})),ye=(le(\"address\",ge,[\"value\"]),(0,l.assign)(pe,(0,l.object)({type:(0,l.literal)(\"copyable\"),value:(0,l.string)(),sensitive:(0,l.optional)((0,l.boolean)())}))),me=(le(\"copyable\",ye,[\"value\",\"sensitive\"]),(0,l.assign)(de,(0,l.object)({type:(0,l.literal)(\"divider\")}))),we=(le(\"divider\",me),(0,l.assign)(pe,(0,l.object)({type:(0,l.literal)(\"heading\"),value:(0,l.string)()}))),be=le(\"heading\",we,[\"value\"]);var ve,Ae,Ee,xe,Re=(0,l.assign)(de,(0,l.object)({type:(0,l.literal)(\"image\"),value:(0,l.refine)((0,l.string)(),\"SVG\",(t=>!!ue(t)||\"Value is not a valid SVG.\"))})),Ie=(le(\"image\",Re,[\"value\"]),(ve=Ie||{}).Primary=\"primary\",ve.Secondary=\"secondary\",ve),Se=((Ae=Se||{}).Button=\"button\",Ae.Submit=\"submit\",Ae),Ne=(0,l.assign)(pe,(0,l.object)({type:(0,l.literal)(\"button\"),value:(0,l.string)(),variant:(0,l.optional)((0,l.union)([ce(\"primary\"),ce(\"secondary\")])),buttonType:(0,l.optional)((0,l.union)([ce(\"button\"),ce(\"submit\")])),name:(0,l.optional)((0,l.string)())})),Oe=le(\"button\",Ne,[\"value\",\"buttonType\",\"name\",\"variant\"]),Ce=((Ee=Ce||{}).Text=\"text\",Ee.Number=\"number\",Ee.Password=\"password\",Ee),Pe=(0,l.assign)(pe,(0,l.object)({type:(0,l.literal)(\"input\"),value:(0,l.optional)((0,l.string)()),name:(0,l.string)(),inputType:(0,l.optional)((0,l.union)([ce(\"text\"),ce(\"password\"),ce(\"number\")])),placeholder:(0,l.optional)((0,l.string)()),label:(0,l.optional)((0,l.string)()),error:(0,l.optional)((0,l.string)())})),Be=le(\"input\",Pe,[\"name\",\"inputType\",\"placeholder\",\"value\",\"label\"]),ke=(0,l.union)([Pe,Ne]),Te=(0,l.assign)(de,(0,l.object)({type:(0,l.literal)(\"form\"),children:(0,l.array)(ke),name:(0,l.string)()})),Le=le(\"form\",Te,[\"name\",\"children\"]),Ue=(0,l.assign)(pe,(0,l.object)({type:(0,l.literal)(\"text\"),value:(0,l.string)(),markdown:(0,l.optional)((0,l.boolean)())})),Fe=le(\"text\",Ue,[\"value\",\"markdown\"]),Me=((xe=Me||{}).Default=\"default\",xe.Critical=\"critical\",xe.Warning=\"warning\",xe),De=(0,l.union)([Re,Ue,ge]),je=(0,l.assign)(pe,(0,l.object)({type:(0,l.literal)(\"row\"),variant:(0,l.optional)((0,l.union)([ce(\"default\"),ce(\"critical\"),ce(\"warning\")])),label:(0,l.string)(),value:De})),_e=le(\"row\",je,[\"label\",\"value\",\"variant\"]),Ge=(0,l.assign)(de,(0,l.object)({type:(0,l.literal)(\"spinner\")})),$e=(le(\"spinner\",Ge),(0,l.assign)(de,(0,l.object)({children:(0,l.array)((0,l.lazy)((()=>qe)))}))),He=(0,l.assign)($e,(0,l.object)({type:(0,l.literal)(\"panel\")})),Ve=le(\"panel\",He,[\"children\"]),qe=(0,l.union)([ye,me,we,Re,He,Ge,Ue,je,ge,Pe,Te,Ne]);var Je,ze,Qe,Ke,We,Xe,Ze=((Je=Ze||{}).Critical=\"critical\",Je),Ye=((ze=Ye||{}).ButtonClickEvent=\"ButtonClickEvent\",ze.FormSubmitEvent=\"FormSubmitEvent\",ze.InputChangeEvent=\"InputChangeEvent\",ze),tr=(0,l.object)({type:(0,l.string)(),name:(0,l.optional)((0,l.string)())}),er=(0,l.assign)(tr,(0,l.object)({type:(0,l.literal)(\"ButtonClickEvent\"),name:(0,l.optional)((0,l.string)())})),rr=(0,l.assign)(tr,(0,l.object)({type:(0,l.literal)(\"FormSubmitEvent\"),value:(0,l.record)((0,l.string)(),(0,l.string)()),name:(0,l.string)()})),nr=(0,l.assign)(tr,(0,l.object)({type:(0,l.literal)(\"InputChangeEvent\"),name:(0,l.string)(),value:(0,l.string)()})),sr=((0,l.union)([er,rr,nr]),(Qe=sr||{}).Alert=\"alert\",Qe.Confirmation=\"confirmation\",Qe.Prompt=\"prompt\",Qe),ir=((Ke=ir||{}).Base64=\"base64\",Ke.Hex=\"hex\",Ke.Utf8=\"utf8\",Ke),or=((We=or||{}).ClearState=\"clear\",We.GetState=\"get\",We.UpdateState=\"update\",We),ar=((Xe=ar||{}).InApp=\"inApp\",Xe.Native=\"native\",Xe),cr=(0,l.record)((0,l.string)(),(0,l.nullable)((0,l.string)()));(0,l.record)((0,l.string)(),(0,l.union)([cr,(0,l.nullable)((0,l.string)())]));function ur(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function lr(t,...e){if(!((r=t)instanceof Uint8Array||null!=r&&\"object\"==typeof r&&\"Uint8Array\"===r.constructor.name))throw new Error(\"Expected Uint8Array\");var r;if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function hr(t){if(\"function\"!=typeof t||\"function\"!=typeof t.create)throw new Error(\"Hash should be wrapped by utils.wrapConstructor\");ur(t.outputLen),ur(t.blockLen)}function fr(t,e=!0){if(t.destroyed)throw new Error(\"Hash instance has been destroyed\");if(e&&t.finished)throw new Error(\"Hash#digest() has already been called\")}function dr(t,e){lr(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const pr=\"object\"==typeof globalThis&&\"crypto\"in globalThis?globalThis.crypto:void 0;function gr(t){return t instanceof Uint8Array||null!=t&&\"object\"==typeof t&&\"Uint8Array\"===t.constructor.name}const yr=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),mr=(t,e)=>t<<32-e|t>>>e;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error(\"Non little-endian hardware is not supported\");Array.from({length:256},((t,e)=>e.toString(16).padStart(2,\"0\")));function wr(t){if(\"string\"==typeof t&&(t=function(t){if(\"string\"!=typeof t)throw new Error(\"utf8ToBytes expected string, got \"+typeof t);return new Uint8Array((new TextEncoder).encode(t))}(t)),!gr(t))throw new Error(\"expected Uint8Array, got \"+typeof t);return t}class br{clone(){return this._cloneInto()}}function vr(t=32){if(pr&&\"function\"==typeof pr.getRandomValues)return pr.getRandomValues(new Uint8Array(t));throw new Error(\"crypto.getRandomValues must be defined\")}class Ar extends br{constructor(t,e,r,n){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=yr(this.buffer)}update(t){fr(this);const{view:e,buffer:r,blockLen:n}=this,s=(t=wr(t)).length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);if(o!==n)r.set(t.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===n&&(this.process(e,0),this.pos=0);else{const e=yr(t);for(;n<=s-i;i+=n)this.process(e,i)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){fr(this),dr(t,this),this.finished=!0;const{buffer:e,view:r,blockLen:n,isLE:s}=this;let{pos:i}=this;e[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>n-i&&(this.process(r,0),i=0);for(let t=i;t<n;t++)e[t]=0;!function(t,e,r,n){if(\"function\"==typeof t.setBigUint64)return t.setBigUint64(e,r,n);const s=BigInt(32),i=BigInt(4294967295),o=Number(r>>s&i),a=Number(r&i),c=n?4:0,u=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+u,a,n)}(r,n-8,BigInt(8*this.length),s),this.process(r,0);const o=yr(t),a=this.outputLen;if(a%4)throw new Error(\"_sha2: outputLen should be aligned to 32bit\");const c=a/4,u=this.get();if(c>u.length)throw new Error(\"_sha2: outputLen bigger than state\");for(let t=0;t<c;t++)o.setUint32(4*t,u[t],s)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:n,finished:s,destroyed:i,pos:o}=this;return t.length=n,t.pos=o,t.finished=s,t.destroyed=i,n%e&&t.buffer.set(r),t}}const Er=(t,e,r)=>t&e^~t&r,xr=(t,e,r)=>t&e^t&r^e&r,Rr=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ir=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Sr=new Uint32Array(64);class Nr extends Ar{constructor(){super(64,32,8,!1),this.A=0|Ir[0],this.B=0|Ir[1],this.C=0|Ir[2],this.D=0|Ir[3],this.E=0|Ir[4],this.F=0|Ir[5],this.G=0|Ir[6],this.H=0|Ir[7]}get(){const{A:t,B:e,C:r,D:n,E:s,F:i,G:o,H:a}=this;return[t,e,r,n,s,i,o,a]}set(t,e,r,n,s,i,o,a){this.A=0|t,this.B=0|e,this.C=0|r,this.D=0|n,this.E=0|s,this.F=0|i,this.G=0|o,this.H=0|a}process(t,e){for(let r=0;r<16;r++,e+=4)Sr[r]=t.getUint32(e,!1);for(let t=16;t<64;t++){const e=Sr[t-15],r=Sr[t-2],n=mr(e,7)^mr(e,18)^e>>>3,s=mr(r,17)^mr(r,19)^r>>>10;Sr[t]=s+Sr[t-7]+n+Sr[t-16]|0}let{A:r,B:n,C:s,D:i,E:o,F:a,G:c,H:u}=this;for(let t=0;t<64;t++){const e=u+(mr(o,6)^mr(o,11)^mr(o,25))+Er(o,a,c)+Rr[t]+Sr[t]|0,l=(mr(r,2)^mr(r,13)^mr(r,22))+xr(r,n,s)|0;u=c,c=a,a=o,o=i+e|0,i=s,s=n,n=r,r=e+l|0}r=r+this.A|0,n=n+this.B|0,s=s+this.C|0,i=i+this.D|0,o=o+this.E|0,a=a+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,n,s,i,o,a,c,u)}roundClean(){Sr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Or=function(t){const e=e=>t().update(wr(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}((()=>new Nr)),Cr=(BigInt(0),BigInt(1)),Pr=BigInt(2);function Br(t){return t instanceof Uint8Array||null!=t&&\"object\"==typeof t&&\"Uint8Array\"===t.constructor.name}const kr=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,\"0\")));function Tr(t){if(!Br(t))throw new Error(\"Uint8Array expected\");let e=\"\";for(let r=0;r<t.length;r++)e+=kr[t[r]];return e}function Lr(t){if(\"string\"!=typeof t)throw new Error(\"hex string expected, got \"+typeof t);return BigInt(\"\"===t?\"0\":`0x${t}`)}const Ur={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Fr(t){return t>=Ur._0&&t<=Ur._9?t-Ur._0:t>=Ur._A&&t<=Ur._F?t-(Ur._A-10):t>=Ur._a&&t<=Ur._f?t-(Ur._a-10):void 0}function Mr(t){if(\"string\"!=typeof t)throw new Error(\"hex string expected, got \"+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error(\"padded hex string expected, got unpadded hex of length \"+e);const n=new Uint8Array(r);for(let e=0,s=0;e<r;e++,s+=2){const r=Fr(t.charCodeAt(s)),i=Fr(t.charCodeAt(s+1));if(void 0===r||void 0===i){const e=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character \"'+e+'\" at index '+s)}n[e]=16*r+i}return n}function Dr(t){return Lr(Tr(t))}function jr(t){if(!Br(t))throw new Error(\"Uint8Array expected\");return Lr(Tr(Uint8Array.from(t).reverse()))}function _r(t,e){return Mr(t.toString(16).padStart(2*e,\"0\"))}function Gr(t,e){return _r(t,e).reverse()}function $r(t,e,r){let n;if(\"string\"==typeof e)try{n=Mr(e)}catch(r){throw new Error(`${t} must be valid hex string, got \"${e}\". Cause: ${r}`)}else{if(!Br(e))throw new Error(`${t} must be hex string or Uint8Array`);n=Uint8Array.from(e)}const s=n.length;if(\"number\"==typeof r&&s!==r)throw new Error(`${t} expected ${r} bytes, got ${s}`);return n}function Hr(...t){let e=0;for(let r=0;r<t.length;r++){const n=t[r];if(!Br(n))throw new Error(\"Uint8Array expected\");e+=n.length}let r=new Uint8Array(e),n=0;for(let e=0;e<t.length;e++){const s=t[e];r.set(s,n),n+=s.length}return r}const Vr=t=>(Pr<<BigInt(t-1))-Cr,qr=t=>new Uint8Array(t),Jr=t=>Uint8Array.from(t);function zr(t,e,r){if(\"number\"!=typeof t||t<2)throw new Error(\"hashLen must be a number\");if(\"number\"!=typeof e||e<2)throw new Error(\"qByteLen must be a number\");if(\"function\"!=typeof r)throw new Error(\"hmacFn must be a function\");let n=qr(t),s=qr(t),i=0;const o=()=>{n.fill(1),s.fill(0),i=0},a=(...t)=>r(s,n,...t),c=(t=qr())=>{s=a(Jr([0]),t),n=a(),0!==t.length&&(s=a(Jr([1]),t),n=a())},u=()=>{if(i++>=1e3)throw new Error(\"drbg: tried 1000 values\");let t=0;const r=[];for(;t<e;){n=a();const e=n.slice();r.push(e),t+=n.length}return Hr(...r)};return(t,e)=>{let r;for(o(),c(t);!(r=e(u()));)c();return o(),r}}const Qr={bigint:t=>\"bigint\"==typeof t,function:t=>\"function\"==typeof t,boolean:t=>\"boolean\"==typeof t,string:t=>\"string\"==typeof t,stringOrUint8Array:t=>\"string\"==typeof t||Br(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>\"function\"==typeof t&&Number.isSafeInteger(t.outputLen)};function Kr(t,e,r={}){const n=(e,r,n)=>{const s=Qr[r];if(\"function\"!=typeof s)throw new Error(`Invalid validator \"${r}\", expected function`);const i=t[e];if(!(n&&void 0===i||s(i,t)))throw new Error(`Invalid param ${String(e)}=${i} (${typeof i}), expected ${r}`)};for(const[t,r]of Object.entries(e))n(t,r,!1);for(const[t,e]of Object.entries(r))n(t,e,!0);return t}const Wr=BigInt(0),Xr=BigInt(1),Zr=BigInt(2),Yr=BigInt(3),tn=BigInt(4),en=BigInt(5),rn=BigInt(8);BigInt(9),BigInt(16);function nn(t,e){const r=t%e;return r>=Wr?r:e+r}function sn(t,e,r){if(r<=Wr||e<Wr)throw new Error(\"Expected power/modulo > 0\");if(r===Xr)return Wr;let n=Xr;for(;e>Wr;)e&Xr&&(n=n*t%r),t=t*t%r,e>>=Xr;return n}function on(t,e,r){let n=t;for(;e-- >Wr;)n*=n,n%=r;return n}function an(t,e){if(t===Wr||e<=Wr)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=nn(t,e),n=e,s=Wr,i=Xr,o=Xr,a=Wr;for(;r!==Wr;){const t=n/r,e=n%r,c=s-o*t,u=i-a*t;n=r,r=e,s=o,i=a,o=c,a=u}if(n!==Xr)throw new Error(\"invert: does not exist\");return nn(s,e)}function cn(t){if(t%tn===Yr){const e=(t+Xr)/tn;return function(t,r){const n=t.pow(r,e);if(!t.eql(t.sqr(n),r))throw new Error(\"Cannot find square root\");return n}}if(t%rn===en){const e=(t-en)/rn;return function(t,r){const n=t.mul(r,Zr),s=t.pow(n,e),i=t.mul(r,s),o=t.mul(t.mul(i,Zr),s),a=t.mul(i,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),r))throw new Error(\"Cannot find square root\");return a}}return function(t){const e=(t-Xr)/Zr;let r,n,s;for(r=t-Xr,n=0;r%Zr===Wr;r/=Zr,n++);for(s=Zr;s<t&&sn(s,e,t)!==t-Xr;s++);if(1===n){const e=(t+Xr)/tn;return function(t,r){const n=t.pow(r,e);if(!t.eql(t.sqr(n),r))throw new Error(\"Cannot find square root\");return n}}const i=(r+Xr)/Zr;return function(t,o){if(t.pow(o,e)===t.neg(t.ONE))throw new Error(\"Cannot find square root\");let a=n,c=t.pow(t.mul(t.ONE,s),r),u=t.pow(o,i),l=t.pow(o,r);for(;!t.eql(l,t.ONE);){if(t.eql(l,t.ZERO))return t.ZERO;let e=1;for(let r=t.sqr(l);e<a&&!t.eql(r,t.ONE);e++)r=t.sqr(r);const r=t.pow(c,Xr<<BigInt(a-e-1));c=t.sqr(r),u=t.mul(u,r),l=t.mul(l,c),a=e}return u}}(t)}const un=[\"create\",\"isValid\",\"is0\",\"neg\",\"inv\",\"sqrt\",\"sqr\",\"eql\",\"add\",\"sub\",\"mul\",\"pow\",\"div\",\"addN\",\"subN\",\"mulN\",\"sqrN\"];function ln(t,e){const r=void 0!==e?e:t.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function hn(t){if(\"bigint\"!=typeof t)throw new Error(\"field order must be bigint\");const e=t.toString(2).length;return Math.ceil(e/8)}function fn(t){const e=hn(t);return e+Math.ceil(e/2)}class dn extends br{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,hr(t);const r=wr(e);if(this.iHash=t.create(),\"function\"!=typeof this.iHash.update)throw new Error(\"Expected instance of class which extends utils.Hash\");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,s=new Uint8Array(n);s.set(r.length>n?t.create().update(r).digest():r);for(let t=0;t<s.length;t++)s[t]^=54;this.iHash.update(s),this.oHash=t.create();for(let t=0;t<s.length;t++)s[t]^=106;this.oHash.update(s),s.fill(0)}update(t){return fr(this),this.iHash.update(t),this}digestInto(t){fr(this),lr(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:r,finished:n,destroyed:s,blockLen:i,outputLen:o}=this;return t.finished=n,t.destroyed=s,t.blockLen=i,t.outputLen=o,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const pn=(t,e,r)=>new dn(t,e).update(r).digest();pn.create=(t,e)=>new dn(t,e);const gn=BigInt(0),yn=BigInt(1);function mn(t){return Kr(t.Fp,un.reduce(((t,e)=>(t[e]=\"function\",t)),{ORDER:\"bigint\",MASK:\"bigint\",BYTES:\"isSafeInteger\",BITS:\"isSafeInteger\"})),Kr(t,{n:\"bigint\",h:\"bigint\",Gx:\"field\",Gy:\"field\"},{nBitLength:\"isSafeInteger\",nByteLength:\"isSafeInteger\"}),Object.freeze({...ln(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const{bytesToNumberBE:wn,hexToBytes:bn}=t,vn={Err:class extends Error{constructor(t=\"\"){super(t)}},_parseInt(t){const{Err:e}=vn;if(t.length<2||2!==t[0])throw new e(\"Invalid signature integer tag\");const r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e(\"Invalid signature integer: wrong length\");if(128&n[0])throw new e(\"Invalid signature integer: negative\");if(0===n[0]&&!(128&n[1]))throw new e(\"Invalid signature integer: unnecessary leading zero\");return{d:wn(n),l:t.subarray(r+2)}},toSig(t){const{Err:e}=vn,r=\"string\"==typeof t?bn(t):t;if(!Br(r))throw new Error(\"ui8a expected\");let n=r.length;if(n<2||48!=r[0])throw new e(\"Invalid signature tag\");if(r[1]!==n-2)throw new e(\"Invalid signature: incorrect length\");const{d:s,l:i}=vn._parseInt(r.subarray(2)),{d:o,l:a}=vn._parseInt(i);if(a.length)throw new e(\"Invalid signature: left bytes after parsing\");return{r:s,s:o}},hexFromSig(t){const e=t=>8&Number.parseInt(t[0],16)?\"00\"+t:t,r=t=>{const e=t.toString(16);return 1&e.length?`0${e}`:e},n=e(r(t.s)),s=e(r(t.r)),i=n.length/2,o=s.length/2,a=r(i),c=r(o);return`30${r(o+i+4)}02${c}${s}02${a}${n}`}},An=BigInt(0),En=BigInt(1),xn=(BigInt(2),BigInt(3));BigInt(4);function Rn(t){const e=function(t){const e=mn(t);Kr(e,{a:\"field\",b:\"field\"},{allowedPrivateKeyLengths:\"array\",wrapPrivateKey:\"boolean\",isTorsionFree:\"function\",clearCofactor:\"function\",allowInfinityPoint:\"boolean\",fromBytes:\"function\",toBytes:\"function\"});const{endo:r,Fp:n,a:s}=e;if(r){if(!n.eql(s,n.ZERO))throw new Error(\"Endomorphism can only be defined for Koblitz curves that have a=0\");if(\"object\"!=typeof r||\"bigint\"!=typeof r.beta||\"function\"!=typeof r.splitScalar)throw new Error(\"Expected endomorphism with beta: bigint and splitScalar: function\")}return Object.freeze({...e})}(t),{Fp:r}=e,n=e.toBytes||((t,e,n)=>{const s=e.toAffine();return Hr(Uint8Array.from([4]),r.toBytes(s.x),r.toBytes(s.y))}),s=e.fromBytes||(t=>{const e=t.subarray(1);return{x:r.fromBytes(e.subarray(0,r.BYTES)),y:r.fromBytes(e.subarray(r.BYTES,2*r.BYTES))}});function i(t){const{a:n,b:s}=e,i=r.sqr(t),o=r.mul(i,t);return r.add(r.add(o,r.mul(t,n)),s)}if(!r.eql(r.sqr(e.Gy),i(e.Gx)))throw new Error(\"bad generator point: equation left != right\");function o(t){return\"bigint\"==typeof t&&An<t&&t<e.n}function a(t){if(!o(t))throw new Error(\"Expected valid bigint: 0 < bigint < curve.n\")}function c(t){const{allowedPrivateKeyLengths:r,nByteLength:n,wrapPrivateKey:s,n:i}=e;if(r&&\"bigint\"!=typeof t){if(Br(t)&&(t=Tr(t)),\"string\"!=typeof t||!r.includes(t.length))throw new Error(\"Invalid key\");t=t.padStart(2*n,\"0\")}let o;try{o=\"bigint\"==typeof t?t:Dr($r(\"private key\",t,n))}catch(e){throw new Error(`private key must be ${n} bytes, hex or bigint, not ${typeof t}`)}return s&&(o=nn(o,i)),a(o),o}const u=new Map;function l(t){if(!(t instanceof h))throw new Error(\"ProjectivePoint expected\")}class h{constructor(t,e,n){if(this.px=t,this.py=e,this.pz=n,null==t||!r.isValid(t))throw new Error(\"x required\");if(null==e||!r.isValid(e))throw new Error(\"y required\");if(null==n||!r.isValid(n))throw new Error(\"z required\")}static fromAffine(t){const{x:e,y:n}=t||{};if(!t||!r.isValid(e)||!r.isValid(n))throw new Error(\"invalid affine point\");if(t instanceof h)throw new Error(\"projective point not allowed\");const s=t=>r.eql(t,r.ZERO);return s(e)&&s(n)?h.ZERO:new h(e,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(t){const e=r.invertBatch(t.map((t=>t.pz)));return t.map(((t,r)=>t.toAffine(e[r]))).map(h.fromAffine)}static fromHex(t){const e=h.fromAffine(s($r(\"pointHex\",t)));return e.assertValidity(),e}static fromPrivateKey(t){return h.BASE.multiply(c(t))}_setWindowSize(t){this._WINDOW_SIZE=t,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error(\"bad point: ZERO\")}const{x:t,y:n}=this.toAffine();if(!r.isValid(t)||!r.isValid(n))throw new Error(\"bad point: x or y not FE\");const s=r.sqr(n),o=i(t);if(!r.eql(s,o))throw new Error(\"bad point: equation left != right\");if(!this.isTorsionFree())throw new Error(\"bad point: not in prime-order subgroup\")}hasEvenY(){const{y:t}=this.toAffine();if(r.isOdd)return!r.isOdd(t);throw new Error(\"Field doesn't support isOdd\")}equals(t){l(t);const{px:e,py:n,pz:s}=this,{px:i,py:o,pz:a}=t,c=r.eql(r.mul(e,a),r.mul(i,s)),u=r.eql(r.mul(n,a),r.mul(o,s));return c&&u}negate(){return new h(this.px,r.neg(this.py),this.pz)}double(){const{a:t,b:n}=e,s=r.mul(n,xn),{px:i,py:o,pz:a}=this;let c=r.ZERO,u=r.ZERO,l=r.ZERO,f=r.mul(i,i),d=r.mul(o,o),p=r.mul(a,a),g=r.mul(i,o);return g=r.add(g,g),l=r.mul(i,a),l=r.add(l,l),c=r.mul(t,l),u=r.mul(s,p),u=r.add(c,u),c=r.sub(d,u),u=r.add(d,u),u=r.mul(c,u),c=r.mul(g,c),l=r.mul(s,l),p=r.mul(t,p),g=r.sub(f,p),g=r.mul(t,g),g=r.add(g,l),l=r.add(f,f),f=r.add(l,f),f=r.add(f,p),f=r.mul(f,g),u=r.add(u,f),p=r.mul(o,a),p=r.add(p,p),f=r.mul(p,g),c=r.sub(c,f),l=r.mul(p,d),l=r.add(l,l),l=r.add(l,l),new h(c,u,l)}add(t){l(t);const{px:n,py:s,pz:i}=this,{px:o,py:a,pz:c}=t;let u=r.ZERO,f=r.ZERO,d=r.ZERO;const p=e.a,g=r.mul(e.b,xn);let y=r.mul(n,o),m=r.mul(s,a),w=r.mul(i,c),b=r.add(n,s),v=r.add(o,a);b=r.mul(b,v),v=r.add(y,m),b=r.sub(b,v),v=r.add(n,i);let A=r.add(o,c);return v=r.mul(v,A),A=r.add(y,w),v=r.sub(v,A),A=r.add(s,i),u=r.add(a,c),A=r.mul(A,u),u=r.add(m,w),A=r.sub(A,u),d=r.mul(p,v),u=r.mul(g,w),d=r.add(u,d),u=r.sub(m,d),d=r.add(m,d),f=r.mul(u,d),m=r.add(y,y),m=r.add(m,y),w=r.mul(p,w),v=r.mul(g,v),m=r.add(m,w),w=r.sub(y,w),w=r.mul(p,w),v=r.add(v,w),y=r.mul(m,v),f=r.add(f,y),y=r.mul(A,v),u=r.mul(b,u),u=r.sub(u,y),y=r.mul(b,m),d=r.mul(A,d),d=r.add(d,y),new h(u,f,d)}subtract(t){return this.add(t.negate())}is0(){return this.equals(h.ZERO)}wNAF(t){return d.wNAFCached(this,u,t,(t=>{const e=r.invertBatch(t.map((t=>t.pz)));return t.map(((t,r)=>t.toAffine(e[r]))).map(h.fromAffine)}))}multiplyUnsafe(t){const n=h.ZERO;if(t===An)return n;if(a(t),t===En)return this;const{endo:s}=e;if(!s)return d.unsafeLadder(this,t);let{k1neg:i,k1:o,k2neg:c,k2:u}=s.splitScalar(t),l=n,f=n,p=this;for(;o>An||u>An;)o&En&&(l=l.add(p)),u&En&&(f=f.add(p)),p=p.double(),o>>=En,u>>=En;return i&&(l=l.negate()),c&&(f=f.negate()),f=new h(r.mul(f.px,s.beta),f.py,f.pz),l.add(f)}multiply(t){a(t);let n,s,i=t;const{endo:o}=e;if(o){const{k1neg:t,k1:e,k2neg:a,k2:c}=o.splitScalar(i);let{p:u,f:l}=this.wNAF(e),{p:f,f:p}=this.wNAF(c);u=d.constTimeNegate(t,u),f=d.constTimeNegate(a,f),f=new h(r.mul(f.px,o.beta),f.py,f.pz),n=u.add(f),s=l.add(p)}else{const{p:t,f:e}=this.wNAF(i);n=t,s=e}return h.normalizeZ([n,s])[0]}multiplyAndAddUnsafe(t,e,r){const n=h.BASE,s=(t,e)=>e!==An&&e!==En&&t.equals(n)?t.multiply(e):t.multiplyUnsafe(e),i=s(this,e).add(s(t,r));return i.is0()?void 0:i}toAffine(t){const{px:e,py:n,pz:s}=this,i=this.is0();null==t&&(t=i?r.ONE:r.inv(s));const o=r.mul(e,t),a=r.mul(n,t),c=r.mul(s,t);if(i)return{x:r.ZERO,y:r.ZERO};if(!r.eql(c,r.ONE))throw new Error(\"invZ was invalid\");return{x:o,y:a}}isTorsionFree(){const{h:t,isTorsionFree:r}=e;if(t===En)return!0;if(r)return r(h,this);throw new Error(\"isTorsionFree() has not been declared for the elliptic curve\")}clearCofactor(){const{h:t,clearCofactor:r}=e;return t===En?this:r?r(h,this):this.multiplyUnsafe(e.h)}toRawBytes(t=!0){return this.assertValidity(),n(h,this,t)}toHex(t=!0){return Tr(this.toRawBytes(t))}}h.BASE=new h(e.Gx,e.Gy,r.ONE),h.ZERO=new h(r.ZERO,r.ONE,r.ZERO);const f=e.nBitLength,d=function(t,e){const r=(t,e)=>{const r=e.negate();return t?r:e},n=t=>({windows:Math.ceil(e/t)+1,windowSize:2**(t-1)});return{constTimeNegate:r,unsafeLadder(e,r){let n=t.ZERO,s=e;for(;r>gn;)r&yn&&(n=n.add(s)),s=s.double(),r>>=yn;return n},precomputeWindow(t,e){const{windows:r,windowSize:s}=n(e),i=[];let o=t,a=o;for(let t=0;t<r;t++){a=o,i.push(a);for(let t=1;t<s;t++)a=a.add(o),i.push(a);o=a.double()}return i},wNAF(e,s,i){const{windows:o,windowSize:a}=n(e);let c=t.ZERO,u=t.BASE;const l=BigInt(2**e-1),h=2**e,f=BigInt(e);for(let t=0;t<o;t++){const e=t*a;let n=Number(i&l);i>>=f,n>a&&(n-=h,i+=yn);const o=e,d=e+Math.abs(n)-1,p=t%2!=0,g=n<0;0===n?u=u.add(r(p,s[o])):c=c.add(r(g,s[d]))}return{p:c,f:u}},wNAFCached(t,e,r,n){const s=t._WINDOW_SIZE||1;let i=e.get(t);return i||(i=this.precomputeWindow(t,s),1!==s&&e.set(t,n(i))),this.wNAF(s,i,r)}}}(h,e.endo?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:o}}function In(t){const e=function(t){const e=mn(t);return Kr(e,{hash:\"hash\",hmac:\"function\",randomBytes:\"function\"},{bits2int:\"function\",bits2int_modN:\"function\",lowS:\"boolean\"}),Object.freeze({lowS:!0,...e})}(t),{Fp:r,n}=e,s=r.BYTES+1,i=2*r.BYTES+1;function o(t){return nn(t,n)}function a(t){return an(t,n)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:h}=Rn({...e,toBytes(t,e,n){const s=e.toAffine(),i=r.toBytes(s.x),o=Hr;return n?o(Uint8Array.from([e.hasEvenY()?2:3]),i):o(Uint8Array.from([4]),i,r.toBytes(s.y))},fromBytes(t){const e=t.length,n=t[0],o=t.subarray(1);if(e!==s||2!==n&&3!==n){if(e===i&&4===n){return{x:r.fromBytes(o.subarray(0,r.BYTES)),y:r.fromBytes(o.subarray(r.BYTES,2*r.BYTES))}}throw new Error(`Point of length ${e} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}{const t=Dr(o);if(!(An<(a=t)&&a<r.ORDER))throw new Error(\"Point is not on curve\");const e=l(t);let s=r.sqrt(e);return!(1&~n)!==((s&En)===En)&&(s=r.neg(s)),{x:t,y:s}}var a}}),f=t=>Tr(_r(t,e.nByteLength));function d(t){return t>n>>En}const p=(t,e,r)=>Dr(t.slice(e,r));class g{constructor(t,e,r){this.r=t,this.s=e,this.recovery=r,this.assertValidity()}static fromCompact(t){const r=e.nByteLength;return t=$r(\"compactSignature\",t,2*r),new g(p(t,0,r),p(t,r,2*r))}static fromDER(t){const{r:e,s:r}=vn.toSig($r(\"DER\",t));return new g(e,r)}assertValidity(){if(!h(this.r))throw new Error(\"r must be 0 < r < CURVE.n\");if(!h(this.s))throw new Error(\"s must be 0 < s < CURVE.n\")}addRecoveryBit(t){return new g(this.r,this.s,t)}recoverPublicKey(t){const{r:n,s,recovery:i}=this,u=b($r(\"msgHash\",t));if(null==i||![0,1,2,3].includes(i))throw new Error(\"recovery id invalid\");const l=2===i||3===i?n+e.n:n;if(l>=r.ORDER)throw new Error(\"recovery id 2 or 3 invalid\");const h=1&i?\"03\":\"02\",d=c.fromHex(h+f(l)),p=a(l),g=o(-u*p),y=o(s*p),m=c.BASE.multiplyAndAddUnsafe(d,g,y);if(!m)throw new Error(\"point at infinify\");return m.assertValidity(),m}hasHighS(){return d(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return Mr(this.toDERHex())}toDERHex(){return vn.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Mr(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}const y={isValidPrivateKey(t){try{return u(t),!0}catch(t){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const t=fn(e.n);return function(t,e,r=!1){const n=t.length,s=hn(e),i=fn(e);if(n<16||n<i||n>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${n}`);const o=nn(r?Dr(t):jr(t),e-Xr)+Xr;return r?Gr(o,s):_r(o,s)}(e.randomBytes(t),e.n)},precompute:(t=8,e=c.BASE)=>(e._setWindowSize(t),e.multiply(BigInt(3)),e)};function m(t){const e=Br(t),r=\"string\"==typeof t,n=(e||r)&&t.length;return e?n===s||n===i:r?n===2*s||n===2*i:t instanceof c}const w=e.bits2int||function(t){const r=Dr(t),n=8*t.length-e.nBitLength;return n>0?r>>BigInt(n):r},b=e.bits2int_modN||function(t){return o(w(t))},v=Vr(e.nBitLength);function A(t){if(\"bigint\"!=typeof t)throw new Error(\"bigint expected\");if(!(An<=t&&t<v))throw new Error(`bigint expected < 2^${e.nBitLength}`);return _r(t,e.nByteLength)}function E(t,n,s=x){if([\"recovered\",\"canonical\"].some((t=>t in s)))throw new Error(\"sign() legacy options not supported\");const{hash:i,randomBytes:l}=e;let{lowS:f,prehash:p,extraEntropy:y}=s;null==f&&(f=!0),t=$r(\"msgHash\",t),p&&(t=$r(\"prehashed msgHash\",i(t)));const m=b(t),v=u(n),E=[A(v),A(m)];if(null!=y){const t=!0===y?l(r.BYTES):y;E.push($r(\"extraEntropy\",t))}const R=Hr(...E),I=m;return{seed:R,k2sig:function(t){const e=w(t);if(!h(e))return;const r=a(e),n=c.BASE.multiply(e).toAffine(),s=o(n.x);if(s===An)return;const i=o(r*o(I+s*v));if(i===An)return;let u=(n.x===s?0:2)|Number(n.y&En),l=i;return f&&d(i)&&(l=function(t){return d(t)?o(-t):t}(i),u^=1),new g(s,l,u)}}}const x={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:e,getPublicKey:function(t,e=!0){return c.fromPrivateKey(t).toRawBytes(e)},getSharedSecret:function(t,e,r=!0){if(m(t))throw new Error(\"first arg must be private key\");if(!m(e))throw new Error(\"second arg must be public key\");return c.fromHex(e).multiply(u(t)).toRawBytes(r)},sign:function(t,r,n=x){const{seed:s,k2sig:i}=E(t,r,n),o=e;return zr(o.hash.outputLen,o.nByteLength,o.hmac)(s,i)},verify:function(t,r,n,s=R){const i=t;if(r=$r(\"msgHash\",r),n=$r(\"publicKey\",n),\"strict\"in s)throw new Error(\"options.strict was renamed to lowS\");const{lowS:u,prehash:l}=s;let h,f;try{if(\"string\"==typeof i||Br(i))try{h=g.fromDER(i)}catch(t){if(!(t instanceof vn.Err))throw t;h=g.fromCompact(i)}else{if(\"object\"!=typeof i||\"bigint\"!=typeof i.r||\"bigint\"!=typeof i.s)throw new Error(\"PARSE\");{const{r:t,s:e}=i;h=new g(t,e)}}f=c.fromHex(n)}catch(t){if(\"PARSE\"===t.message)throw new Error(\"signature must be Signature instance, Uint8Array or hex string\");return!1}if(u&&h.hasHighS())return!1;l&&(r=e.hash(r));const{r:d,s:p}=h,y=b(r),m=a(p),w=o(y*m),v=o(d*m),A=c.BASE.multiplyAndAddUnsafe(f,w,v)?.toAffine();return!!A&&o(A.x)===d},ProjectivePoint:c,Signature:g,utils:y}}function Sn(t){return{hash:t,hmac:(e,...r)=>pn(t,e,function(...t){let e=0;for(let r=0;r<t.length;r++){const n=t[r];if(!gr(n))throw new Error(\"Uint8Array expected\");e+=n.length}const r=new Uint8Array(e);for(let e=0,n=0;e<t.length;e++){const s=t[e];r.set(s,n),n+=s.length}return r}(...r)),randomBytes:vr}}const Nn=BigInt(\"0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f\"),On=BigInt(\"0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141\"),Cn=BigInt(1),Pn=BigInt(2),Bn=(t,e)=>(t+e/Pn)/e;function kn(t){const e=Nn,r=BigInt(3),n=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=t*t*t%e,l=u*u*t%e,h=on(l,r,e)*l%e,f=on(h,r,e)*l%e,d=on(f,Pn,e)*u%e,p=on(d,s,e)*d%e,g=on(p,i,e)*p%e,y=on(g,a,e)*g%e,m=on(y,c,e)*y%e,w=on(m,a,e)*g%e,b=on(w,r,e)*l%e,v=on(b,o,e)*p%e,A=on(v,n,e)*u%e,E=on(A,Pn,e);if(!Tn.eql(Tn.sqr(E),t))throw new Error(\"Cannot find square root\");return E}const Tn=function(t,e,r=!1,n={}){if(t<=Wr)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:s,nByteLength:i}=ln(t,e);if(i>2048)throw new Error(\"Field lengths over 2048 bytes are not supported\");const o=cn(t),a=Object.freeze({ORDER:t,BITS:s,BYTES:i,MASK:Vr(s),ZERO:Wr,ONE:Xr,create:e=>nn(e,t),isValid:e=>{if(\"bigint\"!=typeof e)throw new Error(\"Invalid field element: expected bigint, got \"+typeof e);return Wr<=e&&e<t},is0:t=>t===Wr,isOdd:t=>(t&Xr)===Xr,neg:e=>nn(-e,t),eql:(t,e)=>t===e,sqr:e=>nn(e*e,t),add:(e,r)=>nn(e+r,t),sub:(e,r)=>nn(e-r,t),mul:(e,r)=>nn(e*r,t),pow:(t,e)=>function(t,e,r){if(r<Wr)throw new Error(\"Expected power > 0\");if(r===Wr)return t.ONE;if(r===Xr)return e;let n=t.ONE,s=e;for(;r>Wr;)r&Xr&&(n=t.mul(n,s)),s=t.sqr(s),r>>=Xr;return n}(a,t,e),div:(e,r)=>nn(e*an(r,t),t),sqrN:t=>t*t,addN:(t,e)=>t+e,subN:(t,e)=>t-e,mulN:(t,e)=>t*e,inv:e=>an(e,t),sqrt:n.sqrt||(t=>o(a,t)),invertBatch:t=>function(t,e){const r=new Array(e.length),n=e.reduce(((e,n,s)=>t.is0(n)?e:(r[s]=e,t.mul(e,n))),t.ONE),s=t.inv(n);return e.reduceRight(((e,n,s)=>t.is0(n)?e:(r[s]=t.mul(e,r[s]),t.mul(e,n))),s),r}(a,t),cmov:(t,e,r)=>r?e:t,toBytes:t=>r?Gr(t,i):_r(t,i),fromBytes:t=>{if(t.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${t.length}`);return r?jr(t):Dr(t)}});return Object.freeze(a)}(Nn,void 0,void 0,{sqrt:kn}),Ln=function(t,e){const r=e=>In({...t,...Sn(e)});return Object.freeze({...r(e),create:r})}({a:BigInt(0),b:BigInt(7),Fp:Tn,n:On,Gx:BigInt(\"55066263022277343669578718895168534326250603453777594175500187360389116729240\"),Gy:BigInt(\"32670510020758816978083085130507043184471273380659243275938904335757337482424\"),h:BigInt(1),lowS:!0,endo:{beta:BigInt(\"0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee\"),splitScalar:t=>{const e=On,r=BigInt(\"0x3086d221a7d46bcde86c90e49284eb15\"),n=-Cn*BigInt(\"0xe4437ed6010e88286f547fa90abfe4c3\"),s=BigInt(\"0x114ca50f7a8e2f3f657c1108d9d44cfd8\"),i=r,o=BigInt(\"0x100000000000000000000000000000000\"),a=Bn(i*t,e),c=Bn(-n*t,e);let u=nn(t-a*r-c*s,e),l=nn(-a*n-c*i,e);const h=u>o,f=l>o;if(h&&(u=e-u),f&&(l=e-l),u>o||l>o)throw new Error(\"splitScalar: Endomorphism failed, k=\"+t);return{k1neg:h,k1:u,k2neg:f,k2:l}}}},Or);BigInt(0);Ln.ProjectivePoint;function Un(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function Fn(t,...e){if(!((r=t)instanceof Uint8Array||null!=r&&\"object\"==typeof r&&\"Uint8Array\"===r.constructor.name))throw new Error(\"Expected Uint8Array\");var r;if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function Mn(t,e=!0){if(t.destroyed)throw new Error(\"Hash instance has been destroyed\");if(e&&t.finished)throw new Error(\"Hash#digest() has already been called\")}function Dn(t,e){Fn(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const jn={number:Un,bool:function(t){if(\"boolean\"!=typeof t)throw new Error(`Expected boolean, not ${t}`)},bytes:Fn,hash:function(t){if(\"function\"!=typeof t||\"function\"!=typeof t.create)throw new Error(\"Hash should be wrapped by utils.wrapConstructor\");Un(t.outputLen),Un(t.blockLen)},exists:Mn,output:Dn},_n=jn;function Gn(t){return t instanceof Uint8Array||null!=t&&\"object\"==typeof t&&\"Uint8Array\"===t.constructor.name}const $n=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Hn=(t,e)=>t<<32-e|t>>>e;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error(\"Non little-endian hardware is not supported\");Array.from({length:256},((t,e)=>e.toString(16).padStart(2,\"0\")));function Vn(t){if(\"string\"!=typeof t)throw new Error(\"utf8ToBytes expected string, got \"+typeof t);return new Uint8Array((new TextEncoder).encode(t))}function qn(t){if(\"string\"==typeof t&&(t=Vn(t)),!Gn(t))throw new Error(\"expected Uint8Array, got \"+typeof t);return t}class Jn{clone(){return this._cloneInto()}}function zn(t){const e=e=>t().update(qn(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}_n.bool,_n.bytes;function Qn(t){return e=>(_n.bytes(e),t(e))}(()=>{const t=\"object\"==typeof globalThis&&\"crypto\"in globalThis?globalThis.crypto:void 0,e=\"undefined\"!=typeof module&&\"function\"==typeof module.require&&module.require.bind(module);e&&!t&&e(\"crypto\")})();const Kn=t=>{if(\"string\"!=typeof t)throw new Error(\"[stripHexPrefix] input must be type 'string', received \"+typeof t);return function(t){if(\"string\"!=typeof t)throw new Error(\"[isHexPrefixed] input must be type 'string', received type \"+typeof t);return\"0\"===t[0]&&\"x\"===t[1]}(t)?t.slice(2):t};function Wn(t){let e=t;if(\"string\"!=typeof e)throw new Error(\"[padToEven] value must be type 'string', received \"+typeof e);return e.length%2&&(e=`0${e}`),e}function Xn(t,e){return!(\"string\"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&!(void 0!==e&&e>0&&t.length!==2+2*e)}const Zn=BigInt(0),Yn={},ts={};for(let t=0;t<16;t++){const e=t,r=16*t,n=t.toString(16).toLowerCase();ts[n]=e,ts[n.toUpperCase()]=e,Yn[n]=r,Yn[n.toUpperCase()]=r}function es(t){const e=t.length,r=new Uint8Array(e/2);for(let n=0;n<e;n+=2)r[n/2]=Yn[t[n]]+ts[t[n+1]];return r}const rs=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,\"0\"))),ns=t=>{let e=\"0x\";if(void 0===t||0===t.length)return e;for(const r of t)e+=rs[r];return e},ss=[];for(let t=0;t<=65535;t++)ss[t]=BigInt(t);const is=(t,e=!1)=>{e&&t.reverse();const r=ns(t);return\"0x\"===r?Zn:4===r.length?ss[t[0]]:6===r.length?ss[256*t[0]+t[1]]:BigInt(r)},os=t=>{if(\"string\"!=typeof t)throw new Error(`hex argument type ${typeof t} must be of type string`);if(!/^0x[0-9a-fA-F]*$/.test(t))throw new Error(`Input must be a 0x-prefixed hexadecimal string, got ${t}`);return(t=t.slice(2)).length%2!=0&&(t=Wn(t)),es(t)},as=t=>{const e=(t=>{if(!Number.isSafeInteger(t)||t<0)throw new Error(`Received an invalid integer type: ${t}`);return`0x${t.toString(16)}`})(t);return os(e)},cs=t=>{if(null==t)return new Uint8Array;if(Array.isArray(t)||t instanceof Uint8Array)return Uint8Array.from(t);if(\"string\"==typeof t){if(!Xn(t))throw new Error(`Cannot convert string to Uint8Array. toBytes only supports 0x-prefixed hex strings and this string was given: ${t}`);return os(t)}if(\"number\"==typeof t)return as(t);if(\"bigint\"==typeof t){if(t<Zn)throw new Error(`Cannot convert negative bigint to Uint8Array. Given: ${t}`);let e=t.toString(16);return e.length%2&&(e=\"0\"+e),(t=>{if(\"0x\"===t.slice(0,2))throw new Error(\"hex string is prefixed with 0x, should be unprefixed\");return es(Wn(t))})(e)}if(void 0!==t.toBytes)return t.toBytes();throw new Error(\"invalid type\")};BigInt(\"0xffffffffffffffff\"),BigInt(\"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\"),BigInt(\"115792089237316195423570985008687907853269984665640564039457584007913129639935\"),Ln.CURVE.n,Ln.CURVE.n,BigInt(2),BigInt(\"0x10000000000000000000000000000000000000000000000000000000000000000\"),os(\"0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470\"),os(\"0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347\"),os(\"0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421\"),Uint8Array.from([128]),BigInt(-1),BigInt(0),BigInt(1),BigInt(2),BigInt(3),BigInt(7),BigInt(8),BigInt(27),BigInt(28),BigInt(31),BigInt(32),BigInt(64),BigInt(128),BigInt(255),BigInt(256),BigInt(96),BigInt(100),BigInt(160),BigInt(224),BigInt(7922816251426434e13),BigInt(1461501637330903e33),BigInt(2695994666715064e52),BigInt(1e9);Array.from({length:256},((t,e)=>e.toString(16).padStart(2,\"0\")));const us=BigInt(2**32-1),ls=BigInt(32);function hs(t,e=!1){return e?{h:Number(t&us),l:Number(t>>ls&us)}:{h:0|Number(t>>ls&us),l:0|Number(t&us)}}function fs(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=hs(t[s],e);[r[s],n[s]]=[i,o]}return[r,n]}const ds=(t,e,r)=>t<<r|e>>>32-r,ps=(t,e,r)=>e<<r|t>>>32-r,gs=(t,e,r)=>e<<r-32|t>>>64-r,ys=(t,e,r)=>t<<r-32|e>>>64-r;const[ms,ws,bs]=[[],[],[]],vs=BigInt(0),As=BigInt(1),Es=BigInt(2),xs=BigInt(7),Rs=BigInt(256),Is=BigInt(113);for(let t=0,e=As,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],ms.push(2*(5*n+r)),ws.push((t+1)*(t+2)/2%64);let s=vs;for(let t=0;t<7;t++)e=(e<<As^(e>>xs)*Is)%Rs,e&Es&&(s^=As<<(As<<BigInt(t))-As);bs.push(s)}const[Ss,Ns]=fs(bs,!0),Os=(t,e,r)=>r>32?gs(t,e,r):ds(t,e,r),Cs=(t,e,r)=>r>32?ys(t,e,r):ps(t,e,r);class Ps extends Jn{constructor(t,e,r,n=!1,s=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=r,this.enableXOF=n,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Un(r),0>=this.blockLen||this.blockLen>=200)throw new Error(\"Sha3 supports only keccak-f1600 function\");var i;this.state=new Uint8Array(200),this.state32=(i=this.state,new Uint32Array(i.buffer,i.byteOffset,Math.floor(i.byteLength/4)))}keccak(){!function(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let e=0;e<10;e++)r[e]=t[e]^t[e+10]^t[e+20]^t[e+30]^t[e+40];for(let e=0;e<10;e+=2){const n=(e+8)%10,s=(e+2)%10,i=r[s],o=r[s+1],a=Os(i,o,1)^r[n],c=Cs(i,o,1)^r[n+1];for(let r=0;r<50;r+=10)t[e+r]^=a,t[e+r+1]^=c}let e=t[2],s=t[3];for(let r=0;r<24;r++){const n=ws[r],i=Os(e,s,n),o=Cs(e,s,n),a=ms[r];e=t[a],s=t[a+1],t[a]=i,t[a+1]=o}for(let e=0;e<50;e+=10){for(let n=0;n<10;n++)r[n]=t[e+n];for(let n=0;n<10;n++)t[e+n]^=~r[(n+2)%10]&r[(n+4)%10]}t[0]^=Ss[n],t[1]^=Ns[n]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){Mn(this);const{blockLen:e,state:r}=this,n=(t=qn(t)).length;for(let s=0;s<n;){const i=Math.min(e-this.pos,n-s);for(let e=0;e<i;e++)r[this.pos++]^=t[s++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:r,blockLen:n}=this;t[r]^=e,128&e&&r===n-1&&this.keccak(),t[n-1]^=128,this.keccak()}writeInto(t){Mn(this,!1),Fn(t),this.finish();const e=this.state,{blockLen:r}=this;for(let n=0,s=t.length;n<s;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,s-n);t.set(e.subarray(this.posOut,this.posOut+i),n),this.posOut+=i,n+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error(\"XOF is not possible for this instance\");return this.writeInto(t)}xof(t){return Un(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Dn(t,this),this.finished)throw new Error(\"digest() was already called\");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:r,outputLen:n,rounds:s,enableXOF:i}=this;return t||(t=new Ps(e,r,n,i,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=r,t.outputLen=n,t.enableXOF=i,t.destroyed=this.destroyed,t}}const Bs=(t,e,r)=>zn((()=>new Ps(e,t,r))),ks=Bs(1,144,28),Ts=Bs(1,136,32),Ls=Bs(1,104,48),Us=Bs(1,72,64),Fs=(Qn(ks),(()=>{const t=Qn(Ts);return t.create=Ts.create,t})());Qn(Ls),Qn(Us);const Ms=function(t){try{!function(t){if(\"string\"!=typeof t)throw new Error(`This method only supports strings but input was: ${t}`)}(t)}catch(t){return!1}return/^0x[0-9a-fA-F]{40}$/.test(t)},Ds=function(t,e){!function(t){if(!Xn(t))throw new Error(`This method only supports 0x-prefixed hex strings but input was: ${t}`)}(t);const r=Kn(t).toLowerCase();let n=\"\";if(void 0!==e){n=is(cs(e)).toString()+\"0x\"}const s=Vn(n+r),i=ns(Fs(s)).slice(2);let o=\"0x\";for(let t=0;t<r.length;t++)parseInt(i[t],16)>=8?o+=r[t].toUpperCase():o+=r[t];return o};new Uint8Array(0);var js,_s,Gs;!function(t){t.String=\"string\",t.Bytes=\"view\",t.Number=\"number\"}(js||(js={})),function(t){t.String=\"string\",t.Bytes=\"view\",t.JSON=\"json\"}(_s||(_s={})),function(t){t[t.Number=0]=\"Number\",t[t.BigInt=1]=\"BigInt\",t[t.Uint8Array=2]=\"Uint8Array\",t[t.PrefixedHexString=3]=\"PrefixedHexString\"}(Gs||(Gs={}));r(7007);class $s extends Jn{constructor(t,e,r,n){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=$n(this.buffer)}update(t){Mn(this);const{view:e,buffer:r,blockLen:n}=this,s=(t=qn(t)).length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);if(o!==n)r.set(t.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===n&&(this.process(e,0),this.pos=0);else{const e=$n(t);for(;n<=s-i;i+=n)this.process(e,i)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){Mn(this),Dn(t,this),this.finished=!0;const{buffer:e,view:r,blockLen:n,isLE:s}=this;let{pos:i}=this;e[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>n-i&&(this.process(r,0),i=0);for(let t=i;t<n;t++)e[t]=0;!function(t,e,r,n){if(\"function\"==typeof t.setBigUint64)return t.setBigUint64(e,r,n);const s=BigInt(32),i=BigInt(4294967295),o=Number(r>>s&i),a=Number(r&i),c=n?4:0,u=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+u,a,n)}(r,n-8,BigInt(8*this.length),s),this.process(r,0);const o=$n(t),a=this.outputLen;if(a%4)throw new Error(\"_sha2: outputLen should be aligned to 32bit\");const c=a/4,u=this.get();if(c>u.length)throw new Error(\"_sha2: outputLen bigger than state\");for(let t=0;t<c;t++)o.setUint32(4*t,u[t],s)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:n,finished:s,destroyed:i,pos:o}=this;return t.length=n,t.pos=o,t.finished=s,t.destroyed=i,n%e&&t.buffer.set(r),t}}const Hs=(t,e,r)=>t&e^~t&r,Vs=(t,e,r)=>t&e^t&r^e&r,qs=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Js=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),zs=new Uint32Array(64);class Qs extends $s{constructor(){super(64,32,8,!1),this.A=0|Js[0],this.B=0|Js[1],this.C=0|Js[2],this.D=0|Js[3],this.E=0|Js[4],this.F=0|Js[5],this.G=0|Js[6],this.H=0|Js[7]}get(){const{A:t,B:e,C:r,D:n,E:s,F:i,G:o,H:a}=this;return[t,e,r,n,s,i,o,a]}set(t,e,r,n,s,i,o,a){this.A=0|t,this.B=0|e,this.C=0|r,this.D=0|n,this.E=0|s,this.F=0|i,this.G=0|o,this.H=0|a}process(t,e){for(let r=0;r<16;r++,e+=4)zs[r]=t.getUint32(e,!1);for(let t=16;t<64;t++){const e=zs[t-15],r=zs[t-2],n=Hn(e,7)^Hn(e,18)^e>>>3,s=Hn(r,17)^Hn(r,19)^r>>>10;zs[t]=s+zs[t-7]+n+zs[t-16]|0}let{A:r,B:n,C:s,D:i,E:o,F:a,G:c,H:u}=this;for(let t=0;t<64;t++){const e=u+(Hn(o,6)^Hn(o,11)^Hn(o,25))+Hs(o,a,c)+qs[t]+zs[t]|0,l=(Hn(r,2)^Hn(r,13)^Hn(r,22))+Vs(r,n,s)|0;u=c,c=a,a=o,o=i+e|0,i=s,s=n,n=r,r=e+l|0}r=r+this.A|0,n=n+this.B|0,s=s+this.C|0,i=i+this.D|0,o=o+this.E|0,a=a+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,n,s,i,o,a,c,u)}roundClean(){zs.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}Qn(zn((()=>new Qs)));var Ks=r(4433);const Ws={randomUUID:\"undefined\"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Xs;const Zs=new Uint8Array(16);function Ys(){if(!Xs&&(Xs=\"undefined\"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Xs))throw new Error(\"crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported\");return Xs(Zs)}const ti=[];for(let t=0;t<256;++t)ti.push((t+256).toString(16).slice(1));function ei(t,e=0){return ti[t[e+0]]+ti[t[e+1]]+ti[t[e+2]]+ti[t[e+3]]+\"-\"+ti[t[e+4]]+ti[t[e+5]]+\"-\"+ti[t[e+6]]+ti[t[e+7]]+\"-\"+ti[t[e+8]]+ti[t[e+9]]+\"-\"+ti[t[e+10]]+ti[t[e+11]]+ti[t[e+12]]+ti[t[e+13]]+ti[t[e+14]]+ti[t[e+15]]}const ri=function(t,e,r){if(Ws.randomUUID&&!e&&!t)return Ws.randomUUID();const n=(t=t||{}).random||(t.rng||Ys)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){r=r||0;for(let t=0;t<16;++t)e[r+t]=n[t];return e}return ei(n)},ni={wallets:{}};function si(t){throw new Error(t)}var ii;!function(t){t[t.DEBUG=0]=\"DEBUG\",t[t.INFO=1]=\"INFO\",t[t.WARN=2]=\"WARN\",t[t.ERROR=3]=\"ERROR\"}(ii||(ii={}));const oi={threshold:ii.WARN,handlers:{[ii.DEBUG]:console.debug,[ii.INFO]:console.info,[ii.WARN]:console.warn,[ii.ERROR]:console.error}};const ai=new class{#t;constructor(t={}){this.#t={...oi,...t}}setLevel(t){this.#t.threshold=t}debug(t,...e){this.#e(ii.DEBUG,t,...e)}info(t,...e){this.#e(ii.INFO,t,...e)}warn(t,...e){this.#e(ii.WARN,t,...e)}error(t,...e){this.#e(ii.ERROR,t,...e)}#e(t=ii.DEBUG,e,...r){const{threshold:n,handlers:s}=this.#t;t>=n&&s[t](e,...r)}};class ci{#r;constructor(t){this.#r=t}async listAccounts(){return Object.values(this.#r.wallets).map((t=>t.account))}async getAccount(t){var e;return(null===(e=this.#r.wallets[t])||void 0===e?void 0:e.account)??si(`Account '${t}' not found`)}async createAccount(t){var e;if(!(null===(e=t)||void 0===e?void 0:e.address))throw new Error(\"Account creation options must include an address\");if(!Jt(t.address)&&!Ms(t.address))throw new Error(`Invalid address '${t.address}' provided`);const r=Ds(t.address);if(!function(t,e){return!e.find((e=>e.account.address===t))}(r,Object.values(this.#r.wallets)))throw new Error(`Account address already in use: ${r}`);try{const t={id:ri(),options:{},address:r,methods:[],type:s.EthAccountType.Eoa};return await this.#n(Ks.KeyringEvent.AccountCreated,{account:t}),this.#r.wallets[t.id]={account:t,privateKey:\"\"},await this.#s(),t}catch(t){throw new Error(`Unknown snap error: ${t.message}`)}}async filterAccountChains(t,e){return e.filter((t=>function(t){return t.startsWith(\"eip155:\")}(t)))}async updateAccount(t){const e=this.#r.wallets[t.id]??si(`Account '${t.id}' not found`),r={...e.account,...t,address:e.account.address,methods:e.account.methods,type:e.account.type,options:e.account.options};try{await this.#n(Ks.KeyringEvent.AccountUpdated,{account:r}),e.account=r,await this.#s()}catch(t){throw new Error(`Unknown snap error: ${t.message}`)}}async deleteAccount(t){if(!this.#r.wallets[t])throw new Error(`Account '${t}' not found`);try{await this.#n(Ks.KeyringEvent.AccountDeleted,{id:t}),delete this.#r.wallets[t],await this.#s()}catch(t){throw new Error(`Unknown snap error: ${t.message}`)}}async submitRequest(t){si(`Signing is not supported for this watch-only account snap.\\nRequest: ${JSON.stringify(t,null,2)}`)}async#s(){await async function(t){await snap.request({method:\"snap_manageState\",params:{operation:\"update\",newState:t}})}(this.#r)}async#n(t,e){await(0,s.emitSnapKeyringEvent)(snap,t,e)}}const ui=new Map([[\"metamask\",[s.KeyringRpcMethod.ListAccounts,s.KeyringRpcMethod.GetAccount,s.KeyringRpcMethod.FilterAccountChains,s.KeyringRpcMethod.DeleteAccount,s.KeyringRpcMethod.ListRequests,s.KeyringRpcMethod.GetRequest,s.KeyringRpcMethod.SubmitRequest,s.KeyringRpcMethod.ApproveRequest,s.KeyringRpcMethod.RejectRequest]],[\"http://localhost:8000\",[s.KeyringRpcMethod.ListAccounts,s.KeyringRpcMethod.GetAccount,s.KeyringRpcMethod.CreateAccount,s.KeyringRpcMethod.FilterAccountChains,s.KeyringRpcMethod.UpdateAccount,s.KeyringRpcMethod.DeleteAccount,s.KeyringRpcMethod.ExportAccount,s.KeyringRpcMethod.ListRequests,s.KeyringRpcMethod.GetRequest,s.KeyringRpcMethod.SubmitRequest,s.KeyringRpcMethod.ApproveRequest,s.KeyringRpcMethod.RejectRequest]],[\"https://snaps.metamask.io\",[s.KeyringRpcMethod.ListAccounts,s.KeyringRpcMethod.GetAccount,s.KeyringRpcMethod.CreateAccount,s.KeyringRpcMethod.FilterAccountChains,s.KeyringRpcMethod.UpdateAccount,s.KeyringRpcMethod.DeleteAccount,s.KeyringRpcMethod.ExportAccount,s.KeyringRpcMethod.ListRequests,s.KeyringRpcMethod.GetRequest,s.KeyringRpcMethod.ApproveRequest,s.KeyringRpcMethod.RejectRequest]]]),li=\"Watch any Ethereum account \",hi=\"Enter any public address or *ENS name to add an account to watch within MetaMask.\",fi=\"The watched accounts will be listed alongside the rest of your accounts in a safe, watch-only mode. Remember, you can look but you cant sign or transact.\",di=\"Ethereum address\",pi=\"Enter a public address or ENS name\",gi=\"*ENS names are only supported on Ethereum mainnet\";var yi;function mi(t){return Ve([_e({label:\"Error\",value:Fe(t),variant:Me.Critical})])}async function wi(t,e){await snap.request({method:\"snap_updateInterface\",params:{id:t,ui:mi(e)}})}!function(t){t.AddressForm=\"address-form\",t.AddressInput=\"address-input\",t.SubmitButton=\"submit\"}(yi||(yi={}));const bi=\"6.11.1\";function vi(t,e,r){const n=e.split(\"|\").map((t=>t.trim()));for(let r=0;r<n.length;r++)switch(e){case\"any\":return;case\"bigint\":case\"boolean\":case\"number\":case\"string\":if(typeof t===e)return}const s=new Error(`invalid value for type ${e}`);throw s.code=\"INVALID_ARGUMENT\",s.argument=`value.${r}`,s.value=t,s}async function Ai(t){const e=Object.keys(t);return(await Promise.all(e.map((e=>Promise.resolve(t[e]))))).reduce(((t,r,n)=>(t[e[n]]=r,t)),{})}function Ei(t,e,r){for(let n in e){let s=e[n];const i=r?r[n]:null;i&&vi(s,i,n),Object.defineProperty(t,n,{enumerable:!0,value:s,writable:!1})}}function xi(t){if(null==t)return\"null\";if(Array.isArray(t))return\"[ \"+t.map(xi).join(\", \")+\" ]\";if(t instanceof Uint8Array){const e=\"0123456789abcdef\";let r=\"0x\";for(let n=0;n<t.length;n++)r+=e[t[n]>>4],r+=e[15&t[n]];return r}if(\"object\"==typeof t&&\"function\"==typeof t.toJSON)return xi(t.toJSON());switch(typeof t){case\"boolean\":case\"symbol\":case\"number\":return t.toString();case\"bigint\":return BigInt(t).toString();case\"string\":return JSON.stringify(t);case\"object\":{const e=Object.keys(t);return e.sort(),\"{ \"+e.map((e=>`${xi(e)}: ${xi(t[e])}`)).join(\", \")+\" }\"}}return\"[ COULD NOT SERIALIZE ]\"}function Ri(t,e){return t&&t.code===e}function Ii(t){return Ri(t,\"CALL_EXCEPTION\")}function Si(t,e,r){let n,s=t;{const n=[];if(r){if(\"message\"in r||\"code\"in r||\"name\"in r)throw new Error(`value will overwrite populated values: ${xi(r)}`);for(const t in r){if(\"shortMessage\"===t)continue;const e=r[t];n.push(t+\"=\"+xi(e))}}n.push(`code=${e}`),n.push(`version=${bi}`),n.length&&(t+=\" (\"+n.join(\", \")+\")\")}switch(e){case\"INVALID_ARGUMENT\":n=new TypeError(t);break;case\"NUMERIC_FAULT\":case\"BUFFER_OVERRUN\":n=new RangeError(t);break;default:n=new Error(t)}return Ei(n,{code:e}),r&&Object.assign(n,r),null==n.shortMessage&&Ei(n,{shortMessage:s}),n}function Ni(t,e,r,n){if(!t)throw Si(e,r,n)}function Oi(t,e,r,n){Ni(t,e,\"INVALID_ARGUMENT\",{argument:r,value:n})}function Ci(t,e,r){null==r&&(r=\"\"),r&&(r=\": \"+r),Ni(t>=e,\"missing arguemnt\"+r,\"MISSING_ARGUMENT\",{count:t,expectedCount:e}),Ni(t<=e,\"too many arguments\"+r,\"UNEXPECTED_ARGUMENT\",{count:t,expectedCount:e})}const Pi=[\"NFD\",\"NFC\",\"NFKD\",\"NFKC\"].reduce(((t,e)=>{try{if(\"test\"!==\"test\".normalize(e))throw new Error(\"bad\");if(\"NFD\"===e){const t=String.fromCharCode(233).normalize(\"NFD\");if(t!==String.fromCharCode(101,769))throw new Error(\"broken\")}t.push(e)}catch(t){}return t}),[]);function Bi(t,e,r){if(null==r&&(r=\"\"),t!==e){let t=r,e=\"new\";r&&(t+=\".\",e+=\" \"+r),Ni(!1,`private constructor; use ${t}from* methods`,\"UNSUPPORTED_OPERATION\",{operation:e})}}function ki(t,e,r){if(t instanceof Uint8Array)return r?new Uint8Array(t):t;if(\"string\"==typeof t&&t.match(/^0x([0-9a-f][0-9a-f])*$/i)){const e=new Uint8Array((t.length-2)/2);let r=2;for(let n=0;n<e.length;n++)e[n]=parseInt(t.substring(r,r+2),16),r+=2;return e}Oi(!1,\"invalid BytesLike value\",e||\"value\",t)}function Ti(t,e){return ki(t,e,!1)}function Li(t,e){return ki(t,e,!0)}function Ui(t,e){return!(\"string\"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&((\"number\"!=typeof e||t.length===2+2*e)&&(!0!==e||t.length%2==0))}const Fi=\"0123456789abcdef\";function Mi(t){const e=Ti(t);let r=\"0x\";for(let t=0;t<e.length;t++){const n=e[t];r+=Fi[(240&n)>>4]+Fi[15&n]}return r}function Di(t){return\"0x\"+t.map((t=>Mi(t).substring(2))).join(\"\")}function ji(t){return Ui(t,!0)?(t.length-2)/2:Ti(t).length}function _i(t,e,r){const n=Ti(t);return null!=r&&r>n.length&&Ni(!1,\"cannot slice beyond data bounds\",\"BUFFER_OVERRUN\",{buffer:n,length:n.length,offset:r}),Mi(n.slice(null==e?0:e,null==r?n.length:r))}function Gi(t,e,r){const n=Ti(t);Ni(e>=n.length,\"padding exceeds data length\",\"BUFFER_OVERRUN\",{buffer:new Uint8Array(n),length:e,offset:e+1});const s=new Uint8Array(e);return s.fill(0),r?s.set(n,e-n.length):s.set(n,0),Mi(s)}function $i(t,e){return Gi(t,e,!0)}const Hi=BigInt(0),Vi=BigInt(1),qi=9007199254740991;function Ji(t,e){let r=Qi(t,\"value\");const n=BigInt(Zi(e,\"width\")),s=Vi<<n-Vi;if(r<Hi){r=-r,Ni(r<=s,\"too low\",\"NUMERIC_FAULT\",{operation:\"toTwos\",fault:\"overflow\",value:t});return(~r&(Vi<<n)-Vi)+Vi}return Ni(r<s,\"too high\",\"NUMERIC_FAULT\",{operation:\"toTwos\",fault:\"overflow\",value:t}),r}function zi(t,e){const r=Ki(t,\"value\"),n=BigInt(Zi(e,\"bits\"));return r&(Vi<<n)-Vi}function Qi(t,e){switch(typeof t){case\"bigint\":return t;case\"number\":return Oi(Number.isInteger(t),\"underflow\",e||\"value\",t),Oi(t>=-qi&&t<=qi,\"overflow\",e||\"value\",t),BigInt(t);case\"string\":try{if(\"\"===t)throw new Error(\"empty string\");return\"-\"===t[0]&&\"-\"!==t[1]?-BigInt(t.substring(1)):BigInt(t)}catch(r){Oi(!1,`invalid BigNumberish string: ${r.message}`,e||\"value\",t)}}Oi(!1,\"invalid BigNumberish value\",e||\"value\",t)}function Ki(t,e){const r=Qi(t,e);return Ni(r>=Hi,\"unsigned value cannot be negative\",\"NUMERIC_FAULT\",{fault:\"overflow\",operation:\"getUint\",value:t}),r}const Wi=\"0123456789abcdef\";function Xi(t){if(t instanceof Uint8Array){let e=\"0x0\";for(const r of t)e+=Wi[r>>4],e+=Wi[15&r];return BigInt(e)}return Qi(t)}function Zi(t,e){switch(typeof t){case\"bigint\":return Oi(t>=-qi&&t<=qi,\"overflow\",e||\"value\",t),Number(t);case\"number\":return Oi(Number.isInteger(t),\"underflow\",e||\"value\",t),Oi(t>=-qi&&t<=qi,\"overflow\",e||\"value\",t),t;case\"string\":try{if(\"\"===t)throw new Error(\"empty string\");return Zi(BigInt(t),e)}catch(r){Oi(!1,`invalid numeric string: ${r.message}`,e||\"value\",t)}}Oi(!1,\"invalid numeric value\",e||\"value\",t)}function Yi(t,e){let r=Ki(t,\"value\").toString(16);if(null==e)r.length%2&&(r=\"0\"+r);else{const n=Zi(e,\"width\");for(Ni(2*n>=r.length,`value exceeds width (${n} bytes)`,\"NUMERIC_FAULT\",{operation:\"toBeHex\",fault:\"overflow\",value:t});r.length<2*n;)r=\"0\"+r}return\"0x\"+r}function to(t){const e=Ki(t,\"value\");if(e===Hi)return new Uint8Array([]);let r=e.toString(16);r.length%2&&(r=\"0\"+r);const n=new Uint8Array(r.length/2);for(let t=0;t<n.length;t++){const e=2*t;n[t]=parseInt(r.substring(e,e+2),16)}return n}function eo(t){let e=Mi(function(t){return Ui(t,!0)||t instanceof Uint8Array}(t)?t:to(t)).substring(2);for(;e.startsWith(\"0\");)e=e.substring(1);return\"\"===e&&(e=\"0\"),\"0x\"+e}const ro=32,no=new Uint8Array(ro),so=[\"then\"],io={};function oo(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw r.error=e,r}class ao extends Array{#i;constructor(...t){const e=t[0];let r=t[1],n=(t[2]||[]).slice(),s=!0;e!==io&&(r=t,n=[],s=!1),super(r.length),r.forEach(((t,e)=>{this[e]=t}));const i=n.reduce(((t,e)=>(\"string\"==typeof e&&t.set(e,(t.get(e)||0)+1),t)),new Map);if(this.#i=Object.freeze(r.map(((t,e)=>{const r=n[e];return null!=r&&1===i.get(r)?r:null}))),s)return Object.freeze(this),new Proxy(this,{get:(t,e,r)=>{if(\"string\"==typeof e){if(e.match(/^[0-9]+$/)){const r=Zi(e,\"%index\");if(r<0||r>=this.length)throw new RangeError(\"out of result range\");const n=t[r];return n instanceof Error&&oo(`index ${r}`,n),n}if(so.indexOf(e)>=0)return Reflect.get(t,e,r);const n=t[e];if(n instanceof Function)return function(...e){return n.apply(this===r?t:this,e)};if(!(e in t))return t.getValue.apply(this===r?t:this,[e])}return Reflect.get(t,e,r)}})}toArray(){const t=[];return this.forEach(((e,r)=>{e instanceof Error&&oo(`index ${r}`,e),t.push(e)})),t}toObject(){return this.#i.reduce(((t,e,r)=>(Ni(null!=e,\"value at index ${ index } unnamed\",\"UNSUPPORTED_OPERATION\",{operation:\"toObject()\"}),e in t||(t[e]=this.getValue(e)),t)),{})}slice(t,e){null==t&&(t=0),t<0&&(t+=this.length)<0&&(t=0),null==e&&(e=this.length),e<0&&(e+=this.length)<0&&(e=0),e>this.length&&(e=this.length);const r=[],n=[];for(let s=t;s<e;s++)r.push(this[s]),n.push(this.#i[s]);return new ao(io,r,n)}filter(t,e){const r=[],n=[];for(let s=0;s<this.length;s++){const i=this[s];i instanceof Error&&oo(`index ${s}`,i),t.call(e,i,s,this)&&(r.push(i),n.push(this.#i[s]))}return new ao(io,r,n)}map(t,e){const r=[];for(let n=0;n<this.length;n++){const s=this[n];s instanceof Error&&oo(`index ${n}`,s),r.push(t.call(e,s,n,this))}return r}getValue(t){const e=this.#i.indexOf(t);if(-1===e)return;const r=this[e];return r instanceof Error&&oo(`property ${JSON.stringify(t)}`,r.error),r}static fromItems(t,e){return new ao(io,t,e)}}function co(t){let e=to(t);return Ni(e.length<=ro,\"value out-of-bounds\",\"BUFFER_OVERRUN\",{buffer:e,length:ro,offset:e.length}),e.length!==ro&&(e=Li(Di([no.slice(e.length%ro),e]))),e}class uo{name;type;localName;dynamic;constructor(t,e,r,n){Ei(this,{name:t,type:e,localName:r,dynamic:n},{name:\"string\",type:\"string\",localName:\"string\",dynamic:\"boolean\"})}_throwError(t,e){Oi(!1,t,this.localName,e)}}class lo{#o;#a;constructor(){this.#o=[],this.#a=0}get data(){return Di(this.#o)}get length(){return this.#a}#c(t){return this.#o.push(t),this.#a+=t.length,t.length}appendWriter(t){return this.#c(Li(t.data))}writeBytes(t){let e=Li(t);const r=e.length%ro;return r&&(e=Li(Di([e,no.slice(r)]))),this.#c(e)}writeValue(t){return this.#c(co(t))}writeUpdatableValue(){const t=this.#o.length;return this.#o.push(no),this.#a+=ro,e=>{this.#o[t]=co(e)}}}class ho{allowLoose;#o;#u;#l;#h;#f;constructor(t,e,r){Ei(this,{allowLoose:!!e}),this.#o=Li(t),this.#l=0,this.#h=null,this.#f=null!=r?r:1024,this.#u=0}get data(){return Mi(this.#o)}get dataLength(){return this.#o.length}get consumed(){return this.#u}get bytes(){return new Uint8Array(this.#o)}#d(t){if(this.#h)return this.#h.#d(t);this.#l+=t,Ni(this.#f<1||this.#l<=this.#f*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#f} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,\"BUFFER_OVERRUN\",{buffer:Li(this.#o),offset:this.#u,length:t,info:{bytesRead:this.#l,dataLength:this.dataLength}})}#p(t,e,r){let n=Math.ceil(e/ro)*ro;return this.#u+n>this.#o.length&&(this.allowLoose&&r&&this.#u+e<=this.#o.length?n=e:Ni(!1,\"data out-of-bounds\",\"BUFFER_OVERRUN\",{buffer:Li(this.#o),length:this.#o.length,offset:this.#u+n})),this.#o.slice(this.#u,this.#u+n)}subReader(t){const e=new ho(this.#o.slice(this.#u+t),this.allowLoose,this.#f);return e.#h=this,e}readBytes(t,e){let r=this.#p(0,t,!!e);return this.#d(t),this.#u+=r.length,r.slice(0,t)}readValue(){return Xi(this.readBytes(ro))}readIndex(){return Zi(Xi(this.readBytes(ro)))}}function fo(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function po(t,...e){if(!(t instanceof Uint8Array))throw new Error(\"Expected Uint8Array\");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function go(t){if(\"function\"!=typeof t||\"function\"!=typeof t.create)throw new Error(\"Hash should be wrapped by utils.wrapConstructor\");fo(t.outputLen),fo(t.blockLen)}function yo(t,e=!0){if(t.destroyed)throw new Error(\"Hash instance has been destroyed\");if(e&&t.finished)throw new Error(\"Hash#digest() has already been called\")}function mo(t,e){po(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const wo=BigInt(2**32-1),bo=BigInt(32);function vo(t,e=!1){return e?{h:Number(t&wo),l:Number(t>>bo&wo)}:{h:0|Number(t>>bo&wo),l:0|Number(t&wo)}}function Ao(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=vo(t[s],e);[r[s],n[s]]=[i,o]}return[r,n]}const Eo=(t,e,r)=>t<<r|e>>>32-r,xo=(t,e,r)=>e<<r|t>>>32-r,Ro=(t,e,r)=>e<<r-32|t>>>64-r,Io=(t,e,r)=>t<<r-32|e>>>64-r;const So=\"object\"==typeof globalThis&&\"crypto\"in globalThis?globalThis.crypto:void 0,No=t=>t instanceof Uint8Array,Oo=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Co=(t,e)=>t<<32-e|t>>>e;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error(\"Non little-endian hardware is not supported\");Array.from({length:256},((t,e)=>e.toString(16).padStart(2,\"0\")));function Po(t){if(\"string\"==typeof t&&(t=function(t){if(\"string\"!=typeof t)throw new Error(\"utf8ToBytes expected string, got \"+typeof t);return new Uint8Array((new TextEncoder).encode(t))}(t)),!No(t))throw new Error(\"expected Uint8Array, got \"+typeof t);return t}class Bo{clone(){return this._cloneInto()}}function ko(t){const e=e=>t().update(Po(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function To(t=32){if(So&&\"function\"==typeof So.getRandomValues)return So.getRandomValues(new Uint8Array(t));throw new Error(\"crypto.getRandomValues must be defined\")}const[Lo,Uo,Fo]=[[],[],[]],Mo=BigInt(0),Do=BigInt(1),jo=BigInt(2),_o=BigInt(7),Go=BigInt(256),$o=BigInt(113);for(let t=0,e=Do,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],Lo.push(2*(5*n+r)),Uo.push((t+1)*(t+2)/2%64);let s=Mo;for(let t=0;t<7;t++)e=(e<<Do^(e>>_o)*$o)%Go,e&jo&&(s^=Do<<(Do<<BigInt(t))-Do);Fo.push(s)}const[Ho,Vo]=Ao(Fo,!0),qo=(t,e,r)=>r>32?Ro(t,e,r):Eo(t,e,r),Jo=(t,e,r)=>r>32?Io(t,e,r):xo(t,e,r);class zo extends Bo{constructor(t,e,r,n=!1,s=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=r,this.enableXOF=n,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,fo(r),0>=this.blockLen||this.blockLen>=200)throw new Error(\"Sha3 supports only keccak-f1600 function\");var i;this.state=new Uint8Array(200),this.state32=(i=this.state,new Uint32Array(i.buffer,i.byteOffset,Math.floor(i.byteLength/4)))}keccak(){!function(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let e=0;e<10;e++)r[e]=t[e]^t[e+10]^t[e+20]^t[e+30]^t[e+40];for(let e=0;e<10;e+=2){const n=(e+8)%10,s=(e+2)%10,i=r[s],o=r[s+1],a=qo(i,o,1)^r[n],c=Jo(i,o,1)^r[n+1];for(let r=0;r<50;r+=10)t[e+r]^=a,t[e+r+1]^=c}let e=t[2],s=t[3];for(let r=0;r<24;r++){const n=Uo[r],i=qo(e,s,n),o=Jo(e,s,n),a=Lo[r];e=t[a],s=t[a+1],t[a]=i,t[a+1]=o}for(let e=0;e<50;e+=10){for(let n=0;n<10;n++)r[n]=t[e+n];for(let n=0;n<10;n++)t[e+n]^=~r[(n+2)%10]&r[(n+4)%10]}t[0]^=Ho[n],t[1]^=Vo[n]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){yo(this);const{blockLen:e,state:r}=this,n=(t=Po(t)).length;for(let s=0;s<n;){const i=Math.min(e-this.pos,n-s);for(let e=0;e<i;e++)r[this.pos++]^=t[s++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:r,blockLen:n}=this;t[r]^=e,128&e&&r===n-1&&this.keccak(),t[n-1]^=128,this.keccak()}writeInto(t){yo(this,!1),po(t),this.finish();const e=this.state,{blockLen:r}=this;for(let n=0,s=t.length;n<s;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,s-n);t.set(e.subarray(this.posOut,this.posOut+i),n),this.posOut+=i,n+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error(\"XOF is not possible for this instance\");return this.writeInto(t)}xof(t){return fo(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(mo(t,this),this.finished)throw new Error(\"digest() was already called\");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:r,outputLen:n,rounds:s,enableXOF:i}=this;return t||(t=new zo(e,r,n,i,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=r,t.outputLen=n,t.enableXOF=i,t.destroyed=this.destroyed,t}}const Qo=(t,e,r)=>ko((()=>new zo(e,t,r))),Ko=Qo(1,136,32);let Wo=!1;const Xo=function(t){return Ko(t)};let Zo=Xo;function Yo(t){const e=Ti(t,\"data\");return Mi(Zo(e))}Yo._=Xo,Yo.lock=function(){Wo=!0},Yo.register=function(t){if(Wo)throw new TypeError(\"keccak256 is locked\");Zo=t},Object.freeze(Yo);const ta=BigInt(0),ea=BigInt(36);function ra(t){const e=(t=t.toLowerCase()).substring(2).split(\"\"),r=new Uint8Array(40);for(let t=0;t<40;t++)r[t]=e[t].charCodeAt(0);const n=Ti(Yo(r));for(let t=0;t<40;t+=2)n[t>>1]>>4>=8&&(e[t]=e[t].toUpperCase()),(15&n[t>>1])>=8&&(e[t+1]=e[t+1].toUpperCase());return\"0x\"+e.join(\"\")}const na={};for(let t=0;t<10;t++)na[String(t)]=String(t);for(let t=0;t<26;t++)na[String.fromCharCode(65+t)]=String(10+t);const sa=15;function ia(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+\"00\").split(\"\").map((t=>na[t])).join(\"\");for(;e.length>=sa;){let t=e.substring(0,sa);e=parseInt(t,10)%97+e.substring(t.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r=\"0\"+r;return r}const oa=function(){const t={};for(let e=0;e<36;e++){t[\"0123456789abcdefghijklmnopqrstuvwxyz\"[e]]=BigInt(e)}return t}();function aa(t){if(Oi(\"string\"==typeof t,\"invalid address\",\"address\",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith(\"0x\")||(t=\"0x\"+t);const e=ra(t);return Oi(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,\"bad address checksum\",\"address\",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){Oi(t.substring(2,4)===ia(t),\"bad icap checksum\",\"address\",t);let e=function(t){t=t.toLowerCase();let e=ta;for(let r=0;r<t.length;r++)e=e*ea+oa[t[r]];return e}(t.substring(4)).toString(16);for(;e.length<40;)e=\"0\"+e;return ra(\"0x\"+e)}Oi(!1,\"invalid address\",\"address\",t)}const ca={};function ua(t,e){let r=!1;return e<0&&(r=!0,e*=-1),new fa(ca,`${r?\"\":\"u\"}int${e}`,t,{signed:r,width:e})}function la(t,e){return new fa(ca,`bytes${e||\"\"}`,t,{size:e})}const ha=Symbol.for(\"_ethers_typed\");class fa{type;value;#g;_typedSymbol;constructor(t,e,r,n){null==n&&(n=null),Bi(ca,t,\"Typed\"),Ei(this,{_typedSymbol:ha,type:e,value:r}),this.#g=n,this.format()}format(){if(\"array\"===this.type)throw new Error(\"\");if(\"dynamicArray\"===this.type)throw new Error(\"\");return\"tuple\"===this.type?`tuple(${this.value.map((t=>t.format())).join(\",\")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith(\"bytes\")}isString(){return\"string\"===this.type}get tupleName(){if(\"tuple\"!==this.type)throw TypeError(\"not a tuple\");return this.#g}get arrayLength(){if(\"array\"!==this.type)throw TypeError(\"not an array\");return!0===this.#g?-1:!1===this.#g?this.value.length:null}static from(t,e){return new fa(ca,t,e)}static uint8(t){return ua(t,8)}static uint16(t){return ua(t,16)}static uint24(t){return ua(t,24)}static uint32(t){return ua(t,32)}static uint40(t){return ua(t,40)}static uint48(t){return ua(t,48)}static uint56(t){return ua(t,56)}static uint64(t){return ua(t,64)}static uint72(t){return ua(t,72)}static uint80(t){return ua(t,80)}static uint88(t){return ua(t,88)}static uint96(t){return ua(t,96)}static uint104(t){return ua(t,104)}static uint112(t){return ua(t,112)}static uint120(t){return ua(t,120)}static uint128(t){return ua(t,128)}static uint136(t){return ua(t,136)}static uint144(t){return ua(t,144)}static uint152(t){return ua(t,152)}static uint160(t){return ua(t,160)}static uint168(t){return ua(t,168)}static uint176(t){return ua(t,176)}static uint184(t){return ua(t,184)}static uint192(t){return ua(t,192)}static uint200(t){return ua(t,200)}static uint208(t){return ua(t,208)}static uint216(t){return ua(t,216)}static uint224(t){return ua(t,224)}static uint232(t){return ua(t,232)}static uint240(t){return ua(t,240)}static uint248(t){return ua(t,248)}static uint256(t){return ua(t,256)}static uint(t){return ua(t,256)}static int8(t){return ua(t,-8)}static int16(t){return ua(t,-16)}static int24(t){return ua(t,-24)}static int32(t){return ua(t,-32)}static int40(t){return ua(t,-40)}static int48(t){return ua(t,-48)}static int56(t){return ua(t,-56)}static int64(t){return ua(t,-64)}static int72(t){return ua(t,-72)}static int80(t){return ua(t,-80)}static int88(t){return ua(t,-88)}static int96(t){return ua(t,-96)}static int104(t){return ua(t,-104)}static int112(t){return ua(t,-112)}static int120(t){return ua(t,-120)}static int128(t){return ua(t,-128)}static int136(t){return ua(t,-136)}static int144(t){return ua(t,-144)}static int152(t){return ua(t,-152)}static int160(t){return ua(t,-160)}static int168(t){return ua(t,-168)}static int176(t){return ua(t,-176)}static int184(t){return ua(t,-184)}static int192(t){return ua(t,-192)}static int200(t){return ua(t,-200)}static int208(t){return ua(t,-208)}static int216(t){return ua(t,-216)}static int224(t){return ua(t,-224)}static int232(t){return ua(t,-232)}static int240(t){return ua(t,-240)}static int248(t){return ua(t,-248)}static int256(t){return ua(t,-256)}static int(t){return ua(t,-256)}static bytes1(t){return la(t,1)}static bytes2(t){return la(t,2)}static bytes3(t){return la(t,3)}static bytes4(t){return la(t,4)}static bytes5(t){return la(t,5)}static bytes6(t){return la(t,6)}static bytes7(t){return la(t,7)}static bytes8(t){return la(t,8)}static bytes9(t){return la(t,9)}static bytes10(t){return la(t,10)}static bytes11(t){return la(t,11)}static bytes12(t){return la(t,12)}static bytes13(t){return la(t,13)}static bytes14(t){return la(t,14)}static bytes15(t){return la(t,15)}static bytes16(t){return la(t,16)}static bytes17(t){return la(t,17)}static bytes18(t){return la(t,18)}static bytes19(t){return la(t,19)}static bytes20(t){return la(t,20)}static bytes21(t){return la(t,21)}static bytes22(t){return la(t,22)}static bytes23(t){return la(t,23)}static bytes24(t){return la(t,24)}static bytes25(t){return la(t,25)}static bytes26(t){return la(t,26)}static bytes27(t){return la(t,27)}static bytes28(t){return la(t,28)}static bytes29(t){return la(t,29)}static bytes30(t){return la(t,30)}static bytes31(t){return la(t,31)}static bytes32(t){return la(t,32)}static address(t){return new fa(ca,\"address\",t)}static bool(t){return new fa(ca,\"bool\",!!t)}static bytes(t){return new fa(ca,\"bytes\",t)}static string(t){return new fa(ca,\"string\",t)}static array(t,e){throw new Error(\"not implemented yet\")}static tuple(t,e){throw new Error(\"not implemented yet\")}static overrides(t){return new fa(ca,\"overrides\",Object.assign({},t))}static isTyped(t){return t&&\"object\"==typeof t&&\"_typedSymbol\"in t&&t._typedSymbol===ha}static dereference(t,e){if(fa.isTyped(t)){if(t.type!==e)throw new Error(`invalid type: expecetd ${e}, got ${t.type}`);return t.value}return t}}class da extends uo{constructor(t){super(\"address\",\"address\",t,!1)}defaultValue(){return\"0x0000000000000000000000000000000000000000\"}encode(t,e){let r=fa.dereference(e,\"string\");try{r=aa(r)}catch(t){return this._throwError(t.message,e)}return t.writeValue(r)}decode(t){return aa(Yi(t.readValue(),20))}}class pa extends uo{coder;constructor(t){super(t.name,t.type,\"_\",t.dynamic),this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,e){return this.coder.encode(t,e)}decode(t){return this.coder.decode(t)}}function ga(t,e,r){let n=[];if(Array.isArray(r))n=r;else if(r&&\"object\"==typeof r){let t={};n=e.map((e=>{const n=e.localName;return Ni(n,\"cannot encode object for signature with missing names\",\"INVALID_ARGUMENT\",{argument:\"values\",info:{coder:e},value:r}),Ni(!t[n],\"cannot encode object for signature with duplicate names\",\"INVALID_ARGUMENT\",{argument:\"values\",info:{coder:e},value:r}),t[n]=!0,r[n]}))}else Oi(!1,\"invalid tuple value\",\"tuple\",r);Oi(e.length===n.length,\"types/value length mismatch\",\"tuple\",r);let s=new lo,i=new lo,o=[];e.forEach(((t,e)=>{let r=n[e];if(t.dynamic){let e=i.length;t.encode(i,r);let n=s.writeUpdatableValue();o.push((t=>{n(t+e)}))}else t.encode(s,r)})),o.forEach((t=>{t(s.length)}));let a=t.appendWriter(s);return a+=t.appendWriter(i),a}function ya(t,e){let r=[],n=[],s=t.subReader(0);return e.forEach((e=>{let i=null;if(e.dynamic){let r=t.readIndex(),n=s.subReader(r);try{i=e.decode(n)}catch(t){if(Ri(t,\"BUFFER_OVERRUN\"))throw t;i=t,i.baseType=e.name,i.name=e.localName,i.type=e.type}}else try{i=e.decode(t)}catch(t){if(Ri(t,\"BUFFER_OVERRUN\"))throw t;i=t,i.baseType=e.name,i.name=e.localName,i.type=e.type}if(null==i)throw new Error(\"investigate\");r.push(i),n.push(e.localName||null)})),ao.fromItems(r,n)}class ma extends uo{coder;length;constructor(t,e,r){super(\"array\",t.type+\"[\"+(e>=0?e:\"\")+\"]\",r,-1===e||t.dynamic),Ei(this,{coder:t,length:e})}defaultValue(){const t=this.coder.defaultValue(),e=[];for(let r=0;r<this.length;r++)e.push(t);return e}encode(t,e){const r=fa.dereference(e,\"array\");Array.isArray(r)||this._throwError(\"expected array value\",r);let n=this.length;-1===n&&(n=r.length,t.writeValue(r.length)),Ci(r.length,n,\"coder array\"+(this.localName?\" \"+this.localName:\"\"));let s=[];for(let t=0;t<r.length;t++)s.push(this.coder);return ga(t,s,r)}decode(t){let e=this.length;-1===e&&(e=t.readIndex(),Ni(e*ro<=t.dataLength,\"insufficient data length\",\"BUFFER_OVERRUN\",{buffer:t.bytes,offset:e*ro,length:t.dataLength}));let r=[];for(let t=0;t<e;t++)r.push(new pa(this.coder));return ya(t,r)}}class wa extends uo{constructor(t){super(\"bool\",\"bool\",t,!1)}defaultValue(){return!1}encode(t,e){const r=fa.dereference(e,\"bool\");return t.writeValue(r?1:0)}decode(t){return!!t.readValue()}}class ba extends uo{constructor(t,e){super(t,t,e,!0)}defaultValue(){return\"0x\"}encode(t,e){e=Li(e);let r=t.writeValue(e.length);return r+=t.writeBytes(e),r}decode(t){return t.readBytes(t.readIndex(),!0)}}class va extends ba{constructor(t){super(\"bytes\",t)}decode(t){return Mi(super.decode(t))}}class Aa extends uo{size;constructor(t,e){let r=\"bytes\"+String(t);super(r,r,e,!1),Ei(this,{size:t},{size:\"number\"})}defaultValue(){return\"0x0000000000000000000000000000000000000000000000000000000000000000\".substring(0,2+2*this.size)}encode(t,e){let r=Li(fa.dereference(e,this.type));return r.length!==this.size&&this._throwError(\"incorrect data length\",e),t.writeBytes(r)}decode(t){return Mi(t.readBytes(this.size))}}const Ea=new Uint8Array([]);class xa extends uo{constructor(t){super(\"null\",\"\",t,!1)}defaultValue(){return null}encode(t,e){return null!=e&&this._throwError(\"not null\",e),t.writeBytes(Ea)}decode(t){return t.readBytes(0),null}}const Ra=BigInt(0),Ia=BigInt(1),Sa=BigInt(\"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\");class Na extends uo{size;signed;constructor(t,e,r){const n=(e?\"int\":\"uint\")+8*t;super(n,n,r,!1),Ei(this,{size:t,signed:e},{size:\"number\",signed:\"boolean\"})}defaultValue(){return 0}encode(t,e){let r=Qi(fa.dereference(e,this.type)),n=zi(Sa,256);if(this.signed){let t=zi(n,8*this.size-1);(r>t||r<-(t+Ia))&&this._throwError(\"value out-of-bounds\",e),r=Ji(r,256)}else(r<Ra||r>zi(n,8*this.size))&&this._throwError(\"value out-of-bounds\",e);return t.writeValue(r)}decode(t){let e=zi(t.readValue(),8*this.size);return this.signed&&(e=function(t,e){const r=Ki(t,\"value\"),n=BigInt(Zi(e,\"width\"));if(Ni(r>>n===Hi,\"overflow\",\"NUMERIC_FAULT\",{operation:\"fromTwos\",fault:\"overflow\",value:t}),r>>n-Vi)return-((~r&(Vi<<n)-Vi)+Vi);return r}(e,8*this.size)),e}}function Oa(t,e,r,n,s){if(\"BAD_PREFIX\"===t||\"UNEXPECTED_CONTINUE\"===t){let t=0;for(let n=e+1;n<r.length&&r[n]>>6==2;n++)t++;return t}return\"OVERRUN\"===t?r.length-e-1:0}const Ca=Object.freeze({error:function(t,e,r,n,s){Oi(!1,`invalid codepoint at offset ${e}; ${t}`,\"bytes\",r)},ignore:Oa,replace:function(t,e,r,n,s){return\"OVERLONG\"===t?(Oi(\"number\"==typeof s,\"invalid bad code point for replacement\",\"badCodepoint\",s),n.push(s),0):(n.push(65533),Oa(t,e,r))}});function Pa(t,e){null==e&&(e=Ca.error);const r=Ti(t,\"bytes\"),n=[];let s=0;for(;s<r.length;){const t=r[s++];if(!(t>>7)){n.push(t);continue}let i=null,o=null;if(192==(224&t))i=1,o=127;else if(224==(240&t))i=2,o=2047;else{if(240!=(248&t)){s+=e(128==(192&t)?\"UNEXPECTED_CONTINUE\":\"BAD_PREFIX\",s-1,r,n);continue}i=3,o=65535}if(s-1+i>=r.length){s+=e(\"OVERRUN\",s-1,r,n);continue}let a=t&(1<<8-i-1)-1;for(let t=0;t<i;t++){let t=r[s];if(128!=(192&t)){s+=e(\"MISSING_CONTINUE\",s,r,n),a=null;break}a=a<<6|63&t,s++}null!==a&&(a>1114111?s+=e(\"OUT_OF_RANGE\",s-1-i,r,n,a):a>=55296&&a<=57343?s+=e(\"UTF16_SURROGATE\",s-1-i,r,n,a):a<=o?s+=e(\"OVERLONG\",s-1-i,r,n,a):n.push(a))}return n}function Ba(t,e){Oi(\"string\"==typeof t,\"invalid string value\",\"str\",t),null!=e&&(!function(t){Ni(Pi.indexOf(t)>=0,\"platform missing String.prototype.normalize\",\"UNSUPPORTED_OPERATION\",{operation:\"String.prototype.normalize\",info:{form:t}})}(e),t=t.normalize(e));let r=[];for(let e=0;e<t.length;e++){const n=t.charCodeAt(e);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if(55296==(64512&n)){e++;const s=t.charCodeAt(e);Oi(e<t.length&&56320==(64512&s),\"invalid surrogate pair\",\"str\",t);const i=65536+((1023&n)<<10)+(1023&s);r.push(i>>18|240),r.push(i>>12&63|128),r.push(i>>6&63|128),r.push(63&i|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return new Uint8Array(r)}function ka(t,e){return Pa(t,e).map((t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10&1023),56320+(1023&t))))).join(\"\")}class Ta extends ba{constructor(t){super(\"string\",t)}defaultValue(){return\"\"}encode(t,e){return super.encode(t,Ba(fa.dereference(e,\"string\")))}decode(t){return ka(super.decode(t))}}class La extends uo{coders;constructor(t,e){let r=!1;const n=[];t.forEach((t=>{t.dynamic&&(r=!0),n.push(t.type)}));super(\"tuple\",\"tuple(\"+n.join(\",\")+\")\",e,r),Ei(this,{coders:Object.freeze(t.slice())})}defaultValue(){const t=[];this.coders.forEach((e=>{t.push(e.defaultValue())}));const e=this.coders.reduce(((t,e)=>{const r=e.localName;return r&&(t[r]||(t[r]=0),t[r]++),t}),{});return this.coders.forEach(((r,n)=>{let s=r.localName;s&&1===e[s]&&(\"length\"===s&&(s=\"_length\"),null==t[s]&&(t[s]=t[n]))})),Object.freeze(t)}encode(t,e){const r=fa.dereference(e,\"tuple\");return ga(t,this.coders,r)}decode(t){return ya(t,this.coders)}}function Ua(t){return Yo(Ba(t))}function Fa(t){const e=new Set;return t.forEach((t=>e.add(t))),Object.freeze(e)}const Ma=Fa(\"external public payable override\".split(\" \")),Da=\"constant external internal payable private public pure view override\",ja=Fa(Da.split(\" \")),_a=\"constructor error event fallback function receive struct\",Ga=Fa(_a.split(\" \")),$a=\"calldata memory storage payable indexed\",Ha=Fa($a.split(\" \")),Va=Fa([_a,$a,\"tuple returns\",Da].join(\" \").split(\" \")),qa={\"(\":\"OPEN_PAREN\",\")\":\"CLOSE_PAREN\",\"[\":\"OPEN_BRACKET\",\"]\":\"CLOSE_BRACKET\",\",\":\"COMMA\",\"@\":\"AT\"},Ja=new RegExp(\"^(\\\\s*)\"),za=new RegExp(\"^([0-9]+)\"),Qa=new RegExp(\"^([a-zA-Z$_][a-zA-Z0-9$_]*)\"),Ka=new RegExp(\"^([a-zA-Z$_][a-zA-Z0-9$_]*)$\"),Wa=new RegExp(\"^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$\");class Xa{#u;#y;get offset(){return this.#u}get length(){return this.#y.length-this.#u}constructor(t){this.#u=0,this.#y=t.slice()}clone(){return new Xa(this.#y)}reset(){this.#u=0}#m(t=0,e=0){return new Xa(this.#y.slice(t,e).map((e=>Object.freeze(Object.assign({},e,{match:e.match-t,linkBack:e.linkBack-t,linkNext:e.linkNext-t})))))}popKeyword(t){const e=this.peek();if(\"KEYWORD\"!==e.type||!t.has(e.text))throw new Error(`expected keyword ${e.text}`);return this.pop().text}popType(t){if(this.peek().type!==t){const e=this.peek();throw new Error(`expected ${t}; got ${e.type} ${JSON.stringify(e.text)}`)}return this.pop().text}popParen(){const t=this.peek();if(\"OPEN_PAREN\"!==t.type)throw new Error(\"bad start\");const e=this.#m(this.#u+1,t.match+1);return this.#u=t.match+1,e}popParams(){const t=this.peek();if(\"OPEN_PAREN\"!==t.type)throw new Error(\"bad start\");const e=[];for(;this.#u<t.match-1;){const t=this.peek().linkNext;e.push(this.#m(this.#u+1,t)),this.#u=t}return this.#u=t.match+1,e}peek(){if(this.#u>=this.#y.length)throw new Error(\"out-of-bounds\");return this.#y[this.#u]}peekKeyword(t){const e=this.peekType(\"KEYWORD\");return null!=e&&t.has(e)?e:null}peekType(t){if(0===this.length)return null;const e=this.peek();return e.type===t?e.text:null}pop(){const t=this.peek();return this.#u++,t}toString(){const t=[];for(let e=this.#u;e<this.#y.length;e++){const r=this.#y[e];t.push(`${r.type}:${r.text}`)}return`<TokenString ${t.join(\" \")}>`}}function Za(t){const e=[],r=e=>{const r=i<t.length?JSON.stringify(t[i]):\"$EOI\";throw new Error(`invalid token ${r} at ${i}: ${e}`)};let n=[],s=[],i=0;for(;i<t.length;){let o=t.substring(i),a=o.match(Ja);a&&(i+=a[1].length,o=t.substring(i));const c={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:\"\",text:\"\",offset:i,value:-1};e.push(c);let u=qa[o[0]]||\"\";if(u){if(c.type=u,c.text=o[0],i++,\"OPEN_PAREN\"===u)n.push(e.length-1),s.push(e.length-1);else if(\"CLOSE_PAREN\"==u)0===n.length&&r(\"no matching open bracket\"),c.match=n.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1;else if(\"COMMA\"===u)c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1,s.push(e.length-1);else if(\"OPEN_BRACKET\"===u)c.type=\"BRACKET\";else if(\"CLOSE_BRACKET\"===u){let t=e.pop().text;if(e.length>0&&\"NUMBER\"===e[e.length-1].type){const r=e.pop().text;t=r+t,e[e.length-1].value=Zi(r)}if(0===e.length||\"BRACKET\"!==e[e.length-1].type)throw new Error(\"missing opening bracket\");e[e.length-1].text+=t}}else if(a=o.match(Qa),a){if(c.text=a[1],i+=c.text.length,Va.has(c.text)){c.type=\"KEYWORD\";continue}if(c.text.match(Wa)){c.type=\"TYPE\";continue}c.type=\"ID\"}else{if(a=o.match(za),!a)throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${i}`);c.text=a[1],c.type=\"NUMBER\",i+=c.text.length}}return new Xa(e.map((t=>Object.freeze(t))))}function Ya(t,e){let r=[];for(const n in e.keys())t.has(n)&&r.push(n);if(r.length>1)throw new Error(`conflicting types: ${r.join(\", \")}`)}function tc(t,e){if(e.peekKeyword(Ga)){const r=e.pop().text;if(r!==t)throw new Error(`expected ${t}, got ${r}`)}return e.popType(\"ID\")}function ec(t,e){const r=new Set;for(;;){const n=t.peekType(\"KEYWORD\");if(null==n||e&&!e.has(n))break;if(t.pop(),r.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);r.add(n)}return Object.freeze(r)}function rc(t){let e=ec(t,ja);return Ya(e,Fa(\"constant payable nonpayable\".split(\" \"))),Ya(e,Fa(\"pure view payable nonpayable\".split(\" \"))),e.has(\"view\")?\"view\":e.has(\"pure\")?\"pure\":e.has(\"payable\")?\"payable\":e.has(\"nonpayable\")?\"nonpayable\":e.has(\"constant\")?\"view\":\"nonpayable\"}function nc(t,e){return t.popParams().map((t=>mc.from(t,e)))}function sc(t){if(t.peekType(\"AT\")){if(t.pop(),t.peekType(\"NUMBER\"))return Qi(t.pop().text);throw new Error(\"invalid gas\")}return null}function ic(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const oc=new RegExp(/^(.*)\\[([0-9]*)\\]$/);function ac(t){const e=t.match(Wa);if(Oi(e,\"invalid type\",\"type\",t),\"uint\"===t)return\"uint256\";if(\"int\"===t)return\"int256\";if(e[2]){const r=parseInt(e[2]);Oi(0!==r&&r<=32,\"invalid bytes length\",\"type\",t)}else if(e[3]){const r=parseInt(e[3]);Oi(0!==r&&r<=256&&r%8==0,\"invalid numeric width\",\"type\",t)}return t}const cc={},uc=Symbol.for(\"_ethers_internal\"),lc=\"_ParamTypeInternal\",hc=\"_ErrorInternal\",fc=\"_EventInternal\",dc=\"_ConstructorInternal\",pc=\"_FallbackInternal\",gc=\"_FunctionInternal\",yc=\"_StructInternal\";class mc{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(t,e,r,n,s,i,o,a){if(Bi(t,cc,\"ParamType\"),Object.defineProperty(this,uc,{value:lc}),i&&(i=Object.freeze(i.slice())),\"array\"===n){if(null==o||null==a)throw new Error(\"\")}else if(null!=o||null!=a)throw new Error(\"\");if(\"tuple\"===n){if(null==i)throw new Error(\"\")}else if(null!=i)throw new Error(\"\");Ei(this,{name:e,type:r,baseType:n,indexed:s,components:i,arrayLength:o,arrayChildren:a})}format(t){if(null==t&&(t=\"sighash\"),\"json\"===t){const e=this.name||\"\";if(this.isArray()){const t=JSON.parse(this.arrayChildren.format(\"json\"));return t.name=e,t.type+=`[${this.arrayLength<0?\"\":String(this.arrayLength)}]`,JSON.stringify(t)}const r={type:\"tuple\"===this.baseType?\"tuple\":this.type,name:e};return\"boolean\"==typeof this.indexed&&(r.indexed=this.indexed),this.isTuple()&&(r.components=this.components.map((e=>JSON.parse(e.format(t))))),JSON.stringify(r)}let e=\"\";return this.isArray()?(e+=this.arrayChildren.format(t),e+=`[${this.arrayLength<0?\"\":String(this.arrayLength)}]`):this.isTuple()?e+=\"(\"+this.components.map((e=>e.format(t))).join(\"full\"===t?\", \":\",\")+\")\":e+=this.type,\"sighash\"!==t&&(!0===this.indexed&&(e+=\" indexed\"),\"full\"===t&&this.name&&(e+=\" \"+this.name)),e}isArray(){return\"array\"===this.baseType}isTuple(){return\"tuple\"===this.baseType}isIndexable(){return null!=this.indexed}walk(t,e){if(this.isArray()){if(!Array.isArray(t))throw new Error(\"invalid array value\");if(-1!==this.arrayLength&&t.length!==this.arrayLength)throw new Error(\"array is wrong length\");const r=this;return t.map((t=>r.arrayChildren.walk(t,e)))}if(this.isTuple()){if(!Array.isArray(t))throw new Error(\"invalid tuple value\");if(t.length!==this.components.length)throw new Error(\"array is wrong length\");const r=this;return t.map(((t,n)=>r.components[n].walk(t,e)))}return e(this.type,t)}#w(t,e,r,n){if(this.isArray()){if(!Array.isArray(e))throw new Error(\"invalid array value\");if(-1!==this.arrayLength&&e.length!==this.arrayLength)throw new Error(\"array is wrong length\");const s=this.arrayChildren,i=e.slice();return i.forEach(((e,n)=>{s.#w(t,e,r,(t=>{i[n]=t}))})),void n(i)}if(this.isTuple()){const s=this.components;let i;if(Array.isArray(e))i=e.slice();else{if(null==e||\"object\"!=typeof e)throw new Error(\"invalid tuple value\");i=s.map((t=>{if(!t.name)throw new Error(\"cannot use object value with unnamed components\");if(!(t.name in e))throw new Error(`missing value for component ${t.name}`);return e[t.name]}))}if(i.length!==this.components.length)throw new Error(\"array is wrong length\");return i.forEach(((e,n)=>{s[n].#w(t,e,r,(t=>{i[n]=t}))})),void n(i)}const s=r(this.type,e);s.then?t.push(async function(){n(await s)}()):n(s)}async walkAsync(t,e){const r=[],n=[t];return this.#w(r,t,e,(t=>{n[0]=t})),r.length&&await Promise.all(r),n[0]}static from(t,e){if(mc.isParamType(t))return t;if(\"string\"==typeof t)try{return mc.from(Za(t),e)}catch(e){Oi(!1,\"invalid param type\",\"obj\",t)}else if(t instanceof Xa){let r=\"\",n=\"\",s=null;ec(t,Fa([\"tuple\"])).has(\"tuple\")||t.peekType(\"OPEN_PAREN\")?(n=\"tuple\",s=t.popParams().map((t=>mc.from(t))),r=`tuple(${s.map((t=>t.format())).join(\",\")})`):(r=ac(t.popType(\"TYPE\")),n=r);let i=null,o=null;for(;t.length&&t.peekType(\"BRACKET\");){const e=t.pop();i=new mc(cc,\"\",r,n,null,s,o,i),o=e.value,r+=e.text,n=\"array\",s=null}let a=null;if(ec(t,Ha).has(\"indexed\")){if(!e)throw new Error(\"\");a=!0}const c=t.peekType(\"ID\")?t.pop().text:\"\";if(t.length)throw new Error(\"leftover tokens\");return new mc(cc,c,r,n,a,s,o,i)}const r=t.name;Oi(!r||\"string\"==typeof r&&r.match(Ka),\"invalid name\",\"obj.name\",r);let n=t.indexed;null!=n&&(Oi(e,\"parameter cannot be indexed\",\"obj.indexed\",t.indexed),n=!!n);let s=t.type,i=s.match(oc);if(i){const e=parseInt(i[2]||\"-1\"),o=mc.from({type:i[1],components:t.components});return new mc(cc,r||\"\",s,\"array\",n,null,e,o)}if(\"tuple\"===s||s.startsWith(\"tuple(\")||s.startsWith(\"(\")){const e=null!=t.components?t.components.map((t=>mc.from(t))):null;return new mc(cc,r||\"\",s,\"tuple\",n,e,null,null)}return s=ac(t.type),new mc(cc,r||\"\",s,s,n,null,null,null)}static isParamType(t){return t&&t[uc]===lc}}class wc{type;inputs;constructor(t,e,r){Bi(t,cc,\"Fragment\"),Ei(this,{type:e,inputs:r=Object.freeze(r.slice())})}static from(t){if(\"string\"==typeof t){try{wc.from(JSON.parse(t))}catch(t){}return wc.from(Za(t))}if(t instanceof Xa){switch(t.peekKeyword(Ga)){case\"constructor\":return xc.from(t);case\"error\":return Ac.from(t);case\"event\":return Ec.from(t);case\"fallback\":case\"receive\":return Rc.from(t);case\"function\":return Ic.from(t);case\"struct\":return Sc.from(t)}}else if(\"object\"==typeof t){switch(t.type){case\"constructor\":return xc.from(t);case\"error\":return Ac.from(t);case\"event\":return Ec.from(t);case\"fallback\":case\"receive\":return Rc.from(t);case\"function\":return Ic.from(t);case\"struct\":return Sc.from(t)}Ni(!1,`unsupported type: ${t.type}`,\"UNSUPPORTED_OPERATION\",{operation:\"Fragment.from\"})}Oi(!1,\"unsupported frgament object\",\"obj\",t)}static isConstructor(t){return xc.isFragment(t)}static isError(t){return Ac.isFragment(t)}static isEvent(t){return Ec.isFragment(t)}static isFunction(t){return Ic.isFragment(t)}static isStruct(t){return Sc.isFragment(t)}}class bc extends wc{name;constructor(t,e,r,n){super(t,e,n),Oi(\"string\"==typeof r&&r.match(Ka),\"invalid identifier\",\"name\",r),n=Object.freeze(n.slice()),Ei(this,{name:r})}}function vc(t,e){return\"(\"+e.map((e=>e.format(t))).join(\"full\"===t?\", \":\",\")+\")\"}class Ac extends bc{constructor(t,e,r){super(t,\"error\",e,r),Object.defineProperty(this,uc,{value:hc})}get selector(){return Ua(this.format(\"sighash\")).substring(0,10)}format(t){if(null==t&&(t=\"sighash\"),\"json\"===t)return JSON.stringify({type:\"error\",name:this.name,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});const e=[];return\"sighash\"!==t&&e.push(\"error\"),e.push(this.name+vc(t,this.inputs)),e.join(\" \")}static from(t){if(Ac.isFragment(t))return t;if(\"string\"==typeof t)return Ac.from(Za(t));if(t instanceof Xa){const e=tc(\"error\",t),r=nc(t);return ic(t),new Ac(cc,e,r)}return new Ac(cc,t.name,t.inputs?t.inputs.map(mc.from):[])}static isFragment(t){return t&&t[uc]===hc}}class Ec extends bc{anonymous;constructor(t,e,r,n){super(t,\"event\",e,r),Object.defineProperty(this,uc,{value:fc}),Ei(this,{anonymous:n})}get topicHash(){return Ua(this.format(\"sighash\"))}format(t){if(null==t&&(t=\"sighash\"),\"json\"===t)return JSON.stringify({type:\"event\",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});const e=[];return\"sighash\"!==t&&e.push(\"event\"),e.push(this.name+vc(t,this.inputs)),\"sighash\"!==t&&this.anonymous&&e.push(\"anonymous\"),e.join(\" \")}static getTopicHash(t,e){e=(e||[]).map((t=>mc.from(t)));return new Ec(cc,t,e,!1).topicHash}static from(t){if(Ec.isFragment(t))return t;if(\"string\"==typeof t)try{return Ec.from(Za(t))}catch(e){Oi(!1,\"invalid event fragment\",\"obj\",t)}else if(t instanceof Xa){const e=tc(\"event\",t),r=nc(t,!0),n=!!ec(t,Fa([\"anonymous\"])).has(\"anonymous\");return ic(t),new Ec(cc,e,r,n)}return new Ec(cc,t.name,t.inputs?t.inputs.map((t=>mc.from(t,!0))):[],!!t.anonymous)}static isFragment(t){return t&&t[uc]===fc}}class xc extends wc{payable;gas;constructor(t,e,r,n,s){super(t,e,r),Object.defineProperty(this,uc,{value:dc}),Ei(this,{payable:n,gas:s})}format(t){if(Ni(null!=t&&\"sighash\"!==t,\"cannot format a constructor for sighash\",\"UNSUPPORTED_OPERATION\",{operation:\"format(sighash)\"}),\"json\"===t)return JSON.stringify({type:\"constructor\",stateMutability:this.payable?\"payable\":\"undefined\",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});const e=[`constructor${vc(t,this.inputs)}`];return this.payable&&e.push(\"payable\"),null!=this.gas&&e.push(`@${this.gas.toString()}`),e.join(\" \")}static from(t){if(xc.isFragment(t))return t;if(\"string\"==typeof t)try{return xc.from(Za(t))}catch(e){Oi(!1,\"invalid constuctor fragment\",\"obj\",t)}else if(t instanceof Xa){ec(t,Fa([\"constructor\"]));const e=nc(t),r=!!ec(t,Ma).has(\"payable\"),n=sc(t);return ic(t),new xc(cc,\"constructor\",e,r,n)}return new xc(cc,\"constructor\",t.inputs?t.inputs.map(mc.from):[],!!t.payable,null!=t.gas?t.gas:null)}static isFragment(t){return t&&t[uc]===dc}}class Rc extends wc{payable;constructor(t,e,r){super(t,\"fallback\",e),Object.defineProperty(this,uc,{value:pc}),Ei(this,{payable:r})}format(t){const e=0===this.inputs.length?\"receive\":\"fallback\";if(\"json\"===t){const t=this.payable?\"payable\":\"nonpayable\";return JSON.stringify({type:e,stateMutability:t})}return`${e}()${this.payable?\" payable\":\"\"}`}static from(t){if(Rc.isFragment(t))return t;if(\"string\"==typeof t)try{return Rc.from(Za(t))}catch(e){Oi(!1,\"invalid fallback fragment\",\"obj\",t)}else if(t instanceof Xa){const e=t.toString();Oi(t.peekKeyword(Fa([\"fallback\",\"receive\"])),\"type must be fallback or receive\",\"obj\",e);if(\"receive\"===t.popKeyword(Fa([\"fallback\",\"receive\"]))){const e=nc(t);return Oi(0===e.length,\"receive cannot have arguments\",\"obj.inputs\",e),ec(t,Fa([\"payable\"])),ic(t),new Rc(cc,[],!0)}let r=nc(t);r.length?Oi(1===r.length&&\"bytes\"===r[0].type,\"invalid fallback inputs\",\"obj.inputs\",r.map((t=>t.format(\"minimal\"))).join(\", \")):r=[mc.from(\"bytes\")];const n=rc(t);if(Oi(\"nonpayable\"===n||\"payable\"===n,\"fallback cannot be constants\",\"obj.stateMutability\",n),ec(t,Fa([\"returns\"])).has(\"returns\")){const e=nc(t);Oi(1===e.length&&\"bytes\"===e[0].type,\"invalid fallback outputs\",\"obj.outputs\",e.map((t=>t.format(\"minimal\"))).join(\", \"))}return ic(t),new Rc(cc,r,\"payable\"===n)}if(\"receive\"===t.type)return new Rc(cc,[],!0);if(\"fallback\"===t.type){const e=[mc.from(\"bytes\")],r=\"payable\"===t.stateMutability;return new Rc(cc,e,r)}Oi(!1,\"invalid fallback description\",\"obj\",t)}static isFragment(t){return t&&t[uc]===pc}}class Ic extends bc{constant;outputs;stateMutability;payable;gas;constructor(t,e,r,n,s,i){super(t,\"function\",e,n),Object.defineProperty(this,uc,{value:gc});Ei(this,{constant:\"view\"===r||\"pure\"===r,gas:i,outputs:s=Object.freeze(s.slice()),payable:\"payable\"===r,stateMutability:r})}get selector(){return Ua(this.format(\"sighash\")).substring(0,10)}format(t){if(null==t&&(t=\"sighash\"),\"json\"===t)return JSON.stringify({type:\"function\",name:this.name,constant:this.constant,stateMutability:\"nonpayable\"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((e=>JSON.parse(e.format(t)))),outputs:this.outputs.map((e=>JSON.parse(e.format(t))))});const e=[];return\"sighash\"!==t&&e.push(\"function\"),e.push(this.name+vc(t,this.inputs)),\"sighash\"!==t&&(\"nonpayable\"!==this.stateMutability&&e.push(this.stateMutability),this.outputs&&this.outputs.length&&(e.push(\"returns\"),e.push(vc(t,this.outputs))),null!=this.gas&&e.push(`@${this.gas.toString()}`)),e.join(\" \")}static getSelector(t,e){e=(e||[]).map((t=>mc.from(t)));return new Ic(cc,t,\"view\",e,[],null).selector}static from(t){if(Ic.isFragment(t))return t;if(\"string\"==typeof t)try{return Ic.from(Za(t))}catch(e){Oi(!1,\"invalid function fragment\",\"obj\",t)}else if(t instanceof Xa){const e=tc(\"function\",t),r=nc(t),n=rc(t);let s=[];ec(t,Fa([\"returns\"])).has(\"returns\")&&(s=nc(t));const i=sc(t);return ic(t),new Ic(cc,e,n,r,s,i)}let e=t.stateMutability;return null==e&&(e=\"payable\",\"boolean\"==typeof t.constant?(e=\"view\",t.constant||(e=\"payable\",\"boolean\"!=typeof t.payable||t.payable||(e=\"nonpayable\"))):\"boolean\"!=typeof t.payable||t.payable||(e=\"nonpayable\")),new Ic(cc,t.name,e,t.inputs?t.inputs.map(mc.from):[],t.outputs?t.outputs.map(mc.from):[],null!=t.gas?t.gas:null)}static isFragment(t){return t&&t[uc]===gc}}class Sc extends bc{constructor(t,e,r){super(t,\"struct\",e,r),Object.defineProperty(this,uc,{value:yc})}format(){throw new Error(\"@TODO\")}static from(t){if(\"string\"==typeof t)try{return Sc.from(Za(t))}catch(e){Oi(!1,\"invalid struct fragment\",\"obj\",t)}else if(t instanceof Xa){const e=tc(\"struct\",t),r=nc(t);return ic(t),new Sc(cc,e,r)}return new Sc(cc,t.name,t.inputs?t.inputs.map(mc.from):[])}static isFragment(t){return t&&t[uc]===yc}}const Nc=new Map;Nc.set(0,\"GENERIC_PANIC\"),Nc.set(1,\"ASSERT_FALSE\"),Nc.set(17,\"OVERFLOW\"),Nc.set(18,\"DIVIDE_BY_ZERO\"),Nc.set(33,\"ENUM_RANGE_ERROR\"),Nc.set(34,\"BAD_STORAGE_DATA\"),Nc.set(49,\"STACK_UNDERFLOW\"),Nc.set(50,\"ARRAY_RANGE_ERROR\"),Nc.set(65,\"OUT_OF_MEMORY\"),Nc.set(81,\"UNINITIALIZED_FUNCTION_CALL\");const Oc=new RegExp(/^bytes([0-9]*)$/),Cc=new RegExp(/^(u?int)([0-9]*)$/);let Pc=null,Bc=1024;class kc{#b(t){if(t.isArray())return new ma(this.#b(t.arrayChildren),t.arrayLength,t.name);if(t.isTuple())return new La(t.components.map((t=>this.#b(t))),t.name);switch(t.baseType){case\"address\":return new da(t.name);case\"bool\":return new wa(t.name);case\"string\":return new Ta(t.name);case\"bytes\":return new va(t.name);case\"\":return new xa(t.name)}let e=t.type.match(Cc);if(e){let r=parseInt(e[2]||\"256\");return Oi(0!==r&&r<=256&&r%8==0,\"invalid \"+e[1]+\" bit length\",\"param\",t),new Na(r/8,\"int\"===e[1],t.name)}if(e=t.type.match(Oc),e){let r=parseInt(e[1]);return Oi(0!==r&&r<=32,\"invalid bytes length\",\"param\",t),new Aa(r,t.name)}Oi(!1,\"invalid type\",\"type\",t.type)}getDefaultValue(t){const e=t.map((t=>this.#b(mc.from(t))));return new La(e,\"_\").defaultValue()}encode(t,e){Ci(e.length,t.length,\"types/values length mismatch\");const r=t.map((t=>this.#b(mc.from(t)))),n=new La(r,\"_\"),s=new lo;return n.encode(s,e),s.data}decode(t,e,r){const n=t.map((t=>this.#b(mc.from(t))));return new La(n,\"_\").decode(new ho(e,r,Bc))}static _setDefaultMaxInflation(t){Oi(\"number\"==typeof t&&Number.isInteger(t),\"invalid defaultMaxInflation factor\",\"value\",t),Bc=t}static defaultAbiCoder(){return null==Pc&&(Pc=new kc),Pc}static getBuiltinCallException(t,e,r){return function(t,e,r,n){let s=\"missing revert data\",i=null,o=null;if(r){s=\"execution reverted\";const t=Ti(r);if(r=Mi(r),0===t.length)s+=\" (no data present; likely require(false) occurred\",i=\"require(false)\";else if(t.length%32!=4)s+=\" (could not decode reason; invalid data length)\";else if(\"0x08c379a0\"===Mi(t.slice(0,4)))try{i=n.decode([\"string\"],t.slice(4))[0],o={signature:\"Error(string)\",name:\"Error\",args:[i]},s+=`: ${JSON.stringify(i)}`}catch(t){s+=\" (could not decode reason; invalid string data)\"}else if(\"0x4e487b71\"===Mi(t.slice(0,4)))try{const e=Number(n.decode([\"uint256\"],t.slice(4))[0]);o={signature:\"Panic(uint256)\",name:\"Panic\",args:[e]},i=`Panic due to ${Nc.get(e)||\"UNKNOWN\"}(${e})`,s+=`: ${i}`}catch(t){s+=\" (could not decode panic code)\"}else s+=\" (unknown custom error)\"}const a={to:e.to?aa(e.to):null,data:e.data||\"0x\"};return e.from&&(a.from=aa(e.from)),Si(s,\"CALL_EXCEPTION\",{action:t,data:r,reason:i,transaction:a,invocation:null,revert:o})}(t,e,r,kc.defaultAbiCoder())}}function Tc(t){return t&&\"function\"==typeof t.getAddress}async function Lc(t,e){const r=await e;return null!=r&&\"0x0000000000000000000000000000000000000000\"!==r||(Ni(\"string\"!=typeof t,\"unconfigured name\",\"UNCONFIGURED_NAME\",{value:t}),Oi(!1,\"invalid AddressLike value; did not resolve to a value address\",\"target\",t)),aa(r)}function Uc(t,e){return\"string\"==typeof t?t.match(/^0x[0-9a-f]{40}$/i)?aa(t):(Ni(null!=e,\"ENS resolution requires a provider\",\"UNSUPPORTED_OPERATION\",{operation:\"resolveName\"}),Lc(t,e.resolveName(t))):Tc(t)?Lc(t,t.getAddress()):t&&\"function\"==typeof t.then?Lc(t,t):void Oi(!1,\"unsupported addressable value\",\"target\",t)}const Fc=new Uint8Array(32);Fc.fill(0);const Mc=BigInt(-1),Dc=BigInt(0),jc=BigInt(1),_c=BigInt(\"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\");const Gc=Yi(jc,32),$c=Yi(Dc,32),Hc={name:\"string\",version:\"string\",chainId:\"uint256\",verifyingContract:\"address\",salt:\"bytes32\"},Vc=[\"name\",\"version\",\"chainId\",\"verifyingContract\",\"salt\"];function qc(t){return function(e){return Oi(\"string\"==typeof e,`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const Jc={name:qc(\"name\"),version:qc(\"version\"),chainId:function(t){const e=Qi(t,\"domain.chainId\");return Oi(e>=0,\"invalid chain ID\",\"domain.chainId\",t),Number.isSafeInteger(e)?Number(e):eo(e)},verifyingContract:function(t){try{return aa(t).toLowerCase()}catch(t){}Oi(!1,'invalid domain value \"verifyingContract\"',\"domain.verifyingContract\",t)},salt:function(t){const e=Ti(t,\"domain.salt\");return Oi(32===e.length,'invalid domain value \"salt\"',\"domain.salt\",t),Mi(e)}};function zc(t){{const e=t.match(/^(u?)int(\\d+)$/);if(e){const r=\"\"===e[1],n=parseInt(e[2]);Oi(n%8==0&&0!==n&&n<=256&&e[2]===String(n),\"invalid numeric width\",\"type\",t);const s=zi(_c,r?n-1:n),i=r?(s+jc)*Mc:Dc;return function(e){const n=Qi(e,\"value\");return Oi(n>=i&&n<=s,`value out-of-bounds for ${t}`,\"value\",n),Yi(r?Ji(n,256):n,32)}}}{const e=t.match(/^bytes(\\d+)$/);if(e){const r=parseInt(e[1]);return Oi(0!==r&&r<=32&&e[1]===String(r),\"invalid bytes width\",\"type\",t),function(e){return Oi(Ti(e).length===r,`invalid length for ${t}`,\"value\",e),function(t){const e=Ti(t),r=e.length%32;return r?Di([e,Fc.slice(r)]):Mi(e)}(e)}}}switch(t){case\"address\":return function(t){return $i(aa(t),32)};case\"bool\":return function(t){return t?Gc:$c};case\"bytes\":return function(t){return Yo(t)};case\"string\":return function(t){return Ua(t)}}return null}function Qc(t,e){return`${t}(${e.map((({name:t,type:e})=>e+\" \"+t)).join(\",\")})`}function Kc(t){const e=t.match(/^([^\\x5b]*)((\\x5b\\d*\\x5d)*)(\\x5b(\\d*)\\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}class Wc{primaryType;#v;get types(){return JSON.parse(this.#v)}#A;#E;constructor(t){this.#A=new Map,this.#E=new Map;const e=new Map,r=new Map,n=new Map,s={};Object.keys(t).forEach((i=>{s[i]=t[i].map((({name:e,type:r})=>{let{base:n,index:s}=Kc(r);return\"int\"!==n||t.int||(n=\"int256\"),\"uint\"!==n||t.uint||(n=\"uint256\"),{name:e,type:n+(s||\"\")}})),e.set(i,new Set),r.set(i,[]),n.set(i,new Set)})),this.#v=JSON.stringify(s);for(const n in s){const i=new Set;for(const o of s[n]){Oi(!i.has(o.name),`duplicate variable name ${JSON.stringify(o.name)} in ${JSON.stringify(n)}`,\"types\",t),i.add(o.name);const s=Kc(o.type).base;Oi(s!==n,`circular type reference to ${JSON.stringify(s)}`,\"types\",t);zc(s)||(Oi(r.has(s),`unknown type ${JSON.stringify(s)}`,\"types\",t),r.get(s).push(n),e.get(n).add(s))}}const i=Array.from(r.keys()).filter((t=>0===r.get(t).length));Oi(0!==i.length,\"missing primary type\",\"types\",t),Oi(1===i.length,`ambiguous primary types or unused types: ${i.map((t=>JSON.stringify(t))).join(\", \")}`,\"types\",t),Ei(this,{primaryType:i[0]}),function s(i,o){Oi(!o.has(i),`circular type reference to ${JSON.stringify(i)}`,\"types\",t),o.add(i);for(const t of e.get(i))if(r.has(t)){s(t,o);for(const e of o)n.get(e).add(t)}o.delete(i)}(this.primaryType,new Set);for(const[t,e]of n){const r=Array.from(e);r.sort(),this.#A.set(t,Qc(t,s[t])+r.map((t=>Qc(t,s[t]))).join(\"\"))}}getEncoder(t){let e=this.#E.get(t);return e||(e=this.#x(t),this.#E.set(t,e)),e}#x(t){{const e=zc(t);if(e)return e}const e=Kc(t).array;if(e){const t=e.prefix,r=this.getEncoder(t);return n=>{Oi(-1===e.count||e.count===n.length,`array length mismatch; expected length ${e.count}`,\"value\",n);let s=n.map(r);return this.#A.has(t)&&(s=s.map(Yo)),Yo(Di(s))}}const r=this.types[t];if(r){const e=Ua(this.#A.get(t));return t=>{const n=r.map((({name:e,type:r})=>{const n=this.getEncoder(r)(t[e]);return this.#A.has(r)?Yo(n):n}));return n.unshift(e),Di(n)}}Oi(!1,`unknown type: ${t}`,\"type\",t)}encodeType(t){const e=this.#A.get(t);return Oi(e,`unknown type: ${JSON.stringify(t)}`,\"name\",t),e}encodeData(t,e){return this.getEncoder(t)(e)}hashStruct(t,e){return Yo(this.encodeData(t,e))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,e,r){if(zc(t))return r(t,e);const n=Kc(t).array;if(n)return Oi(-1===n.count||n.count===e.length,`array length mismatch; expected length ${n.count}`,\"value\",e),e.map((t=>this._visit(n.prefix,t,r)));const s=this.types[t];if(s)return s.reduce(((t,{name:n,type:s})=>(t[n]=this._visit(s,e[n],r),t)),{});Oi(!1,`unknown type: ${t}`,\"type\",t)}visit(t,e){return this._visit(this.primaryType,t,e)}static from(t){return new Wc(t)}static getPrimaryType(t){return Wc.from(t).primaryType}static hashStruct(t,e,r){return Wc.from(e).hashStruct(t,r)}static hashDomain(t){const e=[];for(const r in t){if(null==t[r])continue;const n=Hc[r];Oi(n,`invalid typed-data domain key: ${JSON.stringify(r)}`,\"domain\",t),e.push({name:r,type:n})}return e.sort(((t,e)=>Vc.indexOf(t.name)-Vc.indexOf(e.name))),Wc.hashStruct(\"EIP712Domain\",{EIP712Domain:e},t)}static encode(t,e,r){return Di([\"0x1901\",Wc.hashDomain(t),Wc.from(e).hash(r)])}static hash(t,e,r){return Yo(Wc.encode(t,e,r))}static async resolveNames(t,e,r,n){t=Object.assign({},t);for(const e in t)null==t[e]&&delete t[e];const s={};t.verifyingContract&&!Ui(t.verifyingContract,20)&&(s[t.verifyingContract]=\"0x\");const i=Wc.from(e);i.visit(r,((t,e)=>(\"address\"!==t||Ui(e,20)||(s[e]=\"0x\"),e)));for(const t in s)s[t]=await n(t);return t.verifyingContract&&s[t.verifyingContract]&&(t.verifyingContract=s[t.verifyingContract]),{domain:t,value:r=i.visit(r,((t,e)=>\"address\"===t&&s[e]?s[e]:e))}}static getPayload(t,e,r){Wc.hashDomain(t);const n={},s=[];Vc.forEach((e=>{const r=t[e];null!=r&&(n[e]=Jc[e](r),s.push({name:e,type:Hc[e]}))}));const i=Wc.from(e);e=i.types;const o=Object.assign({},e);return Oi(null==o.EIP712Domain,\"types must not contain EIP712Domain type\",\"types.EIP712Domain\",e),o.EIP712Domain=s,i.encode(r),{types:o,domain:n,primaryType:i.primaryType,message:i.visit(r,((t,e)=>{if(t.match(/^bytes(\\d*)/))return Mi(Ti(e));if(t.match(/^u?int/))return Qi(e).toString();switch(t){case\"address\":return e.toLowerCase();case\"bool\":return!!e;case\"string\":return Oi(\"string\"==typeof e,\"invalid string\",\"value\",e),e}Oi(!1,\"unsupported type\",\"type\",t)}))}}}function Xc(t,e){return{address:aa(t),storageKeys:e.map(((t,e)=>(Oi(Ui(t,32),\"invalid slot\",`storageKeys[${e}]`,t),t.toLowerCase())))}}function Zc(t){if(Array.isArray(t))return t.map(((e,r)=>Array.isArray(e)?(Oi(2===e.length,\"invalid slot set\",`value[${r}]`,e),Xc(e[0],e[1])):(Oi(null!=e&&\"object\"==typeof e,\"invalid address-slot set\",\"value\",t),Xc(e.address,e.storageKeys))));Oi(null!=t&&\"object\"==typeof t,\"invalid access list\",\"value\",t);const e=Object.keys(t).map((e=>{const r=t[e].reduce(((t,e)=>(t[e]=!0,t)),{});return Xc(e,Object.keys(r).sort())}));return e.sort(((t,e)=>t.address.localeCompare(e.address))),e}function Yc(t){return async function(t,e){const r=t.url.split(\":\")[0].toLowerCase();let n;if(Ni(\"http\"===r||\"https\"===r,`unsupported protocol ${r}`,\"UNSUPPORTED_OPERATION\",{info:{protocol:r},operation:\"request\"}),Ni(\"https\"===r||!t.credentials||t.allowInsecureAuthentication,\"insecure authorized connections unsupported\",\"UNSUPPORTED_OPERATION\",{operation:\"request\"}),e){const t=new AbortController;n=t.signal,e.addListener((()=>{t.abort()}))}const s={method:t.method,headers:new Headers(Array.from(t)),body:t.body||void 0,signal:n},i=await fetch(t.url,s),o={};i.headers.forEach(((t,e)=>{o[e.toLowerCase()]=t}));const a=await i.arrayBuffer(),c=null==a?null:new Uint8Array(a);return{statusCode:i.status,statusMessage:i.statusText,headers:o,body:c}}}Yc();let tu=Yc();const eu=new RegExp(\"^data:([^;:]*)?(;base64)?,(.*)$\",\"i\"),ru=new RegExp(\"^ipfs://(ipfs/)?(.*)$\",\"i\");let nu=!1;async function su(t,e){try{const e=t.match(eu);if(!e)throw new Error(\"invalid data\");return new hu(200,\"OK\",{\"content-type\":e[1]||\"text/plain\"},e[2]?function(t){t=atob(t);const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return Ti(e)}(e[3]):Ba(e[3].replace(/%([0-9a-f][0-9a-f])/gi,((t,e)=>String.fromCharCode(parseInt(e,16))))))}catch(e){return new hu(599,\"BAD REQUEST (invalid data: URI)\",{},null,new lu(t))}}function iu(t){return async function(e,r){try{const r=e.match(ru);if(!r)throw new Error(\"invalid link\");return new lu(`${t}${r[2]}`)}catch(t){return new hu(599,\"BAD REQUEST (invalid IPFS URI)\",{},null,new lu(e))}}}const ou={data:su,ipfs:iu(\"https://gateway.ipfs.io/ipfs/\")},au=new WeakMap;class cu{#R;#I;constructor(t){this.#R=[],this.#I=!1,au.set(t,(()=>{if(!this.#I){this.#I=!0;for(const t of this.#R)setTimeout((()=>{t()}),0);this.#R=[]}}))}addListener(t){Ni(!this.#I,\"singal already cancelled\",\"UNSUPPORTED_OPERATION\",{operation:\"fetchCancelSignal.addCancelListener\"}),this.#R.push(t)}get cancelled(){return this.#I}checkSignal(){Ni(!this.cancelled,\"cancelled\",\"CANCELLED\",{})}}function uu(t){if(null==t)throw new Error(\"missing signal; should not happen\");return t.checkSignal(),t}class lu{#S;#N;#O;#C;#P;#B;#k;#T;#L;#U;#F;#M;#D;#j;#_;get url(){return this.#B}set url(t){this.#B=String(t)}get body(){return null==this.#k?null:new Uint8Array(this.#k)}set body(t){if(null==t)this.#k=void 0,this.#T=void 0;else if(\"string\"==typeof t)this.#k=Ba(t),this.#T=\"text/plain\";else if(t instanceof Uint8Array)this.#k=t,this.#T=\"application/octet-stream\";else{if(\"object\"!=typeof t)throw new Error(\"invalid body\");this.#k=Ba(JSON.stringify(t)),this.#T=\"application/json\"}}hasBody(){return null!=this.#k}get method(){return this.#C?this.#C:this.hasBody()?\"POST\":\"GET\"}set method(t){null==t&&(t=\"\"),this.#C=String(t).toUpperCase()}get headers(){const t=Object.assign({},this.#O);return this.#L&&(t.authorization=`Basic ${function(t){const e=Ti(t);let r=\"\";for(let t=0;t<e.length;t++)r+=String.fromCharCode(e[t]);return btoa(r)}(Ba(this.#L))}`),this.allowGzip&&(t[\"accept-encoding\"]=\"gzip\"),null==t[\"content-type\"]&&this.#T&&(t[\"content-type\"]=this.#T),this.body&&(t[\"content-length\"]=String(this.body.length)),t}getHeader(t){return this.headers[t.toLowerCase()]}setHeader(t,e){this.#O[String(t).toLowerCase()]=String(e)}clearHeaders(){this.#O={}}[Symbol.iterator](){const t=this.headers,e=Object.keys(t);let r=0;return{next:()=>{if(r<e.length){const n=e[r++];return{value:[n,t[n]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#L||null}setCredentials(t,e){Oi(!t.match(/:/),\"invalid basic authentication username\",\"username\",\"[REDACTED]\"),this.#L=`${t}:${e}`}get allowGzip(){return this.#N}set allowGzip(t){this.#N=!!t}get allowInsecureAuthentication(){return!!this.#S}set allowInsecureAuthentication(t){this.#S=!!t}get timeout(){return this.#P}set timeout(t){Oi(t>=0,\"timeout must be non-zero\",\"timeout\",t),this.#P=t}get preflightFunc(){return this.#U||null}set preflightFunc(t){this.#U=t}get processFunc(){return this.#F||null}set processFunc(t){this.#F=t}get retryFunc(){return this.#M||null}set retryFunc(t){this.#M=t}get getUrlFunc(){return this.#_||tu}set getUrlFunc(t){this.#_=t}constructor(t){this.#B=String(t),this.#S=!1,this.#N=!0,this.#O={},this.#C=\"\",this.#P=3e5,this.#j={slotInterval:250,maxAttempts:12},this.#_=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#k?Mi(this.#k):\"null\"}>`}setThrottleParams(t){null!=t.slotInterval&&(this.#j.slotInterval=t.slotInterval),null!=t.maxAttempts&&(this.#j.maxAttempts=t.maxAttempts)}async#G(t,e,r,n,s){if(t>=this.#j.maxAttempts)return s.makeServerError(\"exceeded maximum retry limit\");Ni(fu()<=e,\"timeout\",\"TIMEOUT\",{operation:\"request.send\",reason:\"timeout\",request:n}),r>0&&await function(t){return new Promise((e=>setTimeout(e,t)))}(r);let i=this.clone();const o=(i.url.split(\":\")[0]||\"\").toLowerCase();if(o in ou){const t=await ou[o](i.url,uu(n.#D));if(t instanceof hu){let e=t;if(this.processFunc){uu(n.#D);try{e=await this.processFunc(i,e)}catch(t){null!=t.throttle&&\"number\"==typeof t.stall||e.makeServerError(\"error in post-processing function\",t).assertOk()}}return e}i=t}this.preflightFunc&&(i=await this.preflightFunc(i));const a=await this.getUrlFunc(i,uu(n.#D));let c=new hu(a.statusCode,a.statusMessage,a.headers,a.body,n);if(301===c.statusCode||302===c.statusCode){try{const r=c.headers.location||\"\";return i.redirect(r).#G(t+1,e,0,n,c)}catch(t){}return c}if(429===c.statusCode&&(null==this.retryFunc||await this.retryFunc(i,c,t))){const r=c.headers[\"retry-after\"];let s=this.#j.slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return\"string\"==typeof r&&r.match(/^[1-9][0-9]*$/)&&(s=parseInt(r)),i.clone().#G(t+1,e,s,n,c)}if(this.processFunc){uu(n.#D);try{c=await this.processFunc(i,c)}catch(r){null!=r.throttle&&\"number\"==typeof r.stall||c.makeServerError(\"error in post-processing function\",r).assertOk();let s=this.#j.slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return r.stall>=0&&(s=r.stall),i.clone().#G(t+1,e,s,n,c)}}return c}send(){return Ni(null==this.#D,\"request already sent\",\"UNSUPPORTED_OPERATION\",{operation:\"fetchRequest.send\"}),this.#D=new cu(this),this.#G(0,fu()+this.timeout,0,this,new hu(0,\"\",{},null,this))}cancel(){Ni(null!=this.#D,\"request has not been sent\",\"UNSUPPORTED_OPERATION\",{operation:\"fetchRequest.cancel\"});const t=au.get(this);if(!t)throw new Error(\"missing signal; should not happen\");t()}redirect(t){const e=this.url.split(\":\")[0].toLowerCase(),r=t.split(\":\")[0].toLowerCase();Ni(\"GET\"===this.method&&(\"https\"!==e||\"http\"!==r)&&t.match(/^https?:/),\"unsupported redirect\",\"UNSUPPORTED_OPERATION\",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(t)})`});const n=new lu(t);return n.method=\"GET\",n.allowGzip=this.allowGzip,n.timeout=this.timeout,n.#O=Object.assign({},this.#O),this.#k&&(n.#k=new Uint8Array(this.#k)),n.#T=this.#T,n}clone(){const t=new lu(this.url);return t.#C=this.#C,this.#k&&(t.#k=this.#k),t.#T=this.#T,t.#O=Object.assign({},this.#O),t.#L=this.#L,this.allowGzip&&(t.allowGzip=!0),t.timeout=this.timeout,this.allowInsecureAuthentication&&(t.allowInsecureAuthentication=!0),t.#U=this.#U,t.#F=this.#F,t.#M=this.#M,t.#_=this.#_,t}static lockConfig(){nu=!0}static getGateway(t){return ou[t.toLowerCase()]||null}static registerGateway(t,e){if(\"http\"===(t=t.toLowerCase())||\"https\"===t)throw new Error(`cannot intercept ${t}; use registerGetUrl`);if(nu)throw new Error(\"gateways locked\");ou[t]=e}static registerGetUrl(t){if(nu)throw new Error(\"gateways locked\");tu=t}static createGetUrlFunc(t){return Yc()}static createDataGateway(){return su}static createIpfsGatewayFunc(t){return iu(t)}}class hu{#$;#H;#O;#k;#V;#q;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#k?Mi(this.#k):\"null\"}>`}get statusCode(){return this.#$}get statusMessage(){return this.#H}get headers(){return Object.assign({},this.#O)}get body(){return null==this.#k?null:new Uint8Array(this.#k)}get bodyText(){try{return null==this.#k?\"\":ka(this.#k)}catch(t){Ni(!1,\"response body is not valid UTF-8 data\",\"UNSUPPORTED_OPERATION\",{operation:\"bodyText\",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch(t){Ni(!1,\"response body is not valid JSON\",\"UNSUPPORTED_OPERATION\",{operation:\"bodyJson\",info:{response:this}})}}[Symbol.iterator](){const t=this.headers,e=Object.keys(t);let r=0;return{next:()=>{if(r<e.length){const n=e[r++];return{value:[n,t[n]],done:!1}}return{value:void 0,done:!0}}}}constructor(t,e,r,n,s){this.#$=t,this.#H=e,this.#O=Object.keys(r).reduce(((t,e)=>(t[e.toLowerCase()]=String(r[e]),t)),{}),this.#k=null==n?null:new Uint8Array(n),this.#V=s||null,this.#q={message:\"\"}}makeServerError(t,e){let r;r=t?`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${t})`:`CLIENT ESCALATED SERVER ERROR (${t=`${this.statusCode} ${this.statusMessage}`})`;const n=new hu(599,r,this.headers,this.body,this.#V||void 0);return n.#q={message:t,error:e},n}throwThrottleError(t,e){null==e?e=-1:Oi(Number.isInteger(e)&&e>=0,\"invalid stall timeout\",\"stall\",e);const r=new Error(t||\"throttling requests\");throw Ei(r,{stall:e,throttle:!0}),r}getHeader(t){return this.headers[t.toLowerCase()]}hasBody(){return null!=this.#k}get request(){return this.#V}ok(){return\"\"===this.#q.message&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:t,error:e}=this.#q;\"\"===t&&(t=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let n=null;try{this.#k&&(n=ka(this.#k))}catch(t){}Ni(!1,t,\"SERVER_ERROR\",{request:this.request||\"unknown request\",response:this,error:e,info:{requestUrl:r,responseBody:n,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function fu(){return(new Date).getTime()}const du=\"0x0000000000000000000000000000000000000000\";class pu{fragment;name;signature;topic;args;constructor(t,e,r){const n=t.name,s=t.format();Ei(this,{fragment:t,name:n,signature:s,topic:e,args:r})}}class gu{fragment;name;args;signature;selector;value;constructor(t,e,r,n){const s=t.name,i=t.format();Ei(this,{fragment:t,name:s,args:r,signature:i,selector:e,value:n})}}class yu{fragment;name;args;signature;selector;constructor(t,e,r){const n=t.name,s=t.format();Ei(this,{fragment:t,name:n,args:r,signature:s,selector:e})}}class mu{hash;_isIndexed;static isIndexed(t){return!(!t||!t._isIndexed)}constructor(t){Ei(this,{hash:t,_isIndexed:!0})}}const wu={0:\"generic panic\",1:\"assert(false)\",17:\"arithmetic overflow\",18:\"division or modulo by zero\",33:\"enum overflow\",34:\"invalid encoded storage byte array accessed\",49:\"out-of-bounds array access; popping on an empty array\",50:\"out-of-bounds access of an array or bytesN\",65:\"out of memory\",81:\"uninitialized function\"},bu={\"0x08c379a0\":{signature:\"Error(string)\",name:\"Error\",inputs:[\"string\"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},\"0x4e487b71\":{signature:\"Panic(uint256)\",name:\"Panic\",inputs:[\"uint256\"],reason:t=>{let e=\"unknown panic code\";return t>=0&&t<=255&&wu[t.toString()]&&(e=wu[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};class vu{fragments;deploy;fallback;receive;#J;#z;#Q;#K;constructor(t){let e=[];e=\"string\"==typeof t?JSON.parse(t):t,this.#Q=new Map,this.#J=new Map,this.#z=new Map;const r=[];for(const t of e)try{r.push(wc.from(t))}catch(e){console.log(`[Warning] Invalid Fragment ${JSON.stringify(t)}:`,e.message)}Ei(this,{fragments:Object.freeze(r)});let n=null,s=!1;this.#K=this.getAbiCoder(),this.fragments.forEach(((t,e)=>{let r;switch(t.type){case\"constructor\":return this.deploy?void console.log(\"duplicate definition - constructor\"):void Ei(this,{deploy:t});case\"fallback\":return void(0===t.inputs.length?s=!0:(Oi(!n||t.payable!==n.payable,\"conflicting fallback fragments\",`fragments[${e}]`,t),n=t,s=n.payable));case\"function\":r=this.#Q;break;case\"event\":r=this.#z;break;case\"error\":r=this.#J;break;default:return}const i=t.format();r.has(i)||r.set(i,t)})),this.deploy||Ei(this,{deploy:xc.from(\"constructor()\")}),Ei(this,{fallback:n,receive:s})}format(t){const e=t?\"minimal\":\"full\";return this.fragments.map((t=>t.format(e)))}formatJson(){const t=this.fragments.map((t=>t.format(\"json\")));return JSON.stringify(t.map((t=>JSON.parse(t))))}getAbiCoder(){return kc.defaultAbiCoder()}#W(t,e,r){if(Ui(t)){const e=t.toLowerCase();for(const t of this.#Q.values())if(e===t.selector)return t;return null}if(-1===t.indexOf(\"(\")){const n=[];for(const[e,r]of this.#Q)e.split(\"(\")[0]===t&&n.push(r);if(e){const t=e.length>0?e[e.length-1]:null;let r=e.length,s=!0;fa.isTyped(t)&&\"overrides\"===t.type&&(s=!1,r--);for(let t=n.length-1;t>=0;t--){const e=n[t].inputs.length;e===r||s&&e===r-1||n.splice(t,1)}for(let t=n.length-1;t>=0;t--){const r=n[t].inputs;for(let s=0;s<e.length;s++)if(fa.isTyped(e[s])){if(s>=r.length){if(\"overrides\"===e[s].type)continue;n.splice(t,1);break}if(e[s].type!==r[s].baseType){n.splice(t,1);break}}}}if(1===n.length&&e&&e.length!==n[0].inputs.length){const t=e[e.length-1];(null==t||Array.isArray(t)||\"object\"!=typeof t)&&n.splice(0,1)}if(0===n.length)return null;if(n.length>1&&r){Oi(!1,`ambiguous function description (i.e. matches ${n.map((t=>JSON.stringify(t.format()))).join(\", \")})`,\"key\",t)}return n[0]}const n=this.#Q.get(Ic.from(t).format());return n||null}getFunctionName(t){const e=this.#W(t,null,!1);return Oi(e,\"no matching function\",\"key\",t),e.name}hasFunction(t){return!!this.#W(t,null,!1)}getFunction(t,e){return this.#W(t,e||null,!0)}forEachFunction(t){const e=Array.from(this.#Q.keys());e.sort(((t,e)=>t.localeCompare(e)));for(let r=0;r<e.length;r++){const n=e[r];t(this.#Q.get(n),r)}}#X(t,e,r){if(Ui(t)){const e=t.toLowerCase();for(const t of this.#z.values())if(e===t.topicHash)return t;return null}if(-1===t.indexOf(\"(\")){const n=[];for(const[e,r]of this.#z)e.split(\"(\")[0]===t&&n.push(r);if(e){for(let t=n.length-1;t>=0;t--)n[t].inputs.length<e.length&&n.splice(t,1);for(let t=n.length-1;t>=0;t--){const r=n[t].inputs;for(let s=0;s<e.length;s++)if(fa.isTyped(e[s])&&e[s].type!==r[s].baseType){n.splice(t,1);break}}}if(0===n.length)return null;if(n.length>1&&r){Oi(!1,`ambiguous event description (i.e. matches ${n.map((t=>JSON.stringify(t.format()))).join(\", \")})`,\"key\",t)}return n[0]}const n=this.#z.get(Ec.from(t).format());return n||null}getEventName(t){const e=this.#X(t,null,!1);return Oi(e,\"no matching event\",\"key\",t),e.name}hasEvent(t){return!!this.#X(t,null,!1)}getEvent(t,e){return this.#X(t,e||null,!0)}forEachEvent(t){const e=Array.from(this.#z.keys());e.sort(((t,e)=>t.localeCompare(e)));for(let r=0;r<e.length;r++){const n=e[r];t(this.#z.get(n),r)}}getError(t,e){if(Ui(t)){const e=t.toLowerCase();if(bu[e])return Ac.from(bu[e].signature);for(const t of this.#J.values())if(e===t.selector)return t;return null}if(-1===t.indexOf(\"(\")){const e=[];for(const[r,n]of this.#J)r.split(\"(\")[0]===t&&e.push(n);if(0===e.length)return\"Error\"===t?Ac.from(\"error Error(string)\"):\"Panic\"===t?Ac.from(\"error Panic(uint256)\"):null;if(e.length>1){Oi(!1,`ambiguous error description (i.e. ${e.map((t=>JSON.stringify(t.format()))).join(\", \")})`,\"name\",t)}return e[0]}if(\"Error(string)\"===(t=Ac.from(t).format()))return Ac.from(\"error Error(string)\");if(\"Panic(uint256)\"===t)return Ac.from(\"error Panic(uint256)\");const r=this.#J.get(t);return r||null}forEachError(t){const e=Array.from(this.#J.keys());e.sort(((t,e)=>t.localeCompare(e)));for(let r=0;r<e.length;r++){const n=e[r];t(this.#J.get(n),r)}}_decodeParams(t,e){return this.#K.decode(t,e)}_encodeParams(t,e){return this.#K.encode(t,e)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeErrorResult(t,e){if(\"string\"==typeof t){const e=this.getError(t);Oi(e,\"unknown error\",\"fragment\",t),t=e}return Oi(_i(e,0,4)===t.selector,`data signature does not match error ${t.name}.`,\"data\",e),this._decodeParams(t.inputs,_i(e,4))}encodeErrorResult(t,e){if(\"string\"==typeof t){const e=this.getError(t);Oi(e,\"unknown error\",\"fragment\",t),t=e}return Di([t.selector,this._encodeParams(t.inputs,e||[])])}decodeFunctionData(t,e){if(\"string\"==typeof t){const e=this.getFunction(t);Oi(e,\"unknown function\",\"fragment\",t),t=e}return Oi(_i(e,0,4)===t.selector,`data signature does not match function ${t.name}.`,\"data\",e),this._decodeParams(t.inputs,_i(e,4))}encodeFunctionData(t,e){if(\"string\"==typeof t){const e=this.getFunction(t);Oi(e,\"unknown function\",\"fragment\",t),t=e}return Di([t.selector,this._encodeParams(t.inputs,e||[])])}decodeFunctionResult(t,e){if(\"string\"==typeof t){const e=this.getFunction(t);Oi(e,\"unknown function\",\"fragment\",t),t=e}let r=\"invalid length for result data\";const n=Li(e);if(n.length%32==0)try{return this.#K.decode(t.outputs,n)}catch(t){r=\"could not decode result data\"}Ni(!1,r,\"BAD_DATA\",{value:Mi(n),info:{method:t.name,signature:t.format()}})}makeError(t,e){const r=Ti(t,\"data\"),n=kc.getBuiltinCallException(\"call\",e,r);if(n.message.startsWith(\"execution reverted (unknown custom error)\")){const t=Mi(r.slice(0,4)),e=this.getError(t);if(e)try{const t=this.#K.decode(e.inputs,r.slice(4));n.revert={name:e.name,signature:e.format(),args:t},n.reason=n.revert.signature,n.message=`execution reverted: ${n.reason}`}catch(t){n.message=\"execution reverted (coult not decode custom error)\"}}const s=this.parseTransaction(e);return s&&(n.invocation={method:s.name,signature:s.signature,args:s.args}),n}encodeFunctionResult(t,e){if(\"string\"==typeof t){const e=this.getFunction(t);Oi(e,\"unknown function\",\"fragment\",t),t=e}return Mi(this.#K.encode(t.outputs,e||[]))}encodeFilterTopics(t,e){if(\"string\"==typeof t){const e=this.getEvent(t);Oi(e,\"unknown event\",\"eventFragment\",t),t=e}Ni(e.length<=t.inputs.length,`too many arguments for ${t.format()}`,\"UNEXPECTED_ARGUMENT\",{count:e.length,expectedCount:t.inputs.length});const r=[];t.anonymous||r.push(t.topicHash);const n=(t,e)=>\"string\"===t.type?Ua(e):\"bytes\"===t.type?Yo(Mi(e)):(\"bool\"===t.type&&\"boolean\"==typeof e?e=e?\"0x01\":\"0x00\":t.type.match(/^u?int/)?e=Yi(e):t.type.match(/^bytes/)?e=Gi(e,32,!1):\"address\"===t.type&&this.#K.encode([\"address\"],[e]),$i(Mi(e),32));for(e.forEach(((e,s)=>{const i=t.inputs[s];i.indexed?null==e?r.push(null):\"array\"===i.baseType||\"tuple\"===i.baseType?Oi(!1,\"filtering with tuples or arrays not supported\",\"contract.\"+i.name,e):Array.isArray(e)?r.push(e.map((t=>n(i,t)))):r.push(n(i,e)):Oi(null==e,\"cannot filter non-indexed parameters; must be null\",\"contract.\"+i.name,e)}));r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(t,e){if(\"string\"==typeof t){const e=this.getEvent(t);Oi(e,\"unknown event\",\"eventFragment\",t),t=e}const r=[],n=[],s=[];return t.anonymous||r.push(t.topicHash),Oi(e.length===t.inputs.length,\"event arguments/values mismatch\",\"values\",e),t.inputs.forEach(((t,i)=>{const o=e[i];if(t.indexed)if(\"string\"===t.type)r.push(Ua(o));else if(\"bytes\"===t.type)r.push(Yo(o));else{if(\"tuple\"===t.baseType||\"array\"===t.baseType)throw new Error(\"not implemented\");r.push(this.#K.encode([t.type],[o]))}else n.push(t),s.push(o)})),{data:this.#K.encode(n,s),topics:r}}decodeEventLog(t,e,r){if(\"string\"==typeof t){const e=this.getEvent(t);Oi(e,\"unknown event\",\"eventFragment\",t),t=e}if(null!=r&&!t.anonymous){const e=t.topicHash;Oi(Ui(r[0],32)&&r[0].toLowerCase()===e,\"fragment/topic mismatch\",\"topics[0]\",r[0]),r=r.slice(1)}const n=[],s=[],i=[];t.inputs.forEach(((t,e)=>{t.indexed?\"string\"===t.type||\"bytes\"===t.type||\"tuple\"===t.baseType||\"array\"===t.baseType?(n.push(mc.from({type:\"bytes32\",name:t.name})),i.push(!0)):(n.push(t),i.push(!1)):(s.push(t),i.push(!1))}));const o=null!=r?this.#K.decode(n,Di(r)):null,a=this.#K.decode(s,e,!0),c=[],u=[];let l=0,h=0;return t.inputs.forEach(((t,e)=>{let r=null;if(t.indexed)if(null==o)r=new mu(null);else if(i[e])r=new mu(o[h++]);else try{r=o[h++]}catch(t){r=t}else try{r=a[l++]}catch(t){r=t}c.push(r),u.push(t.name||null)})),ao.fromItems(c,u)}parseTransaction(t){const e=Ti(t.data,\"tx.data\"),r=Qi(null!=t.value?t.value:0,\"tx.value\"),n=this.getFunction(Mi(e.slice(0,4)));if(!n)return null;const s=this.#K.decode(n.inputs,e.slice(4));return new gu(n,n.selector,s,r)}parseCallResult(t){throw new Error(\"@TODO\")}parseLog(t){const e=this.getEvent(t.topics[0]);return!e||e.anonymous?null:new pu(e,e.topicHash,this.decodeEventLog(e,t.data,t.topics))}parseError(t){const e=Mi(t),r=this.getError(_i(e,0,4));if(!r)return null;const n=this.#K.decode(r.inputs,_i(e,4));return new yu(r,r.selector,n)}static from(t){return t instanceof vu?t:\"string\"==typeof t?new vu(JSON.parse(t)):\"function\"==typeof t.format?new vu(t.format(\"json\")):new vu(t)}}const Au=BigInt(0);function Eu(t){return null==t?null:t}function xu(t){return null==t?null:t.toString()}class Ru{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(t,e,r){Ei(this,{gasPrice:Eu(t),maxFeePerGas:Eu(e),maxPriorityFeePerGas:Eu(r)})}toJSON(){const{gasPrice:t,maxFeePerGas:e,maxPriorityFeePerGas:r}=this;return{_type:\"FeeData\",gasPrice:xu(t),maxFeePerGas:xu(e),maxPriorityFeePerGas:xu(r)}}}function Iu(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=Mi(t.data));const r=\"chainId,gasLimit,gasPrice,maxFeePerGas,maxPriorityFeePerGas,value\".split(/,/);for(const n of r)n in t&&null!=t[n]&&(e[n]=Qi(t[n],`request.${n}`));const n=\"type,nonce\".split(/,/);for(const r of n)r in t&&null!=t[r]&&(e[r]=Zi(t[r],`request.${r}`));return t.accessList&&(e.accessList=Zc(t.accessList)),\"blockTag\"in t&&(e.blockTag=t.blockTag),\"enableCcipRead\"in t&&(e.enableCcipRead=!!t.enableCcipRead),\"customData\"in t&&(e.customData=t.customData),e}class Su{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;extraData;baseFeePerGas;#Z;constructor(t,e){this.#Z=t.transactions.map((t=>\"string\"!=typeof t?new Cu(t,e):t)),Ei(this,{provider:e,hash:Eu(t.hash),number:t.number,timestamp:t.timestamp,parentHash:t.parentHash,parentBeaconBlockRoot:t.parentBeaconBlockRoot,nonce:t.nonce,difficulty:t.difficulty,gasLimit:t.gasLimit,gasUsed:t.gasUsed,blobGasUsed:t.blobGasUsed,excessBlobGas:t.excessBlobGas,miner:t.miner,extraData:t.extraData,baseFeePerGas:Eu(t.baseFeePerGas),stateRoot:t.stateRoot,receiptsRoot:t.receiptsRoot})}get transactions(){return this.#Z.map((t=>\"string\"==typeof t?t:t.hash))}get prefetchedTransactions(){const t=this.#Z.slice();return 0===t.length?[]:(Ni(\"object\"==typeof t[0],\"transactions were not prefetched with block request\",\"UNSUPPORTED_OPERATION\",{operation:\"transactionResponses()\"}),t)}toJSON(){const{baseFeePerGas:t,difficulty:e,extraData:r,gasLimit:n,gasUsed:s,hash:i,miner:o,nonce:a,number:c,parentHash:u,parentBeaconBlockRoot:l,stateRoot:h,receiptsRoot:f,timestamp:d,transactions:p}=this;return{_type:\"Block\",baseFeePerGas:xu(t),difficulty:xu(e),extraData:r,gasLimit:xu(n),gasUsed:xu(s),blobGasUsed:xu(this.blobGasUsed),excessBlobGas:xu(this.excessBlobGas),hash:i,miner:o,nonce:a,number:c,parentHash:u,timestamp:d,parentBeaconBlockRoot:l,stateRoot:h,receiptsRoot:f,transactions:p}}[Symbol.iterator](){let t=0;const e=this.transactions;return{next:()=>t<this.length?{value:e[t++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#Z.length}get date(){return null==this.timestamp?null:new Date(1e3*this.timestamp)}async getTransaction(t){let e;if(\"number\"==typeof t)e=this.#Z[t];else{const r=t.toLowerCase();for(const t of this.#Z){if(\"string\"==typeof t){if(t!==r)continue;e=t;break}if(t.hash!==r){e=t;break}}}if(null==e)throw new Error(\"no such tx\");return\"string\"==typeof e?await this.provider.getTransaction(e):e}getPrefetchedTransaction(t){const e=this.prefetchedTransactions;if(\"number\"==typeof t)return e[t];t=t.toLowerCase();for(const r of e)if(r.hash===t)return r;Oi(!1,\"no matching transaction\",\"indexOrHash\",t)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error(\"\");return{orphan:\"drop-block\",hash:(t=this).hash,number:t.number};var t}}class Nu{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(t,e){this.provider=e;const r=Object.freeze(t.topics.slice());Ei(this,{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,removed:t.removed,address:t.address,data:t.data,topics:r,index:t.index,transactionIndex:t.transactionIndex})}toJSON(){const{address:t,blockHash:e,blockNumber:r,data:n,index:s,removed:i,topics:o,transactionHash:a,transactionIndex:c}=this;return{_type:\"log\",address:t,blockHash:e,blockNumber:r,data:n,index:s,removed:i,topics:o,transactionHash:a,transactionIndex:c}}async getBlock(){const t=await this.provider.getBlock(this.blockHash);return Ni(!!t,\"failed to find transaction\",\"UNKNOWN_ERROR\",{}),t}async getTransaction(){const t=await this.provider.getTransaction(this.transactionHash);return Ni(!!t,\"failed to find transaction\",\"UNKNOWN_ERROR\",{}),t}async getTransactionReceipt(){const t=await this.provider.getTransactionReceipt(this.transactionHash);return Ni(!!t,\"failed to find transaction receipt\",\"UNKNOWN_ERROR\",{}),t}removedEvent(){return{orphan:\"drop-log\",log:{transactionHash:(t=this).transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}};var t}}class Ou{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#Y;constructor(t,e){this.#Y=Object.freeze(t.logs.map((t=>new Nu(t,e))));let r=Au;null!=t.effectiveGasPrice?r=t.effectiveGasPrice:null!=t.gasPrice&&(r=t.gasPrice),Ei(this,{provider:e,to:t.to,from:t.from,contractAddress:t.contractAddress,hash:t.hash,index:t.index,blockHash:t.blockHash,blockNumber:t.blockNumber,logsBloom:t.logsBloom,gasUsed:t.gasUsed,cumulativeGasUsed:t.cumulativeGasUsed,blobGasUsed:t.blobGasUsed,gasPrice:r,blobGasPrice:t.blobGasPrice,type:t.type,status:t.status,root:t.root})}get logs(){return this.#Y}toJSON(){const{to:t,from:e,contractAddress:r,hash:n,index:s,blockHash:i,blockNumber:o,logsBloom:a,logs:c,status:u,root:l}=this;return{_type:\"TransactionReceipt\",blockHash:i,blockNumber:o,contractAddress:r,cumulativeGasUsed:xu(this.cumulativeGasUsed),from:e,gasPrice:xu(this.gasPrice),blobGasUsed:xu(this.blobGasUsed),blobGasPrice:xu(this.blobGasPrice),gasUsed:xu(this.gasUsed),hash:n,index:s,logs:c,logsBloom:a,root:l,status:u,to:t}}get length(){return this.logs.length}[Symbol.iterator](){let t=0;return{next:()=>t<this.length?{value:this.logs[t++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const t=await this.provider.getBlock(this.blockHash);if(null==t)throw new Error(\"TODO\");return t}async getTransaction(){const t=await this.provider.getTransaction(this.hash);if(null==t)throw new Error(\"TODO\");return t}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return Bu(this)}reorderedEvent(t){return Ni(!t||t.isMined(),\"unmined 'other' transction cannot be orphaned\",\"UNSUPPORTED_OPERATION\",{operation:\"reorderedEvent(other)\"}),Pu(this,t)}}class Cu{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;#tt;constructor(t,e){this.provider=e,this.blockNumber=null!=t.blockNumber?t.blockNumber:null,this.blockHash=null!=t.blockHash?t.blockHash:null,this.hash=t.hash,this.index=t.index,this.type=t.type,this.from=t.from,this.to=t.to||null,this.gasLimit=t.gasLimit,this.nonce=t.nonce,this.data=t.data,this.value=t.value,this.gasPrice=t.gasPrice,this.maxPriorityFeePerGas=null!=t.maxPriorityFeePerGas?t.maxPriorityFeePerGas:null,this.maxFeePerGas=null!=t.maxFeePerGas?t.maxFeePerGas:null,this.maxFeePerBlobGas=null!=t.maxFeePerBlobGas?t.maxFeePerBlobGas:null,this.chainId=t.chainId,this.signature=t.signature,this.accessList=null!=t.accessList?t.accessList:null,this.blobVersionedHashes=null!=t.blobVersionedHashes?t.blobVersionedHashes:null,this.#tt=-1}toJSON(){const{blockNumber:t,blockHash:e,index:r,hash:n,type:s,to:i,from:o,nonce:a,data:c,signature:u,accessList:l,blobVersionedHashes:h}=this;return{_type:\"TransactionResponse\",accessList:l,blockNumber:t,blockHash:e,blobVersionedHashes:h,chainId:xu(this.chainId),data:c,from:o,gasLimit:xu(this.gasLimit),gasPrice:xu(this.gasPrice),hash:n,maxFeePerGas:xu(this.maxFeePerGas),maxPriorityFeePerGas:xu(this.maxPriorityFeePerGas),maxFeePerBlobGas:xu(this.maxFeePerBlobGas),nonce:a,signature:u,to:i,index:r,type:s,value:xu(this.value)}}async getBlock(){let t=this.blockNumber;if(null==t){const e=await this.getTransaction();e&&(t=e.blockNumber)}if(null==t)return null;const e=this.provider.getBlock(t);if(null==e)throw new Error(\"TODO\");return e}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(null==this.blockNumber){const{tx:t,blockNumber:e}=await Ai({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return null==t||null==t.blockNumber?0:e-t.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(t,e){const r=null==t?1:t,n=null==e?0:e;let s=this.#tt,i=-1,o=-1===s;const a=async()=>{if(o)return null;const{blockNumber:t,nonce:e}=await Ai({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(e<this.nonce)return void(s=t);if(o)return null;const n=await this.getTransaction();if(!n||null==n.blockNumber)for(-1===i&&(i=s-3,i<this.#tt&&(i=this.#tt));i<=t;){if(o)return null;const e=await this.provider.getBlock(i,!0);if(null==e)return;for(const t of e)if(t===this.hash)return;for(let n=0;n<e.length;n++){const i=await e.getTransaction(n);if(i.from===this.from&&i.nonce===this.nonce){if(o)return null;const e=await this.provider.getTransactionReceipt(i.hash);if(null==e)return;if(t-e.blockNumber+1<r)return;let n=\"replaced\";i.data===this.data&&i.to===this.to&&i.value===this.value?n=\"repriced\":\"0x\"===i.data&&i.from===i.to&&i.value===Au&&(n=\"cancelled\"),Ni(!1,\"transaction was replaced\",\"TRANSACTION_REPLACED\",{cancelled:\"replaced\"===n||\"cancelled\"===n,reason:n,replacement:i.replaceableTransaction(s),hash:i.hash,receipt:e})}}i++}},c=t=>{if(null==t||0!==t.status)return t;Ni(!1,\"transaction execution reverted\",\"CALL_EXCEPTION\",{action:\"sendTransaction\",data:null,reason:null,invocation:null,revert:null,transaction:{to:t.to,from:t.from,data:\"\"},receipt:t})},u=await this.provider.getTransactionReceipt(this.hash);if(0===r)return c(u);if(u){if(await u.confirmations()>=r)return c(u)}else if(await a(),0===r)return null;const l=new Promise(((t,e)=>{const i=[],u=()=>{i.forEach((t=>t()))};if(i.push((()=>{o=!0})),n>0){const t=setTimeout((()=>{u(),e(Si(\"wait for transaction timeout\",\"TIMEOUT\"))}),n);i.push((()=>{clearTimeout(t)}))}const l=async n=>{if(await n.confirmations()>=r){u();try{t(c(n))}catch(t){e(t)}}};if(i.push((()=>{this.provider.off(this.hash,l)})),this.provider.on(this.hash,l),s>=0){const t=async()=>{try{await a()}catch(t){if(Ri(t,\"TRANSACTION_REPLACED\"))return u(),void e(t)}o||this.provider.once(\"block\",t)};i.push((()=>{this.provider.off(\"block\",t)})),this.provider.once(\"block\",t)}}));return await l}isMined(){return null!=this.blockHash}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}removedEvent(){return Ni(this.isMined(),\"unmined transaction canot be orphaned\",\"UNSUPPORTED_OPERATION\",{operation:\"removeEvent()\"}),Bu(this)}reorderedEvent(t){return Ni(this.isMined(),\"unmined transaction canot be orphaned\",\"UNSUPPORTED_OPERATION\",{operation:\"removeEvent()\"}),Ni(!t||t.isMined(),\"unmined 'other' transaction canot be orphaned\",\"UNSUPPORTED_OPERATION\",{operation:\"removeEvent()\"}),Pu(this,t)}replaceableTransaction(t){Oi(Number.isInteger(t)&&t>=0,\"invalid startBlock\",\"startBlock\",t);const e=new Cu(this,this.provider);return e.#tt=t,e}}function Pu(t,e){return{orphan:\"reorder-transaction\",tx:t,other:e}}function Bu(t){return{orphan:\"drop-transaction\",tx:t}}class ku{filter;emitter;#et;constructor(t,e,r){this.#et=e,Ei(this,{emitter:t,filter:r})}async removeListener(){null!=this.#et&&await this.emitter.off(this.filter,this.#et)}}class Tu extends Nu{interface;fragment;args;constructor(t,e,r){super(t,t.provider);Ei(this,{args:e.decodeEventLog(r,t.data,t.topics),fragment:r,interface:e})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class Lu extends Nu{error;constructor(t,e){super(t,t.provider),Ei(this,{error:e})}}class Uu extends Ou{#rt;constructor(t,e,r){super(r,e),this.#rt=t}get logs(){return super.logs.map((t=>{const e=t.topics.length?this.#rt.getEvent(t.topics[0]):null;if(e)try{return new Tu(t,this.#rt,e)}catch(e){return new Lu(t,e)}return t}))}}class Fu extends Cu{#rt;constructor(t,e,r){super(r,e),this.#rt=t}async wait(t,e){const r=await super.wait(t,e);return null==r?null:new Uu(this.#rt,this.provider,r)}}class Mu extends ku{log;constructor(t,e,r,n){super(t,e,r),Ei(this,{log:n})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class Du extends Mu{constructor(t,e,r,n,s){super(t,e,r,new Tu(s,t.interface,n));Ei(this,{args:t.interface.decodeEventLog(n,this.log.data,this.log.topics),fragment:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const ju=BigInt(0);function _u(t){return t&&\"function\"==typeof t.call}function Gu(t){return t&&\"function\"==typeof t.estimateGas}function $u(t){return t&&\"function\"==typeof t.resolveName}function Hu(t){return t&&\"function\"==typeof t.sendTransaction}function Vu(t){if(null!=t){if($u(t))return t;if(t.provider)return t.provider}}class qu{#nt;fragment;constructor(t,e,r){if(Ei(this,{fragment:e}),e.inputs.length<r.length)throw new Error(\"too many arguments\");const n=Ju(t.runner,\"resolveName\"),s=$u(n)?n:null;this.#nt=async function(){const n=await Promise.all(e.inputs.map(((t,e)=>null==r[e]?null:t.walkAsync(r[e],((t,e)=>\"address\"===t?Array.isArray(e)?Promise.all(e.map((t=>Uc(t,s)))):Uc(e,s):e)))));return t.interface.encodeFilterTopics(e,n)}()}getTopicFilter(){return this.#nt}}function Ju(t,e){return null==t?null:\"function\"==typeof t[e]?t:t.provider&&\"function\"==typeof t.provider[e]?t.provider:null}function zu(t){return null==t?null:t.provider||null}async function Qu(t,e){const r=fa.dereference(t,\"overrides\");Oi(\"object\"==typeof r,\"invalid overrides parameter\",\"overrides\",t);const n=Iu(r);return Oi(null==n.to||(e||[]).indexOf(\"to\")>=0,\"cannot override to\",\"overrides.to\",n.to),Oi(null==n.data||(e||[]).indexOf(\"data\")>=0,\"cannot override data\",\"overrides.data\",n.data),n.from&&(n.from=n.from),n}function Ku(t){const e=async function(e){const r=await Qu(e,[\"data\"]);r.to=await t.getAddress(),r.from&&(r.from=await Uc(r.from,Vu(t.runner)));const n=t.interface,s=Qi(r.value||ju,\"overrides.value\")===ju,i=\"0x\"===(r.data||\"0x\");!n.fallback||n.fallback.payable||!n.receive||i||s||Oi(!1,\"cannot send data to receive or send value to non-payable fallback\",\"overrides\",e),Oi(n.fallback||i,\"cannot send data to receive-only contract\",\"overrides.data\",r.data);return Oi(n.receive||n.fallback&&n.fallback.payable||s,\"cannot send value to non-payable fallback\",\"overrides.value\",r.value),Oi(n.fallback||i,\"cannot send data to receive-only contract\",\"overrides.data\",r.data),r},r=async function(r){const n=t.runner;Ni(Hu(n),\"contract runner does not support sending transactions\",\"UNSUPPORTED_OPERATION\",{operation:\"sendTransaction\"});const s=await n.sendTransaction(await e(r)),i=zu(t.runner);return new Fu(t.interface,i,s)},n=async t=>await r(t);return Ei(n,{_contract:t,estimateGas:async function(r){const n=Ju(t.runner,\"estimateGas\");return Ni(Gu(n),\"contract runner does not support gas estimation\",\"UNSUPPORTED_OPERATION\",{operation:\"estimateGas\"}),await n.estimateGas(await e(r))},populateTransaction:e,send:r,staticCall:async function(r){const n=Ju(t.runner,\"call\");Ni(_u(n),\"contract runner does not support calling\",\"UNSUPPORTED_OPERATION\",{operation:\"call\"});const s=await e(r);try{return await n.call(s)}catch(e){if(Ii(e)&&e.data)throw t.interface.makeError(e.data,s);throw e}}}),n}function Wu(t,e){const r=function(...r){const n=t.interface.getFunction(e,r);return Ni(n,\"no matching fragment\",\"UNSUPPORTED_OPERATION\",{operation:\"fragment\",info:{key:e,args:r}}),n},n=async function(...e){const n=r(...e);let s={};if(n.inputs.length+1===e.length&&(s=await Qu(e.pop()),s.from&&(s.from=await Uc(s.from,Vu(t.runner)))),n.inputs.length!==e.length)throw new Error(\"internal error: fragment inputs doesn't match arguments; should not happen\");const i=await async function(t,e,r){const n=Ju(t,\"resolveName\"),s=$u(n)?n:null;return await Promise.all(e.map(((t,e)=>t.walkAsync(r[e],((t,e)=>(e=fa.dereference(e,t),\"address\"===t?Uc(e,s):e))))))}(t.runner,n.inputs,e);return Object.assign({},s,await Ai({to:t.getAddress(),data:t.interface.encodeFunctionData(n,i)}))},s=async function(...t){const e=await o(...t);return 1===e.length?e[0]:e},i=async function(...e){const r=t.runner;Ni(Hu(r),\"contract runner does not support sending transactions\",\"UNSUPPORTED_OPERATION\",{operation:\"sendTransaction\"});const s=await r.sendTransaction(await n(...e)),i=zu(t.runner);return new Fu(t.interface,i,s)},o=async function(...e){const s=Ju(t.runner,\"call\");Ni(_u(s),\"contract runner does not support calling\",\"UNSUPPORTED_OPERATION\",{operation:\"call\"});const i=await n(...e);let o=\"0x\";try{o=await s.call(i)}catch(e){if(Ii(e)&&e.data)throw t.interface.makeError(e.data,i);throw e}const a=r(...e);return t.interface.decodeFunctionResult(a,o)},a=async(...t)=>r(...t).constant?await s(...t):await i(...t);return Ei(a,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:r,estimateGas:async function(...e){const r=Ju(t.runner,\"estimateGas\");return Ni(Gu(r),\"contract runner does not support gas estimation\",\"UNSUPPORTED_OPERATION\",{operation:\"estimateGas\"}),await r.estimateGas(await n(...e))},populateTransaction:n,send:i,staticCall:s,staticCallResult:o}),Object.defineProperty(a,\"fragment\",{configurable:!1,enumerable:!0,get:()=>{const r=t.interface.getFunction(e);return Ni(r,\"no matching fragment\",\"UNSUPPORTED_OPERATION\",{operation:\"fragment\",info:{key:e}}),r}}),a}const Xu=Symbol.for(\"_ethersInternal_contract\"),Zu=new WeakMap;function Yu(t){return Zu.get(t[Xu])}async function tl(t,e){let r,n=null;if(Array.isArray(e)){const n=function(e){if(Ui(e,32))return e;const r=t.interface.getEvent(e);return Oi(r,\"unknown fragment\",\"name\",e),r.topicHash};r=e.map((t=>null==t?null:Array.isArray(t)?t.map(n):n(t)))}else\"*\"===e?r=[null]:\"string\"==typeof e?Ui(e,32)?r=[e]:(n=t.interface.getEvent(e),Oi(n,\"unknown fragment\",\"event\",e),r=[n.topicHash]):(s=e)&&\"object\"==typeof s&&\"getTopicFilter\"in s&&\"function\"==typeof s.getTopicFilter&&s.fragment?r=await e.getTopicFilter():\"fragment\"in e?(n=e.fragment,r=[n.topicHash]):Oi(!1,\"unknown event name\",\"event\",e);var s;r=r.map((t=>{if(null==t)return null;if(Array.isArray(t)){const e=Array.from(new Set(t.map((t=>t.toLowerCase()))).values());return 1===e.length?e[0]:(e.sort(),e)}return t.toLowerCase()}));return{fragment:n,tag:r.map((t=>null==t?\"null\":Array.isArray(t)?t.join(\"|\"):t)).join(\"&\"),topics:r}}async function el(t,e){const{subs:r}=Yu(t);return r.get((await tl(t,e)).tag)||null}async function rl(t,e,r){const n=zu(t.runner);Ni(n,\"contract runner does not support subscribing\",\"UNSUPPORTED_OPERATION\",{operation:e});const{fragment:s,tag:i,topics:o}=await tl(t,r),{addr:a,subs:c}=Yu(t);let u=c.get(i);if(!u){const e={address:a||t,topics:o},l=e=>{let n=s;if(null==n)try{n=t.interface.getEvent(e.topics[0])}catch(t){}if(n){const i=n,o=s?t.interface.decodeEventLog(s,e.data,e.topics):[];sl(t,r,o,(n=>new Du(t,n,r,i,e)))}else sl(t,r,[],(n=>new Mu(t,n,r,e)))};let h=[];u={tag:i,listeners:[],start:()=>{h.length||h.push(n.on(e,l))},stop:async()=>{if(0==h.length)return;let t=h;h=[],await Promise.all(t),n.off(e,l)}},c.set(i,u)}return u}let nl=Promise.resolve();async function sl(t,e,r,n){try{await nl}catch(t){}const s=async function(t,e,r,n){await nl;const s=await el(t,e);if(!s)return!1;const i=s.listeners.length;return s.listeners=s.listeners.filter((({listener:e,once:s})=>{const i=Array.from(r);n&&i.push(n(s?null:e));try{e.call(t,...i)}catch(t){}return!s})),0===s.listeners.length&&(s.stop(),Yu(t).subs.delete(s.tag)),i>0}(t,e,r,n);return nl=s,await s}const il=[\"then\"];class ol{target;interface;runner;filters;[Xu];fallback;constructor(t,e,r,n){Oi(\"string\"==typeof t||Tc(t),\"invalid value for Contract target\",\"target\",t),null==r&&(r=null);const s=vu.from(e);let i;Ei(this,{target:t,runner:r,interface:s}),Object.defineProperty(this,Xu,{value:{}});let o=null,a=null;if(n){const t=zu(r);a=new Fu(this.interface,t,n)}let c=new Map;if(\"string\"==typeof t)if(Ui(t))o=t,i=Promise.resolve(t);else{const e=Ju(r,\"resolveName\");if(!$u(e))throw Si(\"contract runner does not support name resolution\",\"UNSUPPORTED_OPERATION\",{operation:\"resolveName\"});i=e.resolveName(t).then((e=>{if(null==e)throw Si(\"an ENS name used for a contract target must be correctly configured\",\"UNCONFIGURED_NAME\",{value:t});return Yu(this).addr=e,e}))}else i=t.getAddress().then((t=>{if(null==t)throw new Error(\"TODO\");return Yu(this).addr=t,t}));var u,l;u=this,l={addrPromise:i,addr:o,deployTx:a,subs:c},Zu.set(u[Xu],l);const h=new Proxy({},{get:(t,e,r)=>{if(\"symbol\"==typeof e||il.indexOf(e)>=0)return Reflect.get(t,e,r);try{return this.getEvent(e)}catch(t){if(!Ri(t,\"INVALID_ARGUMENT\")||\"key\"!==t.argument)throw t}},has:(t,e)=>il.indexOf(e)>=0?Reflect.has(t,e):Reflect.has(t,e)||this.interface.hasEvent(String(e))});return Ei(this,{filters:h}),Ei(this,{fallback:s.receive||s.fallback?Ku(this):null}),new Proxy(this,{get:(t,e,r)=>{if(\"symbol\"==typeof e||e in t||il.indexOf(e)>=0)return Reflect.get(t,e,r);try{return t.getFunction(e)}catch(t){if(!Ri(t,\"INVALID_ARGUMENT\")||\"key\"!==t.argument)throw t}},has:(t,e)=>\"symbol\"==typeof e||e in t||il.indexOf(e)>=0?Reflect.has(t,e):t.interface.hasFunction(e)})}connect(t){return new ol(this.target,this.interface,t)}attach(t){return new ol(t,this.interface,this.runner)}async getAddress(){return await Yu(this).addrPromise}async getDeployedCode(){const t=zu(this.runner);Ni(t,\"runner does not support .provider\",\"UNSUPPORTED_OPERATION\",{operation:\"getDeployedCode\"});const e=await t.getCode(await this.getAddress());return\"0x\"===e?null:e}async waitForDeployment(){const t=this.deploymentTransaction();if(t)return await t.wait(),this;if(null!=await this.getDeployedCode())return this;const e=zu(this.runner);return Ni(null!=e,\"contract runner does not support .provider\",\"UNSUPPORTED_OPERATION\",{operation:\"waitForDeployment\"}),new Promise(((t,r)=>{const n=async()=>{try{if(null!=await this.getDeployedCode())return t(this);e.once(\"block\",n)}catch(t){r(t)}};n()}))}deploymentTransaction(){return Yu(this).deployTx}getFunction(t){\"string\"!=typeof t&&(t=t.format());return Wu(this,t)}getEvent(t){return\"string\"!=typeof t&&(t=t.format()),function(t,e){const r=function(...r){const n=t.interface.getEvent(e,r);return Ni(n,\"no matching fragment\",\"UNSUPPORTED_OPERATION\",{operation:\"fragment\",info:{key:e,args:r}}),n},n=function(...e){return new qu(t,r(...e),e)};return Ei(n,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:r}),Object.defineProperty(n,\"fragment\",{configurable:!1,enumerable:!0,get:()=>{const r=t.interface.getEvent(e);return Ni(r,\"no matching fragment\",\"UNSUPPORTED_OPERATION\",{operation:\"fragment\",info:{key:e}}),r}}),n}(this,t)}async queryTransaction(t){throw new Error(\"@TODO\")}async queryFilter(t,e,r){null==e&&(e=0),null==r&&(r=\"latest\");const{addr:n,addrPromise:s}=Yu(this),i=n||await s,{fragment:o,topics:a}=await tl(this,t),c={address:i,topics:a,fromBlock:e,toBlock:r},u=zu(this.runner);return Ni(u,\"contract runner does not have a provider\",\"UNSUPPORTED_OPERATION\",{operation:\"queryFilter\"}),(await u.getLogs(c)).map((t=>{let e=o;if(null==e)try{e=this.interface.getEvent(t.topics[0])}catch(t){}if(e)try{return new Tu(t,this.interface,e)}catch(e){return new Lu(t,e)}return new Nu(t,u)}))}async on(t,e){const r=await rl(this,\"on\",t);return r.listeners.push({listener:e,once:!1}),r.start(),this}async once(t,e){const r=await rl(this,\"once\",t);return r.listeners.push({listener:e,once:!0}),r.start(),this}async emit(t,...e){return await sl(this,t,e,null)}async listenerCount(t){if(t){const e=await el(this,t);return e?e.listeners.length:0}const{subs:e}=Yu(this);let r=0;for(const{listeners:t}of e.values())r+=t.length;return r}async listeners(t){if(t){const e=await el(this,t);return e?e.listeners.map((({listener:t})=>t)):[]}const{subs:e}=Yu(this);let r=[];for(const{listeners:t}of e.values())r=r.concat(t.map((({listener:t})=>t)));return r}async off(t,e){const r=await el(this,t);if(!r)return this;if(e){const t=r.listeners.map((({listener:t})=>t)).indexOf(e);t>=0&&r.listeners.splice(t,1)}return null!=e&&0!==r.listeners.length||(r.stop(),Yu(this).subs.delete(r.tag)),this}async removeAllListeners(t){if(t){const e=await el(this,t);if(!e)return this;e.stop(),Yu(this).subs.delete(e.tag)}else{const{subs:t}=Yu(this);for(const{tag:e,stop:r}of t.values())r(),t.delete(e)}return this}async addListener(t,e){return await this.on(t,e)}async removeListener(t,e){return await this.off(t,e)}static buildClass(t){return class extends ol{constructor(e,r=null){super(e,t,r)}}}static from(t,e,r){null==r&&(r=null);return new this(t,e,r)}}class al extends(function(){return ol}()){}var cl=\"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\";const ul=new Map([[8217,\"apostrophe\"],[8260,\"fraction slash\"],[12539,\"middle dot\"]]),ll=4;function hl(t){return function(t){let e=0;return()=>t[e++]}(function(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),s=1,i=[0,1];for(let t=1;t<n;t++)i.push(s+=r());let o=r(),a=e;e+=o;let c=0,u=0;function l(){return 0==c&&(u=u<<8|t[e++],c=8),u>>--c&1}const h=2**31,f=h>>>1,d=f>>1,p=h-1;let g=0;for(let t=0;t<31;t++)g=g<<1|l();let y=[],m=0,w=h;for(;;){let t=Math.floor(((g-m+1)*s-1)/w),e=0,r=n;for(;r-e>1;){let n=e+r>>>1;t<i[n]?r=n:e=n}if(0==e)break;y.push(e);let o=m+Math.floor(w*i[e]/s),a=m+Math.floor(w*i[e+1]/s)-1;for(;!((o^a)&f);)g=g<<1&p|l(),o=o<<1&p,a=a<<1&p|1;for(;o&~a&d;)g=g&f|g<<1&p>>>1|l(),o=o<<1^f,a=(a^f)<<1|f|1;m=o,w=1+a-o}let b=n-4;return y.map((e=>{switch(e-b){case 3:return b+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return b+256+(t[a++]<<8|t[a++]);case 1:return b+t[a++];default:return e-1}}))}(function(t){let e=[];[...\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\"].forEach(((t,r)=>e[t.charCodeAt(0)]=r));let r=t.length,n=new Uint8Array(6*r>>3);for(let s=0,i=0,o=0,a=0;s<r;s++)a=a<<6|e[t.charCodeAt(s)],o+=6,o>=8&&(n[i++]=a>>(o-=8));return n}(t)))}function fl(t){return 1&t?~t>>1:t>>1}function dl(t,e){let r=Array(t);for(let n=0,s=0;n<t;n++)r[n]=s+=fl(e());return r}function pl(t,e=0){let r=[];for(;;){let n=t(),s=t();if(!s)break;e+=n;for(let t=0;t<s;t++)r.push(e+t);e+=s+1}return r}function gl(t){return ml((()=>{let e=pl(t);if(e.length)return e}))}function yl(t){let e=[];for(;;){let r=t();if(0==r)break;e.push(bl(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(vl(r,t))}return e.flat()}function ml(t){let e=[];for(;;){let r=t(e.length);if(!r)break;e.push(r)}return e}function wl(t,e,r){let n=Array(t).fill().map((()=>[]));for(let s=0;s<e;s++)dl(t,r).forEach(((t,e)=>n[e].push(t)));return n}function bl(t,e){let r=1+e(),n=e(),s=ml(e);return wl(s.length,1+t,e).flatMap(((t,e)=>{let[i,...o]=t;return Array(s[e]).fill().map(((t,e)=>{let s=e*n;return[i+e*r,o.map((t=>t+s))]}))}))}function vl(t,e){return wl(1+e(),1+t,e).map((t=>[t[0],t.slice(1)]))}function Al(t){return`{${function(t){return t.toString(16).toUpperCase().padStart(2,\"0\")}(t)}}`}function El(t){let e=[];for(let r=0,n=t.length;r<n;){let n=t.codePointAt(r);r+=n<65536?1:2,e.push(n)}return e}function xl(t){let e=t.length;if(e<4096)return String.fromCodePoint(...t);let r=[];for(let n=0;n<e;)r.push(String.fromCodePoint(...t.slice(n,n+=4096)));return r.join(\"\")}function Rl(t,e){let r=t.length,n=r-e.length;for(let s=0;0==n&&s<r;s++)n=t[s]-e[s];return n}var Il=\"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\";const Sl=44032,Nl=4352,Ol=4449,Cl=4519,Pl=28,Bl=21*Pl,kl=Sl+19*Bl,Tl=Nl+19,Ll=Ol+21,Ul=Cl+Pl;function Fl(t){return t>>24&255}function Ml(t){return 16777215&t}let Dl,jl,_l,Gl;function $l(t){return t>=Sl&&t<kl}function Hl(t,e){if(t>=Nl&&t<Tl&&e>=Ol&&e<Ll)return Sl+(t-Nl)*Bl+(e-Ol)*Pl;if($l(t)&&e>Cl&&e<Ul&&(t-Sl)%Pl==0)return t+(e-Cl);{let r=Gl.get(t);return r&&(r=r.get(e),r)?r:-1}}function Vl(t){Dl||function(){let t=hl(Il);Dl=new Map(gl(t).flatMap(((t,e)=>t.map((t=>[t,e+1<<24]))))),jl=new Set(pl(t)),_l=new Map,Gl=new Map;for(let[e,r]of yl(t)){if(!jl.has(e)&&2==r.length){let[t,n]=r,s=Gl.get(t);s||(s=new Map,Gl.set(t,s)),s.set(n,e)}_l.set(e,r.reverse())}}();let e=[],r=[],n=!1;function s(t){let r=Dl.get(t);r&&(n=!0,t|=r),e.push(t)}for(let n of t)for(;;){if(n<128)e.push(n);else if($l(n)){let t=n-Sl,e=t%Bl/Pl|0,r=t%Pl;s(Nl+(t/Bl|0)),s(Ol+e),r>0&&s(Cl+r)}else{let t=_l.get(n);t?r.push(...t):s(n)}if(!r.length)break;n=r.pop()}if(n&&e.length>1){let t=Fl(e[0]);for(let r=1;r<e.length;r++){let n=Fl(e[r]);if(0==n||t<=n){t=n;continue}let s=r-1;for(;;){let r=e[s+1];if(e[s+1]=e[s],e[s]=r,!s)break;if(t=Fl(e[--s]),t<=n)break}t=Fl(e[r])}}return e}function ql(t){return Vl(t).map(Ml)}function Jl(t){return function(t){let e=[],r=[],n=-1,s=0;for(let i of t){let t=Fl(i),o=Ml(i);if(-1==n)0==t?n=o:e.push(o);else if(s>0&&s>=t)0==t?(e.push(n,...r),r.length=0,n=o):r.push(o),s=t;else{let i=Hl(n,o);i>=0?n=i:0==s&&0==t?(e.push(n),n=o):(r.push(o),s=t)}}return n>=0&&e.push(n,...r),e}(Vl(t))}const zl=45,Ql=\".\",Kl=65039,Wl=1,Xl=t=>Array.from(t);function Zl(t,e){return t.P.has(e)||t.Q.has(e)}class Yl extends Array{get is_emoji(){return!0}}let th,eh,rh,nh,sh,ih,oh,ah,ch,uh,lh,hh;function fh(){if(th)return;let t=hl(cl);const e=()=>pl(t),r=()=>new Set(e()),n=(t,e)=>e.forEach((e=>t.add(e)));th=new Map(yl(t)),eh=r(),rh=e(),nh=new Set(e().map((t=>rh[t]))),rh=new Set(rh),sh=r(),ih=r();let s=gl(t),i=t();const o=()=>{let t=new Set;return e().forEach((e=>n(t,s[e]))),n(t,e()),t};oh=ml((e=>{let r=ml(t).map((t=>t+96));if(r.length){let n=e>=i;return r[0]-=32,r=xl(r),n&&(r=`Restricted[${r}]`),{N:r,P:o(),Q:o(),M:!t(),R:n}}})),ah=r(),ch=new Map;let a=e().concat(Xl(ah)).sort(((t,e)=>t-e));a.forEach(((e,r)=>{let n=t(),s=a[r]=n?a[r-n]:{V:[],M:new Map};s.V.push(e),ah.has(e)||ch.set(e,s)}));for(let{V:t,M:e}of new Set(ch.values())){let r=[];for(let e of t){let t=oh.filter((t=>Zl(t,e))),s=r.find((({G:e})=>t.some((t=>e.has(t)))));s||(s={G:new Set,V:[]},r.push(s)),s.V.push(e),n(s.G,t)}let s=r.flatMap((t=>Xl(t.G)));for(let{G:t,V:n}of r){let r=new Set(s.filter((e=>!t.has(e))));for(let t of n)e.set(t,r)}}uh=new Set;let c=new Set;const u=t=>uh.has(t)?c.add(t):uh.add(t);for(let t of oh){for(let e of t.P)u(e);for(let e of t.Q)u(e)}for(let t of uh)ch.has(t)||c.has(t)||ch.set(t,Wl);n(uh,ql(uh)),lh=function(t){let e=[],r=pl(t);return function t({S:r,B:n},s,i){if(!(4&r&&i===s[s.length-1])){2&r&&(i=s[s.length-1]),1&r&&e.push(s);for(let e of n)for(let r of e.Q)t(e,[...s,r],i)}}(function e(n){let s=t(),i=ml((()=>{let n=pl(t).map((t=>r[t]));if(n.length)return e(n)}));return{S:s,B:i,Q:n}}([]),[]),e}(t).map((t=>Yl.from(t))).sort(Rl),hh=new Map;for(let t of lh){let e=[hh];for(let r of t){let t=e.map((t=>{let e=t.get(r);return e||(e=new Map,t.set(r,e)),e}));r===Kl?e.push(...t):e=t}for(let r of e)r.V=t}}function dh(t){return(yh(t)?\"\":`${ph(gh([t]))} `)+Al(t)}function ph(t){return`\"${t}\"`}function gh(t,e=1/0,r=Al){let n=[];var s;s=t[0],fh(),rh.has(s)&&n.push(\"\"),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,o=t.length;for(let e=0;e<o;e++){let s=t[e];yh(s)&&(n.push(xl(t.slice(i,e))),n.push(r(s)),i=e+1)}return n.push(xl(t.slice(i,o))),n.join(\"\")}function yh(t){return fh(),sh.has(t)}function mh(t,e,r){if(!t)return[];fh();let n=0;return t.split(Ql).map((t=>{let s=El(t),i={input:s,offset:n};n+=s.length+1;try{let t,n=i.tokens=Eh(s,e,r),o=n.length;if(!o)throw new Error(\"empty label\");let a=i.output=n.flat();if(function(t){for(let e=t.lastIndexOf(95);e>0;)if(95!==t[--e])throw new Error(\"underscore allowed only at start\")}(a),!(i.emoji=o>1||n[0].is_emoji)&&a.every((t=>t<128)))!function(t){if(t.length>=4&&t[2]==zl&&t[3]==zl)throw new Error(`invalid label extension: \"${xl(t.slice(0,4))}\"`)}(a),t=\"ASCII\";else{let e=n.flatMap((t=>t.is_emoji?[]:t));if(e.length){if(rh.has(a[0]))throw Ah(\"leading combining mark\");for(let t=1;t<o;t++){let e=n[t];if(!e.is_emoji&&rh.has(e[0]))throw Ah(`emoji + combining mark: \"${xl(n[t-1])} + ${gh([e[0]])}\"`)}!function(t){let e=t[0],r=ul.get(e);if(r)throw Ah(`leading ${r}`);let n=t.length,s=-1;for(let i=1;i<n;i++){e=t[i];let n=ul.get(e);if(n){if(s==i)throw Ah(`${r} + ${n}`);s=i+1,r=n}}if(s==n)throw Ah(`trailing ${r}`)}(a);let r=Xl(new Set(e)),[s]=function(t){let e=oh;for(let r of t){let t=e.filter((t=>Zl(t,r)));if(!t.length)throw oh.some((t=>Zl(t,r)))?vh(e[0],r):bh(r);if(e=t,1==t.length)break}return e}(r);!function(t,e){for(let r of e)if(!Zl(t,r))throw vh(t,r);if(t.M){let t=ql(e);for(let e=1,r=t.length;e<r;e++)if(nh.has(t[e])){let n=e+1;for(let s;n<r&&nh.has(s=t[n]);n++)for(let r=e;r<n;r++)if(t[r]==s)throw new Error(`duplicate non-spacing marks: ${dh(s)}`);if(n-e>ll)throw new Error(`excessive non-spacing marks: ${ph(gh(t.slice(e-1,n)))} (${n-e}/${ll})`);e=n}}}(s,e),function(t,e){let r,n=[];for(let t of e){let e=ch.get(t);if(e===Wl)return;if(e){let n=e.M.get(t);if(r=r?r.filter((t=>n.has(t))):Xl(n),!r.length)return}else n.push(t)}if(r)for(let e of r)if(n.every((t=>Zl(e,t))))throw new Error(`whole-script confusable: ${t.N}/${e.N}`)}(s,r),t=s.N}else t=\"Emoji\"}i.type=t}catch(t){i.error=t}return i}))}function wh(t){return t.map((({input:e,error:r,output:n})=>{if(r){let n=r.message;throw new Error(1==t.length?n:`Invalid label ${ph(gh(e,63))}: ${n}`)}return xl(n)})).join(Ql)}function bh(t){return new Error(`disallowed character: ${dh(t)}`)}function vh(t,e){let r=dh(e),n=oh.find((t=>t.P.has(e)));return n&&(r=`${n.N} ${r}`),new Error(`illegal mixture: ${t.N} + ${r}`)}function Ah(t){return new Error(`illegal placement: ${t}`)}function Eh(t,e,r){let n=[],s=[];for(t=t.slice().reverse();t.length;){let i=Rh(t);if(i)s.length&&(n.push(e(s)),s=[]),n.push(r(i));else{let e=t.pop();if(uh.has(e))s.push(e);else{let t=th.get(e);if(t)s.push(...t);else if(!eh.has(e))throw bh(e)}}}return s.length&&n.push(e(s)),n}function xh(t){return t.filter((t=>t!=Kl))}function Rh(t,e){let r,n=hh,s=t.length;for(;s&&(n=n.get(t[--s]),n);){let{V:i}=n;i&&(r=i,e&&e.push(...t.slice(s).reverse()),t.length=s)}return r}const Ih=new Uint8Array(32);function Sh(t){return Oi(0!==t.length,\"invalid ENS name; empty component\",\"comp\",t),t}function Nh(t){const e=Ba(function(t){try{if(0===t.length)throw new Error(\"empty label\");return function(t){return wh(mh(t,Jl,xh))}(t)}catch(e){Oi(!1,`invalid ENS name (${e.message})`,\"name\",t)}}(t)),r=[];if(0===t.length)return r;let n=0;for(let t=0;t<e.length;t++){46===e[t]&&(r.push(Sh(e.slice(n,t))),n=t+1)}return Oi(n<e.length,\"invalid ENS name; empty component\",\"name\",t),r.push(Sh(e.slice(n))),r}function Oh(t){Oi(\"string\"==typeof t,\"invalid ENS name; not a string\",\"name\",t),Oi(t.length,\"invalid ENS name (empty label)\",\"name\",t);let e=Ih;const r=Nh(t);for(;r.length;)e=Yo(Di([e,Yo(r.pop())]));return Mi(e)}function Ch(t,e){const r=null!=e?e:63;return Oi(r<=255,\"DNS encoded label cannot exceed 255\",\"length\",r),Mi(Di(Nh(t).map((e=>{Oi(e.length<=r,`label ${JSON.stringify(t)} exceeds ${r} bytes`,\"name\",t);const n=new Uint8Array(e.length+1);return n.set(e,1),n[0]=n.length-1,n}))))+\"00\"}Ih.fill(0);const Ph=\"0x0000000000000000000000000000000000000000000000000000000000000000\",Bh=BigInt(0),kh=BigInt(1),Th=BigInt(2),Lh=BigInt(27),Uh=BigInt(28),Fh=BigInt(35),Mh={};function Dh(t){return $i(to(t),32)}class jh{#st;#it;#ot;#at;get r(){return this.#st}set r(t){Oi(32===ji(t),\"invalid r\",\"value\",t),this.#st=Mi(t)}get s(){return this.#it}set s(t){Oi(32===ji(t),\"invalid s\",\"value\",t);const e=Mi(t);Oi(parseInt(e.substring(0,3))<8,\"non-canonical s\",\"value\",e),this.#it=e}get v(){return this.#ot}set v(t){const e=Zi(t,\"value\");Oi(27===e||28===e,\"invalid v\",\"v\",t),this.#ot=e}get networkV(){return this.#at}get legacyChainId(){const t=this.networkV;return null==t?null:jh.getChainId(t)}get yParity(){return 27===this.v?0:1}get yParityAndS(){const t=Ti(this.s);return this.yParity&&(t[0]|=128),Mi(t)}get compactSerialized(){return Di([this.r,this.yParityAndS])}get serialized(){return Di([this.r,this.s,this.yParity?\"0x1c\":\"0x1b\"])}constructor(t,e,r,n){Bi(t,Mh,\"Signature\"),this.#st=e,this.#it=r,this.#ot=n,this.#at=null}[Symbol.for(\"nodejs.util.inspect.custom\")](){return`Signature { r: \"${this.r}\", s: \"${this.s}\", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const t=new jh(Mh,this.r,this.s,this.v);return this.networkV&&(t.#at=this.networkV),t}toJSON(){const t=this.networkV;return{_type:\"signature\",networkV:null!=t?t.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(t){const e=Qi(t,\"v\");return e==Lh||e==Uh?Bh:(Oi(e>=Fh,\"invalid EIP-155 v\",\"v\",t),(e-Fh)/Th)}static getChainIdV(t,e){return Qi(t)*Th+BigInt(35+e-27)}static getNormalizedV(t){const e=Qi(t);return e===Bh||e===Lh?27:e===kh||e===Uh?28:(Oi(e>=Fh,\"invalid v\",\"v\",t),e&kh?27:28)}static from(t){function e(e,r){Oi(e,r,\"signature\",t)}if(null==t)return new jh(Mh,Ph,Ph,27);if(\"string\"==typeof t){const r=Ti(t,\"signature\");if(64===r.length){const t=Mi(r.slice(0,32)),e=r.slice(32,64),n=128&e[0]?28:27;return e[0]&=127,new jh(Mh,t,Mi(e),n)}if(65===r.length){const t=Mi(r.slice(0,32)),n=r.slice(32,64);e(!(128&n[0]),\"non-canonical s\");const s=jh.getNormalizedV(r[64]);return new jh(Mh,t,Mi(n),s)}e(!1,\"invalid raw signature length\")}if(t instanceof jh)return t.clone();const r=t.r;e(null!=r,\"missing r\");const n=Dh(r),s=function(t,r){if(null!=t)return Dh(t);if(null!=r){e(Ui(r,32),\"invalid yParityAndS\");const t=Ti(r);return t[0]&=127,Mi(t)}e(!1,\"missing s\")}(t.s,t.yParityAndS);e(!(128&Ti(s)[0]),\"non-canonical s\");const{networkV:i,v:o}=function(t,r,n){if(null!=t){const e=Qi(t);return{networkV:e>=Fh?e:void 0,v:jh.getNormalizedV(e)}}if(null!=r)return e(Ui(r,32),\"invalid yParityAndS\"),{v:128&Ti(r)[0]?28:27};if(null!=n){switch(Zi(n,\"sig.yParity\")){case 0:return{v:27};case 1:return{v:28}}e(!1,\"invalid yParity\")}e(!1,\"missing v\")}(t.v,t.yParityAndS,t.yParity),a=new jh(Mh,n,s,o);return i&&(a.#at=i),e(null==t.yParity||Zi(t.yParity,\"sig.yParity\")===a.yParity,\"yParity mismatch\"),e(null==t.yParityAndS||t.yParityAndS===a.yParityAndS,\"yParityAndS mismatch\"),a}}class _h extends Bo{constructor(t,e,r,n){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Oo(this.buffer)}update(t){yo(this);const{view:e,buffer:r,blockLen:n}=this,s=(t=Po(t)).length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);if(o!==n)r.set(t.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===n&&(this.process(e,0),this.pos=0);else{const e=Oo(t);for(;n<=s-i;i+=n)this.process(e,i)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){yo(this),mo(t,this),this.finished=!0;const{buffer:e,view:r,blockLen:n,isLE:s}=this;let{pos:i}=this;e[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>n-i&&(this.process(r,0),i=0);for(let t=i;t<n;t++)e[t]=0;!function(t,e,r,n){if(\"function\"==typeof t.setBigUint64)return t.setBigUint64(e,r,n);const s=BigInt(32),i=BigInt(4294967295),o=Number(r>>s&i),a=Number(r&i),c=n?4:0,u=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+u,a,n)}(r,n-8,BigInt(8*this.length),s),this.process(r,0);const o=Oo(t),a=this.outputLen;if(a%4)throw new Error(\"_sha2: outputLen should be aligned to 32bit\");const c=a/4,u=this.get();if(c>u.length)throw new Error(\"_sha2: outputLen bigger than state\");for(let t=0;t<c;t++)o.setUint32(4*t,u[t],s)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:n,finished:s,destroyed:i,pos:o}=this;return t.length=n,t.pos=o,t.finished=s,t.destroyed=i,n%e&&t.buffer.set(r),t}}const Gh=(t,e,r)=>t&e^~t&r,$h=(t,e,r)=>t&e^t&r^e&r,Hh=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Vh=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),qh=new Uint32Array(64);class Jh extends _h{constructor(){super(64,32,8,!1),this.A=0|Vh[0],this.B=0|Vh[1],this.C=0|Vh[2],this.D=0|Vh[3],this.E=0|Vh[4],this.F=0|Vh[5],this.G=0|Vh[6],this.H=0|Vh[7]}get(){const{A:t,B:e,C:r,D:n,E:s,F:i,G:o,H:a}=this;return[t,e,r,n,s,i,o,a]}set(t,e,r,n,s,i,o,a){this.A=0|t,this.B=0|e,this.C=0|r,this.D=0|n,this.E=0|s,this.F=0|i,this.G=0|o,this.H=0|a}process(t,e){for(let r=0;r<16;r++,e+=4)qh[r]=t.getUint32(e,!1);for(let t=16;t<64;t++){const e=qh[t-15],r=qh[t-2],n=Co(e,7)^Co(e,18)^e>>>3,s=Co(r,17)^Co(r,19)^r>>>10;qh[t]=s+qh[t-7]+n+qh[t-16]|0}let{A:r,B:n,C:s,D:i,E:o,F:a,G:c,H:u}=this;for(let t=0;t<64;t++){const e=u+(Co(o,6)^Co(o,11)^Co(o,25))+Gh(o,a,c)+Hh[t]+qh[t]|0,l=(Co(r,2)^Co(r,13)^Co(r,22))+$h(r,n,s)|0;u=c,c=a,a=o,o=i+e|0,i=s,s=n,n=r,r=e+l|0}r=r+this.A|0,n=n+this.B|0,s=s+this.C|0,i=i+this.D|0,o=o+this.E|0,a=a+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,n,s,i,o,a,c,u)}roundClean(){qh.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const zh=ko((()=>new Jh)),Qh=(BigInt(0),BigInt(1)),Kh=BigInt(2),Wh=t=>t instanceof Uint8Array,Xh=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,\"0\")));function Zh(t){if(!Wh(t))throw new Error(\"Uint8Array expected\");let e=\"\";for(let r=0;r<t.length;r++)e+=Xh[t[r]];return e}function Yh(t){if(\"string\"!=typeof t)throw new Error(\"hex string expected, got \"+typeof t);return BigInt(\"\"===t?\"0\":`0x${t}`)}function tf(t){if(\"string\"!=typeof t)throw new Error(\"hex string expected, got \"+typeof t);const e=t.length;if(e%2)throw new Error(\"padded hex string expected, got unpadded hex of length \"+e);const r=new Uint8Array(e/2);for(let e=0;e<r.length;e++){const n=2*e,s=t.slice(n,n+2),i=Number.parseInt(s,16);if(Number.isNaN(i)||i<0)throw new Error(\"Invalid byte sequence\");r[e]=i}return r}function ef(t){return Yh(Zh(t))}function rf(t){if(!Wh(t))throw new Error(\"Uint8Array expected\");return Yh(Zh(Uint8Array.from(t).reverse()))}function nf(t,e){return tf(t.toString(16).padStart(2*e,\"0\"))}function sf(t,e){return nf(t,e).reverse()}function of(t,e,r){let n;if(\"string\"==typeof e)try{n=tf(e)}catch(r){throw new Error(`${t} must be valid hex string, got \"${e}\". Cause: ${r}`)}else{if(!Wh(e))throw new Error(`${t} must be hex string or Uint8Array`);n=Uint8Array.from(e)}const s=n.length;if(\"number\"==typeof r&&s!==r)throw new Error(`${t} expected ${r} bytes, got ${s}`);return n}function af(...t){const e=new Uint8Array(t.reduce(((t,e)=>t+e.length),0));let r=0;return t.forEach((t=>{if(!Wh(t))throw new Error(\"Uint8Array expected\");e.set(t,r),r+=t.length})),e}const cf=t=>(Kh<<BigInt(t-1))-Qh,uf=t=>new Uint8Array(t),lf=t=>Uint8Array.from(t);function hf(t,e,r){if(\"number\"!=typeof t||t<2)throw new Error(\"hashLen must be a number\");if(\"number\"!=typeof e||e<2)throw new Error(\"qByteLen must be a number\");if(\"function\"!=typeof r)throw new Error(\"hmacFn must be a function\");let n=uf(t),s=uf(t),i=0;const o=()=>{n.fill(1),s.fill(0),i=0},a=(...t)=>r(s,n,...t),c=(t=uf())=>{s=a(lf([0]),t),n=a(),0!==t.length&&(s=a(lf([1]),t),n=a())},u=()=>{if(i++>=1e3)throw new Error(\"drbg: tried 1000 values\");let t=0;const r=[];for(;t<e;){n=a();const e=n.slice();r.push(e),t+=n.length}return af(...r)};return(t,e)=>{let r;for(o(),c(t);!(r=e(u()));)c();return o(),r}}const ff={bigint:t=>\"bigint\"==typeof t,function:t=>\"function\"==typeof t,boolean:t=>\"boolean\"==typeof t,string:t=>\"string\"==typeof t,stringOrUint8Array:t=>\"string\"==typeof t||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>\"function\"==typeof t&&Number.isSafeInteger(t.outputLen)};function df(t,e,r={}){const n=(e,r,n)=>{const s=ff[r];if(\"function\"!=typeof s)throw new Error(`Invalid validator \"${r}\", expected function`);const i=t[e];if(!(n&&void 0===i||s(i,t)))throw new Error(`Invalid param ${String(e)}=${i} (${typeof i}), expected ${r}`)};for(const[t,r]of Object.entries(e))n(t,r,!1);for(const[t,e]of Object.entries(r))n(t,e,!0);return t}const pf=BigInt(0),gf=BigInt(1),yf=BigInt(2),mf=BigInt(3),wf=BigInt(4),bf=BigInt(5),vf=BigInt(8);BigInt(9),BigInt(16);function Af(t,e){const r=t%e;return r>=pf?r:e+r}function Ef(t,e,r){if(r<=pf||e<pf)throw new Error(\"Expected power/modulo > 0\");if(r===gf)return pf;let n=gf;for(;e>pf;)e&gf&&(n=n*t%r),t=t*t%r,e>>=gf;return n}function xf(t,e,r){let n=t;for(;e-- >pf;)n*=n,n%=r;return n}function Rf(t,e){if(t===pf||e<=pf)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Af(t,e),n=e,s=pf,i=gf,o=gf,a=pf;for(;r!==pf;){const t=n/r,e=n%r,c=s-o*t,u=i-a*t;n=r,r=e,s=o,i=a,o=c,a=u}if(n!==gf)throw new Error(\"invert: does not exist\");return Af(s,e)}function If(t){if(t%wf===mf){const e=(t+gf)/wf;return function(t,r){const n=t.pow(r,e);if(!t.eql(t.sqr(n),r))throw new Error(\"Cannot find square root\");return n}}if(t%vf===bf){const e=(t-bf)/vf;return function(t,r){const n=t.mul(r,yf),s=t.pow(n,e),i=t.mul(r,s),o=t.mul(t.mul(i,yf),s),a=t.mul(i,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),r))throw new Error(\"Cannot find square root\");return a}}return function(t){const e=(t-gf)/yf;let r,n,s;for(r=t-gf,n=0;r%yf===pf;r/=yf,n++);for(s=yf;s<t&&Ef(s,e,t)!==t-gf;s++);if(1===n){const e=(t+gf)/wf;return function(t,r){const n=t.pow(r,e);if(!t.eql(t.sqr(n),r))throw new Error(\"Cannot find square root\");return n}}const i=(r+gf)/yf;return function(t,o){if(t.pow(o,e)===t.neg(t.ONE))throw new Error(\"Cannot find square root\");let a=n,c=t.pow(t.mul(t.ONE,s),r),u=t.pow(o,i),l=t.pow(o,r);for(;!t.eql(l,t.ONE);){if(t.eql(l,t.ZERO))return t.ZERO;let e=1;for(let r=t.sqr(l);e<a&&!t.eql(r,t.ONE);e++)r=t.sqr(r);const r=t.pow(c,gf<<BigInt(a-e-1));c=t.sqr(r),u=t.mul(u,r),l=t.mul(l,c),a=e}return u}}(t)}const Sf=[\"create\",\"isValid\",\"is0\",\"neg\",\"inv\",\"sqrt\",\"sqr\",\"eql\",\"add\",\"sub\",\"mul\",\"pow\",\"div\",\"addN\",\"subN\",\"mulN\",\"sqrN\"];function Nf(t,e){const r=void 0!==e?e:t.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function Of(t){if(\"bigint\"!=typeof t)throw new Error(\"field order must be bigint\");const e=t.toString(2).length;return Math.ceil(e/8)}function Cf(t){const e=Of(t);return e+Math.ceil(e/2)}class Pf extends Bo{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,go(t);const r=Po(e);if(this.iHash=t.create(),\"function\"!=typeof this.iHash.update)throw new Error(\"Expected instance of class which extends utils.Hash\");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,s=new Uint8Array(n);s.set(r.length>n?t.create().update(r).digest():r);for(let t=0;t<s.length;t++)s[t]^=54;this.iHash.update(s),this.oHash=t.create();for(let t=0;t<s.length;t++)s[t]^=106;this.oHash.update(s),s.fill(0)}update(t){return yo(this),this.iHash.update(t),this}digestInto(t){yo(this),po(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:r,finished:n,destroyed:s,blockLen:i,outputLen:o}=this;return t.finished=n,t.destroyed=s,t.blockLen=i,t.outputLen=o,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Bf=(t,e,r)=>new Pf(t,e).update(r).digest();Bf.create=(t,e)=>new Pf(t,e);const kf=BigInt(0),Tf=BigInt(1);function Lf(t){return df(t.Fp,Sf.reduce(((t,e)=>(t[e]=\"function\",t)),{ORDER:\"bigint\",MASK:\"bigint\",BYTES:\"isSafeInteger\",BITS:\"isSafeInteger\"})),df(t,{n:\"bigint\",h:\"bigint\",Gx:\"field\",Gy:\"field\"},{nBitLength:\"isSafeInteger\",nByteLength:\"isSafeInteger\"}),Object.freeze({...Nf(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const{bytesToNumberBE:Uf,hexToBytes:Ff}=e,Mf={Err:class extends Error{constructor(t=\"\"){super(t)}},_parseInt(t){const{Err:e}=Mf;if(t.length<2||2!==t[0])throw new e(\"Invalid signature integer tag\");const r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e(\"Invalid signature integer: wrong length\");if(128&n[0])throw new e(\"Invalid signature integer: negative\");if(0===n[0]&&!(128&n[1]))throw new e(\"Invalid signature integer: unnecessary leading zero\");return{d:Uf(n),l:t.subarray(r+2)}},toSig(t){const{Err:e}=Mf,r=\"string\"==typeof t?Ff(t):t;if(!(r instanceof Uint8Array))throw new Error(\"ui8a expected\");let n=r.length;if(n<2||48!=r[0])throw new e(\"Invalid signature tag\");if(r[1]!==n-2)throw new e(\"Invalid signature: incorrect length\");const{d:s,l:i}=Mf._parseInt(r.subarray(2)),{d:o,l:a}=Mf._parseInt(i);if(a.length)throw new e(\"Invalid signature: left bytes after parsing\");return{r:s,s:o}},hexFromSig(t){const e=t=>8&Number.parseInt(t[0],16)?\"00\"+t:t,r=t=>{const e=t.toString(16);return 1&e.length?`0${e}`:e},n=e(r(t.s)),s=e(r(t.r)),i=n.length/2,o=s.length/2,a=r(i),c=r(o);return`30${r(o+i+4)}02${c}${s}02${a}${n}`}},Df=BigInt(0),jf=BigInt(1),_f=(BigInt(2),BigInt(3));BigInt(4);function Gf(t){const e=function(t){const e=Lf(t);df(e,{a:\"field\",b:\"field\"},{allowedPrivateKeyLengths:\"array\",wrapPrivateKey:\"boolean\",isTorsionFree:\"function\",clearCofactor:\"function\",allowInfinityPoint:\"boolean\",fromBytes:\"function\",toBytes:\"function\"});const{endo:r,Fp:n,a:s}=e;if(r){if(!n.eql(s,n.ZERO))throw new Error(\"Endomorphism can only be defined for Koblitz curves that have a=0\");if(\"object\"!=typeof r||\"bigint\"!=typeof r.beta||\"function\"!=typeof r.splitScalar)throw new Error(\"Expected endomorphism with beta: bigint and splitScalar: function\")}return Object.freeze({...e})}(t),{Fp:r}=e,n=e.toBytes||((t,e,n)=>{const s=e.toAffine();return af(Uint8Array.from([4]),r.toBytes(s.x),r.toBytes(s.y))}),s=e.fromBytes||(t=>{const e=t.subarray(1);return{x:r.fromBytes(e.subarray(0,r.BYTES)),y:r.fromBytes(e.subarray(r.BYTES,2*r.BYTES))}});function i(t){const{a:n,b:s}=e,i=r.sqr(t),o=r.mul(i,t);return r.add(r.add(o,r.mul(t,n)),s)}if(!r.eql(r.sqr(e.Gy),i(e.Gx)))throw new Error(\"bad generator point: equation left != right\");function o(t){return\"bigint\"==typeof t&&Df<t&&t<e.n}function a(t){if(!o(t))throw new Error(\"Expected valid bigint: 0 < bigint < curve.n\")}function c(t){const{allowedPrivateKeyLengths:r,nByteLength:n,wrapPrivateKey:s,n:i}=e;if(r&&\"bigint\"!=typeof t){if(t instanceof Uint8Array&&(t=Zh(t)),\"string\"!=typeof t||!r.includes(t.length))throw new Error(\"Invalid key\");t=t.padStart(2*n,\"0\")}let o;try{o=\"bigint\"==typeof t?t:ef(of(\"private key\",t,n))}catch(e){throw new Error(`private key must be ${n} bytes, hex or bigint, not ${typeof t}`)}return s&&(o=Af(o,i)),a(o),o}const u=new Map;function l(t){if(!(t instanceof h))throw new Error(\"ProjectivePoint expected\")}class h{constructor(t,e,n){if(this.px=t,this.py=e,this.pz=n,null==t||!r.isValid(t))throw new Error(\"x required\");if(null==e||!r.isValid(e))throw new Error(\"y required\");if(null==n||!r.isValid(n))throw new Error(\"z required\")}static fromAffine(t){const{x:e,y:n}=t||{};if(!t||!r.isValid(e)||!r.isValid(n))throw new Error(\"invalid affine point\");if(t instanceof h)throw new Error(\"projective point not allowed\");const s=t=>r.eql(t,r.ZERO);return s(e)&&s(n)?h.ZERO:new h(e,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(t){const e=r.invertBatch(t.map((t=>t.pz)));return t.map(((t,r)=>t.toAffine(e[r]))).map(h.fromAffine)}static fromHex(t){const e=h.fromAffine(s(of(\"pointHex\",t)));return e.assertValidity(),e}static fromPrivateKey(t){return h.BASE.multiply(c(t))}_setWindowSize(t){this._WINDOW_SIZE=t,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error(\"bad point: ZERO\")}const{x:t,y:n}=this.toAffine();if(!r.isValid(t)||!r.isValid(n))throw new Error(\"bad point: x or y not FE\");const s=r.sqr(n),o=i(t);if(!r.eql(s,o))throw new Error(\"bad point: equation left != right\");if(!this.isTorsionFree())throw new Error(\"bad point: not in prime-order subgroup\")}hasEvenY(){const{y:t}=this.toAffine();if(r.isOdd)return!r.isOdd(t);throw new Error(\"Field doesn't support isOdd\")}equals(t){l(t);const{px:e,py:n,pz:s}=this,{px:i,py:o,pz:a}=t,c=r.eql(r.mul(e,a),r.mul(i,s)),u=r.eql(r.mul(n,a),r.mul(o,s));return c&&u}negate(){return new h(this.px,r.neg(this.py),this.pz)}double(){const{a:t,b:n}=e,s=r.mul(n,_f),{px:i,py:o,pz:a}=this;let c=r.ZERO,u=r.ZERO,l=r.ZERO,f=r.mul(i,i),d=r.mul(o,o),p=r.mul(a,a),g=r.mul(i,o);return g=r.add(g,g),l=r.mul(i,a),l=r.add(l,l),c=r.mul(t,l),u=r.mul(s,p),u=r.add(c,u),c=r.sub(d,u),u=r.add(d,u),u=r.mul(c,u),c=r.mul(g,c),l=r.mul(s,l),p=r.mul(t,p),g=r.sub(f,p),g=r.mul(t,g),g=r.add(g,l),l=r.add(f,f),f=r.add(l,f),f=r.add(f,p),f=r.mul(f,g),u=r.add(u,f),p=r.mul(o,a),p=r.add(p,p),f=r.mul(p,g),c=r.sub(c,f),l=r.mul(p,d),l=r.add(l,l),l=r.add(l,l),new h(c,u,l)}add(t){l(t);const{px:n,py:s,pz:i}=this,{px:o,py:a,pz:c}=t;let u=r.ZERO,f=r.ZERO,d=r.ZERO;const p=e.a,g=r.mul(e.b,_f);let y=r.mul(n,o),m=r.mul(s,a),w=r.mul(i,c),b=r.add(n,s),v=r.add(o,a);b=r.mul(b,v),v=r.add(y,m),b=r.sub(b,v),v=r.add(n,i);let A=r.add(o,c);return v=r.mul(v,A),A=r.add(y,w),v=r.sub(v,A),A=r.add(s,i),u=r.add(a,c),A=r.mul(A,u),u=r.add(m,w),A=r.sub(A,u),d=r.mul(p,v),u=r.mul(g,w),d=r.add(u,d),u=r.sub(m,d),d=r.add(m,d),f=r.mul(u,d),m=r.add(y,y),m=r.add(m,y),w=r.mul(p,w),v=r.mul(g,v),m=r.add(m,w),w=r.sub(y,w),w=r.mul(p,w),v=r.add(v,w),y=r.mul(m,v),f=r.add(f,y),y=r.mul(A,v),u=r.mul(b,u),u=r.sub(u,y),y=r.mul(b,m),d=r.mul(A,d),d=r.add(d,y),new h(u,f,d)}subtract(t){return this.add(t.negate())}is0(){return this.equals(h.ZERO)}wNAF(t){return d.wNAFCached(this,u,t,(t=>{const e=r.invertBatch(t.map((t=>t.pz)));return t.map(((t,r)=>t.toAffine(e[r]))).map(h.fromAffine)}))}multiplyUnsafe(t){const n=h.ZERO;if(t===Df)return n;if(a(t),t===jf)return this;const{endo:s}=e;if(!s)return d.unsafeLadder(this,t);let{k1neg:i,k1:o,k2neg:c,k2:u}=s.splitScalar(t),l=n,f=n,p=this;for(;o>Df||u>Df;)o&jf&&(l=l.add(p)),u&jf&&(f=f.add(p)),p=p.double(),o>>=jf,u>>=jf;return i&&(l=l.negate()),c&&(f=f.negate()),f=new h(r.mul(f.px,s.beta),f.py,f.pz),l.add(f)}multiply(t){a(t);let n,s,i=t;const{endo:o}=e;if(o){const{k1neg:t,k1:e,k2neg:a,k2:c}=o.splitScalar(i);let{p:u,f:l}=this.wNAF(e),{p:f,f:p}=this.wNAF(c);u=d.constTimeNegate(t,u),f=d.constTimeNegate(a,f),f=new h(r.mul(f.px,o.beta),f.py,f.pz),n=u.add(f),s=l.add(p)}else{const{p:t,f:e}=this.wNAF(i);n=t,s=e}return h.normalizeZ([n,s])[0]}multiplyAndAddUnsafe(t,e,r){const n=h.BASE,s=(t,e)=>e!==Df&&e!==jf&&t.equals(n)?t.multiply(e):t.multiplyUnsafe(e),i=s(this,e).add(s(t,r));return i.is0()?void 0:i}toAffine(t){const{px:e,py:n,pz:s}=this,i=this.is0();null==t&&(t=i?r.ONE:r.inv(s));const o=r.mul(e,t),a=r.mul(n,t),c=r.mul(s,t);if(i)return{x:r.ZERO,y:r.ZERO};if(!r.eql(c,r.ONE))throw new Error(\"invZ was invalid\");return{x:o,y:a}}isTorsionFree(){const{h:t,isTorsionFree:r}=e;if(t===jf)return!0;if(r)return r(h,this);throw new Error(\"isTorsionFree() has not been declared for the elliptic curve\")}clearCofactor(){const{h:t,clearCofactor:r}=e;return t===jf?this:r?r(h,this):this.multiplyUnsafe(e.h)}toRawBytes(t=!0){return this.assertValidity(),n(h,this,t)}toHex(t=!0){return Zh(this.toRawBytes(t))}}h.BASE=new h(e.Gx,e.Gy,r.ONE),h.ZERO=new h(r.ZERO,r.ONE,r.ZERO);const f=e.nBitLength,d=function(t,e){const r=(t,e)=>{const r=e.negate();return t?r:e},n=t=>({windows:Math.ceil(e/t)+1,windowSize:2**(t-1)});return{constTimeNegate:r,unsafeLadder(e,r){let n=t.ZERO,s=e;for(;r>kf;)r&Tf&&(n=n.add(s)),s=s.double(),r>>=Tf;return n},precomputeWindow(t,e){const{windows:r,windowSize:s}=n(e),i=[];let o=t,a=o;for(let t=0;t<r;t++){a=o,i.push(a);for(let t=1;t<s;t++)a=a.add(o),i.push(a);o=a.double()}return i},wNAF(e,s,i){const{windows:o,windowSize:a}=n(e);let c=t.ZERO,u=t.BASE;const l=BigInt(2**e-1),h=2**e,f=BigInt(e);for(let t=0;t<o;t++){const e=t*a;let n=Number(i&l);i>>=f,n>a&&(n-=h,i+=Tf);const o=e,d=e+Math.abs(n)-1,p=t%2!=0,g=n<0;0===n?u=u.add(r(p,s[o])):c=c.add(r(g,s[d]))}return{p:c,f:u}},wNAFCached(t,e,r,n){const s=t._WINDOW_SIZE||1;let i=e.get(t);return i||(i=this.precomputeWindow(t,s),1!==s&&e.set(t,n(i))),this.wNAF(s,i,r)}}}(h,e.endo?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:o}}function $f(t){const e=function(t){const e=Lf(t);return df(e,{hash:\"hash\",hmac:\"function\",randomBytes:\"function\"},{bits2int:\"function\",bits2int_modN:\"function\",lowS:\"boolean\"}),Object.freeze({lowS:!0,...e})}(t),{Fp:r,n}=e,s=r.BYTES+1,i=2*r.BYTES+1;function o(t){return Af(t,n)}function a(t){return Rf(t,n)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:h}=Gf({...e,toBytes(t,e,n){const s=e.toAffine(),i=r.toBytes(s.x),o=af;return n?o(Uint8Array.from([e.hasEvenY()?2:3]),i):o(Uint8Array.from([4]),i,r.toBytes(s.y))},fromBytes(t){const e=t.length,n=t[0],o=t.subarray(1);if(e!==s||2!==n&&3!==n){if(e===i&&4===n){return{x:r.fromBytes(o.subarray(0,r.BYTES)),y:r.fromBytes(o.subarray(r.BYTES,2*r.BYTES))}}throw new Error(`Point of length ${e} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}{const t=ef(o);if(!(Df<(a=t)&&a<r.ORDER))throw new Error(\"Point is not on curve\");const e=l(t);let s=r.sqrt(e);return!(1&~n)!==((s&jf)===jf)&&(s=r.neg(s)),{x:t,y:s}}var a}}),f=t=>Zh(nf(t,e.nByteLength));function d(t){return t>n>>jf}const p=(t,e,r)=>ef(t.slice(e,r));class g{constructor(t,e,r){this.r=t,this.s=e,this.recovery=r,this.assertValidity()}static fromCompact(t){const r=e.nByteLength;return t=of(\"compactSignature\",t,2*r),new g(p(t,0,r),p(t,r,2*r))}static fromDER(t){const{r:e,s:r}=Mf.toSig(of(\"DER\",t));return new g(e,r)}assertValidity(){if(!h(this.r))throw new Error(\"r must be 0 < r < CURVE.n\");if(!h(this.s))throw new Error(\"s must be 0 < s < CURVE.n\")}addRecoveryBit(t){return new g(this.r,this.s,t)}recoverPublicKey(t){const{r:n,s,recovery:i}=this,u=b(of(\"msgHash\",t));if(null==i||![0,1,2,3].includes(i))throw new Error(\"recovery id invalid\");const l=2===i||3===i?n+e.n:n;if(l>=r.ORDER)throw new Error(\"recovery id 2 or 3 invalid\");const h=1&i?\"03\":\"02\",d=c.fromHex(h+f(l)),p=a(l),g=o(-u*p),y=o(s*p),m=c.BASE.multiplyAndAddUnsafe(d,g,y);if(!m)throw new Error(\"point at infinify\");return m.assertValidity(),m}hasHighS(){return d(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return tf(this.toDERHex())}toDERHex(){return Mf.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return tf(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}const y={isValidPrivateKey(t){try{return u(t),!0}catch(t){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const t=Cf(e.n);return function(t,e,r=!1){const n=t.length,s=Of(e),i=Cf(e);if(n<16||n<i||n>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${n}`);const o=Af(r?ef(t):rf(t),e-gf)+gf;return r?sf(o,s):nf(o,s)}(e.randomBytes(t),e.n)},precompute:(t=8,e=c.BASE)=>(e._setWindowSize(t),e.multiply(BigInt(3)),e)};function m(t){const e=t instanceof Uint8Array,r=\"string\"==typeof t,n=(e||r)&&t.length;return e?n===s||n===i:r?n===2*s||n===2*i:t instanceof c}const w=e.bits2int||function(t){const r=ef(t),n=8*t.length-e.nBitLength;return n>0?r>>BigInt(n):r},b=e.bits2int_modN||function(t){return o(w(t))},v=cf(e.nBitLength);function A(t){if(\"bigint\"!=typeof t)throw new Error(\"bigint expected\");if(!(Df<=t&&t<v))throw new Error(`bigint expected < 2^${e.nBitLength}`);return nf(t,e.nByteLength)}function E(t,n,s=x){if([\"recovered\",\"canonical\"].some((t=>t in s)))throw new Error(\"sign() legacy options not supported\");const{hash:i,randomBytes:l}=e;let{lowS:f,prehash:p,extraEntropy:y}=s;null==f&&(f=!0),t=of(\"msgHash\",t),p&&(t=of(\"prehashed msgHash\",i(t)));const m=b(t),v=u(n),E=[A(v),A(m)];if(null!=y){const t=!0===y?l(r.BYTES):y;E.push(of(\"extraEntropy\",t))}const R=af(...E),I=m;return{seed:R,k2sig:function(t){const e=w(t);if(!h(e))return;const r=a(e),n=c.BASE.multiply(e).toAffine(),s=o(n.x);if(s===Df)return;const i=o(r*o(I+s*v));if(i===Df)return;let u=(n.x===s?0:2)|Number(n.y&jf),l=i;return f&&d(i)&&(l=function(t){return d(t)?o(-t):t}(i),u^=1),new g(s,l,u)}}}const x={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:e,getPublicKey:function(t,e=!0){return c.fromPrivateKey(t).toRawBytes(e)},getSharedSecret:function(t,e,r=!0){if(m(t))throw new Error(\"first arg must be private key\");if(!m(e))throw new Error(\"second arg must be public key\");return c.fromHex(e).multiply(u(t)).toRawBytes(r)},sign:function(t,r,n=x){const{seed:s,k2sig:i}=E(t,r,n),o=e;return hf(o.hash.outputLen,o.nByteLength,o.hmac)(s,i)},verify:function(t,r,n,s=R){const i=t;if(r=of(\"msgHash\",r),n=of(\"publicKey\",n),\"strict\"in s)throw new Error(\"options.strict was renamed to lowS\");const{lowS:u,prehash:l}=s;let h,f;try{if(\"string\"==typeof i||i instanceof Uint8Array)try{h=g.fromDER(i)}catch(t){if(!(t instanceof Mf.Err))throw t;h=g.fromCompact(i)}else{if(\"object\"!=typeof i||\"bigint\"!=typeof i.r||\"bigint\"!=typeof i.s)throw new Error(\"PARSE\");{const{r:t,s:e}=i;h=new g(t,e)}}f=c.fromHex(n)}catch(t){if(\"PARSE\"===t.message)throw new Error(\"signature must be Signature instance, Uint8Array or hex string\");return!1}if(u&&h.hasHighS())return!1;l&&(r=e.hash(r));const{r:d,s:p}=h,y=b(r),m=a(p),w=o(y*m),v=o(d*m),A=c.BASE.multiplyAndAddUnsafe(f,w,v)?.toAffine();return!!A&&o(A.x)===d},ProjectivePoint:c,Signature:g,utils:y}}function Hf(t){return{hash:t,hmac:(e,...r)=>Bf(t,e,function(...t){const e=new Uint8Array(t.reduce(((t,e)=>t+e.length),0));let r=0;return t.forEach((t=>{if(!No(t))throw new Error(\"Uint8Array expected\");e.set(t,r),r+=t.length})),e}(...r)),randomBytes:To}}const Vf=BigInt(\"0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f\"),qf=BigInt(\"0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141\"),Jf=BigInt(1),zf=BigInt(2),Qf=(t,e)=>(t+e/zf)/e;function Kf(t){const e=Vf,r=BigInt(3),n=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=t*t*t%e,l=u*u*t%e,h=xf(l,r,e)*l%e,f=xf(h,r,e)*l%e,d=xf(f,zf,e)*u%e,p=xf(d,s,e)*d%e,g=xf(p,i,e)*p%e,y=xf(g,a,e)*g%e,m=xf(y,c,e)*y%e,w=xf(m,a,e)*g%e,b=xf(w,r,e)*l%e,v=xf(b,o,e)*p%e,A=xf(v,n,e)*u%e,E=xf(A,zf,e);if(!Wf.eql(Wf.sqr(E),t))throw new Error(\"Cannot find square root\");return E}const Wf=function(t,e,r=!1,n={}){if(t<=pf)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:s,nByteLength:i}=Nf(t,e);if(i>2048)throw new Error(\"Field lengths over 2048 bytes are not supported\");const o=If(t),a=Object.freeze({ORDER:t,BITS:s,BYTES:i,MASK:cf(s),ZERO:pf,ONE:gf,create:e=>Af(e,t),isValid:e=>{if(\"bigint\"!=typeof e)throw new Error(\"Invalid field element: expected bigint, got \"+typeof e);return pf<=e&&e<t},is0:t=>t===pf,isOdd:t=>(t&gf)===gf,neg:e=>Af(-e,t),eql:(t,e)=>t===e,sqr:e=>Af(e*e,t),add:(e,r)=>Af(e+r,t),sub:(e,r)=>Af(e-r,t),mul:(e,r)=>Af(e*r,t),pow:(t,e)=>function(t,e,r){if(r<pf)throw new Error(\"Expected power > 0\");if(r===pf)return t.ONE;if(r===gf)return e;let n=t.ONE,s=e;for(;r>pf;)r&gf&&(n=t.mul(n,s)),s=t.sqr(s),r>>=gf;return n}(a,t,e),div:(e,r)=>Af(e*Rf(r,t),t),sqrN:t=>t*t,addN:(t,e)=>t+e,subN:(t,e)=>t-e,mulN:(t,e)=>t*e,inv:e=>Rf(e,t),sqrt:n.sqrt||(t=>o(a,t)),invertBatch:t=>function(t,e){const r=new Array(e.length),n=e.reduce(((e,n,s)=>t.is0(n)?e:(r[s]=e,t.mul(e,n))),t.ONE),s=t.inv(n);return e.reduceRight(((e,n,s)=>t.is0(n)?e:(r[s]=t.mul(e,r[s]),t.mul(e,n))),s),r}(a,t),cmov:(t,e,r)=>r?e:t,toBytes:t=>r?sf(t,i):nf(t,i),fromBytes:t=>{if(t.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${t.length}`);return r?rf(t):ef(t)}});return Object.freeze(a)}(Vf,void 0,void 0,{sqrt:Kf}),Xf=function(t,e){const r=e=>$f({...t,...Hf(e)});return Object.freeze({...r(e),create:r})}({a:BigInt(0),b:BigInt(7),Fp:Wf,n:qf,Gx:BigInt(\"55066263022277343669578718895168534326250603453777594175500187360389116729240\"),Gy:BigInt(\"32670510020758816978083085130507043184471273380659243275938904335757337482424\"),h:BigInt(1),lowS:!0,endo:{beta:BigInt(\"0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee\"),splitScalar:t=>{const e=qf,r=BigInt(\"0x3086d221a7d46bcde86c90e49284eb15\"),n=-Jf*BigInt(\"0xe4437ed6010e88286f547fa90abfe4c3\"),s=BigInt(\"0x114ca50f7a8e2f3f657c1108d9d44cfd8\"),i=r,o=BigInt(\"0x100000000000000000000000000000000\"),a=Qf(i*t,e),c=Qf(-n*t,e);let u=Af(t-a*r-c*s,e),l=Af(-a*n-c*i,e);const h=u>o,f=l>o;if(h&&(u=e-u),f&&(l=e-l),u>o||l>o)throw new Error(\"splitScalar: Endomorphism failed, k=\"+t);return{k1neg:h,k1:u,k2neg:f,k2:l}}}},zh);BigInt(0);Xf.ProjectivePoint;class Zf{#ct;constructor(t){Oi(32===ji(t),\"invalid private key\",\"privateKey\",\"[REDACTED]\"),this.#ct=Mi(t)}get privateKey(){return this.#ct}get publicKey(){return Zf.computePublicKey(this.#ct)}get compressedPublicKey(){return Zf.computePublicKey(this.#ct,!0)}sign(t){Oi(32===ji(t),\"invalid digest length\",\"digest\",t);const e=Xf.sign(Li(t),Li(this.#ct),{lowS:!0});return jh.from({r:Yi(e.r,32),s:Yi(e.s,32),v:e.recovery?28:27})}computeSharedSecret(t){const e=Zf.computePublicKey(t);return Mi(Xf.getSharedSecret(Li(this.#ct),Ti(e),!1))}static computePublicKey(t,e){let r=Ti(t,\"key\");if(32===r.length){return Mi(Xf.getPublicKey(r,!!e))}if(64===r.length){const t=new Uint8Array(65);t[0]=4,t.set(r,1),r=t}return Mi(Xf.ProjectivePoint.fromHex(r).toRawBytes(e))}static recoverPublicKey(t,e){Oi(32===ji(t),\"invalid digest length\",\"digest\",t);const r=jh.from(e);let n=Xf.Signature.fromCompact(Li(Di([r.r,r.s])));n=n.addRecoveryBit(r.yParity);const s=n.recoverPublicKey(Li(t));return Oi(null!=s,\"invalid signautre for digest\",\"signature\",e),\"0x\"+s.toHex(!1)}static addPoints(t,e,r){const n=Xf.ProjectivePoint.fromHex(Zf.computePublicKey(t).substring(2)),s=Xf.ProjectivePoint.fromHex(Zf.computePublicKey(e).substring(2));return\"0x\"+n.add(s).toHex(!!r)}}function Yf(t){let e=t.toString(16);for(;e.length<2;)e=\"0\"+e;return\"0x\"+e}function td(t,e,r){let n=0;for(let s=0;s<r;s++)n=256*n+t[e+s];return n}function ed(t,e,r,n){const s=[];for(;r<e+1+n;){const i=rd(t,r);s.push(i.result),Ni((r+=i.consumed)<=e+1+n,\"child data too short\",\"BUFFER_OVERRUN\",{buffer:t,length:n,offset:e})}return{consumed:1+n,result:s}}function rd(t,e){Ni(0!==t.length,\"data too short\",\"BUFFER_OVERRUN\",{buffer:t,length:0,offset:1});const r=e=>{Ni(e<=t.length,\"data short segment too short\",\"BUFFER_OVERRUN\",{buffer:t,length:t.length,offset:e})};if(t[e]>=248){const n=t[e]-247;r(e+1+n);const s=td(t,e+1,n);return r(e+1+n+s),ed(t,e,e+1+n,n+s)}if(t[e]>=192){const n=t[e]-192;return r(e+1+n),ed(t,e,e+1,n)}if(t[e]>=184){const n=t[e]-183;r(e+1+n);const s=td(t,e+1,n);r(e+1+n+s);return{consumed:1+n+s,result:Mi(t.slice(e+1+n,e+1+n+s))}}if(t[e]>=128){const n=t[e]-128;r(e+1+n);return{consumed:1+n,result:Mi(t.slice(e+1,e+1+n))}}return{consumed:1,result:Yf(t[e])}}function nd(t){const e=Ti(t,\"data\"),r=rd(e,0);return Oi(r.consumed===e.length,\"unexpected junk after rlp payload\",\"data\",t),r.result}function sd(t){const e=[];for(;t;)e.unshift(255&t),t>>=8;return e}function id(t){if(Array.isArray(t)){let e=[];if(t.forEach((function(t){e=e.concat(id(t))})),e.length<=55)return e.unshift(192+e.length),e;const r=sd(e.length);return r.unshift(247+r.length),r.concat(e)}const e=Array.prototype.slice.call(Ti(t,\"object\"));if(1===e.length&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=sd(e.length);return r.unshift(183+r.length),r.concat(e)}const od=\"0123456789abcdef\";function ad(t){let e=\"0x\";for(const r of id(t))e+=od[r>>4],e+=od[15&r];return e}function cd(t,e){return function(t){let e;return e=\"string\"==typeof t?Zf.computePublicKey(t,!1):t.publicKey,aa(Yo(\"0x\"+e.substring(4)).substring(26))}(Zf.recoverPublicKey(t,e))}const ud=BigInt(0),ld=BigInt(2),hd=BigInt(27),fd=BigInt(28),dd=BigInt(35),pd=BigInt(\"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\");function gd(t){return\"0x\"===t?null:aa(t)}function yd(t,e){try{return Zc(t)}catch(r){Oi(!1,r.message,e,t)}}function md(t,e){return\"0x\"===t?0:Zi(t,e)}function wd(t,e){if(\"0x\"===t)return ud;const r=Qi(t,e);return Oi(r<=pd,\"value exceeds uint size\",e,r),r}function bd(t,e){const r=Qi(t,\"value\"),n=to(r);return Oi(n.length<=32,\"value too large\",`tx.${e}`,r),n}function vd(t){return Zc(t).map((t=>[t.address,t.storageKeys]))}function Ad(t,e){Oi(Array.isArray(t),`invalid ${e}`,\"value\",t);for(let e=0;e<t.length;e++)Oi(Ui(t[e],32),\"invalid ${ param } hash\",`value[${e}]`,t[e]);return t}function Ed(t,e){const r=[bd(t.nonce,\"nonce\"),bd(t.gasPrice||0,\"gasPrice\"),bd(t.gasLimit,\"gasLimit\"),t.to||\"0x\",bd(t.value,\"value\"),t.data];let n=ud;if(t.chainId!=ud)n=Qi(t.chainId,\"tx.chainId\"),Oi(!e||null==e.networkV||e.legacyChainId===n,\"tx.chainId/sig.v mismatch\",\"sig\",e);else if(t.signature){const e=t.signature.legacyChainId;null!=e&&(n=e)}if(!e)return n!==ud&&(r.push(to(n)),r.push(\"0x\"),r.push(\"0x\")),ad(r);let s=BigInt(27+e.yParity);return n!==ud?s=jh.getChainIdV(n,e.v):BigInt(e.v)!==s&&Oi(!1,\"tx.chainId/sig.v mismatch\",\"sig\",e),r.push(to(s)),r.push(to(e.r)),r.push(to(e.s)),ad(r)}function xd(t,e){let r;try{if(r=md(e[0],\"yParity\"),0!==r&&1!==r)throw new Error(\"bad yParity\")}catch(t){Oi(!1,\"invalid yParity\",\"yParity\",e[0])}const n=$i(e[1],32),s=$i(e[2],32),i=jh.from({r:n,s,yParity:r});t.signature=i}function Rd(t,e){const r=[bd(t.chainId,\"chainId\"),bd(t.nonce,\"nonce\"),bd(t.maxPriorityFeePerGas||0,\"maxPriorityFeePerGas\"),bd(t.maxFeePerGas||0,\"maxFeePerGas\"),bd(t.gasLimit,\"gasLimit\"),t.to||\"0x\",bd(t.value,\"value\"),t.data,vd(t.accessList||[])];return e&&(r.push(bd(e.yParity,\"yParity\")),r.push(to(e.r)),r.push(to(e.s))),Di([\"0x02\",ad(r)])}function Id(t,e){const r=[bd(t.chainId,\"chainId\"),bd(t.nonce,\"nonce\"),bd(t.gasPrice||0,\"gasPrice\"),bd(t.gasLimit,\"gasLimit\"),t.to||\"0x\",bd(t.value,\"value\"),t.data,vd(t.accessList||[])];return e&&(r.push(bd(e.yParity,\"recoveryParam\")),r.push(to(e.r)),r.push(to(e.s))),Di([\"0x01\",ad(r)])}function Sd(t,e){const r=[bd(t.chainId,\"chainId\"),bd(t.nonce,\"nonce\"),bd(t.maxPriorityFeePerGas||0,\"maxPriorityFeePerGas\"),bd(t.maxFeePerGas||0,\"maxFeePerGas\"),bd(t.gasLimit,\"gasLimit\"),t.to||du,bd(t.value,\"value\"),t.data,vd(t.accessList||[]),bd(t.maxFeePerBlobGas||0,\"maxFeePerBlobGas\"),Ad(t.blobVersionedHashes||[],\"blobVersionedHashes\")];return e&&(r.push(bd(e.yParity,\"yParity\")),r.push(to(e.r)),r.push(to(e.s))),Di([\"0x03\",ad(r)])}class Nd{#ut;#lt;#o;#ht;#ft;#dt;#pt;#gt;#yt;#mt;#wt;#bt;#vt;#At;get type(){return this.#ut}set type(t){switch(t){case null:this.#ut=null;break;case 0:case\"legacy\":this.#ut=0;break;case 1:case\"berlin\":case\"eip-2930\":this.#ut=1;break;case 2:case\"london\":case\"eip-1559\":this.#ut=2;break;case 3:case\"cancun\":case\"eip-4844\":this.#ut=3;break;default:Oi(!1,\"unsupported transaction type\",\"type\",t)}}get typeName(){switch(this.type){case 0:return\"legacy\";case 1:return\"eip-2930\";case 2:return\"eip-1559\";case 3:return\"eip-4844\"}return null}get to(){const t=this.#lt;return null==t&&3===this.type?du:t}set to(t){this.#lt=null==t?null:aa(t)}get nonce(){return this.#ht}set nonce(t){this.#ht=Zi(t,\"value\")}get gasLimit(){return this.#ft}set gasLimit(t){this.#ft=Qi(t)}get gasPrice(){const t=this.#dt;return null!=t||0!==this.type&&1!==this.type?t:ud}set gasPrice(t){this.#dt=null==t?null:Qi(t,\"gasPrice\")}get maxPriorityFeePerGas(){const t=this.#pt;return null==t?2===this.type||3===this.type?ud:null:t}set maxPriorityFeePerGas(t){this.#pt=null==t?null:Qi(t,\"maxPriorityFeePerGas\")}get maxFeePerGas(){const t=this.#gt;return null==t?2===this.type||3===this.type?ud:null:t}set maxFeePerGas(t){this.#gt=null==t?null:Qi(t,\"maxFeePerGas\")}get data(){return this.#o}set data(t){this.#o=Mi(t)}get value(){return this.#yt}set value(t){this.#yt=Qi(t,\"value\")}get chainId(){return this.#mt}set chainId(t){this.#mt=Qi(t)}get signature(){return this.#wt||null}set signature(t){this.#wt=null==t?null:jh.from(t)}get accessList(){const t=this.#bt||null;return null==t?1===this.type||2===this.type||3===this.type?[]:null:t}set accessList(t){this.#bt=null==t?null:Zc(t)}get maxFeePerBlobGas(){const t=this.#vt;return null==t&&3===this.type?ud:t}set maxFeePerBlobGas(t){this.#vt=null==t?null:Qi(t,\"maxFeePerBlobGas\")}get blobVersionedHashes(){let t=this.#At;return null==t&&3===this.type?[]:t}set blobVersionedHashes(t){if(null!=t){Oi(Array.isArray(t),\"blobVersionedHashes must be an Array\",\"value\",t),t=t.slice();for(let e=0;e<t.length;e++)Oi(Ui(t[e],32),\"invalid blobVersionedHash\",`value[${e}]`,t[e])}this.#At=t}constructor(){this.#ut=null,this.#lt=null,this.#ht=0,this.#ft=ud,this.#dt=null,this.#pt=null,this.#gt=null,this.#o=\"0x\",this.#yt=ud,this.#mt=ud,this.#wt=null,this.#bt=null,this.#vt=null,this.#At=null}get hash(){return null==this.signature?null:Yo(this.serialized)}get unsignedHash(){return Yo(this.unsignedSerialized)}get from(){return null==this.signature?null:cd(this.unsignedHash,this.signature)}get fromPublicKey(){return null==this.signature?null:Zf.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return null!=this.signature}get serialized(){switch(Ni(null!=this.signature,\"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized\",\"UNSUPPORTED_OPERATION\",{operation:\".serialized\"}),this.inferType()){case 0:return Ed(this,this.signature);case 1:return Id(this,this.signature);case 2:return Rd(this,this.signature);case 3:return Sd(this,this.signature)}Ni(!1,\"unsupported transaction type\",\"UNSUPPORTED_OPERATION\",{operation:\".serialized\"})}get unsignedSerialized(){switch(this.inferType()){case 0:return Ed(this);case 1:return Id(this);case 2:return Rd(this);case 3:return Sd(this)}Ni(!1,\"unsupported transaction type\",\"UNSUPPORTED_OPERATION\",{operation:\".unsignedSerialized\"})}inferType(){const t=this.inferTypes();return t.indexOf(2)>=0?2:t.pop()}inferTypes(){const t=null!=this.gasPrice,e=null!=this.maxFeePerGas||null!=this.maxPriorityFeePerGas,r=null!=this.accessList,n=null!=this.#vt||this.#At;null!=this.maxFeePerGas&&null!=this.maxPriorityFeePerGas&&Ni(this.maxFeePerGas>=this.maxPriorityFeePerGas,\"priorityFee cannot be more than maxFee\",\"BAD_DATA\",{value:this}),Ni(!e||0!==this.type&&1!==this.type,\"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas\",\"BAD_DATA\",{value:this}),Ni(0!==this.type||!r,\"legacy transaction cannot have accessList\",\"BAD_DATA\",{value:this});const s=[];return null!=this.type?s.push(this.type):e?s.push(2):t?(s.push(1),r||s.push(0)):r?(s.push(1),s.push(2)):(n&&this.to||(s.push(0),s.push(1),s.push(2)),s.push(3)),s.sort(),s}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}clone(){return Nd.from(this)}toJSON(){const t=t=>null==t?null:t.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:t(this.gasLimit),gasPrice:t(this.gasPrice),maxPriorityFeePerGas:t(this.maxPriorityFeePerGas),maxFeePerGas:t(this.maxFeePerGas),value:t(this.value),chainId:t(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(t){if(null==t)return new Nd;if(\"string\"==typeof t){const e=Ti(t);if(e[0]>=127)return Nd.from(function(t){const e=nd(t);Oi(Array.isArray(e)&&(9===e.length||6===e.length),\"invalid field count for legacy transaction\",\"data\",t);const r={type:0,nonce:md(e[0],\"nonce\"),gasPrice:wd(e[1],\"gasPrice\"),gasLimit:wd(e[2],\"gasLimit\"),to:gd(e[3]),value:wd(e[4],\"value\"),data:Mi(e[5]),chainId:ud};if(6===e.length)return r;const n=wd(e[6],\"v\"),s=wd(e[7],\"r\"),i=wd(e[8],\"s\");if(s===ud&&i===ud)r.chainId=n;else{let s=(n-dd)/ld;s<ud&&(s=ud),r.chainId=s,Oi(s!==ud||n===hd||n===fd,\"non-canonical legacy v\",\"v\",e[6]),r.signature=jh.from({r:$i(e[7],32),s:$i(e[8],32),v:n}),r.hash=Yo(t)}return r}(e));switch(e[0]){case 1:return Nd.from(function(t){const e=nd(Ti(t).slice(1));Oi(Array.isArray(e)&&(8===e.length||11===e.length),\"invalid field count for transaction type: 1\",\"data\",Mi(t));const r={type:1,chainId:wd(e[0],\"chainId\"),nonce:md(e[1],\"nonce\"),gasPrice:wd(e[2],\"gasPrice\"),gasLimit:wd(e[3],\"gasLimit\"),to:gd(e[4]),value:wd(e[5],\"value\"),data:Mi(e[6]),accessList:yd(e[7],\"accessList\")};return 8===e.length||(r.hash=Yo(t),xd(r,e.slice(8))),r}(e));case 2:return Nd.from(function(t){const e=nd(Ti(t).slice(1));Oi(Array.isArray(e)&&(9===e.length||12===e.length),\"invalid field count for transaction type: 2\",\"data\",Mi(t));const r={type:2,chainId:wd(e[0],\"chainId\"),nonce:md(e[1],\"nonce\"),maxPriorityFeePerGas:wd(e[2],\"maxPriorityFeePerGas\"),maxFeePerGas:wd(e[3],\"maxFeePerGas\"),gasPrice:null,gasLimit:wd(e[4],\"gasLimit\"),to:gd(e[5]),value:wd(e[6],\"value\"),data:Mi(e[7]),accessList:yd(e[8],\"accessList\")};return 9===e.length||(r.hash=Yo(t),xd(r,e.slice(9))),r}(e));case 3:return Nd.from(function(t){const e=nd(Ti(t).slice(1));Oi(Array.isArray(e)&&(11===e.length||14===e.length),\"invalid field count for transaction type: 3\",\"data\",Mi(t));const r={type:3,chainId:wd(e[0],\"chainId\"),nonce:md(e[1],\"nonce\"),maxPriorityFeePerGas:wd(e[2],\"maxPriorityFeePerGas\"),maxFeePerGas:wd(e[3],\"maxFeePerGas\"),gasPrice:null,gasLimit:wd(e[4],\"gasLimit\"),to:gd(e[5]),value:wd(e[6],\"value\"),data:Mi(e[7]),accessList:yd(e[8],\"accessList\"),maxFeePerBlobGas:wd(e[9],\"maxFeePerBlobGas\"),blobVersionedHashes:e[10]};Oi(null!=r.to,\"invalid address for transaction type: 3\",\"data\",t),Oi(Array.isArray(r.blobVersionedHashes),\"invalid blobVersionedHashes: must be an array\",\"data\",t);for(let e=0;e<r.blobVersionedHashes.length;e++)Oi(Ui(r.blobVersionedHashes[e],32),`invalid blobVersionedHash at index ${e}: must be length 32`,\"data\",t);return 11===e.length||(r.hash=Yo(t),xd(r,e.slice(11))),r}(e))}Ni(!1,\"unsupported transaction type\",\"UNSUPPORTED_OPERATION\",{operation:\"from\"})}const e=new Nd;return null!=t.type&&(e.type=t.type),null!=t.to&&(e.to=t.to),null!=t.nonce&&(e.nonce=t.nonce),null!=t.gasLimit&&(e.gasLimit=t.gasLimit),null!=t.gasPrice&&(e.gasPrice=t.gasPrice),null!=t.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas),null!=t.maxFeePerGas&&(e.maxFeePerGas=t.maxFeePerGas),null!=t.maxFeePerBlobGas&&(e.maxFeePerBlobGas=t.maxFeePerBlobGas),null!=t.data&&(e.data=t.data),null!=t.value&&(e.value=t.value),null!=t.chainId&&(e.chainId=t.chainId),null!=t.signature&&(e.signature=jh.from(t.signature)),null!=t.accessList&&(e.accessList=t.accessList),null!=t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes),null!=t.hash&&(Oi(e.isSigned(),\"unsigned transaction cannot define hash\",\"tx\",t),Oi(e.hash===t.hash,\"hash mismatch\",\"tx\",t)),null!=t.from&&(Oi(e.isSigned(),\"unsigned transaction cannot define from\",\"tx\",t),Oi(e.from.toLowerCase()===(t.from||\"\").toLowerCase(),\"from mismatch\",\"tx\",t)),e}}const Od=\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\";BigInt(0);const Cd=BigInt(58);function Pd(t){return t.match(/^ipfs:\\/\\/ipfs\\//i)?t=t.substring(12):t.match(/^ipfs:\\/\\//i)?t=t.substring(7):Oi(!1,\"unsupported IPFS format\",\"link\",t),`https://gateway.ipfs.io/ipfs/${t}`}class Bd{name;constructor(t){Ei(this,{name:t})}connect(t){return this}supportsCoinType(t){return!1}async encodeAddress(t,e){throw new Error(\"unsupported coin\")}async decodeAddress(t,e){throw new Error(\"unsupported coin\")}}const kd=new RegExp(\"^(ipfs)://(.*)$\",\"i\"),Td=[new RegExp(\"^(https)://(.*)$\",\"i\"),new RegExp(\"^(data):(.*)$\",\"i\"),kd,new RegExp(\"^eip155:[0-9]+/(erc[0-9]+):(.*)$\",\"i\")];class Ld{provider;address;name;#Et;#xt;constructor(t,e,r){Ei(this,{provider:t,address:e,name:r}),this.#Et=null,this.#xt=new al(e,[\"function supportsInterface(bytes4) view returns (bool)\",\"function resolve(bytes, bytes) view returns (bytes)\",\"function addr(bytes32) view returns (address)\",\"function addr(bytes32, uint) view returns (bytes)\",\"function text(bytes32, string) view returns (string)\",\"function contenthash(bytes32) view returns (bytes)\"],t)}async supportsWildcard(){return null==this.#Et&&(this.#Et=(async()=>{try{return await this.#xt.supportsInterface(\"0x9061b923\")}catch(t){if(Ri(t,\"CALL_EXCEPTION\"))return!1;throw this.#Et=null,t}})()),await this.#Et}async#Rt(t,e){e=(e||[]).slice();const r=this.#xt.interface;e.unshift(Oh(this.name));let n=null;await this.supportsWildcard()&&(n=r.getFunction(t),Ni(n,\"missing fragment\",\"UNKNOWN_ERROR\",{info:{funcName:t}}),e=[Ch(this.name,255),r.encodeFunctionData(n,e)],t=\"resolve(bytes,bytes)\"),e.push({enableCcipRead:!0});try{const s=await this.#xt[t](...e);return n?r.decodeFunctionResult(n,s)[0]:s}catch(t){if(!Ri(t,\"CALL_EXCEPTION\"))throw t}return null}async getAddress(t){if(null==t&&(t=60),60===t)try{const t=await this.#Rt(\"addr(bytes32)\");return null==t||t===du?null:t}catch(t){if(Ri(t,\"CALL_EXCEPTION\"))return null;throw t}if(t>=0&&t<2147483648){let e=t+2147483648;const r=await this.#Rt(\"addr(bytes32,uint)\",[e]);if(Ui(r,20))return aa(r)}let e=null;for(const r of this.provider.plugins)if(r instanceof Bd&&r.supportsCoinType(t)){e=r;break}if(null==e)return null;const r=await this.#Rt(\"addr(bytes32,uint)\",[t]);if(null==r||\"0x\"===r)return null;const n=await e.decodeAddress(t,r);if(null!=n)return n;Ni(!1,\"invalid coin data\",\"UNSUPPORTED_OPERATION\",{operation:`getAddress(${t})`,info:{coinType:t,data:r}})}async getText(t){const e=await this.#Rt(\"text(bytes32,string)\",[t]);return null==e||\"0x\"===e?null:e}async getContentHash(){const t=await this.#Rt(\"contenthash(bytes32)\");if(null==t||\"0x\"===t)return null;const e=t.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(e){const t=\"e3010170\"===e[1]?\"ipfs\":\"ipns\",r=parseInt(e[4],16);if(e[5].length===2*r)return`${t}://${function(t){const e=Ti(t);let r=Xi(e),n=\"\";for(;r;)n=Od[Number(r%Cd)]+n,r/=Cd;for(let t=0;t<e.length&&!e[t];t++)n=Od[0]+n;return n}(\"0x\"+e[2])}`}const r=t.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&64===r[1].length)return`bzz://${r[1]}`;Ni(!1,\"invalid or unsupported content hash data\",\"UNSUPPORTED_OPERATION\",{operation:\"getContentHash()\",info:{data:t}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const t=[{type:\"name\",value:this.name}];try{const e=await this.getText(\"avatar\");if(null==e)return t.push({type:\"!avatar\",value:\"\"}),{url:null,linkage:t};t.push({type:\"avatar\",value:e});for(let r=0;r<Td.length;r++){const n=e.match(Td[r]);if(null==n)continue;const s=n[1].toLowerCase();switch(s){case\"https\":case\"data\":return t.push({type:\"url\",value:e}),{linkage:t,url:e};case\"ipfs\":{const r=Pd(e);return t.push({type:\"ipfs\",value:e}),t.push({type:\"url\",value:r}),{linkage:t,url:r}}case\"erc721\":case\"erc1155\":{const r=\"erc721\"===s?\"tokenURI(uint256)\":\"uri(uint256)\";t.push({type:s,value:e});const i=await this.getAddress();if(null==i)return t.push({type:\"!owner\",value:\"\"}),{url:null,linkage:t};const o=(n[2]||\"\").split(\"/\");if(2!==o.length)return t.push({type:`!${s}caip`,value:n[2]||\"\"}),{url:null,linkage:t};const a=o[1],c=new al(o[0],[\"function tokenURI(uint) view returns (string)\",\"function ownerOf(uint) view returns (address)\",\"function uri(uint) view returns (string)\",\"function balanceOf(address, uint256) view returns (uint)\"],this.provider);if(\"erc721\"===s){const e=await c.ownerOf(a);if(i!==e)return t.push({type:\"!owner\",value:e}),{url:null,linkage:t};t.push({type:\"owner\",value:e})}else if(\"erc1155\"===s){const e=await c.balanceOf(i,a);if(!e)return t.push({type:\"!balance\",value:\"0\"}),{url:null,linkage:t};t.push({type:\"balance\",value:e.toString()})}let u=await c[r](a);if(null==u||\"0x\"===u)return t.push({type:\"!metadata-url\",value:\"\"}),{url:null,linkage:t};t.push({type:\"metadata-url-base\",value:u}),\"erc1155\"===s&&(u=u.replace(\"{id}\",Yi(a,32).substring(2)),t.push({type:\"metadata-url-expanded\",value:u})),u.match(/^ipfs:/i)&&(u=Pd(u)),t.push({type:\"metadata-url\",value:u});let l={};const h=await new lu(u).send();h.assertOk();try{l=h.bodyJson}catch(e){try{t.push({type:\"!metadata\",value:h.bodyText})}catch(e){const r=h.body;return r&&t.push({type:\"!metadata\",value:Mi(r)}),{url:null,linkage:t}}return{url:null,linkage:t}}if(!l)return t.push({type:\"!metadata\",value:\"\"}),{url:null,linkage:t};t.push({type:\"metadata\",value:JSON.stringify(l)});let f=l.image;if(\"string\"!=typeof f)return t.push({type:\"!imageUrl\",value:\"\"}),{url:null,linkage:t};if(f.match(/^(https:\\/\\/|data:)/i));else{if(null==f.match(kd))return t.push({type:\"!imageUrl-ipfs\",value:f}),{url:null,linkage:t};t.push({type:\"imageUrl-ipfs\",value:f}),f=Pd(f)}return t.push({type:\"url\",value:f}),{linkage:t,url:f}}}}}catch(t){}return{linkage:t,url:null}}static async getEnsAddress(t){const e=await t.getNetwork(),r=e.getPlugin(\"org.ethers.plugins.network.Ens\");return Ni(r,\"network does not support ENS\",\"UNSUPPORTED_OPERATION\",{operation:\"getEnsAddress\",info:{network:e}}),r.address}static async#It(t,e){const r=await Ld.getEnsAddress(t);try{const n=new al(r,[\"function resolver(bytes32) view returns (address)\"],t),s=await n.resolver(Oh(e),{enableCcipRead:!0});return s===du?null:s}catch(t){throw t}return null}static async fromName(t,e){let r=e;for(;;){if(\"\"===r||\".\"===r)return null;if(\"eth\"!==e&&\"eth\"===r)return null;const n=await Ld.#It(t,r);if(null!=n){const s=new Ld(t,n,e);return r===e||await s.supportsWildcard()?s:null}r=r.split(\".\").slice(1).join(\".\")}}}const Ud=BigInt(0);function Fd(t,e){return function(r){return null==r?e:t(r)}}function Md(t,e){return r=>{if(e&&null==r)return null;if(!Array.isArray(r))throw new Error(\"not an array\");return r.map((e=>t(e)))}}function Dd(t,e){return r=>{const n={};for(const s in t){let i=s;if(e&&s in e&&!(i in r))for(const t of e[s])if(t in r){i=t;break}try{const e=t[s](r[i]);void 0!==e&&(n[s]=e)}catch(t){Ni(!1,`invalid value for value.${s} (${t instanceof Error?t.message:\"not-an-error\"})`,\"BAD_DATA\",{value:r})}}return n}}function jd(t){return Oi(Ui(t,!0),\"invalid data\",\"value\",t),t}function _d(t){return Oi(Ui(t,32),\"invalid hash\",\"value\",t),t}const Gd=Dd({address:aa,blockHash:_d,blockNumber:Zi,data:jd,index:Zi,removed:Fd((function(t){switch(t){case!0:case\"true\":return!0;case!1:case\"false\":return!1}Oi(!1,`invalid boolean; ${JSON.stringify(t)}`,\"value\",t)}),!1),topics:Md(_d),transactionHash:_d,transactionIndex:Zi},{index:[\"logIndex\"]});const $d=Dd({hash:Fd(_d),parentHash:_d,parentBeaconBlockRoot:Fd(_d,null),number:Zi,timestamp:Zi,nonce:Fd(jd),difficulty:Qi,gasLimit:Qi,gasUsed:Qi,stateRoot:Fd(_d,null),receiptsRoot:Fd(_d,null),blobGasUsed:Fd(Qi,null),excessBlobGas:Fd(Qi,null),miner:Fd(aa),extraData:jd,baseFeePerGas:Fd(Qi)});const Hd=Dd({transactionIndex:Zi,blockNumber:Zi,transactionHash:_d,address:aa,topics:Md(_d),data:jd,index:Zi,blockHash:_d},{index:[\"logIndex\"]});const Vd=Dd({to:Fd(aa,null),from:Fd(aa,null),contractAddress:Fd(aa,null),index:Zi,root:Fd(Mi),gasUsed:Qi,blobGasUsed:Fd(Qi,null),logsBloom:Fd(jd),blockHash:_d,hash:_d,logs:Md((function(t){return Hd(t)})),blockNumber:Zi,cumulativeGasUsed:Qi,effectiveGasPrice:Fd(Qi),blobGasPrice:Fd(Qi,null),status:Fd(Zi),type:Fd(Zi,0)},{effectiveGasPrice:[\"gasPrice\"],hash:[\"transactionHash\"],index:[\"transactionIndex\"]});function qd(t){t.to&&Qi(t.to)===Ud&&(t.to=\"0x0000000000000000000000000000000000000000\");const e=Dd({hash:_d,index:Fd(Zi,void 0),type:t=>\"0x\"===t||null==t?0:Zi(t),accessList:Fd(Zc,null),blobVersionedHashes:Fd(Md(_d,!0),null),blockHash:Fd(_d,null),blockNumber:Fd(Zi,null),transactionIndex:Fd(Zi,null),from:aa,gasPrice:Fd(Qi),maxPriorityFeePerGas:Fd(Qi),maxFeePerGas:Fd(Qi),maxFeePerBlobGas:Fd(Qi,null),gasLimit:Qi,to:Fd(aa,null),value:Qi,nonce:Zi,data:jd,creates:Fd(aa,null),chainId:Fd(Qi,null)},{data:[\"input\"],gasLimit:[\"gas\"],index:[\"transactionIndex\"]})(t);if(null==e.to&&null==e.creates&&(e.creates=function(t){const e=aa(t.from);let r=Qi(t.nonce,\"tx.nonce\").toString(16);return r=\"0\"===r?\"0x\":r.length%2?\"0x0\"+r:\"0x\"+r,aa(_i(Yo(ad([e,r])),12))}(e)),1!==t.type&&2!==t.type||null!=t.accessList||(e.accessList=[]),t.signature?e.signature=jh.from(t.signature):e.signature=jh.from(t),null==e.chainId){const t=e.signature.legacyChainId;null!=t&&(e.chainId=t)}return e.blockHash&&Qi(e.blockHash)===Ud&&(e.blockHash=null),e}class Jd{name;constructor(t){Ei(this,{name:t})}clone(){return new Jd(this.name)}}class zd extends Jd{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(t,e){null==t&&(t=0),super(`org.ethers.network.plugins.GasCost#${t||0}`);const r={effectiveBlock:t};function n(t,n){let s=(e||{})[t];null==s&&(s=n),Oi(\"number\"==typeof s,`invalud value for ${t}`,\"costs\",e),r[t]=s}n(\"txBase\",21e3),n(\"txCreate\",32e3),n(\"txDataZero\",4),n(\"txDataNonzero\",16),n(\"txAccessListStorageKey\",1900),n(\"txAccessListAddress\",2400),Ei(this,r)}clone(){return new zd(this.effectiveBlock,this)}}class Qd extends Jd{address;targetNetwork;constructor(t,e){super(\"org.ethers.plugins.network.Ens\"),Ei(this,{address:t||\"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e\",targetNetwork:null==e?1:e})}clone(){return new Qd(this.address,this.targetNetwork)}}class Kd extends Jd{#B;#St;get url(){return this.#B}get processFunc(){return this.#St}constructor(t,e){super(\"org.ethers.plugins.network.FetchUrlFeeDataPlugin\"),this.#B=t,this.#St=e}clone(){return this}}const Wd=new Map;class Xd{#Nt;#mt;#Ot;constructor(t,e){this.#Nt=t,this.#mt=Qi(e),this.#Ot=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#Nt}set name(t){this.#Nt=t}get chainId(){return this.#mt}set chainId(t){this.#mt=Qi(t,\"chainId\")}matches(t){if(null==t)return!1;if(\"string\"==typeof t){try{return this.chainId===Qi(t)}catch(t){}return this.name===t}if(\"number\"==typeof t||\"bigint\"==typeof t){try{return this.chainId===Qi(t)}catch(t){}return!1}if(\"object\"==typeof t){if(null!=t.chainId){try{return this.chainId===Qi(t.chainId)}catch(t){}return!1}return null!=t.name&&this.name===t.name}return!1}get plugins(){return Array.from(this.#Ot.values())}attachPlugin(t){if(this.#Ot.get(t.name))throw new Error(`cannot replace existing plugin: ${t.name} `);return this.#Ot.set(t.name,t.clone()),this}getPlugin(t){return this.#Ot.get(t)||null}getPlugins(t){return this.plugins.filter((e=>e.name.split(\"#\")[0]===t))}clone(){const t=new Xd(this.name,this.chainId);return this.plugins.forEach((e=>{t.attachPlugin(e.clone())})),t}computeIntrinsicGas(t){const e=this.getPlugin(\"org.ethers.plugins.network.GasCost\")||new zd;let r=e.txBase;if(null==t.to&&(r+=e.txCreate),t.data)for(let n=2;n<t.data.length;n+=2)\"00\"===t.data.substring(n,n+2)?r+=e.txDataZero:r+=e.txDataNonzero;if(t.accessList){const n=Zc(t.accessList);for(const t in n)r+=e.txAccessListAddress+e.txAccessListStorageKey*n[t].storageKeys.length}return r}static from(t){if(function(){if(tp)return;function t(t,e,r){const n=function(){const n=new Xd(t,e);return null!=r.ensNetwork&&n.attachPlugin(new Qd(null,r.ensNetwork)),n.attachPlugin(new zd),(r.plugins||[]).forEach((t=>{n.attachPlugin(t)})),n};Xd.register(t,n),Xd.register(e,n),r.altNames&&r.altNames.forEach((t=>{Xd.register(t,n)}))}tp=!0,t(\"mainnet\",1,{ensNetwork:1,altNames:[\"homestead\"]}),t(\"ropsten\",3,{ensNetwork:3}),t(\"rinkeby\",4,{ensNetwork:4}),t(\"goerli\",5,{ensNetwork:5}),t(\"kovan\",42,{ensNetwork:42}),t(\"sepolia\",11155111,{ensNetwork:11155111}),t(\"holesky\",17e3,{ensNetwork:17e3}),t(\"classic\",61,{}),t(\"classicKotti\",6,{}),t(\"arbitrum\",42161,{ensNetwork:1}),t(\"arbitrum-goerli\",421613,{}),t(\"arbitrum-sepolia\",421614,{}),t(\"base\",8453,{ensNetwork:1}),t(\"base-goerli\",84531,{}),t(\"base-sepolia\",84532,{}),t(\"bnb\",56,{ensNetwork:1}),t(\"bnbt\",97,{}),t(\"linea\",59144,{ensNetwork:1}),t(\"linea-goerli\",59140,{}),t(\"matic\",137,{ensNetwork:1,plugins:[Yd(\"https://gasstation.polygon.technology/v2\")]}),t(\"matic-mumbai\",80001,{altNames:[\"maticMumbai\",\"maticmum\"],plugins:[Yd(\"https://gasstation-testnet.polygon.technology/v2\")]}),t(\"optimism\",10,{ensNetwork:1,plugins:[]}),t(\"optimism-goerli\",420,{}),t(\"optimism-sepolia\",11155420,{}),t(\"xdai\",100,{ensNetwork:1})}(),null==t)return Xd.from(\"mainnet\");if(\"number\"==typeof t&&(t=BigInt(t)),\"string\"==typeof t||\"bigint\"==typeof t){const e=Wd.get(t);if(e)return e();if(\"bigint\"==typeof t)return new Xd(\"unknown\",t);Oi(!1,\"unknown network\",\"network\",t)}if(\"function\"==typeof t.clone){return t.clone()}if(\"object\"==typeof t){Oi(\"string\"==typeof t.name&&\"number\"==typeof t.chainId,\"invalid network object name or chainId\",\"network\",t);const e=new Xd(t.name,t.chainId);return(t.ensAddress||null!=t.ensNetwork)&&e.attachPlugin(new Qd(t.ensAddress,t.ensNetwork)),e}Oi(!1,\"invalid network\",\"network\",t)}static register(t,e){\"number\"==typeof t&&(t=BigInt(t));const r=Wd.get(t);r&&Oi(!1,`conflicting network for ${JSON.stringify(r.name)}`,\"nameOrChainId\",t),Wd.set(t,e)}}function Zd(t,e){const r=String(t);if(!r.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const n=r.split(\".\");if(1===n.length&&n.push(\"\"),2!==n.length)throw new Error(`invalid gwei value: ${t}`);for(;n[1].length<e;)n[1]+=\"0\";if(n[1].length>9){let t=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||t++,n[1]=t.toString()}return BigInt(n[0]+n[1])}function Yd(t){return new Kd(t,(async(t,e,r)=>{let n;r.setHeader(\"User-Agent\",\"ethers\");try{const[e,s]=await Promise.all([r.send(),t()]);n=e;const i=n.bodyJson.standard;return{gasPrice:s.gasPrice,maxFeePerGas:Zd(i.maxFee,9),maxPriorityFeePerGas:Zd(i.maxPriorityFee,9)}}catch(t){Ni(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,\"SERVER_ERROR\",{request:r,response:n,error:t})}}))}let tp=!1;function ep(t){return JSON.parse(JSON.stringify(t))}class rp{#Ct;#Pt;#Bt;#kt;constructor(t){this.#Ct=t,this.#Pt=null,this.#Bt=4e3,this.#kt=-2}get pollingInterval(){return this.#Bt}set pollingInterval(t){this.#Bt=t}async#Tt(){try{const t=await this.#Ct.getBlockNumber();if(-2===this.#kt)return void(this.#kt=t);if(t!==this.#kt){for(let e=this.#kt+1;e<=t;e++){if(null==this.#Pt)return;await this.#Ct.emit(\"block\",e)}this.#kt=t}}catch(t){}null!=this.#Pt&&(this.#Pt=this.#Ct._setTimeout(this.#Tt.bind(this),this.#Bt))}start(){this.#Pt||(this.#Pt=this.#Ct._setTimeout(this.#Tt.bind(this),this.#Bt),this.#Tt())}stop(){this.#Pt&&(this.#Ct._clearTimeout(this.#Pt),this.#Pt=null)}pause(t){this.stop(),t&&(this.#kt=-2)}resume(){this.start()}}class np{#Ct;#Tt;#Lt;constructor(t){this.#Ct=t,this.#Lt=!1,this.#Tt=t=>{this._poll(t,this.#Ct)}}async _poll(t,e){throw new Error(\"sub-classes must override this\")}start(){this.#Lt||(this.#Lt=!0,this.#Tt(-2),this.#Ct.on(\"block\",this.#Tt))}stop(){this.#Lt&&(this.#Lt=!1,this.#Ct.off(\"block\",this.#Tt))}pause(t){this.stop()}resume(){this.start()}}class sp extends np{#Ut;#Ft;constructor(t,e){super(t),this.#Ut=e,this.#Ft=-2}pause(t){t&&(this.#Ft=-2),super.pause(t)}async _poll(t,e){const r=await e.getBlock(this.#Ut);null!=r&&(-2===this.#Ft?this.#Ft=r.number:r.number>this.#Ft&&(e.emit(this.#Ut,r.number),this.#Ft=r.number))}}class ip extends np{#nt;constructor(t,e){super(t),this.#nt=ep(e)}async _poll(t,e){throw new Error(\"@TODO\")}}class op extends np{#Mt;constructor(t,e){super(t),this.#Mt=e}async _poll(t,e){const r=await e.getTransactionReceipt(this.#Mt);r&&e.emit(this.#Mt,r)}}class ap{#Ct;#nt;#Pt;#Lt;#kt;constructor(t,e){this.#Ct=t,this.#nt=ep(e),this.#Pt=this.#Tt.bind(this),this.#Lt=!1,this.#kt=-2}async#Tt(t){if(-2===this.#kt)return;const e=ep(this.#nt);e.fromBlock=this.#kt+1,e.toBlock=t;const r=await this.#Ct.getLogs(e);if(0!==r.length)for(const t of r)this.#Ct.emit(this.#nt,t),this.#kt=t.blockNumber;else this.#kt<t-60&&(this.#kt=t-60)}start(){this.#Lt||(this.#Lt=!0,-2===this.#kt&&this.#Ct.getBlockNumber().then((t=>{this.#kt=t})),this.#Ct.on(\"block\",this.#Pt))}stop(){this.#Lt&&(this.#Lt=!1,this.#Ct.off(\"block\",this.#Pt))}pause(t){this.stop(),t&&(this.#kt=-2)}resume(){this.start()}}const cp=BigInt(2);function up(t){return t&&\"function\"==typeof t.then}function lp(t,e){return t+\":\"+JSON.stringify(e,((t,e)=>{if(null==e)return\"null\";if(\"bigint\"==typeof e)return`bigint:${e.toString()}`;if(\"string\"==typeof e)return e.toLowerCase();if(\"object\"==typeof e&&!Array.isArray(e)){const t=Object.keys(e);return t.sort(),t.reduce(((t,r)=>(t[r]=e[r],t)),{})}return e}))}class hp{name;constructor(t){Ei(this,{name:t})}start(){}stop(){}pause(t){}resume(){}}function fp(t){return(t=Array.from(new Set(t).values())).sort(),t}async function dp(t,e){if(null==t)throw new Error(\"invalid event\");if(Array.isArray(t)&&(t={topics:t}),\"string\"==typeof t)switch(t){case\"block\":case\"debug\":case\"error\":case\"finalized\":case\"network\":case\"pending\":case\"safe\":return{type:t,tag:t}}if(Ui(t,32)){const e=t.toLowerCase();return{type:\"transaction\",tag:lp(\"tx\",{hash:e}),hash:e}}if(t.orphan){const e=t;return{type:\"orphan\",tag:lp(\"orphan\",e),filter:(r=e,JSON.parse(JSON.stringify(r)))}}var r;if(t.address||t.topics){const r=t,n={topics:(r.topics||[]).map((t=>null==t?null:Array.isArray(t)?fp(t.map((t=>t.toLowerCase()))):t.toLowerCase()))};if(r.address){const t=[],s=[],i=r=>{Ui(r)?t.push(r):s.push((async()=>{t.push(await Uc(r,e))})())};Array.isArray(r.address)?r.address.forEach(i):i(r.address),s.length&&await Promise.all(s),n.address=fp(t.map((t=>t.toLowerCase())))}return{filter:n,tag:lp(\"event\",n),type:\"event\"}}Oi(!1,\"unknown ProviderEvent\",\"event\",t)}function pp(){return(new Date).getTime()}const gp={cacheTimeout:250,pollingInterval:4e3};class yp{#Dt;#Ot;#jt;#_t;#Gt;#$t;#Ht;#Vt;#qt;#Jt;#zt;#g;constructor(t,e){if(this.#g=Object.assign({},gp,e||{}),\"any\"===t)this.#$t=!0,this.#Gt=null;else if(t){const e=Xd.from(t);this.#$t=!1,this.#Gt=Promise.resolve(e),setTimeout((()=>{this.emit(\"network\",e,null)}),0)}else this.#$t=!1,this.#Gt=null;this.#Vt=-1,this.#Ht=new Map,this.#Dt=new Map,this.#Ot=new Map,this.#jt=null,this.#_t=!1,this.#qt=1,this.#Jt=new Map,this.#zt=!1}get pollingInterval(){return this.#g.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#Ot.values())}attachPlugin(t){if(this.#Ot.get(t.name))throw new Error(`cannot replace existing plugin: ${t.name} `);return this.#Ot.set(t.name,t.connect(this)),this}getPlugin(t){return this.#Ot.get(t)||null}get disableCcipRead(){return this.#zt}set disableCcipRead(t){this.#zt=!!t}async#Qt(t){const e=this.#g.cacheTimeout;if(e<0)return await this._perform(t);const r=lp(t.method,t);let n=this.#Ht.get(r);return n||(n=this._perform(t),this.#Ht.set(r,n),setTimeout((()=>{this.#Ht.get(r)===n&&this.#Ht.delete(r)}),e)),await n}async ccipReadFetch(t,e,r){if(this.disableCcipRead||0===r.length||null==t.to)return null;const n=t.to.toLowerCase(),s=e.toLowerCase(),i=[];for(let e=0;e<r.length;e++){const o=r[e],a=o.replace(\"{sender}\",n).replace(\"{data}\",s),c=new lu(a);-1===o.indexOf(\"{data}\")&&(c.body={data:s,sender:n}),this.emit(\"debug\",{action:\"sendCcipReadFetchRequest\",request:c,index:e,urls:r});let u=\"unknown error\";const l=await c.send();try{const t=l.bodyJson;if(t.data)return this.emit(\"debug\",{action:\"receiveCcipReadFetchResult\",request:c,result:t}),t.data;t.message&&(u=t.message),this.emit(\"debug\",{action:\"receiveCcipReadFetchError\",request:c,result:t})}catch(t){}Ni(l.statusCode<400||l.statusCode>=500,`response not found during CCIP fetch: ${u}`,\"OFFCHAIN_FAULT\",{reason:\"404_MISSING_RESOURCE\",transaction:t,info:{url:o,errorMessage:u}}),i.push(u)}Ni(!1,`error encountered during CCIP fetch: ${i.map((t=>JSON.stringify(t))).join(\", \")}`,\"OFFCHAIN_FAULT\",{reason:\"500_SERVER_ERROR\",transaction:t,info:{urls:r,errorMessages:i}})}_wrapBlock(t,e){return new Su(function(t){const e=$d(t);return e.transactions=t.transactions.map((t=>\"string\"==typeof t?t:qd(t))),e}(t),this)}_wrapLog(t,e){return new Nu(function(t){return Gd(t)}(t),this)}_wrapTransactionReceipt(t,e){return new Ou(function(t){return Vd(t)}(t),this)}_wrapTransactionResponse(t,e){return new Cu(qd(t),this)}_detectNetwork(){Ni(!1,\"sub-classes must implement this\",\"UNSUPPORTED_OPERATION\",{operation:\"_detectNetwork\"})}async _perform(t){Ni(!1,`unsupported method: ${t.method}`,\"UNSUPPORTED_OPERATION\",{operation:t.method,info:t})}async getBlockNumber(){const t=Zi(await this.#Qt({method:\"getBlockNumber\"}),\"%response\");return this.#Vt>=0&&(this.#Vt=t),t}_getAddress(t){return Uc(t,this)}_getBlockTag(t){if(null==t)return\"latest\";switch(t){case\"earliest\":return\"0x0\";case\"finalized\":case\"latest\":case\"pending\":case\"safe\":return t}return Ui(t)?Ui(t,32)?t:eo(t):(\"bigint\"==typeof t&&(t=Zi(t,\"blockTag\")),\"number\"==typeof t?t>=0?eo(t):this.#Vt>=0?eo(this.#Vt+t):this.getBlockNumber().then((e=>eo(e+t))):void Oi(!1,\"invalid blockTag\",\"blockTag\",t))}_getFilter(t){const e=(t.topics||[]).map((t=>null==t?null:Array.isArray(t)?fp(t.map((t=>t.toLowerCase()))):t.toLowerCase())),r=\"blockHash\"in t?t.blockHash:void 0,n=(t,n,s)=>{let i;switch(t.length){case 0:break;case 1:i=t[0];break;default:t.sort(),i=t}if(r&&(null!=n||null!=s))throw new Error(\"invalid filter\");const o={};return i&&(o.address=i),e.length&&(o.topics=e),n&&(o.fromBlock=n),s&&(o.toBlock=s),r&&(o.blockHash=r),o};let s,i,o=[];if(t.address)if(Array.isArray(t.address))for(const e of t.address)o.push(this._getAddress(e));else o.push(this._getAddress(t.address));return\"fromBlock\"in t&&(s=this._getBlockTag(t.fromBlock)),\"toBlock\"in t&&(i=this._getBlockTag(t.toBlock)),o.filter((t=>\"string\"!=typeof t)).length||null!=s&&\"string\"!=typeof s||null!=i&&\"string\"!=typeof i?Promise.all([Promise.all(o),s,i]).then((t=>n(t[0],t[1],t[2]))):n(o,s,i)}_getTransactionRequest(t){const e=Iu(t),r=[];if([\"to\",\"from\"].forEach((t=>{if(null==e[t])return;const n=Uc(e[t],this);up(n)?r.push(async function(){e[t]=await n}()):e[t]=n})),null!=e.blockTag){const t=this._getBlockTag(e.blockTag);up(t)?r.push(async function(){e.blockTag=await t}()):e.blockTag=t}return r.length?async function(){return await Promise.all(r),e}():e}async getNetwork(){if(null==this.#Gt){const t=(async()=>{try{const t=await this._detectNetwork();return this.emit(\"network\",t,null),t}catch(e){throw this.#Gt===t&&(this.#Gt=null),e}})();return this.#Gt=t,(await t).clone()}const t=this.#Gt,[e,r]=await Promise.all([t,this._detectNetwork()]);return e.chainId!==r.chainId&&(this.#$t?(this.emit(\"network\",r,e),this.#Gt===t&&(this.#Gt=Promise.resolve(r))):Ni(!1,`network changed: ${e.chainId} => ${r.chainId} `,\"NETWORK_ERROR\",{event:\"changed\"})),e.clone()}async getFeeData(){const t=await this.getNetwork(),e=async()=>{const{_block:e,gasPrice:r,priorityFee:n}=await Ai({_block:this.#Kt(\"latest\",!1),gasPrice:(async()=>{try{return Qi(await this.#Qt({method:\"getGasPrice\"}),\"%response\")}catch(t){}return null})(),priorityFee:(async()=>{try{return Qi(await this.#Qt({method:\"getPriorityFee\"}),\"%response\")}catch(t){}return null})()});let s=null,i=null;const o=this._wrapBlock(e,t);return o&&o.baseFeePerGas&&(i=null!=n?n:BigInt(\"1000000000\"),s=o.baseFeePerGas*cp+i),new Ru(r,s,i)},r=t.getPlugin(\"org.ethers.plugins.network.FetchUrlFeeDataPlugin\");if(r){const t=new lu(r.url),n=await r.processFunc(e,this,t);return new Ru(n.gasPrice,n.maxFeePerGas,n.maxPriorityFeePerGas)}return await e()}async estimateGas(t){let e=this._getTransactionRequest(t);return up(e)&&(e=await e),Qi(await this.#Qt({method:\"estimateGas\",transaction:e}),\"%response\")}async#Wt(t,e,r){Ni(r<10,\"CCIP read exceeded maximum redirections\",\"OFFCHAIN_FAULT\",{reason:\"TOO_MANY_REDIRECTS\",transaction:Object.assign({},t,{blockTag:e,enableCcipRead:!0})});const n=Iu(t);try{return Mi(await this._perform({method:\"call\",transaction:n,blockTag:e}))}catch(t){if(!this.disableCcipRead&&Ii(t)&&t.data&&r>=0&&\"latest\"===e&&null!=n.to&&\"0x556f1830\"===_i(t.data,0,4)){const s=t.data,i=await Uc(n.to,this);let o;try{o=function(t){const e={sender:\"\",urls:[],calldata:\"\",selector:\"\",extraData:\"\",errorArgs:[]};Ni(ji(t)>=160,\"insufficient OffchainLookup data\",\"OFFCHAIN_FAULT\",{reason:\"insufficient OffchainLookup data\"});const r=_i(t,0,32);Ni(_i(r,0,12)===_i(xp,0,12),\"corrupt OffchainLookup sender\",\"OFFCHAIN_FAULT\",{reason:\"corrupt OffchainLookup sender\"}),e.sender=_i(r,12);try{const r=[],n=Zi(_i(t,32,64)),s=Zi(_i(t,n,n+32)),i=_i(t,n+32);for(let t=0;t<s;t++){const e=mp(i,32*t);if(null==e)throw new Error(\"abort\");r.push(e)}e.urls=r}catch(t){Ni(!1,\"corrupt OffchainLookup urls\",\"OFFCHAIN_FAULT\",{reason:\"corrupt OffchainLookup urls\"})}try{const r=wp(t,64);if(null==r)throw new Error(\"abort\");e.calldata=r}catch(t){Ni(!1,\"corrupt OffchainLookup calldata\",\"OFFCHAIN_FAULT\",{reason:\"corrupt OffchainLookup calldata\"})}Ni(_i(t,100,128)===_i(xp,0,28),\"corrupt OffchainLookup callbaackSelector\",\"OFFCHAIN_FAULT\",{reason:\"corrupt OffchainLookup callbaackSelector\"}),e.selector=_i(t,96,100);try{const r=wp(t,128);if(null==r)throw new Error(\"abort\");e.extraData=r}catch(t){Ni(!1,\"corrupt OffchainLookup extraData\",\"OFFCHAIN_FAULT\",{reason:\"corrupt OffchainLookup extraData\"})}return e.errorArgs=\"sender,urls,calldata,selector,extraData\".split(/,/).map((t=>e[t])),e}(_i(t.data,4))}catch(t){Ni(!1,t.message,\"OFFCHAIN_FAULT\",{reason:\"BAD_DATA\",transaction:n,info:{data:s}})}Ni(o.sender.toLowerCase()===i.toLowerCase(),\"CCIP Read sender mismatch\",\"CALL_EXCEPTION\",{action:\"call\",data:s,reason:\"OffchainLookup\",transaction:n,invocation:null,revert:{signature:\"OffchainLookup(address,string[],bytes,bytes4,bytes)\",name:\"OffchainLookup\",args:o.errorArgs}});const a=await this.ccipReadFetch(n,o.calldata,o.urls);Ni(null!=a,\"CCIP Read failed to fetch data\",\"OFFCHAIN_FAULT\",{reason:\"FETCH_FAILED\",transaction:n,info:{data:t.data,errorArgs:o.errorArgs}});const c={to:i,data:Di([o.selector,Ep([a,o.extraData])])};this.emit(\"debug\",{action:\"sendCcipReadCall\",transaction:c});try{const t=await this.#Wt(c,e,r+1);return this.emit(\"debug\",{action:\"receiveCcipReadCallResult\",transaction:Object.assign({},c),result:t}),t}catch(t){throw this.emit(\"debug\",{action:\"receiveCcipReadCallError\",transaction:Object.assign({},c),error:t}),t}}throw t}}async#Xt(t){const{value:e}=await Ai({network:this.getNetwork(),value:t});return e}async call(t){const{tx:e,blockTag:r}=await Ai({tx:this._getTransactionRequest(t),blockTag:this._getBlockTag(t.blockTag)});return await this.#Xt(this.#Wt(e,r,t.enableCcipRead?0:-1))}async#Zt(t,e,r){let n=this._getAddress(e),s=this._getBlockTag(r);return\"string\"==typeof n&&\"string\"==typeof s||([n,s]=await Promise.all([n,s])),await this.#Xt(this.#Qt(Object.assign(t,{address:n,blockTag:s})))}async getBalance(t,e){return Qi(await this.#Zt({method:\"getBalance\"},t,e),\"%response\")}async getTransactionCount(t,e){return Zi(await this.#Zt({method:\"getTransactionCount\"},t,e),\"%response\")}async getCode(t,e){return Mi(await this.#Zt({method:\"getCode\"},t,e))}async getStorage(t,e,r){const n=Qi(e,\"position\");return Mi(await this.#Zt({method:\"getStorage\",position:n},t,r))}async broadcastTransaction(t){const{blockNumber:e,hash:r,network:n}=await Ai({blockNumber:this.getBlockNumber(),hash:this._perform({method:\"broadcastTransaction\",signedTransaction:t}),network:this.getNetwork()}),s=Nd.from(t);if(s.hash!==r)throw new Error(\"@TODO: the returned hash did not match\");return this._wrapTransactionResponse(s,n).replaceableTransaction(e)}async#Kt(t,e){if(Ui(t,32))return await this.#Qt({method:\"getBlock\",blockHash:t,includeTransactions:e});let r=this._getBlockTag(t);return\"string\"!=typeof r&&(r=await r),await this.#Qt({method:\"getBlock\",blockTag:r,includeTransactions:e})}async getBlock(t,e){const{network:r,params:n}=await Ai({network:this.getNetwork(),params:this.#Kt(t,!!e)});return null==n?null:this._wrapBlock(n,r)}async getTransaction(t){const{network:e,params:r}=await Ai({network:this.getNetwork(),params:this.#Qt({method:\"getTransaction\",hash:t})});return null==r?null:this._wrapTransactionResponse(r,e)}async getTransactionReceipt(t){const{network:e,params:r}=await Ai({network:this.getNetwork(),params:this.#Qt({method:\"getTransactionReceipt\",hash:t})});if(null==r)return null;if(null==r.gasPrice&&null==r.effectiveGasPrice){const e=await this.#Qt({method:\"getTransaction\",hash:t});if(null==e)throw new Error(\"report this; could not find tx or effectiveGasPrice\");r.effectiveGasPrice=e.gasPrice}return this._wrapTransactionReceipt(r,e)}async getTransactionResult(t){const{result:e}=await Ai({network:this.getNetwork(),result:this.#Qt({method:\"getTransactionResult\",hash:t})});return null==e?null:Mi(e)}async getLogs(t){let e=this._getFilter(t);up(e)&&(e=await e);const{network:r,params:n}=await Ai({network:this.getNetwork(),params:this.#Qt({method:\"getLogs\",filter:e})});return n.map((t=>this._wrapLog(t,r)))}_getProvider(t){Ni(!1,\"provider cannot connect to target network\",\"UNSUPPORTED_OPERATION\",{operation:\"_getProvider()\"})}async getResolver(t){return await Ld.fromName(this,t)}async getAvatar(t){const e=await this.getResolver(t);return e?await e.getAvatar():null}async resolveName(t){const e=await this.getResolver(t);return e?await e.getAddress():null}async lookupAddress(t){const e=Oh((t=aa(t)).substring(2).toLowerCase()+\".addr.reverse\");try{const r=await Ld.getEnsAddress(this),n=new al(r,[\"function resolver(bytes32) view returns (address)\"],this),s=await n.resolver(e);if(null==s||s===du)return null;const i=new al(s,[\"function name(bytes32) view returns (string)\"],this),o=await i.name(e);return await this.resolveName(o)!==t?null:o}catch(t){if(Ri(t,\"BAD_DATA\")&&\"0x\"===t.value)return null;if(Ri(t,\"CALL_EXCEPTION\"))return null;throw t}return null}async waitForTransaction(t,e,r){const n=null!=e?e:1;return 0===n?this.getTransactionReceipt(t):new Promise((async(e,s)=>{let i=null;const o=async r=>{try{const s=await this.getTransactionReceipt(t);if(null!=s&&r-s.blockNumber+1>=n)return e(s),void(i&&(clearTimeout(i),i=null))}catch(t){console.log(\"EEE\",t)}this.once(\"block\",o)};null!=r&&(i=setTimeout((()=>{null!=i&&(i=null,this.off(\"block\",o),s(Si(\"timeout\",\"TIMEOUT\",{reason:\"timeout\"})))}),r)),o(await this.getBlockNumber())}))}async waitForBlock(t){Ni(!1,\"not implemented yet\",\"NOT_IMPLEMENTED\",{operation:\"waitForBlock\"})}_clearTimeout(t){const e=this.#Jt.get(t);e&&(e.timer&&clearTimeout(e.timer),this.#Jt.delete(t))}_setTimeout(t,e){null==e&&(e=0);const r=this.#qt++,n=()=>{this.#Jt.delete(r),t()};if(this.paused)this.#Jt.set(r,{timer:null,func:n,time:e});else{const t=setTimeout(n,e);this.#Jt.set(r,{timer:t,func:n,time:pp()})}return r}_forEachSubscriber(t){for(const e of this.#Dt.values())t(e.subscriber)}_getSubscriber(t){switch(t.type){case\"debug\":case\"error\":case\"network\":return new hp(t.type);case\"block\":{const t=new rp(this);return t.pollingInterval=this.pollingInterval,t}case\"safe\":case\"finalized\":return new sp(this,t.type);case\"event\":return new ap(this,t.filter);case\"transaction\":return new op(this,t.hash);case\"orphan\":return new ip(this,t.filter)}throw new Error(`unsupported event: ${t.type}`)}_recoverSubscriber(t,e){for(const r of this.#Dt.values())if(r.subscriber===t){r.started&&r.subscriber.stop(),r.subscriber=e,r.started&&e.start(),null!=this.#jt&&e.pause(this.#jt);break}}async#Yt(t,e){let r=await dp(t,this);return\"event\"===r.type&&e&&e.length>0&&!0===e[0].removed&&(r=await dp({orphan:\"drop-log\",log:e[0]},this)),this.#Dt.get(r.tag)||null}async#te(t){const e=await dp(t,this),r=e.tag;let n=this.#Dt.get(r);if(!n){n={subscriber:this._getSubscriber(e),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#Dt.set(r,n)}return n}async on(t,e){const r=await this.#te(t);return r.listeners.push({listener:e,once:!1}),r.started||(r.subscriber.start(),r.started=!0,null!=this.#jt&&r.subscriber.pause(this.#jt)),this}async once(t,e){const r=await this.#te(t);return r.listeners.push({listener:e,once:!0}),r.started||(r.subscriber.start(),r.started=!0,null!=this.#jt&&r.subscriber.pause(this.#jt)),this}async emit(t,...e){const r=await this.#Yt(t,e);if(!r||0===r.listeners.length)return!1;const n=r.listeners.length;return r.listeners=r.listeners.filter((({listener:r,once:n})=>{const s=new ku(this,n?null:r,t);try{r.call(this,...e,s)}catch(t){}return!n})),0===r.listeners.length&&(r.started&&r.subscriber.stop(),this.#Dt.delete(r.tag)),n>0}async listenerCount(t){if(t){const e=await this.#Yt(t);return e?e.listeners.length:0}let e=0;for(const{listeners:t}of this.#Dt.values())e+=t.length;return e}async listeners(t){if(t){const e=await this.#Yt(t);return e?e.listeners.map((({listener:t})=>t)):[]}let e=[];for(const{listeners:t}of this.#Dt.values())e=e.concat(t.map((({listener:t})=>t)));return e}async off(t,e){const r=await this.#Yt(t);if(!r)return this;if(e){const t=r.listeners.map((({listener:t})=>t)).indexOf(e);t>=0&&r.listeners.splice(t,1)}return e&&0!==r.listeners.length||(r.started&&r.subscriber.stop(),this.#Dt.delete(r.tag)),this}async removeAllListeners(t){if(t){const{tag:e,started:r,subscriber:n}=await this.#te(t);r&&n.stop(),this.#Dt.delete(e)}else for(const[t,{started:e,subscriber:r}]of this.#Dt)e&&r.stop(),this.#Dt.delete(t);return this}async addListener(t,e){return await this.on(t,e)}async removeListener(t,e){return this.off(t,e)}get destroyed(){return this.#_t}destroy(){this.removeAllListeners();for(const t of this.#Jt.keys())this._clearTimeout(t);this.#_t=!0}get paused(){return null!=this.#jt}set paused(t){!!t!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(t){if(this.#Vt=-1,null!=this.#jt){if(this.#jt==!!t)return;Ni(!1,\"cannot change pause type; resume first\",\"UNSUPPORTED_OPERATION\",{operation:\"pause\"})}this._forEachSubscriber((e=>e.pause(t))),this.#jt=!!t;for(const t of this.#Jt.values())t.timer&&clearTimeout(t.timer),t.time=pp()-t.time}resume(){if(null!=this.#jt){this._forEachSubscriber((t=>t.resume())),this.#jt=null;for(const t of this.#Jt.values()){let e=t.time;e<0&&(e=0),t.time=pp(),setTimeout(t.func,e)}}}}function mp(t,e){try{const r=wp(t,e);if(r)return ka(r)}catch(t){}return null}function wp(t,e){if(\"0x\"===t)return null;try{const r=Zi(_i(t,e,e+32)),n=Zi(_i(t,r,r+32));return _i(t,r+32,r+32+n)}catch(t){}return null}function bp(t){const e=to(t);if(e.length>32)throw new Error(\"internal; should not happen\");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function vp(t){if(t.length%32==0)return t;const e=new Uint8Array(32*Math.ceil(t.length/32));return e.set(t),e}const Ap=new Uint8Array([]);function Ep(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(Ap),r+=32;for(let n=0;n<t.length;n++){const s=Ti(t[n]);e[n]=bp(r),e.push(bp(s.length)),e.push(vp(s)),r+=32+32*Math.ceil(s.length/32)}return Di(e)}const xp=\"0x0000000000000000000000000000000000000000000000000000000000000000\";function Rp(t,e){if(t.provider)return t.provider;Ni(!1,\"missing provider\",\"UNSUPPORTED_OPERATION\",{operation:e})}async function Ip(t,e){let r=Iu(e);if(null!=r.to&&(r.to=Uc(r.to,t)),null!=r.from){const e=r.from;r.from=Promise.all([t.getAddress(),Uc(e,t)]).then((([t,e])=>(Oi(t.toLowerCase()===e.toLowerCase(),\"transaction from mismatch\",\"tx.from\",e),t)))}else r.from=t.getAddress();return await Ai(r)}class Sp{provider;constructor(t){Ei(this,{provider:t||null})}async getNonce(t){return Rp(this,\"getTransactionCount\").getTransactionCount(await this.getAddress(),t)}async populateCall(t){return await Ip(this,t)}async populateTransaction(t){const e=Rp(this,\"populateTransaction\"),r=await Ip(this,t);null==r.nonce&&(r.nonce=await this.getNonce(\"pending\")),null==r.gasLimit&&(r.gasLimit=await this.estimateGas(r));const n=await this.provider.getNetwork();if(null!=r.chainId){Oi(Qi(r.chainId)===n.chainId,\"transaction chainId mismatch\",\"tx.chainId\",t.chainId)}else r.chainId=n.chainId;const s=null!=r.maxFeePerGas||null!=r.maxPriorityFeePerGas;if(null==r.gasPrice||2!==r.type&&!s?0!==r.type&&1!==r.type||!s||Oi(!1,\"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas\",\"tx\",t):Oi(!1,\"eip-1559 transaction do not support gasPrice\",\"tx\",t),2!==r.type&&null!=r.type||null==r.maxFeePerGas||null==r.maxPriorityFeePerGas)if(0===r.type||1===r.type){const t=await e.getFeeData();Ni(null!=t.gasPrice,\"network does not support gasPrice\",\"UNSUPPORTED_OPERATION\",{operation:\"getGasPrice\"}),null==r.gasPrice&&(r.gasPrice=t.gasPrice)}else{const t=await e.getFeeData();if(null==r.type)if(null!=t.maxFeePerGas&&null!=t.maxPriorityFeePerGas)if(r.type=2,null!=r.gasPrice){const t=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=t,r.maxPriorityFeePerGas=t}else null==r.maxFeePerGas&&(r.maxFeePerGas=t.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=t.maxPriorityFeePerGas);else null!=t.gasPrice?(Ni(!s,\"network does not support EIP-1559\",\"UNSUPPORTED_OPERATION\",{operation:\"populateTransaction\"}),null==r.gasPrice&&(r.gasPrice=t.gasPrice),r.type=0):Ni(!1,\"failed to get consistent fee data\",\"UNSUPPORTED_OPERATION\",{operation:\"signer.getFeeData\"});else 2===r.type&&(null==r.maxFeePerGas&&(r.maxFeePerGas=t.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=t.maxPriorityFeePerGas))}else r.type=2;return await Ai(r)}async estimateGas(t){return Rp(this,\"estimateGas\").estimateGas(await this.populateCall(t))}async call(t){return Rp(this,\"call\").call(await this.populateCall(t))}async resolveName(t){const e=Rp(this,\"resolveName\");return await e.resolveName(t)}async sendTransaction(t){const e=Rp(this,\"sendTransaction\"),r=await this.populateTransaction(t);delete r.from;const n=Nd.from(r);return await e.broadcastTransaction(await this.signTransaction(n))}}class Np{#Ct;#ee;#Pt;#Lt;#re;#ne;constructor(t){this.#Ct=t,this.#ee=null,this.#Pt=this.#Tt.bind(this),this.#Lt=!1,this.#re=null,this.#ne=!1}_subscribe(t){throw new Error(\"subclasses must override this\")}_emitResults(t,e){throw new Error(\"subclasses must override this\")}_recover(t){throw new Error(\"subclasses must override this\")}async#Tt(t){try{null==this.#ee&&(this.#ee=this._subscribe(this.#Ct));let t=null;try{t=await this.#ee}catch(t){if(!Ri(t,\"UNSUPPORTED_OPERATION\")||\"eth_newFilter\"!==t.operation)throw t}if(null==t)return this.#ee=null,void this.#Ct._recoverSubscriber(this,this._recover(this.#Ct));const e=await this.#Ct.getNetwork();if(this.#re||(this.#re=e),this.#re.chainId!==e.chainId)throw new Error(\"chaid changed\");if(this.#ne)return;const r=await this.#Ct.send(\"eth_getFilterChanges\",[t]);await this._emitResults(this.#Ct,r)}catch(t){console.log(\"@TODO\",t)}this.#Ct.once(\"block\",this.#Pt)}#se(){const t=this.#ee;t&&(this.#ee=null,t.then((t=>{this.#Ct.send(\"eth_uninstallFilter\",[t])})))}start(){this.#Lt||(this.#Lt=!0,this.#Tt(-2))}stop(){this.#Lt&&(this.#Lt=!1,this.#ne=!0,this.#se(),this.#Ct.off(\"block\",this.#Pt))}pause(t){t&&this.#se(),this.#Ct.off(\"block\",this.#Pt)}resume(){this.start()}}class Op extends Np{#ie;constructor(t,e){var r;super(t),this.#ie=(r=e,JSON.parse(JSON.stringify(r)))}_recover(t){return new ap(t,this.#ie)}async _subscribe(t){return await t.send(\"eth_newFilter\",[this.#ie])}async _emitResults(t,e){for(const r of e)t.emit(this.#ie,t._wrapLog(r,t._network))}}class Cp extends Np{async _subscribe(t){return await t.send(\"eth_newPendingTransactionFilter\",[])}async _emitResults(t,e){for(const r of e)t.emit(\"pending\",r)}}const Pp=\"bigint,boolean,function,number,string,symbol\".split(/,/g);function Bp(t){if(null==t||Pp.indexOf(typeof t)>=0)return t;if(\"function\"==typeof t.getAddress)return t;if(Array.isArray(t))return t.map(Bp);if(\"object\"==typeof t)return Object.keys(t).reduce(((e,r)=>(e[r]=t[r],e)),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function kp(t){return new Promise((e=>{setTimeout(e,t)}))}function Tp(t){return t?t.toLowerCase():t}function Lp(t){return t&&\"number\"==typeof t.pollingInterval}const Up={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class Fp extends Sp{address;constructor(t,e){super(t),Ei(this,{address:e=aa(e)})}connect(t){Ni(!1,\"cannot reconnect JsonRpcSigner\",\"UNSUPPORTED_OPERATION\",{operation:\"signer.connect\"})}async getAddress(){return this.address}async populateTransaction(t){return await this.populateCall(t)}async sendUncheckedTransaction(t){const e=Bp(t),r=[];if(e.from){const n=e.from;r.push((async()=>{const r=await Uc(n,this.provider);Oi(null!=r&&r.toLowerCase()===this.address.toLowerCase(),\"from address mismatch\",\"transaction\",t),e.from=r})())}else e.from=this.address;if(null==e.gasLimit&&r.push((async()=>{e.gasLimit=await this.provider.estimateGas({...e,from:this.address})})()),null!=e.to){const t=e.to;r.push((async()=>{e.to=await Uc(t,this.provider)})())}r.length&&await Promise.all(r);const n=this.provider.getRpcTransaction(e);return this.provider.send(\"eth_sendTransaction\",[n])}async sendTransaction(t){const e=await this.provider.getBlockNumber(),r=await this.sendUncheckedTransaction(t);return await new Promise(((t,n)=>{const s=[1e3,100];let i=0;const o=async()=>{try{const n=await this.provider.getTransaction(r);if(null!=n)return void t(n.replaceableTransaction(e))}catch(t){if(Ri(t,\"CANCELLED\")||Ri(t,\"BAD_DATA\")||Ri(t,\"NETWORK_ERROR\"))return null==t.info&&(t.info={}),t.info.sendTransactionHash=r,void n(t);if(Ri(t,\"INVALID_ARGUMENT\")&&(i++,null==t.info&&(t.info={}),t.info.sendTransactionHash=r,i>10))return void n(t);this.provider.emit(\"error\",Si(\"failed to fetch transation after sending (will try again)\",\"UNKNOWN_ERROR\",{error:t}))}this.provider._setTimeout((()=>{o()}),s.pop()||4e3)};o()}))}async signTransaction(t){const e=Bp(t);if(e.from){const r=await Uc(e.from,this.provider);Oi(null!=r&&r.toLowerCase()===this.address.toLowerCase(),\"from address mismatch\",\"transaction\",t),e.from=r}else e.from=this.address;const r=this.provider.getRpcTransaction(e);return await this.provider.send(\"eth_signTransaction\",[r])}async signMessage(t){const e=\"string\"==typeof t?Ba(t):t;return await this.provider.send(\"personal_sign\",[Mi(e),this.address.toLowerCase()])}async signTypedData(t,e,r){const n=Bp(r),s=await Wc.resolveNames(t,e,n,(async t=>{const e=await Uc(t);return Oi(null!=e,\"TypedData does not support null address\",\"value\",t),e}));return await this.provider.send(\"eth_signTypedData_v4\",[this.address.toLowerCase(),JSON.stringify(Wc.getPayload(s.domain,e,s.value))])}async unlock(t){return this.provider.send(\"personal_unlockAccount\",[this.address.toLowerCase(),t,null])}async _legacySignMessage(t){const e=\"string\"==typeof t?Ba(t):t;return await this.provider.send(\"eth_sign\",[this.address.toLowerCase(),Mi(e)])}}class Mp extends yp{#g;#oe;#ae;#ce;#ue;#re;#le;#he(){if(this.#ce)return;const t=1===this._getOption(\"batchMaxCount\")?0:this._getOption(\"batchStallTime\");this.#ce=setTimeout((()=>{this.#ce=null;const t=this.#ae;for(this.#ae=[];t.length;){const e=[t.shift()];for(;t.length&&e.length!==this.#g.batchMaxCount;){e.push(t.shift());if(JSON.stringify(e.map((t=>t.payload))).length>this.#g.batchMaxSize){t.unshift(e.pop());break}}(async()=>{const t=1===e.length?e[0].payload:e.map((t=>t.payload));this.emit(\"debug\",{action:\"sendRpcPayload\",payload:t});try{const r=await this._send(t);this.emit(\"debug\",{action:\"receiveRpcResult\",result:r});for(const{resolve:t,reject:n,payload:s}of e){if(this.destroyed){n(Si(\"provider destroyed; cancelled request\",\"UNSUPPORTED_OPERATION\",{operation:s.method}));continue}const e=r.filter((t=>t.id===s.id))[0];if(null!=e)\"error\"in e?n(this.getRpcError(s,e)):t(e.result);else{const t=Si(\"missing response for request\",\"BAD_DATA\",{value:r,info:{payload:s}});this.emit(\"error\",t),n(t)}}}catch(t){this.emit(\"debug\",{action:\"receiveRpcError\",error:t});for(const{reject:r}of e)r(t)}})()}}),t)}constructor(t,e){super(t,e),this.#oe=1,this.#g=Object.assign({},Up,e||{}),this.#ae=[],this.#ce=null,this.#re=null,this.#le=null;{let t=null;const e=new Promise((e=>{t=e}));this.#ue={promise:e,resolve:t}}const r=this._getOption(\"staticNetwork\");\"boolean\"==typeof r?(Oi(!r||\"any\"!==t,\"staticNetwork cannot be used on special network 'any'\",\"options\",e),r&&null!=t&&(this.#re=Xd.from(t))):r&&(Oi(null==t||r.matches(t),\"staticNetwork MUST match network object\",\"options\",e),this.#re=r)}_getOption(t){return this.#g[t]}get _network(){return Ni(this.#re,\"network is not available yet\",\"NETWORK_ERROR\"),this.#re}async _perform(t){if(\"call\"===t.method||\"estimateGas\"===t.method){let e=t.transaction;if(e&&null!=e.type&&Qi(e.type)&&null==e.maxFeePerGas&&null==e.maxPriorityFeePerGas){const r=await this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&(t=Object.assign({},t,{transaction:Object.assign({},e,{type:void 0})}))}}const e=this.getRpcRequest(t);return null!=e?await this.send(e.method,e.args):super._perform(t)}async _detectNetwork(){const t=this._getOption(\"staticNetwork\");if(t){if(!0!==t)return t;if(this.#re)return this.#re}return this.#le?await this.#le:this.ready?(this.#le=(async()=>{try{const t=Xd.from(Qi(await this.send(\"eth_chainId\",[])));return this.#le=null,t}catch(t){throw this.#le=null,t}})(),await this.#le):(this.#le=(async()=>{const t={id:this.#oe++,method:\"eth_chainId\",params:[],jsonrpc:\"2.0\"};let e;this.emit(\"debug\",{action:\"sendRpcPayload\",payload:t});try{e=(await this._send(t))[0],this.#le=null}catch(t){throw this.#le=null,this.emit(\"debug\",{action:\"receiveRpcError\",error:t}),t}if(this.emit(\"debug\",{action:\"receiveRpcResult\",result:e}),\"result\"in e)return Xd.from(Qi(e.result));throw this.getRpcError(t,e)})(),await this.#le)}_start(){null!=this.#ue&&null!=this.#ue.resolve&&(this.#ue.resolve(),this.#ue=null,(async()=>{for(;null==this.#re&&!this.destroyed;)try{this.#re=await this._detectNetwork()}catch(t){if(this.destroyed)break;console.log(\"JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)\"),this.emit(\"error\",Si(\"failed to bootstrap network detection\",\"NETWORK_ERROR\",{event:\"initial-network-discovery\",info:{error:t}})),await kp(1e3)}this.#he()})())}async _waitUntilReady(){if(null!=this.#ue)return await this.#ue.promise}_getSubscriber(t){return\"pending\"===t.type?new Cp(this):\"event\"===t.type?this._getOption(\"polling\")?new ap(this,t.filter):new Op(this,t.filter):\"orphan\"===t.type&&\"drop-log\"===t.filter.orphan?new hp(\"orphan\"):super._getSubscriber(t)}get ready(){return null==this.#ue}getRpcTransaction(t){const e={};return[\"chainId\",\"gasLimit\",\"gasPrice\",\"type\",\"maxFeePerGas\",\"maxPriorityFeePerGas\",\"nonce\",\"value\"].forEach((r=>{if(null==t[r])return;let n=r;\"gasLimit\"===r&&(n=\"gas\"),e[n]=eo(Qi(t[r],`tx.${r}`))})),[\"from\",\"to\",\"data\"].forEach((r=>{null!=t[r]&&(e[r]=Mi(t[r]))})),t.accessList&&(e.accessList=Zc(t.accessList)),e}getRpcRequest(t){switch(t.method){case\"chainId\":return{method:\"eth_chainId\",args:[]};case\"getBlockNumber\":return{method:\"eth_blockNumber\",args:[]};case\"getGasPrice\":return{method:\"eth_gasPrice\",args:[]};case\"getPriorityFee\":return{method:\"eth_maxPriorityFeePerGas\",args:[]};case\"getBalance\":return{method:\"eth_getBalance\",args:[Tp(t.address),t.blockTag]};case\"getTransactionCount\":return{method:\"eth_getTransactionCount\",args:[Tp(t.address),t.blockTag]};case\"getCode\":return{method:\"eth_getCode\",args:[Tp(t.address),t.blockTag]};case\"getStorage\":return{method:\"eth_getStorageAt\",args:[Tp(t.address),\"0x\"+t.position.toString(16),t.blockTag]};case\"broadcastTransaction\":return{method:\"eth_sendRawTransaction\",args:[t.signedTransaction]};case\"getBlock\":if(\"blockTag\"in t)return{method:\"eth_getBlockByNumber\",args:[t.blockTag,!!t.includeTransactions]};if(\"blockHash\"in t)return{method:\"eth_getBlockByHash\",args:[t.blockHash,!!t.includeTransactions]};break;case\"getTransaction\":return{method:\"eth_getTransactionByHash\",args:[t.hash]};case\"getTransactionReceipt\":return{method:\"eth_getTransactionReceipt\",args:[t.hash]};case\"call\":return{method:\"eth_call\",args:[this.getRpcTransaction(t.transaction),t.blockTag]};case\"estimateGas\":return{method:\"eth_estimateGas\",args:[this.getRpcTransaction(t.transaction)]};case\"getLogs\":return t.filter&&null!=t.filter.address&&(Array.isArray(t.filter.address)?t.filter.address=t.filter.address.map(Tp):t.filter.address=Tp(t.filter.address)),{method:\"eth_getLogs\",args:[t.filter]}}return null}getRpcError(t,e){const{method:r}=t,{error:n}=e;if(\"eth_estimateGas\"===r&&n.message){const e=n.message;if(!e.match(/revert/i)&&e.match(/insufficient funds/i))return Si(\"insufficient funds\",\"INSUFFICIENT_FUNDS\",{transaction:t.params[0],info:{payload:t,error:n}})}if(\"eth_call\"===r||\"eth_estimateGas\"===r){const e=jp(n),s=kc.getBuiltinCallException(\"eth_call\"===r?\"call\":\"estimateGas\",t.params[0],e?e.data:null);return s.info={error:n,payload:t},s}const s=JSON.stringify(function(t){const e=[];return _p(t,e),e}(n));if(\"string\"==typeof n.message&&n.message.match(/user denied|ethers-user-denied/i)){return Si(\"user rejected action\",\"ACTION_REJECTED\",{action:{eth_sign:\"signMessage\",personal_sign:\"signMessage\",eth_signTypedData_v4:\"signTypedData\",eth_signTransaction:\"signTransaction\",eth_sendTransaction:\"sendTransaction\",eth_requestAccounts:\"requestAccess\",wallet_requestAccounts:\"requestAccess\"}[r]||\"unknown\",reason:\"rejected\",info:{payload:t,error:n}})}if(\"eth_sendRawTransaction\"===r||\"eth_sendTransaction\"===r){const e=t.params[0];if(s.match(/insufficient funds|base fee exceeds gas limit/i))return Si(\"insufficient funds for intrinsic transaction cost\",\"INSUFFICIENT_FUNDS\",{transaction:e,info:{error:n}});if(s.match(/nonce/i)&&s.match(/too low/i))return Si(\"nonce has already been used\",\"NONCE_EXPIRED\",{transaction:e,info:{error:n}});if(s.match(/replacement transaction/i)&&s.match(/underpriced/i))return Si(\"replacement fee too low\",\"REPLACEMENT_UNDERPRICED\",{transaction:e,info:{error:n}});if(s.match(/only replay-protected/i))return Si(\"legacy pre-eip-155 transactions not supported\",\"UNSUPPORTED_OPERATION\",{operation:r,info:{transaction:e,info:{error:n}}})}let i=!!s.match(/the method .* does not exist/i);return i||n&&n.details&&n.details.startsWith(\"Unauthorized method:\")&&(i=!0),i?Si(\"unsupported operation\",\"UNSUPPORTED_OPERATION\",{operation:t.method,info:{error:n,payload:t}}):Si(\"could not coalesce error\",\"UNKNOWN_ERROR\",{error:n,payload:t})}send(t,e){if(this.destroyed)return Promise.reject(Si(\"provider destroyed; cancelled request\",\"UNSUPPORTED_OPERATION\",{operation:t}));const r=this.#oe++,n=new Promise(((n,s)=>{this.#ae.push({resolve:n,reject:s,payload:{method:t,params:e,id:r,jsonrpc:\"2.0\"}})}));return this.#he(),n}async getSigner(t){null==t&&(t=0);const e=this.send(\"eth_accounts\",[]);if(\"number\"==typeof t){const r=await e;if(t>=r.length)throw new Error(\"no such account\");return new Fp(this,r[t])}const{accounts:r}=await Ai({network:this.getNetwork(),accounts:e});t=aa(t);for(const e of r)if(aa(e)===t)return new Fp(this,t);throw new Error(\"invalid account\")}async listAccounts(){return(await this.send(\"eth_accounts\",[])).map((t=>new Fp(this,t)))}destroy(){this.#ce&&(clearTimeout(this.#ce),this.#ce=null);for(const{payload:t,reject:e}of this.#ae)e(Si(\"provider destroyed; cancelled request\",\"UNSUPPORTED_OPERATION\",{operation:t.method}));this.#ae=[],super.destroy()}}class Dp extends Mp{#fe;constructor(t,e){super(t,e),this.#fe=4e3}_getSubscriber(t){const e=super._getSubscriber(t);return Lp(e)&&(e.pollingInterval=this.#fe),e}get pollingInterval(){return this.#fe}set pollingInterval(t){if(!Number.isInteger(t)||t<0)throw new Error(\"invalid interval\");this.#fe=t,this._forEachSubscriber((t=>{Lp(t)&&(t.pollingInterval=this.#fe)}))}}function jp(t){if(null==t)return null;if(\"string\"==typeof t.message&&t.message.match(/revert/i)&&Ui(t.data))return{message:t.message,data:t.data};if(\"object\"==typeof t){for(const e in t){const r=jp(t[e]);if(r)return r}return null}if(\"string\"==typeof t)try{return jp(JSON.parse(t))}catch(t){}return null}function _p(t,e){if(null!=t){if(\"string\"==typeof t.message&&e.push(t.message),\"object\"==typeof t)for(const r in t)_p(t[r],e);if(\"string\"==typeof t)try{return _p(JSON.parse(t),e)}catch(t){}}}class Gp extends Dp{#V;constructor(t,e){Oi(t&&t.request,\"invalid EIP-1193 provider\",\"ethereum\",t),super(e,{batchMaxCount:1}),this.#V=async(e,r)=>{const n={method:e,params:r};this.emit(\"debug\",{action:\"sendEip1193Request\",payload:n});try{const e=await t.request(n);return this.emit(\"debug\",{action:\"receiveEip1193Result\",result:e}),e}catch(t){const e=new Error(t.message);throw e.code=t.code,e.data=t.data,e.payload=n,this.emit(\"debug\",{action:\"receiveEip1193Error\",error:e}),e}}}async send(t,e){return await this._start(),await super.send(t,e)}async _send(t){Oi(!Array.isArray(t),\"EIP-1193 does not support batch request\",\"payload\",t);try{const e=await this.#V(t.method,t.params||[]);return[{id:t.id,result:e}]}catch(e){return[{id:t.id,error:{code:e.code,data:e.data,message:e.message}}]}}getRpcError(t,e){switch((e=JSON.parse(JSON.stringify(e))).error.code||-1){case 4001:e.error.message=`ethers-user-denied: ${e.error.message}`;break;case 4200:e.error.message=`ethers-unsupported: ${e.error.message}`}return super.getRpcError(t,e)}async hasSigner(t){null==t&&(t=0);const e=await this.send(\"eth_accounts\",[]);return\"number\"==typeof t?e.length>t:(t=t.toLowerCase(),0!==e.filter((e=>e.toLowerCase()===t)).length)}async getSigner(t){if(null==t&&(t=0),!await this.hasSigner(t))try{await this.#V(\"eth_requestAccounts\",[])}catch(t){const e=t.payload;throw this.getRpcError(e,{id:e.id,error:t})}return await super.getSigner(t)}}async function $p(){const t=new Gp(ethereum);return 1===Number((await t.getNetwork()).chainId)}async function Hp(t){if(t.startsWith(\"0x\")){if(Jt(t)||Ms(t)){if(await async function(t){try{const e=new Gp(ethereum),r=await e.getCode(t);return\"0x\"!==r&&\"0x0\"!==r}catch(t){return ai.error(`Error checking address code: ${t.message}`),!1}}(t))return{message:\"Smart contract addresses are not supported yet\"};const e=await(async t=>{try{const e=new Gp(ethereum);return await e.lookupAddress(t)}catch(e){return ai.error(`Failed to lookup ENS name for '${t}': `,e),null}})(t);return e?{message:`**${e}**`,address:t}:{message:\"Valid address\",address:t}}return{message:\"Invalid address\"}}if(t.endsWith(\".eth\")){if(await $p()){const e=await(async t=>{try{const e=new Gp(ethereum);return await e.resolveName(t)}catch(e){return ai.error(`Failed to resolve ENS name '${t}': `,e),null}})(t);return e?{message:Vp(e),address:e}:{message:\"Invalid ENS name\"}}return{message:\"ENS is only supported on Ethereum mainnet\"}}return{message:\"Invalid input\"}}function Vp(t){if(!Jt(t)||!Ms(t))return\"Invalid address\";const e=Qt(t).match(/.{1,4}/gu);return e&&10===e.length?(e[0]=`**${zt(e[0])}**`,e[e.length-1]=`**${e[e.length-1]}**`,`${e.join(\" \")}`):\"Invalid address\"}let qp;async function Jp(){if(!qp){const t=await async function(){const t=await snap.request({method:\"snap_manageState\",params:{operation:\"get\"}});return{...ni,...t}}();qp||(qp=new ci(t))}return qp}const zp=async({origin:t,request:e})=>{if(!function(t,e){var r;return(null===(r=ui.get(t))||void 0===r?void 0:r.includes(e))??!1}(t,e.method))throw new Error(`Origin'${t}' is not allowed to call '${e.method}'`);return(0,s.handleKeyringRequest)(await Jp(),e)},Qp=async()=>({id:await async function(){return await snap.request({method:\"snap_createInterface\",params:{ui:Ve([be(li),Fe(hi),Fe(fi),Le({name:yi.AddressForm,children:[Be({name:yi.AddressInput,label:di,placeholder:pi}),Oe({variant:Ie.Primary,value:\"Watch account\",name:yi.SubmitButton,buttonType:Se.Submit})]}),Fe(gi)])}})}()}),Kp=async({id:t,event:e})=>{if(e.type===Ye.FormSubmitEvent&&e.name===yi.AddressForm){const r=e.value[yi.AddressInput];if(!r){const e=await $p()?\"Address or ENS is required\":\"Address is required\";return void await wi(t,e)}const n=await Hp(r);if(n.address)try{await(await Jp()).createAccount({address:n.address})}catch(e){await wi(t,e.message)}else await wi(t,n.message)}}})();var s=exports;for(var i in n)s[i]=n[i];n.__esModule&&Object.defineProperty(s,\"__esModule\",{value:!0})})();"}],"removable":false}
