diff --git a/node_modules/@metamask/execution-environments/dist/common/endowments/index.js b/node_modules/@metamask/execution-environments/dist/common/endowments/index.js
index 95a1763..9165318 100644
--- a/node_modules/@metamask/execution-environments/dist/common/endowments/index.js
+++ b/node_modules/@metamask/execution-environments/dist/common/endowments/index.js
@@ -32,6 +32,9 @@ const endowmentFactories = [buffer_1.default, timeout_1.default, wasm_1.default]
  */
 function createEndowments(wallet, endowments = []) {
     const attenuatedEndowments = {};
+    // TODO: All endowments should be hardened to prevent covert communication
+    // channels. Hardening the returned objects breaks tests elsewhere in the
+    // monorepo, so further research is needed.
     return endowments.reduce((allEndowments, endowmentName) => {
         // First, check if the endowment has a factory, and default to that.
         if (endowmentFactories.has(endowmentName)) {
@@ -52,11 +55,7 @@ function createEndowments(wallet, endowments = []) {
             // If the endowment doesn't have a factory, just use whatever is on the
             // global object.
             const globalValue = globalObject_1.rootRealmGlobal[endowmentName];
-            // Bind functions to prevent shenanigans.
-            allEndowments[endowmentName] =
-                typeof globalValue === 'function'
-                    ? globalValue.bind(globalObject_1.rootRealmGlobal)
-                    : globalValue;
+            allEndowments[endowmentName] = globalValue;
         }
         else {
             // If we get to this point, we've been passed an endowment that doesn't
diff --git a/node_modules/@metamask/execution-environments/dist/common/endowments/index.js.map b/node_modules/@metamask/execution-environments/dist/common/endowments/index.js.map
index 2718606..726dbd3 100644
--- a/node_modules/@metamask/execution-environments/dist/common/endowments/index.js.map
+++ b/node_modules/@metamask/execution-environments/dist/common/endowments/index.js.map
@@ -1 +1 @@
-{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../src/common/endowments/index.ts"],"names":[],"mappings":";;;;;;AACA,kDAAkD;AAClD,sDAA8B;AAC9B,wDAAgC;AAChC,kDAA0B;AAE1B;;;;GAIG;AACH,MAAM,kBAAkB,GAAG,CAAC,gBAAM,EAAE,iBAAO,EAAE,cAAI,CAAC,CAAC,MAAM,CACvD,CAAC,SAAS,EAAE,OAAO,EAAE,EAAE;IACrB,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;QAC7B,SAAS,CAAC,GAAG,CAAC,IAAI,EAAE,OAAO,CAAC,OAAO,CAAC,CAAC;IACvC,CAAC,CAAC,CAAC;IACH,OAAO,SAAS,CAAC;AACnB,CAAC,EACD,IAAI,GAAG,EAAyB,CACjC,CAAC;AAEF;;;;;;;;;;GAUG;AACH,SAAgB,gBAAgB,CAC9B,MAAoB,EACpB,aAAuB,EAAE;IAEzB,MAAM,oBAAoB,GAA4B,EAAE,CAAC;IAEzD,OAAO,UAAU,CAAC,MAAM,CACtB,CAAC,aAAa,EAAE,aAAa,EAAE,EAAE;QAC/B,oEAAoE;QACpE,IAAI,kBAAkB,CAAC,GAAG,CAAC,aAAa,CAAC,EAAE;YACzC,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,oBAAoB,EAAE,aAAa,CAAC,EAAE;gBACpE,uEAAuE;gBACvE,gEAAgE;gBAChE,wEAAwE;gBACxE,4CAA4C;gBAC5C,2DAA2D;gBAC3D,MAAM,CAAC,MAAM,CACX,oBAAoB;gBACpB,mEAAmE;gBACnE,oEAAoE;gBACpE,kBAAkB,CAAC,GAAG,CAAC,aAAa,CAAE,EAAE,CACzC,CAAC;aACH;YAED,aAAa,CAAC,aAAa,CAAC,GAAG,oBAAoB,CAAC,aAAa,CAAC,CAAC;SACpE;aAAM,IAAI,aAAa,IAAI,8BAAe,EAAE;YAC3C,uEAAuE;YACvE,iBAAiB;YACjB,MAAM,WAAW,GAAI,8BAA2C,CAC9D,aAAa,CACd,CAAC;YAEF,yCAAyC;YACzC,aAAa,CAAC,aAAa,CAAC;gBAC1B,OAAO,WAAW,KAAK,UAAU;oBAC/B,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,8BAAe,CAAC;oBACnC,CAAC,CAAC,WAAW,CAAC;SACnB;aAAM;YACL,uEAAuE;YACvE,oCAAoC;YACpC,MAAM,IAAI,KAAK,CAAC,uBAAuB,aAAa,IAAI,CAAC,CAAC;SAC3D;QACD,OAAO,aAAa,CAAC;IACvB,CAAC,EACD,EAAE,MAAM,EAA6B,CACtC,CAAC;AACJ,CAAC;AA9CD,4CA8CC"}
\ No newline at end of file
+{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../src/common/endowments/index.ts"],"names":[],"mappings":";;;;;;AACA,kDAAkD;AAClD,sDAA8B;AAC9B,wDAAgC;AAChC,kDAA0B;AAE1B;;;;GAIG;AACH,MAAM,kBAAkB,GAAG,CAAC,gBAAM,EAAE,iBAAO,EAAE,cAAI,CAAC,CAAC,MAAM,CACvD,CAAC,SAAS,EAAE,OAAO,EAAE,EAAE;IACrB,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;QAC7B,SAAS,CAAC,GAAG,CAAC,IAAI,EAAE,OAAO,CAAC,OAAO,CAAC,CAAC;IACvC,CAAC,CAAC,CAAC;IACH,OAAO,SAAS,CAAC;AACnB,CAAC,EACD,IAAI,GAAG,EAAyB,CACjC,CAAC;AAEF;;;;;;;;;;GAUG;AACH,SAAgB,gBAAgB,CAC9B,MAAoB,EACpB,aAAuB,EAAE;IAEzB,MAAM,oBAAoB,GAA4B,EAAE,CAAC;IAEzD,0EAA0E;IAC1E,yEAAyE;IACzE,2CAA2C;IAC3C,OAAO,UAAU,CAAC,MAAM,CACtB,CAAC,aAAa,EAAE,aAAa,EAAE,EAAE;QAC/B,oEAAoE;QACpE,IAAI,kBAAkB,CAAC,GAAG,CAAC,aAAa,CAAC,EAAE;YACzC,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,oBAAoB,EAAE,aAAa,CAAC,EAAE;gBACpE,uEAAuE;gBACvE,gEAAgE;gBAChE,wEAAwE;gBACxE,4CAA4C;gBAC5C,2DAA2D;gBAC3D,MAAM,CAAC,MAAM,CACX,oBAAoB;gBACpB,mEAAmE;gBACnE,oEAAoE;gBACpE,kBAAkB,CAAC,GAAG,CAAC,aAAa,CAAE,EAAE,CACzC,CAAC;aACH;YAED,aAAa,CAAC,aAAa,CAAC,GAAG,oBAAoB,CAAC,aAAa,CAAC,CAAC;SACpE;aAAM,IAAI,aAAa,IAAI,8BAAe,EAAE;YAC3C,uEAAuE;YACvE,iBAAiB;YACjB,MAAM,WAAW,GAAI,8BAA2C,CAC9D,aAAa,CACd,CAAC;YAEF,aAAa,CAAC,aAAa,CAAC,GAAG,WAAW,CAAC;SAC5C;aAAM;YACL,uEAAuE;YACvE,oCAAoC;YACpC,MAAM,IAAI,KAAK,CAAC,uBAAuB,aAAa,IAAI,CAAC,CAAC;SAC3D;QACD,OAAO,aAAa,CAAC;IACvB,CAAC,EACD,EAAE,MAAM,EAA6B,CACtC,CAAC;AACJ,CAAC;AA7CD,4CA6CC"}
\ No newline at end of file
diff --git a/node_modules/@metamask/execution-environments/dist/dist/__GENERATED__/openrpc.d.ts b/node_modules/@metamask/execution-environments/dist/dist/__GENERATED__/openrpc.d.ts
new file mode 100644
index 0000000..00f8562
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/__GENERATED__/openrpc.d.ts
@@ -0,0 +1,44 @@
+export declare type Endowment = string;
+export declare type JSONRPCString = "2.0";
+export declare type StringDoaGddGA = string;
+export declare type NumberHo1ClIqD = number;
+export declare type JSONRPCID = StringDoaGddGA | NumberHo1ClIqD;
+/**
+ *
+ * the name of the method
+ *
+ */
+export declare type JSONRPCMethod = string;
+export declare type JSONRPCParamsAsArray = any[];
+export interface JSONRPCParamsAsObject {
+    [key: string]: any;
+}
+export declare type JSONRPCParams = JSONRPCParamsAsArray | JSONRPCParamsAsObject;
+export declare type SnapName = string;
+export declare type SourceCode = string;
+/**
+ *
+ * An array of the names of the endowments
+ *
+ */
+export declare type Endowments = Endowment[];
+export declare type Target = string;
+export declare type Origin = string;
+export interface JsonRpcRequest {
+    jsonrpc: JSONRPCString;
+    id?: JSONRPCID;
+    method: JSONRPCMethod;
+    params?: JSONRPCParams;
+    [k: string]: any;
+}
+export declare type OK = "OK";
+export declare type SnapRpcResult = any;
+/**
+ *
+ * Generated! Represents an alias to any of the provided schemas
+ *
+ */
+export declare type AnyOfSnapNameSourceCodeEndowmentsTargetOriginJsonRpcRequestOKOKSnapRpcResult = SnapName | SourceCode | Endowments | Target | Origin | JsonRpcRequest | OK | SnapRpcResult;
+export declare type Ping = () => Promise<OK>;
+export declare type ExecuteSnap = (snapName: SnapName, sourceCode: SourceCode, endowments?: Endowments) => Promise<OK>;
+export declare type SnapRpc = (target: Target, origin: Origin, request: JsonRpcRequest) => Promise<SnapRpcResult>;
diff --git a/node_modules/@metamask/execution-environments/dist/dist/__GENERATED__/openrpc.guard.d.ts b/node_modules/@metamask/execution-environments/dist/dist/__GENERATED__/openrpc.guard.d.ts
new file mode 100644
index 0000000..ba74fa1
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/__GENERATED__/openrpc.guard.d.ts
@@ -0,0 +1,22 @@
+import { Endowment, JSONRPCString, StringDoaGddGA, NumberHo1ClIqD, JSONRPCID, JSONRPCMethod, JSONRPCParamsAsArray, JSONRPCParamsAsObject, JSONRPCParams, SnapName, SourceCode, Endowments, Target, Origin, JsonRpcRequest, OK, SnapRpcResult, AnyOfSnapNameSourceCodeEndowmentsTargetOriginJsonRpcRequestOKOKSnapRpcResult, Ping, ExecuteSnap, SnapRpc } from "./openrpc";
+export declare function isEndowment(obj: any, _argumentName?: string): obj is Endowment;
+export declare function isJSONRPCString(obj: any, _argumentName?: string): obj is JSONRPCString;
+export declare function isStringDoaGddGA(obj: any, _argumentName?: string): obj is StringDoaGddGA;
+export declare function isNumberHo1ClIqD(obj: any, _argumentName?: string): obj is NumberHo1ClIqD;
+export declare function isJSONRPCID(obj: any, _argumentName?: string): obj is JSONRPCID;
+export declare function isJSONRPCMethod(obj: any, _argumentName?: string): obj is JSONRPCMethod;
+export declare function isJSONRPCParamsAsArray(obj: any, _argumentName?: string): obj is JSONRPCParamsAsArray;
+export declare function isJSONRPCParamsAsObject(obj: any, _argumentName?: string): obj is JSONRPCParamsAsObject;
+export declare function isJSONRPCParams(obj: any, _argumentName?: string): obj is JSONRPCParams;
+export declare function isSnapName(obj: any, _argumentName?: string): obj is SnapName;
+export declare function isSourceCode(obj: any, _argumentName?: string): obj is SourceCode;
+export declare function isEndowments(obj: any, _argumentName?: string): obj is Endowments;
+export declare function isTarget(obj: any, _argumentName?: string): obj is Target;
+export declare function isOrigin(obj: any, _argumentName?: string): obj is Origin;
+export declare function isJsonRpcRequest(obj: any, _argumentName?: string): obj is JsonRpcRequest;
+export declare function isOK(obj: any, _argumentName?: string): obj is OK;
+export declare function isSnapRpcResult(obj: any, _argumentName?: string): obj is SnapRpcResult;
+export declare function isAnyOfSnapNameSourceCodeEndowmentsTargetOriginJsonRpcRequestOKOKSnapRpcResult(obj: any, _argumentName?: string): obj is AnyOfSnapNameSourceCodeEndowmentsTargetOriginJsonRpcRequestOKOKSnapRpcResult;
+export declare function isPing(obj: any, _argumentName?: string): obj is Ping;
+export declare function isExecuteSnap(obj: any, _argumentName?: string): obj is ExecuteSnap;
+export declare function isSnapRpc(obj: any, _argumentName?: string): obj is SnapRpc;
diff --git a/node_modules/@metamask/execution-environments/dist/dist/__GENERATED__/openrpc.guard.js b/node_modules/@metamask/execution-environments/dist/dist/__GENERATED__/openrpc.guard.js
new file mode 100644
index 0000000..7b07c9a
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/__GENERATED__/openrpc.guard.js
@@ -0,0 +1,111 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+exports.isSnapRpc = exports.isExecuteSnap = exports.isPing = exports.isAnyOfSnapNameSourceCodeEndowmentsTargetOriginJsonRpcRequestOKOKSnapRpcResult = exports.isSnapRpcResult = exports.isOK = exports.isJsonRpcRequest = exports.isOrigin = exports.isTarget = exports.isEndowments = exports.isSourceCode = exports.isSnapName = exports.isJSONRPCParams = exports.isJSONRPCParamsAsObject = exports.isJSONRPCParamsAsArray = exports.isJSONRPCMethod = exports.isJSONRPCID = exports.isNumberHo1ClIqD = exports.isStringDoaGddGA = exports.isJSONRPCString = exports.isEndowment = void 0;
+function isEndowment(obj, _argumentName) {
+    return (typeof obj === "string");
+}
+exports.isEndowment = isEndowment;
+function isJSONRPCString(obj, _argumentName) {
+    return (obj === "2.0");
+}
+exports.isJSONRPCString = isJSONRPCString;
+function isStringDoaGddGA(obj, _argumentName) {
+    return (typeof obj === "string");
+}
+exports.isStringDoaGddGA = isStringDoaGddGA;
+function isNumberHo1ClIqD(obj, _argumentName) {
+    return (typeof obj === "number");
+}
+exports.isNumberHo1ClIqD = isNumberHo1ClIqD;
+function isJSONRPCID(obj, _argumentName) {
+    return ((isEndowment(obj) ||
+        isNumberHo1ClIqD(obj)));
+}
+exports.isJSONRPCID = isJSONRPCID;
+function isJSONRPCMethod(obj, _argumentName) {
+    return (typeof obj === "string");
+}
+exports.isJSONRPCMethod = isJSONRPCMethod;
+function isJSONRPCParamsAsArray(obj, _argumentName) {
+    return (Array.isArray(obj) &&
+        obj.every((e) => isSnapRpcResult(e)));
+}
+exports.isJSONRPCParamsAsArray = isJSONRPCParamsAsArray;
+function isJSONRPCParamsAsObject(obj, _argumentName) {
+    return ((obj !== null &&
+        typeof obj === "object" ||
+        typeof obj === "function") &&
+        Object.entries(obj)
+            .every(([key, value]) => (isSnapRpcResult(value) &&
+            isEndowment(key))));
+}
+exports.isJSONRPCParamsAsObject = isJSONRPCParamsAsObject;
+function isJSONRPCParams(obj, _argumentName) {
+    return ((isJSONRPCParamsAsArray(obj) ||
+        isJSONRPCParamsAsObject(obj)));
+}
+exports.isJSONRPCParams = isJSONRPCParams;
+function isSnapName(obj, _argumentName) {
+    return (typeof obj === "string");
+}
+exports.isSnapName = isSnapName;
+function isSourceCode(obj, _argumentName) {
+    return (typeof obj === "string");
+}
+exports.isSourceCode = isSourceCode;
+function isEndowments(obj, _argumentName) {
+    return (Array.isArray(obj) &&
+        obj.every((e) => isEndowment(e)));
+}
+exports.isEndowments = isEndowments;
+function isTarget(obj, _argumentName) {
+    return (typeof obj === "string");
+}
+exports.isTarget = isTarget;
+function isOrigin(obj, _argumentName) {
+    return (typeof obj === "string");
+}
+exports.isOrigin = isOrigin;
+function isJsonRpcRequest(obj, _argumentName) {
+    return ((obj !== null &&
+        typeof obj === "object" ||
+        typeof obj === "function") &&
+        isJSONRPCString(obj.jsonrpc) &&
+        (typeof obj.id === "undefined" ||
+            isEndowment(obj.id) ||
+            isNumberHo1ClIqD(obj.id)) &&
+        isEndowment(obj.method) &&
+        (typeof obj.params === "undefined" ||
+            isJSONRPCParamsAsArray(obj.params) ||
+            isJSONRPCParamsAsObject(obj.params)) &&
+        Object.entries(obj)
+            .filter(([key]) => !["jsonrpc", "id", "method", "params"].includes(key))
+            .every(([key, value]) => (isSnapRpcResult(value) &&
+            isEndowment(key))));
+}
+exports.isJsonRpcRequest = isJsonRpcRequest;
+function isOK(obj, _argumentName) {
+    return (obj === "OK");
+}
+exports.isOK = isOK;
+function isSnapRpcResult(obj, _argumentName) {
+    return (true);
+}
+exports.isSnapRpcResult = isSnapRpcResult;
+function isAnyOfSnapNameSourceCodeEndowmentsTargetOriginJsonRpcRequestOKOKSnapRpcResult(obj, _argumentName) {
+    return (true);
+}
+exports.isAnyOfSnapNameSourceCodeEndowmentsTargetOriginJsonRpcRequestOKOKSnapRpcResult = isAnyOfSnapNameSourceCodeEndowmentsTargetOriginJsonRpcRequestOKOKSnapRpcResult;
+function isPing(obj, _argumentName) {
+    return (typeof obj === "function");
+}
+exports.isPing = isPing;
+function isExecuteSnap(obj, _argumentName) {
+    return (typeof obj === "function");
+}
+exports.isExecuteSnap = isExecuteSnap;
+function isSnapRpc(obj, _argumentName) {
+    return (typeof obj === "function");
+}
+exports.isSnapRpc = isSnapRpc;
+//# sourceMappingURL=openrpc.guard.js.map
\ No newline at end of file
diff --git a/node_modules/@metamask/execution-environments/dist/dist/__GENERATED__/openrpc.guard.js.map b/node_modules/@metamask/execution-environments/dist/dist/__GENERATED__/openrpc.guard.js.map
new file mode 100644
index 0000000..d2342f6
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/__GENERATED__/openrpc.guard.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"openrpc.guard.js","sourceRoot":"","sources":["../../src/__GENERATED__/openrpc.guard.ts"],"names":[],"mappings":";;;AAMA,SAAgB,WAAW,CAAC,GAAQ,EAAE,aAAsB;IACxD,OAAO,CACH,OAAO,GAAG,KAAK,QAAQ,CAC1B,CAAA;AACL,CAAC;AAJD,kCAIC;AAED,SAAgB,eAAe,CAAC,GAAQ,EAAE,aAAsB;IAC5D,OAAO,CACH,GAAG,KAAK,KAAK,CAChB,CAAA;AACL,CAAC;AAJD,0CAIC;AAED,SAAgB,gBAAgB,CAAC,GAAQ,EAAE,aAAsB;IAC7D,OAAO,CACH,OAAO,GAAG,KAAK,QAAQ,CAC1B,CAAA;AACL,CAAC;AAJD,4CAIC;AAED,SAAgB,gBAAgB,CAAC,GAAQ,EAAE,aAAsB;IAC7D,OAAO,CACH,OAAO,GAAG,KAAK,QAAQ,CAC1B,CAAA;AACL,CAAC;AAJD,4CAIC;AAED,SAAgB,WAAW,CAAC,GAAQ,EAAE,aAAsB;IACxD,OAAO,CACH,CAAC,WAAW,CAAC,GAAG,CAAY;QACxB,gBAAgB,CAAC,GAAG,CAAY,CAAC,CACxC,CAAA;AACL,CAAC;AALD,kCAKC;AAED,SAAgB,eAAe,CAAC,GAAQ,EAAE,aAAsB;IAC5D,OAAO,CACH,OAAO,GAAG,KAAK,QAAQ,CAC1B,CAAA;AACL,CAAC;AAJD,0CAIC;AAED,SAAgB,sBAAsB,CAAC,GAAQ,EAAE,aAAsB;IACnE,OAAO,CACH,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC;QAClB,GAAG,CAAC,KAAK,CAAC,CAAC,CAAM,EAAE,EAAE,CACjB,eAAe,CAAC,CAAC,CAAY,CAChC,CACJ,CAAA;AACL,CAAC;AAPD,wDAOC;AAED,SAAgB,uBAAuB,CAAC,GAAQ,EAAE,aAAsB;IACpE,OAAO,CACH,CAAC,GAAG,KAAK,IAAI;QACT,OAAO,GAAG,KAAK,QAAQ;QACvB,OAAO,GAAG,KAAK,UAAU,CAAC;QAC9B,MAAM,CAAC,OAAO,CAAM,GAAG,CAAC;aACnB,KAAK,CAAC,CAAC,CAAC,GAAG,EAAE,KAAK,CAAC,EAAE,EAAE,CAAC,CAAC,eAAe,CAAC,KAAK,CAAY;YACvD,WAAW,CAAC,GAAG,CAAY,CAAC,CAAC,CACxC,CAAA;AACL,CAAC;AATD,0DASC;AAED,SAAgB,eAAe,CAAC,GAAQ,EAAE,aAAsB;IAC5D,OAAO,CACH,CAAC,sBAAsB,CAAC,GAAG,CAAY;QACnC,uBAAuB,CAAC,GAAG,CAAY,CAAC,CAC/C,CAAA;AACL,CAAC;AALD,0CAKC;AAED,SAAgB,UAAU,CAAC,GAAQ,EAAE,aAAsB;IACvD,OAAO,CACH,OAAO,GAAG,KAAK,QAAQ,CAC1B,CAAA;AACL,CAAC;AAJD,gCAIC;AAED,SAAgB,YAAY,CAAC,GAAQ,EAAE,aAAsB;IACzD,OAAO,CACH,OAAO,GAAG,KAAK,QAAQ,CAC1B,CAAA;AACL,CAAC;AAJD,oCAIC;AAED,SAAgB,YAAY,CAAC,GAAQ,EAAE,aAAsB;IACzD,OAAO,CACH,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC;QAClB,GAAG,CAAC,KAAK,CAAC,CAAC,CAAM,EAAE,EAAE,CACjB,WAAW,CAAC,CAAC,CAAY,CAC5B,CACJ,CAAA;AACL,CAAC;AAPD,oCAOC;AAED,SAAgB,QAAQ,CAAC,GAAQ,EAAE,aAAsB;IACrD,OAAO,CACH,OAAO,GAAG,KAAK,QAAQ,CAC1B,CAAA;AACL,CAAC;AAJD,4BAIC;AAED,SAAgB,QAAQ,CAAC,GAAQ,EAAE,aAAsB;IACrD,OAAO,CACH,OAAO,GAAG,KAAK,QAAQ,CAC1B,CAAA;AACL,CAAC;AAJD,4BAIC;AAED,SAAgB,gBAAgB,CAAC,GAAQ,EAAE,aAAsB;IAC7D,OAAO,CACH,CAAC,GAAG,KAAK,IAAI;QACT,OAAO,GAAG,KAAK,QAAQ;QACvB,OAAO,GAAG,KAAK,UAAU,CAAC;QAC9B,eAAe,CAAC,GAAG,CAAC,OAAO,CAAY;QACvC,CAAC,OAAO,GAAG,CAAC,EAAE,KAAK,WAAW;YAC1B,WAAW,CAAC,GAAG,CAAC,EAAE,CAAY;YAC9B,gBAAgB,CAAC,GAAG,CAAC,EAAE,CAAY,CAAC;QACxC,WAAW,CAAC,GAAG,CAAC,MAAM,CAAY;QAClC,CAAC,OAAO,GAAG,CAAC,MAAM,KAAK,WAAW;YAC9B,sBAAsB,CAAC,GAAG,CAAC,MAAM,CAAY;YAC7C,uBAAuB,CAAC,GAAG,CAAC,MAAM,CAAY,CAAC;QACnD,MAAM,CAAC,OAAO,CAAM,GAAG,CAAC;aACnB,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;aACvE,KAAK,CAAC,CAAC,CAAC,GAAG,EAAE,KAAK,CAAC,EAAE,EAAE,CAAC,CAAC,eAAe,CAAC,KAAK,CAAY;YACvD,WAAW,CAAC,GAAG,CAAY,CAAC,CAAC,CACxC,CAAA;AACL,CAAC;AAlBD,4CAkBC;AAED,SAAgB,IAAI,CAAC,GAAQ,EAAE,aAAsB;IACjD,OAAO,CACH,GAAG,KAAK,IAAI,CACf,CAAA;AACL,CAAC;AAJD,oBAIC;AAED,SAAgB,eAAe,CAAC,GAAQ,EAAE,aAAsB;IAC5D,OAAO,CACH,IAAI,CACP,CAAA;AACL,CAAC;AAJD,0CAIC;AAED,SAAgB,8EAA8E,CAAC,GAAQ,EAAE,aAAsB;IAC3H,OAAO,CACH,IAAI,CACP,CAAA;AACL,CAAC;AAJD,wKAIC;AAED,SAAgB,MAAM,CAAC,GAAQ,EAAE,aAAsB;IACnD,OAAO,CACH,OAAO,GAAG,KAAK,UAAU,CAC5B,CAAA;AACL,CAAC;AAJD,wBAIC;AAED,SAAgB,aAAa,CAAC,GAAQ,EAAE,aAAsB;IAC1D,OAAO,CACH,OAAO,GAAG,KAAK,UAAU,CAC5B,CAAA;AACL,CAAC;AAJD,sCAIC;AAED,SAAgB,SAAS,CAAC,GAAQ,EAAE,aAAsB;IACtD,OAAO,CACH,OAAO,GAAG,KAAK,UAAU,CAC5B,CAAA;AACL,CAAC;AAJD,8BAIC"}
\ No newline at end of file
diff --git a/node_modules/@metamask/execution-environments/dist/dist/__GENERATED__/openrpc.js b/node_modules/@metamask/execution-environments/dist/dist/__GENERATED__/openrpc.js
new file mode 100644
index 0000000..3fcf167
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/__GENERATED__/openrpc.js
@@ -0,0 +1,3 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+//# sourceMappingURL=openrpc.js.map
\ No newline at end of file
diff --git a/node_modules/@metamask/execution-environments/dist/dist/__GENERATED__/openrpc.js.map b/node_modules/@metamask/execution-environments/dist/dist/__GENERATED__/openrpc.js.map
new file mode 100644
index 0000000..d92b30c
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/__GENERATED__/openrpc.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"openrpc.js","sourceRoot":"","sources":["../../src/__GENERATED__/openrpc.ts"],"names":[],"mappings":""}
\ No newline at end of file
diff --git a/node_modules/@metamask/execution-environments/dist/dist/common/BaseSnapExecutor.d.ts b/node_modules/@metamask/execution-environments/dist/dist/common/BaseSnapExecutor.d.ts
new file mode 100644
index 0000000..a854b42
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/common/BaseSnapExecutor.d.ts
@@ -0,0 +1,38 @@
+/// <reference types="node" />
+/// <reference types="ses" />
+import { Duplex } from 'stream';
+import { Endowments, JSONRPCID } from '../__GENERATED__/openrpc';
+export declare class BaseSnapExecutor {
+    private snapRpcHandlers;
+    private commandStream;
+    private rpcStream;
+    private methods;
+    private snapErrorHandler?;
+    private snapPromiseErrorHandler?;
+    protected constructor(commandStream: Duplex, rpcStream: Duplex);
+    private errorHandler;
+    private onCommandRequest;
+    protected notify(requestObject: Record<string, unknown>): void;
+    protected respond(id: JSONRPCID, responseObj: Record<string, unknown>): void;
+    /**
+     * Attempts to evaluate a snap in SES.
+     * Generates the APIs for the snap. May throw on error.
+     *
+     * @param {string} snapName - The name of the snap.
+     * @param {Array<string>} approvedPermissions - The snap's approved permissions.
+     * Should always be a value returned from the permissions controller.
+     * @param {string} sourceCode - The source code of the snap, in IIFE format.
+     * @param {Array} endowments - An array of the names of the endowments.
+     */
+    protected startSnap(snapName: string, sourceCode: string, _endowments?: Endowments): void;
+    /**
+     * Sets up the given snap's RPC message handler, creates a hardened
+     * snap provider object (i.e. globalThis.wallet), and returns it.
+     */
+    private createSnapProvider;
+    /**
+     * Removes the snap with the given name. Specifically:
+     * - Deletes the snap's RPC handler, if any
+     */
+    private removeSnap;
+}
diff --git a/node_modules/@metamask/execution-environments/dist/dist/common/BaseSnapExecutor.js b/node_modules/@metamask/execution-environments/dist/dist/common/BaseSnapExecutor.js
new file mode 100644
index 0000000..01afa28
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/common/BaseSnapExecutor.js
@@ -0,0 +1,154 @@
+"use strict";
+var __importDefault = (this && this.__importDefault) || function (mod) {
+    return (mod && mod.__esModule) ? mod : { "default": mod };
+};
+Object.defineProperty(exports, "__esModule", { value: true });
+exports.BaseSnapExecutor = void 0;
+const providers_1 = require("@metamask/providers");
+const eth_rpc_errors_1 = require("eth-rpc-errors");
+const openrpc_json_1 = __importDefault(require("../openrpc.json"));
+const openrpc_guard_1 = require("../__GENERATED__/openrpc.guard");
+const rpcMethods_1 = require("./rpcMethods");
+const sortParams_1 = require("./sortParams");
+const endowments_1 = require("./endowments");
+const globalObject_1 = require("./globalObject");
+const fallbackError = {
+    code: eth_rpc_errors_1.errorCodes.rpc.internal,
+    message: 'Execution Environment Error',
+};
+class BaseSnapExecutor {
+    constructor(commandStream, rpcStream) {
+        this.snapRpcHandlers = new Map();
+        this.commandStream = commandStream;
+        this.commandStream.on('data', this.onCommandRequest.bind(this));
+        this.rpcStream = rpcStream;
+        this.methods = rpcMethods_1.rpcMethods(this.startSnap.bind(this), (target, origin, request) => {
+            const handler = this.snapRpcHandlers.get(target);
+            if (!handler) {
+                throw new Error(`No RPC handler registered for snap "${target}`);
+            }
+            return handler(origin, request);
+        });
+    }
+    errorHandler(error, data = {}) {
+        const serializedError = eth_rpc_errors_1.serializeError(error, {
+            fallbackError,
+            shouldIncludeStack: true,
+        });
+        this.notify({
+            error: Object.assign(Object.assign({}, serializedError), { data: Object.assign(Object.assign({}, data), { stack: serializedError.stack }) }),
+        });
+    }
+    async onCommandRequest(message) {
+        if (!openrpc_guard_1.isJsonRpcRequest(message)) {
+            throw new Error('Command stream received a non Json Rpc Request');
+        }
+        const { id, method, params } = message;
+        if (id === undefined) {
+            throw new Error('Notifications not supported');
+        }
+        if (method === 'rpc.discover') {
+            this.respond(id, {
+                result: openrpc_json_1.default,
+            });
+            return;
+        }
+        const methodObject = openrpc_json_1.default.methods.find((m) => m.name === method);
+        if (!methodObject || !this.methods[method]) {
+            this.respond(id, {
+                error: eth_rpc_errors_1.ethErrors.rpc
+                    .methodNotFound({
+                    data: {
+                        method,
+                    },
+                })
+                    .serialize(),
+            });
+            return;
+        }
+        // support params by-name and by-position
+        const paramsAsArray = sortParams_1.sortParamKeys(methodObject, params);
+        try {
+            const result = await this.methods[method](...paramsAsArray);
+            this.respond(id, { result });
+        }
+        catch (e) {
+            this.respond(id, {
+                error: eth_rpc_errors_1.serializeError(e, {
+                    fallbackError,
+                }),
+            });
+        }
+    }
+    notify(requestObject) {
+        this.commandStream.write(Object.assign(Object.assign({}, requestObject), { jsonrpc: '2.0' }));
+    }
+    respond(id, responseObj) {
+        this.commandStream.write(Object.assign(Object.assign({}, responseObj), { id, jsonrpc: '2.0' }));
+    }
+    /**
+     * Attempts to evaluate a snap in SES.
+     * Generates the APIs for the snap. May throw on error.
+     *
+     * @param {string} snapName - The name of the snap.
+     * @param {Array<string>} approvedPermissions - The snap's approved permissions.
+     * Should always be a value returned from the permissions controller.
+     * @param {string} sourceCode - The source code of the snap, in IIFE format.
+     * @param {Array} endowments - An array of the names of the endowments.
+     */
+    startSnap(snapName, sourceCode, _endowments) {
+        console.log(`starting snap '${snapName}' in worker`);
+        if (this.snapPromiseErrorHandler) {
+            globalObject_1.rootRealmGlobal.removeEventListener('unhandledrejection', this.snapPromiseErrorHandler);
+        }
+        if (this.snapErrorHandler) {
+            globalObject_1.rootRealmGlobal.removeEventListener('error', this.snapErrorHandler);
+        }
+        this.snapErrorHandler = (error) => {
+            this.errorHandler(error.error, { snapName });
+        };
+        this.snapPromiseErrorHandler = (error) => {
+            this.errorHandler(error.reason, { snapName });
+        };
+        const wallet = this.createSnapProvider(snapName);
+        try {
+            const endowments = endowments_1.createEndowments(wallet, _endowments);
+            const compartment = new Compartment(Object.assign(Object.assign({}, endowments), { window: Object.assign({}, endowments), self: Object.assign({}, endowments) }));
+            compartment.evaluate(sourceCode);
+            globalObject_1.rootRealmGlobal.addEventListener('unhandledrejection', this.snapPromiseErrorHandler);
+            globalObject_1.rootRealmGlobal.addEventListener('error', this.snapErrorHandler);
+        }
+        catch (err) {
+            this.removeSnap(snapName);
+            throw new Error(`Error while running snap '${snapName}': ${err.message}`);
+        }
+    }
+    /**
+     * Sets up the given snap's RPC message handler, creates a hardened
+     * snap provider object (i.e. globalThis.wallet), and returns it.
+     */
+    createSnapProvider(snapName) {
+        const snapProvider = new providers_1.MetaMaskInpageProvider(this.rpcStream, {
+            shouldSendMetadata: false,
+        });
+        snapProvider.registerRpcMessageHandler = (func) => {
+            console.log('Worker: Registering RPC message handler', func);
+            if (this.snapRpcHandlers.has(snapName)) {
+                throw new Error('RPC handler already registered.');
+            }
+            this.snapRpcHandlers.set(snapName, func);
+        };
+        // TODO: harden throws an error. Why?
+        // return harden(snapProvider as SnapProvider);
+        return snapProvider;
+    }
+    /**
+     * Removes the snap with the given name. Specifically:
+     * - Deletes the snap's RPC handler, if any
+     */
+    removeSnap(snapName) {
+        this.snapRpcHandlers.delete(snapName);
+    }
+}
+exports.BaseSnapExecutor = BaseSnapExecutor;
+//# sourceMappingURL=BaseSnapExecutor.js.map
\ No newline at end of file
diff --git a/node_modules/@metamask/execution-environments/dist/dist/common/BaseSnapExecutor.js.map b/node_modules/@metamask/execution-environments/dist/dist/common/BaseSnapExecutor.js.map
new file mode 100644
index 0000000..84537b6
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/common/BaseSnapExecutor.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"BaseSnapExecutor.js","sourceRoot":"","sources":["../../src/common/BaseSnapExecutor.ts"],"names":[],"mappings":";;;;;;AAGA,mDAA6D;AAE7D,mDAAuE;AACvE,mEAAgD;AAMhD,kEAAkE;AAClE,6CAA6D;AAC7D,6CAA6C;AAC7C,6CAAgD;AAChD,iDAAiD;AAOjD,MAAM,aAAa,GAAG;IACpB,IAAI,EAAE,2BAAU,CAAC,GAAG,CAAC,QAAQ;IAC7B,OAAO,EAAE,6BAA6B;CACvC,CAAC;AAEF,MAAa,gBAAgB;IAa3B,YAAsB,aAAqB,EAAE,SAAiB;QAC5D,IAAI,CAAC,eAAe,GAAG,IAAI,GAAG,EAAE,CAAC;QACjC,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;QACnC,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC,MAAM,EAAE,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAChE,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAE3B,IAAI,CAAC,OAAO,GAAG,uBAAU,CACvB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,EACzB,CAAC,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE;YAC1B,MAAM,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YACjD,IAAI,CAAC,OAAO,EAAE;gBACZ,MAAM,IAAI,KAAK,CAAC,uCAAuC,MAAM,EAAE,CAAC,CAAC;aAClE;YACD,OAAO,OAAO,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;QAClC,CAAC,CACF,CAAC;IACJ,CAAC;IAEO,YAAY,CAAC,KAAY,EAAE,IAAI,GAAG,EAAE;QAC1C,MAAM,eAAe,GAAG,+BAAc,CAAC,KAAK,EAAE;YAC5C,aAAa;YACb,kBAAkB,EAAE,IAAI;SACzB,CAAC,CAAC;QACH,IAAI,CAAC,MAAM,CAAC;YACV,KAAK,kCACA,eAAe,KAClB,IAAI,kCACC,IAAI,KACP,KAAK,EAAE,eAAe,CAAC,KAAK,MAE/B;SACF,CAAC,CAAC;IACL,CAAC;IAEO,KAAK,CAAC,gBAAgB,CAAC,OAAuB;QACpD,IAAI,CAAC,gCAAgB,CAAC,OAAO,CAAC,EAAE;YAC9B,MAAM,IAAI,KAAK,CAAC,gDAAgD,CAAC,CAAC;SACnE;QAED,MAAM,EAAE,EAAE,EAAE,MAAM,EAAE,MAAM,EAAE,GAAG,OAAO,CAAC;QAEvC,IAAI,EAAE,KAAK,SAAS,EAAE;YACpB,MAAM,IAAI,KAAK,CAAC,6BAA6B,CAAC,CAAC;SAChD;QAED,IAAI,MAAM,KAAK,cAAc,EAAE;YAC7B,IAAI,CAAC,OAAO,CAAC,EAAE,EAAE;gBACf,MAAM,EAAE,sBAAiB;aAC1B,CAAC,CAAC;YACH,OAAO;SACR;QAED,MAAM,YAAY,GAAG,sBAAiB,CAAC,OAAO,CAAC,IAAI,CACjD,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,KAAK,MAAM,CACzB,CAAC;QAEF,IAAI,CAAC,YAAY,IAAI,CAAE,IAAI,CAAC,OAAe,CAAC,MAAM,CAAC,EAAE;YACnD,IAAI,CAAC,OAAO,CAAC,EAAE,EAAE;gBACf,KAAK,EAAE,0BAAS,CAAC,GAAG;qBACjB,cAAc,CAAC;oBACd,IAAI,EAAE;wBACJ,MAAM;qBACP;iBACF,CAAC;qBACD,SAAS,EAAE;aACf,CAAC,CAAC;YACH,OAAO;SACR;QAED,yCAAyC;QACzC,MAAM,aAAa,GAAG,0BAAa,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;QAE1D,IAAI;YACF,MAAM,MAAM,GAAG,MAAO,IAAI,CAAC,OAAe,CAAC,MAAM,CAAC,CAAC,GAAG,aAAa,CAAC,CAAC;YACrE,IAAI,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,MAAM,EAAE,CAAC,CAAC;SAC9B;QAAC,OAAO,CAAC,EAAE;YACV,IAAI,CAAC,OAAO,CAAC,EAAE,EAAE;gBACf,KAAK,EAAE,+BAAc,CAAC,CAAC,EAAE;oBACvB,aAAa;iBACd,CAAC;aACH,CAAC,CAAC;SACJ;IACH,CAAC;IAES,MAAM,CAAC,aAAsC;QACrD,IAAI,CAAC,aAAa,CAAC,KAAK,iCACnB,aAAa,KAChB,OAAO,EAAE,KAAK,IACd,CAAC;IACL,CAAC;IAES,OAAO,CAAC,EAAa,EAAE,WAAoC;QACnE,IAAI,CAAC,aAAa,CAAC,KAAK,iCACnB,WAAW,KACd,EAAE,EACF,OAAO,EAAE,KAAK,IACd,CAAC;IACL,CAAC;IAED;;;;;;;;;OASG;IACO,SAAS,CACjB,QAAgB,EAChB,UAAkB,EAClB,WAAwB;QAExB,OAAO,CAAC,GAAG,CAAC,kBAAkB,QAAQ,aAAa,CAAC,CAAC;QACrD,IAAI,IAAI,CAAC,uBAAuB,EAAE;YAChC,8BAAe,CAAC,mBAAmB,CACjC,oBAAoB,EACpB,IAAI,CAAC,uBAAuB,CAC7B,CAAC;SACH;QAED,IAAI,IAAI,CAAC,gBAAgB,EAAE;YACzB,8BAAe,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;SACrE;QAED,IAAI,CAAC,gBAAgB,GAAG,CAAC,KAAiB,EAAE,EAAE;YAC5C,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,KAAK,EAAE,EAAE,QAAQ,EAAE,CAAC,CAAC;QAC/C,CAAC,CAAC;QAEF,IAAI,CAAC,uBAAuB,GAAG,CAAC,KAA4B,EAAE,EAAE;YAC9D,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,MAAM,EAAE,EAAE,QAAQ,EAAE,CAAC,CAAC;QAChD,CAAC,CAAC;QAEF,MAAM,MAAM,GAAG,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,CAAC;QAEjD,IAAI;YACF,MAAM,UAAU,GAAG,6BAAgB,CAAC,MAAM,EAAE,WAAW,CAAC,CAAC;YAEzD,MAAM,WAAW,GAAG,IAAI,WAAW,iCAC9B,UAAU,KACb,MAAM,oBAAO,UAAU,GACvB,IAAI,oBAAO,UAAU,KACrB,CAAC;YACH,WAAW,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;YAEjC,8BAAe,CAAC,gBAAgB,CAC9B,oBAAoB,EACpB,IAAI,CAAC,uBAAuB,CAC7B,CAAC;YACF,8BAAe,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;SAClE;QAAC,OAAO,GAAG,EAAE;YACZ,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;YAC1B,MAAM,IAAI,KAAK,CACb,6BAA6B,QAAQ,MAAO,GAAa,CAAC,OAAO,EAAE,CACpE,CAAC;SACH;IACH,CAAC;IAED;;;OAGG;IACK,kBAAkB,CAAC,QAAgB;QACzC,MAAM,YAAY,GAAG,IAAI,kCAAsB,CAAC,IAAI,CAAC,SAAS,EAAE;YAC9D,kBAAkB,EAAE,KAAK;SAC1B,CAAqC,CAAC;QAEvC,YAAY,CAAC,yBAAyB,GAAG,CAAC,IAAoB,EAAE,EAAE;YAChE,OAAO,CAAC,GAAG,CAAC,yCAAyC,EAAE,IAAI,CAAC,CAAC;YAC7D,IAAI,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE;gBACtC,MAAM,IAAI,KAAK,CAAC,iCAAiC,CAAC,CAAC;aACpD;YACD,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;QAC3C,CAAC,CAAC;QAEF,qCAAqC;QACrC,+CAA+C;QAC/C,OAAO,YAA4B,CAAC;IACtC,CAAC;IAED;;;OAGG;IACK,UAAU,CAAC,QAAgB;QACjC,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;IACxC,CAAC;CACF;AAzMD,4CAyMC"}
\ No newline at end of file
diff --git a/node_modules/@metamask/execution-environments/dist/dist/common/endowments/buffer.d.ts b/node_modules/@metamask/execution-environments/dist/dist/common/endowments/buffer.d.ts
new file mode 100644
index 0000000..23da28d
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/common/endowments/buffer.d.ts
@@ -0,0 +1,8 @@
+/// <reference types="node" />
+declare const endowmentModule: {
+    names: readonly ["Buffer"];
+    factory: () => {
+        readonly Buffer: typeof Buffer;
+    };
+};
+export default endowmentModule;
diff --git a/node_modules/@metamask/execution-environments/dist/dist/common/endowments/buffer.js b/node_modules/@metamask/execution-environments/dist/dist/common/endowments/buffer.js
new file mode 100644
index 0000000..be5cd1f
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/common/endowments/buffer.js
@@ -0,0 +1,18 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+/**
+ * Returns a `Buffer` endowment. This mainly exists so that our build system
+ * will reliably inline a `Buffer` implementation when targeting browser
+ * environments.
+ *
+ * @returns An object with a cross-platform `Buffer` property.
+ */
+const createBuffer = () => {
+    return { Buffer };
+};
+const endowmentModule = {
+    names: ['Buffer'],
+    factory: createBuffer,
+};
+exports.default = endowmentModule;
+//# sourceMappingURL=buffer.js.map
\ No newline at end of file
diff --git a/node_modules/@metamask/execution-environments/dist/dist/common/endowments/buffer.js.map b/node_modules/@metamask/execution-environments/dist/dist/common/endowments/buffer.js.map
new file mode 100644
index 0000000..d76927d
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/common/endowments/buffer.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"buffer.js","sourceRoot":"","sources":["../../../src/common/endowments/buffer.ts"],"names":[],"mappings":";;AAAA;;;;;;GAMG;AACH,MAAM,YAAY,GAAG,GAAG,EAAE;IACxB,OAAO,EAAE,MAAM,EAAW,CAAC;AAC7B,CAAC,CAAC;AAEF,MAAM,eAAe,GAAG;IACtB,KAAK,EAAE,CAAC,QAAQ,CAAU;IAC1B,OAAO,EAAE,YAAY;CACtB,CAAC;AACF,kBAAe,eAAe,CAAC"}
\ No newline at end of file
diff --git a/node_modules/@metamask/execution-environments/dist/dist/common/endowments/index.d.ts b/node_modules/@metamask/execution-environments/dist/dist/common/endowments/index.d.ts
new file mode 100644
index 0000000..d94595a
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/common/endowments/index.d.ts
@@ -0,0 +1,13 @@
+import { SnapProvider } from '@metamask/snap-types';
+/**
+ * Gets the endowments for a particular Snap. Some endowments, like `setTimeout`
+ * and `clearTimeout`, must be attenuated so that they can only affect behavior
+ * within the Snap's own realm. Therefore, we use factory functions to create
+ * such attenuated / modified endowments. Otherwise, the value that's on the
+ * root realm global will be used.
+ *
+ * @param wallet - The Snap's provider object.
+ * @param endowments - The list of endowments to provide to the snap.
+ * @returns An object containing the Snap's endowments.
+ */
+export declare function createEndowments(wallet: SnapProvider, endowments?: string[]): Record<string, unknown>;
diff --git a/node_modules/@metamask/execution-environments/dist/dist/common/endowments/index.js b/node_modules/@metamask/execution-environments/dist/dist/common/endowments/index.js
new file mode 100644
index 0000000..9165318
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/common/endowments/index.js
@@ -0,0 +1,69 @@
+"use strict";
+var __importDefault = (this && this.__importDefault) || function (mod) {
+    return (mod && mod.__esModule) ? mod : { "default": mod };
+};
+Object.defineProperty(exports, "__esModule", { value: true });
+exports.createEndowments = void 0;
+const globalObject_1 = require("../globalObject");
+const buffer_1 = __importDefault(require("./buffer"));
+const timeout_1 = __importDefault(require("./timeout"));
+const wasm_1 = __importDefault(require("./wasm"));
+/**
+ * A map of endowment names to their factory functions. Some endowments share
+ * the same factory function, but we only call each factory once for each snap.
+ * See {@link createEndowments} for details.
+ */
+const endowmentFactories = [buffer_1.default, timeout_1.default, wasm_1.default].reduce((factories, builder) => {
+    builder.names.forEach((name) => {
+        factories.set(name, builder.factory);
+    });
+    return factories;
+}, new Map());
+/**
+ * Gets the endowments for a particular Snap. Some endowments, like `setTimeout`
+ * and `clearTimeout`, must be attenuated so that they can only affect behavior
+ * within the Snap's own realm. Therefore, we use factory functions to create
+ * such attenuated / modified endowments. Otherwise, the value that's on the
+ * root realm global will be used.
+ *
+ * @param wallet - The Snap's provider object.
+ * @param endowments - The list of endowments to provide to the snap.
+ * @returns An object containing the Snap's endowments.
+ */
+function createEndowments(wallet, endowments = []) {
+    const attenuatedEndowments = {};
+    // TODO: All endowments should be hardened to prevent covert communication
+    // channels. Hardening the returned objects breaks tests elsewhere in the
+    // monorepo, so further research is needed.
+    return endowments.reduce((allEndowments, endowmentName) => {
+        // First, check if the endowment has a factory, and default to that.
+        if (endowmentFactories.has(endowmentName)) {
+            if (!Object.hasOwnProperty.call(attenuatedEndowments, endowmentName)) {
+                // Call the endowment factory for the current endowment. If the factory
+                // creates multiple endowments, they will all be assigned to the
+                // `attenuatedEndowments` object, but will only be passed on to the snap
+                // if explicitly listed among its endowment.
+                // This may not have an actual use case, but, safety first.
+                Object.assign(attenuatedEndowments, 
+                // We just confirmed that endowmentFactories has the specified key.
+                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
+                endowmentFactories.get(endowmentName)());
+            }
+            allEndowments[endowmentName] = attenuatedEndowments[endowmentName];
+        }
+        else if (endowmentName in globalObject_1.rootRealmGlobal) {
+            // If the endowment doesn't have a factory, just use whatever is on the
+            // global object.
+            const globalValue = globalObject_1.rootRealmGlobal[endowmentName];
+            allEndowments[endowmentName] = globalValue;
+        }
+        else {
+            // If we get to this point, we've been passed an endowment that doesn't
+            // exist in our current environment.
+            throw new Error(`Unknown endowment: "${endowmentName}".`);
+        }
+        return allEndowments;
+    }, { wallet });
+}
+exports.createEndowments = createEndowments;
+//# sourceMappingURL=index.js.map
\ No newline at end of file
diff --git a/node_modules/@metamask/execution-environments/dist/dist/common/endowments/index.js.map b/node_modules/@metamask/execution-environments/dist/dist/common/endowments/index.js.map
new file mode 100644
index 0000000..726dbd3
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/common/endowments/index.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../src/common/endowments/index.ts"],"names":[],"mappings":";;;;;;AACA,kDAAkD;AAClD,sDAA8B;AAC9B,wDAAgC;AAChC,kDAA0B;AAE1B;;;;GAIG;AACH,MAAM,kBAAkB,GAAG,CAAC,gBAAM,EAAE,iBAAO,EAAE,cAAI,CAAC,CAAC,MAAM,CACvD,CAAC,SAAS,EAAE,OAAO,EAAE,EAAE;IACrB,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;QAC7B,SAAS,CAAC,GAAG,CAAC,IAAI,EAAE,OAAO,CAAC,OAAO,CAAC,CAAC;IACvC,CAAC,CAAC,CAAC;IACH,OAAO,SAAS,CAAC;AACnB,CAAC,EACD,IAAI,GAAG,EAAyB,CACjC,CAAC;AAEF;;;;;;;;;;GAUG;AACH,SAAgB,gBAAgB,CAC9B,MAAoB,EACpB,aAAuB,EAAE;IAEzB,MAAM,oBAAoB,GAA4B,EAAE,CAAC;IAEzD,0EAA0E;IAC1E,yEAAyE;IACzE,2CAA2C;IAC3C,OAAO,UAAU,CAAC,MAAM,CACtB,CAAC,aAAa,EAAE,aAAa,EAAE,EAAE;QAC/B,oEAAoE;QACpE,IAAI,kBAAkB,CAAC,GAAG,CAAC,aAAa,CAAC,EAAE;YACzC,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,oBAAoB,EAAE,aAAa,CAAC,EAAE;gBACpE,uEAAuE;gBACvE,gEAAgE;gBAChE,wEAAwE;gBACxE,4CAA4C;gBAC5C,2DAA2D;gBAC3D,MAAM,CAAC,MAAM,CACX,oBAAoB;gBACpB,mEAAmE;gBACnE,oEAAoE;gBACpE,kBAAkB,CAAC,GAAG,CAAC,aAAa,CAAE,EAAE,CACzC,CAAC;aACH;YAED,aAAa,CAAC,aAAa,CAAC,GAAG,oBAAoB,CAAC,aAAa,CAAC,CAAC;SACpE;aAAM,IAAI,aAAa,IAAI,8BAAe,EAAE;YAC3C,uEAAuE;YACvE,iBAAiB;YACjB,MAAM,WAAW,GAAI,8BAA2C,CAC9D,aAAa,CACd,CAAC;YAEF,aAAa,CAAC,aAAa,CAAC,GAAG,WAAW,CAAC;SAC5C;aAAM;YACL,uEAAuE;YACvE,oCAAoC;YACpC,MAAM,IAAI,KAAK,CAAC,uBAAuB,aAAa,IAAI,CAAC,CAAC;SAC3D;QACD,OAAO,aAAa,CAAC;IACvB,CAAC,EACD,EAAE,MAAM,EAA6B,CACtC,CAAC;AACJ,CAAC;AA7CD,4CA6CC"}
\ No newline at end of file
diff --git a/node_modules/@metamask/execution-environments/dist/dist/common/endowments/timeout.d.ts b/node_modules/@metamask/execution-environments/dist/dist/common/endowments/timeout.d.ts
new file mode 100644
index 0000000..62f595b
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/common/endowments/timeout.d.ts
@@ -0,0 +1,8 @@
+declare const endowmentModule: {
+    names: readonly ["setTimeout", "clearTimeout"];
+    factory: () => {
+        readonly setTimeout: (handler: TimerHandler, timeout?: number | undefined) => number;
+        readonly clearTimeout: (handle: number) => void;
+    };
+};
+export default endowmentModule;
diff --git a/node_modules/@metamask/execution-environments/dist/dist/common/endowments/timeout.js b/node_modules/@metamask/execution-environments/dist/dist/common/endowments/timeout.js
new file mode 100644
index 0000000..5c47753
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/common/endowments/timeout.js
@@ -0,0 +1,40 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+/**
+ * Creates a pair of `setTimeout` and `clearTimeout` functions attenuated such
+ * that:
+ * - `setTimeout` throws if its "handler" parameter is not a function.
+ * - `clearTimeout` only clears timeouts created by its sibling `setTimeout`,
+ *   or else no-ops.
+ *
+ * @returns An object with the attenuated `setTimeout` and `clearTimeout`
+ * functions.
+ */
+const createTimeout = () => {
+    const registeredTimeouts = new Set();
+    const _setTimeout = (handler, timeout) => {
+        if (typeof handler !== 'function') {
+            throw new Error(`The timeout handler must be a function. Received: ${typeof handler}`);
+        }
+        const handleWrapper = { handle: NaN };
+        handleWrapper.handle = setTimeout(() => {
+            registeredTimeouts.delete(handleWrapper.handle);
+            handler();
+        }, timeout);
+        registeredTimeouts.add(handleWrapper.handle);
+        return handleWrapper.handle;
+    };
+    const _clearTimeout = (handle) => {
+        if (registeredTimeouts.has(handle)) {
+            clearTimeout(handle);
+            registeredTimeouts.delete(handle);
+        }
+    };
+    return { setTimeout: _setTimeout, clearTimeout: _clearTimeout };
+};
+const endowmentModule = {
+    names: ['setTimeout', 'clearTimeout'],
+    factory: createTimeout,
+};
+exports.default = endowmentModule;
+//# sourceMappingURL=timeout.js.map
\ No newline at end of file
diff --git a/node_modules/@metamask/execution-environments/dist/dist/common/endowments/timeout.js.map b/node_modules/@metamask/execution-environments/dist/dist/common/endowments/timeout.js.map
new file mode 100644
index 0000000..9ea5c97
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/common/endowments/timeout.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"timeout.js","sourceRoot":"","sources":["../../../src/common/endowments/timeout.ts"],"names":[],"mappings":";;AAAA;;;;;;;;;GASG;AACH,MAAM,aAAa,GAAG,GAAG,EAAE;IACzB,MAAM,kBAAkB,GAAG,IAAI,GAAG,EAAU,CAAC;IAE7C,MAAM,WAAW,GAAG,CAAC,OAAqB,EAAE,OAAgB,EAAU,EAAE;QACtE,IAAI,OAAO,OAAO,KAAK,UAAU,EAAE;YACjC,MAAM,IAAI,KAAK,CACb,qDAAqD,OAAO,OAAO,EAAE,CACtE,CAAC;SACH;QAED,MAAM,aAAa,GAAuB,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;QAC1D,aAAa,CAAC,MAAM,GAAG,UAAU,CAAC,GAAG,EAAE;YACrC,kBAAkB,CAAC,MAAM,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;YAChD,OAAO,EAAE,CAAC;QACZ,CAAC,EAAE,OAAO,CAAQ,CAAC;QAEnB,kBAAkB,CAAC,GAAG,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QAC7C,OAAO,aAAa,CAAC,MAAM,CAAC;IAC9B,CAAC,CAAC;IAEF,MAAM,aAAa,GAAG,CAAC,MAAc,EAAQ,EAAE;QAC7C,IAAI,kBAAkB,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE;YAClC,YAAY,CAAC,MAAM,CAAC,CAAC;YACrB,kBAAkB,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;SACnC;IACH,CAAC,CAAC;IAEF,OAAO,EAAE,UAAU,EAAE,WAAW,EAAE,YAAY,EAAE,aAAa,EAAW,CAAC;AAC3E,CAAC,CAAC;AAEF,MAAM,eAAe,GAAG;IACtB,KAAK,EAAE,CAAC,YAAY,EAAE,cAAc,CAAU;IAC9C,OAAO,EAAE,aAAa;CACvB,CAAC;AACF,kBAAe,eAAe,CAAC"}
\ No newline at end of file
diff --git a/node_modules/@metamask/execution-environments/dist/dist/common/endowments/wasm.d.ts b/node_modules/@metamask/execution-environments/dist/dist/common/endowments/wasm.d.ts
new file mode 100644
index 0000000..5c8ec5b
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/common/endowments/wasm.d.ts
@@ -0,0 +1,47 @@
+declare const endowmentModule: {
+    names: readonly ["WebAssembly"];
+    factory: () => {
+        readonly WebAssembly: {
+            compile(bytes: BufferSource): Promise<WebAssembly.Module>;
+            instantiate(bytes: BufferSource, importObject?: WebAssembly.Imports | undefined): Promise<WebAssembly.WebAssemblyInstantiatedSource>;
+            instantiate(moduleObject: WebAssembly.Module, importObject?: WebAssembly.Imports | undefined): Promise<WebAssembly.Instance>;
+            validate(bytes: BufferSource): boolean;
+            CompileError: {
+                new (): WebAssembly.CompileError;
+                prototype: WebAssembly.CompileError;
+            };
+            Global: {
+                new (descriptor: WebAssembly.GlobalDescriptor, v?: any): WebAssembly.Global;
+                prototype: WebAssembly.Global;
+            };
+            Instance: {
+                new (module: WebAssembly.Module, importObject?: WebAssembly.Imports | undefined): WebAssembly.Instance;
+                prototype: WebAssembly.Instance;
+            };
+            LinkError: {
+                new (): WebAssembly.LinkError;
+                prototype: WebAssembly.LinkError;
+            };
+            Memory: {
+                new (descriptor: WebAssembly.MemoryDescriptor): WebAssembly.Memory;
+                prototype: WebAssembly.Memory;
+            };
+            Module: {
+                new (bytes: BufferSource): WebAssembly.Module;
+                prototype: WebAssembly.Module;
+                customSections(moduleObject: WebAssembly.Module, sectionName: string): ArrayBuffer[];
+                exports(moduleObject: WebAssembly.Module): WebAssembly.ModuleExportDescriptor[];
+                imports(moduleObject: WebAssembly.Module): WebAssembly.ModuleImportDescriptor[];
+            };
+            RuntimeError: {
+                new (): WebAssembly.RuntimeError;
+                prototype: WebAssembly.RuntimeError;
+            };
+            Table: {
+                new (descriptor: WebAssembly.TableDescriptor): WebAssembly.Table;
+                prototype: WebAssembly.Table;
+            };
+        };
+    };
+};
+export default endowmentModule;
diff --git a/node_modules/@metamask/execution-environments/dist/dist/common/endowments/wasm.js b/node_modules/@metamask/execution-environments/dist/dist/common/endowments/wasm.js
new file mode 100644
index 0000000..0c9f224
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/common/endowments/wasm.js
@@ -0,0 +1,31 @@
+"use strict";
+var __rest = (this && this.__rest) || function (s, e) {
+    var t = {};
+    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
+        t[p] = s[p];
+    if (s != null && typeof Object.getOwnPropertySymbols === "function")
+        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
+            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
+                t[p[i]] = s[p[i]];
+        }
+    return t;
+};
+Object.defineProperty(exports, "__esModule", { value: true });
+/**
+ * Builds a cross-platform `WebAssembly` only consisting of functions present
+ * both in the browser and Node.js.
+ *
+ * @returns An object with a `WebAssembly` property without `compileStreaming`
+ * and `instantiateStreaming`.
+ */
+const createWasm = () => {
+    // eslint-disable-next-line @typescript-eslint/no-unused-vars
+    const { compileStreaming, instantiateStreaming } = WebAssembly, wasm = __rest(WebAssembly, ["compileStreaming", "instantiateStreaming"]);
+    return { WebAssembly: wasm };
+};
+const endowmentModule = {
+    names: ['WebAssembly'],
+    factory: createWasm,
+};
+exports.default = endowmentModule;
+//# sourceMappingURL=wasm.js.map
\ No newline at end of file
diff --git a/node_modules/@metamask/execution-environments/dist/dist/common/endowments/wasm.js.map b/node_modules/@metamask/execution-environments/dist/dist/common/endowments/wasm.js.map
new file mode 100644
index 0000000..812c100
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/common/endowments/wasm.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"wasm.js","sourceRoot":"","sources":["../../../src/common/endowments/wasm.ts"],"names":[],"mappings":";;;;;;;;;;;;;AAAA;;;;;;GAMG;AACH,MAAM,UAAU,GAAG,GAAG,EAAE;IACtB,6DAA6D;IAC7D,MAAM,EAAE,gBAAgB,EAAE,oBAAoB,KAAc,WAAW,EAApB,IAAI,UAAK,WAAW,EAAjE,4CAAmD,CAAc,CAAC;IACxE,OAAO,EAAE,WAAW,EAAE,IAAI,EAAW,CAAC;AACxC,CAAC,CAAC;AAEF,MAAM,eAAe,GAAG;IACtB,KAAK,EAAE,CAAC,aAAa,CAAU;IAC/B,OAAO,EAAE,UAAU;CACpB,CAAC;AACF,kBAAe,eAAe,CAAC"}
\ No newline at end of file
diff --git a/node_modules/@metamask/execution-environments/dist/dist/common/enums.d.ts b/node_modules/@metamask/execution-environments/dist/dist/common/enums.d.ts
new file mode 100644
index 0000000..d904595
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/common/enums.d.ts
@@ -0,0 +1,4 @@
+export declare enum SNAP_STREAM_NAMES {
+    JSON_RPC = "jsonRpc",
+    COMMAND = "command"
+}
diff --git a/node_modules/@metamask/execution-environments/dist/dist/common/enums.js b/node_modules/@metamask/execution-environments/dist/dist/common/enums.js
new file mode 100644
index 0000000..2152397
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/common/enums.js
@@ -0,0 +1,9 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+exports.SNAP_STREAM_NAMES = void 0;
+var SNAP_STREAM_NAMES;
+(function (SNAP_STREAM_NAMES) {
+    SNAP_STREAM_NAMES["JSON_RPC"] = "jsonRpc";
+    SNAP_STREAM_NAMES["COMMAND"] = "command";
+})(SNAP_STREAM_NAMES = exports.SNAP_STREAM_NAMES || (exports.SNAP_STREAM_NAMES = {}));
+//# sourceMappingURL=enums.js.map
\ No newline at end of file
diff --git a/node_modules/@metamask/execution-environments/dist/dist/common/enums.js.map b/node_modules/@metamask/execution-environments/dist/dist/common/enums.js.map
new file mode 100644
index 0000000..9f5a38a
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/common/enums.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"enums.js","sourceRoot":"","sources":["../../src/common/enums.ts"],"names":[],"mappings":";;;AAAA,IAAY,iBAGX;AAHD,WAAY,iBAAiB;IAC3B,yCAAoB,CAAA;IACpB,wCAAmB,CAAA;AACrB,CAAC,EAHW,iBAAiB,GAAjB,yBAAiB,KAAjB,yBAAiB,QAG5B"}
\ No newline at end of file
diff --git a/node_modules/@metamask/execution-environments/dist/dist/common/globalObject.d.ts b/node_modules/@metamask/execution-environments/dist/dist/common/globalObject.d.ts
new file mode 100644
index 0000000..a535109
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/common/globalObject.d.ts
@@ -0,0 +1,9 @@
+/**
+ * A platform-agnostic alias for the root realm global object.
+ */
+declare const rootRealmGlobal: typeof globalThis;
+/**
+ * The string literal corresponding to the name of the root realm global object.
+ */
+declare const rootRealmGlobalName: string;
+export { rootRealmGlobal, rootRealmGlobalName };
diff --git a/node_modules/@metamask/execution-environments/dist/dist/common/globalObject.js b/node_modules/@metamask/execution-environments/dist/dist/common/globalObject.js
new file mode 100644
index 0000000..68e931a
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/common/globalObject.js
@@ -0,0 +1,48 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+exports.rootRealmGlobalName = exports.rootRealmGlobal = void 0;
+var GlobalObjectNames;
+(function (GlobalObjectNames) {
+    // The globalThis entry is incorrectly identified as shadowing the global
+    // globalThis.
+    // eslint-disable-next-line @typescript-eslint/no-shadow
+    GlobalObjectNames["globalThis"] = "globalThis";
+    GlobalObjectNames["global"] = "global";
+    GlobalObjectNames["self"] = "self";
+    GlobalObjectNames["window"] = "window";
+})(GlobalObjectNames || (GlobalObjectNames = {}));
+let _rootRealmGlobal;
+let _rootRealmGlobalName;
+/* istanbul ignore next */
+/* eslint-disable no-negated-condition */
+if (typeof globalThis !== 'undefined') {
+    _rootRealmGlobal = globalThis;
+    _rootRealmGlobalName = GlobalObjectNames.globalThis;
+}
+else if (typeof self !== 'undefined') {
+    _rootRealmGlobal = self;
+    _rootRealmGlobalName = GlobalObjectNames.self;
+}
+else if (typeof window !== 'undefined') {
+    _rootRealmGlobal = window;
+    _rootRealmGlobalName = GlobalObjectNames.window;
+}
+else if (typeof global !== 'undefined') {
+    _rootRealmGlobal = global;
+    _rootRealmGlobalName = GlobalObjectNames.global;
+}
+else {
+    throw new Error('Unknown realm type; failed to identify global object.');
+}
+/* eslint-enable no-negated-condition */
+/**
+ * A platform-agnostic alias for the root realm global object.
+ */
+const rootRealmGlobal = _rootRealmGlobal;
+exports.rootRealmGlobal = rootRealmGlobal;
+/**
+ * The string literal corresponding to the name of the root realm global object.
+ */
+const rootRealmGlobalName = _rootRealmGlobalName;
+exports.rootRealmGlobalName = rootRealmGlobalName;
+//# sourceMappingURL=globalObject.js.map
\ No newline at end of file
diff --git a/node_modules/@metamask/execution-environments/dist/dist/common/globalObject.js.map b/node_modules/@metamask/execution-environments/dist/dist/common/globalObject.js.map
new file mode 100644
index 0000000..a42853b
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/common/globalObject.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"globalObject.js","sourceRoot":"","sources":["../../src/common/globalObject.ts"],"names":[],"mappings":";;;AAAA,IAAK,iBAQJ;AARD,WAAK,iBAAiB;IACpB,yEAAyE;IACzE,cAAc;IACd,wDAAwD;IACxD,8CAAyB,CAAA;IACzB,sCAAiB,CAAA;IACjB,kCAAa,CAAA;IACb,sCAAiB,CAAA;AACnB,CAAC,EARI,iBAAiB,KAAjB,iBAAiB,QAQrB;AAED,IAAI,gBAAmC,CAAC;AACxC,IAAI,oBAA4B,CAAC;AAEjC,0BAA0B;AAC1B,yCAAyC;AACzC,IAAI,OAAO,UAAU,KAAK,WAAW,EAAE;IACrC,gBAAgB,GAAG,UAAU,CAAC;IAC9B,oBAAoB,GAAG,iBAAiB,CAAC,UAAU,CAAC;CACrD;KAAM,IAAI,OAAO,IAAI,KAAK,WAAW,EAAE;IACtC,gBAAgB,GAAG,IAAI,CAAC;IACxB,oBAAoB,GAAG,iBAAiB,CAAC,IAAI,CAAC;CAC/C;KAAM,IAAI,OAAO,MAAM,KAAK,WAAW,EAAE;IACxC,gBAAgB,GAAG,MAAM,CAAC;IAC1B,oBAAoB,GAAG,iBAAiB,CAAC,MAAM,CAAC;CACjD;KAAM,IAAI,OAAO,MAAM,KAAK,WAAW,EAAE;IACxC,gBAAgB,GAAG,MAAM,CAAC;IAC1B,oBAAoB,GAAG,iBAAiB,CAAC,MAAM,CAAC;CACjD;KAAM;IACL,MAAM,IAAI,KAAK,CAAC,uDAAuD,CAAC,CAAC;CAC1E;AACD,wCAAwC;AAExC;;GAEG;AACH,MAAM,eAAe,GAAG,gBAAgB,CAAC;AAOhC,0CAAe;AALxB;;GAEG;AACH,MAAM,mBAAmB,GAAG,oBAAoB,CAAC;AAEvB,kDAAmB"}
\ No newline at end of file
diff --git a/node_modules/@metamask/execution-environments/dist/dist/common/lockdown/lockdown-more.d.ts b/node_modules/@metamask/execution-environments/dist/dist/common/lockdown/lockdown-more.d.ts
new file mode 100644
index 0000000..1781f45
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/common/lockdown/lockdown-more.d.ts
@@ -0,0 +1,2 @@
+/// <reference types="ses" />
+export declare function executeLockdownMore(): void;
diff --git a/node_modules/@metamask/execution-environments/dist/dist/common/lockdown/lockdown-more.js b/node_modules/@metamask/execution-environments/dist/dist/common/lockdown/lockdown-more.js
new file mode 100644
index 0000000..7deaa38
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/common/lockdown/lockdown-more.js
@@ -0,0 +1,86 @@
+"use strict";
+// eslint-disable-next-line @typescript-eslint/triple-slash-reference, spaced-comment
+/// <reference path="../../../../../node_modules/ses/index.d.ts" />
+Object.defineProperty(exports, "__esModule", { value: true });
+exports.executeLockdownMore = void 0;
+function executeLockdownMore() {
+    // Make all "object" and "function" own properties of globalThis
+    // non-configurable and non-writable, when possible.
+    // We call a property that is non-configurable and non-writable,
+    // "non-modifiable".
+    try {
+        /**
+         * `lockdown` only hardens the properties enumerated by the
+         * universalPropertyNames constant specified in 'ses/src/whitelist'. This
+         * function makes all function and object properties on the start compartment
+         * global non-configurable and non-writable, unless they are already
+         * non-configurable.
+         *
+         * It is critical that this function runs at the right time during
+         * initialization, which should always be immediately after `lockdown` has been
+         * called. At the time of writing, the modifications this function makes to the
+         * runtime environment appear to be non-breaking, but that could change with
+         * the addition of dependencies, or the order of our scripts in our HTML files.
+         * Exercise caution.
+         *
+         * See inline comments for implementation details.
+         *
+         * We write this function in IIFE format to avoid polluting global scope.
+         */
+        const namedIntrinsics = Reflect.ownKeys(new Compartment().globalThis);
+        // These named intrinsics are not automatically hardened by `lockdown`
+        const shouldHardenManually = new Set(['eval', 'Function']);
+        const globalProperties = new Set([
+            // universalPropertyNames is a constant added by lockdown to global scope
+            // at the time of writing, it is initialized in 'ses/src/whitelist'.
+            // These properties tend to be non-enumerable.
+            ...namedIntrinsics,
+            // TODO: Also include the named platform globals
+            // This grabs every enumerable property on globalThis.
+            // ...Object.keys(globalThis),
+        ]);
+        globalProperties.forEach((propertyName) => {
+            const descriptor = Reflect.getOwnPropertyDescriptor(globalThis, propertyName);
+            if (descriptor) {
+                if (descriptor.configurable) {
+                    // If the property on globalThis is configurable, make it
+                    // non-configurable. If it has no accessor properties, also make it
+                    // non-writable.
+                    if (hasAccessor(descriptor)) {
+                        Object.defineProperty(globalThis, propertyName, {
+                            configurable: false,
+                        });
+                    }
+                    else {
+                        Object.defineProperty(globalThis, propertyName, {
+                            configurable: false,
+                            writable: false,
+                        });
+                    }
+                }
+                if (shouldHardenManually.has(propertyName)) {
+                    harden(globalThis[propertyName]);
+                }
+            }
+        });
+    }
+    catch (error) {
+        console.error('Protecting intrinsics failed:', error);
+        throw error;
+    }
+}
+exports.executeLockdownMore = executeLockdownMore;
+/**
+ * Checks whether the given propertyName descriptor has any accessors, i.e. the
+ * properties `get` or `set`.
+ *
+ * We want to make globals non-writable, and we can't set the `writable`
+ * property and accessor properties at the same time.
+ *
+ * @param {Object} descriptor - The propertyName descriptor to check.
+ * @returns {boolean} Whether the propertyName descriptor has any accessors.
+ */
+function hasAccessor(descriptor) {
+    return 'set' in descriptor || 'get' in descriptor;
+}
+//# sourceMappingURL=lockdown-more.js.map
\ No newline at end of file
diff --git a/node_modules/@metamask/execution-environments/dist/dist/common/lockdown/lockdown-more.js.map b/node_modules/@metamask/execution-environments/dist/dist/common/lockdown/lockdown-more.js.map
new file mode 100644
index 0000000..0e6f046
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/common/lockdown/lockdown-more.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"lockdown-more.js","sourceRoot":"","sources":["../../../src/common/lockdown/lockdown-more.ts"],"names":[],"mappings":";AAAA,qFAAqF;AACrF,mEAAmE;;;AAEnE,SAAgB,mBAAmB;IACjC,gEAAgE;IAChE,oDAAoD;IACpD,gEAAgE;IAChE,oBAAoB;IACpB,IAAI;QACF;;;;;;;;;;;;;;;;;WAiBG;QACH,MAAM,eAAe,GAAG,OAAO,CAAC,OAAO,CAAC,IAAI,WAAW,EAAE,CAAC,UAAU,CAAC,CAAC;QAEtE,sEAAsE;QACtE,MAAM,oBAAoB,GAAG,IAAI,GAAG,CAAkB,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC,CAAC;QAE5E,MAAM,gBAAgB,GAAG,IAAI,GAAG,CAAC;YAC/B,yEAAyE;YACzE,oEAAoE;YACpE,8CAA8C;YAC9C,GAAG,eAAe;YAElB,gDAAgD;YAChD,sDAAsD;YACtD,8BAA8B;SAC/B,CAAC,CAAC;QAEH,gBAAgB,CAAC,OAAO,CAAC,CAAC,YAAY,EAAE,EAAE;YACxC,MAAM,UAAU,GAAG,OAAO,CAAC,wBAAwB,CACjD,UAAU,EACV,YAAY,CACb,CAAC;YAEF,IAAI,UAAU,EAAE;gBACd,IAAI,UAAU,CAAC,YAAY,EAAE;oBAC3B,yDAAyD;oBACzD,mEAAmE;oBACnE,gBAAgB;oBAChB,IAAI,WAAW,CAAC,UAAU,CAAC,EAAE;wBAC3B,MAAM,CAAC,cAAc,CAAC,UAAU,EAAE,YAAY,EAAE;4BAC9C,YAAY,EAAE,KAAK;yBACpB,CAAC,CAAC;qBACJ;yBAAM;wBACL,MAAM,CAAC,cAAc,CAAC,UAAU,EAAE,YAAY,EAAE;4BAC9C,YAAY,EAAE,KAAK;4BACnB,QAAQ,EAAE,KAAK;yBAChB,CAAC,CAAC;qBACJ;iBACF;gBAED,IAAI,oBAAoB,CAAC,GAAG,CAAC,YAAY,CAAC,EAAE;oBAC1C,MAAM,CAAE,UAAkB,CAAC,YAAY,CAAC,CAAC,CAAC;iBAC3C;aACF;QACH,CAAC,CAAC,CAAC;KACJ;IAAC,OAAO,KAAK,EAAE;QACd,OAAO,CAAC,KAAK,CAAC,+BAA+B,EAAE,KAAK,CAAC,CAAC;QACtD,MAAM,KAAK,CAAC;KACb;AACH,CAAC;AAxED,kDAwEC;AAED;;;;;;;;;GASG;AACH,SAAS,WAAW,CAAC,UAAe;IAClC,OAAO,KAAK,IAAI,UAAU,IAAI,KAAK,IAAI,UAAU,CAAC;AACpD,CAAC"}
\ No newline at end of file
diff --git a/node_modules/@metamask/execution-environments/dist/dist/common/lockdown/lockdown.d.ts b/node_modules/@metamask/execution-environments/dist/dist/common/lockdown/lockdown.d.ts
new file mode 100644
index 0000000..20629d6
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/common/lockdown/lockdown.d.ts
@@ -0,0 +1,2 @@
+/// <reference types="ses" />
+export declare function executeLockdown(): void;
diff --git a/node_modules/@metamask/execution-environments/dist/dist/common/lockdown/lockdown.js b/node_modules/@metamask/execution-environments/dist/dist/common/lockdown/lockdown.js
new file mode 100644
index 0000000..9fd26db
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/common/lockdown/lockdown.js
@@ -0,0 +1,23 @@
+"use strict";
+// eslint-disable-next-line @typescript-eslint/triple-slash-reference, spaced-comment
+/// <reference path="../../../../../node_modules/ses/index.d.ts" />
+Object.defineProperty(exports, "__esModule", { value: true });
+exports.executeLockdown = void 0;
+function executeLockdown() {
+    try {
+        lockdown({
+            consoleTaming: 'unsafe',
+            errorTaming: 'unsafe',
+            mathTaming: 'unsafe',
+            dateTaming: 'unsafe',
+            overrideTaming: 'severe',
+        });
+    }
+    catch (error) {
+        // If the `lockdown` call throws an exception, it should not be able to continue
+        console.error('Lockdown failed:', error);
+        throw error;
+    }
+}
+exports.executeLockdown = executeLockdown;
+//# sourceMappingURL=lockdown.js.map
\ No newline at end of file
diff --git a/node_modules/@metamask/execution-environments/dist/dist/common/lockdown/lockdown.js.map b/node_modules/@metamask/execution-environments/dist/dist/common/lockdown/lockdown.js.map
new file mode 100644
index 0000000..8f790e9
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/common/lockdown/lockdown.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"lockdown.js","sourceRoot":"","sources":["../../../src/common/lockdown/lockdown.ts"],"names":[],"mappings":";AAAA,qFAAqF;AACrF,mEAAmE;;;AAEnE,SAAgB,eAAe;IAC7B,IAAI;QACF,QAAQ,CAAC;YACP,aAAa,EAAE,QAAQ;YACvB,WAAW,EAAE,QAAQ;YACrB,UAAU,EAAE,QAAQ;YACpB,UAAU,EAAE,QAAQ;YACpB,cAAc,EAAE,QAAQ;SACzB,CAAC,CAAC;KACJ;IAAC,OAAO,KAAK,EAAE;QACd,gFAAgF;QAChF,OAAO,CAAC,KAAK,CAAC,kBAAkB,EAAE,KAAK,CAAC,CAAC;QACzC,MAAM,KAAK,CAAC;KACb;AACH,CAAC;AAdD,0CAcC"}
\ No newline at end of file
diff --git a/node_modules/@metamask/execution-environments/dist/dist/common/rpcMethods.d.ts b/node_modules/@metamask/execution-environments/dist/dist/common/rpcMethods.d.ts
new file mode 100644
index 0000000..89ba2a4
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/common/rpcMethods.d.ts
@@ -0,0 +1,7 @@
+import { ExecuteSnap, Ping, SnapRpc } from '../__GENERATED__/openrpc';
+export declare type RpcMethodsMapping = {
+    ping: Ping;
+    executeSnap: ExecuteSnap;
+    snapRpc: SnapRpc;
+};
+export declare function rpcMethods(startSnap: (...args: Parameters<ExecuteSnap>) => void, invokeSnapRpc: SnapRpc): RpcMethodsMapping;
diff --git a/node_modules/@metamask/execution-environments/dist/dist/common/rpcMethods.js b/node_modules/@metamask/execution-environments/dist/dist/common/rpcMethods.js
new file mode 100644
index 0000000..f9c7123
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/common/rpcMethods.js
@@ -0,0 +1,40 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+exports.rpcMethods = void 0;
+const openrpc_guard_1 = require("../__GENERATED__/openrpc.guard");
+function rpcMethods(startSnap, invokeSnapRpc) {
+    return {
+        ping: async () => {
+            return 'OK';
+        },
+        executeSnap: async (snapName, sourceCode, endowments) => {
+            if (typeof snapName !== 'string') {
+                throw new Error('snapName is not a string');
+            }
+            if (typeof sourceCode !== 'string') {
+                throw new Error('sourceCode is not a string');
+            }
+            if (endowments !== undefined) {
+                if (!openrpc_guard_1.isEndowments(endowments)) {
+                    throw new Error('endowment is not a proper Endowments object');
+                }
+            }
+            startSnap(snapName, sourceCode, endowments);
+            return 'OK';
+        },
+        snapRpc: async (target, origin, request) => {
+            if (typeof target !== 'string') {
+                throw new Error('target is not a string');
+            }
+            if (typeof origin !== 'string') {
+                throw new Error('origin is not a string');
+            }
+            if (!openrpc_guard_1.isJsonRpcRequest(request)) {
+                throw new Error('request is not a proper JSON RPC Request');
+            }
+            return invokeSnapRpc(target, origin, request);
+        },
+    };
+}
+exports.rpcMethods = rpcMethods;
+//# sourceMappingURL=rpcMethods.js.map
\ No newline at end of file
diff --git a/node_modules/@metamask/execution-environments/dist/dist/common/rpcMethods.js.map b/node_modules/@metamask/execution-environments/dist/dist/common/rpcMethods.js.map
new file mode 100644
index 0000000..f897dd6
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/common/rpcMethods.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"rpcMethods.js","sourceRoot":"","sources":["../../src/common/rpcMethods.ts"],"names":[],"mappings":";;;AACA,kEAAgF;AAQhF,SAAgB,UAAU,CACxB,SAAqD,EACrD,aAAsB;IAEtB,OAAO;QACL,IAAI,EAAE,KAAK,IAAI,EAAE;YACf,OAAO,IAAI,CAAC;QACd,CAAC;QACD,WAAW,EAAE,KAAK,EAAE,QAAQ,EAAE,UAAU,EAAE,UAAU,EAAE,EAAE;YACtD,IAAI,OAAO,QAAQ,KAAK,QAAQ,EAAE;gBAChC,MAAM,IAAI,KAAK,CAAC,0BAA0B,CAAC,CAAC;aAC7C;YAED,IAAI,OAAO,UAAU,KAAK,QAAQ,EAAE;gBAClC,MAAM,IAAI,KAAK,CAAC,4BAA4B,CAAC,CAAC;aAC/C;YAED,IAAI,UAAU,KAAK,SAAS,EAAE;gBAC5B,IAAI,CAAC,4BAAY,CAAC,UAAU,CAAC,EAAE;oBAC7B,MAAM,IAAI,KAAK,CAAC,6CAA6C,CAAC,CAAC;iBAChE;aACF;YAED,SAAS,CAAC,QAAkB,EAAE,UAAoB,EAAE,UAAU,CAAC,CAAC;YAChE,OAAO,IAAI,CAAC;QACd,CAAC;QACD,OAAO,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE;YACzC,IAAI,OAAO,MAAM,KAAK,QAAQ,EAAE;gBAC9B,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;aAC3C;YAED,IAAI,OAAO,MAAM,KAAK,QAAQ,EAAE;gBAC9B,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;aAC3C;YAED,IAAI,CAAC,gCAAgB,CAAC,OAAO,CAAC,EAAE;gBAC9B,MAAM,IAAI,KAAK,CAAC,0CAA0C,CAAC,CAAC;aAC7D;YAED,OAAO,aAAa,CAAC,MAAM,EAAE,MAAM,EAAE,OAAO,CAAC,CAAC;QAChD,CAAC;KACF,CAAC;AACJ,CAAC;AA1CD,gCA0CC"}
\ No newline at end of file
diff --git a/node_modules/@metamask/execution-environments/dist/dist/common/sortParams.d.ts b/node_modules/@metamask/execution-environments/dist/dist/common/sortParams.d.ts
new file mode 100644
index 0000000..3abaa7c
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/common/sortParams.d.ts
@@ -0,0 +1,6 @@
+import { JSONRPCParams } from '../__GENERATED__/openrpc';
+export declare const sortParamKeys: (method: {
+    params: {
+        name: string;
+    }[];
+}, params?: JSONRPCParams | undefined) => any[];
diff --git a/node_modules/@metamask/execution-environments/dist/dist/common/sortParams.js b/node_modules/@metamask/execution-environments/dist/dist/common/sortParams.js
new file mode 100644
index 0000000..8b97f11
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/common/sortParams.js
@@ -0,0 +1,20 @@
+"use strict";
+// original source sortParamKeys from: https://github.com/etclabscore/sig.tools/blob/master/src/postMessageServer/postMessageServer.ts#L75-L77
+Object.defineProperty(exports, "__esModule", { value: true });
+exports.sortParamKeys = void 0;
+const sortParamKeys = (method, params) => {
+    if (!params) {
+        return [];
+    }
+    if (params instanceof Array) {
+        return params;
+    }
+    const methodParamsOrder = method.params
+        .map((p) => p.name)
+        .reduce((m, pn, i) => (Object.assign(Object.assign({}, m), { [pn]: i })), {});
+    return Object.entries(params)
+        .sort(([name1, _], [name2, __]) => methodParamsOrder[name1] - methodParamsOrder[name2])
+        .map(([_, val]) => val);
+};
+exports.sortParamKeys = sortParamKeys;
+//# sourceMappingURL=sortParams.js.map
\ No newline at end of file
diff --git a/node_modules/@metamask/execution-environments/dist/dist/common/sortParams.js.map b/node_modules/@metamask/execution-environments/dist/dist/common/sortParams.js.map
new file mode 100644
index 0000000..eacf092
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/common/sortParams.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"sortParams.js","sourceRoot":"","sources":["../../src/common/sortParams.ts"],"names":[],"mappings":";AAAA,8IAA8I;;;AAIvI,MAAM,aAAa,GAAG,CAC3B,MAAsC,EACtC,MAAsB,EACtB,EAAE;IACF,IAAI,CAAC,MAAM,EAAE;QACX,OAAO,EAAE,CAAC;KACX;IAED,IAAI,MAAM,YAAY,KAAK,EAAE;QAC3B,OAAO,MAAM,CAAC;KACf;IAED,MAAM,iBAAiB,GAA4B,MAAM,CAAC,MAAM;SAC7D,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;SAClB,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC,iCAAM,CAAC,KAAE,CAAC,EAAE,CAAC,EAAE,CAAC,IAAG,EAAE,EAAE,CAAC,CAAC;IAEjD,OAAO,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC;SAC1B,IAAI,CACH,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,EAAE,EAAE,CAC1B,iBAAiB,CAAC,KAAK,CAAC,GAAG,iBAAiB,CAAC,KAAK,CAAC,CACtD;SACA,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC;AAC5B,CAAC,CAAC;AAtBW,QAAA,aAAa,iBAsBxB"}
\ No newline at end of file
diff --git a/node_modules/@metamask/execution-environments/dist/dist/iframe.bundle.js b/node_modules/@metamask/execution-environments/dist/dist/iframe.bundle.js
new file mode 100644
index 0000000..14d2def
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/iframe.bundle.js
@@ -0,0 +1,2 @@
+/*! For license information please see iframe.bundle.js.LICENSE.txt */
+(()=>{var e={7209:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectMultiplex=void 0;const o=r(7525),a=i(r(8797)),s=i(r(9928)),u=r(9067),c=Symbol("IGNORE_SUBSTREAM");class l extends o.Duplex{constructor(e={}){super(Object.assign(Object.assign({},e),{objectMode:!0})),this._substreams={}}createStream(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);const t=new u.Substream({parent:this,name:e});return this._substreams[e]=t,function(e,r){const n=s.default((e=>t.destroy(e||void 0)));a.default(e,{readable:!1},n),a.default(e,{writable:!1},n)}(this),t}ignoreStream(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);this._substreams[e]=c}_read(){}_write(e,t,r){const{name:i,data:o}=e;if(!i)return n.warn(`ObjectMultiplex - malformed chunk without name "${e}"`),r();const a=this._substreams[i];return a?(a!==c&&a.push(o),r()):(n.warn(`ObjectMultiplex - orphaned data for stream "${i}"`),r())}}t.ObjectMultiplex=l},9067:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Substream=void 0;const n=r(7525);class i extends n.Duplex{constructor({parent:e,name:t}){super({objectMode:!0}),this._parent=e,this._name=t}_read(){}_write(e,t,r){this._parent.push({name:this._name,data:e}),r()}}t.Substream=i},9952:(e,t,r)=>{"use strict";const n=r(7209);e.exports=n.ObjectMultiplex},470:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BasePostMessageStream=void 0;const n=r(5800);function i(){}const o="ACK";class a extends n.Duplex{constructor(){super({objectMode:!0}),this._init=!1,this._haveSyn=!1}_handshake(){this._write("SYN",null,i),this.cork()}_onData(e){if(this._init)try{this.push(e)}catch(e){this.emit("error",e)}else"SYN"===e?(this._haveSyn=!0,this._write(o,null,i)):e===o&&(this._init=!0,this._haveSyn||this._write(o,null,i),this.uncork())}_read(){}_write(e,t,r){this._postMessage(e),r()}}t.BasePostMessageStream=a},4273:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WindowPostMessageStream=void 0;const n=r(470);class i extends n.BasePostMessageStream{constructor({name:e,target:t,targetWindow:r}){if(!e||!t)throw new Error("Invalid input.");super(),this._name=e,this._target=t,this._targetOrigin=r?"*":location.origin,this._targetWindow=r||window,this._onMessage=this._onMessage.bind(this),window.addEventListener("message",this._onMessage,!1),this._handshake()}_postMessage(e){this._targetWindow.postMessage({target:this._target,data:e},this._targetOrigin)}_onMessage(e){const t=e.data;"*"!==this._targetOrigin&&e.origin!==this._targetOrigin||e.source!==this._targetWindow||"object"!=typeof t||t.target!==this._name||!t.data||this._onData(t.data)}_destroy(){window.removeEventListener("message",this._onMessage,!1)}}t.WindowPostMessageStream=i},8858:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkerParentPostMessageStream=void 0;const n=r(470),i=r(7366);class o extends n.BasePostMessageStream{constructor({worker:e}){if(!e)throw new Error("Invalid input.");super(),this._target=i.DEDICATED_WORKER_NAME,this._worker=e,this._worker.onmessage=this._onMessage.bind(this),this._handshake()}_postMessage(e){this._worker.postMessage({target:this._target,data:e})}_onMessage(e){const t=e.data;"object"==typeof t&&t.data&&this._onData(t.data)}_destroy(){this._worker.onmessage=null,this._worker=null}}t.WorkerParentPostMessageStream=o},7507:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkerPostMessageStream=void 0;const n=r(470),i=r(7366);class o extends n.BasePostMessageStream{constructor(){super(),this._name=i.DEDICATED_WORKER_NAME,self.onmessage=this._onMessage.bind(this),this._handshake()}_postMessage(e){self.postMessage({data:e})}_onMessage(e){const t=e.data;"object"==typeof t&&t.target===this._name&&t.data&&this._onData(t.data)}_destroy(){}}t.WorkerPostMessageStream=o},7366:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEDICATED_WORKER_NAME=void 0,t.DEDICATED_WORKER_NAME="dedicatedWorker"},9679:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkerParentPostMessageStream=t.WorkerPostMessageStream=t.WindowPostMessageStream=void 0;var n=r(4273);Object.defineProperty(t,"WindowPostMessageStream",{enumerable:!0,get:function(){return n.WindowPostMessageStream}});var i=r(7507);Object.defineProperty(t,"WorkerPostMessageStream",{enumerable:!0,get:function(){return i.WorkerPostMessageStream}});var o=r(8858);Object.defineProperty(t,"WorkerParentPostMessageStream",{enumerable:!0,get:function(){return o.WorkerParentPostMessageStream}})},2646:(e,t,r)=>{"use strict";var n=r(4406);!n.version||0===n.version.indexOf("v0.")||0===n.version.indexOf("v1.")&&0!==n.version.indexOf("v1.8.")?e.exports=function(e,t,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return n.nextTick(e);case 2:return n.nextTick((function(){e.call(null,t)}));case 3:return n.nextTick((function(){e.call(null,t,r)}));case 4:return n.nextTick((function(){e.call(null,t,r,i)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return n.nextTick((function(){e.apply(null,o)}))}}:e.exports=n.nextTick},1034:(e,t,r)=>{"use strict";var n=r(2646),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=f;var o=r(7646);o.inherits=r(1285);var a=r(7187),s=r(3597);o.inherits(f,a);for(var u=i(s.prototype),c=0;c<u.length;c++){var l=u[c];f.prototype[l]||(f.prototype[l]=s.prototype[l])}function f(e){if(!(this instanceof f))return new f(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||n(h,this)}function h(e){e.end()}Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),n(t,e)}},2598:(e,t,r)=>{"use strict";e.exports=o;var n=r(2287),i=r(7646);function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}i.inherits=r(1285),i.inherits(o,n),o.prototype._transform=function(e,t,r){r(null,e)}},7187:(e,t,r)=>{"use strict";var n=r(4406),i=r(2646);e.exports=w;var o,a=r(7906);w.ReadableState=m,r(2699).EventEmitter;var s=function(e,t){return e.listeners(t).length},u=r(979),c=r(5691).Buffer,l=r.g.Uint8Array||function(){},f=r(7646);f.inherits=r(1285);var d=r(4857),h=void 0;h=d&&d.debuglog?d.debuglog("stream"):function(){};var p,g=r(8991),y=r(8374);f.inherits(w,u);var b=["error","close","destroy","pause","resume"];function m(e,t){o=o||r(1034),e=e||{},this.objectMode=!!e.objectMode,t instanceof o&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:i,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=r(5099).s),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function w(e){if(o=o||r(1034),!(this instanceof w))return new w(e);this._readableState=new m(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function v(e,t,r,n,i){var o,a=e._readableState;return null===t?(a.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,O(e)}}(e,a)):(i||(o=function(e,t){var r,n;return n=t,c.isBuffer(n)||n instanceof l||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),n?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):_(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?_(e,a,t,!1):M(e,a)):_(e,a,t,!1))):n||(a.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function _(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&O(e)),M(e,t)}Object.defineProperty(w.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),w.prototype.destroy=y.destroy,w.prototype._undestroy=y.undestroy,w.prototype._destroy=function(e,t){this.push(null),t(e)},w.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),r=!0),v(this,e,t,!1,r)},w.prototype.unshift=function(e){return v(this,e,null,!0,!1)},w.prototype.isPaused=function(){return!1===this._readableState.flowing},w.prototype.setEncoding=function(e){return p||(p=r(5099).s),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var S=8388608;function E(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=S?e=S:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function O(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i(R,e):R(e))}function R(e){h("emit readable"),e.emit("readable"),A(e)}function M(e,t){t.readingMore||(t.readingMore=!0,i(j,e,t))}function j(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function P(e){h("readable nexttick read 0"),e.read(0)}function k(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),A(e),t.flowing&&!t.reading&&e.read(0)}function A(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function x(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0==(e-=a)){a===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=c.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,a),0==(e-=a)){a===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++i}return t.length-=i,r}(e,t),n}(e,t.buffer,t.decoder),r);var r}function C(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i(T,t,e))}function T(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function N(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}w.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?C(this):O(this),null;if(0===(e=E(e,t))&&t.ended)return 0===t.length&&C(this),null;var n,i=t.needReadable;return h("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",i=!0),t.ended||t.reading?h("reading or ended",i=!1):i&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=E(r,t))),null===(n=e>0?x(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&C(this)),null!==n&&this.emit("data",n),n},w.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},w.prototype.pipe=function(e,t){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,h("pipe count=%d opts=%j",o.pipesCount,t);var u=t&&!1===t.end||e===n.stdout||e===n.stderr?m:c;function c(){h("onend"),e.end()}o.endEmitted?i(u):r.once("end",u),e.on("unpipe",(function t(n,i){h("onunpipe"),n===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,h("cleanup"),e.removeListener("close",y),e.removeListener("finish",b),e.removeListener("drain",l),e.removeListener("error",g),e.removeListener("unpipe",t),r.removeListener("end",c),r.removeListener("end",m),r.removeListener("data",p),f=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}));var l=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,A(e))}}(r);e.on("drain",l);var f=!1,d=!1;function p(t){h("ondata"),d=!1,!1!==e.write(t)||d||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==N(o.pipes,e))&&!f&&(h("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,d=!0),r.pause())}function g(t){h("onerror",t),m(),e.removeListener("error",g),0===s(e,"error")&&e.emit("error",t)}function y(){e.removeListener("finish",b),m()}function b(){h("onfinish"),e.removeListener("close",y),m()}function m(){h("unpipe"),r.unpipe(e)}return r.on("data",p),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events.error?a(e._events.error)?e._events.error.unshift(r):e._events.error=[r,e._events.error]:e.on(t,r)}(e,"error",g),e.once("close",y),e.once("finish",b),e.emit("pipe",r),o.flowing||(h("pipe resume"),r.resume()),e},w.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var a=N(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},w.prototype.on=function(e,t){var r=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&O(this):i(P,this))}return r},w.prototype.addListener=w.prototype.on,w.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i(k,e,t))}(this,e)),this},w.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},w.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;for(var i in e.on("end",(function(){if(h("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)})),e.on("data",(function(i){h("wrapped data"),t.decoder&&(i=t.decoder.write(i)),t.objectMode&&null==i||(t.objectMode||i&&i.length)&&(n.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<b.length;o++)e.on(b[o],n.emit.bind(n,b[o]));return n._read=function(t){h("wrapped _read",t),r&&(r=!1,e.resume())},n},w._fromList=x},2287:(e,t,r)=>{"use strict";e.exports=a;var n=r(1034),i=r(7646);function o(e){this.afterTransform=function(t,r){return function(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=r&&e.push(r),i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}(e,t,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function a(e){if(!(this instanceof a))return new a(e);n.call(this,e),this._transformState=new o(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",(function(){"function"==typeof this._flush?this._flush((function(e,r){s(t,e,r)})):s(t)}))}function s(e,t,r){if(t)return e.emit("error",t);null!=r&&e.push(r);var n=e._writableState,i=e._transformState;if(n.length)throw new Error("Calling transform done when ws.length != 0");if(i.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=r(1285),i.inherits(a,n),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,(function(e){t(e),r.emit("close")}))}},3597:(e,t,r)=>{"use strict";var n=r(4406),i=r(2646);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=b;var a,s=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?setImmediate:i;b.WritableState=y;var u=r(7646);u.inherits=r(1285);var c,l={deprecate:r(5803)},f=r(979),d=r(5691).Buffer,h=r.g.Uint8Array||function(){},p=r(8374);function g(){}function y(e,t){a=a||r(1034),e=e||{},this.objectMode=!!e.objectMode,t instanceof a&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,u=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var c=!1===e.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,o){--t.pendingcb,r?(i(o,n),i(E,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(o(n),e._writableState.errorEmitted=!0,e.emit("error",n),E(e,t))}(e,r,n,t,o);else{var a=_(r);a||r.corked||r.bufferProcessing||!r.bufferedRequest||v(e,r),n?s(w,e,r,a,o):w(e,r,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function b(e){if(a=a||r(1034),!(c.call(b,this)||this instanceof a))return new b(e);this._writableState=new y(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),f.call(this)}function m(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function w(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),E(e,t)}function v(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),a=t.corkedRequestsFree;a.entry=r;for(var s=0,u=!0;r;)i[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;i.allBuffers=u,m(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t)}else{for(;r;){var c=r.chunk,l=r.encoding,f=r.callback;if(m(e,t,!1,t.objectMode?1:c.length,c,l,f),r=r.next,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=r,t.bufferProcessing=!1}function _(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),E(e,t)}))}function E(e,t){var r=_(t);return r&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,i(S,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}u.inherits(b,f),y.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(y.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||e&&e._writableState instanceof y}})):c=function(e){return e instanceof this},b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},b.prototype.write=function(e,t,r){var n,o=this._writableState,a=!1,s=(n=e,(d.isBuffer(n)||n instanceof h)&&!o.objectMode);return s&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=g),o.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),i(t,r)}(this,r):(s||function(e,t,r,n){var o=!0,a=!1;return null===r?a=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),i(n,a),o=!1),o}(this,o,e,r))&&(o.pendingcb++,a=function(e,t,r,n,i,o){if(!r){var a=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,r)),t}(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,s,n,i,o);return u}(this,o,s,e,t,r)),a},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||v(this,e))},b.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},b.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,E(e,t),r&&(t.finished?i(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),b.prototype.destroy=p.destroy,b.prototype._undestroy=p.undestroy,b.prototype._destroy=function(e,t){this.end(),t(e)}},8991:(e,t,r)=>{"use strict";var n=r(5691).Buffer;e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,i=n.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=i,r=a,o.data.copy(t,r),a+=o.data.length,o=o.next;return i},e}()},8374:(e,t,r)=>{"use strict";var n=r(2646);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;o||a?t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n(i,this,e):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(n(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})))},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},979:(e,t,r)=>{e.exports=r(2699).EventEmitter},5800:(e,t,r)=>{(t=e.exports=r(7187)).Stream=t,t.Readable=t,t.Writable=r(3597),t.Duplex=r(1034),t.Transform=r(2287),t.PassThrough=r(2598)},5691:(e,t,r)=>{var n=r(8834),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},5099:(e,t,r)=>{"use strict";var n=r(5691).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:-1}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"".repeat(r);if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"".repeat(r+1);if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"".repeat(r+2)}}(this,e,t);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"".repeat(this.lastTotal-this.lastNeed):t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r?0:(i=a(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r?0:(i=a(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},4044:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(r(3171)),a=r(1280),s=r(1384),u=i(r(9952)),c=i(r(3795)),l=i(r(8787)),f=r(8094),d=r(8607),h=i(r(2371)),p=r(4022);class g extends c.default{constructor(e,{jsonRpcStreamName:t="metamask-provider",logger:r=n,maxEventListeners:i=100}={}){if(super(),!d.duplex(e))throw new Error(h.default.errors.invalidDuplexStream());this._log=r,this.setMaxListeners(i),this._state=Object.assign({},g._defaultState),this.selectedAddress=null,this.chainId=null,this._handleAccountsChanged=this._handleAccountsChanged.bind(this),this._handleConnect=this._handleConnect.bind(this),this._handleChainChanged=this._handleChainChanged.bind(this),this._handleDisconnect=this._handleDisconnect.bind(this),this._handleStreamDisconnect=this._handleStreamDisconnect.bind(this),this._handleUnlockStateChanged=this._handleUnlockStateChanged.bind(this),this._rpcRequest=this._rpcRequest.bind(this),this.request=this.request.bind(this);const c=new u.default;o.default(e,c,e,this._handleStreamDisconnect.bind(this,"MetaMask")),this.on("connect",(()=>{this._state.isConnected=!0})),this._jsonRpcConnection=s.createStreamMiddleware(),o.default(this._jsonRpcConnection.stream,c.createStream(t),this._jsonRpcConnection.stream,this._handleStreamDisconnect.bind(this,"MetaMask RpcProvider"));const l=new a.JsonRpcEngine;l.push(a.createIdRemapMiddleware()),l.push(p.createErrorMiddleware(this._log)),l.push(this._jsonRpcConnection.middleware),this._rpcEngine=l,this._initializeState(),this._jsonRpcConnection.events.on("notification",(t=>{const{method:r,params:n}=t;"metamask_accountsChanged"===r?this._handleAccountsChanged(n):"metamask_unlockStateChanged"===r?this._handleUnlockStateChanged(n):"metamask_chainChanged"===r?this._handleChainChanged(n):p.EMITTED_NOTIFICATIONS.includes(r)?this.emit("message",{type:r,data:n}):"METAMASK_STREAM_FAILURE"===r&&e.destroy(new Error(h.default.errors.permanentlyDisconnected()))}))}isConnected(){return this._state.isConnected}async request(e){if(!e||"object"!=typeof e||Array.isArray(e))throw f.ethErrors.rpc.invalidRequest({message:h.default.errors.invalidRequestArgs(),data:e});const{method:t,params:r}=e;if("string"!=typeof t||0===t.length)throw f.ethErrors.rpc.invalidRequest({message:h.default.errors.invalidRequestMethod(),data:e});if(void 0!==r&&!Array.isArray(r)&&("object"!=typeof r||null===r))throw f.ethErrors.rpc.invalidRequest({message:h.default.errors.invalidRequestParams(),data:e});return new Promise(((e,n)=>{this._rpcRequest({method:t,params:r},p.getRpcPromiseCallback(e,n))}))}async _initializeState(){try{const{accounts:e,chainId:t,isUnlocked:r,networkVersion:n}=await this.request({method:"metamask_getProviderState"});this.emit("connect",{chainId:t}),this._handleChainChanged({chainId:t,networkVersion:n}),this._handleUnlockStateChanged({accounts:e,isUnlocked:r}),this._handleAccountsChanged(e)}catch(e){this._log.error("MetaMask: Failed to get initial state. Please report this bug.",e)}finally{this._state.initialized=!0,this.emit("_initialized")}}_rpcRequest(e,t){let r=t;return Array.isArray(e)||(e.jsonrpc||(e.jsonrpc="2.0"),"eth_accounts"!==e.method&&"eth_requestAccounts"!==e.method||(r=(r,n)=>{this._handleAccountsChanged(n.result||[],"eth_accounts"===e.method),t(r,n)})),this._rpcEngine.handle(e,r)}_handleConnect(e){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:e}),this._log.debug(h.default.info.connected(e)))}_handleDisconnect(e,t){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e){let r;this._state.isConnected=!1,e?(r=new f.EthereumRpcError(1013,t||h.default.errors.disconnected()),this._log.debug(r)):(r=new f.EthereumRpcError(1011,t||h.default.errors.permanentlyDisconnected()),this._log.error(r),this.chainId=null,this._state.accounts=null,this.selectedAddress=null,this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",r)}}_handleStreamDisconnect(e,t){p.logStreamDisconnectWarning(this._log,e,t,this),this._handleDisconnect(!1,t?t.message:void 0)}_handleChainChanged({chainId:e,networkVersion:t}={}){e&&"string"==typeof e&&e.startsWith("0x")&&t&&"string"==typeof t?"loading"===t?this._handleDisconnect(!0):(this._handleConnect(e),e!==this.chainId&&(this.chainId=e,this._state.initialized&&this.emit("chainChanged",this.chainId))):this._log.error("MetaMask: Received invalid network parameters. Please report this bug.",{chainId:e,networkVersion:t})}_handleAccountsChanged(e,t=!1){let r=e;Array.isArray(e)||(this._log.error("MetaMask: Received invalid accounts parameter. Please report this bug.",e),r=[]);for(const t of e)if("string"!=typeof t){this._log.error("MetaMask: Received non-string account. Please report this bug.",e),r=[];break}l.default(this._state.accounts,r)||(t&&null!==this._state.accounts&&this._log.error("MetaMask: 'eth_accounts' unexpectedly updated accounts. Please report this bug.",r),this._state.accounts=r,this.selectedAddress!==r[0]&&(this.selectedAddress=r[0]||null),this._state.initialized&&this.emit("accountsChanged",r))}_handleUnlockStateChanged({accounts:e,isUnlocked:t}={}){"boolean"==typeof t?t!==this._state.isUnlocked&&(this._state.isUnlocked=t,this._handleAccountsChanged(e||[])):this._log.error("MetaMask: Received invalid isUnlocked parameter. Please report this bug.")}}t.default=g,g._defaultState={accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1}},9461:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(8094),a=i(r(23)),s=i(r(2371)),u=r(4022),c=i(r(4044));class l extends c.default{constructor(e,{jsonRpcStreamName:t="metamask-provider",logger:r=n,maxEventListeners:i=100,shouldSendMetadata:o=!0}={}){if(super(e,{jsonRpcStreamName:t,logger:r,maxEventListeners:i}),this._sentWarnings={enable:!1,experimentalMethods:!1,send:!1,events:{close:!1,data:!1,networkChanged:!1,notification:!1}},this.networkVersion=null,this.isMetaMask=!0,this._sendSync=this._sendSync.bind(this),this.enable=this.enable.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this._warnOfDeprecation=this._warnOfDeprecation.bind(this),this._metamask=this._getExperimentalApi(),this._jsonRpcConnection.events.on("notification",(e=>{const{method:t}=e;u.EMITTED_NOTIFICATIONS.includes(t)&&(this.emit("data",e),this.emit("notification",e.params.result))})),o)if("complete"===document.readyState)a.default(this._rpcEngine,this._log);else{const e=()=>{a.default(this._rpcEngine,this._log),window.removeEventListener("DOMContentLoaded",e)};window.addEventListener("DOMContentLoaded",e)}}sendAsync(e,t){this._rpcRequest(e,t)}addListener(e,t){return this._warnOfDeprecation(e),super.addListener(e,t)}on(e,t){return this._warnOfDeprecation(e),super.on(e,t)}once(e,t){return this._warnOfDeprecation(e),super.once(e,t)}prependListener(e,t){return this._warnOfDeprecation(e),super.prependListener(e,t)}prependOnceListener(e,t){return this._warnOfDeprecation(e),super.prependOnceListener(e,t)}_handleDisconnect(e,t){super._handleDisconnect(e,t),this.networkVersion&&!e&&(this.networkVersion=null)}_warnOfDeprecation(e){var t;!1===(null===(t=this._sentWarnings)||void 0===t?void 0:t.events[e])&&(this._log.warn(s.default.warnings.events[e]),this._sentWarnings.events[e]=!0)}enable(){return this._sentWarnings.enable||(this._log.warn(s.default.warnings.enableDeprecation),this._sentWarnings.enable=!0),new Promise(((e,t)=>{try{this._rpcRequest({method:"eth_requestAccounts",params:[]},u.getRpcPromiseCallback(e,t))}catch(e){t(e)}}))}send(e,t){return this._sentWarnings.send||(this._log.warn(s.default.warnings.sendDeprecation),this._sentWarnings.send=!0),"string"!=typeof e||t&&!Array.isArray(t)?e&&"object"==typeof e&&"function"==typeof t?this._rpcRequest(e,t):this._sendSync(e):new Promise(((r,n)=>{try{this._rpcRequest({method:e,params:t},u.getRpcPromiseCallback(r,n,!1))}catch(e){n(e)}}))}_sendSync(e){let t;switch(e.method){case"eth_accounts":t=this.selectedAddress?[this.selectedAddress]:[];break;case"eth_coinbase":t=this.selectedAddress||null;break;case"eth_uninstallFilter":this._rpcRequest(e,u.NOOP),t=!0;break;case"net_version":t=this.networkVersion||null;break;default:throw new Error(s.default.errors.unsupportedSync(e.method))}return{id:e.id,jsonrpc:e.jsonrpc,result:t}}_getExperimentalApi(){return new Proxy({isUnlocked:async()=>(this._state.initialized||await new Promise((e=>{this.on("_initialized",(()=>e()))})),this._state.isUnlocked),requestBatch:async e=>{if(!Array.isArray(e))throw o.ethErrors.rpc.invalidRequest({message:"Batch requests must be made with an array of request objects.",data:e});return new Promise(((t,r)=>{this._rpcRequest(e,u.getRpcPromiseCallback(t,r))}))}},{get:(e,t,...r)=>(this._sentWarnings.experimentalMethods||(this._log.warn(s.default.warnings.experimentalMethods),this._sentWarnings.experimentalMethods=!0),Reflect.get(e,t,...r))})}_handleChainChanged({chainId:e,networkVersion:t}={}){super._handleChainChanged({chainId:e,networkVersion:t}),t&&"loading"!==t&&t!==this.networkVersion&&(this.networkVersion=t,this._state.initialized&&this.emit("networkChanged",this.networkVersion))}}t.default=l},5817:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(r(3274)),a=r(4924),s=i(r(4044)),u=i(r(5543)),c=a.detect();t.default=function(){let e;try{const t=function(){switch(null==c?void 0:c.name){case"chrome":default:return u.default.CHROME_ID;case"firefox":return u.default.FIREFOX_ID}}(),r=chrome.runtime.connect(t),n=new o.default(r);e=new s.default(n)}catch(e){throw n.dir("Metamask connect error ",e),e}return e}},2972:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createExternalExtensionProvider=t.shimWeb3=t.setGlobalProvider=t.BaseProvider=t.MetaMaskInpageProvider=t.initializeProvider=void 0;const i=n(r(9461));t.MetaMaskInpageProvider=i.default;const o=n(r(5817));t.createExternalExtensionProvider=o.default;const a=n(r(4044));t.BaseProvider=a.default;const s=r(6352);Object.defineProperty(t,"initializeProvider",{enumerable:!0,get:function(){return s.initializeProvider}}),Object.defineProperty(t,"setGlobalProvider",{enumerable:!0,get:function(){return s.setGlobalProvider}});const u=n(r(6473));t.shimWeb3=u.default},6352:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.setGlobalProvider=t.initializeProvider=void 0;const o=i(r(9461)),a=i(r(6473));function s(e){window.ethereum=e,window.dispatchEvent(new Event("ethereum#initialized"))}t.initializeProvider=function({connectionStream:e,jsonRpcStreamName:t,logger:r=n,maxEventListeners:i=100,shouldSendMetadata:u=!0,shouldSetOnWindow:c=!0,shouldShimWeb3:l=!1}){let f=new o.default(e,{jsonRpcStreamName:t,logger:r,maxEventListeners:i,shouldSendMetadata:u});return f=new Proxy(f,{deleteProperty:()=>!0}),c&&s(f),l&&a.default(f,r),f},t.setGlobalProvider=s},2371:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={errors:{disconnected:()=>"MetaMask: Disconnected from chain. Attempting to connect.",permanentlyDisconnected:()=>"MetaMask: Disconnected from MetaMask background. Page reload required.",sendSiteMetadata:()=>"MetaMask: Failed to send site metadata. This is an internal error, please report this bug.",unsupportedSync:e=>`MetaMask: The MetaMask Ethereum provider does not support synchronous methods like ${e} without a callback parameter.`,invalidDuplexStream:()=>"Must provide a Node.js-style duplex stream.",invalidRequestArgs:()=>"Expected a single, non-array, object argument.",invalidRequestMethod:()=>"'args.method' must be a non-empty string.",invalidRequestParams:()=>"'args.params' must be an object or array if provided.",invalidLoggerObject:()=>"'args.logger' must be an object if provided.",invalidLoggerMethod:e=>`'args.logger' must include required method '${e}'.`},info:{connected:e=>`MetaMask: Connected to chain with ID "${e}".`},warnings:{enableDeprecation:"MetaMask: 'ethereum.enable()' is deprecated and may be removed in the future. Please use the 'eth_requestAccounts' RPC method instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1102",sendDeprecation:"MetaMask: 'ethereum.send(...)' is deprecated and may be removed in the future. Please use 'ethereum.sendAsync(...)' or 'ethereum.request(...)' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193",events:{close:"MetaMask: The event 'close' is deprecated and may be removed in the future. Please use 'disconnect' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#disconnect",data:"MetaMask: The event 'data' is deprecated and will be removed in the future. Use 'message' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#message",networkChanged:"MetaMask: The event 'networkChanged' is deprecated and may be removed in the future. Use 'chainChanged' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#chainchanged",notification:"MetaMask: The event 'notification' is deprecated and may be removed in the future. Use 'message' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#message"},experimentalMethods:"MetaMask: 'ethereum._metamask' exposes non-standard, experimental methods. They may be removed or changed without warning."}}},6473:(e,t,r)=>{"use strict";var n=r(3716);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t=n){let r=!1,i=!1;if(!window.web3){const n="__isMetaMaskShim__";let o={currentProvider:e};Object.defineProperty(o,n,{value:!0,enumerable:!0,configurable:!1,writable:!1}),o=new Proxy(o,{get:(o,a,...s)=>("currentProvider"!==a||r?"currentProvider"===a||a===n||i||(i=!0,t.error("MetaMask no longer injects web3. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3"),e.request({method:"metamask_logWeb3ShimUsage"}).catch((e=>{t.debug("MetaMask: Failed to log web3 shim usage.",e)}))):(r=!0,t.warn("You are accessing the MetaMask window.web3.currentProvider shim. This property is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3")),Reflect.get(o,a,...s)),set:(...e)=>(t.warn("You are accessing the MetaMask window.web3 shim. This object is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3"),Reflect.set(...e))}),Object.defineProperty(window,"web3",{value:o,enumerable:!1,configurable:!0,writable:!0})}}},23:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(2371)),o=r(4022);function a(e){const{document:t}=e,r=t.querySelector('head > meta[property="og:site_name"]');if(r)return r.content;const n=t.querySelector('head > meta[name="title"]');return n?n.content:t.title&&t.title.length>0?t.title:window.location.hostname}async function s(e){const{document:t}=e,r=t.querySelectorAll('head > link[rel~="icon"]');for(const e of r)if(e&&await u(e.href))return e.href;return null}function u(e){return new Promise(((t,r)=>{try{const r=document.createElement("img");r.onload=()=>t(!0),r.onerror=()=>t(!1),r.src=e}catch(e){r(e)}}))}t.default=async function(e,t){try{const t=await async function(){return{name:a(window),icon:await s(window)}}();e.handle({jsonrpc:"2.0",id:1,method:"metamask_sendDomainMetadata",params:t},o.NOOP)}catch(e){t.error({message:i.default.errors.sendSiteMetadata(),originalError:e})}}},4022:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMITTED_NOTIFICATIONS=t.NOOP=t.logStreamDisconnectWarning=t.getRpcPromiseCallback=t.createErrorMiddleware=void 0;const n=r(8094);t.createErrorMiddleware=function(e){return(t,r,i)=>{"string"==typeof t.method&&t.method||(r.error=n.ethErrors.rpc.invalidRequest({message:"The request 'method' must be a non-empty string.",data:t})),i((t=>{const{error:n}=r;return n?(e.error(`MetaMask - RPC Error: ${n.message}`,n),t()):t()}))}},t.getRpcPromiseCallback=(e,t,r=!0)=>(n,i)=>{n||i.error?t(n||i.error):!r||Array.isArray(i)?e(i):e(i.result)},t.logStreamDisconnectWarning=function(e,t,r,n){let i=`MetaMask: Lost connection to "${t}".`;(null==r?void 0:r.stack)&&(i+=`\n${r.stack}`),e.warn(i),n&&n.listenerCount("error")>0&&n.emit("error",i)},t.NOOP=()=>{},t.EMITTED_NOTIFICATIONS=["eth_subscription"]},8787:e=>{"use strict";var t=Array.isArray,r=Object.keys,n=Object.prototype.hasOwnProperty;e.exports=function e(i,o){if(i===o)return!0;if(i&&o&&"object"==typeof i&&"object"==typeof o){var a,s,u,c=t(i),l=t(o);if(c&&l){if((s=i.length)!=o.length)return!1;for(a=s;0!=a--;)if(!e(i[a],o[a]))return!1;return!0}if(c!=l)return!1;var f=i instanceof Date,d=o instanceof Date;if(f!=d)return!1;if(f&&d)return i.getTime()==o.getTime();var h=i instanceof RegExp,p=o instanceof RegExp;if(h!=p)return!1;if(h&&p)return i.toString()==o.toString();var g=r(i);if((s=g.length)!==r(o).length)return!1;for(a=s;0!=a--;)if(!n.call(o,g[a]))return!1;for(a=s;0!=a--;)if(!e(i[u=g[a]],o[u]))return!1;return!0}return i!=i&&o!=o}},3795:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2699);function i(e,t,r){try{Reflect.apply(e,t,r)}catch(e){setTimeout((()=>{throw e}))}}class o extends n.EventEmitter{emit(e,...t){let r="error"===e;const n=this._events;if(void 0!==n)r=r&&void 0===n.error;else if(!r)return!1;if(r){let e;if(t.length>0&&([e]=t),e instanceof Error)throw e;const r=new Error("Unhandled error."+(e?` (${e.message})`:""));throw r.context=e,r}const o=n[e];if(void 0===o)return!1;if("function"==typeof o)i(o,this,t);else{const e=o.length,r=function(e){const t=e.length,r=new Array(t);for(let n=0;n<t;n+=1)r[n]=e[n];return r}(o);for(let n=0;n<e;n+=1)i(r[n],this,t)}return!0}}t.default=o},5778:(e,t,r)=>{"use strict";var n=r(7320);function i(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0}function o(e){return r.g.Buffer&&"function"==typeof r.g.Buffer.isBuffer?r.g.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var a=r(1485),s=Object.prototype.hasOwnProperty,u=Array.prototype.slice,c="foo"===function(){}.name;function l(e){return Object.prototype.toString.call(e)}function f(e){return!o(e)&&"function"==typeof r.g.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}var d=e.exports=m,h=/\s*function\s+([^\(\s]*)\s*/;function p(e){if(a.isFunction(e)){if(c)return e.name;var t=e.toString().match(h);return t&&t[1]}}function g(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function y(e){if(c||!a.isFunction(e))return a.inspect(e);var t=p(e);return"[Function"+(t?": "+t:"")+"]"}function b(e,t,r,n,i){throw new d.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:i})}function m(e,t){e||b(e,!0,t,"==",d.ok)}function w(e,t,r,n){if(e===t)return!0;if(o(e)&&o(t))return 0===i(e,t);if(a.isDate(e)&&a.isDate(t))return e.getTime()===t.getTime();if(a.isRegExp(e)&&a.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(f(e)&&f(t)&&l(e)===l(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===i(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(o(e)!==o(t))return!1;var s=(n=n||{actual:[],expected:[]}).actual.indexOf(e);return-1!==s&&s===n.expected.indexOf(t)||(n.actual.push(e),n.expected.push(t),function(e,t,r,n){if(null==e||null==t)return!1;if(a.isPrimitive(e)||a.isPrimitive(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=v(e),o=v(t);if(i&&!o||!i&&o)return!1;if(i)return w(e=u.call(e),t=u.call(t),r);var s,c,l=E(e),f=E(t);if(l.length!==f.length)return!1;for(l.sort(),f.sort(),c=l.length-1;c>=0;c--)if(l[c]!==f[c])return!1;for(c=l.length-1;c>=0;c--)if(!w(e[s=l[c]],t[s],r,n))return!1;return!0}(e,t,r,n))}return r?e===t:e==t}function v(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function _(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function S(e,t,r,n){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),i=function(e){var t;try{e()}catch(e){t=e}return t}(t),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),e&&!i&&b(i,r,"Missing expected exception"+n);var o="string"==typeof n,s=!e&&i&&!r;if((!e&&a.isError(i)&&o&&_(i,r)||s)&&b(i,r,"Got unwanted exception"+n),e&&i&&r&&!_(i,r)||!e&&i)throw i}d.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return g(y(e.actual),128)+" "+e.operator+" "+g(y(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||b;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var r=new Error;if(r.stack){var n=r.stack,i=p(t),o=n.indexOf("\n"+i);if(o>=0){var a=n.indexOf("\n",o+1);n=n.substring(a+1)}this.stack=n}}},a.inherits(d.AssertionError,Error),d.fail=b,d.ok=m,d.equal=function(e,t,r){e!=t&&b(e,t,r,"==",d.equal)},d.notEqual=function(e,t,r){e==t&&b(e,t,r,"!=",d.notEqual)},d.deepEqual=function(e,t,r){w(e,t,!1)||b(e,t,r,"deepEqual",d.deepEqual)},d.deepStrictEqual=function(e,t,r){w(e,t,!0)||b(e,t,r,"deepStrictEqual",d.deepStrictEqual)},d.notDeepEqual=function(e,t,r){w(e,t,!1)&&b(e,t,r,"notDeepEqual",d.notDeepEqual)},d.notDeepStrictEqual=function e(t,r,n){w(t,r,!0)&&b(t,r,n,"notDeepStrictEqual",e)},d.strictEqual=function(e,t,r){e!==t&&b(e,t,r,"===",d.strictEqual)},d.notStrictEqual=function(e,t,r){e===t&&b(e,t,r,"!==",d.notStrictEqual)},d.throws=function(e,t,r){S(!0,e,t,r)},d.doesNotThrow=function(e,t,r){S(!1,e,t,r)},d.ifError=function(e){if(e)throw e},d.strict=n((function e(t,r){t||b(t,!0,r,"==",e)}),d,{equal:d.strictEqual,deepEqual:d.deepStrictEqual,notEqual:d.notStrictEqual,notDeepEqual:d.notDeepStrictEqual}),d.strict.strict=d.strict;var E=Object.keys||function(e){var t=[];for(var r in e)s.call(e,r)&&t.push(r);return t}},5147:e=>{"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},6819:e=>{e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},1485:(e,t,r)=>{var n=r(4406),i=r(3716),o=/%[sdj%]/g;t.format=function(e){if(!m(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(u(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,a=String(e).replace(o,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),s=n[r];r<i;s=n[++r])y(s)||!_(s)?a+=" "+s:a+=" "+u(s);return a},t.deprecate=function(e,o){if(w(r.g.process))return function(){return t.deprecate(e,o).apply(this,arguments)};if(!0===n.noDeprecation)return e;var a=!1;return function(){if(!a){if(n.throwDeprecation)throw new Error(o);n.traceDeprecation?i.trace(o):i.error(o),a=!0}return e.apply(this,arguments)}};var a,s={};function u(e,r){var n={seen:[],stylize:l};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),g(r)?n.showHidden=r:r&&t._extend(n,r),w(n.showHidden)&&(n.showHidden=!1),w(n.depth)&&(n.depth=2),w(n.colors)&&(n.colors=!1),w(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=c),f(n,e,n.depth)}function c(e,t){var r=u.styles[t];return r?"["+u.colors[r][0]+"m"+e+"["+u.colors[r][1]+"m":e}function l(e,t){return e}function f(e,r,n){if(e.customInspect&&r&&O(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return m(i)||(i=f(e,i,n)),i}var o=function(e,t){if(w(t))return e.stylize("undefined","undefined");if(m(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return b(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):y(t)?e.stylize("null","null"):void 0}(e,r);if(o)return o;var a=Object.keys(r),s=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(r)),E(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return d(r);if(0===a.length){if(O(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(v(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(S(r))return e.stylize(Date.prototype.toString.call(r),"date");if(E(r))return d(r)}var c,l="",_=!1,R=["{","}"];return p(r)&&(_=!0,R=["[","]"]),O(r)&&(l=" [Function"+(r.name?": "+r.name:"")+"]"),v(r)&&(l=" "+RegExp.prototype.toString.call(r)),S(r)&&(l=" "+Date.prototype.toUTCString.call(r)),E(r)&&(l=" "+d(r)),0!==a.length||_&&0!=r.length?n<0?v(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),c=_?function(e,t,r,n,i){for(var o=[],a=0,s=t.length;a<s;++a)k(t,String(a))?o.push(h(e,t,r,n,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(h(e,t,r,n,i,!0))})),o}(e,r,n,s,a):a.map((function(t){return h(e,r,n,s,t,_)})),e.seen.pop(),function(e,t,r){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}(c,l,R)):R[0]+l+R[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,r,n,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),k(n,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=y(r)?f(e,u.value,null):f(e,u.value,r-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),w(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function p(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function y(e){return null===e}function b(e){return"number"==typeof e}function m(e){return"string"==typeof e}function w(e){return void 0===e}function v(e){return _(e)&&"[object RegExp]"===R(e)}function _(e){return"object"==typeof e&&null!==e}function S(e){return _(e)&&"[object Date]"===R(e)}function E(e){return _(e)&&("[object Error]"===R(e)||e instanceof Error)}function O(e){return"function"==typeof e}function R(e){return Object.prototype.toString.call(e)}function M(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(w(a)&&(a=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!s[e])if(new RegExp("\\b"+e+"\\b","i").test(a)){var r=n.pid;s[e]=function(){var n=t.format.apply(t,arguments);i.error("%s %d: %s",e,r,n)}}else s[e]=function(){};return s[e]},t.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=g,t.isNull=y,t.isNullOrUndefined=function(e){return null==e},t.isNumber=b,t.isString=m,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=w,t.isRegExp=v,t.isObject=_,t.isDate=S,t.isError=E,t.isFunction=O,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(6819);var j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function P(){var e=new Date,t=[M(e.getHours()),M(e.getMinutes()),M(e.getSeconds())].join(":");return[e.getDate(),j[e.getMonth()],t].join(" ")}function k(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){i.log("%s - %s",P(),t.format.apply(t,arguments))},t.inherits=r(5147),t._extend=function(e,t){if(!t||!_(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}},5766:(e,t)=>{"use strict";t.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,o=u(e),a=o[0],s=o[1],c=new i(function(e,t,r){return 3*(t+r)/4-r}(0,a,s)),l=0,f=s>0?a-4:a;for(r=0;r<f;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return 2===s&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,c[l++]=255&t),1===s&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=16383,s=0,u=n-i;s<u;s+=a)o.push(c(e,s,s+a>u?u:s+a));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=o.length;a<s;++a)r[a]=o[a],n[o.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},8834:(e,t,r)=>{"use strict";var n=r(3716);const i=r(5766),o=r(2333),a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},t.INSPECT_MAX_BYTES=50;const s=2147483647;function u(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return l(e,t,r)}function l(e,t,r){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|y(e,t);let n=u(r);const i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Y(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Y(e,ArrayBuffer)||e&&Y(e.buffer,ArrayBuffer))return p(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(Y(e,SharedArrayBuffer)||e&&Y(e.buffer,SharedArrayBuffer)))return p(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return c.from(n,t,r);const i=function(e){if(c.isBuffer(e)){const t=0|g(e.length),r=u(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||X(e.length)?u(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return f(e),u(e<0?0:0|g(e))}function h(e){const t=e.length<0?0:0|g(e.length),r=u(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function p(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,c.prototype),n}function g(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function y(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Y(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return V(e).length;default:if(i)return n?-1:G(e).length;t=(""+t).toLowerCase(),i=!0}}function b(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,r);case"utf8":case"utf-8":return j(this,t,r);case"ascii":return k(this,t,r);case"latin1":case"binary":return A(this,t,r);case"base64":return M(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function m(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function w(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),X(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,i){let o,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let n=-1;for(o=r;o<s;o++)if(c(e,o)===c(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===u)return n*a}else-1!==n&&(o-=o-n),n=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){let r=!0;for(let n=0;n<u;n++)if(c(e,o+n)!==c(t,n)){r=!1;break}if(r)return o}return-1}function _(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=t.length;let a;for(n>o/2&&(n=o/2),a=0;a<n;++a){const n=parseInt(t.substr(2*a,2),16);if(X(n))return a;e[r+a]=n}return a}function S(e,t,r,n){return K(G(t,e.length-r),e,r,n)}function E(e,t,r,n){return K(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function O(e,t,r,n){return K(V(t),e,r,n)}function R(e,t,r,n){return K(function(e,t){let r,n,i;const o=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function M(e,t,r){return 0===t&&r===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,r))}function j(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let o=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=r){let r,n,s,u;switch(a){case 1:t<128&&(o=t);break;case 2:r=e[i+1],128==(192&r)&&(u=(31&t)<<6|63&r,u>127&&(o=u));break;case 3:r=e[i+1],n=e[i+2],128==(192&r)&&128==(192&n)&&(u=(15&t)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:r=e[i+1],n=e[i+2],s=e[i+3],128==(192&r)&&128==(192&n)&&128==(192&s)&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&s,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=a}return function(e){const t=e.length;if(t<=P)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=P));return r}(n)}t.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||void 0===n||"function"!=typeof n.error||n.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,r){return function(e,t,r){return f(e),e<=0?u(e):void 0!==t?"string"==typeof r?u(e).fill(t,r):u(e).fill(t):u(e)}(e,t,r)},c.allocUnsafe=function(e){return d(e)},c.allocUnsafeSlow=function(e){return d(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),Y(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=c.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(Y(t,Uint8Array))i+t.length>n.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},c.byteLength=y,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)m(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?j(this,0,e):b.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},a&&(c.prototype[a]=c.prototype.inspect),c.prototype.compare=function(e,t,r,n,i){if(Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0);const s=Math.min(o,a),u=this.slice(n,i),l=e.slice(t,r);for(let e=0;e<s;++e)if(u[e]!==l[e]){o=u[e],a=l[e];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return w(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return w(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return _(this,e,t,r);case"utf8":case"utf-8":return S(this,e,t,r);case"ascii":case"latin1":case"binary":return E(this,e,t,r);case"base64":return O(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const P=4096;function k(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function A(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function x(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=Z[e[n]];return i}function C(e,t,r){const n=e.slice(t,r);let i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}function T(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,r,n,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function I(e,t,r,n,i){z(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function B(e,t,r,n,i){z(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function D(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(e,t,r,n,i){return t=+t,r>>>=0,i||D(e,0,r,4),o.write(e,t,r,n,23,4),r+4}function U(e,t,r,n,i){return t=+t,r>>>=0,i||D(e,0,r,8),o.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||T(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||T(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||T(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||T(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||T(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=Q((function(e){J(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||$(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),c.prototype.readBigUInt64BE=Q((function(e){J(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||$(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),c.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return e>>>=0,t||T(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||T(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){e>>>=0,t||T(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||T(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||T(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=Q((function(e){J(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||$(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=Q((function(e){J(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||$(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||T(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||T(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||T(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||T(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||N(this,e,t,r,Math.pow(2,8*r)-1,0);let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||N(this,e,t,r,Math.pow(2,8*r)-1,0);let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=Q((function(e,t=0){return I(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=Q((function(e,t=0){return B(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);N(this,e,t,r,n-1,-n)}let i=0,o=1,a=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);N(this,e,t,r,n-1,-n)}let i=r-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=Q((function(e,t=0){return I(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=Q((function(e,t=0){return B(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,r){return L(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return L(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return U(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return U(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},c.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{const o=c.isBuffer(e)?e:c.from(e,n),a=o.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%a]}return this};const q={};function F(e,t,r){q[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function W(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function z(e,t,r,n,i,o){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new q.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){J(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||$(t,e.length-(r+1))}(n,i,o)}function J(e,t){if("number"!=typeof e)throw new q.ERR_INVALID_ARG_TYPE(t,"number",e)}function $(e,t,r){if(Math.floor(e)!==e)throw J(e,r),new q.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new q.ERR_BUFFER_OUT_OF_BOUNDS;throw new q.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}F("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),F("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),F("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=W(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=W(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const H=/[^+/0-9A-Za-z-_]/g;function G(e,t){let r;t=t||1/0;const n=e.length;let i=null;const o=[];for(let a=0;a<n;++a){if(r=e.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function V(e){return i.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function K(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Y(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function X(e){return e!=e}const Z=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function Q(e){return"undefined"==typeof BigInt?ee:e}function ee(){throw new Error("BigInt not supported")}},2680:(e,t,r)=>{"use strict";var n=r(7286),i=r(9429),o=i(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&o(e,".prototype.")>-1?i(r):r}},9429:(e,t,r)=>{"use strict";var n=r(4090),i=r(7286),o=i("%Function.prototype.apply%"),a=i("%Function.prototype.call%"),s=i("%Reflect.apply%",!0)||n.call(a,o),u=i("%Object.getOwnPropertyDescriptor%",!0),c=i("%Object.defineProperty%",!0),l=i("%Math.max%");if(c)try{c({},"a",{value:1})}catch(e){c=null}e.exports=function(e){var t=s(n,a,arguments);if(u&&c){var r=u(t,"length");r.configurable&&c(t,"length",{value:1+l(0,e.length-(arguments.length-1))})}return t};var f=function(){return s(n,o,arguments)};c?c(e.exports,"apply",{value:f}):e.exports.apply=f},3716:(e,t,r)=>{var n=r(3335),i=r(5778);function o(){return(new Date).getTime()}var a,s=Array.prototype.slice,u={};a=void 0!==r.g&&r.g.console?r.g.console:"undefined"!=typeof window&&window.console?window.console:{};for(var c=[[function(){},"log"],[function(){a.log.apply(a,arguments)},"info"],[function(){a.log.apply(a,arguments)},"warn"],[function(){a.warn.apply(a,arguments)},"error"],[function(e){u[e]=o()},"time"],[function(e){var t=u[e];if(!t)throw new Error("No such label: "+e);delete u[e];var r=o()-t;a.log(e+": "+r+"ms")},"timeEnd"],[function(){var e=new Error;e.name="Trace",e.message=n.format.apply(null,arguments),a.error(e.stack)},"trace"],[function(e){a.log(n.inspect(e)+"\n")},"dir"],[function(e){if(!e){var t=s.call(arguments,1);i.ok(!1,n.format.apply(null,t))}},"assert"]],l=0;l<c.length;l++){var f=c[l],d=f[0],h=f[1];a[h]||(a[h]=d)}e.exports=a},7646:(e,t,r)=>{var n=r(8834).Buffer;function i(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===i(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===i(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===i(e)},t.isError=function(e){return"[object Error]"===i(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n.isBuffer},4924:(e,t,r)=>{"use strict";r.r(t),r.d(t,{BrowserInfo:()=>o,NodeInfo:()=>a,SearchBotDeviceInfo:()=>s,BotInfo:()=>u,ReactNativeInfo:()=>c,detect:()=>h,browserName:()=>g,parseUserAgent:()=>y,detectOS:()=>b,getNodeVersion:()=>m});var n=r(4406),i=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},o=function(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"},a=function(e){this.version=e,this.type="node",this.name="node",this.os=n.platform},s=function(e,t,r,n){this.name=e,this.version=t,this.os=r,this.bot=n,this.type="bot-device"},u=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},c=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},l=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,f=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],d=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function h(e){return e?y(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new c:"undefined"!=typeof navigator?y(navigator.userAgent):m()}function p(e){return""!==e&&f.reduce((function(t,r){var n=r[0],i=r[1];if(t)return t;var o=i.exec(e);return!!o&&[n,o]}),!1)}function g(e){var t=p(e);return t?t[0]:null}function y(e){var t=p(e);if(!t)return null;var r=t[0],n=t[1];if("searchbot"===r)return new u;var a=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);a?a.length<3&&(a=i(i([],a,!0),function(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}(3-a.length),!0)):a=[];var c=a.join("."),f=b(e),d=l.exec(e);return d&&d[1]?new s(r,c,f,d[1]):new o(r,c,f)}function b(e){for(var t=0,r=d.length;t<r;t++){var n=d[t],i=n[0];if(n[1].exec(e))return i}return null}function m(){return void 0!==n&&n.version?new a(n.version.slice(1)):null}},8797:(e,t,r)=>{var n=r(4406),i=r(9928),o=function(){},a=function(e,t,r){if("function"==typeof t)return a(e,null,t);t||(t={}),r=i(r||o);var s=e._writableState,u=e._readableState,c=t.readable||!1!==t.readable&&e.readable,l=t.writable||!1!==t.writable&&e.writable,f=!1,d=function(){e.writable||h()},h=function(){l=!1,c||r.call(e)},p=function(){c=!1,l||r.call(e)},g=function(t){r.call(e,t?new Error("exited with error code: "+t):null)},y=function(t){r.call(e,t)},b=function(){n.nextTick(m)},m=function(){if(!f)return(!c||u&&u.ended&&!u.destroyed)&&(!l||s&&s.ended&&!s.destroyed)?void 0:r.call(e,new Error("premature close"))},w=function(){e.req.on("finish",h)};return function(e){return e.setHeader&&"function"==typeof e.abort}(e)?(e.on("complete",h),e.on("abort",b),e.req?w():e.on("request",w)):l&&!s&&(e.on("end",d),e.on("close",d)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(e)&&e.on("exit",g),e.on("end",p),e.on("finish",h),!1!==t.error&&e.on("error",y),e.on("close",b),function(){f=!0,e.removeListener("complete",h),e.removeListener("abort",b),e.removeListener("request",w),e.req&&e.req.removeListener("finish",h),e.removeListener("end",d),e.removeListener("close",d),e.removeListener("finish",h),e.removeListener("exit",g),e.removeListener("end",p),e.removeListener("error",y),e.removeListener("close",b)}};e.exports=a},4723:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EthereumProviderError=t.EthereumRpcError=void 0;const n=r(7847);class i extends Error{constructor(e,t,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw new Error('"message" must be a nonempty string.');super(t),this.code=e,void 0!==r&&(this.data=r)}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return n.default(this.serialize(),o,2)}}function o(e,t){if("[Circular]"!==t)return t}t.EthereumRpcError=i,t.EthereumProviderError=class extends i{constructor(e,t,r){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,r)}}},4792:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorValues=t.errorCodes=void 0,t.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},t.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}},8159:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ethErrors=void 0;const n=r(4723),i=r(894),o=r(4792);function a(e,t){const[r,o]=u(t);return new n.EthereumRpcError(e,r||i.getMessageFromCode(e),o)}function s(e,t){const[r,o]=u(t);return new n.EthereumProviderError(e,r||i.getMessageFromCode(e),o)}function u(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&"string"!=typeof t)throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}t.ethErrors={rpc:{parse:e=>a(o.errorCodes.rpc.parse,e),invalidRequest:e=>a(o.errorCodes.rpc.invalidRequest,e),invalidParams:e=>a(o.errorCodes.rpc.invalidParams,e),methodNotFound:e=>a(o.errorCodes.rpc.methodNotFound,e),internal:e=>a(o.errorCodes.rpc.internal,e),server:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return a(t,e)},invalidInput:e=>a(o.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>a(o.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>a(o.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>a(o.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>a(o.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>a(o.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>s(o.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>s(o.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>s(o.errorCodes.provider.unsupportedMethod,e),disconnected:e=>s(o.errorCodes.provider.disconnected,e),chainDisconnected:e=>s(o.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:r,data:i}=e;if(!r||"string"!=typeof r)throw new Error('"message" must be a nonempty string');return new n.EthereumProviderError(t,r,i)}}}},8094:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const n=r(4723);Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return n.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return n.EthereumProviderError}});const i=r(894);Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return i.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return i.getMessageFromCode}});const o=r(8159);Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return o.ethErrors}});const a=r(4792);Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return a.errorCodes}})},894:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const n=r(4792),i=r(4723),o=n.errorCodes.rpc.internal,a={code:o,message:s(o)};function s(e,r="Unspecified error message. This is a bug, please report it."){if(Number.isInteger(e)){const r=e.toString();if(f(n.errorValues,r))return n.errorValues[r].message;if(c(e))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return r}function u(e){if(!Number.isInteger(e))return!1;const t=e.toString();return!!n.errorValues[t]||!!c(e)}function c(e){return e>=-32099&&e<=-32e3}function l(e){return e&&"object"==typeof e&&!Array.isArray(e)?Object.assign({},e):e}function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",t.getMessageFromCode=s,t.isValidCode=u,t.serializeError=function(e,{fallbackError:t=a,shouldIncludeStack:r=!1}={}){var n,o;if(!t||!Number.isInteger(t.code)||"string"!=typeof t.message)throw new Error("Must provide fallback error with integer number code and string message.");if(e instanceof i.EthereumRpcError)return e.serialize();const c={};if(e&&"object"==typeof e&&!Array.isArray(e)&&f(e,"code")&&u(e.code)){const t=e;c.code=t.code,t.message&&"string"==typeof t.message?(c.message=t.message,f(t,"data")&&(c.data=t.data)):(c.message=s(c.code),c.data={originalError:l(e)})}else{c.code=t.code;const r=null===(n=e)||void 0===n?void 0:n.message;c.message=r&&"string"==typeof r?r:t.message,c.data={originalError:l(e)}}const d=null===(o=e)||void 0===o?void 0:o.stack;return r&&e&&d&&"string"==typeof d&&(c.stack=d),c}},2699:(e,t,r)=>{"use strict";var n,i=r(3716),o="object"==typeof Reflect?Reflect:null,a=o&&"function"==typeof o.apply?o.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function u(){u.init.call(this)}e.exports=u,e.exports.once=function(e,t){return new Promise((function(r,n){function i(){void 0!==o&&e.removeListener("error",o),r([].slice.call(arguments))}var o;"error"!==t&&(o=function(r){e.removeListener(t,i),n(r)},e.once("error",o)),e.once(t,i)}))},u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var c=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function f(e){return void 0===e._maxListeners?u.defaultMaxListeners:e._maxListeners}function d(e,t,r,n){var o,a,s,u;if(l(r),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),s=a[t]),void 0===s)s=a[t]=r,++e._eventsCount;else if("function"==typeof s?s=a[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(o=f(e))>0&&s.length>o&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,u=c,i&&i.warn&&i.warn(u)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=h.bind(n);return i.listener=r,n.wrapFn=i,i}function g(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):b(i,i.length)}function y(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function b(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),u.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},u.prototype.getMaxListeners=function(){return f(this)},u.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)a(u,this,t);else{var c=u.length,l=b(u,c);for(r=0;r<c;++r)a(l[r],this,t)}return!0},u.prototype.addListener=function(e,t){return d(this,e,t,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(e,t){return d(this,e,t,!0)},u.prototype.once=function(e,t){return l(t),this.on(e,p(this,e,t)),this},u.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,p(this,e,t)),this},u.prototype.removeListener=function(e,t){var r,n,i,o,a;if(l(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},u.prototype.listeners=function(e){return g(this,e,!0)},u.prototype.rawListeners=function(e){return g(this,e,!1)},u.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):y.call(e,t)},u.prototype.listenerCount=y,u.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},3274:(e,t,r)=>{"use strict";var n=r(8834).Buffer;const i=r(4851);e.exports=class extends i.Duplex{constructor(e){super({objectMode:!0}),this._port=e,this._port.onMessage.addListener((e=>this._onMessage(e))),this._port.onDisconnect.addListener((()=>this._onDisconnect()))}_onMessage(e){if(n.isBuffer(e)){const t=n.from(e);this.push(t)}else this.push(e)}_onDisconnect(){this.destroy()}_read(){}_write(e,t,r){try{if(n.isBuffer(e)){const t=e.toJSON();t._isBuffer=!0,this._port.postMessage(t)}else this._port.postMessage(e)}catch(e){return r(new Error("PortDuplexStream - disconnected"))}return r()}}},7847:e=>{e.exports=n,n.default=n,n.stable=a,n.stableStringify=a;var t=[],r=[];function n(e,n,o){var a;for(i(e,"",[],void 0),a=0===r.length?JSON.stringify(e,n,o):JSON.stringify(e,u(n),o);0!==t.length;){var s=t.pop();4===s.length?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}return a}function i(e,n,o,a){var s;if("object"==typeof e&&null!==e){for(s=0;s<o.length;s++)if(o[s]===e){var u=Object.getOwnPropertyDescriptor(a,n);return void(void 0!==u.get?u.configurable?(Object.defineProperty(a,n,{value:"[Circular]"}),t.push([a,n,e,u])):r.push([e,n]):(a[n]="[Circular]",t.push([a,n,e])))}if(o.push(e),Array.isArray(e))for(s=0;s<e.length;s++)i(e[s],s,o,e);else{var c=Object.keys(e);for(s=0;s<c.length;s++){var l=c[s];i(e[l],l,o,e)}}o.pop()}}function o(e,t){return e<t?-1:e>t?1:0}function a(e,n,i){var o,a=s(e,"",[],void 0)||e;for(o=0===r.length?JSON.stringify(a,n,i):JSON.stringify(a,u(n),i);0!==t.length;){var c=t.pop();4===c.length?Object.defineProperty(c[0],c[1],c[3]):c[0][c[1]]=c[2]}return o}function s(e,n,i,a){var u;if("object"==typeof e&&null!==e){for(u=0;u<i.length;u++)if(i[u]===e){var c=Object.getOwnPropertyDescriptor(a,n);return void(void 0!==c.get?c.configurable?(Object.defineProperty(a,n,{value:"[Circular]"}),t.push([a,n,e,c])):r.push([e,n]):(a[n]="[Circular]",t.push([a,n,e])))}if("function"==typeof e.toJSON)return;if(i.push(e),Array.isArray(e))for(u=0;u<e.length;u++)s(e[u],u,i,e);else{var l={},f=Object.keys(e).sort(o);for(u=0;u<f.length;u++){var d=f[u];s(e[d],d,i,e),l[d]=e[d]}if(void 0===a)return l;t.push([a,n,e]),a[n]=l}i.pop()}}function u(e){return e=void 0!==e?e:function(e,t){return t},function(t,n){if(r.length>0)for(var i=0;i<r.length;i++){var o=r[i];if(o[1]===t&&o[0]===n){n="[Circular]",r.splice(i,1);break}}return e.call(this,t,n)}}},6388:e=>{var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString;e.exports=function(e,n,i){if("[object Function]"!==r.call(n))throw new TypeError("iterator must be a function");var o=e.length;if(o===+o)for(var a=0;a<o;a++)n.call(i,e[a],a,e);else for(var s in e)t.call(e,s)&&n.call(i,e[s],s,e)}},7795:e=>{"use strict";var t="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,n=Object.prototype.toString,i="[object Function]";e.exports=function(e){var o=this;if("function"!=typeof o||n.call(o)!==i)throw new TypeError(t+o);for(var a,s=r.call(arguments,1),u=function(){if(this instanceof a){var t=o.apply(this,s.concat(r.call(arguments)));return Object(t)===t?t:this}return o.apply(e,s.concat(r.call(arguments)))},c=Math.max(0,o.length-s.length),l=[],f=0;f<c;f++)l.push("$"+f);if(a=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(u),o.prototype){var d=function(){};d.prototype=o.prototype,a.prototype=new d,d.prototype=null}return a}},4090:(e,t,r)=>{"use strict";var n=r(7795);e.exports=Function.prototype.bind||n},7286:(e,t,r)=>{"use strict";var n,i=SyntaxError,o=Function,a=TypeError,s=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(e){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(e){u=null}var c=function(){throw new a},l=u?function(){try{return c}catch(e){try{return u(arguments,"callee").get}catch(e){return c}}}():c,f=r(4123)(),d=Object.getPrototypeOf||function(e){return e.__proto__},h={},p="undefined"==typeof Uint8Array?n:d(Uint8Array),g={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":f?d([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":h,"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":h,"%AsyncIteratorPrototype%":h,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":h,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f?d(d([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&f?d((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&f?d((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f?d(""[Symbol.iterator]()):n,"%Symbol%":f?Symbol:n,"%SyntaxError%":i,"%ThrowTypeError%":l,"%TypedArray%":p,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet},y=function e(t){var r;if("%AsyncFunction%"===t)r=s("async function () {}");else if("%GeneratorFunction%"===t)r=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=s("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(r=d(i.prototype))}return g[t]=r,r},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},m=r(4090),w=r(3198),v=m.call(Function.call,Array.prototype.concat),_=m.call(Function.apply,Array.prototype.splice),S=m.call(Function.call,String.prototype.replace),E=m.call(Function.call,String.prototype.slice),O=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,R=/\\(\\)?/g,M=function(e){var t=E(e,0,1),r=E(e,-1);if("%"===t&&"%"!==r)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var n=[];return S(e,O,(function(e,t,r,i){n[n.length]=r?S(i,R,"$1"):t||e})),n},j=function(e,t){var r,n=e;if(w(b,n)&&(n="%"+(r=b[n])[0]+"%"),w(g,n)){var o=g[n];if(o===h&&(o=y(n)),void 0===o&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new a('"allowMissing" argument must be a boolean');var r=M(e),n=r.length>0?r[0]:"",o=j("%"+n+"%",t),s=o.name,c=o.value,l=!1,f=o.alias;f&&(n=f[0],_(r,v([0,1],f)));for(var d=1,h=!0;d<r.length;d+=1){var p=r[d],y=E(p,0,1),b=E(p,-1);if(('"'===y||"'"===y||"`"===y||'"'===b||"'"===b||"`"===b)&&y!==b)throw new i("property names with quotes must have matching quotes");if("constructor"!==p&&h||(l=!0),w(g,s="%"+(n+="."+p)+"%"))c=g[s];else if(null!=c){if(!(p in c)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(u&&d+1>=r.length){var m=u(c,p);c=(h=!!m)&&"get"in m&&!("originalValue"in m.get)?m.get:c[p]}else h=w(c,p),c=c[p];h&&!l&&(g[s]=c)}}return c}},4123:(e,t,r)=>{"use strict";var n=r.g.Symbol,i=r(300);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&i()}},300:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},6679:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},7226:(e,t,r)=>{"use strict";var n=r(6679);e.exports=function(){return n()&&!!Symbol.toStringTag}},3198:(e,t,r)=>{"use strict";var n=r(4090);e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},2333:(e,t)=>{t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,f=r?i-1:0,d=r?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-l)-1,h>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=d,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+e[t+f],f+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),o-=c}return(h?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[r+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+h]=255&a,h+=p,a/=256,c-=8);e[r+h-p]|=128*g}},1285:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},2635:(e,t,r)=>{"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,i=r(2680)("Object.prototype.toString"),o=function(e){return!(n&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===i(e)},a=function(e){return!!o(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==i(e)&&"[object Function]"===i(e.callee)},s=function(){return o(arguments)}();o.isLegacyArguments=a,e.exports=s?o:a},3138:(e,t,r)=>{"use strict";var n,i=Object.prototype.toString,o=Function.prototype.toString,a=/^\s*(?:function)?\*/,s=r(7226)(),u=Object.getPrototypeOf;e.exports=function(e){if("function"!=typeof e)return!1;if(a.test(o.call(e)))return!0;if(!s)return"[object GeneratorFunction]"===i.call(e);if(!u)return!1;if(void 0===n){var t=function(){if(!s)return!1;try{return Function("return function*() {}")()}catch(e){}}();n=!!t&&u(t)}return u(e)===n}},8607:e=>{"use strict";const t=e=>null!==e&&"object"==typeof e&&"function"==typeof e.pipe;t.writable=e=>t(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState,t.readable=e=>t(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState,t.duplex=e=>t.writable(e)&&t.readable(e),t.transform=e=>t.duplex(e)&&"function"==typeof e._transform&&"object"==typeof e._transformState,e.exports=t},198:(e,t,r)=>{"use strict";var n=r(6388),i=r(2191),o=r(2680),a=o("Object.prototype.toString"),s=r(7226)(),u="undefined"==typeof globalThis?r.g:globalThis,c=i(),l=o("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},f=o("String.prototype.slice"),d={},h=r(7342),p=Object.getPrototypeOf;s&&h&&p&&n(c,(function(e){var t=new u[e];if(Symbol.toStringTag in t){var r=p(t),n=h(r,Symbol.toStringTag);if(!n){var i=p(r);n=h(i,Symbol.toStringTag)}d[e]=n.get}})),e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!s||!(Symbol.toStringTag in e)){var t=f(a(e),8,-1);return l(c,t)>-1}return!!h&&function(e){var t=!1;return n(d,(function(r,n){if(!t)try{t=r.call(e)===n}catch(e){}})),t}(e)}},7906:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},2539:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.JsonRpcEngine=void 0;const i=n(r(3795)),o=r(8094);class a extends i.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,t){if(t&&"function"!=typeof t)throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?t?this._handleBatch(e,t):this._handleBatch(e):t?this._handle(e,t):this._promiseHandle(e)}asMiddleware(){return async(e,t,r,n)=>{try{const[i,o,s]=await a._runAllMiddleware(e,t,this._middleware);return o?(await a._runReturnHandlers(s),n(i)):r((async e=>{try{await a._runReturnHandlers(s)}catch(t){return e(t)}return e()}))}catch(e){return n(e)}}}async _handleBatch(e,t){try{const r=await Promise.all(e.map(this._promiseHandle.bind(this)));return t?t(null,r):r}catch(e){if(t)return t(e);throw e}}_promiseHandle(e){return new Promise((t=>{this._handle(e,((e,r)=>{t(r)}))}))}async _handle(e,t){if(!e||Array.isArray(e)||"object"!=typeof e){const r=new o.EthereumRpcError(o.errorCodes.rpc.invalidRequest,"Requests must be plain objects. Received: "+typeof e,{request:e});return t(r,{id:void 0,jsonrpc:"2.0",error:r})}if("string"!=typeof e.method){const r=new o.EthereumRpcError(o.errorCodes.rpc.invalidRequest,"Must specify a string method. Received: "+typeof e.method,{request:e});return t(r,{id:e.id,jsonrpc:"2.0",error:r})}const r=Object.assign({},e),n={id:r.id,jsonrpc:r.jsonrpc};let i=null;try{await this._processRequest(r,n)}catch(e){i=e}return i&&(delete n.result,n.error||(n.error=o.serializeError(i))),t(i,n)}async _processRequest(e,t){const[r,n,i]=await a._runAllMiddleware(e,t,this._middleware);if(a._checkForCompletion(e,t,n),await a._runReturnHandlers(i),r)throw r}static async _runAllMiddleware(e,t,r){const n=[];let i=null,o=!1;for(const s of r)if([i,o]=await a._runMiddleware(e,t,s,n),o)break;return[i,o,n.reverse()]}static _runMiddleware(e,t,r,n){return new Promise((i=>{const a=e=>{const r=e||t.error;r&&(t.error=o.serializeError(r)),i([r,!0])},u=r=>{t.error?a(t.error):(r&&("function"!=typeof r&&a(new o.EthereumRpcError(o.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof r}" for request:\n${s(e)}`,{request:e})),n.push(r)),i([null,!1]))};try{r(e,t,u,a)}catch(e){a(e)}}))}static async _runReturnHandlers(e){for(const t of e)await new Promise(((e,r)=>{t((t=>t?r(t):e()))}))}static _checkForCompletion(e,t,r){if(!("result"in t)&&!("error"in t))throw new o.EthereumRpcError(o.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:\n${s(e)}`,{request:e});if(!r)throw new o.EthereumRpcError(o.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:\n${s(e)}`,{request:e})}}function s(e){return JSON.stringify(e,null,2)}t.JsonRpcEngine=a},7573:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAsyncMiddleware=void 0,t.createAsyncMiddleware=function(e){return async(t,r,n,i)=>{let o;const a=new Promise((e=>{o=e}));let s=null,u=!1;const c=async()=>{u=!0,n((e=>{s=e,o()})),await a};try{await e(t,r,c),u?(await a,s(null)):i(null)}catch(e){s?s(e):i(e)}}}},9141:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createScaffoldMiddleware=void 0,t.createScaffoldMiddleware=function(e){return(t,r,n,i)=>{const o=e[t.method];return void 0===o?n():"function"==typeof o?o(t,r,n,i):(r.result=o,i())}}},5104:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUniqueId=void 0;const r=4294967295;let n=Math.floor(Math.random()*r);t.getUniqueId=function(){return n=(n+1)%r,n}},169:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createIdRemapMiddleware=void 0;const n=r(5104);t.createIdRemapMiddleware=function(){return(e,t,r,i)=>{const o=e.id,a=n.getUniqueId();e.id=a,t.id=a,r((r=>{e.id=o,t.id=o,r()}))}}},1280:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(169),t),i(r(7573),t),i(r(9141),t),i(r(5104),t),i(r(2539),t),i(r(1759),t)},1759:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeMiddleware=void 0;const n=r(2539);t.mergeMiddleware=function(e){const t=new n.JsonRpcEngine;return e.forEach((e=>t.push(e))),t.asMiddleware()}},2408:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(7525);t.default=function(e){if(!e||!e.engine)throw new Error("Missing engine parameter!");const{engine:t}=e,r=new n.Duplex({objectMode:!0,read:function(){},write:function(e,n,i){t.handle(e,((e,t)=>{r.push(t)})),i()}});return t.on&&t.on("notification",(e=>{r.push(e)})),r}},3603:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(3795)),o=r(7525);t.default=function(){const e={},t=new o.Duplex({objectMode:!0,read:function(){return!1},write:function(t,n,i){let o;try{t.id?function(t){const r=e[t.id];if(!r)throw new Error(`StreamMiddleware - Unknown response id "${t.id}"`);delete e[t.id],Object.assign(r.res,t),setTimeout(r.end)}(t):function(e){r.emit("notification",e)}(t)}catch(e){o=e}i(o)}}),r=new i.default;return{events:r,middleware:(r,n,i,o)=>{t.push(r),e[r.id]={req:r,res:n,next:i,end:o}},stream:t}}},1384:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createStreamMiddleware=t.createEngineStream=void 0;const i=n(r(2408));t.createEngineStream=i.default;const o=n(r(3603));t.createStreamMiddleware=o.default},7320:e=>{"use strict";var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var a,s,u=i(e),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))r.call(a,l)&&(u[l]=a[l]);if(t){s=t(a);for(var f=0;f<s.length;f++)n.call(a,s[f])&&(u[s[f]]=a[s[f]])}}return u}},9928:(e,t,r)=>{var n=r(8892);function i(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}e.exports=n(i),e.exports.strict=n(o),i.proto=i((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})}))},2884:(e,t,r)=>{"use strict";var n=r(4406);void 0===n||!n.version||0===n.version.indexOf("v0.")||0===n.version.indexOf("v1.")&&0!==n.version.indexOf("v1.8.")?e.exports={nextTick:function(e,t,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return n.nextTick(e);case 2:return n.nextTick((function(){e.call(null,t)}));case 3:return n.nextTick((function(){e.call(null,t,r)}));case 4:return n.nextTick((function(){e.call(null,t,r,i)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return n.nextTick((function(){e.apply(null,o)}))}}}:e.exports=n},4406:e=>{var t,r,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var s,u=[],c=!1,l=-1;function f(){c&&s&&(c=!1,s.length?u=s.concat(u):l=-1,u.length&&d())}function d(){if(!c){var e=a(f);c=!0;for(var t=u.length;t;){for(s=u,u=[];++l<t;)s&&s[l].run();l=-1,t=u.length}s=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new h(e,t)),1!==u.length||c||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},3171:(e,t,r)=>{var n=r(4406),i=r(9928),o=r(8797),a=r(3558),s=function(){},u=/^v?\.0/.test(n.version),c=function(e){return"function"==typeof e},l=function(e,t,r,n){n=i(n);var l=!1;e.on("close",(function(){l=!0})),o(e,{readable:t,writable:r},(function(e){if(e)return n(e);l=!0,n()}));var f=!1;return function(t){if(!l&&!f)return f=!0,function(e){return!!u&&!!a&&(e instanceof(a.ReadStream||s)||e instanceof(a.WriteStream||s))&&c(e.close)}(e)?e.close(s):function(e){return e.setHeader&&c(e.abort)}(e)?e.abort():c(e.destroy)?e.destroy():void n(t||new Error("stream was destroyed"))}},f=function(e){e()},d=function(e,t){return e.pipe(t)};e.exports=function(){var e,t=Array.prototype.slice.call(arguments),r=c(t[t.length-1]||s)&&t.pop()||s;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var n=t.map((function(i,o){var a=o<t.length-1;return l(i,a,o>0,(function(t){e||(e=t),t&&n.forEach(f),a||(n.forEach(f),r(e))}))}));return t.reduce(d)}},7073:(e,t,r)=>{"use strict";var n=r(2884),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=f;var o=Object.create(r(7646));o.inherits=r(1285);var a=r(8051),s=r(2557);o.inherits(f,a);for(var u=i(s.prototype),c=0;c<u.length;c++){var l=u[c];f.prototype[l]||(f.prototype[l]=s.prototype[l])}function f(e){if(!(this instanceof f))return new f(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||n.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},5163:(e,t,r)=>{"use strict";e.exports=o;var n=r(7640),i=Object.create(r(7646));function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}i.inherits=r(1285),i.inherits(o,n),o.prototype._transform=function(e,t,r){r(null,e)}},8051:(e,t,r)=>{"use strict";var n=r(4406),i=r(2884);e.exports=w;var o,a=r(7906);w.ReadableState=m,r(2699).EventEmitter;var s=function(e,t){return e.listeners(t).length},u=r(5010),c=r(2521).Buffer,l=r.g.Uint8Array||function(){},f=Object.create(r(7646));f.inherits=r(1285);var d=r(6602),h=void 0;h=d&&d.debuglog?d.debuglog("stream"):function(){};var p,g=r(9128),y=r(2262);f.inherits(w,u);var b=["error","close","destroy","pause","resume"];function m(e,t){e=e||{};var n=t instanceof(o=o||r(7073));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=r(1922).s),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function w(e){if(o=o||r(7073),!(this instanceof w))return new w(e);this._readableState=new m(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function v(e,t,r,n,i){var o,a=e._readableState;return null===t?(a.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,O(e)}}(e,a)):(i||(o=function(e,t){var r,n;return n=t,c.isBuffer(n)||n instanceof l||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),n?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):_(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?_(e,a,t,!1):M(e,a)):_(e,a,t,!1))):n||(a.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function _(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&O(e)),M(e,t)}Object.defineProperty(w.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),w.prototype.destroy=y.destroy,w.prototype._undestroy=y.undestroy,w.prototype._destroy=function(e,t){this.push(null),t(e)},w.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),r=!0),v(this,e,t,!1,r)},w.prototype.unshift=function(e){return v(this,e,null,!0,!1)},w.prototype.isPaused=function(){return!1===this._readableState.flowing},w.prototype.setEncoding=function(e){return p||(p=r(1922).s),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var S=8388608;function E(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=S?e=S:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function O(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(R,e):R(e))}function R(e){h("emit readable"),e.emit("readable"),A(e)}function M(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(j,e,t))}function j(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function P(e){h("readable nexttick read 0"),e.read(0)}function k(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),A(e),t.flowing&&!t.reading&&e.read(0)}function A(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function x(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0==(e-=a)){a===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=c.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,a),0==(e-=a)){a===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++i}return t.length-=i,r}(e,t),n}(e,t.buffer,t.decoder),r);var r}function C(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(T,t,e))}function T(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function N(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}w.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?C(this):O(this),null;if(0===(e=E(e,t))&&t.ended)return 0===t.length&&C(this),null;var n,i=t.needReadable;return h("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",i=!0),t.ended||t.reading?h("reading or ended",i=!1):i&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=E(r,t))),null===(n=e>0?x(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&C(this)),null!==n&&this.emit("data",n),n},w.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},w.prototype.pipe=function(e,t){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,h("pipe count=%d opts=%j",o.pipesCount,t);var u=t&&!1===t.end||e===n.stdout||e===n.stderr?m:c;function c(){h("onend"),e.end()}o.endEmitted?i.nextTick(u):r.once("end",u),e.on("unpipe",(function t(n,i){h("onunpipe"),n===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,h("cleanup"),e.removeListener("close",y),e.removeListener("finish",b),e.removeListener("drain",l),e.removeListener("error",g),e.removeListener("unpipe",t),r.removeListener("end",c),r.removeListener("end",m),r.removeListener("data",p),f=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}));var l=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,A(e))}}(r);e.on("drain",l);var f=!1,d=!1;function p(t){h("ondata"),d=!1,!1!==e.write(t)||d||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==N(o.pipes,e))&&!f&&(h("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,d=!0),r.pause())}function g(t){h("onerror",t),m(),e.removeListener("error",g),0===s(e,"error")&&e.emit("error",t)}function y(){e.removeListener("finish",b),m()}function b(){h("onfinish"),e.removeListener("close",y),m()}function m(){h("unpipe"),r.unpipe(e)}return r.on("data",p),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events.error?a(e._events.error)?e._events.error.unshift(r):e._events.error=[r,e._events.error]:e.on(t,r)}(e,"error",g),e.once("close",y),e.once("finish",b),e.emit("pipe",r),o.flowing||(h("pipe resume"),r.resume()),e},w.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var a=N(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},w.prototype.on=function(e,t){var r=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&O(this):i.nextTick(P,this))}return r},w.prototype.addListener=w.prototype.on,w.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(k,e,t))}(this,e)),this},w.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},w.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(h("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){h("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<b.length;o++)e.on(b[o],this.emit.bind(this,b[o]));return this._read=function(t){h("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(w.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),w._fromList=x},7640:(e,t,r)=>{"use strict";e.exports=a;var n=r(7073),i=Object.create(r(7646));function o(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);n.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush((function(t,r){u(e,t,r)})):u(this,null,null)}function u(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=r(1285),i.inherits(a,n),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,(function(e){t(e),r.emit("close")}))}},2557:(e,t,r)=>{"use strict";var n=r(4406),i=r(2884);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=b;var a,s=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?setImmediate:i.nextTick;b.WritableState=y;var u=Object.create(r(7646));u.inherits=r(1285);var c,l={deprecate:r(5803)},f=r(5010),d=r(2521).Buffer,h=r.g.Uint8Array||function(){},p=r(2262);function g(){}function y(e,t){a=a||r(7073),e=e||{};var n=t instanceof a;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var u=e.highWaterMark,c=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=u||0===u?u:n&&(c||0===c)?c:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===e.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,o){--t.pendingcb,r?(i.nextTick(o,n),i.nextTick(E,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(o(n),e._writableState.errorEmitted=!0,e.emit("error",n),E(e,t))}(e,r,n,t,o);else{var a=_(r);a||r.corked||r.bufferProcessing||!r.bufferedRequest||v(e,r),n?s(w,e,r,a,o):w(e,r,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function b(e){if(a=a||r(7073),!(c.call(b,this)||this instanceof a))return new b(e);this._writableState=new y(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),f.call(this)}function m(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function w(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),E(e,t)}function v(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),a=t.corkedRequestsFree;a.entry=r;for(var s=0,u=!0;r;)i[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;i.allBuffers=u,m(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,f=r.callback;if(m(e,t,!1,t.objectMode?1:c.length,c,l,f),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function _(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),E(e,t)}))}function E(e,t){var r=_(t);return r&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,i.nextTick(S,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}u.inherits(b,f),y.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(y.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===b&&e&&e._writableState instanceof y}})):c=function(e){return e instanceof this},b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},b.prototype.write=function(e,t,r){var n,o=this._writableState,a=!1,s=!o.objectMode&&(n=e,d.isBuffer(n)||n instanceof h);return s&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=g),o.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),i.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var o=!0,a=!1;return null===r?a=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),i.nextTick(n,a),o=!1),o}(this,o,e,r))&&(o.pendingcb++,a=function(e,t,r,n,i,o){if(!r){var a=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,r)),t}(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,s,n,i,o);return u}(this,o,s,e,t,r)),a},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||v(this,e))},b.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),b.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,E(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),b.prototype.destroy=p.destroy,b.prototype._undestroy=p.undestroy,b.prototype._destroy=function(e,t){this.end(),t(e)}},9128:(e,t,r)=>{"use strict";var n=r(2521).Buffer,i=r(4854);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,i=n.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=i,r=a,o.data.copy(t,r),a+=o.data.length,o=o.next;return i},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},2262:(e,t,r)=>{"use strict";var n=r(2884);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(n.nextTick(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},5010:(e,t,r)=>{e.exports=r(2699).EventEmitter},2521:(e,t,r)=>{var n=r(8834),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},1922:(e,t,r)=>{"use strict";var n=r(2521).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},7525:(e,t,r)=>{(t=e.exports=r(8051)).Stream=t,t.Readable=t,t.Writable=r(2557),t.Duplex=r(7073),t.Transform=r(7640),t.PassThrough=r(5163)},7834:(e,t,r)=>{var n=r(8834),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},4851:(e,t,r)=>{e.exports=i;var n=r(2699).EventEmitter;function i(){n.call(this)}r(1285)(i,n),i.Readable=r(3323),i.Writable=r(8234),i.Duplex=r(5929),i.Transform=r(9535),i.PassThrough=r(7706),i.finished=r(2529),i.pipeline=r(9125),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(r.on("end",s),r.on("close",u));var a=!1;function s(){a||(a=!0,e.end())}function u(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(l(),0===n.listenerCount(this,"error"))throw e}function l(){r.removeListener("data",i),e.removeListener("drain",o),r.removeListener("end",s),r.removeListener("close",u),r.removeListener("error",c),e.removeListener("error",c),r.removeListener("end",l),r.removeListener("close",l),e.removeListener("close",l)}return r.on("error",c),e.on("error",c),r.on("end",l),r.on("close",l),e.on("close",l),e.emit("pipe",r),e}},9150:e=>{"use strict";var t={};function r(e,r,n){n||(n=Error);var i=function(e){var t,n;function i(t,n,i){return e.call(this,function(e,t,n){return"string"==typeof r?r:r(e,t,n)}(t,n,i))||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(n);i.prototype.name=n.name,i.prototype.code=e,t[e]=i}function n(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){var i,o,a,s,u;if("string"==typeof t&&(o="not ",t.substr(0,o.length)===o)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))a="The ".concat(e," ").concat(i," ").concat(n(t,"type"));else{var c=("number"!=typeof u&&(u=0),u+".".length>(s=e).length||-1===s.indexOf(".",u)?"argument":"property");a='The "'.concat(e,'" ').concat(c," ").concat(i," ").concat(n(t,"type"))}return a+". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},5929:(e,t,r)=>{"use strict";var n=r(4406),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=l;var o=r(3323),a=r(8234);r(1285)(l,o);for(var s=i(a.prototype),u=0;u<s.length;u++){var c=s[u];l.prototype[c]||(l.prototype[c]=a.prototype[c])}function l(e){if(!(this instanceof l))return new l(e);o.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||n.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},7706:(e,t,r)=>{"use strict";e.exports=i;var n=r(9535);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(1285)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},3323:(e,t,r)=>{"use strict";var n,i=r(4406);e.exports=R,R.ReadableState=O,r(2699).EventEmitter;var o,a=function(e,t){return e.listeners(t).length},s=r(4811),u=r(8834).Buffer,c=r.g.Uint8Array||function(){},l=r(9255);o=l&&l.debuglog?l.debuglog("stream"):function(){};var f,d,h,p=r(3413),g=r(163),y=r(4774).getHighWaterMark,b=r(9150).q,m=b.ERR_INVALID_ARG_TYPE,w=b.ERR_STREAM_PUSH_AFTER_EOF,v=b.ERR_METHOD_NOT_IMPLEMENTED,_=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(1285)(R,s);var S=g.errorOrDestroy,E=["error","close","destroy","pause","resume"];function O(e,t,i){n=n||r(5929),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=y(this,e,"readableHighWaterMark",i),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=r(214).s),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function R(e){if(n=n||r(5929),!(this instanceof R))return new R(e);var t=this instanceof n;this._readableState=new O(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function M(e,t,r,n,i){o("readableAddChunk",t);var a,s=e._readableState;if(null===t)s.reading=!1,function(e,t){if(o("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?A(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,x(e)))}}(e,s);else if(i||(a=function(e,t){var r,n;return n=t,u.isBuffer(n)||n instanceof c||"string"==typeof t||void 0===t||e.objectMode||(r=new m("chunk",["string","Buffer","Uint8Array"],t)),r}(s,t)),a)S(e,a);else if(s.objectMode||t&&t.length>0)if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),n)s.endEmitted?S(e,new _):j(e,s,t,!0);else if(s.ended)S(e,new w);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?j(e,s,t,!1):C(e,s)):j(e,s,t,!1)}else n||(s.reading=!1,C(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function j(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&A(e)),C(e,t)}Object.defineProperty(R.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),R.prototype.destroy=g.destroy,R.prototype._undestroy=g.undestroy,R.prototype._destroy=function(e,t){t(e)},R.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=u.from(e,t),t=""),r=!0),M(this,e,t,!1,r)},R.prototype.unshift=function(e){return M(this,e,null,!0,!1)},R.prototype.isPaused=function(){return!1===this._readableState.flowing},R.prototype.setEncoding=function(e){f||(f=r(214).s);var t=new f(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var P=1073741824;function k(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=P?e=P:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function A(e){var t=e._readableState;o("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(o("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(x,e))}function x(e){var t=e._readableState;o("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,D(e)}function C(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(T,e,t))}function T(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(o("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function N(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function I(e){o("readable nexttick read 0"),e.read(0)}function B(e,t){o("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),D(e),t.flowing&&!t.reading&&e.read(0)}function D(e){var t=e._readableState;for(o("flow",t.flowing);t.flowing&&null!==e.read(););}function L(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function U(e){var t=e._readableState;o("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(q,t,e))}function q(e,t){if(o("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function F(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}R.prototype.read=function(e){o("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return o("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?U(this):A(this),null;if(0===(e=k(e,t))&&t.ended)return 0===t.length&&U(this),null;var n,i=t.needReadable;return o("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&o("length less than watermark",i=!0),t.ended||t.reading?o("reading or ended",i=!1):i&&(o("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=k(r,t))),null===(n=e>0?L(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&U(this)),null!==n&&this.emit("data",n),n},R.prototype._read=function(e){S(this,new v("_read()"))},R.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,o("pipe count=%d opts=%j",n.pipesCount,t);var s=t&&!1===t.end||e===i.stdout||e===i.stderr?g:u;function u(){o("onend"),e.end()}n.endEmitted?i.nextTick(s):r.once("end",s),e.on("unpipe",(function t(i,a){o("onunpipe"),i===r&&a&&!1===a.hasUnpiped&&(a.hasUnpiped=!0,o("cleanup"),e.removeListener("close",h),e.removeListener("finish",p),e.removeListener("drain",c),e.removeListener("error",d),e.removeListener("unpipe",t),r.removeListener("end",u),r.removeListener("end",g),r.removeListener("data",f),l=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}));var c=function(e){return function(){var t=e._readableState;o("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,D(e))}}(r);e.on("drain",c);var l=!1;function f(t){o("ondata");var i=e.write(t);o("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==F(n.pipes,e))&&!l&&(o("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function d(t){o("onerror",t),g(),e.removeListener("error",d),0===a(e,"error")&&S(e,t)}function h(){e.removeListener("finish",p),g()}function p(){o("onfinish"),e.removeListener("close",h),g()}function g(){o("unpipe"),r.unpipe(e)}return r.on("data",f),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events.error?Array.isArray(e._events.error)?e._events.error.unshift(r):e._events.error=[r,e._events.error]:e.on(t,r)}(e,"error",d),e.once("close",h),e.once("finish",p),e.emit("pipe",r),n.flowing||(o("pipe resume"),r.resume()),e},R.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=F(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},R.prototype.on=function(e,t){var r=s.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,o("on readable",n.length,n.reading),n.length?A(this):n.reading||i.nextTick(I,this))),r},R.prototype.addListener=R.prototype.on,R.prototype.removeListener=function(e,t){var r=s.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(N,this),r},R.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||i.nextTick(N,this),t},R.prototype.resume=function(){var e=this._readableState;return e.flowing||(o("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(B,e,t))}(this,e)),e.paused=!1,this},R.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},R.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(o("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){o("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<E.length;a++)e.on(E[a],this.emit.bind(this,E[a]));return this._read=function(t){o("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(R.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=r(4020)),d(this)}),Object.defineProperty(R.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(R.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(R.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),R._fromList=L,Object.defineProperty(R.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(R.from=function(e,t){return void 0===h&&(h=r(7324)),h(R,e,t)})},9535:(e,t,r)=>{"use strict";e.exports=l;var n=r(9150).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,a=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=n.ERR_TRANSFORM_WITH_LENGTH_0,u=r(5929);function c(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);u.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,r){d(e,t,r)}))}function d(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}r(1285)(l,u),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new i("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))}},8234:(e,t,r)=>{"use strict";var n,i=r(4406);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=R,R.WritableState=O;var a,s={deprecate:r(5803)},u=r(4811),c=r(8834).Buffer,l=r.g.Uint8Array||function(){},f=r(163),d=r(4774).getHighWaterMark,h=r(9150).q,p=h.ERR_INVALID_ARG_TYPE,g=h.ERR_METHOD_NOT_IMPLEMENTED,y=h.ERR_MULTIPLE_CALLBACK,b=h.ERR_STREAM_CANNOT_PIPE,m=h.ERR_STREAM_DESTROYED,w=h.ERR_STREAM_NULL_VALUES,v=h.ERR_STREAM_WRITE_AFTER_END,_=h.ERR_UNKNOWN_ENCODING,S=f.errorOrDestroy;function E(){}function O(e,t,a){n=n||r(5929),e=e||{},"boolean"!=typeof a&&(a=t instanceof n),this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if("function"!=typeof o)throw new y;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,o){--t.pendingcb,r?(i.nextTick(o,n),i.nextTick(x,e,t),e._writableState.errorEmitted=!0,S(e,n)):(o(n),e._writableState.errorEmitted=!0,S(e,n),x(e,t))}(e,r,n,t,o);else{var a=k(r)||e.destroyed;a||r.corked||r.bufferProcessing||!r.bufferedRequest||P(e,r),n?i.nextTick(j,e,r,a,o):j(e,r,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function R(e){var t=this instanceof(n=n||r(5929));if(!t&&!a.call(R,this))return new R(e);this._writableState=new O(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),u.call(this)}function M(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new m("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function j(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),x(e,t)}function P(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),a=t.corkedRequestsFree;a.entry=r;for(var s=0,u=!0;r;)i[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;i.allBuffers=u,M(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,f=r.callback;if(M(e,t,!1,t.objectMode?1:c.length,c,l,f),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function k(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function A(e,t){e._final((function(r){t.pendingcb--,r&&S(e,r),t.prefinished=!0,e.emit("prefinish"),x(e,t)}))}function x(e,t){var r=k(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,i.nextTick(A,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r(1285)(R,u),O.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(O.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(a=Function.prototype[Symbol.hasInstance],Object.defineProperty(R,Symbol.hasInstance,{value:function(e){return!!a.call(this,e)||this===R&&e&&e._writableState instanceof O}})):a=function(e){return e instanceof this},R.prototype.pipe=function(){S(this,new b)},R.prototype.write=function(e,t,r){var n,o=this._writableState,a=!1,s=!o.objectMode&&(n=e,c.isBuffer(n)||n instanceof l);return s&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=E),o.ending?function(e,t){var r=new v;S(e,r),i.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var o;return null===r?o=new w:"string"==typeof r||t.objectMode||(o=new p("chunk",["string","Buffer"],r)),!o||(S(e,o),i.nextTick(n,o),!1)}(this,o,e,r))&&(o.pendingcb++,a=function(e,t,r,n,i,o){if(!r){var a=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,r)),t}(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else M(e,t,!1,s,n,i,o);return u}(this,o,s,e,t,r)),a},R.prototype.cork=function(){this._writableState.corked++},R.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||P(this,e))},R.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new _(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(R.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(R.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),R.prototype._write=function(e,t,r){r(new g("_write()"))},R.prototype._writev=null,R.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,x(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(R.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(R.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),R.prototype.destroy=f.destroy,R.prototype._undestroy=f.undestroy,R.prototype._destroy=function(e,t){t(e)}},4020:(e,t,r)=>{"use strict";var n,i=r(4406);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(2529),s=Symbol("lastResolve"),u=Symbol("lastReject"),c=Symbol("error"),l=Symbol("ended"),f=Symbol("lastPromise"),d=Symbol("handlePromise"),h=Symbol("stream");function p(e,t){return{value:e,done:t}}function g(e){var t=e[s];if(null!==t){var r=e[h].read();null!==r&&(e[f]=null,e[s]=null,e[u]=null,t(p(r,!1)))}}function y(e){i.nextTick(g,e)}var b=Object.getPrototypeOf((function(){})),m=Object.setPrototypeOf((o(n={get stream(){return this[h]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[l])return Promise.resolve(p(void 0,!0));if(this[h].destroyed)return new Promise((function(t,r){i.nextTick((function(){e[c]?r(e[c]):t(p(void 0,!0))}))}));var r,n=this[f];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[l]?r(p(void 0,!0)):t[d](r,n)}),n)}}(n,this));else{var o=this[h].read();if(null!==o)return Promise.resolve(p(o,!1));r=new Promise(this[d])}return this[f]=r,r}},Symbol.asyncIterator,(function(){return this})),o(n,"return",(function(){var e=this;return new Promise((function(t,r){e[h].destroy(null,(function(e){e?r(e):t(p(void 0,!0))}))}))})),n),b);e.exports=function(e){var t,r=Object.create(m,(o(t={},h,{value:e,writable:!0}),o(t,s,{value:null,writable:!0}),o(t,u,{value:null,writable:!0}),o(t,c,{value:null,writable:!0}),o(t,l,{value:e._readableState.endEmitted,writable:!0}),o(t,d,{value:function(e,t){var n=r[h].read();n?(r[f]=null,r[s]=null,r[u]=null,e(p(n,!1))):(r[s]=e,r[u]=t)},writable:!0}),t));return r[f]=null,a(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[u];return null!==t&&(r[f]=null,r[s]=null,r[u]=null,t(e)),void(r[c]=e)}var n=r[s];null!==n&&(r[f]=null,r[s]=null,r[u]=null,n(p(void 0,!0))),r[l]=!0})),e.on("readable",y.bind(null,r)),r}},3413:(e,t,r)=>{"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=r(8834).Buffer,s=r(7267).inspect,u=s&&s.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r;return t=e,r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t,r,n,i=a.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,r=i,n=s,a.prototype.copy.call(t,r,n),s+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:u,value:function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],r&&o(t.prototype,r),e}()},163:(e,t,r)=>{"use strict";var n=r(4406);function i(e,t){a(e,t),o(e)}function o(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function a(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,s=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return s||u?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(a,this,e)):n.nextTick(a,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?n.nextTick(o,r):(r._writableState.errorEmitted=!0,n.nextTick(i,r,e)):n.nextTick(i,r,e):t?(n.nextTick(o,r),t(e)):n.nextTick(o,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},2529:(e,t,r)=>{"use strict";var n=r(9150).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var a=r.readable||!1!==r.readable&&t.readable,s=r.writable||!1!==r.writable&&t.writable,u=function(){t.writable||l()},c=t._writableState&&t._writableState.finished,l=function(){s=!1,c=!0,a||o.call(t)},f=t._readableState&&t._readableState.endEmitted,d=function(){a=!1,f=!0,s||o.call(t)},h=function(e){o.call(t,e)},p=function(){var e;return a&&!f?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):s&&!c?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},g=function(){t.req.on("finish",l)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",l),t.on("abort",p),t.req?g():t.on("request",g)):s&&!t._writableState&&(t.on("end",u),t.on("close",u)),t.on("end",d),t.on("finish",l),!1!==r.error&&t.on("error",h),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",g),t.req&&t.req.removeListener("finish",l),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",l),t.removeListener("end",d),t.removeListener("error",h),t.removeListener("close",p)}}},7324:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},9125:(e,t,r)=>{"use strict";var n,i=r(9150).q,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function u(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var s=!1;e.on("close",(function(){s=!0})),void 0===n&&(n=r(2529)),n(e,{readable:t,writable:i},(function(e){if(e)return o(e);s=!0,o()}));var u=!1;return function(t){if(!s&&!u)return u=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new a("pipe"))}}function c(e){e()}function l(e,t){return e.pipe(t)}function f(e){return e.length?"function"!=typeof e[e.length-1]?s:e.pop():s}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=f(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var a=t.map((function(e,r){var o=r<t.length-1;return u(e,o,r>0,(function(e){n||(n=e),e&&a.forEach(c),o||(a.forEach(c),i(n))}))}));return t.reduce(l)}},4774:(e,t,r)=>{"use strict";var n=r(9150).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},4811:(e,t,r)=>{e.exports=r(2699).EventEmitter},214:(e,t,r)=>{"use strict";var n=r(7834).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},4221:(e,t)=>{"use strict";function r(e,t){return"string"==typeof e}function n(e,t){return"2.0"===e}function i(e,t){return"number"==typeof e}function o(e,t){return Array.isArray(e)&&e.every((e=>!0))}function a(e,t){return(null!==e&&"object"==typeof e||"function"==typeof e)&&Object.entries(e).every((([e,t])=>r(e)))}Object.defineProperty(t,"__esModule",{value:!0}),t.isSnapRpc=t.isExecuteSnap=t.isPing=t.isAnyOfSnapNameSourceCodeEndowmentsTargetOriginJsonRpcRequestOKOKSnapRpcResult=t.isSnapRpcResult=t.isOK=t.isJsonRpcRequest=t.isOrigin=t.isTarget=t.isEndowments=t.isSourceCode=t.isSnapName=t.isJSONRPCParams=t.isJSONRPCParamsAsObject=t.isJSONRPCParamsAsArray=t.isJSONRPCMethod=t.isJSONRPCID=t.isNumberHo1ClIqD=t.isStringDoaGddGA=t.isJSONRPCString=t.isEndowment=void 0,t.isEndowment=r,t.isJSONRPCString=n,t.isStringDoaGddGA=function(e,t){return"string"==typeof e},t.isNumberHo1ClIqD=i,t.isJSONRPCID=function(e,t){return r(e)||i(e)},t.isJSONRPCMethod=function(e,t){return"string"==typeof e},t.isJSONRPCParamsAsArray=o,t.isJSONRPCParamsAsObject=a,t.isJSONRPCParams=function(e,t){return o(e)||a(e)},t.isSnapName=function(e,t){return"string"==typeof e},t.isSourceCode=function(e,t){return"string"==typeof e},t.isEndowments=function(e,t){return Array.isArray(e)&&e.every((e=>r(e)))},t.isTarget=function(e,t){return"string"==typeof e},t.isOrigin=function(e,t){return"string"==typeof e},t.isJsonRpcRequest=function(e,t){return(null!==e&&"object"==typeof e||"function"==typeof e)&&n(e.jsonrpc)&&(void 0===e.id||r(e.id)||i(e.id))&&r(e.method)&&(void 0===e.params||o(e.params)||a(e.params))&&Object.entries(e).filter((([e])=>!["jsonrpc","id","method","params"].includes(e))).every((([e,t])=>r(e)))},t.isOK=function(e,t){return"OK"===e},t.isSnapRpcResult=function(e,t){return!0},t.isAnyOfSnapNameSourceCodeEndowmentsTargetOriginJsonRpcRequestOKOKSnapRpcResult=function(e,t){return!0},t.isPing=function(e,t){return"function"==typeof e},t.isExecuteSnap=function(e,t){return"function"==typeof e},t.isSnapRpc=function(e,t){return"function"==typeof e}},132:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseSnapExecutor=void 0;const o=r(2972),a=r(9826),s=i(r(201)),u=r(4221),c=r(5930),l=r(2931),f=r(6455),d=r(6435),h={code:a.errorCodes.rpc.internal,message:"Execution Environment Error"};t.BaseSnapExecutor=class{constructor(e,t){this.snapRpcHandlers=new Map,this.commandStream=e,this.commandStream.on("data",this.onCommandRequest.bind(this)),this.rpcStream=t,this.methods=c.rpcMethods(this.startSnap.bind(this),((e,t,r)=>{const n=this.snapRpcHandlers.get(e);if(!n)throw new Error(`No RPC handler registered for snap "${e}`);return n(t,r)}))}errorHandler(e,t={}){const r=a.serializeError(e,{fallbackError:h,shouldIncludeStack:!0});this.notify({error:Object.assign(Object.assign({},r),{data:Object.assign(Object.assign({},t),{stack:r.stack})})})}async onCommandRequest(e){if(!u.isJsonRpcRequest(e))throw new Error("Command stream received a non Json Rpc Request");const{id:t,method:r,params:n}=e;if(void 0===t)throw new Error("Notifications not supported");if("rpc.discover"===r)return void this.respond(t,{result:s.default});const i=s.default.methods.find((e=>e.name===r));if(!i||!this.methods[r])return void this.respond(t,{error:a.ethErrors.rpc.methodNotFound({data:{method:r}}).serialize()});const o=l.sortParamKeys(i,n);try{const e=await this.methods[r](...o);this.respond(t,{result:e})}catch(e){this.respond(t,{error:a.serializeError(e,{fallbackError:h})})}}notify(e){this.commandStream.write(Object.assign(Object.assign({},e),{jsonrpc:"2.0"}))}respond(e,t){this.commandStream.write(Object.assign(Object.assign({},t),{id:e,jsonrpc:"2.0"}))}startSnap(e,t,r){n.log(`starting snap '${e}' in worker`),this.snapPromiseErrorHandler&&d.rootRealmGlobal.removeEventListener("unhandledrejection",this.snapPromiseErrorHandler),this.snapErrorHandler&&d.rootRealmGlobal.removeEventListener("error",this.snapErrorHandler),this.snapErrorHandler=t=>{this.errorHandler(t.error,{snapName:e})},this.snapPromiseErrorHandler=t=>{this.errorHandler(t.reason,{snapName:e})};const i=this.createSnapProvider(e);try{const e=f.createEndowments(i,r);new Compartment(Object.assign(Object.assign({},e),{window:Object.assign({},e),self:Object.assign({},e)})).evaluate(t),d.rootRealmGlobal.addEventListener("unhandledrejection",this.snapPromiseErrorHandler),d.rootRealmGlobal.addEventListener("error",this.snapErrorHandler)}catch(t){throw this.removeSnap(e),new Error(`Error while running snap '${e}': ${t.message}`)}}createSnapProvider(e){const t=new o.MetaMaskInpageProvider(this.rpcStream,{shouldSendMetadata:!1});return t.registerRpcMessageHandler=t=>{if(n.log("Worker: Registering RPC message handler",t),this.snapRpcHandlers.has(e))throw new Error("RPC handler already registered.");this.snapRpcHandlers.set(e,t)},t}removeSnap(e){this.snapRpcHandlers.delete(e)}}},3008:(e,t,r)=>{"use strict";var n=r(8834).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i={names:["Buffer"],factory:()=>({Buffer:n})};t.default=i},6455:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createEndowments=void 0;const i=r(6435),o=n(r(3008)),a=n(r(3941)),s=n(r(9191)),u=[o.default,a.default,s.default].reduce(((e,t)=>(t.names.forEach((r=>{e.set(r,t.factory)})),e)),new Map);t.createEndowments=function(e,t=[]){const r={};return t.reduce(((e,t)=>{if(u.has(t))Object.hasOwnProperty.call(r,t)||Object.assign(r,u.get(t)()),e[t]=r[t];else{if(!(t in i.rootRealmGlobal))throw new Error(`Unknown endowment: "${t}".`);{const r=i.rootRealmGlobal[t];e[t]=r}}return e}),{wallet:e})}},3941:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={names:["setTimeout","clearTimeout"],factory:()=>{const e=new Set;return{setTimeout:(t,r)=>{if("function"!=typeof t)throw new Error("The timeout handler must be a function. Received: "+typeof t);const n={handle:NaN};return n.handle=setTimeout((()=>{e.delete(n.handle),t()}),r),e.add(n.handle),n.handle},clearTimeout:t=>{e.has(t)&&(clearTimeout(t),e.delete(t))}}}};t.default=r},9191:function(e,t){"use strict";var r=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};Object.defineProperty(t,"__esModule",{value:!0});const n={names:["WebAssembly"],factory:()=>{const{compileStreaming:e,instantiateStreaming:t}=WebAssembly;return{WebAssembly:r(WebAssembly,["compileStreaming","instantiateStreaming"])}}};t.default=n},4509:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SNAP_STREAM_NAMES=void 0,(r=t.SNAP_STREAM_NAMES||(t.SNAP_STREAM_NAMES={})).JSON_RPC="jsonRpc",r.COMMAND="command"},6435:(e,t,r)=>{"use strict";var n;let i,o;if(Object.defineProperty(t,"__esModule",{value:!0}),t.rootRealmGlobalName=t.rootRealmGlobal=void 0,function(e){e.globalThis="globalThis",e.global="global",e.self="self",e.window="window"}(n||(n={})),"undefined"!=typeof globalThis)i=globalThis,o=n.globalThis;else if("undefined"!=typeof self)i=self,o=n.self;else if("undefined"!=typeof window)i=window,o=n.window;else{if(void 0===r.g)throw new Error("Unknown realm type; failed to identify global object.");i=r.g,o=n.global}const a=i;t.rootRealmGlobal=a;const s=o;t.rootRealmGlobalName=s},4562:(e,t,r)=>{"use strict";var n=r(3716);Object.defineProperty(t,"__esModule",{value:!0}),t.executeLockdownMore=void 0,t.executeLockdownMore=function(){try{const e=Reflect.ownKeys((new Compartment).globalThis),t=new Set(["eval","Function"]);new Set([...e]).forEach((e=>{const r=Reflect.getOwnPropertyDescriptor(globalThis,e);r&&(r.configurable&&(function(e){return"set"in e||"get"in e}(r)?Object.defineProperty(globalThis,e,{configurable:!1}):Object.defineProperty(globalThis,e,{configurable:!1,writable:!1})),t.has(e)&&harden(globalThis[e]))}))}catch(e){throw n.error("Protecting intrinsics failed:",e),e}}},2842:(e,t,r)=>{"use strict";var n=r(3716);Object.defineProperty(t,"__esModule",{value:!0}),t.executeLockdown=void 0,t.executeLockdown=function(){try{lockdown({consoleTaming:"unsafe",errorTaming:"unsafe",mathTaming:"unsafe",dateTaming:"unsafe",overrideTaming:"severe"})}catch(e){throw n.error("Lockdown failed:",e),e}}},5930:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rpcMethods=void 0;const n=r(4221);t.rpcMethods=function(e,t){return{ping:async()=>"OK",executeSnap:async(t,r,i)=>{if("string"!=typeof t)throw new Error("snapName is not a string");if("string"!=typeof r)throw new Error("sourceCode is not a string");if(void 0!==i&&!n.isEndowments(i))throw new Error("endowment is not a proper Endowments object");return e(t,r,i),"OK"},snapRpc:async(e,r,i)=>{if("string"!=typeof e)throw new Error("target is not a string");if("string"!=typeof r)throw new Error("origin is not a string");if(!n.isJsonRpcRequest(i))throw new Error("request is not a proper JSON RPC Request");return t(e,r,i)}}}},2931:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sortParamKeys=void 0,t.sortParamKeys=(e,t)=>{if(!t)return[];if(t instanceof Array)return t;const r=e.params.map((e=>e.name)).reduce(((e,t,r)=>Object.assign(Object.assign({},e),{[t]:r})),{});return Object.entries(t).sort((([e,t],[n,i])=>r[e]-r[n])).map((([e,t])=>t))}},1218:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IFrameSnapExecutor=void 0;const o=i(r(8392)),a=r(9679),s=i(r(3171)),u=r(132),c=r(4509);class l extends u.BaseSnapExecutor{static initialize(){n.log("Worker: Connecting to parent.");const e=new a.WindowPostMessageStream({name:"child",target:"parent",targetWindow:self.parent}),t=new o.default;s.default(e,t,e,(e=>{e&&n.error("Parent stream failure, closing worker.",e),self.close()}));const r=t.createStream(c.SNAP_STREAM_NAMES.COMMAND),i=t.createStream(c.SNAP_STREAM_NAMES.JSON_RPC);return new l(r,i)}}t.IFrameSnapExecutor=l},5803:(e,t,r)=>{var n=r(3716);function i(e){try{if(!r.g.localStorage)return!1}catch(e){return!1}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(i("noDeprecation"))return e;var r=!1;return function(){if(!r){if(i("throwDeprecation"))throw new Error(t);i("traceDeprecation")?n.trace(t):n.warn(t),r=!0}return e.apply(this,arguments)}}},82:e=>{e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},4895:(e,t,r)=>{"use strict";var n=r(2635),i=r(3138),o=r(2094),a=r(198);function s(e){return e.call.bind(e)}var u="undefined"!=typeof BigInt,c="undefined"!=typeof Symbol,l=s(Object.prototype.toString),f=s(Number.prototype.valueOf),d=s(String.prototype.valueOf),h=s(Boolean.prototype.valueOf);if(u)var p=s(BigInt.prototype.valueOf);if(c)var g=s(Symbol.prototype.valueOf);function y(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function b(e){return"[object Map]"===l(e)}function m(e){return"[object Set]"===l(e)}function w(e){return"[object WeakMap]"===l(e)}function v(e){return"[object WeakSet]"===l(e)}function _(e){return"[object ArrayBuffer]"===l(e)}function S(e){return"undefined"!=typeof ArrayBuffer&&(_.working?_(e):e instanceof ArrayBuffer)}function E(e){return"[object DataView]"===l(e)}function O(e){return"undefined"!=typeof DataView&&(E.working?E(e):e instanceof DataView)}t.isArgumentsObject=n,t.isGeneratorFunction=i,t.isTypedArray=a,t.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},t.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):a(e)||O(e)},t.isUint8Array=function(e){return"Uint8Array"===o(e)},t.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===o(e)},t.isUint16Array=function(e){return"Uint16Array"===o(e)},t.isUint32Array=function(e){return"Uint32Array"===o(e)},t.isInt8Array=function(e){return"Int8Array"===o(e)},t.isInt16Array=function(e){return"Int16Array"===o(e)},t.isInt32Array=function(e){return"Int32Array"===o(e)},t.isFloat32Array=function(e){return"Float32Array"===o(e)},t.isFloat64Array=function(e){return"Float64Array"===o(e)},t.isBigInt64Array=function(e){return"BigInt64Array"===o(e)},t.isBigUint64Array=function(e){return"BigUint64Array"===o(e)},b.working="undefined"!=typeof Map&&b(new Map),t.isMap=function(e){return"undefined"!=typeof Map&&(b.working?b(e):e instanceof Map)},m.working="undefined"!=typeof Set&&m(new Set),t.isSet=function(e){return"undefined"!=typeof Set&&(m.working?m(e):e instanceof Set)},w.working="undefined"!=typeof WeakMap&&w(new WeakMap),t.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(w.working?w(e):e instanceof WeakMap)},v.working="undefined"!=typeof WeakSet&&v(new WeakSet),t.isWeakSet=function(e){return v(e)},_.working="undefined"!=typeof ArrayBuffer&&_(new ArrayBuffer),t.isArrayBuffer=S,E.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&E(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=O;var R="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function M(e){return"[object SharedArrayBuffer]"===l(e)}function j(e){return void 0!==R&&(void 0===M.working&&(M.working=M(new R)),M.working?M(e):e instanceof R)}function P(e){return y(e,f)}function k(e){return y(e,d)}function A(e){return y(e,h)}function x(e){return u&&y(e,p)}function C(e){return c&&y(e,g)}t.isSharedArrayBuffer=j,t.isAsyncFunction=function(e){return"[object AsyncFunction]"===l(e)},t.isMapIterator=function(e){return"[object Map Iterator]"===l(e)},t.isSetIterator=function(e){return"[object Set Iterator]"===l(e)},t.isGeneratorObject=function(e){return"[object Generator]"===l(e)},t.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===l(e)},t.isNumberObject=P,t.isStringObject=k,t.isBooleanObject=A,t.isBigIntObject=x,t.isSymbolObject=C,t.isBoxedPrimitive=function(e){return P(e)||k(e)||A(e)||x(e)||C(e)},t.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(S(e)||j(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})}))},3335:(e,t,r)=>{var n=r(4406),i=r(3716),o=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},a=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(l(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,o=String(e).replace(a,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),s=n[r];r<i;s=n[++r])m(s)||!E(s)?o+=" "+s:o+=" "+l(s);return o},t.deprecate=function(e,r){if(void 0!==n&&!0===n.noDeprecation)return e;if(void 0===n)return function(){return t.deprecate(e,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(n.throwDeprecation)throw new Error(r);n.traceDeprecation?i.trace(r):i.error(r),o=!0}return e.apply(this,arguments)}};var s={},u=/^$/;if(n.env.NODE_DEBUG){var c=n.env.NODE_DEBUG;c=c.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),u=new RegExp("^"+c+"$","i")}function l(e,r){var n={seen:[],stylize:d};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),b(r)?n.showHidden=r:r&&t._extend(n,r),_(n.showHidden)&&(n.showHidden=!1),_(n.depth)&&(n.depth=2),_(n.colors)&&(n.colors=!1),_(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=f),h(n,e,n.depth)}function f(e,t){var r=l.styles[t];return r?"["+l.colors[r][0]+"m"+e+"["+l.colors[r][1]+"m":e}function d(e,t){return e}function h(e,r,n){if(e.customInspect&&r&&M(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return v(i)||(i=h(e,i,n)),i}var o=function(e,t){if(_(t))return e.stylize("undefined","undefined");if(v(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return w(t)?e.stylize(""+t,"number"):b(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}(e,r);if(o)return o;var a=Object.keys(r),s=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(r)),R(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return p(r);if(0===a.length){if(M(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(S(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(O(r))return e.stylize(Date.prototype.toString.call(r),"date");if(R(r))return p(r)}var c,l="",f=!1,d=["{","}"];return y(r)&&(f=!0,d=["[","]"]),M(r)&&(l=" [Function"+(r.name?": "+r.name:"")+"]"),S(r)&&(l=" "+RegExp.prototype.toString.call(r)),O(r)&&(l=" "+Date.prototype.toUTCString.call(r)),R(r)&&(l=" "+p(r)),0!==a.length||f&&0!=r.length?n<0?S(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),c=f?function(e,t,r,n,i){for(var o=[],a=0,s=t.length;a<s;++a)x(t,String(a))?o.push(g(e,t,r,n,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(g(e,t,r,n,i,!0))})),o}(e,r,n,s,a):a.map((function(t){return g(e,r,n,s,t,f)})),e.seen.pop(),function(e,t,r){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}(c,l,d)):d[0]+l+d[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function g(e,t,r,n,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),x(n,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=m(r)?h(e,u.value,null):h(e,u.value,r-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),_(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function y(e){return Array.isArray(e)}function b(e){return"boolean"==typeof e}function m(e){return null===e}function w(e){return"number"==typeof e}function v(e){return"string"==typeof e}function _(e){return void 0===e}function S(e){return E(e)&&"[object RegExp]"===j(e)}function E(e){return"object"==typeof e&&null!==e}function O(e){return E(e)&&"[object Date]"===j(e)}function R(e){return E(e)&&("[object Error]"===j(e)||e instanceof Error)}function M(e){return"function"==typeof e}function j(e){return Object.prototype.toString.call(e)}function P(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(e=e.toUpperCase(),!s[e])if(u.test(e)){var r=n.pid;s[e]=function(){var n=t.format.apply(t,arguments);i.error("%s %d: %s",e,r,n)}}else s[e]=function(){};return s[e]},t.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=r(4895),t.isArray=y,t.isBoolean=b,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=w,t.isString=v,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=_,t.isRegExp=S,t.types.isRegExp=S,t.isObject=E,t.isDate=O,t.types.isDate=O,t.isError=R,t.types.isNativeError=R,t.isFunction=M,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(82);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(){var e=new Date,t=[P(e.getHours()),P(e.getMinutes()),P(e.getSeconds())].join(":");return[e.getDate(),k[e.getMonth()],t].join(" ")}function x(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){i.log("%s - %s",A(),t.format.apply(t,arguments))},t.inherits=r(1285),t._extend=function(e,t){if(!t||!E(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var C="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function T(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(C&&e[C]){var t;if("function"!=typeof(t=e[C]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,i)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),C&&Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,o(e))},t.promisify.custom=C,t.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var i=t.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};e.apply(this,t).then((function(e){n.nextTick(a.bind(null,null,e))}),(function(e){n.nextTick(T.bind(null,e,a))}))}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,o(e)),t}},2094:(e,t,r)=>{"use strict";var n=r(6388),i=r(2191),o=r(2680),a=o("Object.prototype.toString"),s=r(7226)(),u="undefined"==typeof globalThis?r.g:globalThis,c=i(),l=o("String.prototype.slice"),f={},d=r(3494),h=Object.getPrototypeOf;s&&d&&h&&n(c,(function(e){if("function"==typeof u[e]){var t=new u[e];if(Symbol.toStringTag in t){var r=h(t),n=d(r,Symbol.toStringTag);if(!n){var i=h(r);n=d(i,Symbol.toStringTag)}f[e]=n.get}}}));var p=r(198);e.exports=function(e){return!!p(e)&&(s&&Symbol.toStringTag in e?function(e){var t=!1;return n(f,(function(r,n){if(!t)try{var i=r.call(e);i===n&&(t=i)}catch(e){}})),t}(e):l(a(e),8,-1))}},8892:e=>{e.exports=function e(t,r){if(t&&r)return e(t)(r);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){n[e]=t[e]})),n;function n(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var n=t.apply(this,e),i=e[e.length-1];return"function"==typeof n&&n!==i&&Object.keys(i).forEach((function(e){n[e]=i[e]})),n}}},7082:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectMultiplex=void 0;const o=r(7525),a=i(r(8797)),s=i(r(9928)),u=r(1274),c=Symbol("IGNORE_SUBSTREAM");class l extends o.Duplex{constructor(e={}){super(Object.assign(Object.assign({},e),{objectMode:!0})),this._substreams={}}createStream(e){if(this.destroyed)throw new Error(`ObjectMultiplex - parent stream for name "${e}" already destroyed`);if(this._readableState.ended||this._writableState.ended)throw new Error(`ObjectMultiplex - parent stream for name "${e}" already ended`);if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);const t=new u.Substream({parent:this,name:e});return this._substreams[e]=t,function(e,r){const n=s.default((e=>t.destroy(e||void 0)));a.default(e,{readable:!1},n),a.default(e,{writable:!1},n)}(this),t}ignoreStream(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);this._substreams[e]=c}_read(){}_write(e,t,r){const{name:i,data:o}=e;if(!i)return n.warn(`ObjectMultiplex - malformed chunk without name "${e}"`),r();const a=this._substreams[i];return a?(a!==c&&a.push(o),r()):(n.warn(`ObjectMultiplex - orphaned data for stream "${i}"`),r())}}t.ObjectMultiplex=l},1274:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Substream=void 0;const n=r(7525);class i extends n.Duplex{constructor({parent:e,name:t}){super({objectMode:!0}),this._parent=e,this._name=t}_read(){}_write(e,t,r){this._parent.push({name:this._name,data:e}),r()}}t.Substream=i},8392:(e,t,r)=>{"use strict";const n=r(7082);e.exports=n.ObjectMultiplex},2294:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EthereumProviderError=t.EthereumRpcError=void 0;const n=r(7847);class i extends Error{constructor(e,t,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw new Error('"message" must be a nonempty string.');super(t),this.code=e,void 0!==r&&(this.data=r)}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return n.default(this.serialize(),o,2)}}function o(e,t){if("[Circular]"!==t)return t}t.EthereumRpcError=i,t.EthereumProviderError=class extends i{constructor(e,t,r){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,r)}}},2662:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorValues=t.errorCodes=void 0,t.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},t.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}},6373:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ethErrors=void 0;const n=r(2294),i=r(8753),o=r(2662);function a(e,t){const[r,o]=u(t);return new n.EthereumRpcError(e,r||i.getMessageFromCode(e),o)}function s(e,t){const[r,o]=u(t);return new n.EthereumProviderError(e,r||i.getMessageFromCode(e),o)}function u(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&"string"!=typeof t)throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}t.ethErrors={rpc:{parse:e=>a(o.errorCodes.rpc.parse,e),invalidRequest:e=>a(o.errorCodes.rpc.invalidRequest,e),invalidParams:e=>a(o.errorCodes.rpc.invalidParams,e),methodNotFound:e=>a(o.errorCodes.rpc.methodNotFound,e),internal:e=>a(o.errorCodes.rpc.internal,e),server:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return a(t,e)},invalidInput:e=>a(o.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>a(o.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>a(o.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>a(o.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>a(o.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>a(o.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>s(o.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>s(o.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>s(o.errorCodes.provider.unsupportedMethod,e),disconnected:e=>s(o.errorCodes.provider.disconnected,e),chainDisconnected:e=>s(o.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:r,data:i}=e;if(!r||"string"!=typeof r)throw new Error('"message" must be a nonempty string');return new n.EthereumProviderError(t,r,i)}}}},9826:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const n=r(2294);Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return n.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return n.EthereumProviderError}});const i=r(8753);Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return i.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return i.getMessageFromCode}});const o=r(6373);Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return o.ethErrors}});const a=r(2662);Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return a.errorCodes}})},8753:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const n=r(2662),i=r(2294),o=n.errorCodes.rpc.internal,a={code:o,message:s(o)};function s(e,r="Unspecified error message. This is a bug, please report it."){if(Number.isInteger(e)){const r=e.toString();if(f(n.errorValues,r))return n.errorValues[r].message;if(c(e))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return r}function u(e){if(!Number.isInteger(e))return!1;const t=e.toString();return!!n.errorValues[t]||!!c(e)}function c(e){return e>=-32099&&e<=-32e3}function l(e){return e&&"object"==typeof e&&!Array.isArray(e)?Object.assign({},e):e}function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",t.getMessageFromCode=s,t.isValidCode=u,t.serializeError=function(e,{fallbackError:t=a,shouldIncludeStack:r=!1}={}){var n,o;if(!t||!Number.isInteger(t.code)||"string"!=typeof t.message)throw new Error("Must provide fallback error with integer number code and string message.");if(e instanceof i.EthereumRpcError)return e.serialize();const c={};if(e&&"object"==typeof e&&!Array.isArray(e)&&f(e,"code")&&u(e.code)){const t=e;c.code=t.code,t.message&&"string"==typeof t.message?(c.message=t.message,f(t,"data")&&(c.data=t.data)):(c.message=s(c.code),c.data={originalError:l(e)})}else{c.code=t.code;const r=null===(n=e)||void 0===n?void 0:n.message;c.message=r&&"string"==typeof r?r:t.message,c.data={originalError:l(e)}}const d=null===(o=e)||void 0===o?void 0:o.stack;return r&&e&&d&&"string"==typeof d&&(c.stack=d),c}},4857:()=>{},3558:()=>{},4854:()=>{},6602:()=>{},7267:()=>{},9255:()=>{},2191:(e,t,r)=>{"use strict";var n=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],i="undefined"==typeof globalThis?r.g:globalThis;e.exports=function(){for(var e=[],t=0;t<n.length;t++)"function"==typeof i[n[t]]&&(e[e.length]=n[t]);return e}},7342:(e,t,r)=>{"use strict";var n=r(7286)("%Object.getOwnPropertyDescriptor%");if(n)try{n([],"length")}catch(e){n=null}e.exports=n},3494:(e,t,r)=>{"use strict";var n=r(7286)("%Object.getOwnPropertyDescriptor%");if(n)try{n([],"length")}catch(e){n=null}e.exports=n},5543:e=>{"use strict";e.exports=JSON.parse('{"CHROME_ID":"nkbihfbeogaeaoehlefnkodbefgpgknn","FIREFOX_ID":"webextension@metamask.io"}')},201:e=>{"use strict";e.exports=JSON.parse('{"openrpc":"1.2.4","info":{"title":"MetaMask Snaps Execution Environment API","version":"0.0.0-development"},"methods":[{"name":"ping","description":"confirms that a connection has been established with the execution environment","params":[],"result":{"name":"PingResult","schema":{"$ref":"#/components/schemas/OK"}}},{"name":"executeSnap","description":"executes a snap in the environment. The snap can then be interacted with via `snapRpc`","params":[{"name":"snapName","required":true,"description":"the name of the snap","schema":{"title":"SnapName","type":"string"}},{"name":"sourceCode","description":"a snaps source code that gets executed in the environment","required":true,"schema":{"title":"SourceCode","type":"string"}},{"name":"endowments","description":"A list of endowments to provide to SES","required":false,"schema":{"title":"Endowments","description":"An array of the names of the endowments","type":"array","items":{"title":"Endowment","type":"string"}}}],"result":{"name":"executeSnapResult","schema":{"$ref":"#/components/schemas/OK"}},"examples":[{"name":"BasicTestSnapExecuteExample","params":[{"name":"snapName","value":"TestSnap"},{"name":"sourceCode","value":"wallet.registerRpcMessageHandler(async (_, request) => { return request.method + request.id })"}],"result":{"name":"BasicTestSnapExampleResult","value":"OK"}}]},{"name":"snapRpc","params":[{"name":"target","required":true,"description":"the name of the snap method","schema":{"title":"Target","type":"string"}},{"name":"origin","required":true,"description":"Origin of the snap JSON-RPC request","schema":{"title":"Origin","type":"string"}},{"name":"request","required":true,"description":"JSON-RPC request","schema":{"$ref":"#/components/schemas/JsonRpcRequest"}}],"result":{"name":"HandleSnapRpcResult","schema":{"title":"SnapRpcResult"}},"examples":[{"name":"TestSnapExample","params":[{"name":"target","value":"TestSnap"},{"name":"origin","value":"foo.com"},{"name":"request","value":{"jsonrpc":"2.0","method":"hello","params":[],"id":1}}],"result":{"name":"TestSnapResultExample","value":"hello1"}}]}],"components":{"schemas":{"OK":{"title":"OK","type":"string","const":"OK"},"JsonRpcRequest":{"title":"JsonRpcRequest","type":"object","required":["jsonrpc","method"],"properties":{"jsonrpc":{"title":"JSONRPCString","type":"string","const":"2.0"},"id":{"title":"JSONRPCID","oneOf":[{"type":"string"},{"type":"number"}]},"method":{"title":"JSONRPCMethod","description":"the name of the method","type":"string"},"params":{"title":"JSONRPCParams","type":["array","object"]}}}}}}')}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";const e=r(2842),t=r(4562),n=r(1218);e.executeLockdown(),t.executeLockdownMore(),n.IFrameSnapExecutor.initialize()})()})();
\ No newline at end of file
diff --git a/node_modules/@metamask/execution-environments/dist/dist/iframe.bundle.js.LICENSE.txt b/node_modules/@metamask/execution-environments/dist/dist/iframe.bundle.js.LICENSE.txt
new file mode 100644
index 0000000..dd3c401
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/iframe.bundle.js.LICENSE.txt
@@ -0,0 +1,23 @@
+/*
+object-assign
+(c) Sindre Sorhus
+@license MIT
+*/
+
+/*!
+ * The buffer module from node.js, for the browser.
+ *
+ * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
+ * @license  MIT
+ */
+
+/*!
+ * The buffer module from node.js, for the browser.
+ *
+ * @author   Feross Aboukhadijeh <https://feross.org>
+ * @license  MIT
+ */
+
+/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
+
+/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
diff --git a/node_modules/@metamask/execution-environments/dist/dist/iframe/IFrameSnapExecutor.d.ts b/node_modules/@metamask/execution-environments/dist/dist/iframe/IFrameSnapExecutor.d.ts
new file mode 100644
index 0000000..c0853d0
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/iframe/IFrameSnapExecutor.d.ts
@@ -0,0 +1,4 @@
+import { BaseSnapExecutor } from '../common/BaseSnapExecutor';
+export declare class IFrameSnapExecutor extends BaseSnapExecutor {
+    static initialize(): IFrameSnapExecutor;
+}
diff --git a/node_modules/@metamask/execution-environments/dist/dist/iframe/IFrameSnapExecutor.js b/node_modules/@metamask/execution-environments/dist/dist/iframe/IFrameSnapExecutor.js
new file mode 100644
index 0000000..8301fe2
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/iframe/IFrameSnapExecutor.js
@@ -0,0 +1,33 @@
+"use strict";
+var __importDefault = (this && this.__importDefault) || function (mod) {
+    return (mod && mod.__esModule) ? mod : { "default": mod };
+};
+Object.defineProperty(exports, "__esModule", { value: true });
+exports.IFrameSnapExecutor = void 0;
+const object_multiplex_1 = __importDefault(require("@metamask/object-multiplex"));
+const post_message_stream_1 = require("@metamask/post-message-stream");
+const pump_1 = __importDefault(require("pump"));
+const BaseSnapExecutor_1 = require("../common/BaseSnapExecutor");
+const enums_1 = require("../common/enums");
+class IFrameSnapExecutor extends BaseSnapExecutor_1.BaseSnapExecutor {
+    static initialize() {
+        console.log('Worker: Connecting to parent.');
+        const parentStream = new post_message_stream_1.WindowPostMessageStream({
+            name: 'child',
+            target: 'parent',
+            targetWindow: self.parent,
+        });
+        const mux = new object_multiplex_1.default();
+        pump_1.default(parentStream, mux, parentStream, (err) => {
+            if (err) {
+                console.error(`Parent stream failure, closing worker.`, err);
+            }
+            self.close();
+        });
+        const commandStream = mux.createStream(enums_1.SNAP_STREAM_NAMES.COMMAND);
+        const rpcStream = mux.createStream(enums_1.SNAP_STREAM_NAMES.JSON_RPC);
+        return new IFrameSnapExecutor(commandStream, rpcStream);
+    }
+}
+exports.IFrameSnapExecutor = IFrameSnapExecutor;
+//# sourceMappingURL=IFrameSnapExecutor.js.map
\ No newline at end of file
diff --git a/node_modules/@metamask/execution-environments/dist/dist/iframe/IFrameSnapExecutor.js.map b/node_modules/@metamask/execution-environments/dist/dist/iframe/IFrameSnapExecutor.js.map
new file mode 100644
index 0000000..13d224c
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/iframe/IFrameSnapExecutor.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"IFrameSnapExecutor.js","sourceRoot":"","sources":["../../src/iframe/IFrameSnapExecutor.ts"],"names":[],"mappings":";;;;;;AAAA,kFAAyD;AACzD,uEAAwE;AACxE,gDAAwB;AACxB,iEAA8D;AAC9D,2CAAoD;AAEpD,MAAa,kBAAmB,SAAQ,mCAAgB;IACtD,MAAM,CAAC,UAAU;QACf,OAAO,CAAC,GAAG,CAAC,+BAA+B,CAAC,CAAC;QAE7C,MAAM,YAAY,GAAG,IAAI,6CAAuB,CAAC;YAC/C,IAAI,EAAE,OAAO;YACb,MAAM,EAAE,QAAQ;YAChB,YAAY,EAAE,IAAI,CAAC,MAAM;SAC1B,CAAC,CAAC;QAEH,MAAM,GAAG,GAAG,IAAI,0BAAe,EAAE,CAAC;QAClC,cAAI,CAAC,YAAY,EAAE,GAAG,EAAE,YAAY,EAAE,CAAC,GAAG,EAAE,EAAE;YAC5C,IAAI,GAAG,EAAE;gBACP,OAAO,CAAC,KAAK,CAAC,wCAAwC,EAAE,GAAG,CAAC,CAAC;aAC9D;YACD,IAAI,CAAC,KAAK,EAAE,CAAC;QACf,CAAC,CAAC,CAAC;QAEH,MAAM,aAAa,GAAG,GAAG,CAAC,YAAY,CAAC,yBAAiB,CAAC,OAAO,CAAC,CAAC;QAClE,MAAM,SAAS,GAAG,GAAG,CAAC,YAAY,CAAC,yBAAiB,CAAC,QAAQ,CAAC,CAAC;QAE/D,OAAO,IAAI,kBAAkB,CAAC,aAAa,EAAE,SAAS,CAAC,CAAC;IAC1D,CAAC;CACF;AAvBD,gDAuBC"}
\ No newline at end of file
diff --git a/node_modules/@metamask/execution-environments/dist/dist/iframe/index.d.ts b/node_modules/@metamask/execution-environments/dist/dist/iframe/index.d.ts
new file mode 100644
index 0000000..cb0ff5c
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/iframe/index.d.ts
@@ -0,0 +1 @@
+export {};
diff --git a/node_modules/@metamask/execution-environments/dist/dist/iframe/index.js b/node_modules/@metamask/execution-environments/dist/dist/iframe/index.js
new file mode 100644
index 0000000..dc74687
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/iframe/index.js
@@ -0,0 +1,9 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+const lockdown_1 = require("../common/lockdown/lockdown");
+const lockdown_more_1 = require("../common/lockdown/lockdown-more");
+const IFrameSnapExecutor_1 = require("./IFrameSnapExecutor");
+lockdown_1.executeLockdown();
+lockdown_more_1.executeLockdownMore();
+IFrameSnapExecutor_1.IFrameSnapExecutor.initialize();
+//# sourceMappingURL=index.js.map
\ No newline at end of file
diff --git a/node_modules/@metamask/execution-environments/dist/dist/iframe/index.js.map b/node_modules/@metamask/execution-environments/dist/dist/iframe/index.js.map
new file mode 100644
index 0000000..3752c75
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/iframe/index.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/iframe/index.ts"],"names":[],"mappings":";;AAAA,0DAA8D;AAC9D,oEAAuE;AACvE,6DAA0D;AAE1D,0BAAe,EAAE,CAAC;AAClB,mCAAmB,EAAE,CAAC;AAEtB,uCAAkB,CAAC,UAAU,EAAE,CAAC"}
\ No newline at end of file
diff --git a/node_modules/@metamask/execution-environments/dist/dist/index.d.ts b/node_modules/@metamask/execution-environments/dist/dist/index.d.ts
new file mode 100644
index 0000000..2a4cfbe
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/index.d.ts
@@ -0,0 +1 @@
+export * from './common/enums';
diff --git a/node_modules/@metamask/execution-environments/dist/dist/index.js b/node_modules/@metamask/execution-environments/dist/dist/index.js
new file mode 100644
index 0000000..7d82780
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/index.js
@@ -0,0 +1,14 @@
+"use strict";
+var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
+    if (k2 === undefined) k2 = k;
+    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
+}) : (function(o, m, k, k2) {
+    if (k2 === undefined) k2 = k;
+    o[k2] = m[k];
+}));
+var __exportStar = (this && this.__exportStar) || function(m, exports) {
+    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
+};
+Object.defineProperty(exports, "__esModule", { value: true });
+__exportStar(require("./common/enums"), exports);
+//# sourceMappingURL=index.js.map
\ No newline at end of file
diff --git a/node_modules/@metamask/execution-environments/dist/dist/index.js.map b/node_modules/@metamask/execution-environments/dist/dist/index.js.map
new file mode 100644
index 0000000..b60337d
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/index.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"index.js","sourceRoot":"","sources":["../src/index.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,iDAA+B"}
\ No newline at end of file
diff --git a/node_modules/@metamask/execution-environments/dist/dist/lockdown.umd.min.js b/node_modules/@metamask/execution-environments/dist/dist/lockdown.umd.min.js
new file mode 100644
index 0000000..ef91538
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/lockdown.umd.min.js
@@ -0,0 +1 @@
+"use strict";(()=>{const e=[({imports:e,liveVar:t,onceVar:r})=>{e([]);const o=globalThis;r.universalThis(o);const{Array:n,Date:s,Float32Array:a,JSON:i,Map:c,Math:l,Number:p,Object:m,Promise:u,Proxy:y,Reflect:f,RegExp:g,Set:d,String:E,WeakMap:P,WeakSet:w}=globalThis;r.Array(n),r.Date(s),r.Float32Array(a),r.JSON(i),r.Map(c),r.Math(l),r.Number(p),r.Object(m),r.Promise(u),r.Proxy(y),r.Reflect(f),r.FERAL_REG_EXP(g),r.Set(d),r.String(E),r.WeakMap(P),r.WeakSet(w);const{Error:b,RangeError:h,ReferenceError:S,SyntaxError:v,TypeError:k}=globalThis;r.FERAL_ERROR(b),r.RangeError(h),r.ReferenceError(S),r.SyntaxError(v),r.TypeError(k);const{assign:j,create:A,defineProperties:T,entries:x,freeze:I,getOwnPropertyDescriptor:O,getOwnPropertyDescriptors:_,getOwnPropertyNames:C,getPrototypeOf:F,is:V,isExtensible:N,keys:R,prototype:M,seal:$,setPrototypeOf:L,values:G}=m;r.assign(j),r.create(A),r.defineProperties(T),r.entries(x),r.freeze(I),r.getOwnPropertyDescriptor(O),r.getOwnPropertyDescriptors(_),r.getOwnPropertyNames(C),r.getPrototypeOf(F),r.is(V),r.isExtensible(N),r.keys(R),r.objectPrototype(M),r.seal($),r.setPrototypeOf(L),r.values(G);const{species:D,toStringTag:U,iterator:H,matchAll:W}=Symbol;r.speciesSymbol(D),r.toStringTagSymbol(U),r.iteratorSymbol(H),r.matchAllSymbol(W);const{stringify:z}=i;r.stringifyJson(z);const B=m.fromEntries||(e=>{const t={};for(const[r,o]of e)t[r]=o;return t});r.fromEntries(B);const{defineProperty:J}=m;r.defineProperty(((e,t,r)=>{const o=J(e,t,r);if(o!==e)throw k(`Please report that the original defineProperty silently failed to set ${z(E(t))}. (SES_DEFINE_PROPERTY_FAILED_SILENTLY)`);return o}));const{apply:K,construct:q,get:Y,getOwnPropertyDescriptor:X,has:Z,isExtensible:Q,ownKeys:ee,preventExtensions:te,set:re}=f;r.apply(K),r.construct(q),r.reflectGet(Y),r.reflectGetOwnPropertyDescriptor(X),r.reflectHas(Z),r.reflectIsExtensible(Q),r.ownKeys(ee),r.reflectPreventExtensions(te),r.reflectSet(re);const{isArray:oe,prototype:ne}=n;r.isArray(oe),r.arrayPrototype(ne);const{prototype:se}=c;r.mapPrototype(se);const{revocable:ae}=y;r.proxyRevocable(ae);const{prototype:ie}=RegExp;r.regexpPrototype(ie);const{prototype:ce}=d;r.setPrototype(ce);const{prototype:le}=E;r.stringPrototype(le);const{prototype:pe}=P;r.weakmapPrototype(pe);const{prototype:me}=w;r.weaksetPrototype(me);const{prototype:ue}=Function;r.functionPrototype(ue);const{prototype:ye}=u;r.promisePrototype(ye);const fe=e=>(t,...r)=>K(e,t,r);r.uncurryThis(fe);const ge=fe(M.hasOwnProperty);r.objectHasOwnProperty(ge);const de=fe(ne.filter);r.arrayFilter(de);const Ee=fe(ne.forEach);r.arrayForEach(Ee);const Pe=fe(ne.includes);r.arrayIncludes(Pe);const we=fe(ne.join);r.arrayJoin(we);const be=fe(ne.map);r.arrayMap(be);const he=fe(ne.pop);r.arrayPop(he);const Se=fe(ne.push);r.arrayPush(Se);const ve=fe(ne.slice);r.arraySlice(ve);const ke=fe(ne.some);r.arraySome(ke);const je=fe(ne.sort);r.arraySort(je);const Ae=fe(ne[H]);r.iterateArray(Ae);const Te=fe(se.set);r.mapSet(Te);const xe=fe(se.get);r.mapGet(xe);const Ie=fe(se.has);r.mapHas(Ie);const Oe=fe(se[H]);r.iterateMap(Oe);const _e=fe(ce.add);r.setAdd(_e);const Ce=fe(ce.forEach);r.setForEach(Ce);const Fe=fe(ce.has);r.setHas(Fe);const Ve=fe(ce[H]);r.iterateSet(Ve);const Ne=fe(ie.test);r.regexpTest(Ne);const Re=fe(ie.exec);r.regexpExec(Re);const Me=fe(ie[W]);r.matchAllRegExp(Me);const $e=fe(le.endsWith);r.stringEndsWith($e);const Le=fe(le.includes);r.stringIncludes(Le);const Ge=fe(le.indexOf);r.stringIndexOf(Ge);const De=fe(le.match);r.stringMatch(De);const Ue=fe(le.replace);r.stringReplace(Ue);const He=fe(le.search);r.stringSearch(He);const We=fe(le.slice);r.stringSlice(We);const ze=fe(le.split);r.stringSplit(ze);const Be=fe(le.startsWith);r.stringStartsWith(Be);const Je=fe(le[H]);r.iterateString(Je);const Ke=fe(pe.delete);r.weakmapDelete(Ke);const qe=fe(pe.get);r.weakmapGet(qe);const Ye=fe(pe.has);r.weakmapHas(Ye);const Xe=fe(pe.set);r.weakmapSet(Xe);const Ze=fe(me.add);r.weaksetAdd(Ze);const Qe=fe(me.get);r.weaksetGet(Qe);const et=fe(me.has);r.weaksetHas(et);const tt=fe(ue.toString);r.functionToString(tt);const{all:rt}=u;r.promiseAll((e=>K(rt,u,[e])));const ot=fe(ye.catch);r.promiseCatch(ot);const nt=fe(ye.then);r.promiseThen(nt),r.getConstructorOf((e=>Y(F(e),"constructor")));const st=I(A(null));r.immutableObject(st),r.isObject((e=>m(e)===e)),r.isError((e=>e instanceof b));const at=eval;r.FERAL_EVAL(at);const it=Function;r.FERAL_FUNCTION(it)},({imports:e,liveVar:t,onceVar:r})=>{e([])},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g;e([["../commons.js",[["Set",[e=>o=e]],["String",[e=>n=e]],["arrayJoin",[e=>s=e]],["arraySlice",[e=>a=e]],["freeze",[e=>i=e]],["is",[e=>c=e]],["isError",[e=>l=e]],["setAdd",[e=>p=e]],["setHas",[e=>m=e]],["stringIncludes",[e=>u=e]],["stringStartsWith",[e=>y=e]],["stringifyJson",[e=>f=e]],["toStringTagSymbol",[e=>g=e]]]]]),r.enJoin(((e,t)=>{if(0===e.length)return"(none)";if(1===e.length)return e[0];if(2===e.length){const[r,o]=e;return`${r} ${t} ${o}`}return`${s(a(e,0,-1),", ")}, ${t} ${e[e.length-1]}`}));const d=e=>(e=""+e).length>=1&&u("aeiouAEIOU",e[0])?"an "+e:"a "+e;r.an(d),i(d);const E=(e,t)=>{const r=new o,s=(e,t)=>{switch(typeof t){case"object":return null===t?null:m(r,t)?"[Seen]":(p(r,t),l(t)?`[${t.name}: ${t.message}]`:g in t?`[${t[g]}]`:t);case"function":return`[Function ${t.name||"<anon>"}]`;case"string":return y(t,"[")?`[${t}]`:t;case"undefined":case"symbol":return`[${n(t)}]`;case"bigint":return`[${t}n]`;case"number":return c(t,NaN)?"[NaN]":t===1/0?"[Infinity]":t===-1/0?"[-Infinity]":t;default:return t}};try{return f(e,s,t)}catch(e){return"[Something that failed to stringify]"}};r.bestEffortStringify(E),i(E)},({imports:e,liveVar:t,onceVar:r})=>{e([])},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d,E,P,w,b,h,S,v,k;e([["../commons.js",[["RangeError",[e=>o=e]],["TypeError",[e=>n=e]],["WeakMap",[e=>s=e]],["arrayJoin",[e=>a=e]],["arrayMap",[e=>i=e]],["arrayPop",[e=>c=e]],["arrayPush",[e=>l=e]],["assign",[e=>p=e]],["freeze",[e=>m=e]],["globalThis",[e=>u=e]],["is",[e=>y=e]],["isError",[e=>f=e]],["stringIndexOf",[e=>g=e]],["stringReplace",[e=>d=e]],["stringSlice",[e=>E=e]],["stringStartsWith",[e=>P=e]],["weakmapDelete",[e=>w=e]],["weakmapGet",[e=>b=e]],["weakmapHas",[e=>h=e]],["weakmapSet",[e=>S=e]]]],["./stringify-utils.js",[["an",[e=>v=e]],["bestEffortStringify",[e=>k=e]]]],["./types.js",[]],["./internal-types.js",[]]]);const j=new s,A=(e,t)=>{const r=m({toString:m((()=>k(e,t)))});return S(j,r,e),r};m(A);const T=new s,x=({template:e,args:t})=>{const r=[e[0]];for(let o=0;o<t.length;o+=1){const n=t[o];let s;s=h(j,n)?""+n:f(n)?`(${v(n.name)})`:`(${v(typeof n)})`,l(r,s,e[o+1])}return a(r,"")},I=m({toString(){const e=b(T,this);return void 0===e?"[Not a DetailsToken]":x(e)}});m(I.toString);const O=(e,...t)=>{const r=m({__proto__:I});return S(T,r,{template:e,args:t}),r};m(O);const _=(e,...t)=>(t=i(t,(e=>h(j,e)?e:A(e))),O(e,...t));r.unredactedDetails(_),m(_);const C=({template:e,args:t})=>{const r=[e[0]];for(let o=0;o<t.length;o+=1){let n=t[o];h(j,n)&&(n=b(j,n));const s=d(c(r)||"",/ $/,"");""!==s&&l(r,s);const a=d(e[o+1],/^ /,"");l(r,n,a)}return""===r[r.length-1]&&c(r),r},F=new s;let V=0;const N=new s,R=(e,t=e.name)=>{let r=b(N,e);return void 0!==r||(V+=1,r=`${t}#${V}`,S(N,e,r)),r},M=(e=O`Assert failed`,t=u.Error,{errorName:r}={})=>{"string"==typeof e&&(e=O([e]));const o=b(T,e);if(void 0===o)throw new n("unrecognized details "+A(e));const s=new t(x(o));return S(F,s,C(o)),void 0!==r&&R(s,r),s};m(M);const $=new s,L=new s,G=(e,t)=>{"string"==typeof t&&(t=O([t]));const r=b(T,t);if(void 0===r)throw new n("unrecognized details "+A(t));const o=C(r),s=b(L,e);if(void 0!==s)for(const t of s)t(e,o);else{const t=b($,e);void 0!==t?l(t,o):S($,e,[o])}};m(G);const D={getStackString:u.getStackString||(e=>{if(!("stack"in e))return"";const t=""+e.stack,r=g(t,"\n");return P(t," ")||-1===r?t:E(t,r+1)}),tagError:e=>R(e),resetErrorTagNum:()=>{V=0},getMessageLogArgs:e=>b(F,e),takeMessageLogArgs:e=>{const t=b(F,e);return w(F,e),t},takeNoteLogArgsArray:(e,t)=>{const r=b($,e);if(w($,e),void 0!==t){const r=b(L,e);r?l(r,t):S(L,e,[t])}return r||[]}};r.loggedErrorHandler(D),m(D);const U=(e,t=!1)=>{const r=t?_:O,s=(t=r`Assert failed`,o=u.Error)=>{const n=M(t,o);throw void 0!==e&&e(n),n};function a(e,t=r`Check failed`,o=u.Error){if(!e)throw s(t,o)}m(s);const i=(e,t,n=r`Expected ${e} is same as ${t}`,s=o)=>{a(y(e,t),n,s)};m(i);const c=(e,t,o)=>{a("string"==typeof t,r`${A(t)} must be a string`),void 0===o&&(o=r([""," must be "+v(t)],e)),i(typeof e,t,o,n)};m(c);const l=p(a,{error:M,fail:s,equal:i,typeof:c,string:(e,t)=>c(e,"string",t),note:G,details:r,quote:A,makeAssert:U});return m(l)};r.makeAssert(U),m(U);const H=U();r.assert(H)},({imports:e,liveVar:t,onceVar:r})=>{let o,n;e([["./commons.js",[["FERAL_FUNCTION",[e=>o=e]],["arrayJoin",[e=>n=e]]]]]),r.makeEvaluateFactory(((e=[])=>{const t=function(e){return 0===e.length?"":`const {${n(e,",")}} = this;`}(e);return o(`\n    with (this) {\n      ${t}\n      return function() {\n        'use strict';\n        return eval(arguments[0]);\n      };\n    }\n  `)}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c;e([["./commons.js",[["arrayFilter",[e=>o=e]],["arrayIncludes",[e=>n=e]],["getOwnPropertyDescriptor",[e=>s=e]],["getOwnPropertyNames",[e=>a=e]],["objectHasOwnProperty",[e=>i=e]],["regexpTest",[e=>c=e]]]]]);const l=["await","break","case","catch","class","const","continue","debugger","default","delete","do","else","export","extends","finally","for","function","if","import","in","instanceof","new","return","super","switch","this","throw","try","typeof","var","void","while","with","yield","let","static","enum","implements","package","protected","interface","private","public","await","null","true","false","this","arguments"],p=/^[a-zA-Z_$][\w$]*$/,m=e=>"eval"!==e&&!n(l,e)&&c(p,e);function u(e,t){const r=s(e,t);return!1===r.configurable&&!1===r.writable&&i(r,"value")}r.isValidIdentifierName(m),r.getScopeConstants(((e,t={})=>{const r=a(e),s=a(t),i=o(s,(e=>m(e)&&u(t,e)));return[...o(r,(t=>!n(s,t)&&m(t)&&u(e,t))),...i]}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d;e([["./commons.js",[["FERAL_EVAL",[e=>o=e]],["Proxy",[e=>n=e]],["String",[e=>s=e]],["TypeError",[e=>a=e]],["create",[e=>i=e]],["freeze",[e=>c=e]],["getOwnPropertyDescriptor",[e=>l=e]],["getOwnPropertyDescriptors",[e=>p=e]],["globalThis",[e=>m=e]],["immutableObject",[e=>u=e]],["objectHasOwnProperty",[e=>y=e]],["reflectGet",[e=>f=e]],["reflectSet",[e=>g=e]]]],["./error/assert.js",[["assert",[e=>d=e]]]]]);const{details:E,quote:P}=d,w=new n(u,c({get(e,t){d.fail(E`Please report unexpected scope handler trap: ${P(s(t))}`)}}));r.createScopeHandler(((e,t={},{sloppyGlobalsMode:r=!1}={})=>{let n=!1;return{admitOneUnsafeEvalNext:()=>{n=!0},resetOneUnsafeEvalNext:()=>{const e=n;return n=!1,e},scopeHandler:c(i(w,p({get(r,s){if("symbol"!=typeof s)return"eval"===s&&!0===n?(n=!1,o):s in t?f(t,s,e):f(e,s)},set(r,o,n){if(o in t){const r=l(t,o);return y(r,"value")?g(t,o,n):g(t,o,n,e)}return g(e,o,n)},has:(o,s)=>r||n&&"eval"===s||s in t||s in e||s in m,getPrototypeOf:()=>null,getOwnPropertyDescriptor(e,t){const r=P(s(t));console.warn("getOwnPropertyDescriptor trap on scopeHandler for "+r,(new a).stack)}})))}}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s;e([["./commons.js",[["FERAL_REG_EXP",[e=>o=e]],["regexpExec",[e=>n=e]],["stringSlice",[e=>s=e]]]]]);const a=new o("(?:\\s*//\\s*[@#]\\s*([a-zA-Z][a-zA-Z0-9]*)\\s*=\\s*([^\\s\\*]*)|/\\*\\s*[@#]\\s*([a-zA-Z][a-zA-Z0-9]*)\\s*=\\s*([^\\s\\*]*)\\s*\\*/)\\s*$");r.getSourceURL((e=>{let t="<unknown>";for(;e.length>0;){const r=n(a,e);if(null===r)break;e=s(e,0,e.length-r[0].length),"sourceURL"===r[3]?t=r[4]:"sourceURL"===r[1]&&(t=r[2])}return t}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l;function p(e,t){const r=a(e,t);if(r<0)return-1;const o="\n"===e[r]?1:0;return c(i(e,0,r),"\n").length+o}e([["./commons.js",[["FERAL_REG_EXP",[e=>o=e]],["SyntaxError",[e=>n=e]],["stringReplace",[e=>s=e]],["stringSearch",[e=>a=e]],["stringSlice",[e=>i=e]],["stringSplit",[e=>c=e]]]],["./get-source-url.js",[["getSourceURL",[e=>l=e]]]]]);const m=new o("(?:\x3c!--|--\x3e)","g"),u=e=>{const t=p(e,m);if(t<0)return e;const r=l(e);throw new n(`Possible HTML comment rejected at ${r}:${t}. (SES_HTML_COMMENT_REJECTED)`)};r.rejectHtmlComments(u),r.evadeHtmlCommentTest((e=>s(e,m,(e=>"<"===e[0]?"< ! --":"-- >"))));const y=new o("(^|[^.])\\bimport(\\s*(?:\\(|/[/*]))","g"),f=e=>{const t=p(e,y);if(t<0)return e;const r=l(e);throw new n(`Possible import expression rejected at ${r}:${t}. (SES_IMPORT_REJECTED)`)};r.rejectImportExpressions(f),r.evadeImportExpressionTest((e=>s(e,y,((e,t,r)=>`${t}__import__${r}`))));const g=new o("(^|[^.])\\beval(\\s*\\()","g");r.rejectSomeDirectEvalExpressions((e=>{const t=p(e,g);if(t<0)return e;const r=l(e);throw new n(`Possible direct eval expression rejected at ${r}:${t}. (SES_EVAL_REJECTED)`)})),r.mandatoryTransforms((e=>(e=u(e),f(e)))),r.applyTransforms(((e,t)=>{for(const r of t)e=r(e);return e}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y;e([["./commons.js",[["WeakSet",[e=>o=e]],["apply",[e=>n=e]],["immutableObject",[e=>s=e]],["proxyRevocable",[e=>a=e]],["weaksetAdd",[e=>i=e]]]],["./scope-constants.js",[["getScopeConstants",[e=>c=e]]]],["./scope-handler.js",[["createScopeHandler",[e=>l=e]]]],["./transforms.js",[["applyTransforms",[e=>p=e]],["mandatoryTransforms",[e=>m=e]]]],["./make-evaluate-factory.js",[["makeEvaluateFactory",[e=>u=e]]]],["./error/assert.js",[["assert",[e=>y=e]]]]]);const{details:f}=y;r.makeSafeEvaluator((({globalObject:e,localObject:t={},globalTransforms:r=[],sloppyGlobalsMode:g=!1,knownScopeProxies:d=new o}={})=>{const{scopeHandler:E,admitOneUnsafeEvalNext:P,resetOneUnsafeEvalNext:w}=l(e,t,{sloppyGlobalsMode:g}),{proxy:b,revoke:h}=a(s,E);let S;return i(d,b),{safeEvaluate:(o,{localTransforms:s=[]}={})=>{let a;(()=>{if(!S){const r=c(e,t),o=u(r);S=n(o,b,[])}})(),o=p(o,[...s,...r,m]),P();try{return n(S,e,[o])}catch(e){throw a=e,e}finally{w()&&(h(),y.fail(f`handler did not reset allowNextEvalToBeUnsafe ${a}`))}}}}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m;e([["./commons.js",[["TypeError",[e=>o=e]],["arrayPush",[e=>n=e]],["create",[e=>s=e]],["defineProperties",[e=>a=e]],["getOwnPropertyDescriptors",[e=>i=e]]]],["./transforms.js",[["evadeHtmlCommentTest",[e=>c=e]],["evadeImportExpressionTest",[e=>l=e]],["rejectSomeDirectEvalExpressions",[e=>p=e]]]],["./make-safe-evaluator.js",[["makeSafeEvaluator",[e=>m=e]]]]]);const u=(e,t)=>{const{sloppyGlobalsMode:r=!1,__moduleShimLexicals__:o}=t;let n;if(void 0!==o||r){let{globalTransforms:t}=e;const{globalObject:c,globalLexicals:l,knownScopeProxies:p}=e;let u=l;void 0!==o&&(t=void 0,u=s(null,i(l)),a(u,i(o))),({safeEvaluate:n}=m({globalObject:c,localObject:u,globalTransforms:t,sloppyGlobalsMode:r,knownScopeProxies:p}))}else({safeEvaluate:n}=e);return{safeEvaluate:n}};r.provideCompartmentEvaluator(u),r.compartmentEvaluate(((e,t,r)=>{if("string"!=typeof t)throw new o("first argument of evaluate() must be a string");const{transforms:s=[],__evadeHtmlCommentTest__:a=!1,__evadeImportExpressionTest__:i=!1,__rejectSomeDirectEvalExpressions__:m=!0}=r,y=[...s];!0===a&&n(y,c),!0===i&&n(y,l),!0===m&&n(y,p);const{safeEvaluate:f}=u(e,r);return f(t,{localTransforms:y})}))},({imports:e,liveVar:t,onceVar:r})=>{e([]),r.makeEvalFunction((e=>t=>"string"!=typeof t?t:e(t)))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c;e([["./commons.js",[["FERAL_FUNCTION",[e=>o=e]],["arrayJoin",[e=>n=e]],["arrayPop",[e=>s=e]],["defineProperties",[e=>a=e]],["getPrototypeOf",[e=>i=e]]]],["./error/assert.js",[["assert",[e=>c=e]]]]]),r.makeFunctionConstructor((e=>{const t=function(t){const r=""+(s(arguments)||""),a=""+n(arguments,",");new o(a,""),new o(r);const i=`(function anonymous(${a}\n) {\n${r}\n})`;return e(i)};return a(t,{prototype:{value:o.prototype,writable:!1,enumerable:!1,configurable:!1}}),c(i(o)===o.prototype,"Function prototype is the same accross compartments"),c(i(t)===o.prototype,"Function constructor prototype is the same accross compartments"),t}))},({imports:e,liveVar:t,onceVar:r})=>{e([]);r.constantProperties({Infinity:1/0,NaN:NaN,undefined:void 0}),r.universalPropertyNames({isFinite:"isFinite",isNaN:"isNaN",parseFloat:"parseFloat",parseInt:"parseInt",decodeURI:"decodeURI",decodeURIComponent:"decodeURIComponent",encodeURI:"encodeURI",encodeURIComponent:"encodeURIComponent",Array:"Array",ArrayBuffer:"ArrayBuffer",BigInt:"BigInt",BigInt64Array:"BigInt64Array",BigUint64Array:"BigUint64Array",Boolean:"Boolean",DataView:"DataView",EvalError:"EvalError",Float32Array:"Float32Array",Float64Array:"Float64Array",Int8Array:"Int8Array",Int16Array:"Int16Array",Int32Array:"Int32Array",Map:"Map",Number:"Number",Object:"Object",Promise:"Promise",Proxy:"Proxy",RangeError:"RangeError",ReferenceError:"ReferenceError",Set:"Set",String:"String",Symbol:"Symbol",SyntaxError:"SyntaxError",TypeError:"TypeError",Uint8Array:"Uint8Array",Uint8ClampedArray:"Uint8ClampedArray",Uint16Array:"Uint16Array",Uint32Array:"Uint32Array",URIError:"URIError",WeakMap:"WeakMap",WeakSet:"WeakSet",JSON:"JSON",Reflect:"Reflect",escape:"escape",unescape:"unescape",lockdown:"lockdown",harden:"harden",HandledPromise:"HandledPromise"}),r.initialGlobalPropertyNames({Date:"%InitialDate%",Error:"%InitialError%",RegExp:"%InitialRegExp%",Math:"%InitialMath%",getStackString:"%InitialGetStackString%"}),r.sharedGlobalPropertyNames({Date:"%SharedDate%",Error:"%SharedError%",RegExp:"%SharedRegExp%",Math:"%SharedMath%"}),r.uniqueGlobalPropertyNames({globalThis:"%UniqueGlobalThis%",eval:"%UniqueEval%",Function:"%UniqueFunction%",Compartment:"%UniqueCompartment%"});const o=[EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError];r.NativeErrors(o);const n={"[[Proto]]":"%FunctionPrototype%",length:"number",name:"string"};r.FunctionInstance(n);const s=n,a={"[[Proto]]":"%AsyncFunctionPrototype%"},i={get:s,set:"undefined"},c={get:s,set:s};function l(e){return{"[[Proto]]":"%SharedError%",prototype:e}}function p(e){return{"[[Proto]]":"%ErrorPrototype%",constructor:e,message:"string",name:"string",toString:!1,cause:!1}}function m(e){return{"[[Proto]]":"%TypedArray%",BYTES_PER_ELEMENT:"number",prototype:e}}function u(e){return{"[[Proto]]":"%TypedArrayPrototype%",BYTES_PER_ELEMENT:"number",constructor:e}}r.isAccessorPermit((e=>e===i||e===c));const y={E:"number",LN10:"number",LN2:"number",LOG10E:"number",LOG2E:"number",PI:"number",SQRT1_2:"number",SQRT2:"number","@@toStringTag":"string",abs:s,acos:s,acosh:s,asin:s,asinh:s,atan:s,atanh:s,atan2:s,cbrt:s,ceil:s,clz32:s,cos:s,cosh:s,exp:s,expm1:s,floor:s,fround:s,hypot:s,imul:s,log:s,log1p:s,log10:s,log2:s,max:s,min:s,pow:s,round:s,sign:s,sin:s,sinh:s,sqrt:s,tan:s,tanh:s,trunc:s,idiv:!1,idivmod:!1,imod:!1,imuldiv:!1,irem:!1,mod:!1},f={"[[Proto]]":null,"%ThrowTypeError%":s,Infinity:"number",NaN:"number",undefined:"undefined","%UniqueEval%":s,isFinite:s,isNaN:s,parseFloat:s,parseInt:s,decodeURI:s,decodeURIComponent:s,encodeURI:s,encodeURIComponent:s,Object:{"[[Proto]]":"%FunctionPrototype%",assign:s,create:s,defineProperties:s,defineProperty:s,entries:s,freeze:s,fromEntries:s,getOwnPropertyDescriptor:s,getOwnPropertyDescriptors:s,getOwnPropertyNames:s,getOwnPropertySymbols:s,getPrototypeOf:s,is:s,isExtensible:s,isFrozen:s,isSealed:s,keys:s,preventExtensions:s,prototype:"%ObjectPrototype%",seal:s,setPrototypeOf:s,values:s,hasOwn:s},"%ObjectPrototype%":{"[[Proto]]":null,constructor:"Object",hasOwnProperty:s,isPrototypeOf:s,propertyIsEnumerable:s,toLocaleString:s,toString:s,valueOf:s,"--proto--":c,__defineGetter__:s,__defineSetter__:s,__lookupGetter__:s,__lookupSetter__:s},"%UniqueFunction%":{"[[Proto]]":"%FunctionPrototype%",prototype:"%FunctionPrototype%"},"%InertFunction%":{"[[Proto]]":"%FunctionPrototype%",prototype:"%FunctionPrototype%"},"%FunctionPrototype%":{apply:s,bind:s,call:s,constructor:"%InertFunction%",toString:s,"@@hasInstance":s,caller:!1,arguments:!1},Boolean:{"[[Proto]]":"%FunctionPrototype%",prototype:"%BooleanPrototype%"},"%BooleanPrototype%":{constructor:"Boolean",toString:s,valueOf:s},Symbol:{"[[Proto]]":"%FunctionPrototype%",asyncIterator:"symbol",for:s,hasInstance:"symbol",isConcatSpreadable:"symbol",iterator:"symbol",keyFor:s,match:"symbol",matchAll:"symbol",prototype:"%SymbolPrototype%",replace:"symbol",search:"symbol",species:"symbol",split:"symbol",toPrimitive:"symbol",toStringTag:"symbol",unscopables:"symbol"},"%SymbolPrototype%":{constructor:"Symbol",description:i,toString:s,valueOf:s,"@@toPrimitive":s,"@@toStringTag":"string"},"%InitialError%":{"[[Proto]]":"%FunctionPrototype%",prototype:"%ErrorPrototype%",captureStackTrace:s,stackTraceLimit:c,prepareStackTrace:c},"%SharedError%":{"[[Proto]]":"%FunctionPrototype%",prototype:"%ErrorPrototype%",captureStackTrace:s,stackTraceLimit:c,prepareStackTrace:c},"%ErrorPrototype%":{constructor:"%SharedError%",message:"string",name:"string",toString:s,at:!1,stack:!1,cause:!1},EvalError:l("%EvalErrorPrototype%"),RangeError:l("%RangeErrorPrototype%"),ReferenceError:l("%ReferenceErrorPrototype%"),SyntaxError:l("%SyntaxErrorPrototype%"),TypeError:l("%TypeErrorPrototype%"),URIError:l("%URIErrorPrototype%"),"%EvalErrorPrototype%":p("EvalError"),"%RangeErrorPrototype%":p("RangeError"),"%ReferenceErrorPrototype%":p("ReferenceError"),"%SyntaxErrorPrototype%":p("SyntaxError"),"%TypeErrorPrototype%":p("TypeError"),"%URIErrorPrototype%":p("URIError"),Number:{"[[Proto]]":"%FunctionPrototype%",EPSILON:"number",isFinite:s,isInteger:s,isNaN:s,isSafeInteger:s,MAX_SAFE_INTEGER:"number",MAX_VALUE:"number",MIN_SAFE_INTEGER:"number",MIN_VALUE:"number",NaN:"number",NEGATIVE_INFINITY:"number",parseFloat:s,parseInt:s,POSITIVE_INFINITY:"number",prototype:"%NumberPrototype%"},"%NumberPrototype%":{constructor:"Number",toExponential:s,toFixed:s,toLocaleString:s,toPrecision:s,toString:s,valueOf:s},BigInt:{"[[Proto]]":"%FunctionPrototype%",asIntN:s,asUintN:s,prototype:"%BigIntPrototype%",bitLength:!1,fromArrayBuffer:!1},"%BigIntPrototype%":{constructor:"BigInt",toLocaleString:s,toString:s,valueOf:s,"@@toStringTag":"string"},"%InitialMath%":{...y,random:s},"%SharedMath%":y,"%InitialDate%":{"[[Proto]]":"%FunctionPrototype%",now:s,parse:s,prototype:"%DatePrototype%",UTC:s},"%SharedDate%":{"[[Proto]]":"%FunctionPrototype%",now:s,parse:s,prototype:"%DatePrototype%",UTC:s},"%DatePrototype%":{constructor:"%SharedDate%",getDate:s,getDay:s,getFullYear:s,getHours:s,getMilliseconds:s,getMinutes:s,getMonth:s,getSeconds:s,getTime:s,getTimezoneOffset:s,getUTCDate:s,getUTCDay:s,getUTCFullYear:s,getUTCHours:s,getUTCMilliseconds:s,getUTCMinutes:s,getUTCMonth:s,getUTCSeconds:s,setDate:s,setFullYear:s,setHours:s,setMilliseconds:s,setMinutes:s,setMonth:s,setSeconds:s,setTime:s,setUTCDate:s,setUTCFullYear:s,setUTCHours:s,setUTCMilliseconds:s,setUTCMinutes:s,setUTCMonth:s,setUTCSeconds:s,toDateString:s,toISOString:s,toJSON:s,toLocaleDateString:s,toLocaleString:s,toLocaleTimeString:s,toString:s,toTimeString:s,toUTCString:s,valueOf:s,"@@toPrimitive":s,getYear:s,setYear:s,toGMTString:s},String:{"[[Proto]]":"%FunctionPrototype%",fromCharCode:s,fromCodePoint:s,prototype:"%StringPrototype%",raw:s,fromArrayBuffer:!1},"%StringPrototype%":{length:"number",charAt:s,charCodeAt:s,codePointAt:s,concat:s,constructor:"String",endsWith:s,includes:s,indexOf:s,lastIndexOf:s,localeCompare:s,match:s,matchAll:s,normalize:s,padEnd:s,padStart:s,repeat:s,replace:s,replaceAll:s,search:s,slice:s,split:s,startsWith:s,substring:s,toLocaleLowerCase:s,toLocaleUpperCase:s,toLowerCase:s,toString:s,toUpperCase:s,trim:s,trimEnd:s,trimStart:s,valueOf:s,"@@iterator":s,substr:s,anchor:s,big:s,blink:s,bold:s,fixed:s,fontcolor:s,fontsize:s,italics:s,link:s,small:s,strike:s,sub:s,sup:s,trimLeft:s,trimRight:s,compare:!1,at:s},"%StringIteratorPrototype%":{"[[Proto]]":"%IteratorPrototype%",next:s,"@@toStringTag":"string"},"%InitialRegExp%":{"[[Proto]]":"%FunctionPrototype%",prototype:"%RegExpPrototype%","@@species":i,input:!1,$_:!1,lastMatch:!1,"$&":!1,lastParen:!1,"$+":!1,leftContext:!1,"$`":!1,rightContext:!1,"$'":!1,$1:!1,$2:!1,$3:!1,$4:!1,$5:!1,$6:!1,$7:!1,$8:!1,$9:!1},"%SharedRegExp%":{"[[Proto]]":"%FunctionPrototype%",prototype:"%RegExpPrototype%","@@species":i},"%RegExpPrototype%":{constructor:"%SharedRegExp%",exec:s,dotAll:i,flags:i,global:i,ignoreCase:i,"@@match":s,"@@matchAll":s,multiline:i,"@@replace":s,"@@search":s,source:i,"@@split":s,sticky:i,test:s,toString:s,unicode:i,compile:!1,hasIndices:!1},"%RegExpStringIteratorPrototype%":{"[[Proto]]":"%IteratorPrototype%",next:s,"@@toStringTag":"string"},Array:{"[[Proto]]":"%FunctionPrototype%",from:s,isArray:s,of:s,prototype:"%ArrayPrototype%","@@species":i,at:s},"%ArrayPrototype%":{length:"number",concat:s,constructor:"Array",copyWithin:s,entries:s,every:s,fill:s,filter:s,find:s,findIndex:s,flat:s,flatMap:s,forEach:s,includes:s,indexOf:s,join:s,keys:s,lastIndexOf:s,map:s,pop:s,push:s,reduce:s,reduceRight:s,reverse:s,shift:s,slice:s,some:s,sort:s,splice:s,toLocaleString:s,toString:s,unshift:s,values:s,"@@iterator":s,"@@unscopables":{"[[Proto]]":null,copyWithin:"boolean",entries:"boolean",fill:"boolean",find:"boolean",findIndex:"boolean",flat:"boolean",flatMap:"boolean",includes:"boolean",keys:"boolean",values:"boolean",at:!1},at:!1,findLast:s,findLastIndex:s},"%ArrayIteratorPrototype%":{"[[Proto]]":"%IteratorPrototype%",next:s,"@@toStringTag":"string"},"%TypedArray%":{"[[Proto]]":"%FunctionPrototype%",from:s,of:s,prototype:"%TypedArrayPrototype%","@@species":i},"%TypedArrayPrototype%":{buffer:i,byteLength:i,byteOffset:i,constructor:"%TypedArray%",copyWithin:s,entries:s,every:s,fill:s,filter:s,find:s,findIndex:s,forEach:s,includes:s,indexOf:s,join:s,keys:s,lastIndexOf:s,length:i,map:s,reduce:s,reduceRight:s,reverse:s,set:s,slice:s,some:s,sort:s,subarray:s,toLocaleString:s,toString:s,values:s,"@@iterator":s,"@@toStringTag":i,at:!1,findLast:s,findLastIndex:s},BigInt64Array:m("%BigInt64ArrayPrototype%"),BigUint64Array:m("%BigUint64ArrayPrototype%"),Float32Array:m("%Float32ArrayPrototype%"),Float64Array:m("%Float64ArrayPrototype%"),Int16Array:m("%Int16ArrayPrototype%"),Int32Array:m("%Int32ArrayPrototype%"),Int8Array:m("%Int8ArrayPrototype%"),Uint16Array:m("%Uint16ArrayPrototype%"),Uint32Array:m("%Uint32ArrayPrototype%"),Uint8Array:m("%Uint8ArrayPrototype%"),Uint8ClampedArray:m("%Uint8ClampedArrayPrototype%"),"%BigInt64ArrayPrototype%":u("BigInt64Array"),"%BigUint64ArrayPrototype%":u("BigUint64Array"),"%Float32ArrayPrototype%":u("Float32Array"),"%Float64ArrayPrototype%":u("Float64Array"),"%Int16ArrayPrototype%":u("Int16Array"),"%Int32ArrayPrototype%":u("Int32Array"),"%Int8ArrayPrototype%":u("Int8Array"),"%Uint16ArrayPrototype%":u("Uint16Array"),"%Uint32ArrayPrototype%":u("Uint32Array"),"%Uint8ArrayPrototype%":u("Uint8Array"),"%Uint8ClampedArrayPrototype%":u("Uint8ClampedArray"),Map:{"[[Proto]]":"%FunctionPrototype%","@@species":i,prototype:"%MapPrototype%"},"%MapPrototype%":{clear:s,constructor:"Map",delete:s,entries:s,forEach:s,get:s,has:s,keys:s,set:s,size:i,values:s,"@@iterator":s,"@@toStringTag":"string"},"%MapIteratorPrototype%":{"[[Proto]]":"%IteratorPrototype%",next:s,"@@toStringTag":"string"},Set:{"[[Proto]]":"%FunctionPrototype%",prototype:"%SetPrototype%","@@species":i},"%SetPrototype%":{add:s,clear:s,constructor:"Set",delete:s,entries:s,forEach:s,has:s,keys:s,size:i,values:s,"@@iterator":s,"@@toStringTag":"string"},"%SetIteratorPrototype%":{"[[Proto]]":"%IteratorPrototype%",next:s,"@@toStringTag":"string"},WeakMap:{"[[Proto]]":"%FunctionPrototype%",prototype:"%WeakMapPrototype%"},"%WeakMapPrototype%":{constructor:"WeakMap",delete:s,get:s,has:s,set:s,"@@toStringTag":"string"},WeakSet:{"[[Proto]]":"%FunctionPrototype%",prototype:"%WeakSetPrototype%"},"%WeakSetPrototype%":{add:s,constructor:"WeakSet",delete:s,has:s,"@@toStringTag":"string"},ArrayBuffer:{"[[Proto]]":"%FunctionPrototype%",isView:s,prototype:"%ArrayBufferPrototype%","@@species":i,fromString:!1,fromBigInt:!1},"%ArrayBufferPrototype%":{byteLength:i,constructor:"ArrayBuffer",slice:s,"@@toStringTag":"string",concat:!1,transfer:s,resize:s,resizable:i,maxByteLength:i},SharedArrayBuffer:!1,"%SharedArrayBufferPrototype%":!1,DataView:{"[[Proto]]":"%FunctionPrototype%",BYTES_PER_ELEMENT:"number",prototype:"%DataViewPrototype%"},"%DataViewPrototype%":{buffer:i,byteLength:i,byteOffset:i,constructor:"DataView",getBigInt64:s,getBigUint64:s,getFloat32:s,getFloat64:s,getInt8:s,getInt16:s,getInt32:s,getUint8:s,getUint16:s,getUint32:s,setBigInt64:s,setBigUint64:s,setFloat32:s,setFloat64:s,setInt8:s,setInt16:s,setInt32:s,setUint8:s,setUint16:s,setUint32:s,"@@toStringTag":"string"},Atomics:!1,JSON:{parse:s,stringify:s,"@@toStringTag":"string"},"%IteratorPrototype%":{"@@iterator":s},"%AsyncIteratorPrototype%":{"@@asyncIterator":s},"%InertGeneratorFunction%":{"[[Proto]]":"%InertFunction%",prototype:"%Generator%"},"%Generator%":{"[[Proto]]":"%FunctionPrototype%",constructor:"%InertGeneratorFunction%",prototype:"%GeneratorPrototype%","@@toStringTag":"string"},"%InertAsyncGeneratorFunction%":{"[[Proto]]":"%InertFunction%",prototype:"%AsyncGenerator%"},"%AsyncGenerator%":{"[[Proto]]":"%FunctionPrototype%",constructor:"%InertAsyncGeneratorFunction%",prototype:"%AsyncGeneratorPrototype%","@@toStringTag":"string"},"%GeneratorPrototype%":{"[[Proto]]":"%IteratorPrototype%",constructor:"%Generator%",next:s,return:s,throw:s,"@@toStringTag":"string"},"%AsyncGeneratorPrototype%":{"[[Proto]]":"%AsyncIteratorPrototype%",constructor:"%AsyncGenerator%",next:s,return:s,throw:s,"@@toStringTag":"string"},HandledPromise:{"[[Proto]]":"Promise",applyFunction:s,applyFunctionSendOnly:s,applyMethod:s,applyMethodSendOnly:s,get:s,getSendOnly:s,prototype:"%PromisePrototype%",resolve:s},Promise:{"[[Proto]]":"%FunctionPrototype%",all:s,allSettled:s,any:!1,prototype:"%PromisePrototype%",race:s,reject:s,resolve:s,"@@species":i},"%PromisePrototype%":{catch:s,constructor:"Promise",finally:s,then:s,"@@toStringTag":"string"},"%InertAsyncFunction%":{"[[Proto]]":"%InertFunction%",prototype:"%AsyncFunctionPrototype%"},"%AsyncFunctionPrototype%":{"[[Proto]]":"%FunctionPrototype%",constructor:"%InertAsyncFunction%","@@toStringTag":"string"},Reflect:{apply:s,construct:s,defineProperty:s,deleteProperty:s,get:s,getOwnPropertyDescriptor:s,getPrototypeOf:s,has:s,isExtensible:s,ownKeys:s,preventExtensions:s,set:s,setPrototypeOf:s,"@@toStringTag":"string"},Proxy:{"[[Proto]]":"%FunctionPrototype%",revocable:s},escape:s,unescape:s,"%UniqueCompartment%":{"[[Proto]]":"%FunctionPrototype%",prototype:"%CompartmentPrototype%",toString:s},"%InertCompartment%":{"[[Proto]]":"%FunctionPrototype%",prototype:"%CompartmentPrototype%",toString:s},"%CompartmentPrototype%":{constructor:"%InertCompartment%",evaluate:s,globalThis:i,name:i,toString:s,__isKnownScopeProxy__:s,import:a,load:a,importNow:s,module:s},lockdown:s,harden:s,"%InitialGetStackString%":s};r.whitelist(f)},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l;e([["./commons.js",[["defineProperty",[e=>o=e]],["objectHasOwnProperty",[e=>n=e]],["entries",[e=>s=e]]]],["./make-eval-function.js",[["makeEvalFunction",[e=>a=e]]]],["./make-function-constructor.js",[["makeFunctionConstructor",[e=>i=e]]]],["./whitelist.js",[["constantProperties",[e=>c=e]],["universalPropertyNames",[e=>l=e]]]]]),r.setGlobalObjectConstantProperties((e=>{for(const[t,r]of s(c))o(e,t,{value:r,writable:!1,enumerable:!1,configurable:!1})})),r.setGlobalObjectMutableProperties(((e,{intrinsics:t,newGlobalPropertyNames:r,makeCompartmentConstructor:c,safeEvaluate:p,markVirtualizedNativeFunction:m})=>{for(const[r,a]of s(l))n(t,a)&&o(e,r,{value:t[a],writable:!0,enumerable:!1,configurable:!0});for(const[a,i]of s(r))n(t,i)&&o(e,a,{value:t[i],writable:!0,enumerable:!1,configurable:!0});const u={globalThis:e,eval:a(p),Function:i(p)};u.Compartment=c(c,t,m);for(const[t,r]of s(u))o(e,t,{value:r,writable:!0,enumerable:!1,configurable:!0}),"function"==typeof r&&m(r)}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d,E,P,w,b;e([["./commons.js",[["ReferenceError",[e=>o=e]],["TypeError",[e=>n=e]],["Map",[e=>s=e]],["Set",[e=>a=e]],["arrayJoin",[e=>i=e]],["arrayMap",[e=>c=e]],["arrayPush",[e=>l=e]],["create",[e=>p=e]],["freeze",[e=>m=e]],["mapGet",[e=>u=e]],["mapHas",[e=>y=e]],["mapSet",[e=>f=e]],["setAdd",[e=>g=e]],["promiseCatch",[e=>d=e]],["promiseThen",[e=>E=e]],["values",[e=>P=e]],["weakmapGet",[e=>w=e]]]],["./error/assert.js",[["assert",[e=>b=e]]]]]);const{details:h,quote:S}=b,v=()=>{};r.makeAlias(((e,t)=>m({compartment:e,specifier:t})));const k=async(e,t,r,o,n,s,a,i)=>{const{resolveHook:c,moduleRecords:u}=w(e,r),y=((e,t,r)=>{const o=p(null);for(const n of e){const e=t(n,r);o[n]=e}return m(o)})(n.imports,c,o),d=m({compartment:r,staticModuleRecord:n,moduleSpecifier:o,resolvedImports:y});for(const o of P(y)){const n=j(e,t,r,o,s,a,i);g(s,E(n,v,(e=>{l(i,e)})))}return f(u,o,d),d},j=async(e,t,r,a,i,c,l)=>{const{name:p}=w(e,r);let m=u(c,r);void 0===m&&(m=new s,f(c,r,m));let g=u(m,a);return void 0!==g||(g=d((async(e,t,r,s,a,i,c)=>{const{importHook:l,moduleMap:p,moduleMapHook:m,moduleRecords:g}=w(e,r);let d=p[s];if(void 0===d&&void 0!==m&&(d=m(s)),"string"==typeof d)b.fail(h`Cannot map module ${S(s)} to ${S(d)} in parent compartment, not yet implemented`,n);else if(void 0!==d){const r=w(t,d);void 0===r&&b.fail(h`Cannot map module ${S(s)} because the value is not a module exports namespace, or is from another realm`,o);const n=await j(e,t,r.compartment,r.specifier,a,i,c);return f(g,s,n),n}if(y(g,s))return u(g,s);const E=await l(s);if(null!==E&&"object"==typeof E||b.fail(h`importHook must return a promise for an object, for module ${S(s)} in compartment ${S(r.name)}`),void 0!==E.record){const{compartment:o=r,specifier:n=s,record:l}=E,p=await k(e,t,o,n,l,a,i,c);return f(g,s,p),p}return k(e,t,r,s,E,a,i,c)})(e,t,r,a,i,c,l),(e=>{throw b.note(e,h`${e.message}, loading ${S(a)} in compartment ${S(p)}`),e})),f(m,a,g)),g};r.load((async(e,t,r,o)=>{const{name:p}=w(e,r),m=new a,u=new s,y=[],f=j(e,t,r,o,m,u,y);g(m,E(f,v,(e=>{l(y,e)})));for(const e of m)await e;if(y.length>0)throw new n(`Failed to load module ${S(o)} in package ${S(p)} (${y.length} underlying failures: ${i(c(y,(e=>e.message)),", ")}`)}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d,E,P;e([["./module-load.js",[["makeAlias",[e=>o=e]]]],["./commons.js",[["Proxy",[e=>n=e]],["TypeError",[e=>s=e]],["create",[e=>a=e]],["freeze",[e=>i=e]],["mapGet",[e=>c=e]],["mapHas",[e=>l=e]],["mapSet",[e=>p=e]],["ownKeys",[e=>m=e]],["reflectGet",[e=>u=e]],["reflectGetOwnPropertyDescriptor",[e=>y=e]],["reflectHas",[e=>f=e]],["reflectIsExtensible",[e=>g=e]],["reflectPreventExtensions",[e=>d=e]],["weakmapSet",[e=>E=e]]]],["./error/assert.js",[["assert",[e=>P=e]]]]]);const{quote:w}=P,b=()=>{let e=!1;const t=a(null);return i({activate(){e=!0},proxiedExports:t,exportsProxy:new n(t,{get(r,o,n){if(!e)throw new s(`Cannot get property ${w(o)} of module exports namespace, the module has not yet begun to execute`);return u(t,o,n)},set(e,t,r){throw new s(`Cannot set property ${w(t)} of module exports namespace`)},has(r,o){if(!e)throw new s(`Cannot check property ${w(o)}, the module has not yet begun to execute`);return f(t,o)},deleteProperty(e,t){throw new s(`Cannot delete property ${w(t)}s of module exports namespace`)},ownKeys(r){if(!e)throw new s("Cannot enumerate keys, the module has not yet begun to execute");return m(t)},getOwnPropertyDescriptor(r,o){if(!e)throw new s(`Cannot get own property descriptor ${w(o)}, the module has not yet begun to execute`);return y(t,o)},preventExtensions(r){if(!e)throw new s("Cannot prevent extensions of module exports namespace, the module has not yet begun to execute");return d(t)},isExtensible(){if(!e)throw new s("Cannot check extensibility of module exports namespace, the module has not yet begun to execute");return g(t)},getPrototypeOf:e=>null,setPrototypeOf(e,t){throw new s("Cannot set prototype of module exports namespace")},defineProperty(e,t,r){throw new s(`Cannot define property ${w(t)} of module exports namespace`)},apply(e,t,r){throw new s("Cannot call module exports namespace, it is not a function")},construct(e,t){throw new s("Cannot construct module exports namespace, it is not a constructor")}})})};r.deferExports(b),r.getDeferredExports(((e,t,r,n)=>{const{deferredExports:s}=t;if(!l(s,n)){const t=b();E(r,t.exportsProxy,o(e,n)),p(s,n,t)}return c(s,n)}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d,E,P,w,b,h;e([["./error/assert.js",[["assert",[e=>o=e]]]],["./module-proxy.js",[["getDeferredExports",[e=>n=e]]]],["./commons.js",[["ReferenceError",[e=>s=e]],["SyntaxError",[e=>a=e]],["TypeError",[e=>i=e]],["arrayForEach",[e=>c=e]],["arrayIncludes",[e=>l=e]],["arrayPush",[e=>p=e]],["arraySome",[e=>m=e]],["arraySort",[e=>u=e]],["create",[e=>y=e]],["defineProperty",[e=>f=e]],["entries",[e=>g=e]],["freeze",[e=>d=e]],["isArray",[e=>E=e]],["keys",[e=>P=e]],["mapGet",[e=>w=e]],["weakmapGet",[e=>b=e]]]],["./compartment-evaluate.js",[["compartmentEvaluate",[e=>h=e]]]]]);const{quote:S}=o;r.makeThirdPartyModuleInstance(((e,t,r,o,s,a)=>{const{exportsProxy:l,proxiedExports:u,activate:g}=n(r,b(e,r),o,s),P=y(null);if(t.exports){if(!E(t.exports)||m(t.exports,(e=>"string"!=typeof e)))throw new i('SES third-party static module record "exports" property must be an array of strings for module '+s);c(t.exports,(e=>{let t=u[e];const r=[];f(u,e,{get:()=>t,set:e=>{t=e;for(const t of r)t(e)},enumerable:!0,configurable:!1}),P[e]=e=>{p(r,e),e(t)}}))}let w=!1;return d({notifiers:P,exportsProxy:l,execute(){w||(g(),w=!0,t.execute(u,r,a))}})})),r.makeModuleInstance(((e,t,r,o)=>{const{compartment:m,moduleSpecifier:E,staticModuleRecord:v}=r,{reexports:k=[],__syncModuleProgram__:j,__fixedExportMap__:A={},__liveExportMap__:T={}}=v,x=b(e,m),{__shimTransforms__:I}=x,{exportsProxy:O,proxiedExports:_,activate:C}=n(m,x,t,E),F=y(null),V=y(null),N=y(null),R=y(null),M=y(null),$=y(null);function L(e){const t=y(null);t.default=!1;for(const[r,n]of e){const e=w(o,r);e.execute();const{notifiers:s}=e;for(const[e,t]of n){const o=s[e];if(!o)throw a(`The requested module '${r}' does not provide an export named '${e}'`);for(const e of t)o(e)}if(l(k,r))for(const[e,r]of g(s))void 0===t[e]?t[e]=r:t[e]=!1}for(const[e,r]of g(t))if(!$[e]&&!1!==r){let t;$[e]=r,r((e=>t=e)),F[e]={get:()=>t,set:void 0,enumerable:!0,configurable:!1}}c(u(P(F)),(e=>f(_,e,F[e]))),d(_),C()}c(g(A),(([e,[t]])=>{let r=M[t];if(!r){let e,o=!0,n=[];const a=()=>{if(o)throw new s(`binding ${S(t)} not yet initialized`);return e},c=d((r=>{if(!o)throw new i(`Internal: binding ${S(t)} already initialized`);e=r;const s=n;n=null,o=!1;for(const e of s)e(r);return r}));r={get:a,notify:t=>{t!==c&&(o?p(n,t):t(e))}},M[t]=r,N[t]=c}F[e]={get:r.get,set:void 0,enumerable:!0,configurable:!1},$[e]=r.notify})),c(g(T),(([e,[t,r]])=>{let o=M[t];if(!o){let n,a=!0;const i=[],c=()=>{if(a)throw new s(`binding ${S(e)} not yet initialized`);return n},l=d((e=>{n=e,a=!1;for(const t of i)t(e)})),m=e=>{if(a)throw new s(`binding ${S(t)} not yet initialized`);n=e;for(const t of i)t(e)};o={get:c,notify:e=>{e!==l&&(p(i,e),a||e(n))}},M[t]=o,r&&f(V,t,{get:c,set:m,enumerable:!0,configurable:!1}),R[t]=l}F[e]={get:o.get,set:void 0,enumerable:!0,configurable:!1},$[e]=o.notify})),$["*"]=e=>{e(_)};let G,D=h(x,j,{globalObject:m.globalThis,transforms:I,__moduleShimLexicals__:V}),U=!1;return d({notifiers:$,exportsProxy:O,execute:function(){if(D){const e=D;D=null;try{e(d({imports:d(L),onceVar:d(N),liveVar:d(R)}))}catch(e){U=!0,G=e}}if(U)throw G}})}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g;e([["./error/assert.js",[["assert",[e=>o=e]]]],["./module-instance.js",[["makeModuleInstance",[e=>n=e]],["makeThirdPartyModuleInstance",[e=>s=e]]]],["./commons.js",[["Map",[e=>a=e]],["ReferenceError",[e=>i=e]],["TypeError",[e=>c=e]],["entries",[e=>l=e]],["isArray",[e=>p=e]],["isObject",[e=>m=e]],["mapGet",[e=>u=e]],["mapHas",[e=>y=e]],["mapSet",[e=>f=e]],["weakmapGet",[e=>g=e]]]]]);const{quote:d}=o,E=(e,t,r,o)=>{const{name:n,moduleRecords:s}=g(e,r),a=u(s,o);if(void 0===a)throw new i(`Missing link to module ${d(o)} from compartment ${d(n)}`);return P(e,t,a)};r.link(E);const P=(e,t,r)=>{const{compartment:i,moduleSpecifier:P,resolvedImports:w,staticModuleRecord:b}=r,{instances:h}=g(e,i);if(y(h,P))return u(h,P);!function(e,t){o(m(e),`Static module records must be of type object, got ${d(e)}, for module ${d(t)}`);const{imports:r,exports:n,reexports:s=[]}=e;o(p(r),`Property 'imports' of a static module record must be an array, got ${d(r)}, for module ${d(t)}`),o(p(n),`Property 'exports' of a precompiled module record must be an array, got ${d(n)}, for module ${d(t)}`),o(p(s),`Property 'reexports' of a precompiled module record must be an array if present, got ${d(s)}, for module ${d(t)}`)}(b,P);const S=new a;let v;if(function(e){return"string"==typeof e.__syncModuleProgram__}(b))!function(e,t){const{__fixedExportMap__:r,__liveExportMap__:n}=e;o(m(r),`Property '__fixedExportMap__' of a precompiled module record must be an object, got ${d(r)}, for module ${d(t)}`),o(m(n),`Property '__liveExportMap__' of a precompiled module record must be an object, got ${d(n)}, for module ${d(t)}`)}(b,P),v=n(e,t,r,S);else{if(!function(e){return"function"==typeof e.execute}(b))throw new c("importHook must return a static module record, got "+d(b));!function(e,t){const{exports:r}=e;o(p(r),`Property 'exports' of a third-party static module record must be an array, got ${d(r)}, for module ${d(t)}`)}(b,P),v=s(e,b,i,t,P,w)}f(h,P,v);for(const[r,o]of l(w)){const n=E(e,t,i,o);f(S,r,n)}return v};r.instantiate(P)},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d,E,P,w,b,h,S,v,k,j,A,T,x;e([["./commons.js",[["Map",[e=>o=e]],["ReferenceError",[e=>n=e]],["TypeError",[e=>s=e]],["WeakMap",[e=>a=e]],["WeakSet",[e=>i=e]],["arrayFilter",[e=>c=e]],["arrayJoin",[e=>l=e]],["assign",[e=>p=e]],["defineProperties",[e=>m=e]],["entries",[e=>u=e]],["freeze",[e=>y=e]],["getOwnPropertyNames",[e=>f=e]],["promiseThen",[e=>g=e]],["weakmapGet",[e=>d=e]],["weakmapSet",[e=>E=e]],["weaksetHas",[e=>P=e]]]],["./global-object.js",[["setGlobalObjectConstantProperties",[e=>w=e]],["setGlobalObjectMutableProperties",[e=>b=e]]]],["./scope-constants.js",[["isValidIdentifierName",[e=>h=e]]]],["./whitelist.js",[["sharedGlobalPropertyNames",[e=>S=e]]]],["./module-load.js",[["load",[e=>v=e]]]],["./module-link.js",[["link",[e=>k=e]]]],["./module-proxy.js",[["getDeferredExports",[e=>j=e]]]],["./error/assert.js",[["assert",[e=>A=e]]]],["./compartment-evaluate.js",[["compartmentEvaluate",[e=>T=e]]]],["./make-safe-evaluator.js",[["makeSafeEvaluator",[e=>x=e]]]]]);const{quote:I}=A,O=new a,_=new a,C=e=>{const{importHook:t,resolveHook:r}=d(_,e);if("function"!=typeof t||"function"!=typeof r)throw new s("Compartment must be constructed with an importHook and a resolveHook for it to be able to load modules")},F=function(e={},t={},r={}){throw new s("Compartment.prototype.constructor is not a valid constructor.")};r.InertCompartment(F);const V=(e,t)=>{const{execute:r,exportsProxy:o}=k(_,O,e,t);return r(),o},N={constructor:F,get globalThis(){return d(_,this).globalObject},get name(){return d(_,this).name},evaluate(e,t={}){const r=d(_,this);return T(r,e,t)},toString:()=>"[object Compartment]",__isKnownScopeProxy__(e){const{knownScopeProxies:t}=d(_,this);return P(t,e)},module(e){if("string"!=typeof e)throw new s("first argument of module() must be a string");C(this);const{exportsProxy:t}=j(this,d(_,this),O,e);return t},async import(e){if("string"!=typeof e)throw new s("first argument of import() must be a string");return C(this),g(v(_,O,this,e),(()=>({namespace:V(this,e)})))},async load(e){if("string"!=typeof e)throw new s("first argument of load() must be a string");return C(this),v(_,O,this,e)},importNow(e){if("string"!=typeof e)throw new s("first argument of importNow() must be a string");return C(this),V(this,e)}};r.CompartmentPrototype(N),m(F,{prototype:{value:N}}),r.makeCompartmentConstructor(((e,t,r)=>{function a(a={},m={},g={}){if(void 0===new.target)throw new s("Class constructor Compartment cannot be invoked without 'new'");const{name:P="<unknown>",transforms:v=[],__shimTransforms__:k=[],globalLexicals:j={},resolveHook:A,importHook:T,moduleMapHook:C}=g,F=[...v,...k],V=new o,N=new o,R=new o;for(const[e,t]of u(m||{})){if("string"==typeof t)throw new s(`Cannot map module ${I(e)} to ${I(t)} in parent compartment`);if(void 0===d(O,t))throw n(`Cannot map module ${I(e)} because it has no known compartment in this realm`)}const M=c(f(j),(e=>!h(e)));if(M.length)throw new s(`Cannot create compartment with invalid names for global lexicals: ${l(M,", ")}; these names would not be lexically mentionable`);const $=y({...j}),L={};w(L);const G=new i,{safeEvaluate:D}=x({globalObject:L,localObject:$,globalTransforms:F,sloppyGlobalsMode:!1,knownScopeProxies:G});b(L,{intrinsics:t,newGlobalPropertyNames:S,makeCompartmentConstructor:e,safeEvaluate:D,markVirtualizedNativeFunction:r}),p(L,a),E(_,this,{name:P,globalTransforms:F,globalObject:L,knownScopeProxies:G,globalLexicals:$,safeEvaluate:D,resolveHook:A,importHook:T,moduleMap:m,moduleMapHook:C,moduleRecords:V,__shimTransforms__:k,deferredExports:R,instances:N})}return a.prototype=N,a}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d,E,P,w,b;e([["./commons.js",[["TypeError",[e=>o=e]],["WeakSet",[e=>n=e]],["arrayFilter",[e=>s=e]],["defineProperty",[e=>a=e]],["entries",[e=>i=e]],["freeze",[e=>c=e]],["getOwnPropertyDescriptor",[e=>l=e]],["getOwnPropertyDescriptors",[e=>p=e]],["globalThis",[e=>m=e]],["is",[e=>u=e]],["isObject",[e=>y=e]],["objectHasOwnProperty",[e=>f=e]],["values",[e=>g=e]],["weaksetHas",[e=>d=e]]]],["./whitelist.js",[["constantProperties",[e=>E=e]],["sharedGlobalPropertyNames",[e=>P=e]],["universalPropertyNames",[e=>w=e]],["whitelist",[e=>b=e]]]]]);const h=e=>"function"==typeof e;function S(e,t,r){if(f(e,t)){const n=l(e,t);if(!u(n.value,r.value)||n.get!==r.get||n.set!==r.set||n.writable!==r.writable||n.enumerable!==r.enumerable||n.configurable!==r.configurable)throw new o("Conflicting definitions of "+t)}a(e,t,r)}function v(e,t){const r={__proto__:null};for(const[o,n]of i(t))f(e,o)&&(r[n]=e[o]);return r}const k=()=>{const e={__proto__:null};let t;const r=t=>{!function(e,t){for(const[r,o]of i(t))S(e,r,o)}(e,p(t))};c(r);const a=()=>{for(const[t,r]of i(e)){if(!y(r))continue;if(!f(r,"prototype"))continue;const n=b[t];if("object"!=typeof n)throw new o("Expected permit object at whitelist."+t);const s=n.prototype;if(!s)throw new o(t+".prototype property not whitelisted");if("string"!=typeof s||!f(b,s))throw new o(`Unrecognized ${t}.prototype whitelist entry`);const a=r.prototype;if(f(e,s)){if(e[s]!==a)throw new o("Conflicting bindings of "+s)}else e[s]=a}};c(a);const l=()=>(c(e),t=new n(s(g(e),h)),e);c(l);const u=e=>{if(!t)throw new o("isPseudoNative can only be called after finalIntrinsics");return d(t,e)};c(u);const P={addIntrinsics:r,completePrototypes:a,finalIntrinsics:l,isPseudoNative:u};return c(P),r(E),r(v(m,w)),P};r.makeIntrinsicsCollector(k),r.getGlobalIntrinsics((e=>{const{addIntrinsics:t,finalIntrinsics:r}=k();return t(v(e,P)),r()}))},({imports:e,liveVar:t,onceVar:r})=>{e([]),r.minEnablements({"%ObjectPrototype%":{toString:!0},"%FunctionPrototype%":{toString:!0},"%ErrorPrototype%":{name:!0}});const o={"%ObjectPrototype%":{toString:!0,valueOf:!0},"%ArrayPrototype%":{toString:!0,push:!0},"%FunctionPrototype%":{constructor:!0,bind:!0,toString:!0},"%ErrorPrototype%":{constructor:!0,message:!0,name:!0,toString:!0},"%TypeErrorPrototype%":{constructor:!0,message:!0,name:!0},"%SyntaxErrorPrototype%":{message:!0,name:!0},"%RangeErrorPrototype%":{message:!0,name:!0},"%URIErrorPrototype%":{message:!0,name:!0},"%EvalErrorPrototype%":{message:!0,name:!0},"%ReferenceErrorPrototype%":{message:!0,name:!0},"%PromisePrototype%":{constructor:!0},"%TypedArrayPrototype%":"*","%Generator%":{constructor:!0,name:!0,toString:!0},"%IteratorPrototype%":{toString:!0}};r.moderateEnablements(o);const n={...o,"%ObjectPrototype%":"*","%TypedArrayPrototype%":"*"};r.severeEnablements(n)},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d,E;e([["./commons.js",[["Set",[e=>o=e]],["String",[e=>n=e]],["TypeError",[e=>s=e]],["arrayForEach",[e=>a=e]],["defineProperty",[e=>i=e]],["getOwnPropertyDescriptor",[e=>c=e]],["getOwnPropertyDescriptors",[e=>l=e]],["getOwnPropertyNames",[e=>p=e]],["isObject",[e=>m=e]],["objectHasOwnProperty",[e=>u=e]],["ownKeys",[e=>y=e]],["setHas",[e=>f=e]]]],["./enablements.js",[["minEnablements",[e=>g=e]],["moderateEnablements",[e=>d=e]],["severeEnablements",[e=>E=e]]]]]),r.default((function(e,t,r=[]){const P=new o(r);function w(e,t,r,o){if("value"in o&&o.configurable){const{value:a}=o;function c(){return a}i(c,"originalValue",{value:a,writable:!1,enumerable:!1,configurable:!1});const l=f(P,r);i(t,r,{get:c,set:function(o){if(t===this)throw new s(`Cannot assign to read only property '${n(r)}' of '${e}'`);u(this,r)?this[r]=o:(l&&console.error(new s("Override property "+r)),i(this,r,{value:o,writable:!0,enumerable:!0,configurable:!0}))},enumerable:o.enumerable,configurable:o.configurable})}}function b(e,t,r){const o=c(t,r);o&&w(e,t,r,o)}function h(e,t){const r=l(t);r&&a(y(r),(o=>w(e,t,o,r[o])))}let S;switch(t){case"min":S=g;break;case"moderate":S=d;break;case"severe":S=E;break;default:throw new s("unrecognized overrideTaming "+t)}!function e(t,r,o){for(const a of p(o)){const i=c(r,a);if(!i||i.get||i.set)continue;const l=`${t}.${n(a)}`,p=o[a];if(!0===p)b(l,r,a);else if("*"===p)h(l,i.value);else{if(!m(p))throw new s("Unexpected override enablement plan "+l);e(l,i.value,p)}}}("root",e,S)}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a;e([["./commons.js",[["arrayPush",[e=>o=e]],["arraySlice",[e=>n=e]],["freeze",[e=>s=e]]]],["./error/assert.js",[["assert",[e=>a=e]]]]]);const{details:i,quote:c}=a,l=e=>{const t=[],r=(r,n)=>{a.typeof(r,"string",i`Environment option name ${c(r)} must be a string.`),a.typeof(n,"string",i`Environment option default setting ${c(n)} must be a string.`);let s=n;const l=e.process;if(l&&"object"==typeof l){const e=l.env;if(e&&"object"==typeof e&&r in e){o(t,r);const n=e[r];a.typeof(n,"string",i`Environment option named ${c(r)}, if present, must have a corresponding string value, got ${c(n)}`),s=n}}return a(void 0===s||"string"==typeof s,i`Environment option value ${c(s)}, if present, must be a string.`),s};s(r);const l=()=>s(n(t));return s(l),{getEnvironmentOption:r,getCapturedEnvironmentOptionNames:l}};r.makeEnvironmentCaptor(l),s(l)},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y;e([["../commons.js",[["WeakSet",[e=>o=e]],["arrayFilter",[e=>n=e]],["arrayMap",[e=>s=e]],["arrayPush",[e=>a=e]],["defineProperty",[e=>i=e]],["freeze",[e=>c=e]],["fromEntries",[e=>l=e]],["isError",[e=>p=e]],["stringEndsWith",[e=>m=e]],["weaksetAdd",[e=>u=e]],["weaksetHas",[e=>y=e]]]],["./types.js",[]],["./internal-types.js",[]]]);const f=c([["debug","debug"],["log","log"],["info","info"],["warn","warn"],["error","error"],["trace","log"],["dirxml","log"],["group","log"],["groupCollapsed","log"]]),g=c([["assert","error"],["timeLog","log"],["clear",void 0],["count","info"],["countReset",void 0],["dir","log"],["groupEnd","log"],["table","log"],["time","info"],["timeEnd","info"],["profile",void 0],["profileEnd",void 0],["timeStamp",void 0]]),d=c([...f,...g]);r.consoleWhitelist(d);const E=(e,{shouldResetForDebugging:t=!1}={})=>{t&&e.resetErrorTagNum();let r=[];const o=l(s(d,(([e,t])=>{const o=(...t)=>{a(r,[e,...t])};return i(o,"name",{value:e}),[e,c(o)]})));c(o);const n=()=>{const e=c(r);return r=[],e};return c(n),c({loggingConsole:o,takeLog:n})};r.makeLoggingConsoleKit(E),c(E);const P={NOTE:"ERROR_NOTE:",MESSAGE:"ERROR_MESSAGE:"};c(P),r.BASE_CONSOLE_LEVEL("debug");const w=(e,t)=>{const{getStackString:r,tagError:d,takeMessageLogArgs:E,takeNoteLogArgsArray:w}=t,b=(e,t)=>s(e,(e=>p(e)?(a(t,e),`(${d(e)})`):e)),h=(t,r,o,n)=>{const s=d(t),a=r===P.MESSAGE?s+":":`${s} ${r}`,i=b(o,n);e.debug(a,...i)},S=(t,r)=>{if(0===t.length)return;if(1===t.length&&void 0===r)return void j(t[0]);let o;o=1===t.length?"Nested error":`Nested ${t.length} errors`,void 0!==r&&(o=`${o} under ${r}`),e.group(o);try{for(const e of t)j(e)}finally{e.groupEnd()}},v=new o,k=(e,t)=>{const r=[];h(e,P.NOTE,t,r),S(r,d(e))},j=t=>{if(y(v,t))return;const o=d(t);u(v,t);const n=[],s=E(t),a=w(t,k);void 0===s?e.debug(o+":",t.message):h(t,P.MESSAGE,s,n);let i=r(t);"string"==typeof i&&i.length>=1&&!m(i,"\n")&&(i+="\n"),e.debug(i);for(const e of a)h(t,P.NOTE,e,n);S(n,o)},A=s(f,(([t,r])=>{const o=(...r)=>{const o=[],n=b(r,o);e[t](...n),S(o)};return i(o,"name",{value:t}),[t,c(o)]})),T=n(g,(([t,r])=>t in e)),x=s(T,(([t,r])=>{const o=(...r)=>{e[t](...r)};return i(o,"name",{value:t}),[t,c(o)]})),I=l([...A,...x]);return c(I)};r.makeCausalConsole(w),c(w);const b=(e,t,r)=>{const o=n(d,(([t,r])=>t in e)),a=s(o,(([r,o])=>[r,c(((...n)=>{(void 0===o||t.canLog(o))&&e[r](...n)}))])),i=l(a);return c(i)};r.filterConsole(b),c(b)},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a;e([["../commons.js",[["TypeError",[e=>o=e]],["globalThis",[e=>n=e]]]],["./assert.js",[["loggedErrorHandler",[e=>s=e]]]],["./console.js",[["makeCausalConsole",[e=>a=e]]]],["./types.js",[]],["./internal-types.js",[]]]);const i=console;r.tameConsole(((e="safe",t="platform",r)=>{if("safe"!==e&&"unsafe"!==e)throw new o("unrecognized consoleTaming "+e);if("unsafe"===e)return{console:i};let c;c=void 0===r?s:{...s,getStackString:r};const l=a(i,c);return"none"!==t&&void 0!==n.process&&n.process.on("uncaughtException",(e=>{l.error(e),"platform"===t||"exit"===t?n.process.exit(n.process.exitCode||-1):"abort"===t&&n.process.abort()})),"none"!==t&&void 0!==n.window&&void 0!==n.window.addEventListener&&n.window.addEventListener("error",(e=>{e.preventDefault(),l.error(e.error),"exit"!==t&&"abort"!==t||(n.window.location.href="about:blank")})),{console:l}}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d,E,P,w,b;e([["../commons.js",[["WeakMap",[e=>o=e]],["WeakSet",[e=>n=e]],["apply",[e=>s=e]],["arrayFilter",[e=>a=e]],["arrayJoin",[e=>i=e]],["arrayMap",[e=>c=e]],["arraySlice",[e=>l=e]],["create",[e=>p=e]],["defineProperties",[e=>m=e]],["fromEntries",[e=>u=e]],["reflectSet",[e=>y=e]],["regexpExec",[e=>f=e]],["regexpTest",[e=>g=e]],["weakmapGet",[e=>d=e]],["weakmapHas",[e=>E=e]],["weakmapSet",[e=>P=e]],["weaksetAdd",[e=>w=e]],["weaksetHas",[e=>b=e]]]]]);const h=["getTypeName","getFunctionName","getMethodName","getFileName","getLineNumber","getColumnNumber","getEvalOrigin","isToplevel","isEval","isNative","isConstructor","isAsync","getPosition","getScriptNameOrSourceURL","toString"],S=e=>{const t=u(c(h,(t=>{const r=e[t];return[t,()=>s(r,e,[])]})));return p(t,{})},v=[/\/node_modules\//,/^(?:node:)?internal\//,/\/packages\/ses\/src\/error\/assert.js$/,/\/packages\/eventual-send\/src\//],k=e=>{if(!e)return!0;for(const t of v)if(g(t,e))return!1;return!0};r.filterFileName(k);const j=[/^((?:.*[( ])?)[:/\w_-]*\/\.\.\.\/(.+)$/,/^((?:.*[( ])?)[:/\w_-]*\/(packages\/.+)$/],A=e=>{for(const t of j){const r=f(t,e);if(r)return i(l(r,1),"")}return e};r.shortenCallSiteString(A),r.tameV8ErrorConstructor(((e,t,r,l)=>{const p=e.captureStackTrace,u=e=>"verbose"===l||k(e.getFileName()),f=e=>{let t=""+e;return"concise"===l&&(t=A(t)),"\n  at "+t},g=(e,t)=>i(c(a(t,u),f),""),h=new o,v={captureStackTrace(t,r=v.captureStackTrace){"function"!=typeof p?y(t,"stack",""):s(p,e,[t,r])},getStackString(e){E(h,e)||e.stack;const t=d(h,e);return t?g(0,t):""},prepareStackTrace:(e,t)=>(P(h,e,t),"unsafe"===r?`${e}${g(0,t)}`:"")},j=v.prepareStackTrace;e.prepareStackTrace=j;const T=new n([j]);return m(t,{captureStackTrace:{value:v.captureStackTrace,writable:!0,enumerable:!1,configurable:!0},prepareStackTrace:{get:()=>e.prepareStackTrace,set(t){if("function"==typeof t){const r=(e=>{if(b(T,e))return e;const t={prepareStackTrace:(t,r)=>(P(h,t,r),e(t,(e=>c(e,S))(r)))};return w(T,t.prepareStackTrace),t.prepareStackTrace})(t);e.prepareStackTrace=r}else e.prepareStackTrace=j},enumerable:!1,configurable:!0}}),v.getStackString}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m;e([["../commons.js",[["FERAL_ERROR",[e=>o=e]],["TypeError",[e=>n=e]],["apply",[e=>s=e]],["construct",[e=>a=e]],["defineProperties",[e=>i=e]],["setPrototypeOf",[e=>c=e]],["getOwnPropertyDescriptor",[e=>l=e]]]],["../whitelist.js",[["NativeErrors",[e=>p=e]]]],["./tame-v8-error-constructor.js",[["tameV8ErrorConstructor",[e=>m=e]]]]]);const u=l(o.prototype,"stack"),y=u&&u.get,f=e=>"function"==typeof y?s(y,e,[]):"stack"in e?""+e.stack:"";r.default((function(e="safe",t="concise"){if("safe"!==e&&"unsafe"!==e)throw new n("unrecognized errorTaming "+e);if("concise"!==t&&"verbose"!==t)throw new n("unrecognized stackFiltering "+t);const r=o.prototype,l="function"==typeof o.captureStackTrace?"v8":"unknown",{captureStackTrace:u}=o,y=(e={})=>{const t=function(...e){let r;return r=void 0===new.target?s(o,this,e):a(o,e,new.target),"v8"===l&&s(u,o,[r,t]),r};return i(t,{length:{value:1},prototype:{value:r,writable:!1,enumerable:!1,configurable:!1}}),t},g=y({powers:"original"}),d=y({powers:"none"});i(r,{constructor:{value:d}});for(const e of p)c(e,d);i(g,{stackTraceLimit:{get(){if("number"==typeof o.stackTraceLimit)return o.stackTraceLimit},set(e){"number"==typeof e&&("number"!=typeof o.stackTraceLimit||(o.stackTraceLimit=e))},enumerable:!1,configurable:!0}}),i(d,{stackTraceLimit:{get(){},set(e){},enumerable:!1,configurable:!0}});let E=f;return"v8"===l&&(E=m(o,g,e,t)),{"%InitialGetStackString%":E,"%InitialError%":g,"%SharedError%":d}}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d,E;function P(e){return l(e).constructor}e([["./commons.js",[["FERAL_FUNCTION",[e=>o=e]],["Float32Array",[e=>n=e]],["Map",[e=>s=e]],["Set",[e=>a=e]],["String",[e=>i=e]],["getOwnPropertyDescriptor",[e=>c=e]],["getPrototypeOf",[e=>l=e]],["iterateArray",[e=>p=e]],["iterateMap",[e=>m=e]],["iterateSet",[e=>u=e]],["iterateString",[e=>y=e]],["matchAllRegExp",[e=>f=e]],["matchAllSymbol",[e=>g=e]],["regexpPrototype",[e=>d=e]]]],["./compartment-shim.js",[["InertCompartment",[e=>E=e]]]]]),r.getAnonymousIntrinsics((()=>{const e=o.prototype.constructor,t=c(function(){return arguments}(),"callee").get,r=y(new i),w=l(r),b=d[g]&&f(/./),h=b&&l(b),S=p([]),v=l(S),k=l(n),j=m(new s),A=l(j),T=u(new a),x=l(T),I=l(v),O=P((function*(){})),_=O.prototype,C=P((async function*(){})),F=C.prototype,V=F.prototype,N=l(V);return{"%InertFunction%":e,"%ArrayIteratorPrototype%":v,"%InertAsyncFunction%":P((async function(){})),"%AsyncGenerator%":F,"%InertAsyncGeneratorFunction%":C,"%AsyncGeneratorPrototype%":V,"%AsyncIteratorPrototype%":N,"%Generator%":_,"%InertGeneratorFunction%":O,"%IteratorPrototype%":I,"%MapIteratorPrototype%":A,"%RegExpStringIteratorPrototype%":h,"%SetIteratorPrototype%":x,"%StringIteratorPrototype%":w,"%ThrowTypeError%":t,"%TypedArray%":k,"%InertCompartment%":E}}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d,E,P,w,b,h;e([["./commons.js",[["Set",[e=>o=e]],["String",[e=>n=e]],["TypeError",[e=>s=e]],["WeakMap",[e=>a=e]],["WeakSet",[e=>i=e]],["arrayForEach",[e=>c=e]],["freeze",[e=>l=e]],["getOwnPropertyDescriptors",[e=>p=e]],["getPrototypeOf",[e=>m=e]],["isObject",[e=>u=e]],["objectHasOwnProperty",[e=>y=e]],["ownKeys",[e=>f=e]],["setAdd",[e=>g=e]],["setForEach",[e=>d=e]],["setHas",[e=>E=e]],["weakmapGet",[e=>P=e]],["weakmapSet",[e=>w=e]],["weaksetAdd",[e=>b=e]],["weaksetHas",[e=>h=e]]]]]),r.makeHardener((()=>{const e=new i,{harden:t}={harden(t){const r=new o,i=new a;function S(t,o){if(!u(t))return;const n=typeof t;if("object"!==n&&"function"!==n)throw new s("Unexpected typeof: "+n);h(e,t)||E(r,t)||(g(r,t),w(i,t,o))}return S(t),d(r,(function(e){l(e);const t=P(i,e)||"unknown",r=p(e);S(m(e),t+".__proto__"),c(f(r),(e=>{const o=`${t}.${n(e)}`,s=r[e];y(s,"value")?S(s.value,""+o):(S(s.get,o+"(get)"),S(s.set,o+"(set)"))}))})),d(r,(function(t){b(e,t)})),t}};return t}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i;e([["./commons.js",[["Date",[e=>o=e]],["TypeError",[e=>n=e]],["apply",[e=>s=e]],["construct",[e=>a=e]],["defineProperties",[e=>i=e]]]]]),r.default((function(e="safe"){if("safe"!==e&&"unsafe"!==e)throw new n("unrecognized dateTaming "+e);const t=o,r=t.prototype,c=({powers:e="none"}={})=>{let n;return n="original"===e?function(...e){return void 0===new.target?s(t,void 0,e):a(t,e,new.target)}:function(...e){return void 0===new.target?"Invalid Date":(0===e.length&&(e=[NaN]),a(t,e,new.target))},i(n,{length:{value:7},prototype:{value:r,writable:!1,enumerable:!1,configurable:!1},parse:{value:o.parse,writable:!0,enumerable:!1,configurable:!0},UTC:{value:o.UTC,writable:!0,enumerable:!1,configurable:!0}}),n},l=c({powers:"original"}),p=c({powers:"none"});return i(l,{now:{value:o.now,writable:!0,enumerable:!1,configurable:!0}}),i(p,{now:{value:()=>NaN,writable:!0,enumerable:!1,configurable:!0}}),i(r,{constructor:{value:p}}),{"%InitialDate%":l,"%SharedDate%":p}}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a;function i(e="safe"){if("safe"!==e&&"unsafe"!==e)throw new o("unrecognized domainTaming "+e);if("unsafe"!==e&&"object"==typeof n.process&&null!==n.process){const e=s(n.process,"domain");if(void 0!==e&&void 0!==e.get)throw new o("SES failed to lockdown, Node.js domains have been initialized (SES_NO_DOMAINS)");a(n.process,"domain",{value:null,configurable:!1,writable:!1,enumerable:!1})}}e([["./commons.js",[["TypeError",[e=>o=e]],["globalThis",[e=>n=e]],["getOwnPropertyDescriptor",[e=>s=e]],["defineProperty",[e=>a=e]]]]]),Object.defineProperty(i,"name",{value:"tameDomains"}),r.tameDomains(i)},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c;e([["./commons.js",[["FERAL_FUNCTION",[e=>o=e]],["SyntaxError",[e=>n=e]],["TypeError",[e=>s=e]],["defineProperties",[e=>a=e]],["getPrototypeOf",[e=>i=e]],["setPrototypeOf",[e=>c=e]]]]]),r.default((function(){try{o.prototype.constructor("return 1")}catch(e){return{}}const e={};function t(t,r,l){let p;try{p=(0,eval)(l)}catch(e){if(e instanceof n)return;throw e}const m=i(p),u=function(){throw new s("Function.prototype.constructor is not a valid constructor.")};a(u,{prototype:{value:m},name:{value:t,writable:!1,enumerable:!1,configurable:!0}}),a(m,{constructor:{value:u}}),u!==o.prototype.constructor&&c(u,o.prototype.constructor),e[r]=u}return t("Function","%InertFunction%","(function(){})"),t("GeneratorFunction","%InertGeneratorFunction%","(function*(){})"),t("AsyncFunction","%InertAsyncFunction%","(async function(){})"),t("AsyncGeneratorFunction","%InertAsyncGeneratorFunction%","(async function*(){})"),e}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m;e([["./commons.js",[["WeakSet",[e=>o=e]],["defineProperty",[e=>n=e]],["freeze",[e=>s=e]],["functionPrototype",[e=>a=e]],["functionToString",[e=>i=e]],["stringEndsWith",[e=>c=e]],["weaksetAdd",[e=>l=e]],["weaksetHas",[e=>p=e]]]]]),r.tameFunctionToString((()=>{if(void 0===m){const e=new o;n(a,"toString",{value:{toString(){const t=i(this,[]);return c(t,") { [native code] }")||!p(e,this)?t:`function ${this.name}() { [native code] }`}}.toString}),m=s((t=>l(e,t)))}return m}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p;e([["./commons.js",[["Number",[e=>o=e]],["String",[e=>n=e]],["TypeError",[e=>s=e]],["defineProperty",[e=>a=e]],["getOwnPropertyNames",[e=>i=e]],["isObject",[e=>c=e]],["regexpExec",[e=>l=e]]]],["./error/assert.js",[["assert",[e=>p=e]]]]]);const{details:m,quote:u}=p,y=/^(\w*[a-z])Locale([A-Z]\w*)$/,f={localeCompare(e){if(null==this)throw new s('Cannot localeCompare with null or undefined "this" value');const t=""+this;return t<(e=""+e)?-1:t>e?1:(p(t===e,m`expected ${u(t)} and ${u(e)} to compare`),0)},toString(){return""+this}},g=f.localeCompare,d=f.toString;r.default((function(e,t="safe"){if("safe"!==t&&"unsafe"!==t)throw new s("unrecognized localeTaming "+t);if("unsafe"!==t){a(n.prototype,"localeCompare",{value:g});for(const t of i(e)){const r=e[t];if(c(r))for(const e of i(r)){const t=l(y,e);if(t){p("function"==typeof r[e],m`expected ${u(e)} to be a function`);const o=`${t[1]}${t[2]}`,n=r[o];p("function"==typeof n,m`function ${u(o)} not found`),a(r,e,{value:n})}}}a(o.prototype,"toLocaleString",{value:d})}}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i;e([["./commons.js",[["Math",[e=>o=e]],["TypeError",[e=>n=e]],["create",[e=>s=e]],["getOwnPropertyDescriptors",[e=>a=e]],["objectPrototype",[e=>i=e]]]]]),r.default((function(e="safe"){if("safe"!==e&&"unsafe"!==e)throw new n("unrecognized mathTaming "+e);const t=o,r=t,{random:c,...l}=a(t);return{"%InitialMath%":r,"%SharedMath%":s(i,l)}}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c;e([["./commons.js",[["FERAL_REG_EXP",[e=>o=e]],["TypeError",[e=>n=e]],["construct",[e=>s=e]],["defineProperties",[e=>a=e]],["getOwnPropertyDescriptor",[e=>i=e]],["speciesSymbol",[e=>c=e]]]]]),r.default((function(e="safe"){if("safe"!==e&&"unsafe"!==e)throw new n("unrecognized regExpTaming "+e);const t=o.prototype,r=(e={})=>{const r=function(...e){return void 0===new.target?o(...e):s(o,e,new.target)};return a(r,{length:{value:2},prototype:{value:t,writable:!1,enumerable:!1,configurable:!1},[c]:i(o,c)}),r},l=r(),p=r();return"unsafe"!==e&&delete t.compile,a(t,{constructor:{value:p}}),{"%InitialRegExp%":l,"%SharedRegExp%":p}}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f;function g(e,t){if("string"==typeof t)return t;if("symbol"==typeof t)return"@@"+f(a(t),14,-1);throw new i(`Unexpected property name type ${e} ${t}`)}e([["./whitelist.js",[["whitelist",[e=>o=e]],["FunctionInstance",[e=>n=e]],["isAccessorPermit",[e=>s=e]]]],["./commons.js",[["String",[e=>a=e]],["TypeError",[e=>i=e]],["arrayIncludes",[e=>c=e]],["getOwnPropertyDescriptor",[e=>l=e]],["getPrototypeOf",[e=>p=e]],["isObject",[e=>m=e]],["objectHasOwnProperty",[e=>u=e]],["ownKeys",[e=>y=e]],["stringSlice",[e=>f=e]]]]]),r.default((function(e,t){const r=["undefined","boolean","number","string","symbol"];function a(t,o,n,s){if("object"==typeof s)return E(t,o,s),!0;if(!1===s)return!1;if("string"==typeof s)if("prototype"===n||"constructor"===n){if(u(e,s)){if(o!==e[s])throw new i("Does not match whitelist "+t);return!0}}else if(c(r,s)){if(typeof o!==s)throw new i(`At ${t} expected ${s} not ${typeof o}`);return!0}throw new i(`Unexpected whitelist permit ${s} at ${t}`)}function f(e,t,r,o){const n=l(t,r);if(u(n,"value")){if(s(o))throw new i("Accessor expected at "+e);return a(e,n.value,r,o)}if(!s(o))throw new i("Accessor not expected at "+e);return a(e+"<get>",n.get,r,o.get)&&a(e+"<set>",n.set,r,o.set)}function d(e,r,o){const s="__proto__"===o?"--proto--":o;return u(r,s)?r[s]:"function"==typeof e&&(t(e),u(n,s))?n[s]:void 0}function E(t,r,o){if(void 0!==r){!function(t,r,o){if(!m(r))throw new i(`Object expected: ${t}, ${r}, ${o}`);const n=p(r);if(null!==n||null!==o){if(void 0!==o&&"string"!=typeof o)throw new i(`Malformed whitelist permit ${t}.__proto__`);if(n!==e[o||"%ObjectPrototype%"])throw new i(`Unexpected intrinsic ${t}.__proto__ at ${o}`)}}(t,r,o["[[Proto]]"]);for(const e of y(r)){const n=g(t,e),s=`${t}.${n}`,a=d(r,o,n);if(!a||!f(s,r,e,a)){!1!==a&&console.warn("Removing "+s);try{delete r[e]}catch(t){throw e in r?console.error("failed to delete "+s,t):console.error(`deleting ${s} threw`,t),t}}}}}E("intrinsics",e,o)}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d,E,P,w,b,h,S,v,k,j,A,T,x,I,O,_,C,F,V;e([["./commons.js",[["FERAL_FUNCTION",[e=>o=e]],["FERAL_EVAL",[e=>n=e]],["TypeError",[e=>s=e]],["arrayFilter",[e=>a=e]],["arrayMap",[e=>i=e]],["globalThis",[e=>c=e]],["is",[e=>l=e]],["ownKeys",[e=>p=e]],["stringSplit",[e=>m=e]]]],["./error/stringify-utils.js",[["enJoin",[e=>u=e]]]],["./make-hardener.js",[["makeHardener",[e=>y=e]]]],["./intrinsics.js",[["makeIntrinsicsCollector",[e=>f=e]]]],["./whitelist-intrinsics.js",[["default",[e=>g=e]]]],["./tame-function-constructors.js",[["default",[e=>d=e]]]],["./tame-date-constructor.js",[["default",[e=>E=e]]]],["./tame-math-object.js",[["default",[e=>P=e]]]],["./tame-regexp-constructor.js",[["default",[e=>w=e]]]],["./enable-property-overrides.js",[["default",[e=>b=e]]]],["./tame-locale-methods.js",[["default",[e=>h=e]]]],["./global-object.js",[["setGlobalObjectConstantProperties",[e=>S=e]],["setGlobalObjectMutableProperties",[e=>v=e]]]],["./make-safe-evaluator.js",[["makeSafeEvaluator",[e=>k=e]]]],["./whitelist.js",[["initialGlobalPropertyNames",[e=>j=e]]]],["./tame-function-tostring.js",[["tameFunctionToString",[e=>A=e]]]],["./tame-domains.js",[["tameDomains",[e=>T=e]]]],["./error/tame-console.js",[["tameConsole",[e=>x=e]]]],["./error/tame-error-constructor.js",[["default",[e=>I=e]]]],["./error/assert.js",[["assert",[e=>O=e]],["makeAssert",[e=>_=e]]]],["./environment-options.js",[["makeEnvironmentCaptor",[e=>C=e]]]],["./get-anonymous-intrinsics.js",[["getAnonymousIntrinsics",[e=>F=e]]]],["./compartment-shim.js",[["makeCompartmentConstructor",[e=>V=e]]]]]);const{details:N,quote:R}=O;let M;const $=y(),L=(e={})=>{const{getEnvironmentOption:t,getCapturedEnvironmentOptionNames:r}=C(c),{errorTaming:y=t("LOCKDOWN_ERROR_TAMING","safe"),errorTrapping:L=t("LOCKDOWN_ERROR_TRAPPING","platform"),regExpTaming:G=t("LOCKDOWN_REGEXP_TAMING","safe"),localeTaming:D=t("LOCKDOWN_LOCALE_TAMING","safe"),consoleTaming:U=t("LOCKDOWN_CONSOLE_TAMING","safe"),overrideTaming:H=t("LOCKDOWN_OVERRIDE_TAMING","moderate"),stackFiltering:W=t("LOCKDOWN_STACK_FILTERING","concise"),domainTaming:z=t("LOCKDOWN_DOMAIN_TAMING","safe"),overrideDebug:B=a(m(t("LOCKDOWN_OVERRIDE_DEBUG",""),","),(e=>""!==e)),__allowUnsafeMonkeyPatching__:J=t("__LOCKDOWN_ALLOW_UNSAFE_MONKEY_PATCHING__","safe"),dateTaming:K="safe",mathTaming:q="safe",...Y}=e,X=r();X.length>0&&console.warn("SES Lockdown using options from environment variables "+u(i(X,R),"and"));const Z=p(Y);if(O(0===Z.length,N`lockdown(): non supported option ${R(Z)}`),O(void 0===M,`Already locked down at ${M} (SES_ALREADY_LOCKED_DOWN)`,s),M=new s("Prior lockdown (SES_ALREADY_LOCKED_DOWN)"),M.stack,(()=>{let e=!1;try{e=o("eval","SES_changed",'        eval("SES_changed = true");\n        return SES_changed;\n      ')(n,!1),e||delete c.SES_changed}catch(t){e=!0}if(!e)throw new s("SES cannot initialize unless 'eval' is the original intrinsic 'eval', suitable for direct-eval (dynamically scoped eval) (SES_DIRECT_EVAL)")})(),c.Function.prototype.constructor!==c.Function&&"function"==typeof c.harden&&"function"==typeof c.lockdown&&c.Date.prototype.constructor!==c.Date&&"function"==typeof c.Date.now&&l(c.Date.prototype.constructor.now(),NaN))throw new s("Already locked down but not by this SES instance (SES_MULTIPLE_INSTANCES)");T(z);const{addIntrinsics:Q,completePrototypes:ee,finalIntrinsics:te}=f();Q({harden:$}),Q(d()),Q(E(K)),Q(I(y,W)),Q(P(q)),Q(w(G)),Q(F()),ee();const re=te();let oe;"unsafe"!==y&&(oe=re["%InitialGetStackString%"]);const ne=x(U,L,oe);c.console=ne.console,"unsafe"===y&&c.assert===O&&(c.assert=_(void 0,!0)),h(re,D);const se=A();g(re,se),S(c);const{safeEvaluate:ae}=k({globalObject:c});return v(c,{intrinsics:re,newGlobalPropertyNames:j,makeCompartmentConstructor:V,safeEvaluate:ae,markVirtualizedNativeFunction:se}),function(){return b(re,H,B),"unsafe"!==J&&$(re),c.harden=$,!0}};r.repairIntrinsics(L),r.lockdown(((e={})=>{L(e)()}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p;if(e([["./src/commons.js",[["globalThis",[e=>o=e]],["TypeError",[e=>n=e]],["assign",[e=>s=e]]]],["./src/tame-function-tostring.js",[["tameFunctionToString",[e=>a=e]]]],["./src/intrinsics.js",[["getGlobalIntrinsics",[e=>i=e]]]],["./src/lockdown-shim.js",[["lockdown",[e=>c=e]]]],["./src/compartment-shim.js",[["makeCompartmentConstructor",[e=>l=e]]]],["./src/error/assert.js",[["assert",[e=>p=e]]]]]),function(){return this}())throw new n("SES failed to initialize, sloppy mode (SES_NO_SLOPPY)");const m=a(),u=l(l,i(o),m);s(o,{lockdown:c,Compartment:u,assert:p})}];function t(e,t){const r=[];return{get:function(){return t},set:function(e){t=e;for(const e of r)e(t)},observe:function(e){r.push(e),e(t)},enumerable:!0}}const r=[{globalThis:t(),Array:t(),Date:t(),Float32Array:t(),JSON:t(),Map:t(),Math:t(),Number:t(),Object:t(),Promise:t(),Proxy:t(),Reflect:t(),FERAL_REG_EXP:t(),Set:t(),String:t(),WeakMap:t(),WeakSet:t(),FERAL_ERROR:t(),RangeError:t(),ReferenceError:t(),SyntaxError:t(),TypeError:t(),assign:t(),create:t(),defineProperties:t(),entries:t(),freeze:t(),getOwnPropertyDescriptor:t(),getOwnPropertyDescriptors:t(),getOwnPropertyNames:t(),getPrototypeOf:t(),is:t(),isExtensible:t(),keys:t(),objectPrototype:t(),seal:t(),setPrototypeOf:t(),values:t(),speciesSymbol:t(),toStringTagSymbol:t(),iteratorSymbol:t(),matchAllSymbol:t(),stringifyJson:t(),fromEntries:t(),defineProperty:t(),apply:t(),construct:t(),reflectGet:t(),reflectGetOwnPropertyDescriptor:t(),reflectHas:t(),reflectIsExtensible:t(),ownKeys:t(),reflectPreventExtensions:t(),reflectSet:t(),isArray:t(),arrayPrototype:t(),mapPrototype:t(),proxyRevocable:t(),regexpPrototype:t(),setPrototype:t(),stringPrototype:t(),weakmapPrototype:t(),weaksetPrototype:t(),functionPrototype:t(),promisePrototype:t(),uncurryThis:t(),objectHasOwnProperty:t(),arrayFilter:t(),arrayForEach:t(),arrayIncludes:t(),arrayJoin:t(),arrayMap:t(),arrayPop:t(),arrayPush:t(),arraySlice:t(),arraySome:t(),arraySort:t(),iterateArray:t(),mapSet:t(),mapGet:t(),mapHas:t(),iterateMap:t(),setAdd:t(),setForEach:t(),setHas:t(),iterateSet:t(),regexpTest:t(),regexpExec:t(),matchAllRegExp:t(),stringEndsWith:t(),stringIncludes:t(),stringIndexOf:t(),stringMatch:t(),stringReplace:t(),stringSearch:t(),stringSlice:t(),stringSplit:t(),stringStartsWith:t(),iterateString:t(),weakmapDelete:t(),weakmapGet:t(),weakmapHas:t(),weakmapSet:t(),weaksetAdd:t(),weaksetGet:t(),weaksetHas:t(),functionToString:t(),promiseAll:t(),promiseCatch:t(),promiseThen:t(),getConstructorOf:t(),immutableObject:t(),isObject:t(),isError:t(),FERAL_EVAL:t(),FERAL_FUNCTION:t()},{},{an:t(),bestEffortStringify:t(),enJoin:t()},{},{unredactedDetails:t(),loggedErrorHandler:t(),makeAssert:t(),assert:t()},{makeEvaluateFactory:t()},{isValidIdentifierName:t(),getScopeConstants:t()},{createScopeHandler:t()},{getSourceURL:t()},{rejectHtmlComments:t(),evadeHtmlCommentTest:t(),rejectImportExpressions:t(),evadeImportExpressionTest:t(),rejectSomeDirectEvalExpressions:t(),mandatoryTransforms:t(),applyTransforms:t()},{makeSafeEvaluator:t()},{provideCompartmentEvaluator:t(),compartmentEvaluate:t()},{makeEvalFunction:t()},{makeFunctionConstructor:t()},{constantProperties:t(),universalPropertyNames:t(),initialGlobalPropertyNames:t(),sharedGlobalPropertyNames:t(),uniqueGlobalPropertyNames:t(),NativeErrors:t(),FunctionInstance:t(),isAccessorPermit:t(),whitelist:t()},{setGlobalObjectConstantProperties:t(),setGlobalObjectMutableProperties:t()},{makeAlias:t(),load:t()},{deferExports:t(),getDeferredExports:t()},{makeThirdPartyModuleInstance:t(),makeModuleInstance:t()},{link:t(),instantiate:t()},{InertCompartment:t(),CompartmentPrototype:t(),makeCompartmentConstructor:t()},{makeIntrinsicsCollector:t(),getGlobalIntrinsics:t()},{minEnablements:t(),moderateEnablements:t(),severeEnablements:t()},{default:t()},{makeEnvironmentCaptor:t()},{makeLoggingConsoleKit:t(),makeCausalConsole:t(),filterConsole:t(),consoleWhitelist:t(),BASE_CONSOLE_LEVEL:t()},{tameConsole:t()},{filterFileName:t(),shortenCallSiteString:t(),tameV8ErrorConstructor:t()},{default:t()},{getAnonymousIntrinsics:t()},{makeHardener:t()},{default:t()},{tameDomains:t()},{default:t()},{tameFunctionToString:t()},{default:t()},{default:t()},{default:t()},{default:t()},{repairIntrinsics:t(),lockdown:t()},{}],o=r.map((e=>Object.create(null,e)));for(let e=0;e<o.length;e+=1)r[e]["*"]=t(0,o[e]);function n(e,t,o){for(const[n,s]of e.get(t)){const e=r[o][n];if(void 0===e)throw new ReferenceError("Cannot import name "+n);for(const t of s)e.observe(t)}}e[0]({imports(e){new Map(e)},liveVar:{},onceVar:{universalThis:r[0].globalThis.set,Array:r[0].Array.set,Date:r[0].Date.set,Float32Array:r[0].Float32Array.set,JSON:r[0].JSON.set,Map:r[0].Map.set,Math:r[0].Math.set,Number:r[0].Number.set,Object:r[0].Object.set,Promise:r[0].Promise.set,Proxy:r[0].Proxy.set,Reflect:r[0].Reflect.set,FERAL_REG_EXP:r[0].FERAL_REG_EXP.set,Set:r[0].Set.set,String:r[0].String.set,WeakMap:r[0].WeakMap.set,WeakSet:r[0].WeakSet.set,FERAL_ERROR:r[0].FERAL_ERROR.set,RangeError:r[0].RangeError.set,ReferenceError:r[0].ReferenceError.set,SyntaxError:r[0].SyntaxError.set,TypeError:r[0].TypeError.set,assign:r[0].assign.set,create:r[0].create.set,defineProperties:r[0].defineProperties.set,entries:r[0].entries.set,freeze:r[0].freeze.set,getOwnPropertyDescriptor:r[0].getOwnPropertyDescriptor.set,getOwnPropertyDescriptors:r[0].getOwnPropertyDescriptors.set,getOwnPropertyNames:r[0].getOwnPropertyNames.set,getPrototypeOf:r[0].getPrototypeOf.set,is:r[0].is.set,isExtensible:r[0].isExtensible.set,keys:r[0].keys.set,objectPrototype:r[0].objectPrototype.set,seal:r[0].seal.set,setPrototypeOf:r[0].setPrototypeOf.set,values:r[0].values.set,speciesSymbol:r[0].speciesSymbol.set,toStringTagSymbol:r[0].toStringTagSymbol.set,iteratorSymbol:r[0].iteratorSymbol.set,matchAllSymbol:r[0].matchAllSymbol.set,stringifyJson:r[0].stringifyJson.set,fromEntries:r[0].fromEntries.set,defineProperty:r[0].defineProperty.set,apply:r[0].apply.set,construct:r[0].construct.set,reflectGet:r[0].reflectGet.set,reflectGetOwnPropertyDescriptor:r[0].reflectGetOwnPropertyDescriptor.set,reflectHas:r[0].reflectHas.set,reflectIsExtensible:r[0].reflectIsExtensible.set,ownKeys:r[0].ownKeys.set,reflectPreventExtensions:r[0].reflectPreventExtensions.set,reflectSet:r[0].reflectSet.set,isArray:r[0].isArray.set,arrayPrototype:r[0].arrayPrototype.set,mapPrototype:r[0].mapPrototype.set,proxyRevocable:r[0].proxyRevocable.set,regexpPrototype:r[0].regexpPrototype.set,setPrototype:r[0].setPrototype.set,stringPrototype:r[0].stringPrototype.set,weakmapPrototype:r[0].weakmapPrototype.set,weaksetPrototype:r[0].weaksetPrototype.set,functionPrototype:r[0].functionPrototype.set,promisePrototype:r[0].promisePrototype.set,uncurryThis:r[0].uncurryThis.set,objectHasOwnProperty:r[0].objectHasOwnProperty.set,arrayFilter:r[0].arrayFilter.set,arrayForEach:r[0].arrayForEach.set,arrayIncludes:r[0].arrayIncludes.set,arrayJoin:r[0].arrayJoin.set,arrayMap:r[0].arrayMap.set,arrayPop:r[0].arrayPop.set,arrayPush:r[0].arrayPush.set,arraySlice:r[0].arraySlice.set,arraySome:r[0].arraySome.set,arraySort:r[0].arraySort.set,iterateArray:r[0].iterateArray.set,mapSet:r[0].mapSet.set,mapGet:r[0].mapGet.set,mapHas:r[0].mapHas.set,iterateMap:r[0].iterateMap.set,setAdd:r[0].setAdd.set,setForEach:r[0].setForEach.set,setHas:r[0].setHas.set,iterateSet:r[0].iterateSet.set,regexpTest:r[0].regexpTest.set,regexpExec:r[0].regexpExec.set,matchAllRegExp:r[0].matchAllRegExp.set,stringEndsWith:r[0].stringEndsWith.set,stringIncludes:r[0].stringIncludes.set,stringIndexOf:r[0].stringIndexOf.set,stringMatch:r[0].stringMatch.set,stringReplace:r[0].stringReplace.set,stringSearch:r[0].stringSearch.set,stringSlice:r[0].stringSlice.set,stringSplit:r[0].stringSplit.set,stringStartsWith:r[0].stringStartsWith.set,iterateString:r[0].iterateString.set,weakmapDelete:r[0].weakmapDelete.set,weakmapGet:r[0].weakmapGet.set,weakmapHas:r[0].weakmapHas.set,weakmapSet:r[0].weakmapSet.set,weaksetAdd:r[0].weaksetAdd.set,weaksetGet:r[0].weaksetGet.set,weaksetHas:r[0].weaksetHas.set,functionToString:r[0].functionToString.set,promiseAll:r[0].promiseAll.set,promiseCatch:r[0].promiseCatch.set,promiseThen:r[0].promiseThen.set,getConstructorOf:r[0].getConstructorOf.set,immutableObject:r[0].immutableObject.set,isObject:r[0].isObject.set,isError:r[0].isError.set,FERAL_EVAL:r[0].FERAL_EVAL.set,FERAL_FUNCTION:r[0].FERAL_FUNCTION.set}}),e[1]({imports(e){new Map(e)},liveVar:{},onceVar:{}}),e[2]({imports(e){n(new Map(e),"../commons.js",0)},liveVar:{},onceVar:{an:r[2].an.set,bestEffortStringify:r[2].bestEffortStringify.set,enJoin:r[2].enJoin.set}}),e[3]({imports(e){new Map(e)},liveVar:{},onceVar:{}}),e[4]({imports(e){const t=new Map(e);n(t,"../commons.js",0),n(t,"./internal-types.js",1),n(t,"./stringify-utils.js",2),n(t,"./types.js",3)},liveVar:{},onceVar:{unredactedDetails:r[4].unredactedDetails.set,loggedErrorHandler:r[4].loggedErrorHandler.set,makeAssert:r[4].makeAssert.set,assert:r[4].assert.set}}),e[5]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{makeEvaluateFactory:r[5].makeEvaluateFactory.set}}),e[6]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{isValidIdentifierName:r[6].isValidIdentifierName.set,getScopeConstants:r[6].getScopeConstants.set}}),e[7]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./error/assert.js",4)},liveVar:{},onceVar:{createScopeHandler:r[7].createScopeHandler.set}}),e[8]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{getSourceURL:r[8].getSourceURL.set}}),e[9]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./get-source-url.js",8)},liveVar:{},onceVar:{rejectHtmlComments:r[9].rejectHtmlComments.set,evadeHtmlCommentTest:r[9].evadeHtmlCommentTest.set,rejectImportExpressions:r[9].rejectImportExpressions.set,evadeImportExpressionTest:r[9].evadeImportExpressionTest.set,rejectSomeDirectEvalExpressions:r[9].rejectSomeDirectEvalExpressions.set,mandatoryTransforms:r[9].mandatoryTransforms.set,applyTransforms:r[9].applyTransforms.set}}),e[10]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./error/assert.js",4),n(t,"./make-evaluate-factory.js",5),n(t,"./scope-constants.js",6),n(t,"./scope-handler.js",7),n(t,"./transforms.js",9)},liveVar:{},onceVar:{makeSafeEvaluator:r[10].makeSafeEvaluator.set}}),e[11]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./make-safe-evaluator.js",10),n(t,"./transforms.js",9)},liveVar:{},onceVar:{provideCompartmentEvaluator:r[11].provideCompartmentEvaluator.set,compartmentEvaluate:r[11].compartmentEvaluate.set}}),e[12]({imports(e){new Map(e)},liveVar:{},onceVar:{makeEvalFunction:r[12].makeEvalFunction.set}}),e[13]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./error/assert.js",4)},liveVar:{},onceVar:{makeFunctionConstructor:r[13].makeFunctionConstructor.set}}),e[14]({imports(e){new Map(e)},liveVar:{},onceVar:{constantProperties:r[14].constantProperties.set,universalPropertyNames:r[14].universalPropertyNames.set,initialGlobalPropertyNames:r[14].initialGlobalPropertyNames.set,sharedGlobalPropertyNames:r[14].sharedGlobalPropertyNames.set,uniqueGlobalPropertyNames:r[14].uniqueGlobalPropertyNames.set,NativeErrors:r[14].NativeErrors.set,FunctionInstance:r[14].FunctionInstance.set,isAccessorPermit:r[14].isAccessorPermit.set,whitelist:r[14].whitelist.set}}),e[15]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./make-eval-function.js",12),n(t,"./make-function-constructor.js",13),n(t,"./whitelist.js",14)},liveVar:{},onceVar:{setGlobalObjectConstantProperties:r[15].setGlobalObjectConstantProperties.set,setGlobalObjectMutableProperties:r[15].setGlobalObjectMutableProperties.set}}),e[16]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./error/assert.js",4)},liveVar:{},onceVar:{makeAlias:r[16].makeAlias.set,load:r[16].load.set}}),e[17]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./error/assert.js",4),n(t,"./module-load.js",16)},liveVar:{},onceVar:{deferExports:r[17].deferExports.set,getDeferredExports:r[17].getDeferredExports.set}}),e[18]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./compartment-evaluate.js",11),n(t,"./error/assert.js",4),n(t,"./module-proxy.js",17)},liveVar:{},onceVar:{makeThirdPartyModuleInstance:r[18].makeThirdPartyModuleInstance.set,makeModuleInstance:r[18].makeModuleInstance.set}}),e[19]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./error/assert.js",4),n(t,"./module-instance.js",18)},liveVar:{},onceVar:{link:r[19].link.set,instantiate:r[19].instantiate.set}}),e[20]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./compartment-evaluate.js",11),n(t,"./error/assert.js",4),n(t,"./global-object.js",15),n(t,"./make-safe-evaluator.js",10),n(t,"./module-link.js",19),n(t,"./module-load.js",16),n(t,"./module-proxy.js",17),n(t,"./scope-constants.js",6),n(t,"./whitelist.js",14)},liveVar:{},onceVar:{InertCompartment:r[20].InertCompartment.set,CompartmentPrototype:r[20].CompartmentPrototype.set,makeCompartmentConstructor:r[20].makeCompartmentConstructor.set}}),e[21]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./whitelist.js",14)},liveVar:{},onceVar:{makeIntrinsicsCollector:r[21].makeIntrinsicsCollector.set,getGlobalIntrinsics:r[21].getGlobalIntrinsics.set}}),e[22]({imports(e){new Map(e)},liveVar:{},onceVar:{minEnablements:r[22].minEnablements.set,moderateEnablements:r[22].moderateEnablements.set,severeEnablements:r[22].severeEnablements.set}}),e[23]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./enablements.js",22)},liveVar:{},onceVar:{default:r[23].default.set}}),e[24]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./error/assert.js",4)},liveVar:{},onceVar:{makeEnvironmentCaptor:r[24].makeEnvironmentCaptor.set}}),e[25]({imports(e){const t=new Map(e);n(t,"../commons.js",0),n(t,"./internal-types.js",1),n(t,"./types.js",3)},liveVar:{},onceVar:{makeLoggingConsoleKit:r[25].makeLoggingConsoleKit.set,makeCausalConsole:r[25].makeCausalConsole.set,filterConsole:r[25].filterConsole.set,consoleWhitelist:r[25].consoleWhitelist.set,BASE_CONSOLE_LEVEL:r[25].BASE_CONSOLE_LEVEL.set}}),e[26]({imports(e){const t=new Map(e);n(t,"../commons.js",0),n(t,"./assert.js",4),n(t,"./console.js",25),n(t,"./internal-types.js",1),n(t,"./types.js",3)},liveVar:{},onceVar:{tameConsole:r[26].tameConsole.set}}),e[27]({imports(e){n(new Map(e),"../commons.js",0)},liveVar:{},onceVar:{filterFileName:r[27].filterFileName.set,shortenCallSiteString:r[27].shortenCallSiteString.set,tameV8ErrorConstructor:r[27].tameV8ErrorConstructor.set}}),e[28]({imports(e){const t=new Map(e);n(t,"../commons.js",0),n(t,"../whitelist.js",14),n(t,"./tame-v8-error-constructor.js",27)},liveVar:{},onceVar:{default:r[28].default.set}}),e[29]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./compartment-shim.js",20)},liveVar:{},onceVar:{getAnonymousIntrinsics:r[29].getAnonymousIntrinsics.set}}),e[30]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{makeHardener:r[30].makeHardener.set}}),e[31]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{default:r[31].default.set}}),e[32]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{tameDomains:r[32].tameDomains.set}}),e[33]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{default:r[33].default.set}}),e[34]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{tameFunctionToString:r[34].tameFunctionToString.set}}),e[35]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./error/assert.js",4)},liveVar:{},onceVar:{default:r[35].default.set}}),e[36]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{default:r[36].default.set}}),e[37]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{default:r[37].default.set}}),e[38]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./whitelist.js",14)},liveVar:{},onceVar:{default:r[38].default.set}}),e[39]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./compartment-shim.js",20),n(t,"./enable-property-overrides.js",23),n(t,"./environment-options.js",24),n(t,"./error/assert.js",4),n(t,"./error/stringify-utils.js",2),n(t,"./error/tame-console.js",26),n(t,"./error/tame-error-constructor.js",28),n(t,"./get-anonymous-intrinsics.js",29),n(t,"./global-object.js",15),n(t,"./intrinsics.js",21),n(t,"./make-hardener.js",30),n(t,"./make-safe-evaluator.js",10),n(t,"./tame-date-constructor.js",31),n(t,"./tame-domains.js",32),n(t,"./tame-function-constructors.js",33),n(t,"./tame-function-tostring.js",34),n(t,"./tame-locale-methods.js",35),n(t,"./tame-math-object.js",36),n(t,"./tame-regexp-constructor.js",37),n(t,"./whitelist-intrinsics.js",38),n(t,"./whitelist.js",14)},liveVar:{},onceVar:{repairIntrinsics:r[39].repairIntrinsics.set,lockdown:r[39].lockdown.set}}),e[40]({imports(e){const t=new Map(e);n(t,"./src/commons.js",0),n(t,"./src/compartment-shim.js",20),n(t,"./src/error/assert.js",4),n(t,"./src/intrinsics.js",21),n(t,"./src/lockdown-shim.js",39),n(t,"./src/tame-function-tostring.js",34)},liveVar:{},onceVar:{}})})();
\ No newline at end of file
diff --git a/node_modules/@metamask/execution-environments/dist/dist/openrpc.json b/node_modules/@metamask/execution-environments/dist/dist/openrpc.json
new file mode 100644
index 0000000..4fb7e50
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/openrpc.json
@@ -0,0 +1,189 @@
+{
+    "openrpc": "1.2.4",
+    "info": {
+        "title": "MetaMask Snaps Execution Environment API",
+        "version": "0.0.0-development"
+    },
+    "methods": [
+        {
+            "name": "ping",
+            "description": "confirms that a connection has been established with the execution environment",
+            "params": [],
+            "result": {
+                "name": "PingResult",
+                "schema": {
+                    "$ref": "#/components/schemas/OK"
+                }
+            }
+        },
+        {
+            "name": "executeSnap",
+            "description": "executes a snap in the environment. The snap can then be interacted with via `snapRpc`",
+            "params": [
+                {
+                    "name": "snapName",
+                    "required": true,
+                    "description": "the name of the snap",
+                    "schema": {
+                        "title": "SnapName",
+                        "type": "string"
+                    }
+                },
+                {
+                    "name": "sourceCode",
+                    "description": "a snaps source code that gets executed in the environment",
+                    "required": true,
+                    "schema": {
+                        "title": "SourceCode",
+                        "type": "string"
+                    }
+                },
+                {
+                    "name": "endowments",
+                    "description": "A list of endowments to provide to SES",
+                    "required": false,
+                    "schema": {
+                        "title": "Endowments",
+                        "description": "An array of the names of the endowments",
+                        "type": "array",
+                        "items": {
+                            "title": "Endowment",
+                            "type": "string"
+                        }
+                    }
+                }
+            ],
+            "result": {
+                "name": "executeSnapResult",
+                "schema": {
+                    "$ref": "#/components/schemas/OK"
+                }
+            },
+            "examples": [
+                {
+                    "name": "BasicTestSnapExecuteExample",
+                    "params": [
+                        {
+                            "name": "snapName",
+                            "value": "TestSnap"
+                        },
+                        {
+                            "name": "sourceCode",
+                            "value": "wallet.registerRpcMessageHandler(async (_, request) => { return request.method + request.id })"
+                        }
+                    ],
+                    "result": {
+                        "name": "BasicTestSnapExampleResult",
+                        "value": "OK"
+                    }
+                }
+            ]
+        },
+        {
+            "name": "snapRpc",
+            "params": [
+                {
+                    "name": "target",
+                    "required": true,
+                    "description": "the name of the snap method",
+                    "schema": {
+                        "title": "Target",
+                        "type": "string"
+                    }
+                },
+                {
+                    "name": "origin",
+                    "required": true,
+                    "description": "Origin of the snap JSON-RPC request",
+                    "schema": {
+                        "title": "Origin",
+                        "type": "string"
+                    }
+                },
+                {
+                    "name": "request",
+                    "required": true,
+                    "description": "JSON-RPC request",
+                    "schema": {
+                        "$ref": "#/components/schemas/JsonRpcRequest"
+                    }
+                }
+            ],
+            "result": {
+                "name": "HandleSnapRpcResult",
+                "schema": {
+                    "title": "SnapRpcResult"
+                }
+            },
+            "examples": [
+                {
+                    "name": "TestSnapExample",
+                    "params": [
+                        {
+                            "name": "target",
+                            "value": "TestSnap"
+                        },
+                        {
+                            "name": "origin",
+                            "value": "foo.com"
+                        },
+                        {
+                            "name": "request",
+                            "value": {
+                                "jsonrpc": "2.0",
+                                "method": "hello",
+                                "params": [],
+                                "id": 1
+                            }
+                        }
+                    ],
+                    "result": {
+                        "name": "TestSnapResultExample",
+                        "value": "hello1"
+                    }
+                }
+            ]
+        }
+    ],
+    "components": {
+        "schemas": {
+            "OK": {
+                "title": "OK",
+                "type": "string",
+                "const": "OK"
+            },
+            "JsonRpcRequest": {
+                "title": "JsonRpcRequest",
+                "type": "object",
+                "required": ["jsonrpc", "method"],
+                "properties": {
+                    "jsonrpc": {
+                        "title": "JSONRPCString",
+                        "type": "string",
+                        "const": "2.0"
+                    },
+                    "id": {
+                        "title": "JSONRPCID",
+                        "oneOf": [
+                            {
+                                "type": "string"
+                            },
+                            {
+                                "type": "number"
+                            }
+                        ]
+                    },
+                    "method": {
+                        "title": "JSONRPCMethod",
+                        "description": "the name of the method",
+                        "type": "string"
+                    },
+                    "params": {
+                        "title": "JSONRPCParams",
+                        "type": ["array", "object"]
+                    }
+                }
+            }
+        }
+    }
+}
diff --git a/node_modules/@metamask/execution-environments/dist/dist/web-workers/WebWorkerSnapExecutor.d.ts b/node_modules/@metamask/execution-environments/dist/dist/web-workers/WebWorkerSnapExecutor.d.ts
new file mode 100644
index 0000000..e85f0bd
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/web-workers/WebWorkerSnapExecutor.d.ts
@@ -0,0 +1,4 @@
+import { BaseSnapExecutor } from '../common/BaseSnapExecutor';
+export declare class WebWorkerSnapExecutor extends BaseSnapExecutor {
+    static initalize(): WebWorkerSnapExecutor;
+}
diff --git a/node_modules/@metamask/execution-environments/dist/dist/web-workers/WebWorkerSnapExecutor.js b/node_modules/@metamask/execution-environments/dist/dist/web-workers/WebWorkerSnapExecutor.js
new file mode 100644
index 0000000..03e5541
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/web-workers/WebWorkerSnapExecutor.js
@@ -0,0 +1,29 @@
+"use strict";
+var __importDefault = (this && this.__importDefault) || function (mod) {
+    return (mod && mod.__esModule) ? mod : { "default": mod };
+};
+Object.defineProperty(exports, "__esModule", { value: true });
+exports.WebWorkerSnapExecutor = void 0;
+const object_multiplex_1 = __importDefault(require("@metamask/object-multiplex"));
+const post_message_stream_1 = require("@metamask/post-message-stream");
+const pump_1 = __importDefault(require("pump"));
+const BaseSnapExecutor_1 = require("../common/BaseSnapExecutor");
+const enums_1 = require("../common/enums");
+class WebWorkerSnapExecutor extends BaseSnapExecutor_1.BaseSnapExecutor {
+    static initalize() {
+        console.log('Worker: Connecting to parent.');
+        const parentStream = new post_message_stream_1.WorkerPostMessageStream();
+        const mux = new object_multiplex_1.default();
+        pump_1.default(parentStream, mux, parentStream, (err) => {
+            if (err) {
+                console.error(`Parent stream failure, closing worker.`, err);
+            }
+            self.close();
+        });
+        const commandStream = mux.createStream(enums_1.SNAP_STREAM_NAMES.COMMAND);
+        const rpcStream = mux.createStream(enums_1.SNAP_STREAM_NAMES.JSON_RPC);
+        return new WebWorkerSnapExecutor(commandStream, rpcStream);
+    }
+}
+exports.WebWorkerSnapExecutor = WebWorkerSnapExecutor;
+//# sourceMappingURL=WebWorkerSnapExecutor.js.map
\ No newline at end of file
diff --git a/node_modules/@metamask/execution-environments/dist/dist/web-workers/WebWorkerSnapExecutor.js.map b/node_modules/@metamask/execution-environments/dist/dist/web-workers/WebWorkerSnapExecutor.js.map
new file mode 100644
index 0000000..0c520cc
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/web-workers/WebWorkerSnapExecutor.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"WebWorkerSnapExecutor.js","sourceRoot":"","sources":["../../src/web-workers/WebWorkerSnapExecutor.ts"],"names":[],"mappings":";;;;;;AAAA,kFAAyD;AACzD,uEAAwE;AACxE,gDAAwB;AACxB,iEAA8D;AAC9D,2CAAoD;AAEpD,MAAa,qBAAsB,SAAQ,mCAAgB;IACzD,MAAM,CAAC,SAAS;QACd,OAAO,CAAC,GAAG,CAAC,+BAA+B,CAAC,CAAC;QAE7C,MAAM,YAAY,GAAG,IAAI,6CAAuB,EAAE,CAAC;QACnD,MAAM,GAAG,GAAG,IAAI,0BAAe,EAAE,CAAC;QAClC,cAAI,CAAC,YAAY,EAAE,GAAU,EAAE,YAAY,EAAE,CAAC,GAAG,EAAE,EAAE;YACnD,IAAI,GAAG,EAAE;gBACP,OAAO,CAAC,KAAK,CAAC,wCAAwC,EAAE,GAAG,CAAC,CAAC;aAC9D;YACD,IAAI,CAAC,KAAK,EAAE,CAAC;QACf,CAAC,CAAC,CAAC;QAEH,MAAM,aAAa,GAAG,GAAG,CAAC,YAAY,CAAC,yBAAiB,CAAC,OAAO,CAAC,CAAC;QAClE,MAAM,SAAS,GAAG,GAAG,CAAC,YAAY,CAAC,yBAAiB,CAAC,QAAQ,CAAQ,CAAC;QACtE,OAAO,IAAI,qBAAqB,CAAC,aAAa,EAAE,SAAS,CAAC,CAAC;IAC7D,CAAC;CACF;AAjBD,sDAiBC"}
\ No newline at end of file
diff --git a/node_modules/@metamask/execution-environments/dist/dist/web-workers/index.d.ts b/node_modules/@metamask/execution-environments/dist/dist/web-workers/index.d.ts
new file mode 100644
index 0000000..cb0ff5c
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/web-workers/index.d.ts
@@ -0,0 +1 @@
+export {};
diff --git a/node_modules/@metamask/execution-environments/dist/dist/web-workers/index.js b/node_modules/@metamask/execution-environments/dist/dist/web-workers/index.js
new file mode 100644
index 0000000..1b35292
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/web-workers/index.js
@@ -0,0 +1,9 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+const lockdown_1 = require("../common/lockdown/lockdown");
+const lockdown_more_1 = require("../common/lockdown/lockdown-more");
+const WebWorkerSnapExecutor_1 = require("./WebWorkerSnapExecutor");
+lockdown_1.executeLockdown();
+lockdown_more_1.executeLockdownMore();
+WebWorkerSnapExecutor_1.WebWorkerSnapExecutor.initalize();
+//# sourceMappingURL=index.js.map
\ No newline at end of file
diff --git a/node_modules/@metamask/execution-environments/dist/dist/web-workers/index.js.map b/node_modules/@metamask/execution-environments/dist/dist/web-workers/index.js.map
new file mode 100644
index 0000000..4c010e1
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/web-workers/index.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/web-workers/index.ts"],"names":[],"mappings":";;AAAA,0DAA8D;AAC9D,oEAAuE;AACvE,mEAAgE;AAEhE,0BAAe,EAAE,CAAC;AAClB,mCAAmB,EAAE,CAAC;AAEtB,6CAAqB,CAAC,SAAS,EAAE,CAAC"}
\ No newline at end of file
diff --git a/node_modules/@metamask/execution-environments/dist/dist/webworker.bundle.js b/node_modules/@metamask/execution-environments/dist/dist/webworker.bundle.js
new file mode 100644
index 0000000..fdb2167
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/webworker.bundle.js
@@ -0,0 +1,3 @@
+"use strict";(()=>{const e=[({imports:e,liveVar:t,onceVar:r})=>{e([]);const o=globalThis;r.universalThis(o);const{Array:n,Date:s,Float32Array:a,JSON:i,Map:c,Math:l,Number:p,Object:m,Promise:u,Proxy:y,Reflect:f,RegExp:g,Set:d,String:E,WeakMap:P,WeakSet:w}=globalThis;r.Array(n),r.Date(s),r.Float32Array(a),r.JSON(i),r.Map(c),r.Math(l),r.Number(p),r.Object(m),r.Promise(u),r.Proxy(y),r.Reflect(f),r.FERAL_REG_EXP(g),r.Set(d),r.String(E),r.WeakMap(P),r.WeakSet(w);const{Error:b,RangeError:h,ReferenceError:S,SyntaxError:v,TypeError:k}=globalThis;r.FERAL_ERROR(b),r.RangeError(h),r.ReferenceError(S),r.SyntaxError(v),r.TypeError(k);const{assign:j,create:A,defineProperties:T,entries:x,freeze:I,getOwnPropertyDescriptor:O,getOwnPropertyDescriptors:_,getOwnPropertyNames:C,getPrototypeOf:F,is:V,isExtensible:N,keys:R,prototype:M,seal:$,setPrototypeOf:L,values:G}=m;r.assign(j),r.create(A),r.defineProperties(T),r.entries(x),r.freeze(I),r.getOwnPropertyDescriptor(O),r.getOwnPropertyDescriptors(_),r.getOwnPropertyNames(C),r.getPrototypeOf(F),r.is(V),r.isExtensible(N),r.keys(R),r.objectPrototype(M),r.seal($),r.setPrototypeOf(L),r.values(G);const{species:D,toStringTag:U,iterator:H,matchAll:W}=Symbol;r.speciesSymbol(D),r.toStringTagSymbol(U),r.iteratorSymbol(H),r.matchAllSymbol(W);const{stringify:z}=i;r.stringifyJson(z);const B=m.fromEntries||(e=>{const t={};for(const[r,o]of e)t[r]=o;return t});r.fromEntries(B);const{defineProperty:J}=m;r.defineProperty(((e,t,r)=>{const o=J(e,t,r);if(o!==e)throw k(`Please report that the original defineProperty silently failed to set ${z(E(t))}. (SES_DEFINE_PROPERTY_FAILED_SILENTLY)`);return o}));const{apply:K,construct:q,get:Y,getOwnPropertyDescriptor:X,has:Z,isExtensible:Q,ownKeys:ee,preventExtensions:te,set:re}=f;r.apply(K),r.construct(q),r.reflectGet(Y),r.reflectGetOwnPropertyDescriptor(X),r.reflectHas(Z),r.reflectIsExtensible(Q),r.ownKeys(ee),r.reflectPreventExtensions(te),r.reflectSet(re);const{isArray:oe,prototype:ne}=n;r.isArray(oe),r.arrayPrototype(ne);const{prototype:se}=c;r.mapPrototype(se);const{revocable:ae}=y;r.proxyRevocable(ae);const{prototype:ie}=RegExp;r.regexpPrototype(ie);const{prototype:ce}=d;r.setPrototype(ce);const{prototype:le}=E;r.stringPrototype(le);const{prototype:pe}=P;r.weakmapPrototype(pe);const{prototype:me}=w;r.weaksetPrototype(me);const{prototype:ue}=Function;r.functionPrototype(ue);const{prototype:ye}=u;r.promisePrototype(ye);const fe=e=>(t,...r)=>K(e,t,r);r.uncurryThis(fe);const ge=fe(M.hasOwnProperty);r.objectHasOwnProperty(ge);const de=fe(ne.filter);r.arrayFilter(de);const Ee=fe(ne.forEach);r.arrayForEach(Ee);const Pe=fe(ne.includes);r.arrayIncludes(Pe);const we=fe(ne.join);r.arrayJoin(we);const be=fe(ne.map);r.arrayMap(be);const he=fe(ne.pop);r.arrayPop(he);const Se=fe(ne.push);r.arrayPush(Se);const ve=fe(ne.slice);r.arraySlice(ve);const ke=fe(ne.some);r.arraySome(ke);const je=fe(ne.sort);r.arraySort(je);const Ae=fe(ne[H]);r.iterateArray(Ae);const Te=fe(se.set);r.mapSet(Te);const xe=fe(se.get);r.mapGet(xe);const Ie=fe(se.has);r.mapHas(Ie);const Oe=fe(se[H]);r.iterateMap(Oe);const _e=fe(ce.add);r.setAdd(_e);const Ce=fe(ce.forEach);r.setForEach(Ce);const Fe=fe(ce.has);r.setHas(Fe);const Ve=fe(ce[H]);r.iterateSet(Ve);const Ne=fe(ie.test);r.regexpTest(Ne);const Re=fe(ie.exec);r.regexpExec(Re);const Me=fe(ie[W]);r.matchAllRegExp(Me);const $e=fe(le.endsWith);r.stringEndsWith($e);const Le=fe(le.includes);r.stringIncludes(Le);const Ge=fe(le.indexOf);r.stringIndexOf(Ge);const De=fe(le.match);r.stringMatch(De);const Ue=fe(le.replace);r.stringReplace(Ue);const He=fe(le.search);r.stringSearch(He);const We=fe(le.slice);r.stringSlice(We);const ze=fe(le.split);r.stringSplit(ze);const Be=fe(le.startsWith);r.stringStartsWith(Be);const Je=fe(le[H]);r.iterateString(Je);const Ke=fe(pe.delete);r.weakmapDelete(Ke);const qe=fe(pe.get);r.weakmapGet(qe);const Ye=fe(pe.has);r.weakmapHas(Ye);const Xe=fe(pe.set);r.weakmapSet(Xe);const Ze=fe(me.add);r.weaksetAdd(Ze);const Qe=fe(me.get);r.weaksetGet(Qe);const et=fe(me.has);r.weaksetHas(et);const tt=fe(ue.toString);r.functionToString(tt);const{all:rt}=u;r.promiseAll((e=>K(rt,u,[e])));const ot=fe(ye.catch);r.promiseCatch(ot);const nt=fe(ye.then);r.promiseThen(nt),r.getConstructorOf((e=>Y(F(e),"constructor")));const st=I(A(null));r.immutableObject(st),r.isObject((e=>m(e)===e)),r.isError((e=>e instanceof b));const at=eval;r.FERAL_EVAL(at);const it=Function;r.FERAL_FUNCTION(it)},({imports:e,liveVar:t,onceVar:r})=>{e([])},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g;e([["../commons.js",[["Set",[e=>o=e]],["String",[e=>n=e]],["arrayJoin",[e=>s=e]],["arraySlice",[e=>a=e]],["freeze",[e=>i=e]],["is",[e=>c=e]],["isError",[e=>l=e]],["setAdd",[e=>p=e]],["setHas",[e=>m=e]],["stringIncludes",[e=>u=e]],["stringStartsWith",[e=>y=e]],["stringifyJson",[e=>f=e]],["toStringTagSymbol",[e=>g=e]]]]]),r.enJoin(((e,t)=>{if(0===e.length)return"(none)";if(1===e.length)return e[0];if(2===e.length){const[r,o]=e;return`${r} ${t} ${o}`}return`${s(a(e,0,-1),", ")}, ${t} ${e[e.length-1]}`}));const d=e=>(e=""+e).length>=1&&u("aeiouAEIOU",e[0])?"an "+e:"a "+e;r.an(d),i(d);const E=(e,t)=>{const r=new o,s=(e,t)=>{switch(typeof t){case"object":return null===t?null:m(r,t)?"[Seen]":(p(r,t),l(t)?`[${t.name}: ${t.message}]`:g in t?`[${t[g]}]`:t);case"function":return`[Function ${t.name||"<anon>"}]`;case"string":return y(t,"[")?`[${t}]`:t;case"undefined":case"symbol":return`[${n(t)}]`;case"bigint":return`[${t}n]`;case"number":return c(t,NaN)?"[NaN]":t===1/0?"[Infinity]":t===-1/0?"[-Infinity]":t;default:return t}};try{return f(e,s,t)}catch(e){return"[Something that failed to stringify]"}};r.bestEffortStringify(E),i(E)},({imports:e,liveVar:t,onceVar:r})=>{e([])},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d,E,P,w,b,h,S,v,k;e([["../commons.js",[["RangeError",[e=>o=e]],["TypeError",[e=>n=e]],["WeakMap",[e=>s=e]],["arrayJoin",[e=>a=e]],["arrayMap",[e=>i=e]],["arrayPop",[e=>c=e]],["arrayPush",[e=>l=e]],["assign",[e=>p=e]],["freeze",[e=>m=e]],["globalThis",[e=>u=e]],["is",[e=>y=e]],["isError",[e=>f=e]],["stringIndexOf",[e=>g=e]],["stringReplace",[e=>d=e]],["stringSlice",[e=>E=e]],["stringStartsWith",[e=>P=e]],["weakmapDelete",[e=>w=e]],["weakmapGet",[e=>b=e]],["weakmapHas",[e=>h=e]],["weakmapSet",[e=>S=e]]]],["./stringify-utils.js",[["an",[e=>v=e]],["bestEffortStringify",[e=>k=e]]]],["./types.js",[]],["./internal-types.js",[]]]);const j=new s,A=(e,t)=>{const r=m({toString:m((()=>k(e,t)))});return S(j,r,e),r};m(A);const T=new s,x=({template:e,args:t})=>{const r=[e[0]];for(let o=0;o<t.length;o+=1){const n=t[o];let s;s=h(j,n)?""+n:f(n)?`(${v(n.name)})`:`(${v(typeof n)})`,l(r,s,e[o+1])}return a(r,"")},I=m({toString(){const e=b(T,this);return void 0===e?"[Not a DetailsToken]":x(e)}});m(I.toString);const O=(e,...t)=>{const r=m({__proto__:I});return S(T,r,{template:e,args:t}),r};m(O);const _=(e,...t)=>(t=i(t,(e=>h(j,e)?e:A(e))),O(e,...t));r.unredactedDetails(_),m(_);const C=({template:e,args:t})=>{const r=[e[0]];for(let o=0;o<t.length;o+=1){let n=t[o];h(j,n)&&(n=b(j,n));const s=d(c(r)||"",/ $/,"");""!==s&&l(r,s);const a=d(e[o+1],/^ /,"");l(r,n,a)}return""===r[r.length-1]&&c(r),r},F=new s;let V=0;const N=new s,R=(e,t=e.name)=>{let r=b(N,e);return void 0!==r||(V+=1,r=`${t}#${V}`,S(N,e,r)),r},M=(e=O`Assert failed`,t=u.Error,{errorName:r}={})=>{"string"==typeof e&&(e=O([e]));const o=b(T,e);if(void 0===o)throw new n("unrecognized details "+A(e));const s=new t(x(o));return S(F,s,C(o)),void 0!==r&&R(s,r),s};m(M);const $=new s,L=new s,G=(e,t)=>{"string"==typeof t&&(t=O([t]));const r=b(T,t);if(void 0===r)throw new n("unrecognized details "+A(t));const o=C(r),s=b(L,e);if(void 0!==s)for(const t of s)t(e,o);else{const t=b($,e);void 0!==t?l(t,o):S($,e,[o])}};m(G);const D={getStackString:u.getStackString||(e=>{if(!("stack"in e))return"";const t=""+e.stack,r=g(t,"\n");return P(t," ")||-1===r?t:E(t,r+1)}),tagError:e=>R(e),resetErrorTagNum:()=>{V=0},getMessageLogArgs:e=>b(F,e),takeMessageLogArgs:e=>{const t=b(F,e);return w(F,e),t},takeNoteLogArgsArray:(e,t)=>{const r=b($,e);if(w($,e),void 0!==t){const r=b(L,e);r?l(r,t):S(L,e,[t])}return r||[]}};r.loggedErrorHandler(D),m(D);const U=(e,t=!1)=>{const r=t?_:O,s=(t=r`Assert failed`,o=u.Error)=>{const n=M(t,o);throw void 0!==e&&e(n),n};function a(e,t=r`Check failed`,o=u.Error){if(!e)throw s(t,o)}m(s);const i=(e,t,n=r`Expected ${e} is same as ${t}`,s=o)=>{a(y(e,t),n,s)};m(i);const c=(e,t,o)=>{a("string"==typeof t,r`${A(t)} must be a string`),void 0===o&&(o=r([""," must be "+v(t)],e)),i(typeof e,t,o,n)};m(c);const l=p(a,{error:M,fail:s,equal:i,typeof:c,string:(e,t)=>c(e,"string",t),note:G,details:r,quote:A,makeAssert:U});return m(l)};r.makeAssert(U),m(U);const H=U();r.assert(H)},({imports:e,liveVar:t,onceVar:r})=>{let o,n;e([["./commons.js",[["FERAL_FUNCTION",[e=>o=e]],["arrayJoin",[e=>n=e]]]]]),r.makeEvaluateFactory(((e=[])=>{const t=function(e){return 0===e.length?"":`const {${n(e,",")}} = this;`}(e);return o(`\n    with (this) {\n      ${t}\n      return function() {\n        'use strict';\n        return eval(arguments[0]);\n      };\n    }\n  `)}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c;e([["./commons.js",[["arrayFilter",[e=>o=e]],["arrayIncludes",[e=>n=e]],["getOwnPropertyDescriptor",[e=>s=e]],["getOwnPropertyNames",[e=>a=e]],["objectHasOwnProperty",[e=>i=e]],["regexpTest",[e=>c=e]]]]]);const l=["await","break","case","catch","class","const","continue","debugger","default","delete","do","else","export","extends","finally","for","function","if","import","in","instanceof","new","return","super","switch","this","throw","try","typeof","var","void","while","with","yield","let","static","enum","implements","package","protected","interface","private","public","await","null","true","false","this","arguments"],p=/^[a-zA-Z_$][\w$]*$/,m=e=>"eval"!==e&&!n(l,e)&&c(p,e);function u(e,t){const r=s(e,t);return!1===r.configurable&&!1===r.writable&&i(r,"value")}r.isValidIdentifierName(m),r.getScopeConstants(((e,t={})=>{const r=a(e),s=a(t),i=o(s,(e=>m(e)&&u(t,e)));return[...o(r,(t=>!n(s,t)&&m(t)&&u(e,t))),...i]}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d;e([["./commons.js",[["FERAL_EVAL",[e=>o=e]],["Proxy",[e=>n=e]],["String",[e=>s=e]],["TypeError",[e=>a=e]],["create",[e=>i=e]],["freeze",[e=>c=e]],["getOwnPropertyDescriptor",[e=>l=e]],["getOwnPropertyDescriptors",[e=>p=e]],["globalThis",[e=>m=e]],["immutableObject",[e=>u=e]],["objectHasOwnProperty",[e=>y=e]],["reflectGet",[e=>f=e]],["reflectSet",[e=>g=e]]]],["./error/assert.js",[["assert",[e=>d=e]]]]]);const{details:E,quote:P}=d,w=new n(u,c({get(e,t){d.fail(E`Please report unexpected scope handler trap: ${P(s(t))}`)}}));r.createScopeHandler(((e,t={},{sloppyGlobalsMode:r=!1}={})=>{let n=!1;return{admitOneUnsafeEvalNext:()=>{n=!0},resetOneUnsafeEvalNext:()=>{const e=n;return n=!1,e},scopeHandler:c(i(w,p({get(r,s){if("symbol"!=typeof s)return"eval"===s&&!0===n?(n=!1,o):s in t?f(t,s,e):f(e,s)},set(r,o,n){if(o in t){const r=l(t,o);return y(r,"value")?g(t,o,n):g(t,o,n,e)}return g(e,o,n)},has:(o,s)=>r||n&&"eval"===s||s in t||s in e||s in m,getPrototypeOf:()=>null,getOwnPropertyDescriptor(e,t){const r=P(s(t));console.warn("getOwnPropertyDescriptor trap on scopeHandler for "+r,(new a).stack)}})))}}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s;e([["./commons.js",[["FERAL_REG_EXP",[e=>o=e]],["regexpExec",[e=>n=e]],["stringSlice",[e=>s=e]]]]]);const a=new o("(?:\\s*//\\s*[@#]\\s*([a-zA-Z][a-zA-Z0-9]*)\\s*=\\s*([^\\s\\*]*)|/\\*\\s*[@#]\\s*([a-zA-Z][a-zA-Z0-9]*)\\s*=\\s*([^\\s\\*]*)\\s*\\*/)\\s*$");r.getSourceURL((e=>{let t="<unknown>";for(;e.length>0;){const r=n(a,e);if(null===r)break;e=s(e,0,e.length-r[0].length),"sourceURL"===r[3]?t=r[4]:"sourceURL"===r[1]&&(t=r[2])}return t}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l;function p(e,t){const r=a(e,t);if(r<0)return-1;const o="\n"===e[r]?1:0;return c(i(e,0,r),"\n").length+o}e([["./commons.js",[["FERAL_REG_EXP",[e=>o=e]],["SyntaxError",[e=>n=e]],["stringReplace",[e=>s=e]],["stringSearch",[e=>a=e]],["stringSlice",[e=>i=e]],["stringSplit",[e=>c=e]]]],["./get-source-url.js",[["getSourceURL",[e=>l=e]]]]]);const m=new o("(?:\x3c!--|--\x3e)","g"),u=e=>{const t=p(e,m);if(t<0)return e;const r=l(e);throw new n(`Possible HTML comment rejected at ${r}:${t}. (SES_HTML_COMMENT_REJECTED)`)};r.rejectHtmlComments(u),r.evadeHtmlCommentTest((e=>s(e,m,(e=>"<"===e[0]?"< ! --":"-- >"))));const y=new o("(^|[^.])\\bimport(\\s*(?:\\(|/[/*]))","g"),f=e=>{const t=p(e,y);if(t<0)return e;const r=l(e);throw new n(`Possible import expression rejected at ${r}:${t}. (SES_IMPORT_REJECTED)`)};r.rejectImportExpressions(f),r.evadeImportExpressionTest((e=>s(e,y,((e,t,r)=>`${t}__import__${r}`))));const g=new o("(^|[^.])\\beval(\\s*\\()","g");r.rejectSomeDirectEvalExpressions((e=>{const t=p(e,g);if(t<0)return e;const r=l(e);throw new n(`Possible direct eval expression rejected at ${r}:${t}. (SES_EVAL_REJECTED)`)})),r.mandatoryTransforms((e=>(e=u(e),f(e)))),r.applyTransforms(((e,t)=>{for(const r of t)e=r(e);return e}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y;e([["./commons.js",[["WeakSet",[e=>o=e]],["apply",[e=>n=e]],["immutableObject",[e=>s=e]],["proxyRevocable",[e=>a=e]],["weaksetAdd",[e=>i=e]]]],["./scope-constants.js",[["getScopeConstants",[e=>c=e]]]],["./scope-handler.js",[["createScopeHandler",[e=>l=e]]]],["./transforms.js",[["applyTransforms",[e=>p=e]],["mandatoryTransforms",[e=>m=e]]]],["./make-evaluate-factory.js",[["makeEvaluateFactory",[e=>u=e]]]],["./error/assert.js",[["assert",[e=>y=e]]]]]);const{details:f}=y;r.makeSafeEvaluator((({globalObject:e,localObject:t={},globalTransforms:r=[],sloppyGlobalsMode:g=!1,knownScopeProxies:d=new o}={})=>{const{scopeHandler:E,admitOneUnsafeEvalNext:P,resetOneUnsafeEvalNext:w}=l(e,t,{sloppyGlobalsMode:g}),{proxy:b,revoke:h}=a(s,E);let S;return i(d,b),{safeEvaluate:(o,{localTransforms:s=[]}={})=>{let a;(()=>{if(!S){const r=c(e,t),o=u(r);S=n(o,b,[])}})(),o=p(o,[...s,...r,m]),P();try{return n(S,e,[o])}catch(e){throw a=e,e}finally{w()&&(h(),y.fail(f`handler did not reset allowNextEvalToBeUnsafe ${a}`))}}}}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m;e([["./commons.js",[["TypeError",[e=>o=e]],["arrayPush",[e=>n=e]],["create",[e=>s=e]],["defineProperties",[e=>a=e]],["getOwnPropertyDescriptors",[e=>i=e]]]],["./transforms.js",[["evadeHtmlCommentTest",[e=>c=e]],["evadeImportExpressionTest",[e=>l=e]],["rejectSomeDirectEvalExpressions",[e=>p=e]]]],["./make-safe-evaluator.js",[["makeSafeEvaluator",[e=>m=e]]]]]);const u=(e,t)=>{const{sloppyGlobalsMode:r=!1,__moduleShimLexicals__:o}=t;let n;if(void 0!==o||r){let{globalTransforms:t}=e;const{globalObject:c,globalLexicals:l,knownScopeProxies:p}=e;let u=l;void 0!==o&&(t=void 0,u=s(null,i(l)),a(u,i(o))),({safeEvaluate:n}=m({globalObject:c,localObject:u,globalTransforms:t,sloppyGlobalsMode:r,knownScopeProxies:p}))}else({safeEvaluate:n}=e);return{safeEvaluate:n}};r.provideCompartmentEvaluator(u),r.compartmentEvaluate(((e,t,r)=>{if("string"!=typeof t)throw new o("first argument of evaluate() must be a string");const{transforms:s=[],__evadeHtmlCommentTest__:a=!1,__evadeImportExpressionTest__:i=!1,__rejectSomeDirectEvalExpressions__:m=!0}=r,y=[...s];!0===a&&n(y,c),!0===i&&n(y,l),!0===m&&n(y,p);const{safeEvaluate:f}=u(e,r);return f(t,{localTransforms:y})}))},({imports:e,liveVar:t,onceVar:r})=>{e([]),r.makeEvalFunction((e=>t=>"string"!=typeof t?t:e(t)))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c;e([["./commons.js",[["FERAL_FUNCTION",[e=>o=e]],["arrayJoin",[e=>n=e]],["arrayPop",[e=>s=e]],["defineProperties",[e=>a=e]],["getPrototypeOf",[e=>i=e]]]],["./error/assert.js",[["assert",[e=>c=e]]]]]),r.makeFunctionConstructor((e=>{const t=function(t){const r=""+(s(arguments)||""),a=""+n(arguments,",");new o(a,""),new o(r);const i=`(function anonymous(${a}\n) {\n${r}\n})`;return e(i)};return a(t,{prototype:{value:o.prototype,writable:!1,enumerable:!1,configurable:!1}}),c(i(o)===o.prototype,"Function prototype is the same accross compartments"),c(i(t)===o.prototype,"Function constructor prototype is the same accross compartments"),t}))},({imports:e,liveVar:t,onceVar:r})=>{e([]);r.constantProperties({Infinity:1/0,NaN:NaN,undefined:void 0}),r.universalPropertyNames({isFinite:"isFinite",isNaN:"isNaN",parseFloat:"parseFloat",parseInt:"parseInt",decodeURI:"decodeURI",decodeURIComponent:"decodeURIComponent",encodeURI:"encodeURI",encodeURIComponent:"encodeURIComponent",Array:"Array",ArrayBuffer:"ArrayBuffer",BigInt:"BigInt",BigInt64Array:"BigInt64Array",BigUint64Array:"BigUint64Array",Boolean:"Boolean",DataView:"DataView",EvalError:"EvalError",Float32Array:"Float32Array",Float64Array:"Float64Array",Int8Array:"Int8Array",Int16Array:"Int16Array",Int32Array:"Int32Array",Map:"Map",Number:"Number",Object:"Object",Promise:"Promise",Proxy:"Proxy",RangeError:"RangeError",ReferenceError:"ReferenceError",Set:"Set",String:"String",Symbol:"Symbol",SyntaxError:"SyntaxError",TypeError:"TypeError",Uint8Array:"Uint8Array",Uint8ClampedArray:"Uint8ClampedArray",Uint16Array:"Uint16Array",Uint32Array:"Uint32Array",URIError:"URIError",WeakMap:"WeakMap",WeakSet:"WeakSet",JSON:"JSON",Reflect:"Reflect",escape:"escape",unescape:"unescape",lockdown:"lockdown",harden:"harden",HandledPromise:"HandledPromise"}),r.initialGlobalPropertyNames({Date:"%InitialDate%",Error:"%InitialError%",RegExp:"%InitialRegExp%",Math:"%InitialMath%",getStackString:"%InitialGetStackString%"}),r.sharedGlobalPropertyNames({Date:"%SharedDate%",Error:"%SharedError%",RegExp:"%SharedRegExp%",Math:"%SharedMath%"}),r.uniqueGlobalPropertyNames({globalThis:"%UniqueGlobalThis%",eval:"%UniqueEval%",Function:"%UniqueFunction%",Compartment:"%UniqueCompartment%"});const o=[EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError];r.NativeErrors(o);const n={"[[Proto]]":"%FunctionPrototype%",length:"number",name:"string"};r.FunctionInstance(n);const s=n,a={"[[Proto]]":"%AsyncFunctionPrototype%"},i={get:s,set:"undefined"},c={get:s,set:s};function l(e){return{"[[Proto]]":"%SharedError%",prototype:e}}function p(e){return{"[[Proto]]":"%ErrorPrototype%",constructor:e,message:"string",name:"string",toString:!1,cause:!1}}function m(e){return{"[[Proto]]":"%TypedArray%",BYTES_PER_ELEMENT:"number",prototype:e}}function u(e){return{"[[Proto]]":"%TypedArrayPrototype%",BYTES_PER_ELEMENT:"number",constructor:e}}r.isAccessorPermit((e=>e===i||e===c));const y={E:"number",LN10:"number",LN2:"number",LOG10E:"number",LOG2E:"number",PI:"number",SQRT1_2:"number",SQRT2:"number","@@toStringTag":"string",abs:s,acos:s,acosh:s,asin:s,asinh:s,atan:s,atanh:s,atan2:s,cbrt:s,ceil:s,clz32:s,cos:s,cosh:s,exp:s,expm1:s,floor:s,fround:s,hypot:s,imul:s,log:s,log1p:s,log10:s,log2:s,max:s,min:s,pow:s,round:s,sign:s,sin:s,sinh:s,sqrt:s,tan:s,tanh:s,trunc:s,idiv:!1,idivmod:!1,imod:!1,imuldiv:!1,irem:!1,mod:!1},f={"[[Proto]]":null,"%ThrowTypeError%":s,Infinity:"number",NaN:"number",undefined:"undefined","%UniqueEval%":s,isFinite:s,isNaN:s,parseFloat:s,parseInt:s,decodeURI:s,decodeURIComponent:s,encodeURI:s,encodeURIComponent:s,Object:{"[[Proto]]":"%FunctionPrototype%",assign:s,create:s,defineProperties:s,defineProperty:s,entries:s,freeze:s,fromEntries:s,getOwnPropertyDescriptor:s,getOwnPropertyDescriptors:s,getOwnPropertyNames:s,getOwnPropertySymbols:s,getPrototypeOf:s,is:s,isExtensible:s,isFrozen:s,isSealed:s,keys:s,preventExtensions:s,prototype:"%ObjectPrototype%",seal:s,setPrototypeOf:s,values:s,hasOwn:s},"%ObjectPrototype%":{"[[Proto]]":null,constructor:"Object",hasOwnProperty:s,isPrototypeOf:s,propertyIsEnumerable:s,toLocaleString:s,toString:s,valueOf:s,"--proto--":c,__defineGetter__:s,__defineSetter__:s,__lookupGetter__:s,__lookupSetter__:s},"%UniqueFunction%":{"[[Proto]]":"%FunctionPrototype%",prototype:"%FunctionPrototype%"},"%InertFunction%":{"[[Proto]]":"%FunctionPrototype%",prototype:"%FunctionPrototype%"},"%FunctionPrototype%":{apply:s,bind:s,call:s,constructor:"%InertFunction%",toString:s,"@@hasInstance":s,caller:!1,arguments:!1},Boolean:{"[[Proto]]":"%FunctionPrototype%",prototype:"%BooleanPrototype%"},"%BooleanPrototype%":{constructor:"Boolean",toString:s,valueOf:s},Symbol:{"[[Proto]]":"%FunctionPrototype%",asyncIterator:"symbol",for:s,hasInstance:"symbol",isConcatSpreadable:"symbol",iterator:"symbol",keyFor:s,match:"symbol",matchAll:"symbol",prototype:"%SymbolPrototype%",replace:"symbol",search:"symbol",species:"symbol",split:"symbol",toPrimitive:"symbol",toStringTag:"symbol",unscopables:"symbol"},"%SymbolPrototype%":{constructor:"Symbol",description:i,toString:s,valueOf:s,"@@toPrimitive":s,"@@toStringTag":"string"},"%InitialError%":{"[[Proto]]":"%FunctionPrototype%",prototype:"%ErrorPrototype%",captureStackTrace:s,stackTraceLimit:c,prepareStackTrace:c},"%SharedError%":{"[[Proto]]":"%FunctionPrototype%",prototype:"%ErrorPrototype%",captureStackTrace:s,stackTraceLimit:c,prepareStackTrace:c},"%ErrorPrototype%":{constructor:"%SharedError%",message:"string",name:"string",toString:s,at:!1,stack:!1,cause:!1},EvalError:l("%EvalErrorPrototype%"),RangeError:l("%RangeErrorPrototype%"),ReferenceError:l("%ReferenceErrorPrototype%"),SyntaxError:l("%SyntaxErrorPrototype%"),TypeError:l("%TypeErrorPrototype%"),URIError:l("%URIErrorPrototype%"),"%EvalErrorPrototype%":p("EvalError"),"%RangeErrorPrototype%":p("RangeError"),"%ReferenceErrorPrototype%":p("ReferenceError"),"%SyntaxErrorPrototype%":p("SyntaxError"),"%TypeErrorPrototype%":p("TypeError"),"%URIErrorPrototype%":p("URIError"),Number:{"[[Proto]]":"%FunctionPrototype%",EPSILON:"number",isFinite:s,isInteger:s,isNaN:s,isSafeInteger:s,MAX_SAFE_INTEGER:"number",MAX_VALUE:"number",MIN_SAFE_INTEGER:"number",MIN_VALUE:"number",NaN:"number",NEGATIVE_INFINITY:"number",parseFloat:s,parseInt:s,POSITIVE_INFINITY:"number",prototype:"%NumberPrototype%"},"%NumberPrototype%":{constructor:"Number",toExponential:s,toFixed:s,toLocaleString:s,toPrecision:s,toString:s,valueOf:s},BigInt:{"[[Proto]]":"%FunctionPrototype%",asIntN:s,asUintN:s,prototype:"%BigIntPrototype%",bitLength:!1,fromArrayBuffer:!1},"%BigIntPrototype%":{constructor:"BigInt",toLocaleString:s,toString:s,valueOf:s,"@@toStringTag":"string"},"%InitialMath%":{...y,random:s},"%SharedMath%":y,"%InitialDate%":{"[[Proto]]":"%FunctionPrototype%",now:s,parse:s,prototype:"%DatePrototype%",UTC:s},"%SharedDate%":{"[[Proto]]":"%FunctionPrototype%",now:s,parse:s,prototype:"%DatePrototype%",UTC:s},"%DatePrototype%":{constructor:"%SharedDate%",getDate:s,getDay:s,getFullYear:s,getHours:s,getMilliseconds:s,getMinutes:s,getMonth:s,getSeconds:s,getTime:s,getTimezoneOffset:s,getUTCDate:s,getUTCDay:s,getUTCFullYear:s,getUTCHours:s,getUTCMilliseconds:s,getUTCMinutes:s,getUTCMonth:s,getUTCSeconds:s,setDate:s,setFullYear:s,setHours:s,setMilliseconds:s,setMinutes:s,setMonth:s,setSeconds:s,setTime:s,setUTCDate:s,setUTCFullYear:s,setUTCHours:s,setUTCMilliseconds:s,setUTCMinutes:s,setUTCMonth:s,setUTCSeconds:s,toDateString:s,toISOString:s,toJSON:s,toLocaleDateString:s,toLocaleString:s,toLocaleTimeString:s,toString:s,toTimeString:s,toUTCString:s,valueOf:s,"@@toPrimitive":s,getYear:s,setYear:s,toGMTString:s},String:{"[[Proto]]":"%FunctionPrototype%",fromCharCode:s,fromCodePoint:s,prototype:"%StringPrototype%",raw:s,fromArrayBuffer:!1},"%StringPrototype%":{length:"number",charAt:s,charCodeAt:s,codePointAt:s,concat:s,constructor:"String",endsWith:s,includes:s,indexOf:s,lastIndexOf:s,localeCompare:s,match:s,matchAll:s,normalize:s,padEnd:s,padStart:s,repeat:s,replace:s,replaceAll:s,search:s,slice:s,split:s,startsWith:s,substring:s,toLocaleLowerCase:s,toLocaleUpperCase:s,toLowerCase:s,toString:s,toUpperCase:s,trim:s,trimEnd:s,trimStart:s,valueOf:s,"@@iterator":s,substr:s,anchor:s,big:s,blink:s,bold:s,fixed:s,fontcolor:s,fontsize:s,italics:s,link:s,small:s,strike:s,sub:s,sup:s,trimLeft:s,trimRight:s,compare:!1,at:s},"%StringIteratorPrototype%":{"[[Proto]]":"%IteratorPrototype%",next:s,"@@toStringTag":"string"},"%InitialRegExp%":{"[[Proto]]":"%FunctionPrototype%",prototype:"%RegExpPrototype%","@@species":i,input:!1,$_:!1,lastMatch:!1,"$&":!1,lastParen:!1,"$+":!1,leftContext:!1,"$`":!1,rightContext:!1,"$'":!1,$1:!1,$2:!1,$3:!1,$4:!1,$5:!1,$6:!1,$7:!1,$8:!1,$9:!1},"%SharedRegExp%":{"[[Proto]]":"%FunctionPrototype%",prototype:"%RegExpPrototype%","@@species":i},"%RegExpPrototype%":{constructor:"%SharedRegExp%",exec:s,dotAll:i,flags:i,global:i,ignoreCase:i,"@@match":s,"@@matchAll":s,multiline:i,"@@replace":s,"@@search":s,source:i,"@@split":s,sticky:i,test:s,toString:s,unicode:i,compile:!1,hasIndices:!1},"%RegExpStringIteratorPrototype%":{"[[Proto]]":"%IteratorPrototype%",next:s,"@@toStringTag":"string"},Array:{"[[Proto]]":"%FunctionPrototype%",from:s,isArray:s,of:s,prototype:"%ArrayPrototype%","@@species":i,at:s},"%ArrayPrototype%":{length:"number",concat:s,constructor:"Array",copyWithin:s,entries:s,every:s,fill:s,filter:s,find:s,findIndex:s,flat:s,flatMap:s,forEach:s,includes:s,indexOf:s,join:s,keys:s,lastIndexOf:s,map:s,pop:s,push:s,reduce:s,reduceRight:s,reverse:s,shift:s,slice:s,some:s,sort:s,splice:s,toLocaleString:s,toString:s,unshift:s,values:s,"@@iterator":s,"@@unscopables":{"[[Proto]]":null,copyWithin:"boolean",entries:"boolean",fill:"boolean",find:"boolean",findIndex:"boolean",flat:"boolean",flatMap:"boolean",includes:"boolean",keys:"boolean",values:"boolean",at:!1},at:!1,findLast:s,findLastIndex:s},"%ArrayIteratorPrototype%":{"[[Proto]]":"%IteratorPrototype%",next:s,"@@toStringTag":"string"},"%TypedArray%":{"[[Proto]]":"%FunctionPrototype%",from:s,of:s,prototype:"%TypedArrayPrototype%","@@species":i},"%TypedArrayPrototype%":{buffer:i,byteLength:i,byteOffset:i,constructor:"%TypedArray%",copyWithin:s,entries:s,every:s,fill:s,filter:s,find:s,findIndex:s,forEach:s,includes:s,indexOf:s,join:s,keys:s,lastIndexOf:s,length:i,map:s,reduce:s,reduceRight:s,reverse:s,set:s,slice:s,some:s,sort:s,subarray:s,toLocaleString:s,toString:s,values:s,"@@iterator":s,"@@toStringTag":i,at:!1,findLast:s,findLastIndex:s},BigInt64Array:m("%BigInt64ArrayPrototype%"),BigUint64Array:m("%BigUint64ArrayPrototype%"),Float32Array:m("%Float32ArrayPrototype%"),Float64Array:m("%Float64ArrayPrototype%"),Int16Array:m("%Int16ArrayPrototype%"),Int32Array:m("%Int32ArrayPrototype%"),Int8Array:m("%Int8ArrayPrototype%"),Uint16Array:m("%Uint16ArrayPrototype%"),Uint32Array:m("%Uint32ArrayPrototype%"),Uint8Array:m("%Uint8ArrayPrototype%"),Uint8ClampedArray:m("%Uint8ClampedArrayPrototype%"),"%BigInt64ArrayPrototype%":u("BigInt64Array"),"%BigUint64ArrayPrototype%":u("BigUint64Array"),"%Float32ArrayPrototype%":u("Float32Array"),"%Float64ArrayPrototype%":u("Float64Array"),"%Int16ArrayPrototype%":u("Int16Array"),"%Int32ArrayPrototype%":u("Int32Array"),"%Int8ArrayPrototype%":u("Int8Array"),"%Uint16ArrayPrototype%":u("Uint16Array"),"%Uint32ArrayPrototype%":u("Uint32Array"),"%Uint8ArrayPrototype%":u("Uint8Array"),"%Uint8ClampedArrayPrototype%":u("Uint8ClampedArray"),Map:{"[[Proto]]":"%FunctionPrototype%","@@species":i,prototype:"%MapPrototype%"},"%MapPrototype%":{clear:s,constructor:"Map",delete:s,entries:s,forEach:s,get:s,has:s,keys:s,set:s,size:i,values:s,"@@iterator":s,"@@toStringTag":"string"},"%MapIteratorPrototype%":{"[[Proto]]":"%IteratorPrototype%",next:s,"@@toStringTag":"string"},Set:{"[[Proto]]":"%FunctionPrototype%",prototype:"%SetPrototype%","@@species":i},"%SetPrototype%":{add:s,clear:s,constructor:"Set",delete:s,entries:s,forEach:s,has:s,keys:s,size:i,values:s,"@@iterator":s,"@@toStringTag":"string"},"%SetIteratorPrototype%":{"[[Proto]]":"%IteratorPrototype%",next:s,"@@toStringTag":"string"},WeakMap:{"[[Proto]]":"%FunctionPrototype%",prototype:"%WeakMapPrototype%"},"%WeakMapPrototype%":{constructor:"WeakMap",delete:s,get:s,has:s,set:s,"@@toStringTag":"string"},WeakSet:{"[[Proto]]":"%FunctionPrototype%",prototype:"%WeakSetPrototype%"},"%WeakSetPrototype%":{add:s,constructor:"WeakSet",delete:s,has:s,"@@toStringTag":"string"},ArrayBuffer:{"[[Proto]]":"%FunctionPrototype%",isView:s,prototype:"%ArrayBufferPrototype%","@@species":i,fromString:!1,fromBigInt:!1},"%ArrayBufferPrototype%":{byteLength:i,constructor:"ArrayBuffer",slice:s,"@@toStringTag":"string",concat:!1,transfer:s,resize:s,resizable:i,maxByteLength:i},SharedArrayBuffer:!1,"%SharedArrayBufferPrototype%":!1,DataView:{"[[Proto]]":"%FunctionPrototype%",BYTES_PER_ELEMENT:"number",prototype:"%DataViewPrototype%"},"%DataViewPrototype%":{buffer:i,byteLength:i,byteOffset:i,constructor:"DataView",getBigInt64:s,getBigUint64:s,getFloat32:s,getFloat64:s,getInt8:s,getInt16:s,getInt32:s,getUint8:s,getUint16:s,getUint32:s,setBigInt64:s,setBigUint64:s,setFloat32:s,setFloat64:s,setInt8:s,setInt16:s,setInt32:s,setUint8:s,setUint16:s,setUint32:s,"@@toStringTag":"string"},Atomics:!1,JSON:{parse:s,stringify:s,"@@toStringTag":"string"},"%IteratorPrototype%":{"@@iterator":s},"%AsyncIteratorPrototype%":{"@@asyncIterator":s},"%InertGeneratorFunction%":{"[[Proto]]":"%InertFunction%",prototype:"%Generator%"},"%Generator%":{"[[Proto]]":"%FunctionPrototype%",constructor:"%InertGeneratorFunction%",prototype:"%GeneratorPrototype%","@@toStringTag":"string"},"%InertAsyncGeneratorFunction%":{"[[Proto]]":"%InertFunction%",prototype:"%AsyncGenerator%"},"%AsyncGenerator%":{"[[Proto]]":"%FunctionPrototype%",constructor:"%InertAsyncGeneratorFunction%",prototype:"%AsyncGeneratorPrototype%","@@toStringTag":"string"},"%GeneratorPrototype%":{"[[Proto]]":"%IteratorPrototype%",constructor:"%Generator%",next:s,return:s,throw:s,"@@toStringTag":"string"},"%AsyncGeneratorPrototype%":{"[[Proto]]":"%AsyncIteratorPrototype%",constructor:"%AsyncGenerator%",next:s,return:s,throw:s,"@@toStringTag":"string"},HandledPromise:{"[[Proto]]":"Promise",applyFunction:s,applyFunctionSendOnly:s,applyMethod:s,applyMethodSendOnly:s,get:s,getSendOnly:s,prototype:"%PromisePrototype%",resolve:s},Promise:{"[[Proto]]":"%FunctionPrototype%",all:s,allSettled:s,any:!1,prototype:"%PromisePrototype%",race:s,reject:s,resolve:s,"@@species":i},"%PromisePrototype%":{catch:s,constructor:"Promise",finally:s,then:s,"@@toStringTag":"string"},"%InertAsyncFunction%":{"[[Proto]]":"%InertFunction%",prototype:"%AsyncFunctionPrototype%"},"%AsyncFunctionPrototype%":{"[[Proto]]":"%FunctionPrototype%",constructor:"%InertAsyncFunction%","@@toStringTag":"string"},Reflect:{apply:s,construct:s,defineProperty:s,deleteProperty:s,get:s,getOwnPropertyDescriptor:s,getPrototypeOf:s,has:s,isExtensible:s,ownKeys:s,preventExtensions:s,set:s,setPrototypeOf:s,"@@toStringTag":"string"},Proxy:{"[[Proto]]":"%FunctionPrototype%",revocable:s},escape:s,unescape:s,"%UniqueCompartment%":{"[[Proto]]":"%FunctionPrototype%",prototype:"%CompartmentPrototype%",toString:s},"%InertCompartment%":{"[[Proto]]":"%FunctionPrototype%",prototype:"%CompartmentPrototype%",toString:s},"%CompartmentPrototype%":{constructor:"%InertCompartment%",evaluate:s,globalThis:i,name:i,toString:s,__isKnownScopeProxy__:s,import:a,load:a,importNow:s,module:s},lockdown:s,harden:s,"%InitialGetStackString%":s};r.whitelist(f)},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l;e([["./commons.js",[["defineProperty",[e=>o=e]],["objectHasOwnProperty",[e=>n=e]],["entries",[e=>s=e]]]],["./make-eval-function.js",[["makeEvalFunction",[e=>a=e]]]],["./make-function-constructor.js",[["makeFunctionConstructor",[e=>i=e]]]],["./whitelist.js",[["constantProperties",[e=>c=e]],["universalPropertyNames",[e=>l=e]]]]]),r.setGlobalObjectConstantProperties((e=>{for(const[t,r]of s(c))o(e,t,{value:r,writable:!1,enumerable:!1,configurable:!1})})),r.setGlobalObjectMutableProperties(((e,{intrinsics:t,newGlobalPropertyNames:r,makeCompartmentConstructor:c,safeEvaluate:p,markVirtualizedNativeFunction:m})=>{for(const[r,a]of s(l))n(t,a)&&o(e,r,{value:t[a],writable:!0,enumerable:!1,configurable:!0});for(const[a,i]of s(r))n(t,i)&&o(e,a,{value:t[i],writable:!0,enumerable:!1,configurable:!0});const u={globalThis:e,eval:a(p),Function:i(p)};u.Compartment=c(c,t,m);for(const[t,r]of s(u))o(e,t,{value:r,writable:!0,enumerable:!1,configurable:!0}),"function"==typeof r&&m(r)}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d,E,P,w,b;e([["./commons.js",[["ReferenceError",[e=>o=e]],["TypeError",[e=>n=e]],["Map",[e=>s=e]],["Set",[e=>a=e]],["arrayJoin",[e=>i=e]],["arrayMap",[e=>c=e]],["arrayPush",[e=>l=e]],["create",[e=>p=e]],["freeze",[e=>m=e]],["mapGet",[e=>u=e]],["mapHas",[e=>y=e]],["mapSet",[e=>f=e]],["setAdd",[e=>g=e]],["promiseCatch",[e=>d=e]],["promiseThen",[e=>E=e]],["values",[e=>P=e]],["weakmapGet",[e=>w=e]]]],["./error/assert.js",[["assert",[e=>b=e]]]]]);const{details:h,quote:S}=b,v=()=>{};r.makeAlias(((e,t)=>m({compartment:e,specifier:t})));const k=async(e,t,r,o,n,s,a,i)=>{const{resolveHook:c,moduleRecords:u}=w(e,r),y=((e,t,r)=>{const o=p(null);for(const n of e){const e=t(n,r);o[n]=e}return m(o)})(n.imports,c,o),d=m({compartment:r,staticModuleRecord:n,moduleSpecifier:o,resolvedImports:y});for(const o of P(y)){const n=j(e,t,r,o,s,a,i);g(s,E(n,v,(e=>{l(i,e)})))}return f(u,o,d),d},j=async(e,t,r,a,i,c,l)=>{const{name:p}=w(e,r);let m=u(c,r);void 0===m&&(m=new s,f(c,r,m));let g=u(m,a);return void 0!==g||(g=d((async(e,t,r,s,a,i,c)=>{const{importHook:l,moduleMap:p,moduleMapHook:m,moduleRecords:g}=w(e,r);let d=p[s];if(void 0===d&&void 0!==m&&(d=m(s)),"string"==typeof d)b.fail(h`Cannot map module ${S(s)} to ${S(d)} in parent compartment, not yet implemented`,n);else if(void 0!==d){const r=w(t,d);void 0===r&&b.fail(h`Cannot map module ${S(s)} because the value is not a module exports namespace, or is from another realm`,o);const n=await j(e,t,r.compartment,r.specifier,a,i,c);return f(g,s,n),n}if(y(g,s))return u(g,s);const E=await l(s);if(null!==E&&"object"==typeof E||b.fail(h`importHook must return a promise for an object, for module ${S(s)} in compartment ${S(r.name)}`),void 0!==E.record){const{compartment:o=r,specifier:n=s,record:l}=E,p=await k(e,t,o,n,l,a,i,c);return f(g,s,p),p}return k(e,t,r,s,E,a,i,c)})(e,t,r,a,i,c,l),(e=>{throw b.note(e,h`${e.message}, loading ${S(a)} in compartment ${S(p)}`),e})),f(m,a,g)),g};r.load((async(e,t,r,o)=>{const{name:p}=w(e,r),m=new a,u=new s,y=[],f=j(e,t,r,o,m,u,y);g(m,E(f,v,(e=>{l(y,e)})));for(const e of m)await e;if(y.length>0)throw new n(`Failed to load module ${S(o)} in package ${S(p)} (${y.length} underlying failures: ${i(c(y,(e=>e.message)),", ")}`)}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d,E,P;e([["./module-load.js",[["makeAlias",[e=>o=e]]]],["./commons.js",[["Proxy",[e=>n=e]],["TypeError",[e=>s=e]],["create",[e=>a=e]],["freeze",[e=>i=e]],["mapGet",[e=>c=e]],["mapHas",[e=>l=e]],["mapSet",[e=>p=e]],["ownKeys",[e=>m=e]],["reflectGet",[e=>u=e]],["reflectGetOwnPropertyDescriptor",[e=>y=e]],["reflectHas",[e=>f=e]],["reflectIsExtensible",[e=>g=e]],["reflectPreventExtensions",[e=>d=e]],["weakmapSet",[e=>E=e]]]],["./error/assert.js",[["assert",[e=>P=e]]]]]);const{quote:w}=P,b=()=>{let e=!1;const t=a(null);return i({activate(){e=!0},proxiedExports:t,exportsProxy:new n(t,{get(r,o,n){if(!e)throw new s(`Cannot get property ${w(o)} of module exports namespace, the module has not yet begun to execute`);return u(t,o,n)},set(e,t,r){throw new s(`Cannot set property ${w(t)} of module exports namespace`)},has(r,o){if(!e)throw new s(`Cannot check property ${w(o)}, the module has not yet begun to execute`);return f(t,o)},deleteProperty(e,t){throw new s(`Cannot delete property ${w(t)}s of module exports namespace`)},ownKeys(r){if(!e)throw new s("Cannot enumerate keys, the module has not yet begun to execute");return m(t)},getOwnPropertyDescriptor(r,o){if(!e)throw new s(`Cannot get own property descriptor ${w(o)}, the module has not yet begun to execute`);return y(t,o)},preventExtensions(r){if(!e)throw new s("Cannot prevent extensions of module exports namespace, the module has not yet begun to execute");return d(t)},isExtensible(){if(!e)throw new s("Cannot check extensibility of module exports namespace, the module has not yet begun to execute");return g(t)},getPrototypeOf:e=>null,setPrototypeOf(e,t){throw new s("Cannot set prototype of module exports namespace")},defineProperty(e,t,r){throw new s(`Cannot define property ${w(t)} of module exports namespace`)},apply(e,t,r){throw new s("Cannot call module exports namespace, it is not a function")},construct(e,t){throw new s("Cannot construct module exports namespace, it is not a constructor")}})})};r.deferExports(b),r.getDeferredExports(((e,t,r,n)=>{const{deferredExports:s}=t;if(!l(s,n)){const t=b();E(r,t.exportsProxy,o(e,n)),p(s,n,t)}return c(s,n)}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d,E,P,w,b,h;e([["./error/assert.js",[["assert",[e=>o=e]]]],["./module-proxy.js",[["getDeferredExports",[e=>n=e]]]],["./commons.js",[["ReferenceError",[e=>s=e]],["SyntaxError",[e=>a=e]],["TypeError",[e=>i=e]],["arrayForEach",[e=>c=e]],["arrayIncludes",[e=>l=e]],["arrayPush",[e=>p=e]],["arraySome",[e=>m=e]],["arraySort",[e=>u=e]],["create",[e=>y=e]],["defineProperty",[e=>f=e]],["entries",[e=>g=e]],["freeze",[e=>d=e]],["isArray",[e=>E=e]],["keys",[e=>P=e]],["mapGet",[e=>w=e]],["weakmapGet",[e=>b=e]]]],["./compartment-evaluate.js",[["compartmentEvaluate",[e=>h=e]]]]]);const{quote:S}=o;r.makeThirdPartyModuleInstance(((e,t,r,o,s,a)=>{const{exportsProxy:l,proxiedExports:u,activate:g}=n(r,b(e,r),o,s),P=y(null);if(t.exports){if(!E(t.exports)||m(t.exports,(e=>"string"!=typeof e)))throw new i('SES third-party static module record "exports" property must be an array of strings for module '+s);c(t.exports,(e=>{let t=u[e];const r=[];f(u,e,{get:()=>t,set:e=>{t=e;for(const t of r)t(e)},enumerable:!0,configurable:!1}),P[e]=e=>{p(r,e),e(t)}}))}let w=!1;return d({notifiers:P,exportsProxy:l,execute(){w||(g(),w=!0,t.execute(u,r,a))}})})),r.makeModuleInstance(((e,t,r,o)=>{const{compartment:m,moduleSpecifier:E,staticModuleRecord:v}=r,{reexports:k=[],__syncModuleProgram__:j,__fixedExportMap__:A={},__liveExportMap__:T={}}=v,x=b(e,m),{__shimTransforms__:I}=x,{exportsProxy:O,proxiedExports:_,activate:C}=n(m,x,t,E),F=y(null),V=y(null),N=y(null),R=y(null),M=y(null),$=y(null);function L(e){const t=y(null);t.default=!1;for(const[r,n]of e){const e=w(o,r);e.execute();const{notifiers:s}=e;for(const[e,t]of n){const o=s[e];if(!o)throw a(`The requested module '${r}' does not provide an export named '${e}'`);for(const e of t)o(e)}if(l(k,r))for(const[e,r]of g(s))void 0===t[e]?t[e]=r:t[e]=!1}for(const[e,r]of g(t))if(!$[e]&&!1!==r){let t;$[e]=r,r((e=>t=e)),F[e]={get:()=>t,set:void 0,enumerable:!0,configurable:!1}}c(u(P(F)),(e=>f(_,e,F[e]))),d(_),C()}c(g(A),(([e,[t]])=>{let r=M[t];if(!r){let e,o=!0,n=[];const a=()=>{if(o)throw new s(`binding ${S(t)} not yet initialized`);return e},c=d((r=>{if(!o)throw new i(`Internal: binding ${S(t)} already initialized`);e=r;const s=n;n=null,o=!1;for(const e of s)e(r);return r}));r={get:a,notify:t=>{t!==c&&(o?p(n,t):t(e))}},M[t]=r,N[t]=c}F[e]={get:r.get,set:void 0,enumerable:!0,configurable:!1},$[e]=r.notify})),c(g(T),(([e,[t,r]])=>{let o=M[t];if(!o){let n,a=!0;const i=[],c=()=>{if(a)throw new s(`binding ${S(e)} not yet initialized`);return n},l=d((e=>{n=e,a=!1;for(const t of i)t(e)})),m=e=>{if(a)throw new s(`binding ${S(t)} not yet initialized`);n=e;for(const t of i)t(e)};o={get:c,notify:e=>{e!==l&&(p(i,e),a||e(n))}},M[t]=o,r&&f(V,t,{get:c,set:m,enumerable:!0,configurable:!1}),R[t]=l}F[e]={get:o.get,set:void 0,enumerable:!0,configurable:!1},$[e]=o.notify})),$["*"]=e=>{e(_)};let G,D=h(x,j,{globalObject:m.globalThis,transforms:I,__moduleShimLexicals__:V}),U=!1;return d({notifiers:$,exportsProxy:O,execute:function(){if(D){const e=D;D=null;try{e(d({imports:d(L),onceVar:d(N),liveVar:d(R)}))}catch(e){U=!0,G=e}}if(U)throw G}})}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g;e([["./error/assert.js",[["assert",[e=>o=e]]]],["./module-instance.js",[["makeModuleInstance",[e=>n=e]],["makeThirdPartyModuleInstance",[e=>s=e]]]],["./commons.js",[["Map",[e=>a=e]],["ReferenceError",[e=>i=e]],["TypeError",[e=>c=e]],["entries",[e=>l=e]],["isArray",[e=>p=e]],["isObject",[e=>m=e]],["mapGet",[e=>u=e]],["mapHas",[e=>y=e]],["mapSet",[e=>f=e]],["weakmapGet",[e=>g=e]]]]]);const{quote:d}=o,E=(e,t,r,o)=>{const{name:n,moduleRecords:s}=g(e,r),a=u(s,o);if(void 0===a)throw new i(`Missing link to module ${d(o)} from compartment ${d(n)}`);return P(e,t,a)};r.link(E);const P=(e,t,r)=>{const{compartment:i,moduleSpecifier:P,resolvedImports:w,staticModuleRecord:b}=r,{instances:h}=g(e,i);if(y(h,P))return u(h,P);!function(e,t){o(m(e),`Static module records must be of type object, got ${d(e)}, for module ${d(t)}`);const{imports:r,exports:n,reexports:s=[]}=e;o(p(r),`Property 'imports' of a static module record must be an array, got ${d(r)}, for module ${d(t)}`),o(p(n),`Property 'exports' of a precompiled module record must be an array, got ${d(n)}, for module ${d(t)}`),o(p(s),`Property 'reexports' of a precompiled module record must be an array if present, got ${d(s)}, for module ${d(t)}`)}(b,P);const S=new a;let v;if(function(e){return"string"==typeof e.__syncModuleProgram__}(b))!function(e,t){const{__fixedExportMap__:r,__liveExportMap__:n}=e;o(m(r),`Property '__fixedExportMap__' of a precompiled module record must be an object, got ${d(r)}, for module ${d(t)}`),o(m(n),`Property '__liveExportMap__' of a precompiled module record must be an object, got ${d(n)}, for module ${d(t)}`)}(b,P),v=n(e,t,r,S);else{if(!function(e){return"function"==typeof e.execute}(b))throw new c("importHook must return a static module record, got "+d(b));!function(e,t){const{exports:r}=e;o(p(r),`Property 'exports' of a third-party static module record must be an array, got ${d(r)}, for module ${d(t)}`)}(b,P),v=s(e,b,i,t,P,w)}f(h,P,v);for(const[r,o]of l(w)){const n=E(e,t,i,o);f(S,r,n)}return v};r.instantiate(P)},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d,E,P,w,b,h,S,v,k,j,A,T,x;e([["./commons.js",[["Map",[e=>o=e]],["ReferenceError",[e=>n=e]],["TypeError",[e=>s=e]],["WeakMap",[e=>a=e]],["WeakSet",[e=>i=e]],["arrayFilter",[e=>c=e]],["arrayJoin",[e=>l=e]],["assign",[e=>p=e]],["defineProperties",[e=>m=e]],["entries",[e=>u=e]],["freeze",[e=>y=e]],["getOwnPropertyNames",[e=>f=e]],["promiseThen",[e=>g=e]],["weakmapGet",[e=>d=e]],["weakmapSet",[e=>E=e]],["weaksetHas",[e=>P=e]]]],["./global-object.js",[["setGlobalObjectConstantProperties",[e=>w=e]],["setGlobalObjectMutableProperties",[e=>b=e]]]],["./scope-constants.js",[["isValidIdentifierName",[e=>h=e]]]],["./whitelist.js",[["sharedGlobalPropertyNames",[e=>S=e]]]],["./module-load.js",[["load",[e=>v=e]]]],["./module-link.js",[["link",[e=>k=e]]]],["./module-proxy.js",[["getDeferredExports",[e=>j=e]]]],["./error/assert.js",[["assert",[e=>A=e]]]],["./compartment-evaluate.js",[["compartmentEvaluate",[e=>T=e]]]],["./make-safe-evaluator.js",[["makeSafeEvaluator",[e=>x=e]]]]]);const{quote:I}=A,O=new a,_=new a,C=e=>{const{importHook:t,resolveHook:r}=d(_,e);if("function"!=typeof t||"function"!=typeof r)throw new s("Compartment must be constructed with an importHook and a resolveHook for it to be able to load modules")},F=function(e={},t={},r={}){throw new s("Compartment.prototype.constructor is not a valid constructor.")};r.InertCompartment(F);const V=(e,t)=>{const{execute:r,exportsProxy:o}=k(_,O,e,t);return r(),o},N={constructor:F,get globalThis(){return d(_,this).globalObject},get name(){return d(_,this).name},evaluate(e,t={}){const r=d(_,this);return T(r,e,t)},toString:()=>"[object Compartment]",__isKnownScopeProxy__(e){const{knownScopeProxies:t}=d(_,this);return P(t,e)},module(e){if("string"!=typeof e)throw new s("first argument of module() must be a string");C(this);const{exportsProxy:t}=j(this,d(_,this),O,e);return t},async import(e){if("string"!=typeof e)throw new s("first argument of import() must be a string");return C(this),g(v(_,O,this,e),(()=>({namespace:V(this,e)})))},async load(e){if("string"!=typeof e)throw new s("first argument of load() must be a string");return C(this),v(_,O,this,e)},importNow(e){if("string"!=typeof e)throw new s("first argument of importNow() must be a string");return C(this),V(this,e)}};r.CompartmentPrototype(N),m(F,{prototype:{value:N}}),r.makeCompartmentConstructor(((e,t,r)=>{function a(a={},m={},g={}){if(void 0===new.target)throw new s("Class constructor Compartment cannot be invoked without 'new'");const{name:P="<unknown>",transforms:v=[],__shimTransforms__:k=[],globalLexicals:j={},resolveHook:A,importHook:T,moduleMapHook:C}=g,F=[...v,...k],V=new o,N=new o,R=new o;for(const[e,t]of u(m||{})){if("string"==typeof t)throw new s(`Cannot map module ${I(e)} to ${I(t)} in parent compartment`);if(void 0===d(O,t))throw n(`Cannot map module ${I(e)} because it has no known compartment in this realm`)}const M=c(f(j),(e=>!h(e)));if(M.length)throw new s(`Cannot create compartment with invalid names for global lexicals: ${l(M,", ")}; these names would not be lexically mentionable`);const $=y({...j}),L={};w(L);const G=new i,{safeEvaluate:D}=x({globalObject:L,localObject:$,globalTransforms:F,sloppyGlobalsMode:!1,knownScopeProxies:G});b(L,{intrinsics:t,newGlobalPropertyNames:S,makeCompartmentConstructor:e,safeEvaluate:D,markVirtualizedNativeFunction:r}),p(L,a),E(_,this,{name:P,globalTransforms:F,globalObject:L,knownScopeProxies:G,globalLexicals:$,safeEvaluate:D,resolveHook:A,importHook:T,moduleMap:m,moduleMapHook:C,moduleRecords:V,__shimTransforms__:k,deferredExports:R,instances:N})}return a.prototype=N,a}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d,E,P,w,b;e([["./commons.js",[["TypeError",[e=>o=e]],["WeakSet",[e=>n=e]],["arrayFilter",[e=>s=e]],["defineProperty",[e=>a=e]],["entries",[e=>i=e]],["freeze",[e=>c=e]],["getOwnPropertyDescriptor",[e=>l=e]],["getOwnPropertyDescriptors",[e=>p=e]],["globalThis",[e=>m=e]],["is",[e=>u=e]],["isObject",[e=>y=e]],["objectHasOwnProperty",[e=>f=e]],["values",[e=>g=e]],["weaksetHas",[e=>d=e]]]],["./whitelist.js",[["constantProperties",[e=>E=e]],["sharedGlobalPropertyNames",[e=>P=e]],["universalPropertyNames",[e=>w=e]],["whitelist",[e=>b=e]]]]]);const h=e=>"function"==typeof e;function S(e,t,r){if(f(e,t)){const n=l(e,t);if(!u(n.value,r.value)||n.get!==r.get||n.set!==r.set||n.writable!==r.writable||n.enumerable!==r.enumerable||n.configurable!==r.configurable)throw new o("Conflicting definitions of "+t)}a(e,t,r)}function v(e,t){const r={__proto__:null};for(const[o,n]of i(t))f(e,o)&&(r[n]=e[o]);return r}const k=()=>{const e={__proto__:null};let t;const r=t=>{!function(e,t){for(const[r,o]of i(t))S(e,r,o)}(e,p(t))};c(r);const a=()=>{for(const[t,r]of i(e)){if(!y(r))continue;if(!f(r,"prototype"))continue;const n=b[t];if("object"!=typeof n)throw new o("Expected permit object at whitelist."+t);const s=n.prototype;if(!s)throw new o(t+".prototype property not whitelisted");if("string"!=typeof s||!f(b,s))throw new o(`Unrecognized ${t}.prototype whitelist entry`);const a=r.prototype;if(f(e,s)){if(e[s]!==a)throw new o("Conflicting bindings of "+s)}else e[s]=a}};c(a);const l=()=>(c(e),t=new n(s(g(e),h)),e);c(l);const u=e=>{if(!t)throw new o("isPseudoNative can only be called after finalIntrinsics");return d(t,e)};c(u);const P={addIntrinsics:r,completePrototypes:a,finalIntrinsics:l,isPseudoNative:u};return c(P),r(E),r(v(m,w)),P};r.makeIntrinsicsCollector(k),r.getGlobalIntrinsics((e=>{const{addIntrinsics:t,finalIntrinsics:r}=k();return t(v(e,P)),r()}))},({imports:e,liveVar:t,onceVar:r})=>{e([]),r.minEnablements({"%ObjectPrototype%":{toString:!0},"%FunctionPrototype%":{toString:!0},"%ErrorPrototype%":{name:!0}});const o={"%ObjectPrototype%":{toString:!0,valueOf:!0},"%ArrayPrototype%":{toString:!0,push:!0},"%FunctionPrototype%":{constructor:!0,bind:!0,toString:!0},"%ErrorPrototype%":{constructor:!0,message:!0,name:!0,toString:!0},"%TypeErrorPrototype%":{constructor:!0,message:!0,name:!0},"%SyntaxErrorPrototype%":{message:!0,name:!0},"%RangeErrorPrototype%":{message:!0,name:!0},"%URIErrorPrototype%":{message:!0,name:!0},"%EvalErrorPrototype%":{message:!0,name:!0},"%ReferenceErrorPrototype%":{message:!0,name:!0},"%PromisePrototype%":{constructor:!0},"%TypedArrayPrototype%":"*","%Generator%":{constructor:!0,name:!0,toString:!0},"%IteratorPrototype%":{toString:!0}};r.moderateEnablements(o);const n={...o,"%ObjectPrototype%":"*","%TypedArrayPrototype%":"*"};r.severeEnablements(n)},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d,E;e([["./commons.js",[["Set",[e=>o=e]],["String",[e=>n=e]],["TypeError",[e=>s=e]],["arrayForEach",[e=>a=e]],["defineProperty",[e=>i=e]],["getOwnPropertyDescriptor",[e=>c=e]],["getOwnPropertyDescriptors",[e=>l=e]],["getOwnPropertyNames",[e=>p=e]],["isObject",[e=>m=e]],["objectHasOwnProperty",[e=>u=e]],["ownKeys",[e=>y=e]],["setHas",[e=>f=e]]]],["./enablements.js",[["minEnablements",[e=>g=e]],["moderateEnablements",[e=>d=e]],["severeEnablements",[e=>E=e]]]]]),r.default((function(e,t,r=[]){const P=new o(r);function w(e,t,r,o){if("value"in o&&o.configurable){const{value:a}=o;function c(){return a}i(c,"originalValue",{value:a,writable:!1,enumerable:!1,configurable:!1});const l=f(P,r);i(t,r,{get:c,set:function(o){if(t===this)throw new s(`Cannot assign to read only property '${n(r)}' of '${e}'`);u(this,r)?this[r]=o:(l&&console.error(new s("Override property "+r)),i(this,r,{value:o,writable:!0,enumerable:!0,configurable:!0}))},enumerable:o.enumerable,configurable:o.configurable})}}function b(e,t,r){const o=c(t,r);o&&w(e,t,r,o)}function h(e,t){const r=l(t);r&&a(y(r),(o=>w(e,t,o,r[o])))}let S;switch(t){case"min":S=g;break;case"moderate":S=d;break;case"severe":S=E;break;default:throw new s("unrecognized overrideTaming "+t)}!function e(t,r,o){for(const a of p(o)){const i=c(r,a);if(!i||i.get||i.set)continue;const l=`${t}.${n(a)}`,p=o[a];if(!0===p)b(l,r,a);else if("*"===p)h(l,i.value);else{if(!m(p))throw new s("Unexpected override enablement plan "+l);e(l,i.value,p)}}}("root",e,S)}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a;e([["./commons.js",[["arrayPush",[e=>o=e]],["arraySlice",[e=>n=e]],["freeze",[e=>s=e]]]],["./error/assert.js",[["assert",[e=>a=e]]]]]);const{details:i,quote:c}=a,l=e=>{const t=[],r=(r,n)=>{a.typeof(r,"string",i`Environment option name ${c(r)} must be a string.`),a.typeof(n,"string",i`Environment option default setting ${c(n)} must be a string.`);let s=n;const l=e.process;if(l&&"object"==typeof l){const e=l.env;if(e&&"object"==typeof e&&r in e){o(t,r);const n=e[r];a.typeof(n,"string",i`Environment option named ${c(r)}, if present, must have a corresponding string value, got ${c(n)}`),s=n}}return a(void 0===s||"string"==typeof s,i`Environment option value ${c(s)}, if present, must be a string.`),s};s(r);const l=()=>s(n(t));return s(l),{getEnvironmentOption:r,getCapturedEnvironmentOptionNames:l}};r.makeEnvironmentCaptor(l),s(l)},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y;e([["../commons.js",[["WeakSet",[e=>o=e]],["arrayFilter",[e=>n=e]],["arrayMap",[e=>s=e]],["arrayPush",[e=>a=e]],["defineProperty",[e=>i=e]],["freeze",[e=>c=e]],["fromEntries",[e=>l=e]],["isError",[e=>p=e]],["stringEndsWith",[e=>m=e]],["weaksetAdd",[e=>u=e]],["weaksetHas",[e=>y=e]]]],["./types.js",[]],["./internal-types.js",[]]]);const f=c([["debug","debug"],["log","log"],["info","info"],["warn","warn"],["error","error"],["trace","log"],["dirxml","log"],["group","log"],["groupCollapsed","log"]]),g=c([["assert","error"],["timeLog","log"],["clear",void 0],["count","info"],["countReset",void 0],["dir","log"],["groupEnd","log"],["table","log"],["time","info"],["timeEnd","info"],["profile",void 0],["profileEnd",void 0],["timeStamp",void 0]]),d=c([...f,...g]);r.consoleWhitelist(d);const E=(e,{shouldResetForDebugging:t=!1}={})=>{t&&e.resetErrorTagNum();let r=[];const o=l(s(d,(([e,t])=>{const o=(...t)=>{a(r,[e,...t])};return i(o,"name",{value:e}),[e,c(o)]})));c(o);const n=()=>{const e=c(r);return r=[],e};return c(n),c({loggingConsole:o,takeLog:n})};r.makeLoggingConsoleKit(E),c(E);const P={NOTE:"ERROR_NOTE:",MESSAGE:"ERROR_MESSAGE:"};c(P),r.BASE_CONSOLE_LEVEL("debug");const w=(e,t)=>{const{getStackString:r,tagError:d,takeMessageLogArgs:E,takeNoteLogArgsArray:w}=t,b=(e,t)=>s(e,(e=>p(e)?(a(t,e),`(${d(e)})`):e)),h=(t,r,o,n)=>{const s=d(t),a=r===P.MESSAGE?s+":":`${s} ${r}`,i=b(o,n);e.debug(a,...i)},S=(t,r)=>{if(0===t.length)return;if(1===t.length&&void 0===r)return void j(t[0]);let o;o=1===t.length?"Nested error":`Nested ${t.length} errors`,void 0!==r&&(o=`${o} under ${r}`),e.group(o);try{for(const e of t)j(e)}finally{e.groupEnd()}},v=new o,k=(e,t)=>{const r=[];h(e,P.NOTE,t,r),S(r,d(e))},j=t=>{if(y(v,t))return;const o=d(t);u(v,t);const n=[],s=E(t),a=w(t,k);void 0===s?e.debug(o+":",t.message):h(t,P.MESSAGE,s,n);let i=r(t);"string"==typeof i&&i.length>=1&&!m(i,"\n")&&(i+="\n"),e.debug(i);for(const e of a)h(t,P.NOTE,e,n);S(n,o)},A=s(f,(([t,r])=>{const o=(...r)=>{const o=[],n=b(r,o);e[t](...n),S(o)};return i(o,"name",{value:t}),[t,c(o)]})),T=n(g,(([t,r])=>t in e)),x=s(T,(([t,r])=>{const o=(...r)=>{e[t](...r)};return i(o,"name",{value:t}),[t,c(o)]})),I=l([...A,...x]);return c(I)};r.makeCausalConsole(w),c(w);const b=(e,t,r)=>{const o=n(d,(([t,r])=>t in e)),a=s(o,(([r,o])=>[r,c(((...n)=>{(void 0===o||t.canLog(o))&&e[r](...n)}))])),i=l(a);return c(i)};r.filterConsole(b),c(b)},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a;e([["../commons.js",[["TypeError",[e=>o=e]],["globalThis",[e=>n=e]]]],["./assert.js",[["loggedErrorHandler",[e=>s=e]]]],["./console.js",[["makeCausalConsole",[e=>a=e]]]],["./types.js",[]],["./internal-types.js",[]]]);const i=console;r.tameConsole(((e="safe",t="platform",r)=>{if("safe"!==e&&"unsafe"!==e)throw new o("unrecognized consoleTaming "+e);if("unsafe"===e)return{console:i};let c;c=void 0===r?s:{...s,getStackString:r};const l=a(i,c);return"none"!==t&&void 0!==n.process&&n.process.on("uncaughtException",(e=>{l.error(e),"platform"===t||"exit"===t?n.process.exit(n.process.exitCode||-1):"abort"===t&&n.process.abort()})),"none"!==t&&void 0!==n.window&&void 0!==n.window.addEventListener&&n.window.addEventListener("error",(e=>{e.preventDefault(),l.error(e.error),"exit"!==t&&"abort"!==t||(n.window.location.href="about:blank")})),{console:l}}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d,E,P,w,b;e([["../commons.js",[["WeakMap",[e=>o=e]],["WeakSet",[e=>n=e]],["apply",[e=>s=e]],["arrayFilter",[e=>a=e]],["arrayJoin",[e=>i=e]],["arrayMap",[e=>c=e]],["arraySlice",[e=>l=e]],["create",[e=>p=e]],["defineProperties",[e=>m=e]],["fromEntries",[e=>u=e]],["reflectSet",[e=>y=e]],["regexpExec",[e=>f=e]],["regexpTest",[e=>g=e]],["weakmapGet",[e=>d=e]],["weakmapHas",[e=>E=e]],["weakmapSet",[e=>P=e]],["weaksetAdd",[e=>w=e]],["weaksetHas",[e=>b=e]]]]]);const h=["getTypeName","getFunctionName","getMethodName","getFileName","getLineNumber","getColumnNumber","getEvalOrigin","isToplevel","isEval","isNative","isConstructor","isAsync","getPosition","getScriptNameOrSourceURL","toString"],S=e=>{const t=u(c(h,(t=>{const r=e[t];return[t,()=>s(r,e,[])]})));return p(t,{})},v=[/\/node_modules\//,/^(?:node:)?internal\//,/\/packages\/ses\/src\/error\/assert.js$/,/\/packages\/eventual-send\/src\//],k=e=>{if(!e)return!0;for(const t of v)if(g(t,e))return!1;return!0};r.filterFileName(k);const j=[/^((?:.*[( ])?)[:/\w_-]*\/\.\.\.\/(.+)$/,/^((?:.*[( ])?)[:/\w_-]*\/(packages\/.+)$/],A=e=>{for(const t of j){const r=f(t,e);if(r)return i(l(r,1),"")}return e};r.shortenCallSiteString(A),r.tameV8ErrorConstructor(((e,t,r,l)=>{const p=e.captureStackTrace,u=e=>"verbose"===l||k(e.getFileName()),f=e=>{let t=""+e;return"concise"===l&&(t=A(t)),"\n  at "+t},g=(e,t)=>i(c(a(t,u),f),""),h=new o,v={captureStackTrace(t,r=v.captureStackTrace){"function"!=typeof p?y(t,"stack",""):s(p,e,[t,r])},getStackString(e){E(h,e)||e.stack;const t=d(h,e);return t?g(0,t):""},prepareStackTrace:(e,t)=>(P(h,e,t),"unsafe"===r?`${e}${g(0,t)}`:"")},j=v.prepareStackTrace;e.prepareStackTrace=j;const T=new n([j]);return m(t,{captureStackTrace:{value:v.captureStackTrace,writable:!0,enumerable:!1,configurable:!0},prepareStackTrace:{get:()=>e.prepareStackTrace,set(t){if("function"==typeof t){const r=(e=>{if(b(T,e))return e;const t={prepareStackTrace:(t,r)=>(P(h,t,r),e(t,(e=>c(e,S))(r)))};return w(T,t.prepareStackTrace),t.prepareStackTrace})(t);e.prepareStackTrace=r}else e.prepareStackTrace=j},enumerable:!1,configurable:!0}}),v.getStackString}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m;e([["../commons.js",[["FERAL_ERROR",[e=>o=e]],["TypeError",[e=>n=e]],["apply",[e=>s=e]],["construct",[e=>a=e]],["defineProperties",[e=>i=e]],["setPrototypeOf",[e=>c=e]],["getOwnPropertyDescriptor",[e=>l=e]]]],["../whitelist.js",[["NativeErrors",[e=>p=e]]]],["./tame-v8-error-constructor.js",[["tameV8ErrorConstructor",[e=>m=e]]]]]);const u=l(o.prototype,"stack"),y=u&&u.get,f=e=>"function"==typeof y?s(y,e,[]):"stack"in e?""+e.stack:"";r.default((function(e="safe",t="concise"){if("safe"!==e&&"unsafe"!==e)throw new n("unrecognized errorTaming "+e);if("concise"!==t&&"verbose"!==t)throw new n("unrecognized stackFiltering "+t);const r=o.prototype,l="function"==typeof o.captureStackTrace?"v8":"unknown",{captureStackTrace:u}=o,y=(e={})=>{const t=function(...e){let r;return r=void 0===new.target?s(o,this,e):a(o,e,new.target),"v8"===l&&s(u,o,[r,t]),r};return i(t,{length:{value:1},prototype:{value:r,writable:!1,enumerable:!1,configurable:!1}}),t},g=y({powers:"original"}),d=y({powers:"none"});i(r,{constructor:{value:d}});for(const e of p)c(e,d);i(g,{stackTraceLimit:{get(){if("number"==typeof o.stackTraceLimit)return o.stackTraceLimit},set(e){"number"==typeof e&&("number"!=typeof o.stackTraceLimit||(o.stackTraceLimit=e))},enumerable:!1,configurable:!0}}),i(d,{stackTraceLimit:{get(){},set(e){},enumerable:!1,configurable:!0}});let E=f;return"v8"===l&&(E=m(o,g,e,t)),{"%InitialGetStackString%":E,"%InitialError%":g,"%SharedError%":d}}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d,E;function P(e){return l(e).constructor}e([["./commons.js",[["FERAL_FUNCTION",[e=>o=e]],["Float32Array",[e=>n=e]],["Map",[e=>s=e]],["Set",[e=>a=e]],["String",[e=>i=e]],["getOwnPropertyDescriptor",[e=>c=e]],["getPrototypeOf",[e=>l=e]],["iterateArray",[e=>p=e]],["iterateMap",[e=>m=e]],["iterateSet",[e=>u=e]],["iterateString",[e=>y=e]],["matchAllRegExp",[e=>f=e]],["matchAllSymbol",[e=>g=e]],["regexpPrototype",[e=>d=e]]]],["./compartment-shim.js",[["InertCompartment",[e=>E=e]]]]]),r.getAnonymousIntrinsics((()=>{const e=o.prototype.constructor,t=c(function(){return arguments}(),"callee").get,r=y(new i),w=l(r),b=d[g]&&f(/./),h=b&&l(b),S=p([]),v=l(S),k=l(n),j=m(new s),A=l(j),T=u(new a),x=l(T),I=l(v),O=P((function*(){})),_=O.prototype,C=P((async function*(){})),F=C.prototype,V=F.prototype,N=l(V);return{"%InertFunction%":e,"%ArrayIteratorPrototype%":v,"%InertAsyncFunction%":P((async function(){})),"%AsyncGenerator%":F,"%InertAsyncGeneratorFunction%":C,"%AsyncGeneratorPrototype%":V,"%AsyncIteratorPrototype%":N,"%Generator%":_,"%InertGeneratorFunction%":O,"%IteratorPrototype%":I,"%MapIteratorPrototype%":A,"%RegExpStringIteratorPrototype%":h,"%SetIteratorPrototype%":x,"%StringIteratorPrototype%":w,"%ThrowTypeError%":t,"%TypedArray%":k,"%InertCompartment%":E}}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d,E,P,w,b,h;e([["./commons.js",[["Set",[e=>o=e]],["String",[e=>n=e]],["TypeError",[e=>s=e]],["WeakMap",[e=>a=e]],["WeakSet",[e=>i=e]],["arrayForEach",[e=>c=e]],["freeze",[e=>l=e]],["getOwnPropertyDescriptors",[e=>p=e]],["getPrototypeOf",[e=>m=e]],["isObject",[e=>u=e]],["objectHasOwnProperty",[e=>y=e]],["ownKeys",[e=>f=e]],["setAdd",[e=>g=e]],["setForEach",[e=>d=e]],["setHas",[e=>E=e]],["weakmapGet",[e=>P=e]],["weakmapSet",[e=>w=e]],["weaksetAdd",[e=>b=e]],["weaksetHas",[e=>h=e]]]]]),r.makeHardener((()=>{const e=new i,{harden:t}={harden(t){const r=new o,i=new a;function S(t,o){if(!u(t))return;const n=typeof t;if("object"!==n&&"function"!==n)throw new s("Unexpected typeof: "+n);h(e,t)||E(r,t)||(g(r,t),w(i,t,o))}return S(t),d(r,(function(e){l(e);const t=P(i,e)||"unknown",r=p(e);S(m(e),t+".__proto__"),c(f(r),(e=>{const o=`${t}.${n(e)}`,s=r[e];y(s,"value")?S(s.value,""+o):(S(s.get,o+"(get)"),S(s.set,o+"(set)"))}))})),d(r,(function(t){b(e,t)})),t}};return t}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i;e([["./commons.js",[["Date",[e=>o=e]],["TypeError",[e=>n=e]],["apply",[e=>s=e]],["construct",[e=>a=e]],["defineProperties",[e=>i=e]]]]]),r.default((function(e="safe"){if("safe"!==e&&"unsafe"!==e)throw new n("unrecognized dateTaming "+e);const t=o,r=t.prototype,c=({powers:e="none"}={})=>{let n;return n="original"===e?function(...e){return void 0===new.target?s(t,void 0,e):a(t,e,new.target)}:function(...e){return void 0===new.target?"Invalid Date":(0===e.length&&(e=[NaN]),a(t,e,new.target))},i(n,{length:{value:7},prototype:{value:r,writable:!1,enumerable:!1,configurable:!1},parse:{value:o.parse,writable:!0,enumerable:!1,configurable:!0},UTC:{value:o.UTC,writable:!0,enumerable:!1,configurable:!0}}),n},l=c({powers:"original"}),p=c({powers:"none"});return i(l,{now:{value:o.now,writable:!0,enumerable:!1,configurable:!0}}),i(p,{now:{value:()=>NaN,writable:!0,enumerable:!1,configurable:!0}}),i(r,{constructor:{value:p}}),{"%InitialDate%":l,"%SharedDate%":p}}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a;function i(e="safe"){if("safe"!==e&&"unsafe"!==e)throw new o("unrecognized domainTaming "+e);if("unsafe"!==e&&"object"==typeof n.process&&null!==n.process){const e=s(n.process,"domain");if(void 0!==e&&void 0!==e.get)throw new o("SES failed to lockdown, Node.js domains have been initialized (SES_NO_DOMAINS)");a(n.process,"domain",{value:null,configurable:!1,writable:!1,enumerable:!1})}}e([["./commons.js",[["TypeError",[e=>o=e]],["globalThis",[e=>n=e]],["getOwnPropertyDescriptor",[e=>s=e]],["defineProperty",[e=>a=e]]]]]),Object.defineProperty(i,"name",{value:"tameDomains"}),r.tameDomains(i)},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c;e([["./commons.js",[["FERAL_FUNCTION",[e=>o=e]],["SyntaxError",[e=>n=e]],["TypeError",[e=>s=e]],["defineProperties",[e=>a=e]],["getPrototypeOf",[e=>i=e]],["setPrototypeOf",[e=>c=e]]]]]),r.default((function(){try{o.prototype.constructor("return 1")}catch(e){return{}}const e={};function t(t,r,l){let p;try{p=(0,eval)(l)}catch(e){if(e instanceof n)return;throw e}const m=i(p),u=function(){throw new s("Function.prototype.constructor is not a valid constructor.")};a(u,{prototype:{value:m},name:{value:t,writable:!1,enumerable:!1,configurable:!0}}),a(m,{constructor:{value:u}}),u!==o.prototype.constructor&&c(u,o.prototype.constructor),e[r]=u}return t("Function","%InertFunction%","(function(){})"),t("GeneratorFunction","%InertGeneratorFunction%","(function*(){})"),t("AsyncFunction","%InertAsyncFunction%","(async function(){})"),t("AsyncGeneratorFunction","%InertAsyncGeneratorFunction%","(async function*(){})"),e}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m;e([["./commons.js",[["WeakSet",[e=>o=e]],["defineProperty",[e=>n=e]],["freeze",[e=>s=e]],["functionPrototype",[e=>a=e]],["functionToString",[e=>i=e]],["stringEndsWith",[e=>c=e]],["weaksetAdd",[e=>l=e]],["weaksetHas",[e=>p=e]]]]]),r.tameFunctionToString((()=>{if(void 0===m){const e=new o;n(a,"toString",{value:{toString(){const t=i(this,[]);return c(t,") { [native code] }")||!p(e,this)?t:`function ${this.name}() { [native code] }`}}.toString}),m=s((t=>l(e,t)))}return m}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p;e([["./commons.js",[["Number",[e=>o=e]],["String",[e=>n=e]],["TypeError",[e=>s=e]],["defineProperty",[e=>a=e]],["getOwnPropertyNames",[e=>i=e]],["isObject",[e=>c=e]],["regexpExec",[e=>l=e]]]],["./error/assert.js",[["assert",[e=>p=e]]]]]);const{details:m,quote:u}=p,y=/^(\w*[a-z])Locale([A-Z]\w*)$/,f={localeCompare(e){if(null==this)throw new s('Cannot localeCompare with null or undefined "this" value');const t=""+this;return t<(e=""+e)?-1:t>e?1:(p(t===e,m`expected ${u(t)} and ${u(e)} to compare`),0)},toString(){return""+this}},g=f.localeCompare,d=f.toString;r.default((function(e,t="safe"){if("safe"!==t&&"unsafe"!==t)throw new s("unrecognized localeTaming "+t);if("unsafe"!==t){a(n.prototype,"localeCompare",{value:g});for(const t of i(e)){const r=e[t];if(c(r))for(const e of i(r)){const t=l(y,e);if(t){p("function"==typeof r[e],m`expected ${u(e)} to be a function`);const o=`${t[1]}${t[2]}`,n=r[o];p("function"==typeof n,m`function ${u(o)} not found`),a(r,e,{value:n})}}}a(o.prototype,"toLocaleString",{value:d})}}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i;e([["./commons.js",[["Math",[e=>o=e]],["TypeError",[e=>n=e]],["create",[e=>s=e]],["getOwnPropertyDescriptors",[e=>a=e]],["objectPrototype",[e=>i=e]]]]]),r.default((function(e="safe"){if("safe"!==e&&"unsafe"!==e)throw new n("unrecognized mathTaming "+e);const t=o,r=t,{random:c,...l}=a(t);return{"%InitialMath%":r,"%SharedMath%":s(i,l)}}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c;e([["./commons.js",[["FERAL_REG_EXP",[e=>o=e]],["TypeError",[e=>n=e]],["construct",[e=>s=e]],["defineProperties",[e=>a=e]],["getOwnPropertyDescriptor",[e=>i=e]],["speciesSymbol",[e=>c=e]]]]]),r.default((function(e="safe"){if("safe"!==e&&"unsafe"!==e)throw new n("unrecognized regExpTaming "+e);const t=o.prototype,r=(e={})=>{const r=function(...e){return void 0===new.target?o(...e):s(o,e,new.target)};return a(r,{length:{value:2},prototype:{value:t,writable:!1,enumerable:!1,configurable:!1},[c]:i(o,c)}),r},l=r(),p=r();return"unsafe"!==e&&delete t.compile,a(t,{constructor:{value:p}}),{"%InitialRegExp%":l,"%SharedRegExp%":p}}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f;function g(e,t){if("string"==typeof t)return t;if("symbol"==typeof t)return"@@"+f(a(t),14,-1);throw new i(`Unexpected property name type ${e} ${t}`)}e([["./whitelist.js",[["whitelist",[e=>o=e]],["FunctionInstance",[e=>n=e]],["isAccessorPermit",[e=>s=e]]]],["./commons.js",[["String",[e=>a=e]],["TypeError",[e=>i=e]],["arrayIncludes",[e=>c=e]],["getOwnPropertyDescriptor",[e=>l=e]],["getPrototypeOf",[e=>p=e]],["isObject",[e=>m=e]],["objectHasOwnProperty",[e=>u=e]],["ownKeys",[e=>y=e]],["stringSlice",[e=>f=e]]]]]),r.default((function(e,t){const r=["undefined","boolean","number","string","symbol"];function a(t,o,n,s){if("object"==typeof s)return E(t,o,s),!0;if(!1===s)return!1;if("string"==typeof s)if("prototype"===n||"constructor"===n){if(u(e,s)){if(o!==e[s])throw new i("Does not match whitelist "+t);return!0}}else if(c(r,s)){if(typeof o!==s)throw new i(`At ${t} expected ${s} not ${typeof o}`);return!0}throw new i(`Unexpected whitelist permit ${s} at ${t}`)}function f(e,t,r,o){const n=l(t,r);if(u(n,"value")){if(s(o))throw new i("Accessor expected at "+e);return a(e,n.value,r,o)}if(!s(o))throw new i("Accessor not expected at "+e);return a(e+"<get>",n.get,r,o.get)&&a(e+"<set>",n.set,r,o.set)}function d(e,r,o){const s="__proto__"===o?"--proto--":o;return u(r,s)?r[s]:"function"==typeof e&&(t(e),u(n,s))?n[s]:void 0}function E(t,r,o){if(void 0!==r){!function(t,r,o){if(!m(r))throw new i(`Object expected: ${t}, ${r}, ${o}`);const n=p(r);if(null!==n||null!==o){if(void 0!==o&&"string"!=typeof o)throw new i(`Malformed whitelist permit ${t}.__proto__`);if(n!==e[o||"%ObjectPrototype%"])throw new i(`Unexpected intrinsic ${t}.__proto__ at ${o}`)}}(t,r,o["[[Proto]]"]);for(const e of y(r)){const n=g(t,e),s=`${t}.${n}`,a=d(r,o,n);if(!a||!f(s,r,e,a)){!1!==a&&console.warn("Removing "+s);try{delete r[e]}catch(t){throw e in r?console.error("failed to delete "+s,t):console.error(`deleting ${s} threw`,t),t}}}}}E("intrinsics",e,o)}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d,E,P,w,b,h,S,v,k,j,A,T,x,I,O,_,C,F,V;e([["./commons.js",[["FERAL_FUNCTION",[e=>o=e]],["FERAL_EVAL",[e=>n=e]],["TypeError",[e=>s=e]],["arrayFilter",[e=>a=e]],["arrayMap",[e=>i=e]],["globalThis",[e=>c=e]],["is",[e=>l=e]],["ownKeys",[e=>p=e]],["stringSplit",[e=>m=e]]]],["./error/stringify-utils.js",[["enJoin",[e=>u=e]]]],["./make-hardener.js",[["makeHardener",[e=>y=e]]]],["./intrinsics.js",[["makeIntrinsicsCollector",[e=>f=e]]]],["./whitelist-intrinsics.js",[["default",[e=>g=e]]]],["./tame-function-constructors.js",[["default",[e=>d=e]]]],["./tame-date-constructor.js",[["default",[e=>E=e]]]],["./tame-math-object.js",[["default",[e=>P=e]]]],["./tame-regexp-constructor.js",[["default",[e=>w=e]]]],["./enable-property-overrides.js",[["default",[e=>b=e]]]],["./tame-locale-methods.js",[["default",[e=>h=e]]]],["./global-object.js",[["setGlobalObjectConstantProperties",[e=>S=e]],["setGlobalObjectMutableProperties",[e=>v=e]]]],["./make-safe-evaluator.js",[["makeSafeEvaluator",[e=>k=e]]]],["./whitelist.js",[["initialGlobalPropertyNames",[e=>j=e]]]],["./tame-function-tostring.js",[["tameFunctionToString",[e=>A=e]]]],["./tame-domains.js",[["tameDomains",[e=>T=e]]]],["./error/tame-console.js",[["tameConsole",[e=>x=e]]]],["./error/tame-error-constructor.js",[["default",[e=>I=e]]]],["./error/assert.js",[["assert",[e=>O=e]],["makeAssert",[e=>_=e]]]],["./environment-options.js",[["makeEnvironmentCaptor",[e=>C=e]]]],["./get-anonymous-intrinsics.js",[["getAnonymousIntrinsics",[e=>F=e]]]],["./compartment-shim.js",[["makeCompartmentConstructor",[e=>V=e]]]]]);const{details:N,quote:R}=O;let M;const $=y(),L=(e={})=>{const{getEnvironmentOption:t,getCapturedEnvironmentOptionNames:r}=C(c),{errorTaming:y=t("LOCKDOWN_ERROR_TAMING","safe"),errorTrapping:L=t("LOCKDOWN_ERROR_TRAPPING","platform"),regExpTaming:G=t("LOCKDOWN_REGEXP_TAMING","safe"),localeTaming:D=t("LOCKDOWN_LOCALE_TAMING","safe"),consoleTaming:U=t("LOCKDOWN_CONSOLE_TAMING","safe"),overrideTaming:H=t("LOCKDOWN_OVERRIDE_TAMING","moderate"),stackFiltering:W=t("LOCKDOWN_STACK_FILTERING","concise"),domainTaming:z=t("LOCKDOWN_DOMAIN_TAMING","safe"),overrideDebug:B=a(m(t("LOCKDOWN_OVERRIDE_DEBUG",""),","),(e=>""!==e)),__allowUnsafeMonkeyPatching__:J=t("__LOCKDOWN_ALLOW_UNSAFE_MONKEY_PATCHING__","safe"),dateTaming:K="safe",mathTaming:q="safe",...Y}=e,X=r();X.length>0&&console.warn("SES Lockdown using options from environment variables "+u(i(X,R),"and"));const Z=p(Y);if(O(0===Z.length,N`lockdown(): non supported option ${R(Z)}`),O(void 0===M,`Already locked down at ${M} (SES_ALREADY_LOCKED_DOWN)`,s),M=new s("Prior lockdown (SES_ALREADY_LOCKED_DOWN)"),M.stack,(()=>{let e=!1;try{e=o("eval","SES_changed",'        eval("SES_changed = true");\n        return SES_changed;\n      ')(n,!1),e||delete c.SES_changed}catch(t){e=!0}if(!e)throw new s("SES cannot initialize unless 'eval' is the original intrinsic 'eval', suitable for direct-eval (dynamically scoped eval) (SES_DIRECT_EVAL)")})(),c.Function.prototype.constructor!==c.Function&&"function"==typeof c.harden&&"function"==typeof c.lockdown&&c.Date.prototype.constructor!==c.Date&&"function"==typeof c.Date.now&&l(c.Date.prototype.constructor.now(),NaN))throw new s("Already locked down but not by this SES instance (SES_MULTIPLE_INSTANCES)");T(z);const{addIntrinsics:Q,completePrototypes:ee,finalIntrinsics:te}=f();Q({harden:$}),Q(d()),Q(E(K)),Q(I(y,W)),Q(P(q)),Q(w(G)),Q(F()),ee();const re=te();let oe;"unsafe"!==y&&(oe=re["%InitialGetStackString%"]);const ne=x(U,L,oe);c.console=ne.console,"unsafe"===y&&c.assert===O&&(c.assert=_(void 0,!0)),h(re,D);const se=A();g(re,se),S(c);const{safeEvaluate:ae}=k({globalObject:c});return v(c,{intrinsics:re,newGlobalPropertyNames:j,makeCompartmentConstructor:V,safeEvaluate:ae,markVirtualizedNativeFunction:se}),function(){return b(re,H,B),"unsafe"!==J&&$(re),c.harden=$,!0}};r.repairIntrinsics(L),r.lockdown(((e={})=>{L(e)()}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p;if(e([["./src/commons.js",[["globalThis",[e=>o=e]],["TypeError",[e=>n=e]],["assign",[e=>s=e]]]],["./src/tame-function-tostring.js",[["tameFunctionToString",[e=>a=e]]]],["./src/intrinsics.js",[["getGlobalIntrinsics",[e=>i=e]]]],["./src/lockdown-shim.js",[["lockdown",[e=>c=e]]]],["./src/compartment-shim.js",[["makeCompartmentConstructor",[e=>l=e]]]],["./src/error/assert.js",[["assert",[e=>p=e]]]]]),function(){return this}())throw new n("SES failed to initialize, sloppy mode (SES_NO_SLOPPY)");const m=a(),u=l(l,i(o),m);s(o,{lockdown:c,Compartment:u,assert:p})}];function t(e,t){const r=[];return{get:function(){return t},set:function(e){t=e;for(const e of r)e(t)},observe:function(e){r.push(e),e(t)},enumerable:!0}}const r=[{globalThis:t(),Array:t(),Date:t(),Float32Array:t(),JSON:t(),Map:t(),Math:t(),Number:t(),Object:t(),Promise:t(),Proxy:t(),Reflect:t(),FERAL_REG_EXP:t(),Set:t(),String:t(),WeakMap:t(),WeakSet:t(),FERAL_ERROR:t(),RangeError:t(),ReferenceError:t(),SyntaxError:t(),TypeError:t(),assign:t(),create:t(),defineProperties:t(),entries:t(),freeze:t(),getOwnPropertyDescriptor:t(),getOwnPropertyDescriptors:t(),getOwnPropertyNames:t(),getPrototypeOf:t(),is:t(),isExtensible:t(),keys:t(),objectPrototype:t(),seal:t(),setPrototypeOf:t(),values:t(),speciesSymbol:t(),toStringTagSymbol:t(),iteratorSymbol:t(),matchAllSymbol:t(),stringifyJson:t(),fromEntries:t(),defineProperty:t(),apply:t(),construct:t(),reflectGet:t(),reflectGetOwnPropertyDescriptor:t(),reflectHas:t(),reflectIsExtensible:t(),ownKeys:t(),reflectPreventExtensions:t(),reflectSet:t(),isArray:t(),arrayPrototype:t(),mapPrototype:t(),proxyRevocable:t(),regexpPrototype:t(),setPrototype:t(),stringPrototype:t(),weakmapPrototype:t(),weaksetPrototype:t(),functionPrototype:t(),promisePrototype:t(),uncurryThis:t(),objectHasOwnProperty:t(),arrayFilter:t(),arrayForEach:t(),arrayIncludes:t(),arrayJoin:t(),arrayMap:t(),arrayPop:t(),arrayPush:t(),arraySlice:t(),arraySome:t(),arraySort:t(),iterateArray:t(),mapSet:t(),mapGet:t(),mapHas:t(),iterateMap:t(),setAdd:t(),setForEach:t(),setHas:t(),iterateSet:t(),regexpTest:t(),regexpExec:t(),matchAllRegExp:t(),stringEndsWith:t(),stringIncludes:t(),stringIndexOf:t(),stringMatch:t(),stringReplace:t(),stringSearch:t(),stringSlice:t(),stringSplit:t(),stringStartsWith:t(),iterateString:t(),weakmapDelete:t(),weakmapGet:t(),weakmapHas:t(),weakmapSet:t(),weaksetAdd:t(),weaksetGet:t(),weaksetHas:t(),functionToString:t(),promiseAll:t(),promiseCatch:t(),promiseThen:t(),getConstructorOf:t(),immutableObject:t(),isObject:t(),isError:t(),FERAL_EVAL:t(),FERAL_FUNCTION:t()},{},{an:t(),bestEffortStringify:t(),enJoin:t()},{},{unredactedDetails:t(),loggedErrorHandler:t(),makeAssert:t(),assert:t()},{makeEvaluateFactory:t()},{isValidIdentifierName:t(),getScopeConstants:t()},{createScopeHandler:t()},{getSourceURL:t()},{rejectHtmlComments:t(),evadeHtmlCommentTest:t(),rejectImportExpressions:t(),evadeImportExpressionTest:t(),rejectSomeDirectEvalExpressions:t(),mandatoryTransforms:t(),applyTransforms:t()},{makeSafeEvaluator:t()},{provideCompartmentEvaluator:t(),compartmentEvaluate:t()},{makeEvalFunction:t()},{makeFunctionConstructor:t()},{constantProperties:t(),universalPropertyNames:t(),initialGlobalPropertyNames:t(),sharedGlobalPropertyNames:t(),uniqueGlobalPropertyNames:t(),NativeErrors:t(),FunctionInstance:t(),isAccessorPermit:t(),whitelist:t()},{setGlobalObjectConstantProperties:t(),setGlobalObjectMutableProperties:t()},{makeAlias:t(),load:t()},{deferExports:t(),getDeferredExports:t()},{makeThirdPartyModuleInstance:t(),makeModuleInstance:t()},{link:t(),instantiate:t()},{InertCompartment:t(),CompartmentPrototype:t(),makeCompartmentConstructor:t()},{makeIntrinsicsCollector:t(),getGlobalIntrinsics:t()},{minEnablements:t(),moderateEnablements:t(),severeEnablements:t()},{default:t()},{makeEnvironmentCaptor:t()},{makeLoggingConsoleKit:t(),makeCausalConsole:t(),filterConsole:t(),consoleWhitelist:t(),BASE_CONSOLE_LEVEL:t()},{tameConsole:t()},{filterFileName:t(),shortenCallSiteString:t(),tameV8ErrorConstructor:t()},{default:t()},{getAnonymousIntrinsics:t()},{makeHardener:t()},{default:t()},{tameDomains:t()},{default:t()},{tameFunctionToString:t()},{default:t()},{default:t()},{default:t()},{default:t()},{repairIntrinsics:t(),lockdown:t()},{}],o=r.map((e=>Object.create(null,e)));for(let e=0;e<o.length;e+=1)r[e]["*"]=t(0,o[e]);function n(e,t,o){for(const[n,s]of e.get(t)){const e=r[o][n];if(void 0===e)throw new ReferenceError("Cannot import name "+n);for(const t of s)e.observe(t)}}e[0]({imports(e){new Map(e)},liveVar:{},onceVar:{universalThis:r[0].globalThis.set,Array:r[0].Array.set,Date:r[0].Date.set,Float32Array:r[0].Float32Array.set,JSON:r[0].JSON.set,Map:r[0].Map.set,Math:r[0].Math.set,Number:r[0].Number.set,Object:r[0].Object.set,Promise:r[0].Promise.set,Proxy:r[0].Proxy.set,Reflect:r[0].Reflect.set,FERAL_REG_EXP:r[0].FERAL_REG_EXP.set,Set:r[0].Set.set,String:r[0].String.set,WeakMap:r[0].WeakMap.set,WeakSet:r[0].WeakSet.set,FERAL_ERROR:r[0].FERAL_ERROR.set,RangeError:r[0].RangeError.set,ReferenceError:r[0].ReferenceError.set,SyntaxError:r[0].SyntaxError.set,TypeError:r[0].TypeError.set,assign:r[0].assign.set,create:r[0].create.set,defineProperties:r[0].defineProperties.set,entries:r[0].entries.set,freeze:r[0].freeze.set,getOwnPropertyDescriptor:r[0].getOwnPropertyDescriptor.set,getOwnPropertyDescriptors:r[0].getOwnPropertyDescriptors.set,getOwnPropertyNames:r[0].getOwnPropertyNames.set,getPrototypeOf:r[0].getPrototypeOf.set,is:r[0].is.set,isExtensible:r[0].isExtensible.set,keys:r[0].keys.set,objectPrototype:r[0].objectPrototype.set,seal:r[0].seal.set,setPrototypeOf:r[0].setPrototypeOf.set,values:r[0].values.set,speciesSymbol:r[0].speciesSymbol.set,toStringTagSymbol:r[0].toStringTagSymbol.set,iteratorSymbol:r[0].iteratorSymbol.set,matchAllSymbol:r[0].matchAllSymbol.set,stringifyJson:r[0].stringifyJson.set,fromEntries:r[0].fromEntries.set,defineProperty:r[0].defineProperty.set,apply:r[0].apply.set,construct:r[0].construct.set,reflectGet:r[0].reflectGet.set,reflectGetOwnPropertyDescriptor:r[0].reflectGetOwnPropertyDescriptor.set,reflectHas:r[0].reflectHas.set,reflectIsExtensible:r[0].reflectIsExtensible.set,ownKeys:r[0].ownKeys.set,reflectPreventExtensions:r[0].reflectPreventExtensions.set,reflectSet:r[0].reflectSet.set,isArray:r[0].isArray.set,arrayPrototype:r[0].arrayPrototype.set,mapPrototype:r[0].mapPrototype.set,proxyRevocable:r[0].proxyRevocable.set,regexpPrototype:r[0].regexpPrototype.set,setPrototype:r[0].setPrototype.set,stringPrototype:r[0].stringPrototype.set,weakmapPrototype:r[0].weakmapPrototype.set,weaksetPrototype:r[0].weaksetPrototype.set,functionPrototype:r[0].functionPrototype.set,promisePrototype:r[0].promisePrototype.set,uncurryThis:r[0].uncurryThis.set,objectHasOwnProperty:r[0].objectHasOwnProperty.set,arrayFilter:r[0].arrayFilter.set,arrayForEach:r[0].arrayForEach.set,arrayIncludes:r[0].arrayIncludes.set,arrayJoin:r[0].arrayJoin.set,arrayMap:r[0].arrayMap.set,arrayPop:r[0].arrayPop.set,arrayPush:r[0].arrayPush.set,arraySlice:r[0].arraySlice.set,arraySome:r[0].arraySome.set,arraySort:r[0].arraySort.set,iterateArray:r[0].iterateArray.set,mapSet:r[0].mapSet.set,mapGet:r[0].mapGet.set,mapHas:r[0].mapHas.set,iterateMap:r[0].iterateMap.set,setAdd:r[0].setAdd.set,setForEach:r[0].setForEach.set,setHas:r[0].setHas.set,iterateSet:r[0].iterateSet.set,regexpTest:r[0].regexpTest.set,regexpExec:r[0].regexpExec.set,matchAllRegExp:r[0].matchAllRegExp.set,stringEndsWith:r[0].stringEndsWith.set,stringIncludes:r[0].stringIncludes.set,stringIndexOf:r[0].stringIndexOf.set,stringMatch:r[0].stringMatch.set,stringReplace:r[0].stringReplace.set,stringSearch:r[0].stringSearch.set,stringSlice:r[0].stringSlice.set,stringSplit:r[0].stringSplit.set,stringStartsWith:r[0].stringStartsWith.set,iterateString:r[0].iterateString.set,weakmapDelete:r[0].weakmapDelete.set,weakmapGet:r[0].weakmapGet.set,weakmapHas:r[0].weakmapHas.set,weakmapSet:r[0].weakmapSet.set,weaksetAdd:r[0].weaksetAdd.set,weaksetGet:r[0].weaksetGet.set,weaksetHas:r[0].weaksetHas.set,functionToString:r[0].functionToString.set,promiseAll:r[0].promiseAll.set,promiseCatch:r[0].promiseCatch.set,promiseThen:r[0].promiseThen.set,getConstructorOf:r[0].getConstructorOf.set,immutableObject:r[0].immutableObject.set,isObject:r[0].isObject.set,isError:r[0].isError.set,FERAL_EVAL:r[0].FERAL_EVAL.set,FERAL_FUNCTION:r[0].FERAL_FUNCTION.set}}),e[1]({imports(e){new Map(e)},liveVar:{},onceVar:{}}),e[2]({imports(e){n(new Map(e),"../commons.js",0)},liveVar:{},onceVar:{an:r[2].an.set,bestEffortStringify:r[2].bestEffortStringify.set,enJoin:r[2].enJoin.set}}),e[3]({imports(e){new Map(e)},liveVar:{},onceVar:{}}),e[4]({imports(e){const t=new Map(e);n(t,"../commons.js",0),n(t,"./internal-types.js",1),n(t,"./stringify-utils.js",2),n(t,"./types.js",3)},liveVar:{},onceVar:{unredactedDetails:r[4].unredactedDetails.set,loggedErrorHandler:r[4].loggedErrorHandler.set,makeAssert:r[4].makeAssert.set,assert:r[4].assert.set}}),e[5]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{makeEvaluateFactory:r[5].makeEvaluateFactory.set}}),e[6]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{isValidIdentifierName:r[6].isValidIdentifierName.set,getScopeConstants:r[6].getScopeConstants.set}}),e[7]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./error/assert.js",4)},liveVar:{},onceVar:{createScopeHandler:r[7].createScopeHandler.set}}),e[8]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{getSourceURL:r[8].getSourceURL.set}}),e[9]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./get-source-url.js",8)},liveVar:{},onceVar:{rejectHtmlComments:r[9].rejectHtmlComments.set,evadeHtmlCommentTest:r[9].evadeHtmlCommentTest.set,rejectImportExpressions:r[9].rejectImportExpressions.set,evadeImportExpressionTest:r[9].evadeImportExpressionTest.set,rejectSomeDirectEvalExpressions:r[9].rejectSomeDirectEvalExpressions.set,mandatoryTransforms:r[9].mandatoryTransforms.set,applyTransforms:r[9].applyTransforms.set}}),e[10]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./error/assert.js",4),n(t,"./make-evaluate-factory.js",5),n(t,"./scope-constants.js",6),n(t,"./scope-handler.js",7),n(t,"./transforms.js",9)},liveVar:{},onceVar:{makeSafeEvaluator:r[10].makeSafeEvaluator.set}}),e[11]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./make-safe-evaluator.js",10),n(t,"./transforms.js",9)},liveVar:{},onceVar:{provideCompartmentEvaluator:r[11].provideCompartmentEvaluator.set,compartmentEvaluate:r[11].compartmentEvaluate.set}}),e[12]({imports(e){new Map(e)},liveVar:{},onceVar:{makeEvalFunction:r[12].makeEvalFunction.set}}),e[13]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./error/assert.js",4)},liveVar:{},onceVar:{makeFunctionConstructor:r[13].makeFunctionConstructor.set}}),e[14]({imports(e){new Map(e)},liveVar:{},onceVar:{constantProperties:r[14].constantProperties.set,universalPropertyNames:r[14].universalPropertyNames.set,initialGlobalPropertyNames:r[14].initialGlobalPropertyNames.set,sharedGlobalPropertyNames:r[14].sharedGlobalPropertyNames.set,uniqueGlobalPropertyNames:r[14].uniqueGlobalPropertyNames.set,NativeErrors:r[14].NativeErrors.set,FunctionInstance:r[14].FunctionInstance.set,isAccessorPermit:r[14].isAccessorPermit.set,whitelist:r[14].whitelist.set}}),e[15]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./make-eval-function.js",12),n(t,"./make-function-constructor.js",13),n(t,"./whitelist.js",14)},liveVar:{},onceVar:{setGlobalObjectConstantProperties:r[15].setGlobalObjectConstantProperties.set,setGlobalObjectMutableProperties:r[15].setGlobalObjectMutableProperties.set}}),e[16]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./error/assert.js",4)},liveVar:{},onceVar:{makeAlias:r[16].makeAlias.set,load:r[16].load.set}}),e[17]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./error/assert.js",4),n(t,"./module-load.js",16)},liveVar:{},onceVar:{deferExports:r[17].deferExports.set,getDeferredExports:r[17].getDeferredExports.set}}),e[18]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./compartment-evaluate.js",11),n(t,"./error/assert.js",4),n(t,"./module-proxy.js",17)},liveVar:{},onceVar:{makeThirdPartyModuleInstance:r[18].makeThirdPartyModuleInstance.set,makeModuleInstance:r[18].makeModuleInstance.set}}),e[19]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./error/assert.js",4),n(t,"./module-instance.js",18)},liveVar:{},onceVar:{link:r[19].link.set,instantiate:r[19].instantiate.set}}),e[20]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./compartment-evaluate.js",11),n(t,"./error/assert.js",4),n(t,"./global-object.js",15),n(t,"./make-safe-evaluator.js",10),n(t,"./module-link.js",19),n(t,"./module-load.js",16),n(t,"./module-proxy.js",17),n(t,"./scope-constants.js",6),n(t,"./whitelist.js",14)},liveVar:{},onceVar:{InertCompartment:r[20].InertCompartment.set,CompartmentPrototype:r[20].CompartmentPrototype.set,makeCompartmentConstructor:r[20].makeCompartmentConstructor.set}}),e[21]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./whitelist.js",14)},liveVar:{},onceVar:{makeIntrinsicsCollector:r[21].makeIntrinsicsCollector.set,getGlobalIntrinsics:r[21].getGlobalIntrinsics.set}}),e[22]({imports(e){new Map(e)},liveVar:{},onceVar:{minEnablements:r[22].minEnablements.set,moderateEnablements:r[22].moderateEnablements.set,severeEnablements:r[22].severeEnablements.set}}),e[23]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./enablements.js",22)},liveVar:{},onceVar:{default:r[23].default.set}}),e[24]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./error/assert.js",4)},liveVar:{},onceVar:{makeEnvironmentCaptor:r[24].makeEnvironmentCaptor.set}}),e[25]({imports(e){const t=new Map(e);n(t,"../commons.js",0),n(t,"./internal-types.js",1),n(t,"./types.js",3)},liveVar:{},onceVar:{makeLoggingConsoleKit:r[25].makeLoggingConsoleKit.set,makeCausalConsole:r[25].makeCausalConsole.set,filterConsole:r[25].filterConsole.set,consoleWhitelist:r[25].consoleWhitelist.set,BASE_CONSOLE_LEVEL:r[25].BASE_CONSOLE_LEVEL.set}}),e[26]({imports(e){const t=new Map(e);n(t,"../commons.js",0),n(t,"./assert.js",4),n(t,"./console.js",25),n(t,"./internal-types.js",1),n(t,"./types.js",3)},liveVar:{},onceVar:{tameConsole:r[26].tameConsole.set}}),e[27]({imports(e){n(new Map(e),"../commons.js",0)},liveVar:{},onceVar:{filterFileName:r[27].filterFileName.set,shortenCallSiteString:r[27].shortenCallSiteString.set,tameV8ErrorConstructor:r[27].tameV8ErrorConstructor.set}}),e[28]({imports(e){const t=new Map(e);n(t,"../commons.js",0),n(t,"../whitelist.js",14),n(t,"./tame-v8-error-constructor.js",27)},liveVar:{},onceVar:{default:r[28].default.set}}),e[29]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./compartment-shim.js",20)},liveVar:{},onceVar:{getAnonymousIntrinsics:r[29].getAnonymousIntrinsics.set}}),e[30]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{makeHardener:r[30].makeHardener.set}}),e[31]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{default:r[31].default.set}}),e[32]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{tameDomains:r[32].tameDomains.set}}),e[33]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{default:r[33].default.set}}),e[34]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{tameFunctionToString:r[34].tameFunctionToString.set}}),e[35]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./error/assert.js",4)},liveVar:{},onceVar:{default:r[35].default.set}}),e[36]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{default:r[36].default.set}}),e[37]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{default:r[37].default.set}}),e[38]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./whitelist.js",14)},liveVar:{},onceVar:{default:r[38].default.set}}),e[39]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./compartment-shim.js",20),n(t,"./enable-property-overrides.js",23),n(t,"./environment-options.js",24),n(t,"./error/assert.js",4),n(t,"./error/stringify-utils.js",2),n(t,"./error/tame-console.js",26),n(t,"./error/tame-error-constructor.js",28),n(t,"./get-anonymous-intrinsics.js",29),n(t,"./global-object.js",15),n(t,"./intrinsics.js",21),n(t,"./make-hardener.js",30),n(t,"./make-safe-evaluator.js",10),n(t,"./tame-date-constructor.js",31),n(t,"./tame-domains.js",32),n(t,"./tame-function-constructors.js",33),n(t,"./tame-function-tostring.js",34),n(t,"./tame-locale-methods.js",35),n(t,"./tame-math-object.js",36),n(t,"./tame-regexp-constructor.js",37),n(t,"./whitelist-intrinsics.js",38),n(t,"./whitelist.js",14)},liveVar:{},onceVar:{repairIntrinsics:r[39].repairIntrinsics.set,lockdown:r[39].lockdown.set}}),e[40]({imports(e){const t=new Map(e);n(t,"./src/commons.js",0),n(t,"./src/compartment-shim.js",20),n(t,"./src/error/assert.js",4),n(t,"./src/intrinsics.js",21),n(t,"./src/lockdown-shim.js",39),n(t,"./src/tame-function-tostring.js",34)},liveVar:{},onceVar:{}})})();
+/*! For license information please see webworker.bundle.js.LICENSE.txt */
+(()=>{var e={7209:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectMultiplex=void 0;const o=r(7525),a=i(r(8797)),s=i(r(9928)),u=r(9067),c=Symbol("IGNORE_SUBSTREAM");class l extends o.Duplex{constructor(e={}){super(Object.assign(Object.assign({},e),{objectMode:!0})),this._substreams={}}createStream(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);const t=new u.Substream({parent:this,name:e});return this._substreams[e]=t,function(e,r){const n=s.default((e=>t.destroy(e||void 0)));a.default(e,{readable:!1},n),a.default(e,{writable:!1},n)}(this),t}ignoreStream(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);this._substreams[e]=c}_read(){}_write(e,t,r){const{name:i,data:o}=e;if(!i)return n.warn(`ObjectMultiplex - malformed chunk without name "${e}"`),r();const a=this._substreams[i];return a?(a!==c&&a.push(o),r()):(n.warn(`ObjectMultiplex - orphaned data for stream "${i}"`),r())}}t.ObjectMultiplex=l},9067:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Substream=void 0;const n=r(7525);class i extends n.Duplex{constructor({parent:e,name:t}){super({objectMode:!0}),this._parent=e,this._name=t}_read(){}_write(e,t,r){this._parent.push({name:this._name,data:e}),r()}}t.Substream=i},9952:(e,t,r)=>{"use strict";const n=r(7209);e.exports=n.ObjectMultiplex},470:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BasePostMessageStream=void 0;const n=r(5800);function i(){}const o="ACK";class a extends n.Duplex{constructor(){super({objectMode:!0}),this._init=!1,this._haveSyn=!1}_handshake(){this._write("SYN",null,i),this.cork()}_onData(e){if(this._init)try{this.push(e)}catch(e){this.emit("error",e)}else"SYN"===e?(this._haveSyn=!0,this._write(o,null,i)):e===o&&(this._init=!0,this._haveSyn||this._write(o,null,i),this.uncork())}_read(){}_write(e,t,r){this._postMessage(e),r()}}t.BasePostMessageStream=a},4273:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WindowPostMessageStream=void 0;const n=r(470);class i extends n.BasePostMessageStream{constructor({name:e,target:t,targetWindow:r}){if(!e||!t)throw new Error("Invalid input.");super(),this._name=e,this._target=t,this._targetOrigin=r?"*":location.origin,this._targetWindow=r||window,this._onMessage=this._onMessage.bind(this),window.addEventListener("message",this._onMessage,!1),this._handshake()}_postMessage(e){this._targetWindow.postMessage({target:this._target,data:e},this._targetOrigin)}_onMessage(e){const t=e.data;"*"!==this._targetOrigin&&e.origin!==this._targetOrigin||e.source!==this._targetWindow||"object"!=typeof t||t.target!==this._name||!t.data||this._onData(t.data)}_destroy(){window.removeEventListener("message",this._onMessage,!1)}}t.WindowPostMessageStream=i},8858:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkerParentPostMessageStream=void 0;const n=r(470),i=r(7366);class o extends n.BasePostMessageStream{constructor({worker:e}){if(!e)throw new Error("Invalid input.");super(),this._target=i.DEDICATED_WORKER_NAME,this._worker=e,this._worker.onmessage=this._onMessage.bind(this),this._handshake()}_postMessage(e){this._worker.postMessage({target:this._target,data:e})}_onMessage(e){const t=e.data;"object"==typeof t&&t.data&&this._onData(t.data)}_destroy(){this._worker.onmessage=null,this._worker=null}}t.WorkerParentPostMessageStream=o},7507:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkerPostMessageStream=void 0;const n=r(470),i=r(7366);class o extends n.BasePostMessageStream{constructor(){super(),this._name=i.DEDICATED_WORKER_NAME,self.onmessage=this._onMessage.bind(this),this._handshake()}_postMessage(e){self.postMessage({data:e})}_onMessage(e){const t=e.data;"object"==typeof t&&t.target===this._name&&t.data&&this._onData(t.data)}_destroy(){}}t.WorkerPostMessageStream=o},7366:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEDICATED_WORKER_NAME=void 0,t.DEDICATED_WORKER_NAME="dedicatedWorker"},9679:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkerParentPostMessageStream=t.WorkerPostMessageStream=t.WindowPostMessageStream=void 0;var n=r(4273);Object.defineProperty(t,"WindowPostMessageStream",{enumerable:!0,get:function(){return n.WindowPostMessageStream}});var i=r(7507);Object.defineProperty(t,"WorkerPostMessageStream",{enumerable:!0,get:function(){return i.WorkerPostMessageStream}});var o=r(8858);Object.defineProperty(t,"WorkerParentPostMessageStream",{enumerable:!0,get:function(){return o.WorkerParentPostMessageStream}})},2646:(e,t,r)=>{"use strict";var n=r(4406);!n.version||0===n.version.indexOf("v0.")||0===n.version.indexOf("v1.")&&0!==n.version.indexOf("v1.8.")?e.exports=function(e,t,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return n.nextTick(e);case 2:return n.nextTick((function(){e.call(null,t)}));case 3:return n.nextTick((function(){e.call(null,t,r)}));case 4:return n.nextTick((function(){e.call(null,t,r,i)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return n.nextTick((function(){e.apply(null,o)}))}}:e.exports=n.nextTick},1034:(e,t,r)=>{"use strict";var n=r(2646),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=f;var o=r(7646);o.inherits=r(1285);var a=r(7187),s=r(3597);o.inherits(f,a);for(var u=i(s.prototype),c=0;c<u.length;c++){var l=u[c];f.prototype[l]||(f.prototype[l]=s.prototype[l])}function f(e){if(!(this instanceof f))return new f(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||n(h,this)}function h(e){e.end()}Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),n(t,e)}},2598:(e,t,r)=>{"use strict";e.exports=o;var n=r(2287),i=r(7646);function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}i.inherits=r(1285),i.inherits(o,n),o.prototype._transform=function(e,t,r){r(null,e)}},7187:(e,t,r)=>{"use strict";var n=r(4406),i=r(2646);e.exports=w;var o,a=r(7906);w.ReadableState=m,r(2699).EventEmitter;var s=function(e,t){return e.listeners(t).length},u=r(979),c=r(5691).Buffer,l=r.g.Uint8Array||function(){},f=r(7646);f.inherits=r(1285);var d=r(4857),h=void 0;h=d&&d.debuglog?d.debuglog("stream"):function(){};var p,g=r(8991),y=r(8374);f.inherits(w,u);var b=["error","close","destroy","pause","resume"];function m(e,t){o=o||r(1034),e=e||{},this.objectMode=!!e.objectMode,t instanceof o&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:i,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=r(5099).s),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function w(e){if(o=o||r(1034),!(this instanceof w))return new w(e);this._readableState=new m(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function v(e,t,r,n,i){var o,a=e._readableState;return null===t?(a.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,O(e)}}(e,a)):(i||(o=function(e,t){var r,n;return n=t,c.isBuffer(n)||n instanceof l||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),n?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):_(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?_(e,a,t,!1):M(e,a)):_(e,a,t,!1))):n||(a.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function _(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&O(e)),M(e,t)}Object.defineProperty(w.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),w.prototype.destroy=y.destroy,w.prototype._undestroy=y.undestroy,w.prototype._destroy=function(e,t){this.push(null),t(e)},w.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),r=!0),v(this,e,t,!1,r)},w.prototype.unshift=function(e){return v(this,e,null,!0,!1)},w.prototype.isPaused=function(){return!1===this._readableState.flowing},w.prototype.setEncoding=function(e){return p||(p=r(5099).s),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var S=8388608;function E(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=S?e=S:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function O(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i(R,e):R(e))}function R(e){h("emit readable"),e.emit("readable"),A(e)}function M(e,t){t.readingMore||(t.readingMore=!0,i(j,e,t))}function j(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function P(e){h("readable nexttick read 0"),e.read(0)}function k(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),A(e),t.flowing&&!t.reading&&e.read(0)}function A(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function x(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0==(e-=a)){a===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=c.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,a),0==(e-=a)){a===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++i}return t.length-=i,r}(e,t),n}(e,t.buffer,t.decoder),r);var r}function C(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i(T,t,e))}function T(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function N(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}w.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?C(this):O(this),null;if(0===(e=E(e,t))&&t.ended)return 0===t.length&&C(this),null;var n,i=t.needReadable;return h("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",i=!0),t.ended||t.reading?h("reading or ended",i=!1):i&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=E(r,t))),null===(n=e>0?x(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&C(this)),null!==n&&this.emit("data",n),n},w.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},w.prototype.pipe=function(e,t){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,h("pipe count=%d opts=%j",o.pipesCount,t);var u=t&&!1===t.end||e===n.stdout||e===n.stderr?m:c;function c(){h("onend"),e.end()}o.endEmitted?i(u):r.once("end",u),e.on("unpipe",(function t(n,i){h("onunpipe"),n===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,h("cleanup"),e.removeListener("close",y),e.removeListener("finish",b),e.removeListener("drain",l),e.removeListener("error",g),e.removeListener("unpipe",t),r.removeListener("end",c),r.removeListener("end",m),r.removeListener("data",p),f=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}));var l=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,A(e))}}(r);e.on("drain",l);var f=!1,d=!1;function p(t){h("ondata"),d=!1,!1!==e.write(t)||d||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==N(o.pipes,e))&&!f&&(h("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,d=!0),r.pause())}function g(t){h("onerror",t),m(),e.removeListener("error",g),0===s(e,"error")&&e.emit("error",t)}function y(){e.removeListener("finish",b),m()}function b(){h("onfinish"),e.removeListener("close",y),m()}function m(){h("unpipe"),r.unpipe(e)}return r.on("data",p),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events.error?a(e._events.error)?e._events.error.unshift(r):e._events.error=[r,e._events.error]:e.on(t,r)}(e,"error",g),e.once("close",y),e.once("finish",b),e.emit("pipe",r),o.flowing||(h("pipe resume"),r.resume()),e},w.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var a=N(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},w.prototype.on=function(e,t){var r=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&O(this):i(P,this))}return r},w.prototype.addListener=w.prototype.on,w.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i(k,e,t))}(this,e)),this},w.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},w.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;for(var i in e.on("end",(function(){if(h("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)})),e.on("data",(function(i){h("wrapped data"),t.decoder&&(i=t.decoder.write(i)),t.objectMode&&null==i||(t.objectMode||i&&i.length)&&(n.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<b.length;o++)e.on(b[o],n.emit.bind(n,b[o]));return n._read=function(t){h("wrapped _read",t),r&&(r=!1,e.resume())},n},w._fromList=x},2287:(e,t,r)=>{"use strict";e.exports=a;var n=r(1034),i=r(7646);function o(e){this.afterTransform=function(t,r){return function(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=r&&e.push(r),i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}(e,t,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function a(e){if(!(this instanceof a))return new a(e);n.call(this,e),this._transformState=new o(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",(function(){"function"==typeof this._flush?this._flush((function(e,r){s(t,e,r)})):s(t)}))}function s(e,t,r){if(t)return e.emit("error",t);null!=r&&e.push(r);var n=e._writableState,i=e._transformState;if(n.length)throw new Error("Calling transform done when ws.length != 0");if(i.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=r(1285),i.inherits(a,n),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,(function(e){t(e),r.emit("close")}))}},3597:(e,t,r)=>{"use strict";var n=r(4406),i=r(2646);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=b;var a,s=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?setImmediate:i;b.WritableState=y;var u=r(7646);u.inherits=r(1285);var c,l={deprecate:r(5803)},f=r(979),d=r(5691).Buffer,h=r.g.Uint8Array||function(){},p=r(8374);function g(){}function y(e,t){a=a||r(1034),e=e||{},this.objectMode=!!e.objectMode,t instanceof a&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,u=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var c=!1===e.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,o){--t.pendingcb,r?(i(o,n),i(E,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(o(n),e._writableState.errorEmitted=!0,e.emit("error",n),E(e,t))}(e,r,n,t,o);else{var a=_(r);a||r.corked||r.bufferProcessing||!r.bufferedRequest||v(e,r),n?s(w,e,r,a,o):w(e,r,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function b(e){if(a=a||r(1034),!(c.call(b,this)||this instanceof a))return new b(e);this._writableState=new y(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),f.call(this)}function m(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function w(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),E(e,t)}function v(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),a=t.corkedRequestsFree;a.entry=r;for(var s=0,u=!0;r;)i[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;i.allBuffers=u,m(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t)}else{for(;r;){var c=r.chunk,l=r.encoding,f=r.callback;if(m(e,t,!1,t.objectMode?1:c.length,c,l,f),r=r.next,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=r,t.bufferProcessing=!1}function _(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),E(e,t)}))}function E(e,t){var r=_(t);return r&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,i(S,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}u.inherits(b,f),y.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(y.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||e&&e._writableState instanceof y}})):c=function(e){return e instanceof this},b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},b.prototype.write=function(e,t,r){var n,o=this._writableState,a=!1,s=(n=e,(d.isBuffer(n)||n instanceof h)&&!o.objectMode);return s&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=g),o.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),i(t,r)}(this,r):(s||function(e,t,r,n){var o=!0,a=!1;return null===r?a=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),i(n,a),o=!1),o}(this,o,e,r))&&(o.pendingcb++,a=function(e,t,r,n,i,o){if(!r){var a=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,r)),t}(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,s,n,i,o);return u}(this,o,s,e,t,r)),a},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||v(this,e))},b.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},b.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,E(e,t),r&&(t.finished?i(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),b.prototype.destroy=p.destroy,b.prototype._undestroy=p.undestroy,b.prototype._destroy=function(e,t){this.end(),t(e)}},8991:(e,t,r)=>{"use strict";var n=r(5691).Buffer;e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,i=n.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=i,r=a,o.data.copy(t,r),a+=o.data.length,o=o.next;return i},e}()},8374:(e,t,r)=>{"use strict";var n=r(2646);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;o||a?t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n(i,this,e):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(n(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})))},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},979:(e,t,r)=>{e.exports=r(2699).EventEmitter},5800:(e,t,r)=>{(t=e.exports=r(7187)).Stream=t,t.Readable=t,t.Writable=r(3597),t.Duplex=r(1034),t.Transform=r(2287),t.PassThrough=r(2598)},5691:(e,t,r)=>{var n=r(8834),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},5099:(e,t,r)=>{"use strict";var n=r(5691).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:-1}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"".repeat(r);if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"".repeat(r+1);if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"".repeat(r+2)}}(this,e,t);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"".repeat(this.lastTotal-this.lastNeed):t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r?0:(i=a(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r?0:(i=a(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},4044:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(r(3171)),a=r(1280),s=r(1384),u=i(r(9952)),c=i(r(3795)),l=i(r(8787)),f=r(8094),d=r(8607),h=i(r(2371)),p=r(4022);class g extends c.default{constructor(e,{jsonRpcStreamName:t="metamask-provider",logger:r=n,maxEventListeners:i=100}={}){if(super(),!d.duplex(e))throw new Error(h.default.errors.invalidDuplexStream());this._log=r,this.setMaxListeners(i),this._state=Object.assign({},g._defaultState),this.selectedAddress=null,this.chainId=null,this._handleAccountsChanged=this._handleAccountsChanged.bind(this),this._handleConnect=this._handleConnect.bind(this),this._handleChainChanged=this._handleChainChanged.bind(this),this._handleDisconnect=this._handleDisconnect.bind(this),this._handleStreamDisconnect=this._handleStreamDisconnect.bind(this),this._handleUnlockStateChanged=this._handleUnlockStateChanged.bind(this),this._rpcRequest=this._rpcRequest.bind(this),this.request=this.request.bind(this);const c=new u.default;o.default(e,c,e,this._handleStreamDisconnect.bind(this,"MetaMask")),this.on("connect",(()=>{this._state.isConnected=!0})),this._jsonRpcConnection=s.createStreamMiddleware(),o.default(this._jsonRpcConnection.stream,c.createStream(t),this._jsonRpcConnection.stream,this._handleStreamDisconnect.bind(this,"MetaMask RpcProvider"));const l=new a.JsonRpcEngine;l.push(a.createIdRemapMiddleware()),l.push(p.createErrorMiddleware(this._log)),l.push(this._jsonRpcConnection.middleware),this._rpcEngine=l,this._initializeState(),this._jsonRpcConnection.events.on("notification",(t=>{const{method:r,params:n}=t;"metamask_accountsChanged"===r?this._handleAccountsChanged(n):"metamask_unlockStateChanged"===r?this._handleUnlockStateChanged(n):"metamask_chainChanged"===r?this._handleChainChanged(n):p.EMITTED_NOTIFICATIONS.includes(r)?this.emit("message",{type:r,data:n}):"METAMASK_STREAM_FAILURE"===r&&e.destroy(new Error(h.default.errors.permanentlyDisconnected()))}))}isConnected(){return this._state.isConnected}async request(e){if(!e||"object"!=typeof e||Array.isArray(e))throw f.ethErrors.rpc.invalidRequest({message:h.default.errors.invalidRequestArgs(),data:e});const{method:t,params:r}=e;if("string"!=typeof t||0===t.length)throw f.ethErrors.rpc.invalidRequest({message:h.default.errors.invalidRequestMethod(),data:e});if(void 0!==r&&!Array.isArray(r)&&("object"!=typeof r||null===r))throw f.ethErrors.rpc.invalidRequest({message:h.default.errors.invalidRequestParams(),data:e});return new Promise(((e,n)=>{this._rpcRequest({method:t,params:r},p.getRpcPromiseCallback(e,n))}))}async _initializeState(){try{const{accounts:e,chainId:t,isUnlocked:r,networkVersion:n}=await this.request({method:"metamask_getProviderState"});this.emit("connect",{chainId:t}),this._handleChainChanged({chainId:t,networkVersion:n}),this._handleUnlockStateChanged({accounts:e,isUnlocked:r}),this._handleAccountsChanged(e)}catch(e){this._log.error("MetaMask: Failed to get initial state. Please report this bug.",e)}finally{this._state.initialized=!0,this.emit("_initialized")}}_rpcRequest(e,t){let r=t;return Array.isArray(e)||(e.jsonrpc||(e.jsonrpc="2.0"),"eth_accounts"!==e.method&&"eth_requestAccounts"!==e.method||(r=(r,n)=>{this._handleAccountsChanged(n.result||[],"eth_accounts"===e.method),t(r,n)})),this._rpcEngine.handle(e,r)}_handleConnect(e){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:e}),this._log.debug(h.default.info.connected(e)))}_handleDisconnect(e,t){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e){let r;this._state.isConnected=!1,e?(r=new f.EthereumRpcError(1013,t||h.default.errors.disconnected()),this._log.debug(r)):(r=new f.EthereumRpcError(1011,t||h.default.errors.permanentlyDisconnected()),this._log.error(r),this.chainId=null,this._state.accounts=null,this.selectedAddress=null,this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",r)}}_handleStreamDisconnect(e,t){p.logStreamDisconnectWarning(this._log,e,t,this),this._handleDisconnect(!1,t?t.message:void 0)}_handleChainChanged({chainId:e,networkVersion:t}={}){e&&"string"==typeof e&&e.startsWith("0x")&&t&&"string"==typeof t?"loading"===t?this._handleDisconnect(!0):(this._handleConnect(e),e!==this.chainId&&(this.chainId=e,this._state.initialized&&this.emit("chainChanged",this.chainId))):this._log.error("MetaMask: Received invalid network parameters. Please report this bug.",{chainId:e,networkVersion:t})}_handleAccountsChanged(e,t=!1){let r=e;Array.isArray(e)||(this._log.error("MetaMask: Received invalid accounts parameter. Please report this bug.",e),r=[]);for(const t of e)if("string"!=typeof t){this._log.error("MetaMask: Received non-string account. Please report this bug.",e),r=[];break}l.default(this._state.accounts,r)||(t&&null!==this._state.accounts&&this._log.error("MetaMask: 'eth_accounts' unexpectedly updated accounts. Please report this bug.",r),this._state.accounts=r,this.selectedAddress!==r[0]&&(this.selectedAddress=r[0]||null),this._state.initialized&&this.emit("accountsChanged",r))}_handleUnlockStateChanged({accounts:e,isUnlocked:t}={}){"boolean"==typeof t?t!==this._state.isUnlocked&&(this._state.isUnlocked=t,this._handleAccountsChanged(e||[])):this._log.error("MetaMask: Received invalid isUnlocked parameter. Please report this bug.")}}t.default=g,g._defaultState={accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1}},9461:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(8094),a=i(r(23)),s=i(r(2371)),u=r(4022),c=i(r(4044));class l extends c.default{constructor(e,{jsonRpcStreamName:t="metamask-provider",logger:r=n,maxEventListeners:i=100,shouldSendMetadata:o=!0}={}){if(super(e,{jsonRpcStreamName:t,logger:r,maxEventListeners:i}),this._sentWarnings={enable:!1,experimentalMethods:!1,send:!1,events:{close:!1,data:!1,networkChanged:!1,notification:!1}},this.networkVersion=null,this.isMetaMask=!0,this._sendSync=this._sendSync.bind(this),this.enable=this.enable.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this._warnOfDeprecation=this._warnOfDeprecation.bind(this),this._metamask=this._getExperimentalApi(),this._jsonRpcConnection.events.on("notification",(e=>{const{method:t}=e;u.EMITTED_NOTIFICATIONS.includes(t)&&(this.emit("data",e),this.emit("notification",e.params.result))})),o)if("complete"===document.readyState)a.default(this._rpcEngine,this._log);else{const e=()=>{a.default(this._rpcEngine,this._log),window.removeEventListener("DOMContentLoaded",e)};window.addEventListener("DOMContentLoaded",e)}}sendAsync(e,t){this._rpcRequest(e,t)}addListener(e,t){return this._warnOfDeprecation(e),super.addListener(e,t)}on(e,t){return this._warnOfDeprecation(e),super.on(e,t)}once(e,t){return this._warnOfDeprecation(e),super.once(e,t)}prependListener(e,t){return this._warnOfDeprecation(e),super.prependListener(e,t)}prependOnceListener(e,t){return this._warnOfDeprecation(e),super.prependOnceListener(e,t)}_handleDisconnect(e,t){super._handleDisconnect(e,t),this.networkVersion&&!e&&(this.networkVersion=null)}_warnOfDeprecation(e){var t;!1===(null===(t=this._sentWarnings)||void 0===t?void 0:t.events[e])&&(this._log.warn(s.default.warnings.events[e]),this._sentWarnings.events[e]=!0)}enable(){return this._sentWarnings.enable||(this._log.warn(s.default.warnings.enableDeprecation),this._sentWarnings.enable=!0),new Promise(((e,t)=>{try{this._rpcRequest({method:"eth_requestAccounts",params:[]},u.getRpcPromiseCallback(e,t))}catch(e){t(e)}}))}send(e,t){return this._sentWarnings.send||(this._log.warn(s.default.warnings.sendDeprecation),this._sentWarnings.send=!0),"string"!=typeof e||t&&!Array.isArray(t)?e&&"object"==typeof e&&"function"==typeof t?this._rpcRequest(e,t):this._sendSync(e):new Promise(((r,n)=>{try{this._rpcRequest({method:e,params:t},u.getRpcPromiseCallback(r,n,!1))}catch(e){n(e)}}))}_sendSync(e){let t;switch(e.method){case"eth_accounts":t=this.selectedAddress?[this.selectedAddress]:[];break;case"eth_coinbase":t=this.selectedAddress||null;break;case"eth_uninstallFilter":this._rpcRequest(e,u.NOOP),t=!0;break;case"net_version":t=this.networkVersion||null;break;default:throw new Error(s.default.errors.unsupportedSync(e.method))}return{id:e.id,jsonrpc:e.jsonrpc,result:t}}_getExperimentalApi(){return new Proxy({isUnlocked:async()=>(this._state.initialized||await new Promise((e=>{this.on("_initialized",(()=>e()))})),this._state.isUnlocked),requestBatch:async e=>{if(!Array.isArray(e))throw o.ethErrors.rpc.invalidRequest({message:"Batch requests must be made with an array of request objects.",data:e});return new Promise(((t,r)=>{this._rpcRequest(e,u.getRpcPromiseCallback(t,r))}))}},{get:(e,t,...r)=>(this._sentWarnings.experimentalMethods||(this._log.warn(s.default.warnings.experimentalMethods),this._sentWarnings.experimentalMethods=!0),Reflect.get(e,t,...r))})}_handleChainChanged({chainId:e,networkVersion:t}={}){super._handleChainChanged({chainId:e,networkVersion:t}),t&&"loading"!==t&&t!==this.networkVersion&&(this.networkVersion=t,this._state.initialized&&this.emit("networkChanged",this.networkVersion))}}t.default=l},5817:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(r(3274)),a=r(4924),s=i(r(4044)),u=i(r(5543)),c=a.detect();t.default=function(){let e;try{const t=function(){switch(null==c?void 0:c.name){case"chrome":default:return u.default.CHROME_ID;case"firefox":return u.default.FIREFOX_ID}}(),r=chrome.runtime.connect(t),n=new o.default(r);e=new s.default(n)}catch(e){throw n.dir("Metamask connect error ",e),e}return e}},2972:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createExternalExtensionProvider=t.shimWeb3=t.setGlobalProvider=t.BaseProvider=t.MetaMaskInpageProvider=t.initializeProvider=void 0;const i=n(r(9461));t.MetaMaskInpageProvider=i.default;const o=n(r(5817));t.createExternalExtensionProvider=o.default;const a=n(r(4044));t.BaseProvider=a.default;const s=r(6352);Object.defineProperty(t,"initializeProvider",{enumerable:!0,get:function(){return s.initializeProvider}}),Object.defineProperty(t,"setGlobalProvider",{enumerable:!0,get:function(){return s.setGlobalProvider}});const u=n(r(6473));t.shimWeb3=u.default},6352:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.setGlobalProvider=t.initializeProvider=void 0;const o=i(r(9461)),a=i(r(6473));function s(e){window.ethereum=e,window.dispatchEvent(new Event("ethereum#initialized"))}t.initializeProvider=function({connectionStream:e,jsonRpcStreamName:t,logger:r=n,maxEventListeners:i=100,shouldSendMetadata:u=!0,shouldSetOnWindow:c=!0,shouldShimWeb3:l=!1}){let f=new o.default(e,{jsonRpcStreamName:t,logger:r,maxEventListeners:i,shouldSendMetadata:u});return f=new Proxy(f,{deleteProperty:()=>!0}),c&&s(f),l&&a.default(f,r),f},t.setGlobalProvider=s},2371:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={errors:{disconnected:()=>"MetaMask: Disconnected from chain. Attempting to connect.",permanentlyDisconnected:()=>"MetaMask: Disconnected from MetaMask background. Page reload required.",sendSiteMetadata:()=>"MetaMask: Failed to send site metadata. This is an internal error, please report this bug.",unsupportedSync:e=>`MetaMask: The MetaMask Ethereum provider does not support synchronous methods like ${e} without a callback parameter.`,invalidDuplexStream:()=>"Must provide a Node.js-style duplex stream.",invalidRequestArgs:()=>"Expected a single, non-array, object argument.",invalidRequestMethod:()=>"'args.method' must be a non-empty string.",invalidRequestParams:()=>"'args.params' must be an object or array if provided.",invalidLoggerObject:()=>"'args.logger' must be an object if provided.",invalidLoggerMethod:e=>`'args.logger' must include required method '${e}'.`},info:{connected:e=>`MetaMask: Connected to chain with ID "${e}".`},warnings:{enableDeprecation:"MetaMask: 'ethereum.enable()' is deprecated and may be removed in the future. Please use the 'eth_requestAccounts' RPC method instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1102",sendDeprecation:"MetaMask: 'ethereum.send(...)' is deprecated and may be removed in the future. Please use 'ethereum.sendAsync(...)' or 'ethereum.request(...)' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193",events:{close:"MetaMask: The event 'close' is deprecated and may be removed in the future. Please use 'disconnect' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#disconnect",data:"MetaMask: The event 'data' is deprecated and will be removed in the future. Use 'message' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#message",networkChanged:"MetaMask: The event 'networkChanged' is deprecated and may be removed in the future. Use 'chainChanged' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#chainchanged",notification:"MetaMask: The event 'notification' is deprecated and may be removed in the future. Use 'message' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#message"},experimentalMethods:"MetaMask: 'ethereum._metamask' exposes non-standard, experimental methods. They may be removed or changed without warning."}}},6473:(e,t,r)=>{"use strict";var n=r(3716);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t=n){let r=!1,i=!1;if(!window.web3){const n="__isMetaMaskShim__";let o={currentProvider:e};Object.defineProperty(o,n,{value:!0,enumerable:!0,configurable:!1,writable:!1}),o=new Proxy(o,{get:(o,a,...s)=>("currentProvider"!==a||r?"currentProvider"===a||a===n||i||(i=!0,t.error("MetaMask no longer injects web3. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3"),e.request({method:"metamask_logWeb3ShimUsage"}).catch((e=>{t.debug("MetaMask: Failed to log web3 shim usage.",e)}))):(r=!0,t.warn("You are accessing the MetaMask window.web3.currentProvider shim. This property is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3")),Reflect.get(o,a,...s)),set:(...e)=>(t.warn("You are accessing the MetaMask window.web3 shim. This object is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3"),Reflect.set(...e))}),Object.defineProperty(window,"web3",{value:o,enumerable:!1,configurable:!0,writable:!0})}}},23:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(2371)),o=r(4022);function a(e){const{document:t}=e,r=t.querySelector('head > meta[property="og:site_name"]');if(r)return r.content;const n=t.querySelector('head > meta[name="title"]');return n?n.content:t.title&&t.title.length>0?t.title:window.location.hostname}async function s(e){const{document:t}=e,r=t.querySelectorAll('head > link[rel~="icon"]');for(const e of r)if(e&&await u(e.href))return e.href;return null}function u(e){return new Promise(((t,r)=>{try{const r=document.createElement("img");r.onload=()=>t(!0),r.onerror=()=>t(!1),r.src=e}catch(e){r(e)}}))}t.default=async function(e,t){try{const t=await async function(){return{name:a(window),icon:await s(window)}}();e.handle({jsonrpc:"2.0",id:1,method:"metamask_sendDomainMetadata",params:t},o.NOOP)}catch(e){t.error({message:i.default.errors.sendSiteMetadata(),originalError:e})}}},4022:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMITTED_NOTIFICATIONS=t.NOOP=t.logStreamDisconnectWarning=t.getRpcPromiseCallback=t.createErrorMiddleware=void 0;const n=r(8094);t.createErrorMiddleware=function(e){return(t,r,i)=>{"string"==typeof t.method&&t.method||(r.error=n.ethErrors.rpc.invalidRequest({message:"The request 'method' must be a non-empty string.",data:t})),i((t=>{const{error:n}=r;return n?(e.error(`MetaMask - RPC Error: ${n.message}`,n),t()):t()}))}},t.getRpcPromiseCallback=(e,t,r=!0)=>(n,i)=>{n||i.error?t(n||i.error):!r||Array.isArray(i)?e(i):e(i.result)},t.logStreamDisconnectWarning=function(e,t,r,n){let i=`MetaMask: Lost connection to "${t}".`;(null==r?void 0:r.stack)&&(i+=`\n${r.stack}`),e.warn(i),n&&n.listenerCount("error")>0&&n.emit("error",i)},t.NOOP=()=>{},t.EMITTED_NOTIFICATIONS=["eth_subscription"]},8787:e=>{"use strict";var t=Array.isArray,r=Object.keys,n=Object.prototype.hasOwnProperty;e.exports=function e(i,o){if(i===o)return!0;if(i&&o&&"object"==typeof i&&"object"==typeof o){var a,s,u,c=t(i),l=t(o);if(c&&l){if((s=i.length)!=o.length)return!1;for(a=s;0!=a--;)if(!e(i[a],o[a]))return!1;return!0}if(c!=l)return!1;var f=i instanceof Date,d=o instanceof Date;if(f!=d)return!1;if(f&&d)return i.getTime()==o.getTime();var h=i instanceof RegExp,p=o instanceof RegExp;if(h!=p)return!1;if(h&&p)return i.toString()==o.toString();var g=r(i);if((s=g.length)!==r(o).length)return!1;for(a=s;0!=a--;)if(!n.call(o,g[a]))return!1;for(a=s;0!=a--;)if(!e(i[u=g[a]],o[u]))return!1;return!0}return i!=i&&o!=o}},3795:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2699);function i(e,t,r){try{Reflect.apply(e,t,r)}catch(e){setTimeout((()=>{throw e}))}}class o extends n.EventEmitter{emit(e,...t){let r="error"===e;const n=this._events;if(void 0!==n)r=r&&void 0===n.error;else if(!r)return!1;if(r){let e;if(t.length>0&&([e]=t),e instanceof Error)throw e;const r=new Error("Unhandled error."+(e?` (${e.message})`:""));throw r.context=e,r}const o=n[e];if(void 0===o)return!1;if("function"==typeof o)i(o,this,t);else{const e=o.length,r=function(e){const t=e.length,r=new Array(t);for(let n=0;n<t;n+=1)r[n]=e[n];return r}(o);for(let n=0;n<e;n+=1)i(r[n],this,t)}return!0}}t.default=o},5778:(e,t,r)=>{"use strict";var n=r(7320);function i(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0}function o(e){return r.g.Buffer&&"function"==typeof r.g.Buffer.isBuffer?r.g.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var a=r(1485),s=Object.prototype.hasOwnProperty,u=Array.prototype.slice,c="foo"===function(){}.name;function l(e){return Object.prototype.toString.call(e)}function f(e){return!o(e)&&"function"==typeof r.g.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}var d=e.exports=m,h=/\s*function\s+([^\(\s]*)\s*/;function p(e){if(a.isFunction(e)){if(c)return e.name;var t=e.toString().match(h);return t&&t[1]}}function g(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function y(e){if(c||!a.isFunction(e))return a.inspect(e);var t=p(e);return"[Function"+(t?": "+t:"")+"]"}function b(e,t,r,n,i){throw new d.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:i})}function m(e,t){e||b(e,!0,t,"==",d.ok)}function w(e,t,r,n){if(e===t)return!0;if(o(e)&&o(t))return 0===i(e,t);if(a.isDate(e)&&a.isDate(t))return e.getTime()===t.getTime();if(a.isRegExp(e)&&a.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(f(e)&&f(t)&&l(e)===l(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===i(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(o(e)!==o(t))return!1;var s=(n=n||{actual:[],expected:[]}).actual.indexOf(e);return-1!==s&&s===n.expected.indexOf(t)||(n.actual.push(e),n.expected.push(t),function(e,t,r,n){if(null==e||null==t)return!1;if(a.isPrimitive(e)||a.isPrimitive(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=v(e),o=v(t);if(i&&!o||!i&&o)return!1;if(i)return w(e=u.call(e),t=u.call(t),r);var s,c,l=E(e),f=E(t);if(l.length!==f.length)return!1;for(l.sort(),f.sort(),c=l.length-1;c>=0;c--)if(l[c]!==f[c])return!1;for(c=l.length-1;c>=0;c--)if(!w(e[s=l[c]],t[s],r,n))return!1;return!0}(e,t,r,n))}return r?e===t:e==t}function v(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function _(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function S(e,t,r,n){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),i=function(e){var t;try{e()}catch(e){t=e}return t}(t),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),e&&!i&&b(i,r,"Missing expected exception"+n);var o="string"==typeof n,s=!e&&i&&!r;if((!e&&a.isError(i)&&o&&_(i,r)||s)&&b(i,r,"Got unwanted exception"+n),e&&i&&r&&!_(i,r)||!e&&i)throw i}d.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return g(y(e.actual),128)+" "+e.operator+" "+g(y(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||b;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var r=new Error;if(r.stack){var n=r.stack,i=p(t),o=n.indexOf("\n"+i);if(o>=0){var a=n.indexOf("\n",o+1);n=n.substring(a+1)}this.stack=n}}},a.inherits(d.AssertionError,Error),d.fail=b,d.ok=m,d.equal=function(e,t,r){e!=t&&b(e,t,r,"==",d.equal)},d.notEqual=function(e,t,r){e==t&&b(e,t,r,"!=",d.notEqual)},d.deepEqual=function(e,t,r){w(e,t,!1)||b(e,t,r,"deepEqual",d.deepEqual)},d.deepStrictEqual=function(e,t,r){w(e,t,!0)||b(e,t,r,"deepStrictEqual",d.deepStrictEqual)},d.notDeepEqual=function(e,t,r){w(e,t,!1)&&b(e,t,r,"notDeepEqual",d.notDeepEqual)},d.notDeepStrictEqual=function e(t,r,n){w(t,r,!0)&&b(t,r,n,"notDeepStrictEqual",e)},d.strictEqual=function(e,t,r){e!==t&&b(e,t,r,"===",d.strictEqual)},d.notStrictEqual=function(e,t,r){e===t&&b(e,t,r,"!==",d.notStrictEqual)},d.throws=function(e,t,r){S(!0,e,t,r)},d.doesNotThrow=function(e,t,r){S(!1,e,t,r)},d.ifError=function(e){if(e)throw e},d.strict=n((function e(t,r){t||b(t,!0,r,"==",e)}),d,{equal:d.strictEqual,deepEqual:d.deepStrictEqual,notEqual:d.notStrictEqual,notDeepEqual:d.notDeepStrictEqual}),d.strict.strict=d.strict;var E=Object.keys||function(e){var t=[];for(var r in e)s.call(e,r)&&t.push(r);return t}},5147:e=>{"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},6819:e=>{e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},1485:(e,t,r)=>{var n=r(4406),i=r(3716),o=/%[sdj%]/g;t.format=function(e){if(!m(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(u(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,a=String(e).replace(o,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),s=n[r];r<i;s=n[++r])y(s)||!_(s)?a+=" "+s:a+=" "+u(s);return a},t.deprecate=function(e,o){if(w(r.g.process))return function(){return t.deprecate(e,o).apply(this,arguments)};if(!0===n.noDeprecation)return e;var a=!1;return function(){if(!a){if(n.throwDeprecation)throw new Error(o);n.traceDeprecation?i.trace(o):i.error(o),a=!0}return e.apply(this,arguments)}};var a,s={};function u(e,r){var n={seen:[],stylize:l};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),g(r)?n.showHidden=r:r&&t._extend(n,r),w(n.showHidden)&&(n.showHidden=!1),w(n.depth)&&(n.depth=2),w(n.colors)&&(n.colors=!1),w(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=c),f(n,e,n.depth)}function c(e,t){var r=u.styles[t];return r?"["+u.colors[r][0]+"m"+e+"["+u.colors[r][1]+"m":e}function l(e,t){return e}function f(e,r,n){if(e.customInspect&&r&&O(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return m(i)||(i=f(e,i,n)),i}var o=function(e,t){if(w(t))return e.stylize("undefined","undefined");if(m(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return b(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):y(t)?e.stylize("null","null"):void 0}(e,r);if(o)return o;var a=Object.keys(r),s=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(r)),E(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return d(r);if(0===a.length){if(O(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(v(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(S(r))return e.stylize(Date.prototype.toString.call(r),"date");if(E(r))return d(r)}var c,l="",_=!1,R=["{","}"];return p(r)&&(_=!0,R=["[","]"]),O(r)&&(l=" [Function"+(r.name?": "+r.name:"")+"]"),v(r)&&(l=" "+RegExp.prototype.toString.call(r)),S(r)&&(l=" "+Date.prototype.toUTCString.call(r)),E(r)&&(l=" "+d(r)),0!==a.length||_&&0!=r.length?n<0?v(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),c=_?function(e,t,r,n,i){for(var o=[],a=0,s=t.length;a<s;++a)k(t,String(a))?o.push(h(e,t,r,n,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(h(e,t,r,n,i,!0))})),o}(e,r,n,s,a):a.map((function(t){return h(e,r,n,s,t,_)})),e.seen.pop(),function(e,t,r){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}(c,l,R)):R[0]+l+R[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,r,n,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),k(n,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=y(r)?f(e,u.value,null):f(e,u.value,r-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),w(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function p(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function y(e){return null===e}function b(e){return"number"==typeof e}function m(e){return"string"==typeof e}function w(e){return void 0===e}function v(e){return _(e)&&"[object RegExp]"===R(e)}function _(e){return"object"==typeof e&&null!==e}function S(e){return _(e)&&"[object Date]"===R(e)}function E(e){return _(e)&&("[object Error]"===R(e)||e instanceof Error)}function O(e){return"function"==typeof e}function R(e){return Object.prototype.toString.call(e)}function M(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(w(a)&&(a=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!s[e])if(new RegExp("\\b"+e+"\\b","i").test(a)){var r=n.pid;s[e]=function(){var n=t.format.apply(t,arguments);i.error("%s %d: %s",e,r,n)}}else s[e]=function(){};return s[e]},t.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=g,t.isNull=y,t.isNullOrUndefined=function(e){return null==e},t.isNumber=b,t.isString=m,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=w,t.isRegExp=v,t.isObject=_,t.isDate=S,t.isError=E,t.isFunction=O,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(6819);var j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function P(){var e=new Date,t=[M(e.getHours()),M(e.getMinutes()),M(e.getSeconds())].join(":");return[e.getDate(),j[e.getMonth()],t].join(" ")}function k(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){i.log("%s - %s",P(),t.format.apply(t,arguments))},t.inherits=r(5147),t._extend=function(e,t){if(!t||!_(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}},5766:(e,t)=>{"use strict";t.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,o=u(e),a=o[0],s=o[1],c=new i(function(e,t,r){return 3*(t+r)/4-r}(0,a,s)),l=0,f=s>0?a-4:a;for(r=0;r<f;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return 2===s&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,c[l++]=255&t),1===s&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=16383,s=0,u=n-i;s<u;s+=a)o.push(c(e,s,s+a>u?u:s+a));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=o.length;a<s;++a)r[a]=o[a],n[o.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},8834:(e,t,r)=>{"use strict";var n=r(3716);const i=r(5766),o=r(2333),a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},t.INSPECT_MAX_BYTES=50;const s=2147483647;function u(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return l(e,t,r)}function l(e,t,r){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|y(e,t);let n=u(r);const i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Y(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Y(e,ArrayBuffer)||e&&Y(e.buffer,ArrayBuffer))return p(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(Y(e,SharedArrayBuffer)||e&&Y(e.buffer,SharedArrayBuffer)))return p(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return c.from(n,t,r);const i=function(e){if(c.isBuffer(e)){const t=0|g(e.length),r=u(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||X(e.length)?u(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return f(e),u(e<0?0:0|g(e))}function h(e){const t=e.length<0?0:0|g(e.length),r=u(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function p(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,c.prototype),n}function g(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function y(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Y(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return V(e).length;default:if(i)return n?-1:G(e).length;t=(""+t).toLowerCase(),i=!0}}function b(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,r);case"utf8":case"utf-8":return j(this,t,r);case"ascii":return k(this,t,r);case"latin1":case"binary":return A(this,t,r);case"base64":return M(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function m(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function w(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),X(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,i){let o,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let n=-1;for(o=r;o<s;o++)if(c(e,o)===c(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===u)return n*a}else-1!==n&&(o-=o-n),n=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){let r=!0;for(let n=0;n<u;n++)if(c(e,o+n)!==c(t,n)){r=!1;break}if(r)return o}return-1}function _(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=t.length;let a;for(n>o/2&&(n=o/2),a=0;a<n;++a){const n=parseInt(t.substr(2*a,2),16);if(X(n))return a;e[r+a]=n}return a}function S(e,t,r,n){return K(G(t,e.length-r),e,r,n)}function E(e,t,r,n){return K(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function O(e,t,r,n){return K(V(t),e,r,n)}function R(e,t,r,n){return K(function(e,t){let r,n,i;const o=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function M(e,t,r){return 0===t&&r===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,r))}function j(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let o=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=r){let r,n,s,u;switch(a){case 1:t<128&&(o=t);break;case 2:r=e[i+1],128==(192&r)&&(u=(31&t)<<6|63&r,u>127&&(o=u));break;case 3:r=e[i+1],n=e[i+2],128==(192&r)&&128==(192&n)&&(u=(15&t)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:r=e[i+1],n=e[i+2],s=e[i+3],128==(192&r)&&128==(192&n)&&128==(192&s)&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&s,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=a}return function(e){const t=e.length;if(t<=P)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=P));return r}(n)}t.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||void 0===n||"function"!=typeof n.error||n.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,r){return function(e,t,r){return f(e),e<=0?u(e):void 0!==t?"string"==typeof r?u(e).fill(t,r):u(e).fill(t):u(e)}(e,t,r)},c.allocUnsafe=function(e){return d(e)},c.allocUnsafeSlow=function(e){return d(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),Y(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=c.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(Y(t,Uint8Array))i+t.length>n.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},c.byteLength=y,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)m(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?j(this,0,e):b.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},a&&(c.prototype[a]=c.prototype.inspect),c.prototype.compare=function(e,t,r,n,i){if(Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0);const s=Math.min(o,a),u=this.slice(n,i),l=e.slice(t,r);for(let e=0;e<s;++e)if(u[e]!==l[e]){o=u[e],a=l[e];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return w(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return w(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return _(this,e,t,r);case"utf8":case"utf-8":return S(this,e,t,r);case"ascii":case"latin1":case"binary":return E(this,e,t,r);case"base64":return O(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const P=4096;function k(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function A(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function x(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=Z[e[n]];return i}function C(e,t,r){const n=e.slice(t,r);let i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}function T(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,r,n,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function I(e,t,r,n,i){z(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function B(e,t,r,n,i){z(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function D(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(e,t,r,n,i){return t=+t,r>>>=0,i||D(e,0,r,4),o.write(e,t,r,n,23,4),r+4}function U(e,t,r,n,i){return t=+t,r>>>=0,i||D(e,0,r,8),o.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||T(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||T(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||T(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||T(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||T(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=Q((function(e){J(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||$(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),c.prototype.readBigUInt64BE=Q((function(e){J(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||$(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),c.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return e>>>=0,t||T(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||T(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){e>>>=0,t||T(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||T(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||T(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=Q((function(e){J(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||$(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=Q((function(e){J(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||$(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||T(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||T(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||T(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||T(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||N(this,e,t,r,Math.pow(2,8*r)-1,0);let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||N(this,e,t,r,Math.pow(2,8*r)-1,0);let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=Q((function(e,t=0){return I(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=Q((function(e,t=0){return B(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);N(this,e,t,r,n-1,-n)}let i=0,o=1,a=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);N(this,e,t,r,n-1,-n)}let i=r-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=Q((function(e,t=0){return I(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=Q((function(e,t=0){return B(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,r){return L(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return L(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return U(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return U(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},c.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{const o=c.isBuffer(e)?e:c.from(e,n),a=o.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%a]}return this};const q={};function W(e,t,r){q[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function F(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function z(e,t,r,n,i,o){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new q.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){J(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||$(t,e.length-(r+1))}(n,i,o)}function J(e,t){if("number"!=typeof e)throw new q.ERR_INVALID_ARG_TYPE(t,"number",e)}function $(e,t,r){if(Math.floor(e)!==e)throw J(e,r),new q.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new q.ERR_BUFFER_OUT_OF_BOUNDS;throw new q.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}W("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),W("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),W("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=F(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=F(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const H=/[^+/0-9A-Za-z-_]/g;function G(e,t){let r;t=t||1/0;const n=e.length;let i=null;const o=[];for(let a=0;a<n;++a){if(r=e.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function V(e){return i.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function K(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Y(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function X(e){return e!=e}const Z=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function Q(e){return"undefined"==typeof BigInt?ee:e}function ee(){throw new Error("BigInt not supported")}},2680:(e,t,r)=>{"use strict";var n=r(7286),i=r(9429),o=i(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&o(e,".prototype.")>-1?i(r):r}},9429:(e,t,r)=>{"use strict";var n=r(4090),i=r(7286),o=i("%Function.prototype.apply%"),a=i("%Function.prototype.call%"),s=i("%Reflect.apply%",!0)||n.call(a,o),u=i("%Object.getOwnPropertyDescriptor%",!0),c=i("%Object.defineProperty%",!0),l=i("%Math.max%");if(c)try{c({},"a",{value:1})}catch(e){c=null}e.exports=function(e){var t=s(n,a,arguments);if(u&&c){var r=u(t,"length");r.configurable&&c(t,"length",{value:1+l(0,e.length-(arguments.length-1))})}return t};var f=function(){return s(n,o,arguments)};c?c(e.exports,"apply",{value:f}):e.exports.apply=f},3716:(e,t,r)=>{var n=r(3335),i=r(5778);function o(){return(new Date).getTime()}var a,s=Array.prototype.slice,u={};a=void 0!==r.g&&r.g.console?r.g.console:"undefined"!=typeof window&&window.console?window.console:{};for(var c=[[function(){},"log"],[function(){a.log.apply(a,arguments)},"info"],[function(){a.log.apply(a,arguments)},"warn"],[function(){a.warn.apply(a,arguments)},"error"],[function(e){u[e]=o()},"time"],[function(e){var t=u[e];if(!t)throw new Error("No such label: "+e);delete u[e];var r=o()-t;a.log(e+": "+r+"ms")},"timeEnd"],[function(){var e=new Error;e.name="Trace",e.message=n.format.apply(null,arguments),a.error(e.stack)},"trace"],[function(e){a.log(n.inspect(e)+"\n")},"dir"],[function(e){if(!e){var t=s.call(arguments,1);i.ok(!1,n.format.apply(null,t))}},"assert"]],l=0;l<c.length;l++){var f=c[l],d=f[0],h=f[1];a[h]||(a[h]=d)}e.exports=a},7646:(e,t,r)=>{var n=r(8834).Buffer;function i(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===i(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===i(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===i(e)},t.isError=function(e){return"[object Error]"===i(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n.isBuffer},4924:(e,t,r)=>{"use strict";r.r(t),r.d(t,{BrowserInfo:()=>o,NodeInfo:()=>a,SearchBotDeviceInfo:()=>s,BotInfo:()=>u,ReactNativeInfo:()=>c,detect:()=>h,browserName:()=>g,parseUserAgent:()=>y,detectOS:()=>b,getNodeVersion:()=>m});var n=r(4406),i=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},o=function(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"},a=function(e){this.version=e,this.type="node",this.name="node",this.os=n.platform},s=function(e,t,r,n){this.name=e,this.version=t,this.os=r,this.bot=n,this.type="bot-device"},u=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},c=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},l=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,f=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],d=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function h(e){return e?y(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new c:"undefined"!=typeof navigator?y(navigator.userAgent):m()}function p(e){return""!==e&&f.reduce((function(t,r){var n=r[0],i=r[1];if(t)return t;var o=i.exec(e);return!!o&&[n,o]}),!1)}function g(e){var t=p(e);return t?t[0]:null}function y(e){var t=p(e);if(!t)return null;var r=t[0],n=t[1];if("searchbot"===r)return new u;var a=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);a?a.length<3&&(a=i(i([],a,!0),function(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}(3-a.length),!0)):a=[];var c=a.join("."),f=b(e),d=l.exec(e);return d&&d[1]?new s(r,c,f,d[1]):new o(r,c,f)}function b(e){for(var t=0,r=d.length;t<r;t++){var n=d[t],i=n[0];if(n[1].exec(e))return i}return null}function m(){return void 0!==n&&n.version?new a(n.version.slice(1)):null}},8797:(e,t,r)=>{var n=r(4406),i=r(9928),o=function(){},a=function(e,t,r){if("function"==typeof t)return a(e,null,t);t||(t={}),r=i(r||o);var s=e._writableState,u=e._readableState,c=t.readable||!1!==t.readable&&e.readable,l=t.writable||!1!==t.writable&&e.writable,f=!1,d=function(){e.writable||h()},h=function(){l=!1,c||r.call(e)},p=function(){c=!1,l||r.call(e)},g=function(t){r.call(e,t?new Error("exited with error code: "+t):null)},y=function(t){r.call(e,t)},b=function(){n.nextTick(m)},m=function(){if(!f)return(!c||u&&u.ended&&!u.destroyed)&&(!l||s&&s.ended&&!s.destroyed)?void 0:r.call(e,new Error("premature close"))},w=function(){e.req.on("finish",h)};return function(e){return e.setHeader&&"function"==typeof e.abort}(e)?(e.on("complete",h),e.on("abort",b),e.req?w():e.on("request",w)):l&&!s&&(e.on("end",d),e.on("close",d)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(e)&&e.on("exit",g),e.on("end",p),e.on("finish",h),!1!==t.error&&e.on("error",y),e.on("close",b),function(){f=!0,e.removeListener("complete",h),e.removeListener("abort",b),e.removeListener("request",w),e.req&&e.req.removeListener("finish",h),e.removeListener("end",d),e.removeListener("close",d),e.removeListener("finish",h),e.removeListener("exit",g),e.removeListener("end",p),e.removeListener("error",y),e.removeListener("close",b)}};e.exports=a},4723:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EthereumProviderError=t.EthereumRpcError=void 0;const n=r(7847);class i extends Error{constructor(e,t,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw new Error('"message" must be a nonempty string.');super(t),this.code=e,void 0!==r&&(this.data=r)}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return n.default(this.serialize(),o,2)}}function o(e,t){if("[Circular]"!==t)return t}t.EthereumRpcError=i,t.EthereumProviderError=class extends i{constructor(e,t,r){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,r)}}},4792:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorValues=t.errorCodes=void 0,t.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},t.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}},8159:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ethErrors=void 0;const n=r(4723),i=r(894),o=r(4792);function a(e,t){const[r,o]=u(t);return new n.EthereumRpcError(e,r||i.getMessageFromCode(e),o)}function s(e,t){const[r,o]=u(t);return new n.EthereumProviderError(e,r||i.getMessageFromCode(e),o)}function u(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&"string"!=typeof t)throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}t.ethErrors={rpc:{parse:e=>a(o.errorCodes.rpc.parse,e),invalidRequest:e=>a(o.errorCodes.rpc.invalidRequest,e),invalidParams:e=>a(o.errorCodes.rpc.invalidParams,e),methodNotFound:e=>a(o.errorCodes.rpc.methodNotFound,e),internal:e=>a(o.errorCodes.rpc.internal,e),server:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return a(t,e)},invalidInput:e=>a(o.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>a(o.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>a(o.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>a(o.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>a(o.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>a(o.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>s(o.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>s(o.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>s(o.errorCodes.provider.unsupportedMethod,e),disconnected:e=>s(o.errorCodes.provider.disconnected,e),chainDisconnected:e=>s(o.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:r,data:i}=e;if(!r||"string"!=typeof r)throw new Error('"message" must be a nonempty string');return new n.EthereumProviderError(t,r,i)}}}},8094:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const n=r(4723);Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return n.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return n.EthereumProviderError}});const i=r(894);Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return i.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return i.getMessageFromCode}});const o=r(8159);Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return o.ethErrors}});const a=r(4792);Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return a.errorCodes}})},894:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const n=r(4792),i=r(4723),o=n.errorCodes.rpc.internal,a={code:o,message:s(o)};function s(e,r="Unspecified error message. This is a bug, please report it."){if(Number.isInteger(e)){const r=e.toString();if(f(n.errorValues,r))return n.errorValues[r].message;if(c(e))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return r}function u(e){if(!Number.isInteger(e))return!1;const t=e.toString();return!!n.errorValues[t]||!!c(e)}function c(e){return e>=-32099&&e<=-32e3}function l(e){return e&&"object"==typeof e&&!Array.isArray(e)?Object.assign({},e):e}function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",t.getMessageFromCode=s,t.isValidCode=u,t.serializeError=function(e,{fallbackError:t=a,shouldIncludeStack:r=!1}={}){var n,o;if(!t||!Number.isInteger(t.code)||"string"!=typeof t.message)throw new Error("Must provide fallback error with integer number code and string message.");if(e instanceof i.EthereumRpcError)return e.serialize();const c={};if(e&&"object"==typeof e&&!Array.isArray(e)&&f(e,"code")&&u(e.code)){const t=e;c.code=t.code,t.message&&"string"==typeof t.message?(c.message=t.message,f(t,"data")&&(c.data=t.data)):(c.message=s(c.code),c.data={originalError:l(e)})}else{c.code=t.code;const r=null===(n=e)||void 0===n?void 0:n.message;c.message=r&&"string"==typeof r?r:t.message,c.data={originalError:l(e)}}const d=null===(o=e)||void 0===o?void 0:o.stack;return r&&e&&d&&"string"==typeof d&&(c.stack=d),c}},2699:(e,t,r)=>{"use strict";var n,i=r(3716),o="object"==typeof Reflect?Reflect:null,a=o&&"function"==typeof o.apply?o.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function u(){u.init.call(this)}e.exports=u,e.exports.once=function(e,t){return new Promise((function(r,n){function i(){void 0!==o&&e.removeListener("error",o),r([].slice.call(arguments))}var o;"error"!==t&&(o=function(r){e.removeListener(t,i),n(r)},e.once("error",o)),e.once(t,i)}))},u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var c=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function f(e){return void 0===e._maxListeners?u.defaultMaxListeners:e._maxListeners}function d(e,t,r,n){var o,a,s,u;if(l(r),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),s=a[t]),void 0===s)s=a[t]=r,++e._eventsCount;else if("function"==typeof s?s=a[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(o=f(e))>0&&s.length>o&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,u=c,i&&i.warn&&i.warn(u)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=h.bind(n);return i.listener=r,n.wrapFn=i,i}function g(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):b(i,i.length)}function y(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function b(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),u.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},u.prototype.getMaxListeners=function(){return f(this)},u.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)a(u,this,t);else{var c=u.length,l=b(u,c);for(r=0;r<c;++r)a(l[r],this,t)}return!0},u.prototype.addListener=function(e,t){return d(this,e,t,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(e,t){return d(this,e,t,!0)},u.prototype.once=function(e,t){return l(t),this.on(e,p(this,e,t)),this},u.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,p(this,e,t)),this},u.prototype.removeListener=function(e,t){var r,n,i,o,a;if(l(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},u.prototype.listeners=function(e){return g(this,e,!0)},u.prototype.rawListeners=function(e){return g(this,e,!1)},u.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):y.call(e,t)},u.prototype.listenerCount=y,u.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},3274:(e,t,r)=>{"use strict";var n=r(8834).Buffer;const i=r(4851);e.exports=class extends i.Duplex{constructor(e){super({objectMode:!0}),this._port=e,this._port.onMessage.addListener((e=>this._onMessage(e))),this._port.onDisconnect.addListener((()=>this._onDisconnect()))}_onMessage(e){if(n.isBuffer(e)){const t=n.from(e);this.push(t)}else this.push(e)}_onDisconnect(){this.destroy()}_read(){}_write(e,t,r){try{if(n.isBuffer(e)){const t=e.toJSON();t._isBuffer=!0,this._port.postMessage(t)}else this._port.postMessage(e)}catch(e){return r(new Error("PortDuplexStream - disconnected"))}return r()}}},7847:e=>{e.exports=n,n.default=n,n.stable=a,n.stableStringify=a;var t=[],r=[];function n(e,n,o){var a;for(i(e,"",[],void 0),a=0===r.length?JSON.stringify(e,n,o):JSON.stringify(e,u(n),o);0!==t.length;){var s=t.pop();4===s.length?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}return a}function i(e,n,o,a){var s;if("object"==typeof e&&null!==e){for(s=0;s<o.length;s++)if(o[s]===e){var u=Object.getOwnPropertyDescriptor(a,n);return void(void 0!==u.get?u.configurable?(Object.defineProperty(a,n,{value:"[Circular]"}),t.push([a,n,e,u])):r.push([e,n]):(a[n]="[Circular]",t.push([a,n,e])))}if(o.push(e),Array.isArray(e))for(s=0;s<e.length;s++)i(e[s],s,o,e);else{var c=Object.keys(e);for(s=0;s<c.length;s++){var l=c[s];i(e[l],l,o,e)}}o.pop()}}function o(e,t){return e<t?-1:e>t?1:0}function a(e,n,i){var o,a=s(e,"",[],void 0)||e;for(o=0===r.length?JSON.stringify(a,n,i):JSON.stringify(a,u(n),i);0!==t.length;){var c=t.pop();4===c.length?Object.defineProperty(c[0],c[1],c[3]):c[0][c[1]]=c[2]}return o}function s(e,n,i,a){var u;if("object"==typeof e&&null!==e){for(u=0;u<i.length;u++)if(i[u]===e){var c=Object.getOwnPropertyDescriptor(a,n);return void(void 0!==c.get?c.configurable?(Object.defineProperty(a,n,{value:"[Circular]"}),t.push([a,n,e,c])):r.push([e,n]):(a[n]="[Circular]",t.push([a,n,e])))}if("function"==typeof e.toJSON)return;if(i.push(e),Array.isArray(e))for(u=0;u<e.length;u++)s(e[u],u,i,e);else{var l={},f=Object.keys(e).sort(o);for(u=0;u<f.length;u++){var d=f[u];s(e[d],d,i,e),l[d]=e[d]}if(void 0===a)return l;t.push([a,n,e]),a[n]=l}i.pop()}}function u(e){return e=void 0!==e?e:function(e,t){return t},function(t,n){if(r.length>0)for(var i=0;i<r.length;i++){var o=r[i];if(o[1]===t&&o[0]===n){n="[Circular]",r.splice(i,1);break}}return e.call(this,t,n)}}},6388:e=>{var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString;e.exports=function(e,n,i){if("[object Function]"!==r.call(n))throw new TypeError("iterator must be a function");var o=e.length;if(o===+o)for(var a=0;a<o;a++)n.call(i,e[a],a,e);else for(var s in e)t.call(e,s)&&n.call(i,e[s],s,e)}},7795:e=>{"use strict";var t="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,n=Object.prototype.toString,i="[object Function]";e.exports=function(e){var o=this;if("function"!=typeof o||n.call(o)!==i)throw new TypeError(t+o);for(var a,s=r.call(arguments,1),u=function(){if(this instanceof a){var t=o.apply(this,s.concat(r.call(arguments)));return Object(t)===t?t:this}return o.apply(e,s.concat(r.call(arguments)))},c=Math.max(0,o.length-s.length),l=[],f=0;f<c;f++)l.push("$"+f);if(a=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(u),o.prototype){var d=function(){};d.prototype=o.prototype,a.prototype=new d,d.prototype=null}return a}},4090:(e,t,r)=>{"use strict";var n=r(7795);e.exports=Function.prototype.bind||n},7286:(e,t,r)=>{"use strict";var n,i=SyntaxError,o=Function,a=TypeError,s=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(e){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(e){u=null}var c=function(){throw new a},l=u?function(){try{return c}catch(e){try{return u(arguments,"callee").get}catch(e){return c}}}():c,f=r(4123)(),d=Object.getPrototypeOf||function(e){return e.__proto__},h={},p="undefined"==typeof Uint8Array?n:d(Uint8Array),g={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":f?d([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":h,"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":h,"%AsyncIteratorPrototype%":h,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":h,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f?d(d([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&f?d((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&f?d((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f?d(""[Symbol.iterator]()):n,"%Symbol%":f?Symbol:n,"%SyntaxError%":i,"%ThrowTypeError%":l,"%TypedArray%":p,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet},y=function e(t){var r;if("%AsyncFunction%"===t)r=s("async function () {}");else if("%GeneratorFunction%"===t)r=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=s("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(r=d(i.prototype))}return g[t]=r,r},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},m=r(4090),w=r(3198),v=m.call(Function.call,Array.prototype.concat),_=m.call(Function.apply,Array.prototype.splice),S=m.call(Function.call,String.prototype.replace),E=m.call(Function.call,String.prototype.slice),O=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,R=/\\(\\)?/g,M=function(e){var t=E(e,0,1),r=E(e,-1);if("%"===t&&"%"!==r)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var n=[];return S(e,O,(function(e,t,r,i){n[n.length]=r?S(i,R,"$1"):t||e})),n},j=function(e,t){var r,n=e;if(w(b,n)&&(n="%"+(r=b[n])[0]+"%"),w(g,n)){var o=g[n];if(o===h&&(o=y(n)),void 0===o&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new a('"allowMissing" argument must be a boolean');var r=M(e),n=r.length>0?r[0]:"",o=j("%"+n+"%",t),s=o.name,c=o.value,l=!1,f=o.alias;f&&(n=f[0],_(r,v([0,1],f)));for(var d=1,h=!0;d<r.length;d+=1){var p=r[d],y=E(p,0,1),b=E(p,-1);if(('"'===y||"'"===y||"`"===y||'"'===b||"'"===b||"`"===b)&&y!==b)throw new i("property names with quotes must have matching quotes");if("constructor"!==p&&h||(l=!0),w(g,s="%"+(n+="."+p)+"%"))c=g[s];else if(null!=c){if(!(p in c)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(u&&d+1>=r.length){var m=u(c,p);c=(h=!!m)&&"get"in m&&!("originalValue"in m.get)?m.get:c[p]}else h=w(c,p),c=c[p];h&&!l&&(g[s]=c)}}return c}},4123:(e,t,r)=>{"use strict";var n=r.g.Symbol,i=r(300);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&i()}},300:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},6679:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},7226:(e,t,r)=>{"use strict";var n=r(6679);e.exports=function(){return n()&&!!Symbol.toStringTag}},3198:(e,t,r)=>{"use strict";var n=r(4090);e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},2333:(e,t)=>{t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,f=r?i-1:0,d=r?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-l)-1,h>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=d,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+e[t+f],f+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),o-=c}return(h?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[r+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+h]=255&a,h+=p,a/=256,c-=8);e[r+h-p]|=128*g}},1285:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},2635:(e,t,r)=>{"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,i=r(2680)("Object.prototype.toString"),o=function(e){return!(n&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===i(e)},a=function(e){return!!o(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==i(e)&&"[object Function]"===i(e.callee)},s=function(){return o(arguments)}();o.isLegacyArguments=a,e.exports=s?o:a},3138:(e,t,r)=>{"use strict";var n,i=Object.prototype.toString,o=Function.prototype.toString,a=/^\s*(?:function)?\*/,s=r(7226)(),u=Object.getPrototypeOf;e.exports=function(e){if("function"!=typeof e)return!1;if(a.test(o.call(e)))return!0;if(!s)return"[object GeneratorFunction]"===i.call(e);if(!u)return!1;if(void 0===n){var t=function(){if(!s)return!1;try{return Function("return function*() {}")()}catch(e){}}();n=!!t&&u(t)}return u(e)===n}},8607:e=>{"use strict";const t=e=>null!==e&&"object"==typeof e&&"function"==typeof e.pipe;t.writable=e=>t(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState,t.readable=e=>t(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState,t.duplex=e=>t.writable(e)&&t.readable(e),t.transform=e=>t.duplex(e)&&"function"==typeof e._transform&&"object"==typeof e._transformState,e.exports=t},198:(e,t,r)=>{"use strict";var n=r(6388),i=r(2191),o=r(2680),a=o("Object.prototype.toString"),s=r(7226)(),u="undefined"==typeof globalThis?r.g:globalThis,c=i(),l=o("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},f=o("String.prototype.slice"),d={},h=r(7342),p=Object.getPrototypeOf;s&&h&&p&&n(c,(function(e){var t=new u[e];if(Symbol.toStringTag in t){var r=p(t),n=h(r,Symbol.toStringTag);if(!n){var i=p(r);n=h(i,Symbol.toStringTag)}d[e]=n.get}})),e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!s||!(Symbol.toStringTag in e)){var t=f(a(e),8,-1);return l(c,t)>-1}return!!h&&function(e){var t=!1;return n(d,(function(r,n){if(!t)try{t=r.call(e)===n}catch(e){}})),t}(e)}},7906:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},2539:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.JsonRpcEngine=void 0;const i=n(r(3795)),o=r(8094);class a extends i.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,t){if(t&&"function"!=typeof t)throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?t?this._handleBatch(e,t):this._handleBatch(e):t?this._handle(e,t):this._promiseHandle(e)}asMiddleware(){return async(e,t,r,n)=>{try{const[i,o,s]=await a._runAllMiddleware(e,t,this._middleware);return o?(await a._runReturnHandlers(s),n(i)):r((async e=>{try{await a._runReturnHandlers(s)}catch(t){return e(t)}return e()}))}catch(e){return n(e)}}}async _handleBatch(e,t){try{const r=await Promise.all(e.map(this._promiseHandle.bind(this)));return t?t(null,r):r}catch(e){if(t)return t(e);throw e}}_promiseHandle(e){return new Promise((t=>{this._handle(e,((e,r)=>{t(r)}))}))}async _handle(e,t){if(!e||Array.isArray(e)||"object"!=typeof e){const r=new o.EthereumRpcError(o.errorCodes.rpc.invalidRequest,"Requests must be plain objects. Received: "+typeof e,{request:e});return t(r,{id:void 0,jsonrpc:"2.0",error:r})}if("string"!=typeof e.method){const r=new o.EthereumRpcError(o.errorCodes.rpc.invalidRequest,"Must specify a string method. Received: "+typeof e.method,{request:e});return t(r,{id:e.id,jsonrpc:"2.0",error:r})}const r=Object.assign({},e),n={id:r.id,jsonrpc:r.jsonrpc};let i=null;try{await this._processRequest(r,n)}catch(e){i=e}return i&&(delete n.result,n.error||(n.error=o.serializeError(i))),t(i,n)}async _processRequest(e,t){const[r,n,i]=await a._runAllMiddleware(e,t,this._middleware);if(a._checkForCompletion(e,t,n),await a._runReturnHandlers(i),r)throw r}static async _runAllMiddleware(e,t,r){const n=[];let i=null,o=!1;for(const s of r)if([i,o]=await a._runMiddleware(e,t,s,n),o)break;return[i,o,n.reverse()]}static _runMiddleware(e,t,r,n){return new Promise((i=>{const a=e=>{const r=e||t.error;r&&(t.error=o.serializeError(r)),i([r,!0])},u=r=>{t.error?a(t.error):(r&&("function"!=typeof r&&a(new o.EthereumRpcError(o.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof r}" for request:\n${s(e)}`,{request:e})),n.push(r)),i([null,!1]))};try{r(e,t,u,a)}catch(e){a(e)}}))}static async _runReturnHandlers(e){for(const t of e)await new Promise(((e,r)=>{t((t=>t?r(t):e()))}))}static _checkForCompletion(e,t,r){if(!("result"in t)&&!("error"in t))throw new o.EthereumRpcError(o.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:\n${s(e)}`,{request:e});if(!r)throw new o.EthereumRpcError(o.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:\n${s(e)}`,{request:e})}}function s(e){return JSON.stringify(e,null,2)}t.JsonRpcEngine=a},7573:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAsyncMiddleware=void 0,t.createAsyncMiddleware=function(e){return async(t,r,n,i)=>{let o;const a=new Promise((e=>{o=e}));let s=null,u=!1;const c=async()=>{u=!0,n((e=>{s=e,o()})),await a};try{await e(t,r,c),u?(await a,s(null)):i(null)}catch(e){s?s(e):i(e)}}}},9141:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createScaffoldMiddleware=void 0,t.createScaffoldMiddleware=function(e){return(t,r,n,i)=>{const o=e[t.method];return void 0===o?n():"function"==typeof o?o(t,r,n,i):(r.result=o,i())}}},5104:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUniqueId=void 0;const r=4294967295;let n=Math.floor(Math.random()*r);t.getUniqueId=function(){return n=(n+1)%r,n}},169:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createIdRemapMiddleware=void 0;const n=r(5104);t.createIdRemapMiddleware=function(){return(e,t,r,i)=>{const o=e.id,a=n.getUniqueId();e.id=a,t.id=a,r((r=>{e.id=o,t.id=o,r()}))}}},1280:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(169),t),i(r(7573),t),i(r(9141),t),i(r(5104),t),i(r(2539),t),i(r(1759),t)},1759:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeMiddleware=void 0;const n=r(2539);t.mergeMiddleware=function(e){const t=new n.JsonRpcEngine;return e.forEach((e=>t.push(e))),t.asMiddleware()}},2408:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(7525);t.default=function(e){if(!e||!e.engine)throw new Error("Missing engine parameter!");const{engine:t}=e,r=new n.Duplex({objectMode:!0,read:function(){},write:function(e,n,i){t.handle(e,((e,t)=>{r.push(t)})),i()}});return t.on&&t.on("notification",(e=>{r.push(e)})),r}},3603:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(3795)),o=r(7525);t.default=function(){const e={},t=new o.Duplex({objectMode:!0,read:function(){return!1},write:function(t,n,i){let o;try{t.id?function(t){const r=e[t.id];if(!r)throw new Error(`StreamMiddleware - Unknown response id "${t.id}"`);delete e[t.id],Object.assign(r.res,t),setTimeout(r.end)}(t):function(e){r.emit("notification",e)}(t)}catch(e){o=e}i(o)}}),r=new i.default;return{events:r,middleware:(r,n,i,o)=>{t.push(r),e[r.id]={req:r,res:n,next:i,end:o}},stream:t}}},1384:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createStreamMiddleware=t.createEngineStream=void 0;const i=n(r(2408));t.createEngineStream=i.default;const o=n(r(3603));t.createStreamMiddleware=o.default},7320:e=>{"use strict";var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var a,s,u=i(e),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))r.call(a,l)&&(u[l]=a[l]);if(t){s=t(a);for(var f=0;f<s.length;f++)n.call(a,s[f])&&(u[s[f]]=a[s[f]])}}return u}},9928:(e,t,r)=>{var n=r(8892);function i(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}e.exports=n(i),e.exports.strict=n(o),i.proto=i((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})}))},2884:(e,t,r)=>{"use strict";var n=r(4406);void 0===n||!n.version||0===n.version.indexOf("v0.")||0===n.version.indexOf("v1.")&&0!==n.version.indexOf("v1.8.")?e.exports={nextTick:function(e,t,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return n.nextTick(e);case 2:return n.nextTick((function(){e.call(null,t)}));case 3:return n.nextTick((function(){e.call(null,t,r)}));case 4:return n.nextTick((function(){e.call(null,t,r,i)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return n.nextTick((function(){e.apply(null,o)}))}}}:e.exports=n},4406:e=>{var t,r,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var s,u=[],c=!1,l=-1;function f(){c&&s&&(c=!1,s.length?u=s.concat(u):l=-1,u.length&&d())}function d(){if(!c){var e=a(f);c=!0;for(var t=u.length;t;){for(s=u,u=[];++l<t;)s&&s[l].run();l=-1,t=u.length}s=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new h(e,t)),1!==u.length||c||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},3171:(e,t,r)=>{var n=r(4406),i=r(9928),o=r(8797),a=r(3558),s=function(){},u=/^v?\.0/.test(n.version),c=function(e){return"function"==typeof e},l=function(e,t,r,n){n=i(n);var l=!1;e.on("close",(function(){l=!0})),o(e,{readable:t,writable:r},(function(e){if(e)return n(e);l=!0,n()}));var f=!1;return function(t){if(!l&&!f)return f=!0,function(e){return!!u&&!!a&&(e instanceof(a.ReadStream||s)||e instanceof(a.WriteStream||s))&&c(e.close)}(e)?e.close(s):function(e){return e.setHeader&&c(e.abort)}(e)?e.abort():c(e.destroy)?e.destroy():void n(t||new Error("stream was destroyed"))}},f=function(e){e()},d=function(e,t){return e.pipe(t)};e.exports=function(){var e,t=Array.prototype.slice.call(arguments),r=c(t[t.length-1]||s)&&t.pop()||s;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var n=t.map((function(i,o){var a=o<t.length-1;return l(i,a,o>0,(function(t){e||(e=t),t&&n.forEach(f),a||(n.forEach(f),r(e))}))}));return t.reduce(d)}},7073:(e,t,r)=>{"use strict";var n=r(2884),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=f;var o=Object.create(r(7646));o.inherits=r(1285);var a=r(8051),s=r(2557);o.inherits(f,a);for(var u=i(s.prototype),c=0;c<u.length;c++){var l=u[c];f.prototype[l]||(f.prototype[l]=s.prototype[l])}function f(e){if(!(this instanceof f))return new f(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||n.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},5163:(e,t,r)=>{"use strict";e.exports=o;var n=r(7640),i=Object.create(r(7646));function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}i.inherits=r(1285),i.inherits(o,n),o.prototype._transform=function(e,t,r){r(null,e)}},8051:(e,t,r)=>{"use strict";var n=r(4406),i=r(2884);e.exports=w;var o,a=r(7906);w.ReadableState=m,r(2699).EventEmitter;var s=function(e,t){return e.listeners(t).length},u=r(5010),c=r(2521).Buffer,l=r.g.Uint8Array||function(){},f=Object.create(r(7646));f.inherits=r(1285);var d=r(6602),h=void 0;h=d&&d.debuglog?d.debuglog("stream"):function(){};var p,g=r(9128),y=r(2262);f.inherits(w,u);var b=["error","close","destroy","pause","resume"];function m(e,t){e=e||{};var n=t instanceof(o=o||r(7073));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=r(1922).s),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function w(e){if(o=o||r(7073),!(this instanceof w))return new w(e);this._readableState=new m(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function v(e,t,r,n,i){var o,a=e._readableState;return null===t?(a.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,O(e)}}(e,a)):(i||(o=function(e,t){var r,n;return n=t,c.isBuffer(n)||n instanceof l||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),n?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):_(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?_(e,a,t,!1):M(e,a)):_(e,a,t,!1))):n||(a.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function _(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&O(e)),M(e,t)}Object.defineProperty(w.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),w.prototype.destroy=y.destroy,w.prototype._undestroy=y.undestroy,w.prototype._destroy=function(e,t){this.push(null),t(e)},w.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),r=!0),v(this,e,t,!1,r)},w.prototype.unshift=function(e){return v(this,e,null,!0,!1)},w.prototype.isPaused=function(){return!1===this._readableState.flowing},w.prototype.setEncoding=function(e){return p||(p=r(1922).s),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var S=8388608;function E(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=S?e=S:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function O(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(R,e):R(e))}function R(e){h("emit readable"),e.emit("readable"),A(e)}function M(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(j,e,t))}function j(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function P(e){h("readable nexttick read 0"),e.read(0)}function k(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),A(e),t.flowing&&!t.reading&&e.read(0)}function A(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function x(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0==(e-=a)){a===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=c.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,a),0==(e-=a)){a===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++i}return t.length-=i,r}(e,t),n}(e,t.buffer,t.decoder),r);var r}function C(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(T,t,e))}function T(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function N(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}w.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?C(this):O(this),null;if(0===(e=E(e,t))&&t.ended)return 0===t.length&&C(this),null;var n,i=t.needReadable;return h("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",i=!0),t.ended||t.reading?h("reading or ended",i=!1):i&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=E(r,t))),null===(n=e>0?x(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&C(this)),null!==n&&this.emit("data",n),n},w.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},w.prototype.pipe=function(e,t){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,h("pipe count=%d opts=%j",o.pipesCount,t);var u=t&&!1===t.end||e===n.stdout||e===n.stderr?m:c;function c(){h("onend"),e.end()}o.endEmitted?i.nextTick(u):r.once("end",u),e.on("unpipe",(function t(n,i){h("onunpipe"),n===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,h("cleanup"),e.removeListener("close",y),e.removeListener("finish",b),e.removeListener("drain",l),e.removeListener("error",g),e.removeListener("unpipe",t),r.removeListener("end",c),r.removeListener("end",m),r.removeListener("data",p),f=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}));var l=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,A(e))}}(r);e.on("drain",l);var f=!1,d=!1;function p(t){h("ondata"),d=!1,!1!==e.write(t)||d||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==N(o.pipes,e))&&!f&&(h("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,d=!0),r.pause())}function g(t){h("onerror",t),m(),e.removeListener("error",g),0===s(e,"error")&&e.emit("error",t)}function y(){e.removeListener("finish",b),m()}function b(){h("onfinish"),e.removeListener("close",y),m()}function m(){h("unpipe"),r.unpipe(e)}return r.on("data",p),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events.error?a(e._events.error)?e._events.error.unshift(r):e._events.error=[r,e._events.error]:e.on(t,r)}(e,"error",g),e.once("close",y),e.once("finish",b),e.emit("pipe",r),o.flowing||(h("pipe resume"),r.resume()),e},w.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var a=N(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},w.prototype.on=function(e,t){var r=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&O(this):i.nextTick(P,this))}return r},w.prototype.addListener=w.prototype.on,w.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(k,e,t))}(this,e)),this},w.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},w.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(h("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){h("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<b.length;o++)e.on(b[o],this.emit.bind(this,b[o]));return this._read=function(t){h("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(w.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),w._fromList=x},7640:(e,t,r)=>{"use strict";e.exports=a;var n=r(7073),i=Object.create(r(7646));function o(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);n.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush((function(t,r){u(e,t,r)})):u(this,null,null)}function u(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=r(1285),i.inherits(a,n),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,(function(e){t(e),r.emit("close")}))}},2557:(e,t,r)=>{"use strict";var n=r(4406),i=r(2884);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=b;var a,s=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?setImmediate:i.nextTick;b.WritableState=y;var u=Object.create(r(7646));u.inherits=r(1285);var c,l={deprecate:r(5803)},f=r(5010),d=r(2521).Buffer,h=r.g.Uint8Array||function(){},p=r(2262);function g(){}function y(e,t){a=a||r(7073),e=e||{};var n=t instanceof a;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var u=e.highWaterMark,c=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=u||0===u?u:n&&(c||0===c)?c:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===e.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,o){--t.pendingcb,r?(i.nextTick(o,n),i.nextTick(E,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(o(n),e._writableState.errorEmitted=!0,e.emit("error",n),E(e,t))}(e,r,n,t,o);else{var a=_(r);a||r.corked||r.bufferProcessing||!r.bufferedRequest||v(e,r),n?s(w,e,r,a,o):w(e,r,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function b(e){if(a=a||r(7073),!(c.call(b,this)||this instanceof a))return new b(e);this._writableState=new y(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),f.call(this)}function m(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function w(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),E(e,t)}function v(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),a=t.corkedRequestsFree;a.entry=r;for(var s=0,u=!0;r;)i[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;i.allBuffers=u,m(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,f=r.callback;if(m(e,t,!1,t.objectMode?1:c.length,c,l,f),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function _(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),E(e,t)}))}function E(e,t){var r=_(t);return r&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,i.nextTick(S,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}u.inherits(b,f),y.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(y.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===b&&e&&e._writableState instanceof y}})):c=function(e){return e instanceof this},b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},b.prototype.write=function(e,t,r){var n,o=this._writableState,a=!1,s=!o.objectMode&&(n=e,d.isBuffer(n)||n instanceof h);return s&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=g),o.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),i.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var o=!0,a=!1;return null===r?a=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),i.nextTick(n,a),o=!1),o}(this,o,e,r))&&(o.pendingcb++,a=function(e,t,r,n,i,o){if(!r){var a=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,r)),t}(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,s,n,i,o);return u}(this,o,s,e,t,r)),a},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||v(this,e))},b.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),b.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,E(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),b.prototype.destroy=p.destroy,b.prototype._undestroy=p.undestroy,b.prototype._destroy=function(e,t){this.end(),t(e)}},9128:(e,t,r)=>{"use strict";var n=r(2521).Buffer,i=r(4854);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,i=n.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=i,r=a,o.data.copy(t,r),a+=o.data.length,o=o.next;return i},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},2262:(e,t,r)=>{"use strict";var n=r(2884);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(n.nextTick(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},5010:(e,t,r)=>{e.exports=r(2699).EventEmitter},2521:(e,t,r)=>{var n=r(8834),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},1922:(e,t,r)=>{"use strict";var n=r(2521).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},7525:(e,t,r)=>{(t=e.exports=r(8051)).Stream=t,t.Readable=t,t.Writable=r(2557),t.Duplex=r(7073),t.Transform=r(7640),t.PassThrough=r(5163)},7834:(e,t,r)=>{var n=r(8834),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},4851:(e,t,r)=>{e.exports=i;var n=r(2699).EventEmitter;function i(){n.call(this)}r(1285)(i,n),i.Readable=r(3323),i.Writable=r(8234),i.Duplex=r(5929),i.Transform=r(9535),i.PassThrough=r(7706),i.finished=r(2529),i.pipeline=r(9125),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(r.on("end",s),r.on("close",u));var a=!1;function s(){a||(a=!0,e.end())}function u(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(l(),0===n.listenerCount(this,"error"))throw e}function l(){r.removeListener("data",i),e.removeListener("drain",o),r.removeListener("end",s),r.removeListener("close",u),r.removeListener("error",c),e.removeListener("error",c),r.removeListener("end",l),r.removeListener("close",l),e.removeListener("close",l)}return r.on("error",c),e.on("error",c),r.on("end",l),r.on("close",l),e.on("close",l),e.emit("pipe",r),e}},9150:e=>{"use strict";var t={};function r(e,r,n){n||(n=Error);var i=function(e){var t,n;function i(t,n,i){return e.call(this,function(e,t,n){return"string"==typeof r?r:r(e,t,n)}(t,n,i))||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(n);i.prototype.name=n.name,i.prototype.code=e,t[e]=i}function n(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){var i,o,a,s,u;if("string"==typeof t&&(o="not ",t.substr(0,o.length)===o)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))a="The ".concat(e," ").concat(i," ").concat(n(t,"type"));else{var c=("number"!=typeof u&&(u=0),u+".".length>(s=e).length||-1===s.indexOf(".",u)?"argument":"property");a='The "'.concat(e,'" ').concat(c," ").concat(i," ").concat(n(t,"type"))}return a+". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},5929:(e,t,r)=>{"use strict";var n=r(4406),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=l;var o=r(3323),a=r(8234);r(1285)(l,o);for(var s=i(a.prototype),u=0;u<s.length;u++){var c=s[u];l.prototype[c]||(l.prototype[c]=a.prototype[c])}function l(e){if(!(this instanceof l))return new l(e);o.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||n.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},7706:(e,t,r)=>{"use strict";e.exports=i;var n=r(9535);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(1285)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},3323:(e,t,r)=>{"use strict";var n,i=r(4406);e.exports=R,R.ReadableState=O,r(2699).EventEmitter;var o,a=function(e,t){return e.listeners(t).length},s=r(4811),u=r(8834).Buffer,c=r.g.Uint8Array||function(){},l=r(9255);o=l&&l.debuglog?l.debuglog("stream"):function(){};var f,d,h,p=r(3413),g=r(163),y=r(4774).getHighWaterMark,b=r(9150).q,m=b.ERR_INVALID_ARG_TYPE,w=b.ERR_STREAM_PUSH_AFTER_EOF,v=b.ERR_METHOD_NOT_IMPLEMENTED,_=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(1285)(R,s);var S=g.errorOrDestroy,E=["error","close","destroy","pause","resume"];function O(e,t,i){n=n||r(5929),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=y(this,e,"readableHighWaterMark",i),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=r(214).s),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function R(e){if(n=n||r(5929),!(this instanceof R))return new R(e);var t=this instanceof n;this._readableState=new O(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function M(e,t,r,n,i){o("readableAddChunk",t);var a,s=e._readableState;if(null===t)s.reading=!1,function(e,t){if(o("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?A(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,x(e)))}}(e,s);else if(i||(a=function(e,t){var r,n;return n=t,u.isBuffer(n)||n instanceof c||"string"==typeof t||void 0===t||e.objectMode||(r=new m("chunk",["string","Buffer","Uint8Array"],t)),r}(s,t)),a)S(e,a);else if(s.objectMode||t&&t.length>0)if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),n)s.endEmitted?S(e,new _):j(e,s,t,!0);else if(s.ended)S(e,new w);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?j(e,s,t,!1):C(e,s)):j(e,s,t,!1)}else n||(s.reading=!1,C(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function j(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&A(e)),C(e,t)}Object.defineProperty(R.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),R.prototype.destroy=g.destroy,R.prototype._undestroy=g.undestroy,R.prototype._destroy=function(e,t){t(e)},R.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=u.from(e,t),t=""),r=!0),M(this,e,t,!1,r)},R.prototype.unshift=function(e){return M(this,e,null,!0,!1)},R.prototype.isPaused=function(){return!1===this._readableState.flowing},R.prototype.setEncoding=function(e){f||(f=r(214).s);var t=new f(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var P=1073741824;function k(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=P?e=P:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function A(e){var t=e._readableState;o("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(o("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(x,e))}function x(e){var t=e._readableState;o("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,D(e)}function C(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(T,e,t))}function T(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(o("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function N(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function I(e){o("readable nexttick read 0"),e.read(0)}function B(e,t){o("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),D(e),t.flowing&&!t.reading&&e.read(0)}function D(e){var t=e._readableState;for(o("flow",t.flowing);t.flowing&&null!==e.read(););}function L(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function U(e){var t=e._readableState;o("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(q,t,e))}function q(e,t){if(o("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function W(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}R.prototype.read=function(e){o("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return o("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?U(this):A(this),null;if(0===(e=k(e,t))&&t.ended)return 0===t.length&&U(this),null;var n,i=t.needReadable;return o("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&o("length less than watermark",i=!0),t.ended||t.reading?o("reading or ended",i=!1):i&&(o("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=k(r,t))),null===(n=e>0?L(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&U(this)),null!==n&&this.emit("data",n),n},R.prototype._read=function(e){S(this,new v("_read()"))},R.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,o("pipe count=%d opts=%j",n.pipesCount,t);var s=t&&!1===t.end||e===i.stdout||e===i.stderr?g:u;function u(){o("onend"),e.end()}n.endEmitted?i.nextTick(s):r.once("end",s),e.on("unpipe",(function t(i,a){o("onunpipe"),i===r&&a&&!1===a.hasUnpiped&&(a.hasUnpiped=!0,o("cleanup"),e.removeListener("close",h),e.removeListener("finish",p),e.removeListener("drain",c),e.removeListener("error",d),e.removeListener("unpipe",t),r.removeListener("end",u),r.removeListener("end",g),r.removeListener("data",f),l=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}));var c=function(e){return function(){var t=e._readableState;o("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,D(e))}}(r);e.on("drain",c);var l=!1;function f(t){o("ondata");var i=e.write(t);o("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==W(n.pipes,e))&&!l&&(o("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function d(t){o("onerror",t),g(),e.removeListener("error",d),0===a(e,"error")&&S(e,t)}function h(){e.removeListener("finish",p),g()}function p(){o("onfinish"),e.removeListener("close",h),g()}function g(){o("unpipe"),r.unpipe(e)}return r.on("data",f),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events.error?Array.isArray(e._events.error)?e._events.error.unshift(r):e._events.error=[r,e._events.error]:e.on(t,r)}(e,"error",d),e.once("close",h),e.once("finish",p),e.emit("pipe",r),n.flowing||(o("pipe resume"),r.resume()),e},R.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=W(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},R.prototype.on=function(e,t){var r=s.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,o("on readable",n.length,n.reading),n.length?A(this):n.reading||i.nextTick(I,this))),r},R.prototype.addListener=R.prototype.on,R.prototype.removeListener=function(e,t){var r=s.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(N,this),r},R.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||i.nextTick(N,this),t},R.prototype.resume=function(){var e=this._readableState;return e.flowing||(o("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(B,e,t))}(this,e)),e.paused=!1,this},R.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},R.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(o("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){o("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<E.length;a++)e.on(E[a],this.emit.bind(this,E[a]));return this._read=function(t){o("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(R.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=r(4020)),d(this)}),Object.defineProperty(R.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(R.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(R.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),R._fromList=L,Object.defineProperty(R.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(R.from=function(e,t){return void 0===h&&(h=r(7324)),h(R,e,t)})},9535:(e,t,r)=>{"use strict";e.exports=l;var n=r(9150).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,a=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=n.ERR_TRANSFORM_WITH_LENGTH_0,u=r(5929);function c(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);u.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,r){d(e,t,r)}))}function d(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}r(1285)(l,u),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new i("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))}},8234:(e,t,r)=>{"use strict";var n,i=r(4406);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=R,R.WritableState=O;var a,s={deprecate:r(5803)},u=r(4811),c=r(8834).Buffer,l=r.g.Uint8Array||function(){},f=r(163),d=r(4774).getHighWaterMark,h=r(9150).q,p=h.ERR_INVALID_ARG_TYPE,g=h.ERR_METHOD_NOT_IMPLEMENTED,y=h.ERR_MULTIPLE_CALLBACK,b=h.ERR_STREAM_CANNOT_PIPE,m=h.ERR_STREAM_DESTROYED,w=h.ERR_STREAM_NULL_VALUES,v=h.ERR_STREAM_WRITE_AFTER_END,_=h.ERR_UNKNOWN_ENCODING,S=f.errorOrDestroy;function E(){}function O(e,t,a){n=n||r(5929),e=e||{},"boolean"!=typeof a&&(a=t instanceof n),this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if("function"!=typeof o)throw new y;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,o){--t.pendingcb,r?(i.nextTick(o,n),i.nextTick(x,e,t),e._writableState.errorEmitted=!0,S(e,n)):(o(n),e._writableState.errorEmitted=!0,S(e,n),x(e,t))}(e,r,n,t,o);else{var a=k(r)||e.destroyed;a||r.corked||r.bufferProcessing||!r.bufferedRequest||P(e,r),n?i.nextTick(j,e,r,a,o):j(e,r,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function R(e){var t=this instanceof(n=n||r(5929));if(!t&&!a.call(R,this))return new R(e);this._writableState=new O(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),u.call(this)}function M(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new m("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function j(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),x(e,t)}function P(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),a=t.corkedRequestsFree;a.entry=r;for(var s=0,u=!0;r;)i[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;i.allBuffers=u,M(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,f=r.callback;if(M(e,t,!1,t.objectMode?1:c.length,c,l,f),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function k(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function A(e,t){e._final((function(r){t.pendingcb--,r&&S(e,r),t.prefinished=!0,e.emit("prefinish"),x(e,t)}))}function x(e,t){var r=k(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,i.nextTick(A,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r(1285)(R,u),O.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(O.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(a=Function.prototype[Symbol.hasInstance],Object.defineProperty(R,Symbol.hasInstance,{value:function(e){return!!a.call(this,e)||this===R&&e&&e._writableState instanceof O}})):a=function(e){return e instanceof this},R.prototype.pipe=function(){S(this,new b)},R.prototype.write=function(e,t,r){var n,o=this._writableState,a=!1,s=!o.objectMode&&(n=e,c.isBuffer(n)||n instanceof l);return s&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=E),o.ending?function(e,t){var r=new v;S(e,r),i.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var o;return null===r?o=new w:"string"==typeof r||t.objectMode||(o=new p("chunk",["string","Buffer"],r)),!o||(S(e,o),i.nextTick(n,o),!1)}(this,o,e,r))&&(o.pendingcb++,a=function(e,t,r,n,i,o){if(!r){var a=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,r)),t}(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else M(e,t,!1,s,n,i,o);return u}(this,o,s,e,t,r)),a},R.prototype.cork=function(){this._writableState.corked++},R.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||P(this,e))},R.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new _(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(R.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(R.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),R.prototype._write=function(e,t,r){r(new g("_write()"))},R.prototype._writev=null,R.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,x(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(R.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(R.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),R.prototype.destroy=f.destroy,R.prototype._undestroy=f.undestroy,R.prototype._destroy=function(e,t){t(e)}},4020:(e,t,r)=>{"use strict";var n,i=r(4406);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(2529),s=Symbol("lastResolve"),u=Symbol("lastReject"),c=Symbol("error"),l=Symbol("ended"),f=Symbol("lastPromise"),d=Symbol("handlePromise"),h=Symbol("stream");function p(e,t){return{value:e,done:t}}function g(e){var t=e[s];if(null!==t){var r=e[h].read();null!==r&&(e[f]=null,e[s]=null,e[u]=null,t(p(r,!1)))}}function y(e){i.nextTick(g,e)}var b=Object.getPrototypeOf((function(){})),m=Object.setPrototypeOf((o(n={get stream(){return this[h]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[l])return Promise.resolve(p(void 0,!0));if(this[h].destroyed)return new Promise((function(t,r){i.nextTick((function(){e[c]?r(e[c]):t(p(void 0,!0))}))}));var r,n=this[f];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[l]?r(p(void 0,!0)):t[d](r,n)}),n)}}(n,this));else{var o=this[h].read();if(null!==o)return Promise.resolve(p(o,!1));r=new Promise(this[d])}return this[f]=r,r}},Symbol.asyncIterator,(function(){return this})),o(n,"return",(function(){var e=this;return new Promise((function(t,r){e[h].destroy(null,(function(e){e?r(e):t(p(void 0,!0))}))}))})),n),b);e.exports=function(e){var t,r=Object.create(m,(o(t={},h,{value:e,writable:!0}),o(t,s,{value:null,writable:!0}),o(t,u,{value:null,writable:!0}),o(t,c,{value:null,writable:!0}),o(t,l,{value:e._readableState.endEmitted,writable:!0}),o(t,d,{value:function(e,t){var n=r[h].read();n?(r[f]=null,r[s]=null,r[u]=null,e(p(n,!1))):(r[s]=e,r[u]=t)},writable:!0}),t));return r[f]=null,a(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[u];return null!==t&&(r[f]=null,r[s]=null,r[u]=null,t(e)),void(r[c]=e)}var n=r[s];null!==n&&(r[f]=null,r[s]=null,r[u]=null,n(p(void 0,!0))),r[l]=!0})),e.on("readable",y.bind(null,r)),r}},3413:(e,t,r)=>{"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=r(8834).Buffer,s=r(7267).inspect,u=s&&s.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r;return t=e,r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t,r,n,i=a.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,r=i,n=s,a.prototype.copy.call(t,r,n),s+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:u,value:function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],r&&o(t.prototype,r),e}()},163:(e,t,r)=>{"use strict";var n=r(4406);function i(e,t){a(e,t),o(e)}function o(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function a(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,s=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return s||u?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(a,this,e)):n.nextTick(a,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?n.nextTick(o,r):(r._writableState.errorEmitted=!0,n.nextTick(i,r,e)):n.nextTick(i,r,e):t?(n.nextTick(o,r),t(e)):n.nextTick(o,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},2529:(e,t,r)=>{"use strict";var n=r(9150).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var a=r.readable||!1!==r.readable&&t.readable,s=r.writable||!1!==r.writable&&t.writable,u=function(){t.writable||l()},c=t._writableState&&t._writableState.finished,l=function(){s=!1,c=!0,a||o.call(t)},f=t._readableState&&t._readableState.endEmitted,d=function(){a=!1,f=!0,s||o.call(t)},h=function(e){o.call(t,e)},p=function(){var e;return a&&!f?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):s&&!c?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},g=function(){t.req.on("finish",l)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",l),t.on("abort",p),t.req?g():t.on("request",g)):s&&!t._writableState&&(t.on("end",u),t.on("close",u)),t.on("end",d),t.on("finish",l),!1!==r.error&&t.on("error",h),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",g),t.req&&t.req.removeListener("finish",l),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",l),t.removeListener("end",d),t.removeListener("error",h),t.removeListener("close",p)}}},7324:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},9125:(e,t,r)=>{"use strict";var n,i=r(9150).q,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function u(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var s=!1;e.on("close",(function(){s=!0})),void 0===n&&(n=r(2529)),n(e,{readable:t,writable:i},(function(e){if(e)return o(e);s=!0,o()}));var u=!1;return function(t){if(!s&&!u)return u=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new a("pipe"))}}function c(e){e()}function l(e,t){return e.pipe(t)}function f(e){return e.length?"function"!=typeof e[e.length-1]?s:e.pop():s}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=f(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var a=t.map((function(e,r){var o=r<t.length-1;return u(e,o,r>0,(function(e){n||(n=e),e&&a.forEach(c),o||(a.forEach(c),i(n))}))}));return t.reduce(l)}},4774:(e,t,r)=>{"use strict";var n=r(9150).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},4811:(e,t,r)=>{e.exports=r(2699).EventEmitter},214:(e,t,r)=>{"use strict";var n=r(7834).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},4221:(e,t)=>{"use strict";function r(e,t){return"string"==typeof e}function n(e,t){return"2.0"===e}function i(e,t){return"number"==typeof e}function o(e,t){return Array.isArray(e)&&e.every((e=>!0))}function a(e,t){return(null!==e&&"object"==typeof e||"function"==typeof e)&&Object.entries(e).every((([e,t])=>r(e)))}Object.defineProperty(t,"__esModule",{value:!0}),t.isSnapRpc=t.isExecuteSnap=t.isPing=t.isAnyOfSnapNameSourceCodeEndowmentsTargetOriginJsonRpcRequestOKOKSnapRpcResult=t.isSnapRpcResult=t.isOK=t.isJsonRpcRequest=t.isOrigin=t.isTarget=t.isEndowments=t.isSourceCode=t.isSnapName=t.isJSONRPCParams=t.isJSONRPCParamsAsObject=t.isJSONRPCParamsAsArray=t.isJSONRPCMethod=t.isJSONRPCID=t.isNumberHo1ClIqD=t.isStringDoaGddGA=t.isJSONRPCString=t.isEndowment=void 0,t.isEndowment=r,t.isJSONRPCString=n,t.isStringDoaGddGA=function(e,t){return"string"==typeof e},t.isNumberHo1ClIqD=i,t.isJSONRPCID=function(e,t){return r(e)||i(e)},t.isJSONRPCMethod=function(e,t){return"string"==typeof e},t.isJSONRPCParamsAsArray=o,t.isJSONRPCParamsAsObject=a,t.isJSONRPCParams=function(e,t){return o(e)||a(e)},t.isSnapName=function(e,t){return"string"==typeof e},t.isSourceCode=function(e,t){return"string"==typeof e},t.isEndowments=function(e,t){return Array.isArray(e)&&e.every((e=>r(e)))},t.isTarget=function(e,t){return"string"==typeof e},t.isOrigin=function(e,t){return"string"==typeof e},t.isJsonRpcRequest=function(e,t){return(null!==e&&"object"==typeof e||"function"==typeof e)&&n(e.jsonrpc)&&(void 0===e.id||r(e.id)||i(e.id))&&r(e.method)&&(void 0===e.params||o(e.params)||a(e.params))&&Object.entries(e).filter((([e])=>!["jsonrpc","id","method","params"].includes(e))).every((([e,t])=>r(e)))},t.isOK=function(e,t){return"OK"===e},t.isSnapRpcResult=function(e,t){return!0},t.isAnyOfSnapNameSourceCodeEndowmentsTargetOriginJsonRpcRequestOKOKSnapRpcResult=function(e,t){return!0},t.isPing=function(e,t){return"function"==typeof e},t.isExecuteSnap=function(e,t){return"function"==typeof e},t.isSnapRpc=function(e,t){return"function"==typeof e}},132:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseSnapExecutor=void 0;const o=r(2972),a=r(9826),s=i(r(201)),u=r(4221),c=r(5930),l=r(2931),f=r(6455),d=r(6435),h={code:a.errorCodes.rpc.internal,message:"Execution Environment Error"};t.BaseSnapExecutor=class{constructor(e,t){this.snapRpcHandlers=new Map,this.commandStream=e,this.commandStream.on("data",this.onCommandRequest.bind(this)),this.rpcStream=t,this.methods=c.rpcMethods(this.startSnap.bind(this),((e,t,r)=>{const n=this.snapRpcHandlers.get(e);if(!n)throw new Error(`No RPC handler registered for snap "${e}`);return n(t,r)}))}errorHandler(e,t={}){const r=a.serializeError(e,{fallbackError:h,shouldIncludeStack:!0});this.notify({error:Object.assign(Object.assign({},r),{data:Object.assign(Object.assign({},t),{stack:r.stack})})})}async onCommandRequest(e){if(!u.isJsonRpcRequest(e))throw new Error("Command stream received a non Json Rpc Request");const{id:t,method:r,params:n}=e;if(void 0===t)throw new Error("Notifications not supported");if("rpc.discover"===r)return void this.respond(t,{result:s.default});const i=s.default.methods.find((e=>e.name===r));if(!i||!this.methods[r])return void this.respond(t,{error:a.ethErrors.rpc.methodNotFound({data:{method:r}}).serialize()});const o=l.sortParamKeys(i,n);try{const e=await this.methods[r](...o);this.respond(t,{result:e})}catch(e){this.respond(t,{error:a.serializeError(e,{fallbackError:h})})}}notify(e){this.commandStream.write(Object.assign(Object.assign({},e),{jsonrpc:"2.0"}))}respond(e,t){this.commandStream.write(Object.assign(Object.assign({},t),{id:e,jsonrpc:"2.0"}))}startSnap(e,t,r){n.log(`starting snap '${e}' in worker`),this.snapPromiseErrorHandler&&d.rootRealmGlobal.removeEventListener("unhandledrejection",this.snapPromiseErrorHandler),this.snapErrorHandler&&d.rootRealmGlobal.removeEventListener("error",this.snapErrorHandler),this.snapErrorHandler=t=>{this.errorHandler(t.error,{snapName:e})},this.snapPromiseErrorHandler=t=>{this.errorHandler(t.reason,{snapName:e})};const i=this.createSnapProvider(e);try{const e=f.createEndowments(i,r);new Compartment(Object.assign(Object.assign({},e),{window:Object.assign({},e),self:Object.assign({},e)})).evaluate(t),d.rootRealmGlobal.addEventListener("unhandledrejection",this.snapPromiseErrorHandler),d.rootRealmGlobal.addEventListener("error",this.snapErrorHandler)}catch(t){throw this.removeSnap(e),new Error(`Error while running snap '${e}': ${t.message}`)}}createSnapProvider(e){const t=new o.MetaMaskInpageProvider(this.rpcStream,{shouldSendMetadata:!1});return t.registerRpcMessageHandler=t=>{if(n.log("Worker: Registering RPC message handler",t),this.snapRpcHandlers.has(e))throw new Error("RPC handler already registered.");this.snapRpcHandlers.set(e,t)},t}removeSnap(e){this.snapRpcHandlers.delete(e)}}},3008:(e,t,r)=>{"use strict";var n=r(8834).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i={names:["Buffer"],factory:()=>({Buffer:n})};t.default=i},6455:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createEndowments=void 0;const i=r(6435),o=n(r(3008)),a=n(r(3941)),s=n(r(9191)),u=[o.default,a.default,s.default].reduce(((e,t)=>(t.names.forEach((r=>{e.set(r,t.factory)})),e)),new Map);t.createEndowments=function(e,t=[]){const r={};return t.reduce(((e,t)=>{if(u.has(t))Object.hasOwnProperty.call(r,t)||Object.assign(r,u.get(t)()),e[t]=r[t];else{if(!(t in i.rootRealmGlobal))throw new Error(`Unknown endowment: "${t}".`);{const r=i.rootRealmGlobal[t];e[t]=r}}return e}),{wallet:e})}},3941:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={names:["setTimeout","clearTimeout"],factory:()=>{const e=new Set;return{setTimeout:(t,r)=>{if("function"!=typeof t)throw new Error("The timeout handler must be a function. Received: "+typeof t);const n={handle:NaN};return n.handle=setTimeout((()=>{e.delete(n.handle),t()}),r),e.add(n.handle),n.handle},clearTimeout:t=>{e.has(t)&&(clearTimeout(t),e.delete(t))}}}};t.default=r},9191:function(e,t){"use strict";var r=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};Object.defineProperty(t,"__esModule",{value:!0});const n={names:["WebAssembly"],factory:()=>{const{compileStreaming:e,instantiateStreaming:t}=WebAssembly;return{WebAssembly:r(WebAssembly,["compileStreaming","instantiateStreaming"])}}};t.default=n},4509:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SNAP_STREAM_NAMES=void 0,(r=t.SNAP_STREAM_NAMES||(t.SNAP_STREAM_NAMES={})).JSON_RPC="jsonRpc",r.COMMAND="command"},6435:(e,t,r)=>{"use strict";var n;let i,o;if(Object.defineProperty(t,"__esModule",{value:!0}),t.rootRealmGlobalName=t.rootRealmGlobal=void 0,function(e){e.globalThis="globalThis",e.global="global",e.self="self",e.window="window"}(n||(n={})),"undefined"!=typeof globalThis)i=globalThis,o=n.globalThis;else if("undefined"!=typeof self)i=self,o=n.self;else if("undefined"!=typeof window)i=window,o=n.window;else{if(void 0===r.g)throw new Error("Unknown realm type; failed to identify global object.");i=r.g,o=n.global}const a=i;t.rootRealmGlobal=a;const s=o;t.rootRealmGlobalName=s},4562:(e,t,r)=>{"use strict";var n=r(3716);Object.defineProperty(t,"__esModule",{value:!0}),t.executeLockdownMore=void 0,t.executeLockdownMore=function(){try{const e=Reflect.ownKeys((new Compartment).globalThis),t=new Set(["eval","Function"]);new Set([...e]).forEach((e=>{const r=Reflect.getOwnPropertyDescriptor(globalThis,e);r&&(r.configurable&&(function(e){return"set"in e||"get"in e}(r)?Object.defineProperty(globalThis,e,{configurable:!1}):Object.defineProperty(globalThis,e,{configurable:!1,writable:!1})),t.has(e)&&harden(globalThis[e]))}))}catch(e){throw n.error("Protecting intrinsics failed:",e),e}}},2842:(e,t,r)=>{"use strict";var n=r(3716);Object.defineProperty(t,"__esModule",{value:!0}),t.executeLockdown=void 0,t.executeLockdown=function(){try{lockdown({consoleTaming:"unsafe",errorTaming:"unsafe",mathTaming:"unsafe",dateTaming:"unsafe",overrideTaming:"severe"})}catch(e){throw n.error("Lockdown failed:",e),e}}},5930:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rpcMethods=void 0;const n=r(4221);t.rpcMethods=function(e,t){return{ping:async()=>"OK",executeSnap:async(t,r,i)=>{if("string"!=typeof t)throw new Error("snapName is not a string");if("string"!=typeof r)throw new Error("sourceCode is not a string");if(void 0!==i&&!n.isEndowments(i))throw new Error("endowment is not a proper Endowments object");return e(t,r,i),"OK"},snapRpc:async(e,r,i)=>{if("string"!=typeof e)throw new Error("target is not a string");if("string"!=typeof r)throw new Error("origin is not a string");if(!n.isJsonRpcRequest(i))throw new Error("request is not a proper JSON RPC Request");return t(e,r,i)}}}},2931:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sortParamKeys=void 0,t.sortParamKeys=(e,t)=>{if(!t)return[];if(t instanceof Array)return t;const r=e.params.map((e=>e.name)).reduce(((e,t,r)=>Object.assign(Object.assign({},e),{[t]:r})),{});return Object.entries(t).sort((([e,t],[n,i])=>r[e]-r[n])).map((([e,t])=>t))}},7229:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WebWorkerSnapExecutor=void 0;const o=i(r(8392)),a=r(9679),s=i(r(3171)),u=r(132),c=r(4509);class l extends u.BaseSnapExecutor{static initalize(){n.log("Worker: Connecting to parent.");const e=new a.WorkerPostMessageStream,t=new o.default;s.default(e,t,e,(e=>{e&&n.error("Parent stream failure, closing worker.",e),self.close()}));const r=t.createStream(c.SNAP_STREAM_NAMES.COMMAND),i=t.createStream(c.SNAP_STREAM_NAMES.JSON_RPC);return new l(r,i)}}t.WebWorkerSnapExecutor=l},5803:(e,t,r)=>{var n=r(3716);function i(e){try{if(!r.g.localStorage)return!1}catch(e){return!1}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(i("noDeprecation"))return e;var r=!1;return function(){if(!r){if(i("throwDeprecation"))throw new Error(t);i("traceDeprecation")?n.trace(t):n.warn(t),r=!0}return e.apply(this,arguments)}}},82:e=>{e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},4895:(e,t,r)=>{"use strict";var n=r(2635),i=r(3138),o=r(2094),a=r(198);function s(e){return e.call.bind(e)}var u="undefined"!=typeof BigInt,c="undefined"!=typeof Symbol,l=s(Object.prototype.toString),f=s(Number.prototype.valueOf),d=s(String.prototype.valueOf),h=s(Boolean.prototype.valueOf);if(u)var p=s(BigInt.prototype.valueOf);if(c)var g=s(Symbol.prototype.valueOf);function y(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function b(e){return"[object Map]"===l(e)}function m(e){return"[object Set]"===l(e)}function w(e){return"[object WeakMap]"===l(e)}function v(e){return"[object WeakSet]"===l(e)}function _(e){return"[object ArrayBuffer]"===l(e)}function S(e){return"undefined"!=typeof ArrayBuffer&&(_.working?_(e):e instanceof ArrayBuffer)}function E(e){return"[object DataView]"===l(e)}function O(e){return"undefined"!=typeof DataView&&(E.working?E(e):e instanceof DataView)}t.isArgumentsObject=n,t.isGeneratorFunction=i,t.isTypedArray=a,t.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},t.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):a(e)||O(e)},t.isUint8Array=function(e){return"Uint8Array"===o(e)},t.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===o(e)},t.isUint16Array=function(e){return"Uint16Array"===o(e)},t.isUint32Array=function(e){return"Uint32Array"===o(e)},t.isInt8Array=function(e){return"Int8Array"===o(e)},t.isInt16Array=function(e){return"Int16Array"===o(e)},t.isInt32Array=function(e){return"Int32Array"===o(e)},t.isFloat32Array=function(e){return"Float32Array"===o(e)},t.isFloat64Array=function(e){return"Float64Array"===o(e)},t.isBigInt64Array=function(e){return"BigInt64Array"===o(e)},t.isBigUint64Array=function(e){return"BigUint64Array"===o(e)},b.working="undefined"!=typeof Map&&b(new Map),t.isMap=function(e){return"undefined"!=typeof Map&&(b.working?b(e):e instanceof Map)},m.working="undefined"!=typeof Set&&m(new Set),t.isSet=function(e){return"undefined"!=typeof Set&&(m.working?m(e):e instanceof Set)},w.working="undefined"!=typeof WeakMap&&w(new WeakMap),t.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(w.working?w(e):e instanceof WeakMap)},v.working="undefined"!=typeof WeakSet&&v(new WeakSet),t.isWeakSet=function(e){return v(e)},_.working="undefined"!=typeof ArrayBuffer&&_(new ArrayBuffer),t.isArrayBuffer=S,E.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&E(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=O;var R="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function M(e){return"[object SharedArrayBuffer]"===l(e)}function j(e){return void 0!==R&&(void 0===M.working&&(M.working=M(new R)),M.working?M(e):e instanceof R)}function P(e){return y(e,f)}function k(e){return y(e,d)}function A(e){return y(e,h)}function x(e){return u&&y(e,p)}function C(e){return c&&y(e,g)}t.isSharedArrayBuffer=j,t.isAsyncFunction=function(e){return"[object AsyncFunction]"===l(e)},t.isMapIterator=function(e){return"[object Map Iterator]"===l(e)},t.isSetIterator=function(e){return"[object Set Iterator]"===l(e)},t.isGeneratorObject=function(e){return"[object Generator]"===l(e)},t.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===l(e)},t.isNumberObject=P,t.isStringObject=k,t.isBooleanObject=A,t.isBigIntObject=x,t.isSymbolObject=C,t.isBoxedPrimitive=function(e){return P(e)||k(e)||A(e)||x(e)||C(e)},t.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(S(e)||j(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})}))},3335:(e,t,r)=>{var n=r(4406),i=r(3716),o=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},a=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(l(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,o=String(e).replace(a,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),s=n[r];r<i;s=n[++r])m(s)||!E(s)?o+=" "+s:o+=" "+l(s);return o},t.deprecate=function(e,r){if(void 0!==n&&!0===n.noDeprecation)return e;if(void 0===n)return function(){return t.deprecate(e,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(n.throwDeprecation)throw new Error(r);n.traceDeprecation?i.trace(r):i.error(r),o=!0}return e.apply(this,arguments)}};var s={},u=/^$/;if(n.env.NODE_DEBUG){var c=n.env.NODE_DEBUG;c=c.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),u=new RegExp("^"+c+"$","i")}function l(e,r){var n={seen:[],stylize:d};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),b(r)?n.showHidden=r:r&&t._extend(n,r),_(n.showHidden)&&(n.showHidden=!1),_(n.depth)&&(n.depth=2),_(n.colors)&&(n.colors=!1),_(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=f),h(n,e,n.depth)}function f(e,t){var r=l.styles[t];return r?"["+l.colors[r][0]+"m"+e+"["+l.colors[r][1]+"m":e}function d(e,t){return e}function h(e,r,n){if(e.customInspect&&r&&M(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return v(i)||(i=h(e,i,n)),i}var o=function(e,t){if(_(t))return e.stylize("undefined","undefined");if(v(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return w(t)?e.stylize(""+t,"number"):b(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}(e,r);if(o)return o;var a=Object.keys(r),s=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(r)),R(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return p(r);if(0===a.length){if(M(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(S(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(O(r))return e.stylize(Date.prototype.toString.call(r),"date");if(R(r))return p(r)}var c,l="",f=!1,d=["{","}"];return y(r)&&(f=!0,d=["[","]"]),M(r)&&(l=" [Function"+(r.name?": "+r.name:"")+"]"),S(r)&&(l=" "+RegExp.prototype.toString.call(r)),O(r)&&(l=" "+Date.prototype.toUTCString.call(r)),R(r)&&(l=" "+p(r)),0!==a.length||f&&0!=r.length?n<0?S(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),c=f?function(e,t,r,n,i){for(var o=[],a=0,s=t.length;a<s;++a)x(t,String(a))?o.push(g(e,t,r,n,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(g(e,t,r,n,i,!0))})),o}(e,r,n,s,a):a.map((function(t){return g(e,r,n,s,t,f)})),e.seen.pop(),function(e,t,r){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}(c,l,d)):d[0]+l+d[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function g(e,t,r,n,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),x(n,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=m(r)?h(e,u.value,null):h(e,u.value,r-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),_(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function y(e){return Array.isArray(e)}function b(e){return"boolean"==typeof e}function m(e){return null===e}function w(e){return"number"==typeof e}function v(e){return"string"==typeof e}function _(e){return void 0===e}function S(e){return E(e)&&"[object RegExp]"===j(e)}function E(e){return"object"==typeof e&&null!==e}function O(e){return E(e)&&"[object Date]"===j(e)}function R(e){return E(e)&&("[object Error]"===j(e)||e instanceof Error)}function M(e){return"function"==typeof e}function j(e){return Object.prototype.toString.call(e)}function P(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(e=e.toUpperCase(),!s[e])if(u.test(e)){var r=n.pid;s[e]=function(){var n=t.format.apply(t,arguments);i.error("%s %d: %s",e,r,n)}}else s[e]=function(){};return s[e]},t.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=r(4895),t.isArray=y,t.isBoolean=b,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=w,t.isString=v,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=_,t.isRegExp=S,t.types.isRegExp=S,t.isObject=E,t.isDate=O,t.types.isDate=O,t.isError=R,t.types.isNativeError=R,t.isFunction=M,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(82);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(){var e=new Date,t=[P(e.getHours()),P(e.getMinutes()),P(e.getSeconds())].join(":");return[e.getDate(),k[e.getMonth()],t].join(" ")}function x(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){i.log("%s - %s",A(),t.format.apply(t,arguments))},t.inherits=r(1285),t._extend=function(e,t){if(!t||!E(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var C="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function T(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(C&&e[C]){var t;if("function"!=typeof(t=e[C]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,i)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),C&&Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,o(e))},t.promisify.custom=C,t.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var i=t.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};e.apply(this,t).then((function(e){n.nextTick(a.bind(null,null,e))}),(function(e){n.nextTick(T.bind(null,e,a))}))}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,o(e)),t}},2094:(e,t,r)=>{"use strict";var n=r(6388),i=r(2191),o=r(2680),a=o("Object.prototype.toString"),s=r(7226)(),u="undefined"==typeof globalThis?r.g:globalThis,c=i(),l=o("String.prototype.slice"),f={},d=r(3494),h=Object.getPrototypeOf;s&&d&&h&&n(c,(function(e){if("function"==typeof u[e]){var t=new u[e];if(Symbol.toStringTag in t){var r=h(t),n=d(r,Symbol.toStringTag);if(!n){var i=h(r);n=d(i,Symbol.toStringTag)}f[e]=n.get}}}));var p=r(198);e.exports=function(e){return!!p(e)&&(s&&Symbol.toStringTag in e?function(e){var t=!1;return n(f,(function(r,n){if(!t)try{var i=r.call(e);i===n&&(t=i)}catch(e){}})),t}(e):l(a(e),8,-1))}},8892:e=>{e.exports=function e(t,r){if(t&&r)return e(t)(r);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){n[e]=t[e]})),n;function n(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var n=t.apply(this,e),i=e[e.length-1];return"function"==typeof n&&n!==i&&Object.keys(i).forEach((function(e){n[e]=i[e]})),n}}},7082:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectMultiplex=void 0;const o=r(7525),a=i(r(8797)),s=i(r(9928)),u=r(1274),c=Symbol("IGNORE_SUBSTREAM");class l extends o.Duplex{constructor(e={}){super(Object.assign(Object.assign({},e),{objectMode:!0})),this._substreams={}}createStream(e){if(this.destroyed)throw new Error(`ObjectMultiplex - parent stream for name "${e}" already destroyed`);if(this._readableState.ended||this._writableState.ended)throw new Error(`ObjectMultiplex - parent stream for name "${e}" already ended`);if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);const t=new u.Substream({parent:this,name:e});return this._substreams[e]=t,function(e,r){const n=s.default((e=>t.destroy(e||void 0)));a.default(e,{readable:!1},n),a.default(e,{writable:!1},n)}(this),t}ignoreStream(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);this._substreams[e]=c}_read(){}_write(e,t,r){const{name:i,data:o}=e;if(!i)return n.warn(`ObjectMultiplex - malformed chunk without name "${e}"`),r();const a=this._substreams[i];return a?(a!==c&&a.push(o),r()):(n.warn(`ObjectMultiplex - orphaned data for stream "${i}"`),r())}}t.ObjectMultiplex=l},1274:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Substream=void 0;const n=r(7525);class i extends n.Duplex{constructor({parent:e,name:t}){super({objectMode:!0}),this._parent=e,this._name=t}_read(){}_write(e,t,r){this._parent.push({name:this._name,data:e}),r()}}t.Substream=i},8392:(e,t,r)=>{"use strict";const n=r(7082);e.exports=n.ObjectMultiplex},2294:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EthereumProviderError=t.EthereumRpcError=void 0;const n=r(7847);class i extends Error{constructor(e,t,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw new Error('"message" must be a nonempty string.');super(t),this.code=e,void 0!==r&&(this.data=r)}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return n.default(this.serialize(),o,2)}}function o(e,t){if("[Circular]"!==t)return t}t.EthereumRpcError=i,t.EthereumProviderError=class extends i{constructor(e,t,r){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,r)}}},2662:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorValues=t.errorCodes=void 0,t.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},t.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}},6373:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ethErrors=void 0;const n=r(2294),i=r(8753),o=r(2662);function a(e,t){const[r,o]=u(t);return new n.EthereumRpcError(e,r||i.getMessageFromCode(e),o)}function s(e,t){const[r,o]=u(t);return new n.EthereumProviderError(e,r||i.getMessageFromCode(e),o)}function u(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&"string"!=typeof t)throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}t.ethErrors={rpc:{parse:e=>a(o.errorCodes.rpc.parse,e),invalidRequest:e=>a(o.errorCodes.rpc.invalidRequest,e),invalidParams:e=>a(o.errorCodes.rpc.invalidParams,e),methodNotFound:e=>a(o.errorCodes.rpc.methodNotFound,e),internal:e=>a(o.errorCodes.rpc.internal,e),server:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return a(t,e)},invalidInput:e=>a(o.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>a(o.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>a(o.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>a(o.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>a(o.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>a(o.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>s(o.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>s(o.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>s(o.errorCodes.provider.unsupportedMethod,e),disconnected:e=>s(o.errorCodes.provider.disconnected,e),chainDisconnected:e=>s(o.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:r,data:i}=e;if(!r||"string"!=typeof r)throw new Error('"message" must be a nonempty string');return new n.EthereumProviderError(t,r,i)}}}},9826:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const n=r(2294);Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return n.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return n.EthereumProviderError}});const i=r(8753);Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return i.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return i.getMessageFromCode}});const o=r(6373);Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return o.ethErrors}});const a=r(2662);Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return a.errorCodes}})},8753:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const n=r(2662),i=r(2294),o=n.errorCodes.rpc.internal,a={code:o,message:s(o)};function s(e,r="Unspecified error message. This is a bug, please report it."){if(Number.isInteger(e)){const r=e.toString();if(f(n.errorValues,r))return n.errorValues[r].message;if(c(e))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return r}function u(e){if(!Number.isInteger(e))return!1;const t=e.toString();return!!n.errorValues[t]||!!c(e)}function c(e){return e>=-32099&&e<=-32e3}function l(e){return e&&"object"==typeof e&&!Array.isArray(e)?Object.assign({},e):e}function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",t.getMessageFromCode=s,t.isValidCode=u,t.serializeError=function(e,{fallbackError:t=a,shouldIncludeStack:r=!1}={}){var n,o;if(!t||!Number.isInteger(t.code)||"string"!=typeof t.message)throw new Error("Must provide fallback error with integer number code and string message.");if(e instanceof i.EthereumRpcError)return e.serialize();const c={};if(e&&"object"==typeof e&&!Array.isArray(e)&&f(e,"code")&&u(e.code)){const t=e;c.code=t.code,t.message&&"string"==typeof t.message?(c.message=t.message,f(t,"data")&&(c.data=t.data)):(c.message=s(c.code),c.data={originalError:l(e)})}else{c.code=t.code;const r=null===(n=e)||void 0===n?void 0:n.message;c.message=r&&"string"==typeof r?r:t.message,c.data={originalError:l(e)}}const d=null===(o=e)||void 0===o?void 0:o.stack;return r&&e&&d&&"string"==typeof d&&(c.stack=d),c}},4857:()=>{},3558:()=>{},4854:()=>{},6602:()=>{},7267:()=>{},9255:()=>{},2191:(e,t,r)=>{"use strict";var n=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],i="undefined"==typeof globalThis?r.g:globalThis;e.exports=function(){for(var e=[],t=0;t<n.length;t++)"function"==typeof i[n[t]]&&(e[e.length]=n[t]);return e}},7342:(e,t,r)=>{"use strict";var n=r(7286)("%Object.getOwnPropertyDescriptor%");if(n)try{n([],"length")}catch(e){n=null}e.exports=n},3494:(e,t,r)=>{"use strict";var n=r(7286)("%Object.getOwnPropertyDescriptor%");if(n)try{n([],"length")}catch(e){n=null}e.exports=n},5543:e=>{"use strict";e.exports=JSON.parse('{"CHROME_ID":"nkbihfbeogaeaoehlefnkodbefgpgknn","FIREFOX_ID":"webextension@metamask.io"}')},201:e=>{"use strict";e.exports=JSON.parse('{"openrpc":"1.2.4","info":{"title":"MetaMask Snaps Execution Environment API","version":"0.0.0-development"},"methods":[{"name":"ping","description":"confirms that a connection has been established with the execution environment","params":[],"result":{"name":"PingResult","schema":{"$ref":"#/components/schemas/OK"}}},{"name":"executeSnap","description":"executes a snap in the environment. The snap can then be interacted with via `snapRpc`","params":[{"name":"snapName","required":true,"description":"the name of the snap","schema":{"title":"SnapName","type":"string"}},{"name":"sourceCode","description":"a snaps source code that gets executed in the environment","required":true,"schema":{"title":"SourceCode","type":"string"}},{"name":"endowments","description":"A list of endowments to provide to SES","required":false,"schema":{"title":"Endowments","description":"An array of the names of the endowments","type":"array","items":{"title":"Endowment","type":"string"}}}],"result":{"name":"executeSnapResult","schema":{"$ref":"#/components/schemas/OK"}},"examples":[{"name":"BasicTestSnapExecuteExample","params":[{"name":"snapName","value":"TestSnap"},{"name":"sourceCode","value":"wallet.registerRpcMessageHandler(async (_, request) => { return request.method + request.id })"}],"result":{"name":"BasicTestSnapExampleResult","value":"OK"}}]},{"name":"snapRpc","params":[{"name":"target","required":true,"description":"the name of the snap method","schema":{"title":"Target","type":"string"}},{"name":"origin","required":true,"description":"Origin of the snap JSON-RPC request","schema":{"title":"Origin","type":"string"}},{"name":"request","required":true,"description":"JSON-RPC request","schema":{"$ref":"#/components/schemas/JsonRpcRequest"}}],"result":{"name":"HandleSnapRpcResult","schema":{"title":"SnapRpcResult"}},"examples":[{"name":"TestSnapExample","params":[{"name":"target","value":"TestSnap"},{"name":"origin","value":"foo.com"},{"name":"request","value":{"jsonrpc":"2.0","method":"hello","params":[],"id":1}}],"result":{"name":"TestSnapResultExample","value":"hello1"}}]}],"components":{"schemas":{"OK":{"title":"OK","type":"string","const":"OK"},"JsonRpcRequest":{"title":"JsonRpcRequest","type":"object","required":["jsonrpc","method"],"properties":{"jsonrpc":{"title":"JSONRPCString","type":"string","const":"2.0"},"id":{"title":"JSONRPCID","oneOf":[{"type":"string"},{"type":"number"}]},"method":{"title":"JSONRPCMethod","description":"the name of the method","type":"string"},"params":{"title":"JSONRPCParams","type":["array","object"]}}}}}}')}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";const e=r(2842),t=r(4562),n=r(7229);e.executeLockdown(),t.executeLockdownMore(),n.WebWorkerSnapExecutor.initalize()})()})();
\ No newline at end of file
diff --git a/node_modules/@metamask/execution-environments/dist/dist/webworker.bundle.js.LICENSE.txt b/node_modules/@metamask/execution-environments/dist/dist/webworker.bundle.js.LICENSE.txt
new file mode 100644
index 0000000..dd3c401
--- /dev/null
+++ b/node_modules/@metamask/execution-environments/dist/dist/webworker.bundle.js.LICENSE.txt
@@ -0,0 +1,23 @@
+/*
+object-assign
+(c) Sindre Sorhus
+@license MIT
+*/
+
+/*!
+ * The buffer module from node.js, for the browser.
+ *
+ * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
+ * @license  MIT
+ */
+
+/*!
+ * The buffer module from node.js, for the browser.
+ *
+ * @author   Feross Aboukhadijeh <https://feross.org>
+ * @license  MIT
+ */
+
+/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
+
+/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
diff --git a/node_modules/@metamask/execution-environments/dist/iframe.bundle.js b/node_modules/@metamask/execution-environments/dist/iframe.bundle.js
index 83c9c80..14d2def 100644
--- a/node_modules/@metamask/execution-environments/dist/iframe.bundle.js
+++ b/node_modules/@metamask/execution-environments/dist/iframe.bundle.js
@@ -1,2 +1,2 @@
 /*! For license information please see iframe.bundle.js.LICENSE.txt */
-(()=>{var e={7209:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectMultiplex=void 0;const o=r(7525),a=i(r(8797)),s=i(r(9928)),u=r(9067),c=Symbol("IGNORE_SUBSTREAM");class l extends o.Duplex{constructor(e={}){super(Object.assign(Object.assign({},e),{objectMode:!0})),this._substreams={}}createStream(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);const t=new u.Substream({parent:this,name:e});return this._substreams[e]=t,function(e,r){const n=s.default((e=>t.destroy(e||void 0)));a.default(e,{readable:!1},n),a.default(e,{writable:!1},n)}(this),t}ignoreStream(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);this._substreams[e]=c}_read(){}_write(e,t,r){const{name:i,data:o}=e;if(!i)return n.warn(`ObjectMultiplex - malformed chunk without name "${e}"`),r();const a=this._substreams[i];return a?(a!==c&&a.push(o),r()):(n.warn(`ObjectMultiplex - orphaned data for stream "${i}"`),r())}}t.ObjectMultiplex=l},9067:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Substream=void 0;const n=r(7525);class i extends n.Duplex{constructor({parent:e,name:t}){super({objectMode:!0}),this._parent=e,this._name=t}_read(){}_write(e,t,r){this._parent.push({name:this._name,data:e}),r()}}t.Substream=i},9952:(e,t,r)=>{"use strict";const n=r(7209);e.exports=n.ObjectMultiplex},470:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BasePostMessageStream=void 0;const n=r(5800);function i(){}const o="ACK";class a extends n.Duplex{constructor(){super({objectMode:!0}),this._init=!1,this._haveSyn=!1}_handshake(){this._write("SYN",null,i),this.cork()}_onData(e){if(this._init)try{this.push(e)}catch(e){this.emit("error",e)}else"SYN"===e?(this._haveSyn=!0,this._write(o,null,i)):e===o&&(this._init=!0,this._haveSyn||this._write(o,null,i),this.uncork())}_read(){}_write(e,t,r){this._postMessage(e),r()}}t.BasePostMessageStream=a},4273:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WindowPostMessageStream=void 0;const n=r(470);class i extends n.BasePostMessageStream{constructor({name:e,target:t,targetWindow:r}){if(!e||!t)throw new Error("Invalid input.");super(),this._name=e,this._target=t,this._targetOrigin=r?"*":location.origin,this._targetWindow=r||window,this._onMessage=this._onMessage.bind(this),window.addEventListener("message",this._onMessage,!1),this._handshake()}_postMessage(e){this._targetWindow.postMessage({target:this._target,data:e},this._targetOrigin)}_onMessage(e){const t=e.data;"*"!==this._targetOrigin&&e.origin!==this._targetOrigin||e.source!==this._targetWindow||"object"!=typeof t||t.target!==this._name||!t.data||this._onData(t.data)}_destroy(){window.removeEventListener("message",this._onMessage,!1)}}t.WindowPostMessageStream=i},8858:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkerParentPostMessageStream=void 0;const n=r(470),i=r(7366);class o extends n.BasePostMessageStream{constructor({worker:e}){if(!e)throw new Error("Invalid input.");super(),this._target=i.DEDICATED_WORKER_NAME,this._worker=e,this._worker.onmessage=this._onMessage.bind(this),this._handshake()}_postMessage(e){this._worker.postMessage({target:this._target,data:e})}_onMessage(e){const t=e.data;"object"==typeof t&&t.data&&this._onData(t.data)}_destroy(){this._worker.onmessage=null,this._worker=null}}t.WorkerParentPostMessageStream=o},7507:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkerPostMessageStream=void 0;const n=r(470),i=r(7366);class o extends n.BasePostMessageStream{constructor(){super(),this._name=i.DEDICATED_WORKER_NAME,self.onmessage=this._onMessage.bind(this),this._handshake()}_postMessage(e){self.postMessage({data:e})}_onMessage(e){const t=e.data;"object"==typeof t&&t.target===this._name&&t.data&&this._onData(t.data)}_destroy(){}}t.WorkerPostMessageStream=o},7366:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEDICATED_WORKER_NAME=void 0,t.DEDICATED_WORKER_NAME="dedicatedWorker"},9679:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkerParentPostMessageStream=t.WorkerPostMessageStream=t.WindowPostMessageStream=void 0;var n=r(4273);Object.defineProperty(t,"WindowPostMessageStream",{enumerable:!0,get:function(){return n.WindowPostMessageStream}});var i=r(7507);Object.defineProperty(t,"WorkerPostMessageStream",{enumerable:!0,get:function(){return i.WorkerPostMessageStream}});var o=r(8858);Object.defineProperty(t,"WorkerParentPostMessageStream",{enumerable:!0,get:function(){return o.WorkerParentPostMessageStream}})},2646:(e,t,r)=>{"use strict";var n=r(4406);!n.version||0===n.version.indexOf("v0.")||0===n.version.indexOf("v1.")&&0!==n.version.indexOf("v1.8.")?e.exports=function(e,t,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return n.nextTick(e);case 2:return n.nextTick((function(){e.call(null,t)}));case 3:return n.nextTick((function(){e.call(null,t,r)}));case 4:return n.nextTick((function(){e.call(null,t,r,i)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return n.nextTick((function(){e.apply(null,o)}))}}:e.exports=n.nextTick},1034:(e,t,r)=>{"use strict";var n=r(2646),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=f;var o=r(7646);o.inherits=r(1285);var a=r(7187),s=r(3597);o.inherits(f,a);for(var u=i(s.prototype),c=0;c<u.length;c++){var l=u[c];f.prototype[l]||(f.prototype[l]=s.prototype[l])}function f(e){if(!(this instanceof f))return new f(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||n(h,this)}function h(e){e.end()}Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),n(t,e)}},2598:(e,t,r)=>{"use strict";e.exports=o;var n=r(2287),i=r(7646);function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}i.inherits=r(1285),i.inherits(o,n),o.prototype._transform=function(e,t,r){r(null,e)}},7187:(e,t,r)=>{"use strict";var n=r(4406),i=r(2646);e.exports=w;var o,a=r(7906);w.ReadableState=m,r(2699).EventEmitter;var s=function(e,t){return e.listeners(t).length},u=r(979),c=r(5691).Buffer,l=r.g.Uint8Array||function(){},f=r(7646);f.inherits=r(1285);var d=r(4857),h=void 0;h=d&&d.debuglog?d.debuglog("stream"):function(){};var p,g=r(8991),y=r(8374);f.inherits(w,u);var b=["error","close","destroy","pause","resume"];function m(e,t){o=o||r(1034),e=e||{},this.objectMode=!!e.objectMode,t instanceof o&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:i,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=r(5099).s),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function w(e){if(o=o||r(1034),!(this instanceof w))return new w(e);this._readableState=new m(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function v(e,t,r,n,i){var o,a=e._readableState;return null===t?(a.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,O(e)}}(e,a)):(i||(o=function(e,t){var r,n;return n=t,c.isBuffer(n)||n instanceof l||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),n?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):_(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?_(e,a,t,!1):M(e,a)):_(e,a,t,!1))):n||(a.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function _(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&O(e)),M(e,t)}Object.defineProperty(w.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),w.prototype.destroy=y.destroy,w.prototype._undestroy=y.undestroy,w.prototype._destroy=function(e,t){this.push(null),t(e)},w.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),r=!0),v(this,e,t,!1,r)},w.prototype.unshift=function(e){return v(this,e,null,!0,!1)},w.prototype.isPaused=function(){return!1===this._readableState.flowing},w.prototype.setEncoding=function(e){return p||(p=r(5099).s),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var S=8388608;function E(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=S?e=S:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function O(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i(R,e):R(e))}function R(e){h("emit readable"),e.emit("readable"),A(e)}function M(e,t){t.readingMore||(t.readingMore=!0,i(j,e,t))}function j(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function P(e){h("readable nexttick read 0"),e.read(0)}function k(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),A(e),t.flowing&&!t.reading&&e.read(0)}function A(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function x(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0==(e-=a)){a===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=c.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,a),0==(e-=a)){a===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++i}return t.length-=i,r}(e,t),n}(e,t.buffer,t.decoder),r);var r}function C(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i(T,t,e))}function T(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function N(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}w.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?C(this):O(this),null;if(0===(e=E(e,t))&&t.ended)return 0===t.length&&C(this),null;var n,i=t.needReadable;return h("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",i=!0),t.ended||t.reading?h("reading or ended",i=!1):i&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=E(r,t))),null===(n=e>0?x(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&C(this)),null!==n&&this.emit("data",n),n},w.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},w.prototype.pipe=function(e,t){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,h("pipe count=%d opts=%j",o.pipesCount,t);var u=t&&!1===t.end||e===n.stdout||e===n.stderr?m:c;function c(){h("onend"),e.end()}o.endEmitted?i(u):r.once("end",u),e.on("unpipe",(function t(n,i){h("onunpipe"),n===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,h("cleanup"),e.removeListener("close",y),e.removeListener("finish",b),e.removeListener("drain",l),e.removeListener("error",g),e.removeListener("unpipe",t),r.removeListener("end",c),r.removeListener("end",m),r.removeListener("data",p),f=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}));var l=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,A(e))}}(r);e.on("drain",l);var f=!1,d=!1;function p(t){h("ondata"),d=!1,!1!==e.write(t)||d||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==N(o.pipes,e))&&!f&&(h("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,d=!0),r.pause())}function g(t){h("onerror",t),m(),e.removeListener("error",g),0===s(e,"error")&&e.emit("error",t)}function y(){e.removeListener("finish",b),m()}function b(){h("onfinish"),e.removeListener("close",y),m()}function m(){h("unpipe"),r.unpipe(e)}return r.on("data",p),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events.error?a(e._events.error)?e._events.error.unshift(r):e._events.error=[r,e._events.error]:e.on(t,r)}(e,"error",g),e.once("close",y),e.once("finish",b),e.emit("pipe",r),o.flowing||(h("pipe resume"),r.resume()),e},w.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var a=N(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},w.prototype.on=function(e,t){var r=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&O(this):i(P,this))}return r},w.prototype.addListener=w.prototype.on,w.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i(k,e,t))}(this,e)),this},w.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},w.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;for(var i in e.on("end",(function(){if(h("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)})),e.on("data",(function(i){h("wrapped data"),t.decoder&&(i=t.decoder.write(i)),t.objectMode&&null==i||(t.objectMode||i&&i.length)&&(n.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<b.length;o++)e.on(b[o],n.emit.bind(n,b[o]));return n._read=function(t){h("wrapped _read",t),r&&(r=!1,e.resume())},n},w._fromList=x},2287:(e,t,r)=>{"use strict";e.exports=a;var n=r(1034),i=r(7646);function o(e){this.afterTransform=function(t,r){return function(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=r&&e.push(r),i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}(e,t,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function a(e){if(!(this instanceof a))return new a(e);n.call(this,e),this._transformState=new o(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",(function(){"function"==typeof this._flush?this._flush((function(e,r){s(t,e,r)})):s(t)}))}function s(e,t,r){if(t)return e.emit("error",t);null!=r&&e.push(r);var n=e._writableState,i=e._transformState;if(n.length)throw new Error("Calling transform done when ws.length != 0");if(i.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=r(1285),i.inherits(a,n),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,(function(e){t(e),r.emit("close")}))}},3597:(e,t,r)=>{"use strict";var n=r(4406),i=r(2646);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=b;var a,s=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?setImmediate:i;b.WritableState=y;var u=r(7646);u.inherits=r(1285);var c,l={deprecate:r(5803)},f=r(979),d=r(5691).Buffer,h=r.g.Uint8Array||function(){},p=r(8374);function g(){}function y(e,t){a=a||r(1034),e=e||{},this.objectMode=!!e.objectMode,t instanceof a&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,u=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var c=!1===e.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,o){--t.pendingcb,r?(i(o,n),i(E,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(o(n),e._writableState.errorEmitted=!0,e.emit("error",n),E(e,t))}(e,r,n,t,o);else{var a=_(r);a||r.corked||r.bufferProcessing||!r.bufferedRequest||v(e,r),n?s(w,e,r,a,o):w(e,r,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function b(e){if(a=a||r(1034),!(c.call(b,this)||this instanceof a))return new b(e);this._writableState=new y(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),f.call(this)}function m(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function w(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),E(e,t)}function v(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),a=t.corkedRequestsFree;a.entry=r;for(var s=0,u=!0;r;)i[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;i.allBuffers=u,m(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t)}else{for(;r;){var c=r.chunk,l=r.encoding,f=r.callback;if(m(e,t,!1,t.objectMode?1:c.length,c,l,f),r=r.next,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=r,t.bufferProcessing=!1}function _(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),E(e,t)}))}function E(e,t){var r=_(t);return r&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,i(S,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}u.inherits(b,f),y.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(y.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||e&&e._writableState instanceof y}})):c=function(e){return e instanceof this},b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},b.prototype.write=function(e,t,r){var n,o=this._writableState,a=!1,s=(n=e,(d.isBuffer(n)||n instanceof h)&&!o.objectMode);return s&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=g),o.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),i(t,r)}(this,r):(s||function(e,t,r,n){var o=!0,a=!1;return null===r?a=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),i(n,a),o=!1),o}(this,o,e,r))&&(o.pendingcb++,a=function(e,t,r,n,i,o){if(!r){var a=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,r)),t}(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,s,n,i,o);return u}(this,o,s,e,t,r)),a},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||v(this,e))},b.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},b.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,E(e,t),r&&(t.finished?i(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),b.prototype.destroy=p.destroy,b.prototype._undestroy=p.undestroy,b.prototype._destroy=function(e,t){this.end(),t(e)}},8991:(e,t,r)=>{"use strict";var n=r(5691).Buffer;e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,i=n.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=i,r=a,o.data.copy(t,r),a+=o.data.length,o=o.next;return i},e}()},8374:(e,t,r)=>{"use strict";var n=r(2646);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;o||a?t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n(i,this,e):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(n(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})))},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},979:(e,t,r)=>{e.exports=r(2699).EventEmitter},5800:(e,t,r)=>{(t=e.exports=r(7187)).Stream=t,t.Readable=t,t.Writable=r(3597),t.Duplex=r(1034),t.Transform=r(2287),t.PassThrough=r(2598)},5691:(e,t,r)=>{var n=r(8834),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},5099:(e,t,r)=>{"use strict";var n=r(5691).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:-1}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"".repeat(r);if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"".repeat(r+1);if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"".repeat(r+2)}}(this,e,t);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"".repeat(this.lastTotal-this.lastNeed):t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r?0:(i=a(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r?0:(i=a(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},4044:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(r(3171)),a=r(1280),s=r(1384),u=i(r(9952)),c=i(r(3795)),l=i(r(8787)),f=r(8094),d=r(8607),h=i(r(2371)),p=r(4022);class g extends c.default{constructor(e,{jsonRpcStreamName:t="metamask-provider",logger:r=n,maxEventListeners:i=100}={}){if(super(),!d.duplex(e))throw new Error(h.default.errors.invalidDuplexStream());this._log=r,this.setMaxListeners(i),this._state=Object.assign({},g._defaultState),this.selectedAddress=null,this.chainId=null,this._handleAccountsChanged=this._handleAccountsChanged.bind(this),this._handleConnect=this._handleConnect.bind(this),this._handleChainChanged=this._handleChainChanged.bind(this),this._handleDisconnect=this._handleDisconnect.bind(this),this._handleStreamDisconnect=this._handleStreamDisconnect.bind(this),this._handleUnlockStateChanged=this._handleUnlockStateChanged.bind(this),this._rpcRequest=this._rpcRequest.bind(this),this.request=this.request.bind(this);const c=new u.default;o.default(e,c,e,this._handleStreamDisconnect.bind(this,"MetaMask")),this.on("connect",(()=>{this._state.isConnected=!0})),this._jsonRpcConnection=s.createStreamMiddleware(),o.default(this._jsonRpcConnection.stream,c.createStream(t),this._jsonRpcConnection.stream,this._handleStreamDisconnect.bind(this,"MetaMask RpcProvider"));const l=new a.JsonRpcEngine;l.push(a.createIdRemapMiddleware()),l.push(p.createErrorMiddleware(this._log)),l.push(this._jsonRpcConnection.middleware),this._rpcEngine=l,this._initializeState(),this._jsonRpcConnection.events.on("notification",(t=>{const{method:r,params:n}=t;"metamask_accountsChanged"===r?this._handleAccountsChanged(n):"metamask_unlockStateChanged"===r?this._handleUnlockStateChanged(n):"metamask_chainChanged"===r?this._handleChainChanged(n):p.EMITTED_NOTIFICATIONS.includes(r)?this.emit("message",{type:r,data:n}):"METAMASK_STREAM_FAILURE"===r&&e.destroy(new Error(h.default.errors.permanentlyDisconnected()))}))}isConnected(){return this._state.isConnected}async request(e){if(!e||"object"!=typeof e||Array.isArray(e))throw f.ethErrors.rpc.invalidRequest({message:h.default.errors.invalidRequestArgs(),data:e});const{method:t,params:r}=e;if("string"!=typeof t||0===t.length)throw f.ethErrors.rpc.invalidRequest({message:h.default.errors.invalidRequestMethod(),data:e});if(void 0!==r&&!Array.isArray(r)&&("object"!=typeof r||null===r))throw f.ethErrors.rpc.invalidRequest({message:h.default.errors.invalidRequestParams(),data:e});return new Promise(((e,n)=>{this._rpcRequest({method:t,params:r},p.getRpcPromiseCallback(e,n))}))}async _initializeState(){try{const{accounts:e,chainId:t,isUnlocked:r,networkVersion:n}=await this.request({method:"metamask_getProviderState"});this.emit("connect",{chainId:t}),this._handleChainChanged({chainId:t,networkVersion:n}),this._handleUnlockStateChanged({accounts:e,isUnlocked:r}),this._handleAccountsChanged(e)}catch(e){this._log.error("MetaMask: Failed to get initial state. Please report this bug.",e)}finally{this._state.initialized=!0,this.emit("_initialized")}}_rpcRequest(e,t){let r=t;return Array.isArray(e)||(e.jsonrpc||(e.jsonrpc="2.0"),"eth_accounts"!==e.method&&"eth_requestAccounts"!==e.method||(r=(r,n)=>{this._handleAccountsChanged(n.result||[],"eth_accounts"===e.method),t(r,n)})),this._rpcEngine.handle(e,r)}_handleConnect(e){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:e}),this._log.debug(h.default.info.connected(e)))}_handleDisconnect(e,t){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e){let r;this._state.isConnected=!1,e?(r=new f.EthereumRpcError(1013,t||h.default.errors.disconnected()),this._log.debug(r)):(r=new f.EthereumRpcError(1011,t||h.default.errors.permanentlyDisconnected()),this._log.error(r),this.chainId=null,this._state.accounts=null,this.selectedAddress=null,this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",r)}}_handleStreamDisconnect(e,t){p.logStreamDisconnectWarning(this._log,e,t,this),this._handleDisconnect(!1,t?t.message:void 0)}_handleChainChanged({chainId:e,networkVersion:t}={}){e&&"string"==typeof e&&e.startsWith("0x")&&t&&"string"==typeof t?"loading"===t?this._handleDisconnect(!0):(this._handleConnect(e),e!==this.chainId&&(this.chainId=e,this._state.initialized&&this.emit("chainChanged",this.chainId))):this._log.error("MetaMask: Received invalid network parameters. Please report this bug.",{chainId:e,networkVersion:t})}_handleAccountsChanged(e,t=!1){let r=e;Array.isArray(e)||(this._log.error("MetaMask: Received invalid accounts parameter. Please report this bug.",e),r=[]);for(const t of e)if("string"!=typeof t){this._log.error("MetaMask: Received non-string account. Please report this bug.",e),r=[];break}l.default(this._state.accounts,r)||(t&&null!==this._state.accounts&&this._log.error("MetaMask: 'eth_accounts' unexpectedly updated accounts. Please report this bug.",r),this._state.accounts=r,this.selectedAddress!==r[0]&&(this.selectedAddress=r[0]||null),this._state.initialized&&this.emit("accountsChanged",r))}_handleUnlockStateChanged({accounts:e,isUnlocked:t}={}){"boolean"==typeof t?t!==this._state.isUnlocked&&(this._state.isUnlocked=t,this._handleAccountsChanged(e||[])):this._log.error("MetaMask: Received invalid isUnlocked parameter. Please report this bug.")}}t.default=g,g._defaultState={accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1}},9461:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(8094),a=i(r(23)),s=i(r(2371)),u=r(4022),c=i(r(4044));class l extends c.default{constructor(e,{jsonRpcStreamName:t="metamask-provider",logger:r=n,maxEventListeners:i=100,shouldSendMetadata:o=!0}={}){if(super(e,{jsonRpcStreamName:t,logger:r,maxEventListeners:i}),this._sentWarnings={enable:!1,experimentalMethods:!1,send:!1,events:{close:!1,data:!1,networkChanged:!1,notification:!1}},this.networkVersion=null,this.isMetaMask=!0,this._sendSync=this._sendSync.bind(this),this.enable=this.enable.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this._warnOfDeprecation=this._warnOfDeprecation.bind(this),this._metamask=this._getExperimentalApi(),this._jsonRpcConnection.events.on("notification",(e=>{const{method:t}=e;u.EMITTED_NOTIFICATIONS.includes(t)&&(this.emit("data",e),this.emit("notification",e.params.result))})),o)if("complete"===document.readyState)a.default(this._rpcEngine,this._log);else{const e=()=>{a.default(this._rpcEngine,this._log),window.removeEventListener("DOMContentLoaded",e)};window.addEventListener("DOMContentLoaded",e)}}sendAsync(e,t){this._rpcRequest(e,t)}addListener(e,t){return this._warnOfDeprecation(e),super.addListener(e,t)}on(e,t){return this._warnOfDeprecation(e),super.on(e,t)}once(e,t){return this._warnOfDeprecation(e),super.once(e,t)}prependListener(e,t){return this._warnOfDeprecation(e),super.prependListener(e,t)}prependOnceListener(e,t){return this._warnOfDeprecation(e),super.prependOnceListener(e,t)}_handleDisconnect(e,t){super._handleDisconnect(e,t),this.networkVersion&&!e&&(this.networkVersion=null)}_warnOfDeprecation(e){var t;!1===(null===(t=this._sentWarnings)||void 0===t?void 0:t.events[e])&&(this._log.warn(s.default.warnings.events[e]),this._sentWarnings.events[e]=!0)}enable(){return this._sentWarnings.enable||(this._log.warn(s.default.warnings.enableDeprecation),this._sentWarnings.enable=!0),new Promise(((e,t)=>{try{this._rpcRequest({method:"eth_requestAccounts",params:[]},u.getRpcPromiseCallback(e,t))}catch(e){t(e)}}))}send(e,t){return this._sentWarnings.send||(this._log.warn(s.default.warnings.sendDeprecation),this._sentWarnings.send=!0),"string"!=typeof e||t&&!Array.isArray(t)?e&&"object"==typeof e&&"function"==typeof t?this._rpcRequest(e,t):this._sendSync(e):new Promise(((r,n)=>{try{this._rpcRequest({method:e,params:t},u.getRpcPromiseCallback(r,n,!1))}catch(e){n(e)}}))}_sendSync(e){let t;switch(e.method){case"eth_accounts":t=this.selectedAddress?[this.selectedAddress]:[];break;case"eth_coinbase":t=this.selectedAddress||null;break;case"eth_uninstallFilter":this._rpcRequest(e,u.NOOP),t=!0;break;case"net_version":t=this.networkVersion||null;break;default:throw new Error(s.default.errors.unsupportedSync(e.method))}return{id:e.id,jsonrpc:e.jsonrpc,result:t}}_getExperimentalApi(){return new Proxy({isUnlocked:async()=>(this._state.initialized||await new Promise((e=>{this.on("_initialized",(()=>e()))})),this._state.isUnlocked),requestBatch:async e=>{if(!Array.isArray(e))throw o.ethErrors.rpc.invalidRequest({message:"Batch requests must be made with an array of request objects.",data:e});return new Promise(((t,r)=>{this._rpcRequest(e,u.getRpcPromiseCallback(t,r))}))}},{get:(e,t,...r)=>(this._sentWarnings.experimentalMethods||(this._log.warn(s.default.warnings.experimentalMethods),this._sentWarnings.experimentalMethods=!0),Reflect.get(e,t,...r))})}_handleChainChanged({chainId:e,networkVersion:t}={}){super._handleChainChanged({chainId:e,networkVersion:t}),t&&"loading"!==t&&t!==this.networkVersion&&(this.networkVersion=t,this._state.initialized&&this.emit("networkChanged",this.networkVersion))}}t.default=l},5817:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(r(3274)),a=r(4924),s=i(r(4044)),u=i(r(5543)),c=a.detect();t.default=function(){let e;try{const t=function(){switch(null==c?void 0:c.name){case"chrome":default:return u.default.CHROME_ID;case"firefox":return u.default.FIREFOX_ID}}(),r=chrome.runtime.connect(t),n=new o.default(r);e=new s.default(n)}catch(e){throw n.dir("Metamask connect error ",e),e}return e}},2972:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createExternalExtensionProvider=t.shimWeb3=t.setGlobalProvider=t.BaseProvider=t.MetaMaskInpageProvider=t.initializeProvider=void 0;const i=n(r(9461));t.MetaMaskInpageProvider=i.default;const o=n(r(5817));t.createExternalExtensionProvider=o.default;const a=n(r(4044));t.BaseProvider=a.default;const s=r(6352);Object.defineProperty(t,"initializeProvider",{enumerable:!0,get:function(){return s.initializeProvider}}),Object.defineProperty(t,"setGlobalProvider",{enumerable:!0,get:function(){return s.setGlobalProvider}});const u=n(r(6473));t.shimWeb3=u.default},6352:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.setGlobalProvider=t.initializeProvider=void 0;const o=i(r(9461)),a=i(r(6473));function s(e){window.ethereum=e,window.dispatchEvent(new Event("ethereum#initialized"))}t.initializeProvider=function({connectionStream:e,jsonRpcStreamName:t,logger:r=n,maxEventListeners:i=100,shouldSendMetadata:u=!0,shouldSetOnWindow:c=!0,shouldShimWeb3:l=!1}){let f=new o.default(e,{jsonRpcStreamName:t,logger:r,maxEventListeners:i,shouldSendMetadata:u});return f=new Proxy(f,{deleteProperty:()=>!0}),c&&s(f),l&&a.default(f,r),f},t.setGlobalProvider=s},2371:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={errors:{disconnected:()=>"MetaMask: Disconnected from chain. Attempting to connect.",permanentlyDisconnected:()=>"MetaMask: Disconnected from MetaMask background. Page reload required.",sendSiteMetadata:()=>"MetaMask: Failed to send site metadata. This is an internal error, please report this bug.",unsupportedSync:e=>`MetaMask: The MetaMask Ethereum provider does not support synchronous methods like ${e} without a callback parameter.`,invalidDuplexStream:()=>"Must provide a Node.js-style duplex stream.",invalidRequestArgs:()=>"Expected a single, non-array, object argument.",invalidRequestMethod:()=>"'args.method' must be a non-empty string.",invalidRequestParams:()=>"'args.params' must be an object or array if provided.",invalidLoggerObject:()=>"'args.logger' must be an object if provided.",invalidLoggerMethod:e=>`'args.logger' must include required method '${e}'.`},info:{connected:e=>`MetaMask: Connected to chain with ID "${e}".`},warnings:{enableDeprecation:"MetaMask: 'ethereum.enable()' is deprecated and may be removed in the future. Please use the 'eth_requestAccounts' RPC method instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1102",sendDeprecation:"MetaMask: 'ethereum.send(...)' is deprecated and may be removed in the future. Please use 'ethereum.sendAsync(...)' or 'ethereum.request(...)' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193",events:{close:"MetaMask: The event 'close' is deprecated and may be removed in the future. Please use 'disconnect' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#disconnect",data:"MetaMask: The event 'data' is deprecated and will be removed in the future. Use 'message' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#message",networkChanged:"MetaMask: The event 'networkChanged' is deprecated and may be removed in the future. Use 'chainChanged' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#chainchanged",notification:"MetaMask: The event 'notification' is deprecated and may be removed in the future. Use 'message' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#message"},experimentalMethods:"MetaMask: 'ethereum._metamask' exposes non-standard, experimental methods. They may be removed or changed without warning."}}},6473:(e,t,r)=>{"use strict";var n=r(3716);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t=n){let r=!1,i=!1;if(!window.web3){const n="__isMetaMaskShim__";let o={currentProvider:e};Object.defineProperty(o,n,{value:!0,enumerable:!0,configurable:!1,writable:!1}),o=new Proxy(o,{get:(o,a,...s)=>("currentProvider"!==a||r?"currentProvider"===a||a===n||i||(i=!0,t.error("MetaMask no longer injects web3. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3"),e.request({method:"metamask_logWeb3ShimUsage"}).catch((e=>{t.debug("MetaMask: Failed to log web3 shim usage.",e)}))):(r=!0,t.warn("You are accessing the MetaMask window.web3.currentProvider shim. This property is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3")),Reflect.get(o,a,...s)),set:(...e)=>(t.warn("You are accessing the MetaMask window.web3 shim. This object is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3"),Reflect.set(...e))}),Object.defineProperty(window,"web3",{value:o,enumerable:!1,configurable:!0,writable:!0})}}},23:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(2371)),o=r(4022);function a(e){const{document:t}=e,r=t.querySelector('head > meta[property="og:site_name"]');if(r)return r.content;const n=t.querySelector('head > meta[name="title"]');return n?n.content:t.title&&t.title.length>0?t.title:window.location.hostname}async function s(e){const{document:t}=e,r=t.querySelectorAll('head > link[rel~="icon"]');for(const e of r)if(e&&await u(e.href))return e.href;return null}function u(e){return new Promise(((t,r)=>{try{const r=document.createElement("img");r.onload=()=>t(!0),r.onerror=()=>t(!1),r.src=e}catch(e){r(e)}}))}t.default=async function(e,t){try{const t=await async function(){return{name:a(window),icon:await s(window)}}();e.handle({jsonrpc:"2.0",id:1,method:"metamask_sendDomainMetadata",params:t},o.NOOP)}catch(e){t.error({message:i.default.errors.sendSiteMetadata(),originalError:e})}}},4022:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMITTED_NOTIFICATIONS=t.NOOP=t.logStreamDisconnectWarning=t.getRpcPromiseCallback=t.createErrorMiddleware=void 0;const n=r(8094);t.createErrorMiddleware=function(e){return(t,r,i)=>{"string"==typeof t.method&&t.method||(r.error=n.ethErrors.rpc.invalidRequest({message:"The request 'method' must be a non-empty string.",data:t})),i((t=>{const{error:n}=r;return n?(e.error(`MetaMask - RPC Error: ${n.message}`,n),t()):t()}))}},t.getRpcPromiseCallback=(e,t,r=!0)=>(n,i)=>{n||i.error?t(n||i.error):!r||Array.isArray(i)?e(i):e(i.result)},t.logStreamDisconnectWarning=function(e,t,r,n){let i=`MetaMask: Lost connection to "${t}".`;(null==r?void 0:r.stack)&&(i+=`\n${r.stack}`),e.warn(i),n&&n.listenerCount("error")>0&&n.emit("error",i)},t.NOOP=()=>{},t.EMITTED_NOTIFICATIONS=["eth_subscription"]},8787:e=>{"use strict";var t=Array.isArray,r=Object.keys,n=Object.prototype.hasOwnProperty;e.exports=function e(i,o){if(i===o)return!0;if(i&&o&&"object"==typeof i&&"object"==typeof o){var a,s,u,c=t(i),l=t(o);if(c&&l){if((s=i.length)!=o.length)return!1;for(a=s;0!=a--;)if(!e(i[a],o[a]))return!1;return!0}if(c!=l)return!1;var f=i instanceof Date,d=o instanceof Date;if(f!=d)return!1;if(f&&d)return i.getTime()==o.getTime();var h=i instanceof RegExp,p=o instanceof RegExp;if(h!=p)return!1;if(h&&p)return i.toString()==o.toString();var g=r(i);if((s=g.length)!==r(o).length)return!1;for(a=s;0!=a--;)if(!n.call(o,g[a]))return!1;for(a=s;0!=a--;)if(!e(i[u=g[a]],o[u]))return!1;return!0}return i!=i&&o!=o}},3795:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2699);function i(e,t,r){try{Reflect.apply(e,t,r)}catch(e){setTimeout((()=>{throw e}))}}class o extends n.EventEmitter{emit(e,...t){let r="error"===e;const n=this._events;if(void 0!==n)r=r&&void 0===n.error;else if(!r)return!1;if(r){let e;if(t.length>0&&([e]=t),e instanceof Error)throw e;const r=new Error("Unhandled error."+(e?` (${e.message})`:""));throw r.context=e,r}const o=n[e];if(void 0===o)return!1;if("function"==typeof o)i(o,this,t);else{const e=o.length,r=function(e){const t=e.length,r=new Array(t);for(let n=0;n<t;n+=1)r[n]=e[n];return r}(o);for(let n=0;n<e;n+=1)i(r[n],this,t)}return!0}}t.default=o},5778:(e,t,r)=>{"use strict";var n=r(7320);function i(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0}function o(e){return r.g.Buffer&&"function"==typeof r.g.Buffer.isBuffer?r.g.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var a=r(1485),s=Object.prototype.hasOwnProperty,u=Array.prototype.slice,c="foo"===function(){}.name;function l(e){return Object.prototype.toString.call(e)}function f(e){return!o(e)&&"function"==typeof r.g.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}var d=e.exports=m,h=/\s*function\s+([^\(\s]*)\s*/;function p(e){if(a.isFunction(e)){if(c)return e.name;var t=e.toString().match(h);return t&&t[1]}}function g(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function y(e){if(c||!a.isFunction(e))return a.inspect(e);var t=p(e);return"[Function"+(t?": "+t:"")+"]"}function b(e,t,r,n,i){throw new d.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:i})}function m(e,t){e||b(e,!0,t,"==",d.ok)}function w(e,t,r,n){if(e===t)return!0;if(o(e)&&o(t))return 0===i(e,t);if(a.isDate(e)&&a.isDate(t))return e.getTime()===t.getTime();if(a.isRegExp(e)&&a.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(f(e)&&f(t)&&l(e)===l(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===i(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(o(e)!==o(t))return!1;var s=(n=n||{actual:[],expected:[]}).actual.indexOf(e);return-1!==s&&s===n.expected.indexOf(t)||(n.actual.push(e),n.expected.push(t),function(e,t,r,n){if(null==e||null==t)return!1;if(a.isPrimitive(e)||a.isPrimitive(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=v(e),o=v(t);if(i&&!o||!i&&o)return!1;if(i)return w(e=u.call(e),t=u.call(t),r);var s,c,l=E(e),f=E(t);if(l.length!==f.length)return!1;for(l.sort(),f.sort(),c=l.length-1;c>=0;c--)if(l[c]!==f[c])return!1;for(c=l.length-1;c>=0;c--)if(!w(e[s=l[c]],t[s],r,n))return!1;return!0}(e,t,r,n))}return r?e===t:e==t}function v(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function _(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function S(e,t,r,n){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),i=function(e){var t;try{e()}catch(e){t=e}return t}(t),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),e&&!i&&b(i,r,"Missing expected exception"+n);var o="string"==typeof n,s=!e&&i&&!r;if((!e&&a.isError(i)&&o&&_(i,r)||s)&&b(i,r,"Got unwanted exception"+n),e&&i&&r&&!_(i,r)||!e&&i)throw i}d.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return g(y(e.actual),128)+" "+e.operator+" "+g(y(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||b;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var r=new Error;if(r.stack){var n=r.stack,i=p(t),o=n.indexOf("\n"+i);if(o>=0){var a=n.indexOf("\n",o+1);n=n.substring(a+1)}this.stack=n}}},a.inherits(d.AssertionError,Error),d.fail=b,d.ok=m,d.equal=function(e,t,r){e!=t&&b(e,t,r,"==",d.equal)},d.notEqual=function(e,t,r){e==t&&b(e,t,r,"!=",d.notEqual)},d.deepEqual=function(e,t,r){w(e,t,!1)||b(e,t,r,"deepEqual",d.deepEqual)},d.deepStrictEqual=function(e,t,r){w(e,t,!0)||b(e,t,r,"deepStrictEqual",d.deepStrictEqual)},d.notDeepEqual=function(e,t,r){w(e,t,!1)&&b(e,t,r,"notDeepEqual",d.notDeepEqual)},d.notDeepStrictEqual=function e(t,r,n){w(t,r,!0)&&b(t,r,n,"notDeepStrictEqual",e)},d.strictEqual=function(e,t,r){e!==t&&b(e,t,r,"===",d.strictEqual)},d.notStrictEqual=function(e,t,r){e===t&&b(e,t,r,"!==",d.notStrictEqual)},d.throws=function(e,t,r){S(!0,e,t,r)},d.doesNotThrow=function(e,t,r){S(!1,e,t,r)},d.ifError=function(e){if(e)throw e},d.strict=n((function e(t,r){t||b(t,!0,r,"==",e)}),d,{equal:d.strictEqual,deepEqual:d.deepStrictEqual,notEqual:d.notStrictEqual,notDeepEqual:d.notDeepStrictEqual}),d.strict.strict=d.strict;var E=Object.keys||function(e){var t=[];for(var r in e)s.call(e,r)&&t.push(r);return t}},5147:e=>{"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},6819:e=>{e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},1485:(e,t,r)=>{var n=r(4406),i=r(3716),o=/%[sdj%]/g;t.format=function(e){if(!m(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(u(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,a=String(e).replace(o,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),s=n[r];r<i;s=n[++r])y(s)||!_(s)?a+=" "+s:a+=" "+u(s);return a},t.deprecate=function(e,o){if(w(r.g.process))return function(){return t.deprecate(e,o).apply(this,arguments)};if(!0===n.noDeprecation)return e;var a=!1;return function(){if(!a){if(n.throwDeprecation)throw new Error(o);n.traceDeprecation?i.trace(o):i.error(o),a=!0}return e.apply(this,arguments)}};var a,s={};function u(e,r){var n={seen:[],stylize:l};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),g(r)?n.showHidden=r:r&&t._extend(n,r),w(n.showHidden)&&(n.showHidden=!1),w(n.depth)&&(n.depth=2),w(n.colors)&&(n.colors=!1),w(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=c),f(n,e,n.depth)}function c(e,t){var r=u.styles[t];return r?"["+u.colors[r][0]+"m"+e+"["+u.colors[r][1]+"m":e}function l(e,t){return e}function f(e,r,n){if(e.customInspect&&r&&O(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return m(i)||(i=f(e,i,n)),i}var o=function(e,t){if(w(t))return e.stylize("undefined","undefined");if(m(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return b(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):y(t)?e.stylize("null","null"):void 0}(e,r);if(o)return o;var a=Object.keys(r),s=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(r)),E(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return d(r);if(0===a.length){if(O(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(v(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(S(r))return e.stylize(Date.prototype.toString.call(r),"date");if(E(r))return d(r)}var c,l="",_=!1,R=["{","}"];return p(r)&&(_=!0,R=["[","]"]),O(r)&&(l=" [Function"+(r.name?": "+r.name:"")+"]"),v(r)&&(l=" "+RegExp.prototype.toString.call(r)),S(r)&&(l=" "+Date.prototype.toUTCString.call(r)),E(r)&&(l=" "+d(r)),0!==a.length||_&&0!=r.length?n<0?v(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),c=_?function(e,t,r,n,i){for(var o=[],a=0,s=t.length;a<s;++a)k(t,String(a))?o.push(h(e,t,r,n,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(h(e,t,r,n,i,!0))})),o}(e,r,n,s,a):a.map((function(t){return h(e,r,n,s,t,_)})),e.seen.pop(),function(e,t,r){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}(c,l,R)):R[0]+l+R[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,r,n,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),k(n,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=y(r)?f(e,u.value,null):f(e,u.value,r-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),w(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function p(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function y(e){return null===e}function b(e){return"number"==typeof e}function m(e){return"string"==typeof e}function w(e){return void 0===e}function v(e){return _(e)&&"[object RegExp]"===R(e)}function _(e){return"object"==typeof e&&null!==e}function S(e){return _(e)&&"[object Date]"===R(e)}function E(e){return _(e)&&("[object Error]"===R(e)||e instanceof Error)}function O(e){return"function"==typeof e}function R(e){return Object.prototype.toString.call(e)}function M(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(w(a)&&(a=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!s[e])if(new RegExp("\\b"+e+"\\b","i").test(a)){var r=n.pid;s[e]=function(){var n=t.format.apply(t,arguments);i.error("%s %d: %s",e,r,n)}}else s[e]=function(){};return s[e]},t.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=g,t.isNull=y,t.isNullOrUndefined=function(e){return null==e},t.isNumber=b,t.isString=m,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=w,t.isRegExp=v,t.isObject=_,t.isDate=S,t.isError=E,t.isFunction=O,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(6819);var j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function P(){var e=new Date,t=[M(e.getHours()),M(e.getMinutes()),M(e.getSeconds())].join(":");return[e.getDate(),j[e.getMonth()],t].join(" ")}function k(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){i.log("%s - %s",P(),t.format.apply(t,arguments))},t.inherits=r(5147),t._extend=function(e,t){if(!t||!_(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}},5766:(e,t)=>{"use strict";t.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,o=u(e),a=o[0],s=o[1],c=new i(function(e,t,r){return 3*(t+r)/4-r}(0,a,s)),l=0,f=s>0?a-4:a;for(r=0;r<f;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return 2===s&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,c[l++]=255&t),1===s&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=16383,s=0,u=n-i;s<u;s+=a)o.push(c(e,s,s+a>u?u:s+a));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=o.length;a<s;++a)r[a]=o[a],n[o.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},8834:(e,t,r)=>{"use strict";var n=r(3716);const i=r(5766),o=r(2333),a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},t.INSPECT_MAX_BYTES=50;const s=2147483647;function u(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return l(e,t,r)}function l(e,t,r){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|y(e,t);let n=u(r);const i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Y(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Y(e,ArrayBuffer)||e&&Y(e.buffer,ArrayBuffer))return p(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(Y(e,SharedArrayBuffer)||e&&Y(e.buffer,SharedArrayBuffer)))return p(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return c.from(n,t,r);const i=function(e){if(c.isBuffer(e)){const t=0|g(e.length),r=u(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||X(e.length)?u(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return f(e),u(e<0?0:0|g(e))}function h(e){const t=e.length<0?0:0|g(e.length),r=u(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function p(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,c.prototype),n}function g(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function y(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Y(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return V(e).length;default:if(i)return n?-1:G(e).length;t=(""+t).toLowerCase(),i=!0}}function b(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,r);case"utf8":case"utf-8":return j(this,t,r);case"ascii":return k(this,t,r);case"latin1":case"binary":return A(this,t,r);case"base64":return M(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function m(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function w(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),X(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,i){let o,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let n=-1;for(o=r;o<s;o++)if(c(e,o)===c(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===u)return n*a}else-1!==n&&(o-=o-n),n=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){let r=!0;for(let n=0;n<u;n++)if(c(e,o+n)!==c(t,n)){r=!1;break}if(r)return o}return-1}function _(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=t.length;let a;for(n>o/2&&(n=o/2),a=0;a<n;++a){const n=parseInt(t.substr(2*a,2),16);if(X(n))return a;e[r+a]=n}return a}function S(e,t,r,n){return K(G(t,e.length-r),e,r,n)}function E(e,t,r,n){return K(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function O(e,t,r,n){return K(V(t),e,r,n)}function R(e,t,r,n){return K(function(e,t){let r,n,i;const o=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function M(e,t,r){return 0===t&&r===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,r))}function j(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let o=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=r){let r,n,s,u;switch(a){case 1:t<128&&(o=t);break;case 2:r=e[i+1],128==(192&r)&&(u=(31&t)<<6|63&r,u>127&&(o=u));break;case 3:r=e[i+1],n=e[i+2],128==(192&r)&&128==(192&n)&&(u=(15&t)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:r=e[i+1],n=e[i+2],s=e[i+3],128==(192&r)&&128==(192&n)&&128==(192&s)&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&s,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=a}return function(e){const t=e.length;if(t<=P)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=P));return r}(n)}t.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||void 0===n||"function"!=typeof n.error||n.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,r){return function(e,t,r){return f(e),e<=0?u(e):void 0!==t?"string"==typeof r?u(e).fill(t,r):u(e).fill(t):u(e)}(e,t,r)},c.allocUnsafe=function(e){return d(e)},c.allocUnsafeSlow=function(e){return d(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),Y(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=c.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(Y(t,Uint8Array))i+t.length>n.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},c.byteLength=y,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)m(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?j(this,0,e):b.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},a&&(c.prototype[a]=c.prototype.inspect),c.prototype.compare=function(e,t,r,n,i){if(Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0);const s=Math.min(o,a),u=this.slice(n,i),l=e.slice(t,r);for(let e=0;e<s;++e)if(u[e]!==l[e]){o=u[e],a=l[e];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return w(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return w(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return _(this,e,t,r);case"utf8":case"utf-8":return S(this,e,t,r);case"ascii":case"latin1":case"binary":return E(this,e,t,r);case"base64":return O(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const P=4096;function k(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function A(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function x(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=Z[e[n]];return i}function C(e,t,r){const n=e.slice(t,r);let i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}function T(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,r,n,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function I(e,t,r,n,i){z(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function B(e,t,r,n,i){z(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function D(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(e,t,r,n,i){return t=+t,r>>>=0,i||D(e,0,r,4),o.write(e,t,r,n,23,4),r+4}function U(e,t,r,n,i){return t=+t,r>>>=0,i||D(e,0,r,8),o.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||T(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||T(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||T(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||T(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||T(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=Q((function(e){J(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||$(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),c.prototype.readBigUInt64BE=Q((function(e){J(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||$(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),c.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return e>>>=0,t||T(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||T(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){e>>>=0,t||T(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||T(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||T(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=Q((function(e){J(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||$(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=Q((function(e){J(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||$(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||T(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||T(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||T(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||T(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||N(this,e,t,r,Math.pow(2,8*r)-1,0);let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||N(this,e,t,r,Math.pow(2,8*r)-1,0);let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=Q((function(e,t=0){return I(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=Q((function(e,t=0){return B(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);N(this,e,t,r,n-1,-n)}let i=0,o=1,a=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);N(this,e,t,r,n-1,-n)}let i=r-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=Q((function(e,t=0){return I(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=Q((function(e,t=0){return B(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,r){return L(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return L(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return U(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return U(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},c.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{const o=c.isBuffer(e)?e:c.from(e,n),a=o.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%a]}return this};const q={};function F(e,t,r){q[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function W(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function z(e,t,r,n,i,o){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new q.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){J(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||$(t,e.length-(r+1))}(n,i,o)}function J(e,t){if("number"!=typeof e)throw new q.ERR_INVALID_ARG_TYPE(t,"number",e)}function $(e,t,r){if(Math.floor(e)!==e)throw J(e,r),new q.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new q.ERR_BUFFER_OUT_OF_BOUNDS;throw new q.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}F("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),F("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),F("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=W(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=W(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const H=/[^+/0-9A-Za-z-_]/g;function G(e,t){let r;t=t||1/0;const n=e.length;let i=null;const o=[];for(let a=0;a<n;++a){if(r=e.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function V(e){return i.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function K(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Y(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function X(e){return e!=e}const Z=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function Q(e){return"undefined"==typeof BigInt?ee:e}function ee(){throw new Error("BigInt not supported")}},2680:(e,t,r)=>{"use strict";var n=r(7286),i=r(9429),o=i(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&o(e,".prototype.")>-1?i(r):r}},9429:(e,t,r)=>{"use strict";var n=r(4090),i=r(7286),o=i("%Function.prototype.apply%"),a=i("%Function.prototype.call%"),s=i("%Reflect.apply%",!0)||n.call(a,o),u=i("%Object.getOwnPropertyDescriptor%",!0),c=i("%Object.defineProperty%",!0),l=i("%Math.max%");if(c)try{c({},"a",{value:1})}catch(e){c=null}e.exports=function(e){var t=s(n,a,arguments);if(u&&c){var r=u(t,"length");r.configurable&&c(t,"length",{value:1+l(0,e.length-(arguments.length-1))})}return t};var f=function(){return s(n,o,arguments)};c?c(e.exports,"apply",{value:f}):e.exports.apply=f},3716:(e,t,r)=>{var n=r(3335),i=r(5778);function o(){return(new Date).getTime()}var a,s=Array.prototype.slice,u={};a=void 0!==r.g&&r.g.console?r.g.console:"undefined"!=typeof window&&window.console?window.console:{};for(var c=[[function(){},"log"],[function(){a.log.apply(a,arguments)},"info"],[function(){a.log.apply(a,arguments)},"warn"],[function(){a.warn.apply(a,arguments)},"error"],[function(e){u[e]=o()},"time"],[function(e){var t=u[e];if(!t)throw new Error("No such label: "+e);delete u[e];var r=o()-t;a.log(e+": "+r+"ms")},"timeEnd"],[function(){var e=new Error;e.name="Trace",e.message=n.format.apply(null,arguments),a.error(e.stack)},"trace"],[function(e){a.log(n.inspect(e)+"\n")},"dir"],[function(e){if(!e){var t=s.call(arguments,1);i.ok(!1,n.format.apply(null,t))}},"assert"]],l=0;l<c.length;l++){var f=c[l],d=f[0],h=f[1];a[h]||(a[h]=d)}e.exports=a},7646:(e,t,r)=>{var n=r(8834).Buffer;function i(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===i(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===i(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===i(e)},t.isError=function(e){return"[object Error]"===i(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n.isBuffer},4924:(e,t,r)=>{"use strict";r.r(t),r.d(t,{BrowserInfo:()=>o,NodeInfo:()=>a,SearchBotDeviceInfo:()=>s,BotInfo:()=>u,ReactNativeInfo:()=>c,detect:()=>h,browserName:()=>g,parseUserAgent:()=>y,detectOS:()=>b,getNodeVersion:()=>m});var n=r(4406),i=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},o=function(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"},a=function(e){this.version=e,this.type="node",this.name="node",this.os=n.platform},s=function(e,t,r,n){this.name=e,this.version=t,this.os=r,this.bot=n,this.type="bot-device"},u=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},c=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},l=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,f=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],d=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function h(e){return e?y(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new c:"undefined"!=typeof navigator?y(navigator.userAgent):m()}function p(e){return""!==e&&f.reduce((function(t,r){var n=r[0],i=r[1];if(t)return t;var o=i.exec(e);return!!o&&[n,o]}),!1)}function g(e){var t=p(e);return t?t[0]:null}function y(e){var t=p(e);if(!t)return null;var r=t[0],n=t[1];if("searchbot"===r)return new u;var a=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);a?a.length<3&&(a=i(i([],a,!0),function(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}(3-a.length),!0)):a=[];var c=a.join("."),f=b(e),d=l.exec(e);return d&&d[1]?new s(r,c,f,d[1]):new o(r,c,f)}function b(e){for(var t=0,r=d.length;t<r;t++){var n=d[t],i=n[0];if(n[1].exec(e))return i}return null}function m(){return void 0!==n&&n.version?new a(n.version.slice(1)):null}},8797:(e,t,r)=>{var n=r(4406),i=r(9928),o=function(){},a=function(e,t,r){if("function"==typeof t)return a(e,null,t);t||(t={}),r=i(r||o);var s=e._writableState,u=e._readableState,c=t.readable||!1!==t.readable&&e.readable,l=t.writable||!1!==t.writable&&e.writable,f=!1,d=function(){e.writable||h()},h=function(){l=!1,c||r.call(e)},p=function(){c=!1,l||r.call(e)},g=function(t){r.call(e,t?new Error("exited with error code: "+t):null)},y=function(t){r.call(e,t)},b=function(){n.nextTick(m)},m=function(){if(!f)return(!c||u&&u.ended&&!u.destroyed)&&(!l||s&&s.ended&&!s.destroyed)?void 0:r.call(e,new Error("premature close"))},w=function(){e.req.on("finish",h)};return function(e){return e.setHeader&&"function"==typeof e.abort}(e)?(e.on("complete",h),e.on("abort",b),e.req?w():e.on("request",w)):l&&!s&&(e.on("end",d),e.on("close",d)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(e)&&e.on("exit",g),e.on("end",p),e.on("finish",h),!1!==t.error&&e.on("error",y),e.on("close",b),function(){f=!0,e.removeListener("complete",h),e.removeListener("abort",b),e.removeListener("request",w),e.req&&e.req.removeListener("finish",h),e.removeListener("end",d),e.removeListener("close",d),e.removeListener("finish",h),e.removeListener("exit",g),e.removeListener("end",p),e.removeListener("error",y),e.removeListener("close",b)}};e.exports=a},4723:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EthereumProviderError=t.EthereumRpcError=void 0;const n=r(7847);class i extends Error{constructor(e,t,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw new Error('"message" must be a nonempty string.');super(t),this.code=e,void 0!==r&&(this.data=r)}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return n.default(this.serialize(),o,2)}}function o(e,t){if("[Circular]"!==t)return t}t.EthereumRpcError=i,t.EthereumProviderError=class extends i{constructor(e,t,r){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,r)}}},4792:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorValues=t.errorCodes=void 0,t.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},t.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}},8159:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ethErrors=void 0;const n=r(4723),i=r(894),o=r(4792);function a(e,t){const[r,o]=u(t);return new n.EthereumRpcError(e,r||i.getMessageFromCode(e),o)}function s(e,t){const[r,o]=u(t);return new n.EthereumProviderError(e,r||i.getMessageFromCode(e),o)}function u(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&"string"!=typeof t)throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}t.ethErrors={rpc:{parse:e=>a(o.errorCodes.rpc.parse,e),invalidRequest:e=>a(o.errorCodes.rpc.invalidRequest,e),invalidParams:e=>a(o.errorCodes.rpc.invalidParams,e),methodNotFound:e=>a(o.errorCodes.rpc.methodNotFound,e),internal:e=>a(o.errorCodes.rpc.internal,e),server:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return a(t,e)},invalidInput:e=>a(o.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>a(o.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>a(o.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>a(o.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>a(o.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>a(o.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>s(o.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>s(o.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>s(o.errorCodes.provider.unsupportedMethod,e),disconnected:e=>s(o.errorCodes.provider.disconnected,e),chainDisconnected:e=>s(o.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:r,data:i}=e;if(!r||"string"!=typeof r)throw new Error('"message" must be a nonempty string');return new n.EthereumProviderError(t,r,i)}}}},8094:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const n=r(4723);Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return n.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return n.EthereumProviderError}});const i=r(894);Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return i.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return i.getMessageFromCode}});const o=r(8159);Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return o.ethErrors}});const a=r(4792);Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return a.errorCodes}})},894:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const n=r(4792),i=r(4723),o=n.errorCodes.rpc.internal,a={code:o,message:s(o)};function s(e,r="Unspecified error message. This is a bug, please report it."){if(Number.isInteger(e)){const r=e.toString();if(f(n.errorValues,r))return n.errorValues[r].message;if(c(e))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return r}function u(e){if(!Number.isInteger(e))return!1;const t=e.toString();return!!n.errorValues[t]||!!c(e)}function c(e){return e>=-32099&&e<=-32e3}function l(e){return e&&"object"==typeof e&&!Array.isArray(e)?Object.assign({},e):e}function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",t.getMessageFromCode=s,t.isValidCode=u,t.serializeError=function(e,{fallbackError:t=a,shouldIncludeStack:r=!1}={}){var n,o;if(!t||!Number.isInteger(t.code)||"string"!=typeof t.message)throw new Error("Must provide fallback error with integer number code and string message.");if(e instanceof i.EthereumRpcError)return e.serialize();const c={};if(e&&"object"==typeof e&&!Array.isArray(e)&&f(e,"code")&&u(e.code)){const t=e;c.code=t.code,t.message&&"string"==typeof t.message?(c.message=t.message,f(t,"data")&&(c.data=t.data)):(c.message=s(c.code),c.data={originalError:l(e)})}else{c.code=t.code;const r=null===(n=e)||void 0===n?void 0:n.message;c.message=r&&"string"==typeof r?r:t.message,c.data={originalError:l(e)}}const d=null===(o=e)||void 0===o?void 0:o.stack;return r&&e&&d&&"string"==typeof d&&(c.stack=d),c}},2699:(e,t,r)=>{"use strict";var n,i=r(3716),o="object"==typeof Reflect?Reflect:null,a=o&&"function"==typeof o.apply?o.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function u(){u.init.call(this)}e.exports=u,e.exports.once=function(e,t){return new Promise((function(r,n){function i(){void 0!==o&&e.removeListener("error",o),r([].slice.call(arguments))}var o;"error"!==t&&(o=function(r){e.removeListener(t,i),n(r)},e.once("error",o)),e.once(t,i)}))},u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var c=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function f(e){return void 0===e._maxListeners?u.defaultMaxListeners:e._maxListeners}function d(e,t,r,n){var o,a,s,u;if(l(r),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),s=a[t]),void 0===s)s=a[t]=r,++e._eventsCount;else if("function"==typeof s?s=a[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(o=f(e))>0&&s.length>o&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,u=c,i&&i.warn&&i.warn(u)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=h.bind(n);return i.listener=r,n.wrapFn=i,i}function g(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):b(i,i.length)}function y(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function b(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),u.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},u.prototype.getMaxListeners=function(){return f(this)},u.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)a(u,this,t);else{var c=u.length,l=b(u,c);for(r=0;r<c;++r)a(l[r],this,t)}return!0},u.prototype.addListener=function(e,t){return d(this,e,t,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(e,t){return d(this,e,t,!0)},u.prototype.once=function(e,t){return l(t),this.on(e,p(this,e,t)),this},u.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,p(this,e,t)),this},u.prototype.removeListener=function(e,t){var r,n,i,o,a;if(l(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},u.prototype.listeners=function(e){return g(this,e,!0)},u.prototype.rawListeners=function(e){return g(this,e,!1)},u.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):y.call(e,t)},u.prototype.listenerCount=y,u.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},3274:(e,t,r)=>{"use strict";var n=r(8834).Buffer;const i=r(4851);e.exports=class extends i.Duplex{constructor(e){super({objectMode:!0}),this._port=e,this._port.onMessage.addListener((e=>this._onMessage(e))),this._port.onDisconnect.addListener((()=>this._onDisconnect()))}_onMessage(e){if(n.isBuffer(e)){const t=n.from(e);this.push(t)}else this.push(e)}_onDisconnect(){this.destroy()}_read(){}_write(e,t,r){try{if(n.isBuffer(e)){const t=e.toJSON();t._isBuffer=!0,this._port.postMessage(t)}else this._port.postMessage(e)}catch(e){return r(new Error("PortDuplexStream - disconnected"))}return r()}}},7847:e=>{e.exports=n,n.default=n,n.stable=a,n.stableStringify=a;var t=[],r=[];function n(e,n,o){var a;for(i(e,"",[],void 0),a=0===r.length?JSON.stringify(e,n,o):JSON.stringify(e,u(n),o);0!==t.length;){var s=t.pop();4===s.length?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}return a}function i(e,n,o,a){var s;if("object"==typeof e&&null!==e){for(s=0;s<o.length;s++)if(o[s]===e){var u=Object.getOwnPropertyDescriptor(a,n);return void(void 0!==u.get?u.configurable?(Object.defineProperty(a,n,{value:"[Circular]"}),t.push([a,n,e,u])):r.push([e,n]):(a[n]="[Circular]",t.push([a,n,e])))}if(o.push(e),Array.isArray(e))for(s=0;s<e.length;s++)i(e[s],s,o,e);else{var c=Object.keys(e);for(s=0;s<c.length;s++){var l=c[s];i(e[l],l,o,e)}}o.pop()}}function o(e,t){return e<t?-1:e>t?1:0}function a(e,n,i){var o,a=s(e,"",[],void 0)||e;for(o=0===r.length?JSON.stringify(a,n,i):JSON.stringify(a,u(n),i);0!==t.length;){var c=t.pop();4===c.length?Object.defineProperty(c[0],c[1],c[3]):c[0][c[1]]=c[2]}return o}function s(e,n,i,a){var u;if("object"==typeof e&&null!==e){for(u=0;u<i.length;u++)if(i[u]===e){var c=Object.getOwnPropertyDescriptor(a,n);return void(void 0!==c.get?c.configurable?(Object.defineProperty(a,n,{value:"[Circular]"}),t.push([a,n,e,c])):r.push([e,n]):(a[n]="[Circular]",t.push([a,n,e])))}if("function"==typeof e.toJSON)return;if(i.push(e),Array.isArray(e))for(u=0;u<e.length;u++)s(e[u],u,i,e);else{var l={},f=Object.keys(e).sort(o);for(u=0;u<f.length;u++){var d=f[u];s(e[d],d,i,e),l[d]=e[d]}if(void 0===a)return l;t.push([a,n,e]),a[n]=l}i.pop()}}function u(e){return e=void 0!==e?e:function(e,t){return t},function(t,n){if(r.length>0)for(var i=0;i<r.length;i++){var o=r[i];if(o[1]===t&&o[0]===n){n="[Circular]",r.splice(i,1);break}}return e.call(this,t,n)}}},6388:e=>{var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString;e.exports=function(e,n,i){if("[object Function]"!==r.call(n))throw new TypeError("iterator must be a function");var o=e.length;if(o===+o)for(var a=0;a<o;a++)n.call(i,e[a],a,e);else for(var s in e)t.call(e,s)&&n.call(i,e[s],s,e)}},7795:e=>{"use strict";var t="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,n=Object.prototype.toString,i="[object Function]";e.exports=function(e){var o=this;if("function"!=typeof o||n.call(o)!==i)throw new TypeError(t+o);for(var a,s=r.call(arguments,1),u=function(){if(this instanceof a){var t=o.apply(this,s.concat(r.call(arguments)));return Object(t)===t?t:this}return o.apply(e,s.concat(r.call(arguments)))},c=Math.max(0,o.length-s.length),l=[],f=0;f<c;f++)l.push("$"+f);if(a=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(u),o.prototype){var d=function(){};d.prototype=o.prototype,a.prototype=new d,d.prototype=null}return a}},4090:(e,t,r)=>{"use strict";var n=r(7795);e.exports=Function.prototype.bind||n},7286:(e,t,r)=>{"use strict";var n,i=SyntaxError,o=Function,a=TypeError,s=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(e){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(e){u=null}var c=function(){throw new a},l=u?function(){try{return c}catch(e){try{return u(arguments,"callee").get}catch(e){return c}}}():c,f=r(4123)(),d=Object.getPrototypeOf||function(e){return e.__proto__},h={},p="undefined"==typeof Uint8Array?n:d(Uint8Array),g={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":f?d([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":h,"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":h,"%AsyncIteratorPrototype%":h,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":h,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f?d(d([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&f?d((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&f?d((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f?d(""[Symbol.iterator]()):n,"%Symbol%":f?Symbol:n,"%SyntaxError%":i,"%ThrowTypeError%":l,"%TypedArray%":p,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet},y=function e(t){var r;if("%AsyncFunction%"===t)r=s("async function () {}");else if("%GeneratorFunction%"===t)r=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=s("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(r=d(i.prototype))}return g[t]=r,r},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},m=r(4090),w=r(3198),v=m.call(Function.call,Array.prototype.concat),_=m.call(Function.apply,Array.prototype.splice),S=m.call(Function.call,String.prototype.replace),E=m.call(Function.call,String.prototype.slice),O=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,R=/\\(\\)?/g,M=function(e){var t=E(e,0,1),r=E(e,-1);if("%"===t&&"%"!==r)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var n=[];return S(e,O,(function(e,t,r,i){n[n.length]=r?S(i,R,"$1"):t||e})),n},j=function(e,t){var r,n=e;if(w(b,n)&&(n="%"+(r=b[n])[0]+"%"),w(g,n)){var o=g[n];if(o===h&&(o=y(n)),void 0===o&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new a('"allowMissing" argument must be a boolean');var r=M(e),n=r.length>0?r[0]:"",o=j("%"+n+"%",t),s=o.name,c=o.value,l=!1,f=o.alias;f&&(n=f[0],_(r,v([0,1],f)));for(var d=1,h=!0;d<r.length;d+=1){var p=r[d],y=E(p,0,1),b=E(p,-1);if(('"'===y||"'"===y||"`"===y||'"'===b||"'"===b||"`"===b)&&y!==b)throw new i("property names with quotes must have matching quotes");if("constructor"!==p&&h||(l=!0),w(g,s="%"+(n+="."+p)+"%"))c=g[s];else if(null!=c){if(!(p in c)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(u&&d+1>=r.length){var m=u(c,p);c=(h=!!m)&&"get"in m&&!("originalValue"in m.get)?m.get:c[p]}else h=w(c,p),c=c[p];h&&!l&&(g[s]=c)}}return c}},4123:(e,t,r)=>{"use strict";var n=r.g.Symbol,i=r(300);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&i()}},300:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},6679:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},7226:(e,t,r)=>{"use strict";var n=r(6679);e.exports=function(){return n()&&!!Symbol.toStringTag}},3198:(e,t,r)=>{"use strict";var n=r(4090);e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},2333:(e,t)=>{t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,f=r?i-1:0,d=r?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-l)-1,h>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=d,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+e[t+f],f+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),o-=c}return(h?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[r+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+h]=255&a,h+=p,a/=256,c-=8);e[r+h-p]|=128*g}},1285:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},2635:(e,t,r)=>{"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,i=r(2680)("Object.prototype.toString"),o=function(e){return!(n&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===i(e)},a=function(e){return!!o(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==i(e)&&"[object Function]"===i(e.callee)},s=function(){return o(arguments)}();o.isLegacyArguments=a,e.exports=s?o:a},3138:(e,t,r)=>{"use strict";var n,i=Object.prototype.toString,o=Function.prototype.toString,a=/^\s*(?:function)?\*/,s=r(7226)(),u=Object.getPrototypeOf;e.exports=function(e){if("function"!=typeof e)return!1;if(a.test(o.call(e)))return!0;if(!s)return"[object GeneratorFunction]"===i.call(e);if(!u)return!1;if(void 0===n){var t=function(){if(!s)return!1;try{return Function("return function*() {}")()}catch(e){}}();n=!!t&&u(t)}return u(e)===n}},8607:e=>{"use strict";const t=e=>null!==e&&"object"==typeof e&&"function"==typeof e.pipe;t.writable=e=>t(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState,t.readable=e=>t(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState,t.duplex=e=>t.writable(e)&&t.readable(e),t.transform=e=>t.duplex(e)&&"function"==typeof e._transform&&"object"==typeof e._transformState,e.exports=t},198:(e,t,r)=>{"use strict";var n=r(6388),i=r(2191),o=r(2680),a=o("Object.prototype.toString"),s=r(7226)(),u="undefined"==typeof globalThis?r.g:globalThis,c=i(),l=o("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},f=o("String.prototype.slice"),d={},h=r(7342),p=Object.getPrototypeOf;s&&h&&p&&n(c,(function(e){var t=new u[e];if(Symbol.toStringTag in t){var r=p(t),n=h(r,Symbol.toStringTag);if(!n){var i=p(r);n=h(i,Symbol.toStringTag)}d[e]=n.get}})),e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!s||!(Symbol.toStringTag in e)){var t=f(a(e),8,-1);return l(c,t)>-1}return!!h&&function(e){var t=!1;return n(d,(function(r,n){if(!t)try{t=r.call(e)===n}catch(e){}})),t}(e)}},7906:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},2539:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.JsonRpcEngine=void 0;const i=n(r(3795)),o=r(8094);class a extends i.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,t){if(t&&"function"!=typeof t)throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?t?this._handleBatch(e,t):this._handleBatch(e):t?this._handle(e,t):this._promiseHandle(e)}asMiddleware(){return async(e,t,r,n)=>{try{const[i,o,s]=await a._runAllMiddleware(e,t,this._middleware);return o?(await a._runReturnHandlers(s),n(i)):r((async e=>{try{await a._runReturnHandlers(s)}catch(t){return e(t)}return e()}))}catch(e){return n(e)}}}async _handleBatch(e,t){try{const r=await Promise.all(e.map(this._promiseHandle.bind(this)));return t?t(null,r):r}catch(e){if(t)return t(e);throw e}}_promiseHandle(e){return new Promise((t=>{this._handle(e,((e,r)=>{t(r)}))}))}async _handle(e,t){if(!e||Array.isArray(e)||"object"!=typeof e){const r=new o.EthereumRpcError(o.errorCodes.rpc.invalidRequest,"Requests must be plain objects. Received: "+typeof e,{request:e});return t(r,{id:void 0,jsonrpc:"2.0",error:r})}if("string"!=typeof e.method){const r=new o.EthereumRpcError(o.errorCodes.rpc.invalidRequest,"Must specify a string method. Received: "+typeof e.method,{request:e});return t(r,{id:e.id,jsonrpc:"2.0",error:r})}const r=Object.assign({},e),n={id:r.id,jsonrpc:r.jsonrpc};let i=null;try{await this._processRequest(r,n)}catch(e){i=e}return i&&(delete n.result,n.error||(n.error=o.serializeError(i))),t(i,n)}async _processRequest(e,t){const[r,n,i]=await a._runAllMiddleware(e,t,this._middleware);if(a._checkForCompletion(e,t,n),await a._runReturnHandlers(i),r)throw r}static async _runAllMiddleware(e,t,r){const n=[];let i=null,o=!1;for(const s of r)if([i,o]=await a._runMiddleware(e,t,s,n),o)break;return[i,o,n.reverse()]}static _runMiddleware(e,t,r,n){return new Promise((i=>{const a=e=>{const r=e||t.error;r&&(t.error=o.serializeError(r)),i([r,!0])},u=r=>{t.error?a(t.error):(r&&("function"!=typeof r&&a(new o.EthereumRpcError(o.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof r}" for request:\n${s(e)}`,{request:e})),n.push(r)),i([null,!1]))};try{r(e,t,u,a)}catch(e){a(e)}}))}static async _runReturnHandlers(e){for(const t of e)await new Promise(((e,r)=>{t((t=>t?r(t):e()))}))}static _checkForCompletion(e,t,r){if(!("result"in t)&&!("error"in t))throw new o.EthereumRpcError(o.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:\n${s(e)}`,{request:e});if(!r)throw new o.EthereumRpcError(o.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:\n${s(e)}`,{request:e})}}function s(e){return JSON.stringify(e,null,2)}t.JsonRpcEngine=a},7573:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAsyncMiddleware=void 0,t.createAsyncMiddleware=function(e){return async(t,r,n,i)=>{let o;const a=new Promise((e=>{o=e}));let s=null,u=!1;const c=async()=>{u=!0,n((e=>{s=e,o()})),await a};try{await e(t,r,c),u?(await a,s(null)):i(null)}catch(e){s?s(e):i(e)}}}},9141:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createScaffoldMiddleware=void 0,t.createScaffoldMiddleware=function(e){return(t,r,n,i)=>{const o=e[t.method];return void 0===o?n():"function"==typeof o?o(t,r,n,i):(r.result=o,i())}}},5104:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUniqueId=void 0;const r=4294967295;let n=Math.floor(Math.random()*r);t.getUniqueId=function(){return n=(n+1)%r,n}},169:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createIdRemapMiddleware=void 0;const n=r(5104);t.createIdRemapMiddleware=function(){return(e,t,r,i)=>{const o=e.id,a=n.getUniqueId();e.id=a,t.id=a,r((r=>{e.id=o,t.id=o,r()}))}}},1280:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(169),t),i(r(7573),t),i(r(9141),t),i(r(5104),t),i(r(2539),t),i(r(1759),t)},1759:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeMiddleware=void 0;const n=r(2539);t.mergeMiddleware=function(e){const t=new n.JsonRpcEngine;return e.forEach((e=>t.push(e))),t.asMiddleware()}},2408:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(7525);t.default=function(e){if(!e||!e.engine)throw new Error("Missing engine parameter!");const{engine:t}=e,r=new n.Duplex({objectMode:!0,read:function(){},write:function(e,n,i){t.handle(e,((e,t)=>{r.push(t)})),i()}});return t.on&&t.on("notification",(e=>{r.push(e)})),r}},3603:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(3795)),o=r(7525);t.default=function(){const e={},t=new o.Duplex({objectMode:!0,read:function(){return!1},write:function(t,n,i){let o;try{t.id?function(t){const r=e[t.id];if(!r)throw new Error(`StreamMiddleware - Unknown response id "${t.id}"`);delete e[t.id],Object.assign(r.res,t),setTimeout(r.end)}(t):function(e){r.emit("notification",e)}(t)}catch(e){o=e}i(o)}}),r=new i.default;return{events:r,middleware:(r,n,i,o)=>{t.push(r),e[r.id]={req:r,res:n,next:i,end:o}},stream:t}}},1384:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createStreamMiddleware=t.createEngineStream=void 0;const i=n(r(2408));t.createEngineStream=i.default;const o=n(r(3603));t.createStreamMiddleware=o.default},7320:e=>{"use strict";var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var a,s,u=i(e),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))r.call(a,l)&&(u[l]=a[l]);if(t){s=t(a);for(var f=0;f<s.length;f++)n.call(a,s[f])&&(u[s[f]]=a[s[f]])}}return u}},9928:(e,t,r)=>{var n=r(8892);function i(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}e.exports=n(i),e.exports.strict=n(o),i.proto=i((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})}))},2884:(e,t,r)=>{"use strict";var n=r(4406);void 0===n||!n.version||0===n.version.indexOf("v0.")||0===n.version.indexOf("v1.")&&0!==n.version.indexOf("v1.8.")?e.exports={nextTick:function(e,t,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return n.nextTick(e);case 2:return n.nextTick((function(){e.call(null,t)}));case 3:return n.nextTick((function(){e.call(null,t,r)}));case 4:return n.nextTick((function(){e.call(null,t,r,i)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return n.nextTick((function(){e.apply(null,o)}))}}}:e.exports=n},4406:e=>{var t,r,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var s,u=[],c=!1,l=-1;function f(){c&&s&&(c=!1,s.length?u=s.concat(u):l=-1,u.length&&d())}function d(){if(!c){var e=a(f);c=!0;for(var t=u.length;t;){for(s=u,u=[];++l<t;)s&&s[l].run();l=-1,t=u.length}s=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new h(e,t)),1!==u.length||c||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},3171:(e,t,r)=>{var n=r(4406),i=r(9928),o=r(8797),a=r(3558),s=function(){},u=/^v?\.0/.test(n.version),c=function(e){return"function"==typeof e},l=function(e,t,r,n){n=i(n);var l=!1;e.on("close",(function(){l=!0})),o(e,{readable:t,writable:r},(function(e){if(e)return n(e);l=!0,n()}));var f=!1;return function(t){if(!l&&!f)return f=!0,function(e){return!!u&&!!a&&(e instanceof(a.ReadStream||s)||e instanceof(a.WriteStream||s))&&c(e.close)}(e)?e.close(s):function(e){return e.setHeader&&c(e.abort)}(e)?e.abort():c(e.destroy)?e.destroy():void n(t||new Error("stream was destroyed"))}},f=function(e){e()},d=function(e,t){return e.pipe(t)};e.exports=function(){var e,t=Array.prototype.slice.call(arguments),r=c(t[t.length-1]||s)&&t.pop()||s;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var n=t.map((function(i,o){var a=o<t.length-1;return l(i,a,o>0,(function(t){e||(e=t),t&&n.forEach(f),a||(n.forEach(f),r(e))}))}));return t.reduce(d)}},7073:(e,t,r)=>{"use strict";var n=r(2884),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=f;var o=Object.create(r(7646));o.inherits=r(1285);var a=r(8051),s=r(2557);o.inherits(f,a);for(var u=i(s.prototype),c=0;c<u.length;c++){var l=u[c];f.prototype[l]||(f.prototype[l]=s.prototype[l])}function f(e){if(!(this instanceof f))return new f(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||n.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},5163:(e,t,r)=>{"use strict";e.exports=o;var n=r(7640),i=Object.create(r(7646));function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}i.inherits=r(1285),i.inherits(o,n),o.prototype._transform=function(e,t,r){r(null,e)}},8051:(e,t,r)=>{"use strict";var n=r(4406),i=r(2884);e.exports=w;var o,a=r(7906);w.ReadableState=m,r(2699).EventEmitter;var s=function(e,t){return e.listeners(t).length},u=r(5010),c=r(2521).Buffer,l=r.g.Uint8Array||function(){},f=Object.create(r(7646));f.inherits=r(1285);var d=r(6602),h=void 0;h=d&&d.debuglog?d.debuglog("stream"):function(){};var p,g=r(9128),y=r(2262);f.inherits(w,u);var b=["error","close","destroy","pause","resume"];function m(e,t){e=e||{};var n=t instanceof(o=o||r(7073));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=r(1922).s),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function w(e){if(o=o||r(7073),!(this instanceof w))return new w(e);this._readableState=new m(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function v(e,t,r,n,i){var o,a=e._readableState;return null===t?(a.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,O(e)}}(e,a)):(i||(o=function(e,t){var r,n;return n=t,c.isBuffer(n)||n instanceof l||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),n?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):_(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?_(e,a,t,!1):M(e,a)):_(e,a,t,!1))):n||(a.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function _(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&O(e)),M(e,t)}Object.defineProperty(w.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),w.prototype.destroy=y.destroy,w.prototype._undestroy=y.undestroy,w.prototype._destroy=function(e,t){this.push(null),t(e)},w.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),r=!0),v(this,e,t,!1,r)},w.prototype.unshift=function(e){return v(this,e,null,!0,!1)},w.prototype.isPaused=function(){return!1===this._readableState.flowing},w.prototype.setEncoding=function(e){return p||(p=r(1922).s),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var S=8388608;function E(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=S?e=S:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function O(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(R,e):R(e))}function R(e){h("emit readable"),e.emit("readable"),A(e)}function M(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(j,e,t))}function j(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function P(e){h("readable nexttick read 0"),e.read(0)}function k(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),A(e),t.flowing&&!t.reading&&e.read(0)}function A(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function x(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0==(e-=a)){a===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=c.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,a),0==(e-=a)){a===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++i}return t.length-=i,r}(e,t),n}(e,t.buffer,t.decoder),r);var r}function C(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(T,t,e))}function T(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function N(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}w.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?C(this):O(this),null;if(0===(e=E(e,t))&&t.ended)return 0===t.length&&C(this),null;var n,i=t.needReadable;return h("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",i=!0),t.ended||t.reading?h("reading or ended",i=!1):i&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=E(r,t))),null===(n=e>0?x(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&C(this)),null!==n&&this.emit("data",n),n},w.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},w.prototype.pipe=function(e,t){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,h("pipe count=%d opts=%j",o.pipesCount,t);var u=t&&!1===t.end||e===n.stdout||e===n.stderr?m:c;function c(){h("onend"),e.end()}o.endEmitted?i.nextTick(u):r.once("end",u),e.on("unpipe",(function t(n,i){h("onunpipe"),n===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,h("cleanup"),e.removeListener("close",y),e.removeListener("finish",b),e.removeListener("drain",l),e.removeListener("error",g),e.removeListener("unpipe",t),r.removeListener("end",c),r.removeListener("end",m),r.removeListener("data",p),f=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}));var l=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,A(e))}}(r);e.on("drain",l);var f=!1,d=!1;function p(t){h("ondata"),d=!1,!1!==e.write(t)||d||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==N(o.pipes,e))&&!f&&(h("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,d=!0),r.pause())}function g(t){h("onerror",t),m(),e.removeListener("error",g),0===s(e,"error")&&e.emit("error",t)}function y(){e.removeListener("finish",b),m()}function b(){h("onfinish"),e.removeListener("close",y),m()}function m(){h("unpipe"),r.unpipe(e)}return r.on("data",p),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events.error?a(e._events.error)?e._events.error.unshift(r):e._events.error=[r,e._events.error]:e.on(t,r)}(e,"error",g),e.once("close",y),e.once("finish",b),e.emit("pipe",r),o.flowing||(h("pipe resume"),r.resume()),e},w.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var a=N(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},w.prototype.on=function(e,t){var r=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&O(this):i.nextTick(P,this))}return r},w.prototype.addListener=w.prototype.on,w.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(k,e,t))}(this,e)),this},w.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},w.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(h("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){h("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<b.length;o++)e.on(b[o],this.emit.bind(this,b[o]));return this._read=function(t){h("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(w.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),w._fromList=x},7640:(e,t,r)=>{"use strict";e.exports=a;var n=r(7073),i=Object.create(r(7646));function o(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);n.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush((function(t,r){u(e,t,r)})):u(this,null,null)}function u(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=r(1285),i.inherits(a,n),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,(function(e){t(e),r.emit("close")}))}},2557:(e,t,r)=>{"use strict";var n=r(4406),i=r(2884);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=b;var a,s=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?setImmediate:i.nextTick;b.WritableState=y;var u=Object.create(r(7646));u.inherits=r(1285);var c,l={deprecate:r(5803)},f=r(5010),d=r(2521).Buffer,h=r.g.Uint8Array||function(){},p=r(2262);function g(){}function y(e,t){a=a||r(7073),e=e||{};var n=t instanceof a;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var u=e.highWaterMark,c=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=u||0===u?u:n&&(c||0===c)?c:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===e.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,o){--t.pendingcb,r?(i.nextTick(o,n),i.nextTick(E,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(o(n),e._writableState.errorEmitted=!0,e.emit("error",n),E(e,t))}(e,r,n,t,o);else{var a=_(r);a||r.corked||r.bufferProcessing||!r.bufferedRequest||v(e,r),n?s(w,e,r,a,o):w(e,r,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function b(e){if(a=a||r(7073),!(c.call(b,this)||this instanceof a))return new b(e);this._writableState=new y(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),f.call(this)}function m(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function w(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),E(e,t)}function v(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),a=t.corkedRequestsFree;a.entry=r;for(var s=0,u=!0;r;)i[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;i.allBuffers=u,m(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,f=r.callback;if(m(e,t,!1,t.objectMode?1:c.length,c,l,f),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function _(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),E(e,t)}))}function E(e,t){var r=_(t);return r&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,i.nextTick(S,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}u.inherits(b,f),y.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(y.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===b&&e&&e._writableState instanceof y}})):c=function(e){return e instanceof this},b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},b.prototype.write=function(e,t,r){var n,o=this._writableState,a=!1,s=!o.objectMode&&(n=e,d.isBuffer(n)||n instanceof h);return s&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=g),o.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),i.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var o=!0,a=!1;return null===r?a=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),i.nextTick(n,a),o=!1),o}(this,o,e,r))&&(o.pendingcb++,a=function(e,t,r,n,i,o){if(!r){var a=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,r)),t}(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,s,n,i,o);return u}(this,o,s,e,t,r)),a},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||v(this,e))},b.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),b.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,E(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),b.prototype.destroy=p.destroy,b.prototype._undestroy=p.undestroy,b.prototype._destroy=function(e,t){this.end(),t(e)}},9128:(e,t,r)=>{"use strict";var n=r(2521).Buffer,i=r(4854);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,i=n.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=i,r=a,o.data.copy(t,r),a+=o.data.length,o=o.next;return i},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},2262:(e,t,r)=>{"use strict";var n=r(2884);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(n.nextTick(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},5010:(e,t,r)=>{e.exports=r(2699).EventEmitter},2521:(e,t,r)=>{var n=r(8834),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},1922:(e,t,r)=>{"use strict";var n=r(2521).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},7525:(e,t,r)=>{(t=e.exports=r(8051)).Stream=t,t.Readable=t,t.Writable=r(2557),t.Duplex=r(7073),t.Transform=r(7640),t.PassThrough=r(5163)},7834:(e,t,r)=>{var n=r(8834),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},4851:(e,t,r)=>{e.exports=i;var n=r(2699).EventEmitter;function i(){n.call(this)}r(1285)(i,n),i.Readable=r(3323),i.Writable=r(8234),i.Duplex=r(5929),i.Transform=r(9535),i.PassThrough=r(7706),i.finished=r(2529),i.pipeline=r(9125),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(r.on("end",s),r.on("close",u));var a=!1;function s(){a||(a=!0,e.end())}function u(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(l(),0===n.listenerCount(this,"error"))throw e}function l(){r.removeListener("data",i),e.removeListener("drain",o),r.removeListener("end",s),r.removeListener("close",u),r.removeListener("error",c),e.removeListener("error",c),r.removeListener("end",l),r.removeListener("close",l),e.removeListener("close",l)}return r.on("error",c),e.on("error",c),r.on("end",l),r.on("close",l),e.on("close",l),e.emit("pipe",r),e}},9150:e=>{"use strict";var t={};function r(e,r,n){n||(n=Error);var i=function(e){var t,n;function i(t,n,i){return e.call(this,function(e,t,n){return"string"==typeof r?r:r(e,t,n)}(t,n,i))||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(n);i.prototype.name=n.name,i.prototype.code=e,t[e]=i}function n(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){var i,o,a,s,u;if("string"==typeof t&&(o="not ",t.substr(0,o.length)===o)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))a="The ".concat(e," ").concat(i," ").concat(n(t,"type"));else{var c=("number"!=typeof u&&(u=0),u+".".length>(s=e).length||-1===s.indexOf(".",u)?"argument":"property");a='The "'.concat(e,'" ').concat(c," ").concat(i," ").concat(n(t,"type"))}return a+". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},5929:(e,t,r)=>{"use strict";var n=r(4406),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=l;var o=r(3323),a=r(8234);r(1285)(l,o);for(var s=i(a.prototype),u=0;u<s.length;u++){var c=s[u];l.prototype[c]||(l.prototype[c]=a.prototype[c])}function l(e){if(!(this instanceof l))return new l(e);o.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||n.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},7706:(e,t,r)=>{"use strict";e.exports=i;var n=r(9535);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(1285)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},3323:(e,t,r)=>{"use strict";var n,i=r(4406);e.exports=R,R.ReadableState=O,r(2699).EventEmitter;var o,a=function(e,t){return e.listeners(t).length},s=r(4811),u=r(8834).Buffer,c=r.g.Uint8Array||function(){},l=r(9255);o=l&&l.debuglog?l.debuglog("stream"):function(){};var f,d,h,p=r(3413),g=r(163),y=r(4774).getHighWaterMark,b=r(9150).q,m=b.ERR_INVALID_ARG_TYPE,w=b.ERR_STREAM_PUSH_AFTER_EOF,v=b.ERR_METHOD_NOT_IMPLEMENTED,_=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(1285)(R,s);var S=g.errorOrDestroy,E=["error","close","destroy","pause","resume"];function O(e,t,i){n=n||r(5929),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=y(this,e,"readableHighWaterMark",i),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=r(214).s),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function R(e){if(n=n||r(5929),!(this instanceof R))return new R(e);var t=this instanceof n;this._readableState=new O(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function M(e,t,r,n,i){o("readableAddChunk",t);var a,s=e._readableState;if(null===t)s.reading=!1,function(e,t){if(o("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?A(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,x(e)))}}(e,s);else if(i||(a=function(e,t){var r,n;return n=t,u.isBuffer(n)||n instanceof c||"string"==typeof t||void 0===t||e.objectMode||(r=new m("chunk",["string","Buffer","Uint8Array"],t)),r}(s,t)),a)S(e,a);else if(s.objectMode||t&&t.length>0)if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),n)s.endEmitted?S(e,new _):j(e,s,t,!0);else if(s.ended)S(e,new w);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?j(e,s,t,!1):C(e,s)):j(e,s,t,!1)}else n||(s.reading=!1,C(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function j(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&A(e)),C(e,t)}Object.defineProperty(R.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),R.prototype.destroy=g.destroy,R.prototype._undestroy=g.undestroy,R.prototype._destroy=function(e,t){t(e)},R.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=u.from(e,t),t=""),r=!0),M(this,e,t,!1,r)},R.prototype.unshift=function(e){return M(this,e,null,!0,!1)},R.prototype.isPaused=function(){return!1===this._readableState.flowing},R.prototype.setEncoding=function(e){f||(f=r(214).s);var t=new f(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var P=1073741824;function k(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=P?e=P:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function A(e){var t=e._readableState;o("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(o("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(x,e))}function x(e){var t=e._readableState;o("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,D(e)}function C(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(T,e,t))}function T(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(o("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function N(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function I(e){o("readable nexttick read 0"),e.read(0)}function B(e,t){o("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),D(e),t.flowing&&!t.reading&&e.read(0)}function D(e){var t=e._readableState;for(o("flow",t.flowing);t.flowing&&null!==e.read(););}function L(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function U(e){var t=e._readableState;o("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(q,t,e))}function q(e,t){if(o("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function F(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}R.prototype.read=function(e){o("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return o("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?U(this):A(this),null;if(0===(e=k(e,t))&&t.ended)return 0===t.length&&U(this),null;var n,i=t.needReadable;return o("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&o("length less than watermark",i=!0),t.ended||t.reading?o("reading or ended",i=!1):i&&(o("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=k(r,t))),null===(n=e>0?L(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&U(this)),null!==n&&this.emit("data",n),n},R.prototype._read=function(e){S(this,new v("_read()"))},R.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,o("pipe count=%d opts=%j",n.pipesCount,t);var s=t&&!1===t.end||e===i.stdout||e===i.stderr?g:u;function u(){o("onend"),e.end()}n.endEmitted?i.nextTick(s):r.once("end",s),e.on("unpipe",(function t(i,a){o("onunpipe"),i===r&&a&&!1===a.hasUnpiped&&(a.hasUnpiped=!0,o("cleanup"),e.removeListener("close",h),e.removeListener("finish",p),e.removeListener("drain",c),e.removeListener("error",d),e.removeListener("unpipe",t),r.removeListener("end",u),r.removeListener("end",g),r.removeListener("data",f),l=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}));var c=function(e){return function(){var t=e._readableState;o("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,D(e))}}(r);e.on("drain",c);var l=!1;function f(t){o("ondata");var i=e.write(t);o("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==F(n.pipes,e))&&!l&&(o("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function d(t){o("onerror",t),g(),e.removeListener("error",d),0===a(e,"error")&&S(e,t)}function h(){e.removeListener("finish",p),g()}function p(){o("onfinish"),e.removeListener("close",h),g()}function g(){o("unpipe"),r.unpipe(e)}return r.on("data",f),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events.error?Array.isArray(e._events.error)?e._events.error.unshift(r):e._events.error=[r,e._events.error]:e.on(t,r)}(e,"error",d),e.once("close",h),e.once("finish",p),e.emit("pipe",r),n.flowing||(o("pipe resume"),r.resume()),e},R.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=F(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},R.prototype.on=function(e,t){var r=s.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,o("on readable",n.length,n.reading),n.length?A(this):n.reading||i.nextTick(I,this))),r},R.prototype.addListener=R.prototype.on,R.prototype.removeListener=function(e,t){var r=s.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(N,this),r},R.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||i.nextTick(N,this),t},R.prototype.resume=function(){var e=this._readableState;return e.flowing||(o("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(B,e,t))}(this,e)),e.paused=!1,this},R.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},R.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(o("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){o("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<E.length;a++)e.on(E[a],this.emit.bind(this,E[a]));return this._read=function(t){o("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(R.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=r(4020)),d(this)}),Object.defineProperty(R.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(R.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(R.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),R._fromList=L,Object.defineProperty(R.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(R.from=function(e,t){return void 0===h&&(h=r(7324)),h(R,e,t)})},9535:(e,t,r)=>{"use strict";e.exports=l;var n=r(9150).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,a=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=n.ERR_TRANSFORM_WITH_LENGTH_0,u=r(5929);function c(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);u.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,r){d(e,t,r)}))}function d(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}r(1285)(l,u),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new i("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))}},8234:(e,t,r)=>{"use strict";var n,i=r(4406);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=R,R.WritableState=O;var a,s={deprecate:r(5803)},u=r(4811),c=r(8834).Buffer,l=r.g.Uint8Array||function(){},f=r(163),d=r(4774).getHighWaterMark,h=r(9150).q,p=h.ERR_INVALID_ARG_TYPE,g=h.ERR_METHOD_NOT_IMPLEMENTED,y=h.ERR_MULTIPLE_CALLBACK,b=h.ERR_STREAM_CANNOT_PIPE,m=h.ERR_STREAM_DESTROYED,w=h.ERR_STREAM_NULL_VALUES,v=h.ERR_STREAM_WRITE_AFTER_END,_=h.ERR_UNKNOWN_ENCODING,S=f.errorOrDestroy;function E(){}function O(e,t,a){n=n||r(5929),e=e||{},"boolean"!=typeof a&&(a=t instanceof n),this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if("function"!=typeof o)throw new y;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,o){--t.pendingcb,r?(i.nextTick(o,n),i.nextTick(x,e,t),e._writableState.errorEmitted=!0,S(e,n)):(o(n),e._writableState.errorEmitted=!0,S(e,n),x(e,t))}(e,r,n,t,o);else{var a=k(r)||e.destroyed;a||r.corked||r.bufferProcessing||!r.bufferedRequest||P(e,r),n?i.nextTick(j,e,r,a,o):j(e,r,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function R(e){var t=this instanceof(n=n||r(5929));if(!t&&!a.call(R,this))return new R(e);this._writableState=new O(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),u.call(this)}function M(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new m("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function j(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),x(e,t)}function P(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),a=t.corkedRequestsFree;a.entry=r;for(var s=0,u=!0;r;)i[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;i.allBuffers=u,M(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,f=r.callback;if(M(e,t,!1,t.objectMode?1:c.length,c,l,f),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function k(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function A(e,t){e._final((function(r){t.pendingcb--,r&&S(e,r),t.prefinished=!0,e.emit("prefinish"),x(e,t)}))}function x(e,t){var r=k(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,i.nextTick(A,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r(1285)(R,u),O.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(O.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(a=Function.prototype[Symbol.hasInstance],Object.defineProperty(R,Symbol.hasInstance,{value:function(e){return!!a.call(this,e)||this===R&&e&&e._writableState instanceof O}})):a=function(e){return e instanceof this},R.prototype.pipe=function(){S(this,new b)},R.prototype.write=function(e,t,r){var n,o=this._writableState,a=!1,s=!o.objectMode&&(n=e,c.isBuffer(n)||n instanceof l);return s&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=E),o.ending?function(e,t){var r=new v;S(e,r),i.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var o;return null===r?o=new w:"string"==typeof r||t.objectMode||(o=new p("chunk",["string","Buffer"],r)),!o||(S(e,o),i.nextTick(n,o),!1)}(this,o,e,r))&&(o.pendingcb++,a=function(e,t,r,n,i,o){if(!r){var a=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,r)),t}(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else M(e,t,!1,s,n,i,o);return u}(this,o,s,e,t,r)),a},R.prototype.cork=function(){this._writableState.corked++},R.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||P(this,e))},R.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new _(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(R.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(R.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),R.prototype._write=function(e,t,r){r(new g("_write()"))},R.prototype._writev=null,R.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,x(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(R.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(R.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),R.prototype.destroy=f.destroy,R.prototype._undestroy=f.undestroy,R.prototype._destroy=function(e,t){t(e)}},4020:(e,t,r)=>{"use strict";var n,i=r(4406);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(2529),s=Symbol("lastResolve"),u=Symbol("lastReject"),c=Symbol("error"),l=Symbol("ended"),f=Symbol("lastPromise"),d=Symbol("handlePromise"),h=Symbol("stream");function p(e,t){return{value:e,done:t}}function g(e){var t=e[s];if(null!==t){var r=e[h].read();null!==r&&(e[f]=null,e[s]=null,e[u]=null,t(p(r,!1)))}}function y(e){i.nextTick(g,e)}var b=Object.getPrototypeOf((function(){})),m=Object.setPrototypeOf((o(n={get stream(){return this[h]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[l])return Promise.resolve(p(void 0,!0));if(this[h].destroyed)return new Promise((function(t,r){i.nextTick((function(){e[c]?r(e[c]):t(p(void 0,!0))}))}));var r,n=this[f];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[l]?r(p(void 0,!0)):t[d](r,n)}),n)}}(n,this));else{var o=this[h].read();if(null!==o)return Promise.resolve(p(o,!1));r=new Promise(this[d])}return this[f]=r,r}},Symbol.asyncIterator,(function(){return this})),o(n,"return",(function(){var e=this;return new Promise((function(t,r){e[h].destroy(null,(function(e){e?r(e):t(p(void 0,!0))}))}))})),n),b);e.exports=function(e){var t,r=Object.create(m,(o(t={},h,{value:e,writable:!0}),o(t,s,{value:null,writable:!0}),o(t,u,{value:null,writable:!0}),o(t,c,{value:null,writable:!0}),o(t,l,{value:e._readableState.endEmitted,writable:!0}),o(t,d,{value:function(e,t){var n=r[h].read();n?(r[f]=null,r[s]=null,r[u]=null,e(p(n,!1))):(r[s]=e,r[u]=t)},writable:!0}),t));return r[f]=null,a(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[u];return null!==t&&(r[f]=null,r[s]=null,r[u]=null,t(e)),void(r[c]=e)}var n=r[s];null!==n&&(r[f]=null,r[s]=null,r[u]=null,n(p(void 0,!0))),r[l]=!0})),e.on("readable",y.bind(null,r)),r}},3413:(e,t,r)=>{"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=r(8834).Buffer,s=r(7267).inspect,u=s&&s.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r;return t=e,r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t,r,n,i=a.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,r=i,n=s,a.prototype.copy.call(t,r,n),s+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:u,value:function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],r&&o(t.prototype,r),e}()},163:(e,t,r)=>{"use strict";var n=r(4406);function i(e,t){a(e,t),o(e)}function o(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function a(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,s=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return s||u?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(a,this,e)):n.nextTick(a,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?n.nextTick(o,r):(r._writableState.errorEmitted=!0,n.nextTick(i,r,e)):n.nextTick(i,r,e):t?(n.nextTick(o,r),t(e)):n.nextTick(o,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},2529:(e,t,r)=>{"use strict";var n=r(9150).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var a=r.readable||!1!==r.readable&&t.readable,s=r.writable||!1!==r.writable&&t.writable,u=function(){t.writable||l()},c=t._writableState&&t._writableState.finished,l=function(){s=!1,c=!0,a||o.call(t)},f=t._readableState&&t._readableState.endEmitted,d=function(){a=!1,f=!0,s||o.call(t)},h=function(e){o.call(t,e)},p=function(){var e;return a&&!f?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):s&&!c?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},g=function(){t.req.on("finish",l)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",l),t.on("abort",p),t.req?g():t.on("request",g)):s&&!t._writableState&&(t.on("end",u),t.on("close",u)),t.on("end",d),t.on("finish",l),!1!==r.error&&t.on("error",h),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",g),t.req&&t.req.removeListener("finish",l),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",l),t.removeListener("end",d),t.removeListener("error",h),t.removeListener("close",p)}}},7324:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},9125:(e,t,r)=>{"use strict";var n,i=r(9150).q,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function u(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var s=!1;e.on("close",(function(){s=!0})),void 0===n&&(n=r(2529)),n(e,{readable:t,writable:i},(function(e){if(e)return o(e);s=!0,o()}));var u=!1;return function(t){if(!s&&!u)return u=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new a("pipe"))}}function c(e){e()}function l(e,t){return e.pipe(t)}function f(e){return e.length?"function"!=typeof e[e.length-1]?s:e.pop():s}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=f(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var a=t.map((function(e,r){var o=r<t.length-1;return u(e,o,r>0,(function(e){n||(n=e),e&&a.forEach(c),o||(a.forEach(c),i(n))}))}));return t.reduce(l)}},4774:(e,t,r)=>{"use strict";var n=r(9150).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},4811:(e,t,r)=>{e.exports=r(2699).EventEmitter},214:(e,t,r)=>{"use strict";var n=r(7834).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},4221:(e,t)=>{"use strict";function r(e,t){return"string"==typeof e}function n(e,t){return"2.0"===e}function i(e,t){return"number"==typeof e}function o(e,t){return Array.isArray(e)&&e.every((e=>!0))}function a(e,t){return(null!==e&&"object"==typeof e||"function"==typeof e)&&Object.entries(e).every((([e,t])=>r(e)))}Object.defineProperty(t,"__esModule",{value:!0}),t.isSnapRpc=t.isExecuteSnap=t.isPing=t.isAnyOfSnapNameSourceCodeEndowmentsTargetOriginJsonRpcRequestOKOKSnapRpcResult=t.isSnapRpcResult=t.isOK=t.isJsonRpcRequest=t.isOrigin=t.isTarget=t.isEndowments=t.isSourceCode=t.isSnapName=t.isJSONRPCParams=t.isJSONRPCParamsAsObject=t.isJSONRPCParamsAsArray=t.isJSONRPCMethod=t.isJSONRPCID=t.isNumberHo1ClIqD=t.isStringDoaGddGA=t.isJSONRPCString=t.isEndowment=void 0,t.isEndowment=r,t.isJSONRPCString=n,t.isStringDoaGddGA=function(e,t){return"string"==typeof e},t.isNumberHo1ClIqD=i,t.isJSONRPCID=function(e,t){return r(e)||i(e)},t.isJSONRPCMethod=function(e,t){return"string"==typeof e},t.isJSONRPCParamsAsArray=o,t.isJSONRPCParamsAsObject=a,t.isJSONRPCParams=function(e,t){return o(e)||a(e)},t.isSnapName=function(e,t){return"string"==typeof e},t.isSourceCode=function(e,t){return"string"==typeof e},t.isEndowments=function(e,t){return Array.isArray(e)&&e.every((e=>r(e)))},t.isTarget=function(e,t){return"string"==typeof e},t.isOrigin=function(e,t){return"string"==typeof e},t.isJsonRpcRequest=function(e,t){return(null!==e&&"object"==typeof e||"function"==typeof e)&&n(e.jsonrpc)&&(void 0===e.id||r(e.id)||i(e.id))&&r(e.method)&&(void 0===e.params||o(e.params)||a(e.params))&&Object.entries(e).filter((([e])=>!["jsonrpc","id","method","params"].includes(e))).every((([e,t])=>r(e)))},t.isOK=function(e,t){return"OK"===e},t.isSnapRpcResult=function(e,t){return!0},t.isAnyOfSnapNameSourceCodeEndowmentsTargetOriginJsonRpcRequestOKOKSnapRpcResult=function(e,t){return!0},t.isPing=function(e,t){return"function"==typeof e},t.isExecuteSnap=function(e,t){return"function"==typeof e},t.isSnapRpc=function(e,t){return"function"==typeof e}},132:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseSnapExecutor=void 0;const o=r(2972),a=r(9826),s=i(r(201)),u=r(4221),c=r(5930),l=r(2931),f=r(6455),d=r(6435),h={code:a.errorCodes.rpc.internal,message:"Execution Environment Error"};t.BaseSnapExecutor=class{constructor(e,t){this.snapRpcHandlers=new Map,this.commandStream=e,this.commandStream.on("data",this.onCommandRequest.bind(this)),this.rpcStream=t,this.methods=c.rpcMethods(this.startSnap.bind(this),((e,t,r)=>{const n=this.snapRpcHandlers.get(e);if(!n)throw new Error(`No RPC handler registered for snap "${e}`);return n(t,r)}))}errorHandler(e,t={}){const r=a.serializeError(e,{fallbackError:h,shouldIncludeStack:!0});this.notify({error:Object.assign(Object.assign({},r),{data:Object.assign(Object.assign({},t),{stack:r.stack})})})}async onCommandRequest(e){if(!u.isJsonRpcRequest(e))throw new Error("Command stream received a non Json Rpc Request");const{id:t,method:r,params:n}=e;if(void 0===t)throw new Error("Notifications not supported");if("rpc.discover"===r)return void this.respond(t,{result:s.default});const i=s.default.methods.find((e=>e.name===r));if(!i||!this.methods[r])return void this.respond(t,{error:a.ethErrors.rpc.methodNotFound({data:{method:r}}).serialize()});const o=l.sortParamKeys(i,n);try{const e=await this.methods[r](...o);this.respond(t,{result:e})}catch(e){this.respond(t,{error:a.serializeError(e,{fallbackError:h})})}}notify(e){this.commandStream.write(Object.assign(Object.assign({},e),{jsonrpc:"2.0"}))}respond(e,t){this.commandStream.write(Object.assign(Object.assign({},t),{id:e,jsonrpc:"2.0"}))}startSnap(e,t,r){n.log(`starting snap '${e}' in worker`),this.snapPromiseErrorHandler&&d.rootRealmGlobal.removeEventListener("unhandledrejection",this.snapPromiseErrorHandler),this.snapErrorHandler&&d.rootRealmGlobal.removeEventListener("error",this.snapErrorHandler),this.snapErrorHandler=t=>{this.errorHandler(t.error,{snapName:e})},this.snapPromiseErrorHandler=t=>{this.errorHandler(t.reason,{snapName:e})};const i=this.createSnapProvider(e);try{const e=f.createEndowments(i,r);new Compartment(Object.assign(Object.assign({},e),{window:Object.assign({},e),self:Object.assign({},e)})).evaluate(t),d.rootRealmGlobal.addEventListener("unhandledrejection",this.snapPromiseErrorHandler),d.rootRealmGlobal.addEventListener("error",this.snapErrorHandler)}catch(t){throw this.removeSnap(e),new Error(`Error while running snap '${e}': ${t.message}`)}}createSnapProvider(e){const t=new o.MetaMaskInpageProvider(this.rpcStream,{shouldSendMetadata:!1});return t.registerRpcMessageHandler=t=>{if(n.log("Worker: Registering RPC message handler",t),this.snapRpcHandlers.has(e))throw new Error("RPC handler already registered.");this.snapRpcHandlers.set(e,t)},t}removeSnap(e){this.snapRpcHandlers.delete(e)}}},3008:(e,t,r)=>{"use strict";var n=r(8834).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i={names:["Buffer"],factory:()=>({Buffer:n})};t.default=i},6455:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createEndowments=void 0;const i=r(6435),o=n(r(3008)),a=n(r(3941)),s=n(r(9191)),u=[o.default,a.default,s.default].reduce(((e,t)=>(t.names.forEach((r=>{e.set(r,t.factory)})),e)),new Map);t.createEndowments=function(e,t=[]){const r={};return t.reduce(((e,t)=>{if(u.has(t))Object.hasOwnProperty.call(r,t)||Object.assign(r,u.get(t)()),e[t]=r[t];else{if(!(t in i.rootRealmGlobal))throw new Error(`Unknown endowment: "${t}".`);{const r=i.rootRealmGlobal[t];e[t]="function"==typeof r?r.bind(i.rootRealmGlobal):r}}return e}),{wallet:e})}},3941:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={names:["setTimeout","clearTimeout"],factory:()=>{const e=new Set;return{setTimeout:(t,r)=>{if("function"!=typeof t)throw new Error("The timeout handler must be a function. Received: "+typeof t);const n={handle:NaN};return n.handle=setTimeout((()=>{e.delete(n.handle),t()}),r),e.add(n.handle),n.handle},clearTimeout:t=>{e.has(t)&&(clearTimeout(t),e.delete(t))}}}};t.default=r},9191:function(e,t){"use strict";var r=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};Object.defineProperty(t,"__esModule",{value:!0});const n={names:["WebAssembly"],factory:()=>{const{compileStreaming:e,instantiateStreaming:t}=WebAssembly;return{WebAssembly:r(WebAssembly,["compileStreaming","instantiateStreaming"])}}};t.default=n},4509:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SNAP_STREAM_NAMES=void 0,(r=t.SNAP_STREAM_NAMES||(t.SNAP_STREAM_NAMES={})).JSON_RPC="jsonRpc",r.COMMAND="command"},6435:(e,t,r)=>{"use strict";var n;let i,o;if(Object.defineProperty(t,"__esModule",{value:!0}),t.rootRealmGlobalName=t.rootRealmGlobal=void 0,function(e){e.globalThis="globalThis",e.global="global",e.self="self",e.window="window"}(n||(n={})),"undefined"!=typeof globalThis)i=globalThis,o=n.globalThis;else if("undefined"!=typeof self)i=self,o=n.self;else if("undefined"!=typeof window)i=window,o=n.window;else{if(void 0===r.g)throw new Error("Unknown realm type; failed to identify global object.");i=r.g,o=n.global}const a=i;t.rootRealmGlobal=a;const s=o;t.rootRealmGlobalName=s},4562:(e,t,r)=>{"use strict";var n=r(3716);Object.defineProperty(t,"__esModule",{value:!0}),t.executeLockdownMore=void 0,t.executeLockdownMore=function(){try{const e=Reflect.ownKeys((new Compartment).globalThis),t=new Set(["eval","Function"]);new Set([...e]).forEach((e=>{const r=Reflect.getOwnPropertyDescriptor(globalThis,e);r&&(r.configurable&&(function(e){return"set"in e||"get"in e}(r)?Object.defineProperty(globalThis,e,{configurable:!1}):Object.defineProperty(globalThis,e,{configurable:!1,writable:!1})),t.has(e)&&harden(globalThis[e]))}))}catch(e){throw n.error("Protecting intrinsics failed:",e),e}}},2842:(e,t,r)=>{"use strict";var n=r(3716);Object.defineProperty(t,"__esModule",{value:!0}),t.executeLockdown=void 0,t.executeLockdown=function(){try{lockdown({consoleTaming:"unsafe",errorTaming:"unsafe",mathTaming:"unsafe",dateTaming:"unsafe",overrideTaming:"severe"})}catch(e){throw n.error("Lockdown failed:",e),e}}},5930:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rpcMethods=void 0;const n=r(4221);t.rpcMethods=function(e,t){return{ping:async()=>"OK",executeSnap:async(t,r,i)=>{if("string"!=typeof t)throw new Error("snapName is not a string");if("string"!=typeof r)throw new Error("sourceCode is not a string");if(void 0!==i&&!n.isEndowments(i))throw new Error("endowment is not a proper Endowments object");return e(t,r,i),"OK"},snapRpc:async(e,r,i)=>{if("string"!=typeof e)throw new Error("target is not a string");if("string"!=typeof r)throw new Error("origin is not a string");if(!n.isJsonRpcRequest(i))throw new Error("request is not a proper JSON RPC Request");return t(e,r,i)}}}},2931:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sortParamKeys=void 0,t.sortParamKeys=(e,t)=>{if(!t)return[];if(t instanceof Array)return t;const r=e.params.map((e=>e.name)).reduce(((e,t,r)=>Object.assign(Object.assign({},e),{[t]:r})),{});return Object.entries(t).sort((([e,t],[n,i])=>r[e]-r[n])).map((([e,t])=>t))}},1218:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IFrameSnapExecutor=void 0;const o=i(r(8392)),a=r(9679),s=i(r(3171)),u=r(132),c=r(4509);class l extends u.BaseSnapExecutor{static initialize(){n.log("Worker: Connecting to parent.");const e=new a.WindowPostMessageStream({name:"child",target:"parent",targetWindow:self.parent}),t=new o.default;s.default(e,t,e,(e=>{e&&n.error("Parent stream failure, closing worker.",e),self.close()}));const r=t.createStream(c.SNAP_STREAM_NAMES.COMMAND),i=t.createStream(c.SNAP_STREAM_NAMES.JSON_RPC);return new l(r,i)}}t.IFrameSnapExecutor=l},5803:(e,t,r)=>{var n=r(3716);function i(e){try{if(!r.g.localStorage)return!1}catch(e){return!1}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(i("noDeprecation"))return e;var r=!1;return function(){if(!r){if(i("throwDeprecation"))throw new Error(t);i("traceDeprecation")?n.trace(t):n.warn(t),r=!0}return e.apply(this,arguments)}}},82:e=>{e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},4895:(e,t,r)=>{"use strict";var n=r(2635),i=r(3138),o=r(2094),a=r(198);function s(e){return e.call.bind(e)}var u="undefined"!=typeof BigInt,c="undefined"!=typeof Symbol,l=s(Object.prototype.toString),f=s(Number.prototype.valueOf),d=s(String.prototype.valueOf),h=s(Boolean.prototype.valueOf);if(u)var p=s(BigInt.prototype.valueOf);if(c)var g=s(Symbol.prototype.valueOf);function y(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function b(e){return"[object Map]"===l(e)}function m(e){return"[object Set]"===l(e)}function w(e){return"[object WeakMap]"===l(e)}function v(e){return"[object WeakSet]"===l(e)}function _(e){return"[object ArrayBuffer]"===l(e)}function S(e){return"undefined"!=typeof ArrayBuffer&&(_.working?_(e):e instanceof ArrayBuffer)}function E(e){return"[object DataView]"===l(e)}function O(e){return"undefined"!=typeof DataView&&(E.working?E(e):e instanceof DataView)}t.isArgumentsObject=n,t.isGeneratorFunction=i,t.isTypedArray=a,t.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},t.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):a(e)||O(e)},t.isUint8Array=function(e){return"Uint8Array"===o(e)},t.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===o(e)},t.isUint16Array=function(e){return"Uint16Array"===o(e)},t.isUint32Array=function(e){return"Uint32Array"===o(e)},t.isInt8Array=function(e){return"Int8Array"===o(e)},t.isInt16Array=function(e){return"Int16Array"===o(e)},t.isInt32Array=function(e){return"Int32Array"===o(e)},t.isFloat32Array=function(e){return"Float32Array"===o(e)},t.isFloat64Array=function(e){return"Float64Array"===o(e)},t.isBigInt64Array=function(e){return"BigInt64Array"===o(e)},t.isBigUint64Array=function(e){return"BigUint64Array"===o(e)},b.working="undefined"!=typeof Map&&b(new Map),t.isMap=function(e){return"undefined"!=typeof Map&&(b.working?b(e):e instanceof Map)},m.working="undefined"!=typeof Set&&m(new Set),t.isSet=function(e){return"undefined"!=typeof Set&&(m.working?m(e):e instanceof Set)},w.working="undefined"!=typeof WeakMap&&w(new WeakMap),t.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(w.working?w(e):e instanceof WeakMap)},v.working="undefined"!=typeof WeakSet&&v(new WeakSet),t.isWeakSet=function(e){return v(e)},_.working="undefined"!=typeof ArrayBuffer&&_(new ArrayBuffer),t.isArrayBuffer=S,E.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&E(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=O;var R="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function M(e){return"[object SharedArrayBuffer]"===l(e)}function j(e){return void 0!==R&&(void 0===M.working&&(M.working=M(new R)),M.working?M(e):e instanceof R)}function P(e){return y(e,f)}function k(e){return y(e,d)}function A(e){return y(e,h)}function x(e){return u&&y(e,p)}function C(e){return c&&y(e,g)}t.isSharedArrayBuffer=j,t.isAsyncFunction=function(e){return"[object AsyncFunction]"===l(e)},t.isMapIterator=function(e){return"[object Map Iterator]"===l(e)},t.isSetIterator=function(e){return"[object Set Iterator]"===l(e)},t.isGeneratorObject=function(e){return"[object Generator]"===l(e)},t.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===l(e)},t.isNumberObject=P,t.isStringObject=k,t.isBooleanObject=A,t.isBigIntObject=x,t.isSymbolObject=C,t.isBoxedPrimitive=function(e){return P(e)||k(e)||A(e)||x(e)||C(e)},t.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(S(e)||j(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})}))},3335:(e,t,r)=>{var n=r(4406),i=r(3716),o=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},a=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(l(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,o=String(e).replace(a,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),s=n[r];r<i;s=n[++r])m(s)||!E(s)?o+=" "+s:o+=" "+l(s);return o},t.deprecate=function(e,r){if(void 0!==n&&!0===n.noDeprecation)return e;if(void 0===n)return function(){return t.deprecate(e,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(n.throwDeprecation)throw new Error(r);n.traceDeprecation?i.trace(r):i.error(r),o=!0}return e.apply(this,arguments)}};var s={},u=/^$/;if(n.env.NODE_DEBUG){var c=n.env.NODE_DEBUG;c=c.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),u=new RegExp("^"+c+"$","i")}function l(e,r){var n={seen:[],stylize:d};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),b(r)?n.showHidden=r:r&&t._extend(n,r),_(n.showHidden)&&(n.showHidden=!1),_(n.depth)&&(n.depth=2),_(n.colors)&&(n.colors=!1),_(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=f),h(n,e,n.depth)}function f(e,t){var r=l.styles[t];return r?"["+l.colors[r][0]+"m"+e+"["+l.colors[r][1]+"m":e}function d(e,t){return e}function h(e,r,n){if(e.customInspect&&r&&M(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return v(i)||(i=h(e,i,n)),i}var o=function(e,t){if(_(t))return e.stylize("undefined","undefined");if(v(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return w(t)?e.stylize(""+t,"number"):b(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}(e,r);if(o)return o;var a=Object.keys(r),s=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(r)),R(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return p(r);if(0===a.length){if(M(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(S(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(O(r))return e.stylize(Date.prototype.toString.call(r),"date");if(R(r))return p(r)}var c,l="",f=!1,d=["{","}"];return y(r)&&(f=!0,d=["[","]"]),M(r)&&(l=" [Function"+(r.name?": "+r.name:"")+"]"),S(r)&&(l=" "+RegExp.prototype.toString.call(r)),O(r)&&(l=" "+Date.prototype.toUTCString.call(r)),R(r)&&(l=" "+p(r)),0!==a.length||f&&0!=r.length?n<0?S(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),c=f?function(e,t,r,n,i){for(var o=[],a=0,s=t.length;a<s;++a)x(t,String(a))?o.push(g(e,t,r,n,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(g(e,t,r,n,i,!0))})),o}(e,r,n,s,a):a.map((function(t){return g(e,r,n,s,t,f)})),e.seen.pop(),function(e,t,r){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}(c,l,d)):d[0]+l+d[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function g(e,t,r,n,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),x(n,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=m(r)?h(e,u.value,null):h(e,u.value,r-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),_(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function y(e){return Array.isArray(e)}function b(e){return"boolean"==typeof e}function m(e){return null===e}function w(e){return"number"==typeof e}function v(e){return"string"==typeof e}function _(e){return void 0===e}function S(e){return E(e)&&"[object RegExp]"===j(e)}function E(e){return"object"==typeof e&&null!==e}function O(e){return E(e)&&"[object Date]"===j(e)}function R(e){return E(e)&&("[object Error]"===j(e)||e instanceof Error)}function M(e){return"function"==typeof e}function j(e){return Object.prototype.toString.call(e)}function P(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(e=e.toUpperCase(),!s[e])if(u.test(e)){var r=n.pid;s[e]=function(){var n=t.format.apply(t,arguments);i.error("%s %d: %s",e,r,n)}}else s[e]=function(){};return s[e]},t.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=r(4895),t.isArray=y,t.isBoolean=b,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=w,t.isString=v,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=_,t.isRegExp=S,t.types.isRegExp=S,t.isObject=E,t.isDate=O,t.types.isDate=O,t.isError=R,t.types.isNativeError=R,t.isFunction=M,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(82);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(){var e=new Date,t=[P(e.getHours()),P(e.getMinutes()),P(e.getSeconds())].join(":");return[e.getDate(),k[e.getMonth()],t].join(" ")}function x(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){i.log("%s - %s",A(),t.format.apply(t,arguments))},t.inherits=r(1285),t._extend=function(e,t){if(!t||!E(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var C="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function T(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(C&&e[C]){var t;if("function"!=typeof(t=e[C]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,i)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),C&&Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,o(e))},t.promisify.custom=C,t.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var i=t.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};e.apply(this,t).then((function(e){n.nextTick(a.bind(null,null,e))}),(function(e){n.nextTick(T.bind(null,e,a))}))}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,o(e)),t}},2094:(e,t,r)=>{"use strict";var n=r(6388),i=r(2191),o=r(2680),a=o("Object.prototype.toString"),s=r(7226)(),u="undefined"==typeof globalThis?r.g:globalThis,c=i(),l=o("String.prototype.slice"),f={},d=r(3494),h=Object.getPrototypeOf;s&&d&&h&&n(c,(function(e){if("function"==typeof u[e]){var t=new u[e];if(Symbol.toStringTag in t){var r=h(t),n=d(r,Symbol.toStringTag);if(!n){var i=h(r);n=d(i,Symbol.toStringTag)}f[e]=n.get}}}));var p=r(198);e.exports=function(e){return!!p(e)&&(s&&Symbol.toStringTag in e?function(e){var t=!1;return n(f,(function(r,n){if(!t)try{var i=r.call(e);i===n&&(t=i)}catch(e){}})),t}(e):l(a(e),8,-1))}},8892:e=>{e.exports=function e(t,r){if(t&&r)return e(t)(r);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){n[e]=t[e]})),n;function n(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var n=t.apply(this,e),i=e[e.length-1];return"function"==typeof n&&n!==i&&Object.keys(i).forEach((function(e){n[e]=i[e]})),n}}},7082:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectMultiplex=void 0;const o=r(7525),a=i(r(8797)),s=i(r(9928)),u=r(1274),c=Symbol("IGNORE_SUBSTREAM");class l extends o.Duplex{constructor(e={}){super(Object.assign(Object.assign({},e),{objectMode:!0})),this._substreams={}}createStream(e){if(this.destroyed)throw new Error(`ObjectMultiplex - parent stream for name "${e}" already destroyed`);if(this._readableState.ended||this._writableState.ended)throw new Error(`ObjectMultiplex - parent stream for name "${e}" already ended`);if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);const t=new u.Substream({parent:this,name:e});return this._substreams[e]=t,function(e,r){const n=s.default((e=>t.destroy(e||void 0)));a.default(e,{readable:!1},n),a.default(e,{writable:!1},n)}(this),t}ignoreStream(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);this._substreams[e]=c}_read(){}_write(e,t,r){const{name:i,data:o}=e;if(!i)return n.warn(`ObjectMultiplex - malformed chunk without name "${e}"`),r();const a=this._substreams[i];return a?(a!==c&&a.push(o),r()):(n.warn(`ObjectMultiplex - orphaned data for stream "${i}"`),r())}}t.ObjectMultiplex=l},1274:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Substream=void 0;const n=r(7525);class i extends n.Duplex{constructor({parent:e,name:t}){super({objectMode:!0}),this._parent=e,this._name=t}_read(){}_write(e,t,r){this._parent.push({name:this._name,data:e}),r()}}t.Substream=i},8392:(e,t,r)=>{"use strict";const n=r(7082);e.exports=n.ObjectMultiplex},2294:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EthereumProviderError=t.EthereumRpcError=void 0;const n=r(7847);class i extends Error{constructor(e,t,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw new Error('"message" must be a nonempty string.');super(t),this.code=e,void 0!==r&&(this.data=r)}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return n.default(this.serialize(),o,2)}}function o(e,t){if("[Circular]"!==t)return t}t.EthereumRpcError=i,t.EthereumProviderError=class extends i{constructor(e,t,r){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,r)}}},2662:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorValues=t.errorCodes=void 0,t.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},t.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}},6373:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ethErrors=void 0;const n=r(2294),i=r(8753),o=r(2662);function a(e,t){const[r,o]=u(t);return new n.EthereumRpcError(e,r||i.getMessageFromCode(e),o)}function s(e,t){const[r,o]=u(t);return new n.EthereumProviderError(e,r||i.getMessageFromCode(e),o)}function u(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&"string"!=typeof t)throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}t.ethErrors={rpc:{parse:e=>a(o.errorCodes.rpc.parse,e),invalidRequest:e=>a(o.errorCodes.rpc.invalidRequest,e),invalidParams:e=>a(o.errorCodes.rpc.invalidParams,e),methodNotFound:e=>a(o.errorCodes.rpc.methodNotFound,e),internal:e=>a(o.errorCodes.rpc.internal,e),server:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return a(t,e)},invalidInput:e=>a(o.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>a(o.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>a(o.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>a(o.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>a(o.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>a(o.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>s(o.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>s(o.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>s(o.errorCodes.provider.unsupportedMethod,e),disconnected:e=>s(o.errorCodes.provider.disconnected,e),chainDisconnected:e=>s(o.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:r,data:i}=e;if(!r||"string"!=typeof r)throw new Error('"message" must be a nonempty string');return new n.EthereumProviderError(t,r,i)}}}},9826:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const n=r(2294);Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return n.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return n.EthereumProviderError}});const i=r(8753);Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return i.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return i.getMessageFromCode}});const o=r(6373);Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return o.ethErrors}});const a=r(2662);Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return a.errorCodes}})},8753:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const n=r(2662),i=r(2294),o=n.errorCodes.rpc.internal,a={code:o,message:s(o)};function s(e,r="Unspecified error message. This is a bug, please report it."){if(Number.isInteger(e)){const r=e.toString();if(f(n.errorValues,r))return n.errorValues[r].message;if(c(e))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return r}function u(e){if(!Number.isInteger(e))return!1;const t=e.toString();return!!n.errorValues[t]||!!c(e)}function c(e){return e>=-32099&&e<=-32e3}function l(e){return e&&"object"==typeof e&&!Array.isArray(e)?Object.assign({},e):e}function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",t.getMessageFromCode=s,t.isValidCode=u,t.serializeError=function(e,{fallbackError:t=a,shouldIncludeStack:r=!1}={}){var n,o;if(!t||!Number.isInteger(t.code)||"string"!=typeof t.message)throw new Error("Must provide fallback error with integer number code and string message.");if(e instanceof i.EthereumRpcError)return e.serialize();const c={};if(e&&"object"==typeof e&&!Array.isArray(e)&&f(e,"code")&&u(e.code)){const t=e;c.code=t.code,t.message&&"string"==typeof t.message?(c.message=t.message,f(t,"data")&&(c.data=t.data)):(c.message=s(c.code),c.data={originalError:l(e)})}else{c.code=t.code;const r=null===(n=e)||void 0===n?void 0:n.message;c.message=r&&"string"==typeof r?r:t.message,c.data={originalError:l(e)}}const d=null===(o=e)||void 0===o?void 0:o.stack;return r&&e&&d&&"string"==typeof d&&(c.stack=d),c}},4857:()=>{},3558:()=>{},4854:()=>{},6602:()=>{},7267:()=>{},9255:()=>{},2191:(e,t,r)=>{"use strict";var n=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],i="undefined"==typeof globalThis?r.g:globalThis;e.exports=function(){for(var e=[],t=0;t<n.length;t++)"function"==typeof i[n[t]]&&(e[e.length]=n[t]);return e}},7342:(e,t,r)=>{"use strict";var n=r(7286)("%Object.getOwnPropertyDescriptor%");if(n)try{n([],"length")}catch(e){n=null}e.exports=n},3494:(e,t,r)=>{"use strict";var n=r(7286)("%Object.getOwnPropertyDescriptor%");if(n)try{n([],"length")}catch(e){n=null}e.exports=n},5543:e=>{"use strict";e.exports=JSON.parse('{"CHROME_ID":"nkbihfbeogaeaoehlefnkodbefgpgknn","FIREFOX_ID":"webextension@metamask.io"}')},201:e=>{"use strict";e.exports=JSON.parse('{"openrpc":"1.2.4","info":{"title":"MetaMask Snaps Execution Environment API","version":"0.0.0-development"},"methods":[{"name":"ping","description":"confirms that a connection has been established with the execution environment","params":[],"result":{"name":"PingResult","schema":{"$ref":"#/components/schemas/OK"}}},{"name":"executeSnap","description":"executes a snap in the environment. The snap can then be interacted with via `snapRpc`","params":[{"name":"snapName","required":true,"description":"the name of the snap","schema":{"title":"SnapName","type":"string"}},{"name":"sourceCode","description":"a snaps source code that gets executed in the environment","required":true,"schema":{"title":"SourceCode","type":"string"}},{"name":"endowments","description":"A list of endowments to provide to SES","required":false,"schema":{"title":"Endowments","description":"An array of the names of the endowments","type":"array","items":{"title":"Endowment","type":"string"}}}],"result":{"name":"executeSnapResult","schema":{"$ref":"#/components/schemas/OK"}},"examples":[{"name":"BasicTestSnapExecuteExample","params":[{"name":"snapName","value":"TestSnap"},{"name":"sourceCode","value":"wallet.registerRpcMessageHandler(async (_, request) => { return request.method + request.id })"}],"result":{"name":"BasicTestSnapExampleResult","value":"OK"}}]},{"name":"snapRpc","params":[{"name":"target","required":true,"description":"the name of the snap method","schema":{"title":"Target","type":"string"}},{"name":"origin","required":true,"description":"Origin of the snap JSON-RPC request","schema":{"title":"Origin","type":"string"}},{"name":"request","required":true,"description":"JSON-RPC request","schema":{"$ref":"#/components/schemas/JsonRpcRequest"}}],"result":{"name":"HandleSnapRpcResult","schema":{"title":"SnapRpcResult"}},"examples":[{"name":"TestSnapExample","params":[{"name":"target","value":"TestSnap"},{"name":"origin","value":"foo.com"},{"name":"request","value":{"jsonrpc":"2.0","method":"hello","params":[],"id":1}}],"result":{"name":"TestSnapResultExample","value":"hello1"}}]}],"components":{"schemas":{"OK":{"title":"OK","type":"string","const":"OK"},"JsonRpcRequest":{"title":"JsonRpcRequest","type":"object","required":["jsonrpc","method"],"properties":{"jsonrpc":{"title":"JSONRPCString","type":"string","const":"2.0"},"id":{"title":"JSONRPCID","oneOf":[{"type":"string"},{"type":"number"}]},"method":{"title":"JSONRPCMethod","description":"the name of the method","type":"string"},"params":{"title":"JSONRPCParams","type":["array","object"]}}}}}}')}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";const e=r(2842),t=r(4562),n=r(1218);e.executeLockdown(),t.executeLockdownMore(),n.IFrameSnapExecutor.initialize()})()})();
\ No newline at end of file
+(()=>{var e={7209:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectMultiplex=void 0;const o=r(7525),a=i(r(8797)),s=i(r(9928)),u=r(9067),c=Symbol("IGNORE_SUBSTREAM");class l extends o.Duplex{constructor(e={}){super(Object.assign(Object.assign({},e),{objectMode:!0})),this._substreams={}}createStream(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);const t=new u.Substream({parent:this,name:e});return this._substreams[e]=t,function(e,r){const n=s.default((e=>t.destroy(e||void 0)));a.default(e,{readable:!1},n),a.default(e,{writable:!1},n)}(this),t}ignoreStream(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);this._substreams[e]=c}_read(){}_write(e,t,r){const{name:i,data:o}=e;if(!i)return n.warn(`ObjectMultiplex - malformed chunk without name "${e}"`),r();const a=this._substreams[i];return a?(a!==c&&a.push(o),r()):(n.warn(`ObjectMultiplex - orphaned data for stream "${i}"`),r())}}t.ObjectMultiplex=l},9067:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Substream=void 0;const n=r(7525);class i extends n.Duplex{constructor({parent:e,name:t}){super({objectMode:!0}),this._parent=e,this._name=t}_read(){}_write(e,t,r){this._parent.push({name:this._name,data:e}),r()}}t.Substream=i},9952:(e,t,r)=>{"use strict";const n=r(7209);e.exports=n.ObjectMultiplex},470:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BasePostMessageStream=void 0;const n=r(5800);function i(){}const o="ACK";class a extends n.Duplex{constructor(){super({objectMode:!0}),this._init=!1,this._haveSyn=!1}_handshake(){this._write("SYN",null,i),this.cork()}_onData(e){if(this._init)try{this.push(e)}catch(e){this.emit("error",e)}else"SYN"===e?(this._haveSyn=!0,this._write(o,null,i)):e===o&&(this._init=!0,this._haveSyn||this._write(o,null,i),this.uncork())}_read(){}_write(e,t,r){this._postMessage(e),r()}}t.BasePostMessageStream=a},4273:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WindowPostMessageStream=void 0;const n=r(470);class i extends n.BasePostMessageStream{constructor({name:e,target:t,targetWindow:r}){if(!e||!t)throw new Error("Invalid input.");super(),this._name=e,this._target=t,this._targetOrigin=r?"*":location.origin,this._targetWindow=r||window,this._onMessage=this._onMessage.bind(this),window.addEventListener("message",this._onMessage,!1),this._handshake()}_postMessage(e){this._targetWindow.postMessage({target:this._target,data:e},this._targetOrigin)}_onMessage(e){const t=e.data;"*"!==this._targetOrigin&&e.origin!==this._targetOrigin||e.source!==this._targetWindow||"object"!=typeof t||t.target!==this._name||!t.data||this._onData(t.data)}_destroy(){window.removeEventListener("message",this._onMessage,!1)}}t.WindowPostMessageStream=i},8858:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkerParentPostMessageStream=void 0;const n=r(470),i=r(7366);class o extends n.BasePostMessageStream{constructor({worker:e}){if(!e)throw new Error("Invalid input.");super(),this._target=i.DEDICATED_WORKER_NAME,this._worker=e,this._worker.onmessage=this._onMessage.bind(this),this._handshake()}_postMessage(e){this._worker.postMessage({target:this._target,data:e})}_onMessage(e){const t=e.data;"object"==typeof t&&t.data&&this._onData(t.data)}_destroy(){this._worker.onmessage=null,this._worker=null}}t.WorkerParentPostMessageStream=o},7507:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkerPostMessageStream=void 0;const n=r(470),i=r(7366);class o extends n.BasePostMessageStream{constructor(){super(),this._name=i.DEDICATED_WORKER_NAME,self.onmessage=this._onMessage.bind(this),this._handshake()}_postMessage(e){self.postMessage({data:e})}_onMessage(e){const t=e.data;"object"==typeof t&&t.target===this._name&&t.data&&this._onData(t.data)}_destroy(){}}t.WorkerPostMessageStream=o},7366:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEDICATED_WORKER_NAME=void 0,t.DEDICATED_WORKER_NAME="dedicatedWorker"},9679:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkerParentPostMessageStream=t.WorkerPostMessageStream=t.WindowPostMessageStream=void 0;var n=r(4273);Object.defineProperty(t,"WindowPostMessageStream",{enumerable:!0,get:function(){return n.WindowPostMessageStream}});var i=r(7507);Object.defineProperty(t,"WorkerPostMessageStream",{enumerable:!0,get:function(){return i.WorkerPostMessageStream}});var o=r(8858);Object.defineProperty(t,"WorkerParentPostMessageStream",{enumerable:!0,get:function(){return o.WorkerParentPostMessageStream}})},2646:(e,t,r)=>{"use strict";var n=r(4406);!n.version||0===n.version.indexOf("v0.")||0===n.version.indexOf("v1.")&&0!==n.version.indexOf("v1.8.")?e.exports=function(e,t,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return n.nextTick(e);case 2:return n.nextTick((function(){e.call(null,t)}));case 3:return n.nextTick((function(){e.call(null,t,r)}));case 4:return n.nextTick((function(){e.call(null,t,r,i)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return n.nextTick((function(){e.apply(null,o)}))}}:e.exports=n.nextTick},1034:(e,t,r)=>{"use strict";var n=r(2646),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=f;var o=r(7646);o.inherits=r(1285);var a=r(7187),s=r(3597);o.inherits(f,a);for(var u=i(s.prototype),c=0;c<u.length;c++){var l=u[c];f.prototype[l]||(f.prototype[l]=s.prototype[l])}function f(e){if(!(this instanceof f))return new f(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||n(h,this)}function h(e){e.end()}Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),n(t,e)}},2598:(e,t,r)=>{"use strict";e.exports=o;var n=r(2287),i=r(7646);function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}i.inherits=r(1285),i.inherits(o,n),o.prototype._transform=function(e,t,r){r(null,e)}},7187:(e,t,r)=>{"use strict";var n=r(4406),i=r(2646);e.exports=w;var o,a=r(7906);w.ReadableState=m,r(2699).EventEmitter;var s=function(e,t){return e.listeners(t).length},u=r(979),c=r(5691).Buffer,l=r.g.Uint8Array||function(){},f=r(7646);f.inherits=r(1285);var d=r(4857),h=void 0;h=d&&d.debuglog?d.debuglog("stream"):function(){};var p,g=r(8991),y=r(8374);f.inherits(w,u);var b=["error","close","destroy","pause","resume"];function m(e,t){o=o||r(1034),e=e||{},this.objectMode=!!e.objectMode,t instanceof o&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:i,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=r(5099).s),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function w(e){if(o=o||r(1034),!(this instanceof w))return new w(e);this._readableState=new m(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function v(e,t,r,n,i){var o,a=e._readableState;return null===t?(a.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,O(e)}}(e,a)):(i||(o=function(e,t){var r,n;return n=t,c.isBuffer(n)||n instanceof l||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),n?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):_(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?_(e,a,t,!1):M(e,a)):_(e,a,t,!1))):n||(a.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function _(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&O(e)),M(e,t)}Object.defineProperty(w.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),w.prototype.destroy=y.destroy,w.prototype._undestroy=y.undestroy,w.prototype._destroy=function(e,t){this.push(null),t(e)},w.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),r=!0),v(this,e,t,!1,r)},w.prototype.unshift=function(e){return v(this,e,null,!0,!1)},w.prototype.isPaused=function(){return!1===this._readableState.flowing},w.prototype.setEncoding=function(e){return p||(p=r(5099).s),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var S=8388608;function E(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=S?e=S:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function O(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i(R,e):R(e))}function R(e){h("emit readable"),e.emit("readable"),A(e)}function M(e,t){t.readingMore||(t.readingMore=!0,i(j,e,t))}function j(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function P(e){h("readable nexttick read 0"),e.read(0)}function k(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),A(e),t.flowing&&!t.reading&&e.read(0)}function A(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function x(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0==(e-=a)){a===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=c.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,a),0==(e-=a)){a===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++i}return t.length-=i,r}(e,t),n}(e,t.buffer,t.decoder),r);var r}function C(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i(T,t,e))}function T(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function N(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}w.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?C(this):O(this),null;if(0===(e=E(e,t))&&t.ended)return 0===t.length&&C(this),null;var n,i=t.needReadable;return h("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",i=!0),t.ended||t.reading?h("reading or ended",i=!1):i&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=E(r,t))),null===(n=e>0?x(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&C(this)),null!==n&&this.emit("data",n),n},w.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},w.prototype.pipe=function(e,t){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,h("pipe count=%d opts=%j",o.pipesCount,t);var u=t&&!1===t.end||e===n.stdout||e===n.stderr?m:c;function c(){h("onend"),e.end()}o.endEmitted?i(u):r.once("end",u),e.on("unpipe",(function t(n,i){h("onunpipe"),n===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,h("cleanup"),e.removeListener("close",y),e.removeListener("finish",b),e.removeListener("drain",l),e.removeListener("error",g),e.removeListener("unpipe",t),r.removeListener("end",c),r.removeListener("end",m),r.removeListener("data",p),f=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}));var l=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,A(e))}}(r);e.on("drain",l);var f=!1,d=!1;function p(t){h("ondata"),d=!1,!1!==e.write(t)||d||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==N(o.pipes,e))&&!f&&(h("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,d=!0),r.pause())}function g(t){h("onerror",t),m(),e.removeListener("error",g),0===s(e,"error")&&e.emit("error",t)}function y(){e.removeListener("finish",b),m()}function b(){h("onfinish"),e.removeListener("close",y),m()}function m(){h("unpipe"),r.unpipe(e)}return r.on("data",p),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events.error?a(e._events.error)?e._events.error.unshift(r):e._events.error=[r,e._events.error]:e.on(t,r)}(e,"error",g),e.once("close",y),e.once("finish",b),e.emit("pipe",r),o.flowing||(h("pipe resume"),r.resume()),e},w.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var a=N(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},w.prototype.on=function(e,t){var r=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&O(this):i(P,this))}return r},w.prototype.addListener=w.prototype.on,w.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i(k,e,t))}(this,e)),this},w.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},w.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;for(var i in e.on("end",(function(){if(h("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)})),e.on("data",(function(i){h("wrapped data"),t.decoder&&(i=t.decoder.write(i)),t.objectMode&&null==i||(t.objectMode||i&&i.length)&&(n.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<b.length;o++)e.on(b[o],n.emit.bind(n,b[o]));return n._read=function(t){h("wrapped _read",t),r&&(r=!1,e.resume())},n},w._fromList=x},2287:(e,t,r)=>{"use strict";e.exports=a;var n=r(1034),i=r(7646);function o(e){this.afterTransform=function(t,r){return function(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=r&&e.push(r),i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}(e,t,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function a(e){if(!(this instanceof a))return new a(e);n.call(this,e),this._transformState=new o(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",(function(){"function"==typeof this._flush?this._flush((function(e,r){s(t,e,r)})):s(t)}))}function s(e,t,r){if(t)return e.emit("error",t);null!=r&&e.push(r);var n=e._writableState,i=e._transformState;if(n.length)throw new Error("Calling transform done when ws.length != 0");if(i.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=r(1285),i.inherits(a,n),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,(function(e){t(e),r.emit("close")}))}},3597:(e,t,r)=>{"use strict";var n=r(4406),i=r(2646);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=b;var a,s=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?setImmediate:i;b.WritableState=y;var u=r(7646);u.inherits=r(1285);var c,l={deprecate:r(5803)},f=r(979),d=r(5691).Buffer,h=r.g.Uint8Array||function(){},p=r(8374);function g(){}function y(e,t){a=a||r(1034),e=e||{},this.objectMode=!!e.objectMode,t instanceof a&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,u=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var c=!1===e.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,o){--t.pendingcb,r?(i(o,n),i(E,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(o(n),e._writableState.errorEmitted=!0,e.emit("error",n),E(e,t))}(e,r,n,t,o);else{var a=_(r);a||r.corked||r.bufferProcessing||!r.bufferedRequest||v(e,r),n?s(w,e,r,a,o):w(e,r,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function b(e){if(a=a||r(1034),!(c.call(b,this)||this instanceof a))return new b(e);this._writableState=new y(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),f.call(this)}function m(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function w(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),E(e,t)}function v(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),a=t.corkedRequestsFree;a.entry=r;for(var s=0,u=!0;r;)i[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;i.allBuffers=u,m(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t)}else{for(;r;){var c=r.chunk,l=r.encoding,f=r.callback;if(m(e,t,!1,t.objectMode?1:c.length,c,l,f),r=r.next,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=r,t.bufferProcessing=!1}function _(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),E(e,t)}))}function E(e,t){var r=_(t);return r&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,i(S,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}u.inherits(b,f),y.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(y.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||e&&e._writableState instanceof y}})):c=function(e){return e instanceof this},b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},b.prototype.write=function(e,t,r){var n,o=this._writableState,a=!1,s=(n=e,(d.isBuffer(n)||n instanceof h)&&!o.objectMode);return s&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=g),o.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),i(t,r)}(this,r):(s||function(e,t,r,n){var o=!0,a=!1;return null===r?a=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),i(n,a),o=!1),o}(this,o,e,r))&&(o.pendingcb++,a=function(e,t,r,n,i,o){if(!r){var a=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,r)),t}(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,s,n,i,o);return u}(this,o,s,e,t,r)),a},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||v(this,e))},b.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},b.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,E(e,t),r&&(t.finished?i(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),b.prototype.destroy=p.destroy,b.prototype._undestroy=p.undestroy,b.prototype._destroy=function(e,t){this.end(),t(e)}},8991:(e,t,r)=>{"use strict";var n=r(5691).Buffer;e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,i=n.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=i,r=a,o.data.copy(t,r),a+=o.data.length,o=o.next;return i},e}()},8374:(e,t,r)=>{"use strict";var n=r(2646);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;o||a?t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n(i,this,e):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(n(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})))},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},979:(e,t,r)=>{e.exports=r(2699).EventEmitter},5800:(e,t,r)=>{(t=e.exports=r(7187)).Stream=t,t.Readable=t,t.Writable=r(3597),t.Duplex=r(1034),t.Transform=r(2287),t.PassThrough=r(2598)},5691:(e,t,r)=>{var n=r(8834),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},5099:(e,t,r)=>{"use strict";var n=r(5691).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:-1}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"".repeat(r);if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"".repeat(r+1);if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"".repeat(r+2)}}(this,e,t);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"".repeat(this.lastTotal-this.lastNeed):t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r?0:(i=a(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r?0:(i=a(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},4044:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(r(3171)),a=r(1280),s=r(1384),u=i(r(9952)),c=i(r(3795)),l=i(r(8787)),f=r(8094),d=r(8607),h=i(r(2371)),p=r(4022);class g extends c.default{constructor(e,{jsonRpcStreamName:t="metamask-provider",logger:r=n,maxEventListeners:i=100}={}){if(super(),!d.duplex(e))throw new Error(h.default.errors.invalidDuplexStream());this._log=r,this.setMaxListeners(i),this._state=Object.assign({},g._defaultState),this.selectedAddress=null,this.chainId=null,this._handleAccountsChanged=this._handleAccountsChanged.bind(this),this._handleConnect=this._handleConnect.bind(this),this._handleChainChanged=this._handleChainChanged.bind(this),this._handleDisconnect=this._handleDisconnect.bind(this),this._handleStreamDisconnect=this._handleStreamDisconnect.bind(this),this._handleUnlockStateChanged=this._handleUnlockStateChanged.bind(this),this._rpcRequest=this._rpcRequest.bind(this),this.request=this.request.bind(this);const c=new u.default;o.default(e,c,e,this._handleStreamDisconnect.bind(this,"MetaMask")),this.on("connect",(()=>{this._state.isConnected=!0})),this._jsonRpcConnection=s.createStreamMiddleware(),o.default(this._jsonRpcConnection.stream,c.createStream(t),this._jsonRpcConnection.stream,this._handleStreamDisconnect.bind(this,"MetaMask RpcProvider"));const l=new a.JsonRpcEngine;l.push(a.createIdRemapMiddleware()),l.push(p.createErrorMiddleware(this._log)),l.push(this._jsonRpcConnection.middleware),this._rpcEngine=l,this._initializeState(),this._jsonRpcConnection.events.on("notification",(t=>{const{method:r,params:n}=t;"metamask_accountsChanged"===r?this._handleAccountsChanged(n):"metamask_unlockStateChanged"===r?this._handleUnlockStateChanged(n):"metamask_chainChanged"===r?this._handleChainChanged(n):p.EMITTED_NOTIFICATIONS.includes(r)?this.emit("message",{type:r,data:n}):"METAMASK_STREAM_FAILURE"===r&&e.destroy(new Error(h.default.errors.permanentlyDisconnected()))}))}isConnected(){return this._state.isConnected}async request(e){if(!e||"object"!=typeof e||Array.isArray(e))throw f.ethErrors.rpc.invalidRequest({message:h.default.errors.invalidRequestArgs(),data:e});const{method:t,params:r}=e;if("string"!=typeof t||0===t.length)throw f.ethErrors.rpc.invalidRequest({message:h.default.errors.invalidRequestMethod(),data:e});if(void 0!==r&&!Array.isArray(r)&&("object"!=typeof r||null===r))throw f.ethErrors.rpc.invalidRequest({message:h.default.errors.invalidRequestParams(),data:e});return new Promise(((e,n)=>{this._rpcRequest({method:t,params:r},p.getRpcPromiseCallback(e,n))}))}async _initializeState(){try{const{accounts:e,chainId:t,isUnlocked:r,networkVersion:n}=await this.request({method:"metamask_getProviderState"});this.emit("connect",{chainId:t}),this._handleChainChanged({chainId:t,networkVersion:n}),this._handleUnlockStateChanged({accounts:e,isUnlocked:r}),this._handleAccountsChanged(e)}catch(e){this._log.error("MetaMask: Failed to get initial state. Please report this bug.",e)}finally{this._state.initialized=!0,this.emit("_initialized")}}_rpcRequest(e,t){let r=t;return Array.isArray(e)||(e.jsonrpc||(e.jsonrpc="2.0"),"eth_accounts"!==e.method&&"eth_requestAccounts"!==e.method||(r=(r,n)=>{this._handleAccountsChanged(n.result||[],"eth_accounts"===e.method),t(r,n)})),this._rpcEngine.handle(e,r)}_handleConnect(e){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:e}),this._log.debug(h.default.info.connected(e)))}_handleDisconnect(e,t){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e){let r;this._state.isConnected=!1,e?(r=new f.EthereumRpcError(1013,t||h.default.errors.disconnected()),this._log.debug(r)):(r=new f.EthereumRpcError(1011,t||h.default.errors.permanentlyDisconnected()),this._log.error(r),this.chainId=null,this._state.accounts=null,this.selectedAddress=null,this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",r)}}_handleStreamDisconnect(e,t){p.logStreamDisconnectWarning(this._log,e,t,this),this._handleDisconnect(!1,t?t.message:void 0)}_handleChainChanged({chainId:e,networkVersion:t}={}){e&&"string"==typeof e&&e.startsWith("0x")&&t&&"string"==typeof t?"loading"===t?this._handleDisconnect(!0):(this._handleConnect(e),e!==this.chainId&&(this.chainId=e,this._state.initialized&&this.emit("chainChanged",this.chainId))):this._log.error("MetaMask: Received invalid network parameters. Please report this bug.",{chainId:e,networkVersion:t})}_handleAccountsChanged(e,t=!1){let r=e;Array.isArray(e)||(this._log.error("MetaMask: Received invalid accounts parameter. Please report this bug.",e),r=[]);for(const t of e)if("string"!=typeof t){this._log.error("MetaMask: Received non-string account. Please report this bug.",e),r=[];break}l.default(this._state.accounts,r)||(t&&null!==this._state.accounts&&this._log.error("MetaMask: 'eth_accounts' unexpectedly updated accounts. Please report this bug.",r),this._state.accounts=r,this.selectedAddress!==r[0]&&(this.selectedAddress=r[0]||null),this._state.initialized&&this.emit("accountsChanged",r))}_handleUnlockStateChanged({accounts:e,isUnlocked:t}={}){"boolean"==typeof t?t!==this._state.isUnlocked&&(this._state.isUnlocked=t,this._handleAccountsChanged(e||[])):this._log.error("MetaMask: Received invalid isUnlocked parameter. Please report this bug.")}}t.default=g,g._defaultState={accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1}},9461:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(8094),a=i(r(23)),s=i(r(2371)),u=r(4022),c=i(r(4044));class l extends c.default{constructor(e,{jsonRpcStreamName:t="metamask-provider",logger:r=n,maxEventListeners:i=100,shouldSendMetadata:o=!0}={}){if(super(e,{jsonRpcStreamName:t,logger:r,maxEventListeners:i}),this._sentWarnings={enable:!1,experimentalMethods:!1,send:!1,events:{close:!1,data:!1,networkChanged:!1,notification:!1}},this.networkVersion=null,this.isMetaMask=!0,this._sendSync=this._sendSync.bind(this),this.enable=this.enable.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this._warnOfDeprecation=this._warnOfDeprecation.bind(this),this._metamask=this._getExperimentalApi(),this._jsonRpcConnection.events.on("notification",(e=>{const{method:t}=e;u.EMITTED_NOTIFICATIONS.includes(t)&&(this.emit("data",e),this.emit("notification",e.params.result))})),o)if("complete"===document.readyState)a.default(this._rpcEngine,this._log);else{const e=()=>{a.default(this._rpcEngine,this._log),window.removeEventListener("DOMContentLoaded",e)};window.addEventListener("DOMContentLoaded",e)}}sendAsync(e,t){this._rpcRequest(e,t)}addListener(e,t){return this._warnOfDeprecation(e),super.addListener(e,t)}on(e,t){return this._warnOfDeprecation(e),super.on(e,t)}once(e,t){return this._warnOfDeprecation(e),super.once(e,t)}prependListener(e,t){return this._warnOfDeprecation(e),super.prependListener(e,t)}prependOnceListener(e,t){return this._warnOfDeprecation(e),super.prependOnceListener(e,t)}_handleDisconnect(e,t){super._handleDisconnect(e,t),this.networkVersion&&!e&&(this.networkVersion=null)}_warnOfDeprecation(e){var t;!1===(null===(t=this._sentWarnings)||void 0===t?void 0:t.events[e])&&(this._log.warn(s.default.warnings.events[e]),this._sentWarnings.events[e]=!0)}enable(){return this._sentWarnings.enable||(this._log.warn(s.default.warnings.enableDeprecation),this._sentWarnings.enable=!0),new Promise(((e,t)=>{try{this._rpcRequest({method:"eth_requestAccounts",params:[]},u.getRpcPromiseCallback(e,t))}catch(e){t(e)}}))}send(e,t){return this._sentWarnings.send||(this._log.warn(s.default.warnings.sendDeprecation),this._sentWarnings.send=!0),"string"!=typeof e||t&&!Array.isArray(t)?e&&"object"==typeof e&&"function"==typeof t?this._rpcRequest(e,t):this._sendSync(e):new Promise(((r,n)=>{try{this._rpcRequest({method:e,params:t},u.getRpcPromiseCallback(r,n,!1))}catch(e){n(e)}}))}_sendSync(e){let t;switch(e.method){case"eth_accounts":t=this.selectedAddress?[this.selectedAddress]:[];break;case"eth_coinbase":t=this.selectedAddress||null;break;case"eth_uninstallFilter":this._rpcRequest(e,u.NOOP),t=!0;break;case"net_version":t=this.networkVersion||null;break;default:throw new Error(s.default.errors.unsupportedSync(e.method))}return{id:e.id,jsonrpc:e.jsonrpc,result:t}}_getExperimentalApi(){return new Proxy({isUnlocked:async()=>(this._state.initialized||await new Promise((e=>{this.on("_initialized",(()=>e()))})),this._state.isUnlocked),requestBatch:async e=>{if(!Array.isArray(e))throw o.ethErrors.rpc.invalidRequest({message:"Batch requests must be made with an array of request objects.",data:e});return new Promise(((t,r)=>{this._rpcRequest(e,u.getRpcPromiseCallback(t,r))}))}},{get:(e,t,...r)=>(this._sentWarnings.experimentalMethods||(this._log.warn(s.default.warnings.experimentalMethods),this._sentWarnings.experimentalMethods=!0),Reflect.get(e,t,...r))})}_handleChainChanged({chainId:e,networkVersion:t}={}){super._handleChainChanged({chainId:e,networkVersion:t}),t&&"loading"!==t&&t!==this.networkVersion&&(this.networkVersion=t,this._state.initialized&&this.emit("networkChanged",this.networkVersion))}}t.default=l},5817:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(r(3274)),a=r(4924),s=i(r(4044)),u=i(r(5543)),c=a.detect();t.default=function(){let e;try{const t=function(){switch(null==c?void 0:c.name){case"chrome":default:return u.default.CHROME_ID;case"firefox":return u.default.FIREFOX_ID}}(),r=chrome.runtime.connect(t),n=new o.default(r);e=new s.default(n)}catch(e){throw n.dir("Metamask connect error ",e),e}return e}},2972:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createExternalExtensionProvider=t.shimWeb3=t.setGlobalProvider=t.BaseProvider=t.MetaMaskInpageProvider=t.initializeProvider=void 0;const i=n(r(9461));t.MetaMaskInpageProvider=i.default;const o=n(r(5817));t.createExternalExtensionProvider=o.default;const a=n(r(4044));t.BaseProvider=a.default;const s=r(6352);Object.defineProperty(t,"initializeProvider",{enumerable:!0,get:function(){return s.initializeProvider}}),Object.defineProperty(t,"setGlobalProvider",{enumerable:!0,get:function(){return s.setGlobalProvider}});const u=n(r(6473));t.shimWeb3=u.default},6352:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.setGlobalProvider=t.initializeProvider=void 0;const o=i(r(9461)),a=i(r(6473));function s(e){window.ethereum=e,window.dispatchEvent(new Event("ethereum#initialized"))}t.initializeProvider=function({connectionStream:e,jsonRpcStreamName:t,logger:r=n,maxEventListeners:i=100,shouldSendMetadata:u=!0,shouldSetOnWindow:c=!0,shouldShimWeb3:l=!1}){let f=new o.default(e,{jsonRpcStreamName:t,logger:r,maxEventListeners:i,shouldSendMetadata:u});return f=new Proxy(f,{deleteProperty:()=>!0}),c&&s(f),l&&a.default(f,r),f},t.setGlobalProvider=s},2371:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={errors:{disconnected:()=>"MetaMask: Disconnected from chain. Attempting to connect.",permanentlyDisconnected:()=>"MetaMask: Disconnected from MetaMask background. Page reload required.",sendSiteMetadata:()=>"MetaMask: Failed to send site metadata. This is an internal error, please report this bug.",unsupportedSync:e=>`MetaMask: The MetaMask Ethereum provider does not support synchronous methods like ${e} without a callback parameter.`,invalidDuplexStream:()=>"Must provide a Node.js-style duplex stream.",invalidRequestArgs:()=>"Expected a single, non-array, object argument.",invalidRequestMethod:()=>"'args.method' must be a non-empty string.",invalidRequestParams:()=>"'args.params' must be an object or array if provided.",invalidLoggerObject:()=>"'args.logger' must be an object if provided.",invalidLoggerMethod:e=>`'args.logger' must include required method '${e}'.`},info:{connected:e=>`MetaMask: Connected to chain with ID "${e}".`},warnings:{enableDeprecation:"MetaMask: 'ethereum.enable()' is deprecated and may be removed in the future. Please use the 'eth_requestAccounts' RPC method instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1102",sendDeprecation:"MetaMask: 'ethereum.send(...)' is deprecated and may be removed in the future. Please use 'ethereum.sendAsync(...)' or 'ethereum.request(...)' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193",events:{close:"MetaMask: The event 'close' is deprecated and may be removed in the future. Please use 'disconnect' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#disconnect",data:"MetaMask: The event 'data' is deprecated and will be removed in the future. Use 'message' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#message",networkChanged:"MetaMask: The event 'networkChanged' is deprecated and may be removed in the future. Use 'chainChanged' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#chainchanged",notification:"MetaMask: The event 'notification' is deprecated and may be removed in the future. Use 'message' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#message"},experimentalMethods:"MetaMask: 'ethereum._metamask' exposes non-standard, experimental methods. They may be removed or changed without warning."}}},6473:(e,t,r)=>{"use strict";var n=r(3716);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t=n){let r=!1,i=!1;if(!window.web3){const n="__isMetaMaskShim__";let o={currentProvider:e};Object.defineProperty(o,n,{value:!0,enumerable:!0,configurable:!1,writable:!1}),o=new Proxy(o,{get:(o,a,...s)=>("currentProvider"!==a||r?"currentProvider"===a||a===n||i||(i=!0,t.error("MetaMask no longer injects web3. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3"),e.request({method:"metamask_logWeb3ShimUsage"}).catch((e=>{t.debug("MetaMask: Failed to log web3 shim usage.",e)}))):(r=!0,t.warn("You are accessing the MetaMask window.web3.currentProvider shim. This property is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3")),Reflect.get(o,a,...s)),set:(...e)=>(t.warn("You are accessing the MetaMask window.web3 shim. This object is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3"),Reflect.set(...e))}),Object.defineProperty(window,"web3",{value:o,enumerable:!1,configurable:!0,writable:!0})}}},23:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(2371)),o=r(4022);function a(e){const{document:t}=e,r=t.querySelector('head > meta[property="og:site_name"]');if(r)return r.content;const n=t.querySelector('head > meta[name="title"]');return n?n.content:t.title&&t.title.length>0?t.title:window.location.hostname}async function s(e){const{document:t}=e,r=t.querySelectorAll('head > link[rel~="icon"]');for(const e of r)if(e&&await u(e.href))return e.href;return null}function u(e){return new Promise(((t,r)=>{try{const r=document.createElement("img");r.onload=()=>t(!0),r.onerror=()=>t(!1),r.src=e}catch(e){r(e)}}))}t.default=async function(e,t){try{const t=await async function(){return{name:a(window),icon:await s(window)}}();e.handle({jsonrpc:"2.0",id:1,method:"metamask_sendDomainMetadata",params:t},o.NOOP)}catch(e){t.error({message:i.default.errors.sendSiteMetadata(),originalError:e})}}},4022:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMITTED_NOTIFICATIONS=t.NOOP=t.logStreamDisconnectWarning=t.getRpcPromiseCallback=t.createErrorMiddleware=void 0;const n=r(8094);t.createErrorMiddleware=function(e){return(t,r,i)=>{"string"==typeof t.method&&t.method||(r.error=n.ethErrors.rpc.invalidRequest({message:"The request 'method' must be a non-empty string.",data:t})),i((t=>{const{error:n}=r;return n?(e.error(`MetaMask - RPC Error: ${n.message}`,n),t()):t()}))}},t.getRpcPromiseCallback=(e,t,r=!0)=>(n,i)=>{n||i.error?t(n||i.error):!r||Array.isArray(i)?e(i):e(i.result)},t.logStreamDisconnectWarning=function(e,t,r,n){let i=`MetaMask: Lost connection to "${t}".`;(null==r?void 0:r.stack)&&(i+=`\n${r.stack}`),e.warn(i),n&&n.listenerCount("error")>0&&n.emit("error",i)},t.NOOP=()=>{},t.EMITTED_NOTIFICATIONS=["eth_subscription"]},8787:e=>{"use strict";var t=Array.isArray,r=Object.keys,n=Object.prototype.hasOwnProperty;e.exports=function e(i,o){if(i===o)return!0;if(i&&o&&"object"==typeof i&&"object"==typeof o){var a,s,u,c=t(i),l=t(o);if(c&&l){if((s=i.length)!=o.length)return!1;for(a=s;0!=a--;)if(!e(i[a],o[a]))return!1;return!0}if(c!=l)return!1;var f=i instanceof Date,d=o instanceof Date;if(f!=d)return!1;if(f&&d)return i.getTime()==o.getTime();var h=i instanceof RegExp,p=o instanceof RegExp;if(h!=p)return!1;if(h&&p)return i.toString()==o.toString();var g=r(i);if((s=g.length)!==r(o).length)return!1;for(a=s;0!=a--;)if(!n.call(o,g[a]))return!1;for(a=s;0!=a--;)if(!e(i[u=g[a]],o[u]))return!1;return!0}return i!=i&&o!=o}},3795:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2699);function i(e,t,r){try{Reflect.apply(e,t,r)}catch(e){setTimeout((()=>{throw e}))}}class o extends n.EventEmitter{emit(e,...t){let r="error"===e;const n=this._events;if(void 0!==n)r=r&&void 0===n.error;else if(!r)return!1;if(r){let e;if(t.length>0&&([e]=t),e instanceof Error)throw e;const r=new Error("Unhandled error."+(e?` (${e.message})`:""));throw r.context=e,r}const o=n[e];if(void 0===o)return!1;if("function"==typeof o)i(o,this,t);else{const e=o.length,r=function(e){const t=e.length,r=new Array(t);for(let n=0;n<t;n+=1)r[n]=e[n];return r}(o);for(let n=0;n<e;n+=1)i(r[n],this,t)}return!0}}t.default=o},5778:(e,t,r)=>{"use strict";var n=r(7320);function i(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0}function o(e){return r.g.Buffer&&"function"==typeof r.g.Buffer.isBuffer?r.g.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var a=r(1485),s=Object.prototype.hasOwnProperty,u=Array.prototype.slice,c="foo"===function(){}.name;function l(e){return Object.prototype.toString.call(e)}function f(e){return!o(e)&&"function"==typeof r.g.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}var d=e.exports=m,h=/\s*function\s+([^\(\s]*)\s*/;function p(e){if(a.isFunction(e)){if(c)return e.name;var t=e.toString().match(h);return t&&t[1]}}function g(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function y(e){if(c||!a.isFunction(e))return a.inspect(e);var t=p(e);return"[Function"+(t?": "+t:"")+"]"}function b(e,t,r,n,i){throw new d.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:i})}function m(e,t){e||b(e,!0,t,"==",d.ok)}function w(e,t,r,n){if(e===t)return!0;if(o(e)&&o(t))return 0===i(e,t);if(a.isDate(e)&&a.isDate(t))return e.getTime()===t.getTime();if(a.isRegExp(e)&&a.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(f(e)&&f(t)&&l(e)===l(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===i(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(o(e)!==o(t))return!1;var s=(n=n||{actual:[],expected:[]}).actual.indexOf(e);return-1!==s&&s===n.expected.indexOf(t)||(n.actual.push(e),n.expected.push(t),function(e,t,r,n){if(null==e||null==t)return!1;if(a.isPrimitive(e)||a.isPrimitive(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=v(e),o=v(t);if(i&&!o||!i&&o)return!1;if(i)return w(e=u.call(e),t=u.call(t),r);var s,c,l=E(e),f=E(t);if(l.length!==f.length)return!1;for(l.sort(),f.sort(),c=l.length-1;c>=0;c--)if(l[c]!==f[c])return!1;for(c=l.length-1;c>=0;c--)if(!w(e[s=l[c]],t[s],r,n))return!1;return!0}(e,t,r,n))}return r?e===t:e==t}function v(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function _(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function S(e,t,r,n){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),i=function(e){var t;try{e()}catch(e){t=e}return t}(t),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),e&&!i&&b(i,r,"Missing expected exception"+n);var o="string"==typeof n,s=!e&&i&&!r;if((!e&&a.isError(i)&&o&&_(i,r)||s)&&b(i,r,"Got unwanted exception"+n),e&&i&&r&&!_(i,r)||!e&&i)throw i}d.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return g(y(e.actual),128)+" "+e.operator+" "+g(y(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||b;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var r=new Error;if(r.stack){var n=r.stack,i=p(t),o=n.indexOf("\n"+i);if(o>=0){var a=n.indexOf("\n",o+1);n=n.substring(a+1)}this.stack=n}}},a.inherits(d.AssertionError,Error),d.fail=b,d.ok=m,d.equal=function(e,t,r){e!=t&&b(e,t,r,"==",d.equal)},d.notEqual=function(e,t,r){e==t&&b(e,t,r,"!=",d.notEqual)},d.deepEqual=function(e,t,r){w(e,t,!1)||b(e,t,r,"deepEqual",d.deepEqual)},d.deepStrictEqual=function(e,t,r){w(e,t,!0)||b(e,t,r,"deepStrictEqual",d.deepStrictEqual)},d.notDeepEqual=function(e,t,r){w(e,t,!1)&&b(e,t,r,"notDeepEqual",d.notDeepEqual)},d.notDeepStrictEqual=function e(t,r,n){w(t,r,!0)&&b(t,r,n,"notDeepStrictEqual",e)},d.strictEqual=function(e,t,r){e!==t&&b(e,t,r,"===",d.strictEqual)},d.notStrictEqual=function(e,t,r){e===t&&b(e,t,r,"!==",d.notStrictEqual)},d.throws=function(e,t,r){S(!0,e,t,r)},d.doesNotThrow=function(e,t,r){S(!1,e,t,r)},d.ifError=function(e){if(e)throw e},d.strict=n((function e(t,r){t||b(t,!0,r,"==",e)}),d,{equal:d.strictEqual,deepEqual:d.deepStrictEqual,notEqual:d.notStrictEqual,notDeepEqual:d.notDeepStrictEqual}),d.strict.strict=d.strict;var E=Object.keys||function(e){var t=[];for(var r in e)s.call(e,r)&&t.push(r);return t}},5147:e=>{"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},6819:e=>{e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},1485:(e,t,r)=>{var n=r(4406),i=r(3716),o=/%[sdj%]/g;t.format=function(e){if(!m(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(u(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,a=String(e).replace(o,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),s=n[r];r<i;s=n[++r])y(s)||!_(s)?a+=" "+s:a+=" "+u(s);return a},t.deprecate=function(e,o){if(w(r.g.process))return function(){return t.deprecate(e,o).apply(this,arguments)};if(!0===n.noDeprecation)return e;var a=!1;return function(){if(!a){if(n.throwDeprecation)throw new Error(o);n.traceDeprecation?i.trace(o):i.error(o),a=!0}return e.apply(this,arguments)}};var a,s={};function u(e,r){var n={seen:[],stylize:l};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),g(r)?n.showHidden=r:r&&t._extend(n,r),w(n.showHidden)&&(n.showHidden=!1),w(n.depth)&&(n.depth=2),w(n.colors)&&(n.colors=!1),w(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=c),f(n,e,n.depth)}function c(e,t){var r=u.styles[t];return r?"["+u.colors[r][0]+"m"+e+"["+u.colors[r][1]+"m":e}function l(e,t){return e}function f(e,r,n){if(e.customInspect&&r&&O(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return m(i)||(i=f(e,i,n)),i}var o=function(e,t){if(w(t))return e.stylize("undefined","undefined");if(m(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return b(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):y(t)?e.stylize("null","null"):void 0}(e,r);if(o)return o;var a=Object.keys(r),s=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(r)),E(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return d(r);if(0===a.length){if(O(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(v(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(S(r))return e.stylize(Date.prototype.toString.call(r),"date");if(E(r))return d(r)}var c,l="",_=!1,R=["{","}"];return p(r)&&(_=!0,R=["[","]"]),O(r)&&(l=" [Function"+(r.name?": "+r.name:"")+"]"),v(r)&&(l=" "+RegExp.prototype.toString.call(r)),S(r)&&(l=" "+Date.prototype.toUTCString.call(r)),E(r)&&(l=" "+d(r)),0!==a.length||_&&0!=r.length?n<0?v(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),c=_?function(e,t,r,n,i){for(var o=[],a=0,s=t.length;a<s;++a)k(t,String(a))?o.push(h(e,t,r,n,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(h(e,t,r,n,i,!0))})),o}(e,r,n,s,a):a.map((function(t){return h(e,r,n,s,t,_)})),e.seen.pop(),function(e,t,r){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}(c,l,R)):R[0]+l+R[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,r,n,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),k(n,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=y(r)?f(e,u.value,null):f(e,u.value,r-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),w(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function p(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function y(e){return null===e}function b(e){return"number"==typeof e}function m(e){return"string"==typeof e}function w(e){return void 0===e}function v(e){return _(e)&&"[object RegExp]"===R(e)}function _(e){return"object"==typeof e&&null!==e}function S(e){return _(e)&&"[object Date]"===R(e)}function E(e){return _(e)&&("[object Error]"===R(e)||e instanceof Error)}function O(e){return"function"==typeof e}function R(e){return Object.prototype.toString.call(e)}function M(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(w(a)&&(a=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!s[e])if(new RegExp("\\b"+e+"\\b","i").test(a)){var r=n.pid;s[e]=function(){var n=t.format.apply(t,arguments);i.error("%s %d: %s",e,r,n)}}else s[e]=function(){};return s[e]},t.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=g,t.isNull=y,t.isNullOrUndefined=function(e){return null==e},t.isNumber=b,t.isString=m,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=w,t.isRegExp=v,t.isObject=_,t.isDate=S,t.isError=E,t.isFunction=O,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(6819);var j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function P(){var e=new Date,t=[M(e.getHours()),M(e.getMinutes()),M(e.getSeconds())].join(":");return[e.getDate(),j[e.getMonth()],t].join(" ")}function k(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){i.log("%s - %s",P(),t.format.apply(t,arguments))},t.inherits=r(5147),t._extend=function(e,t){if(!t||!_(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}},5766:(e,t)=>{"use strict";t.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,o=u(e),a=o[0],s=o[1],c=new i(function(e,t,r){return 3*(t+r)/4-r}(0,a,s)),l=0,f=s>0?a-4:a;for(r=0;r<f;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return 2===s&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,c[l++]=255&t),1===s&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=16383,s=0,u=n-i;s<u;s+=a)o.push(c(e,s,s+a>u?u:s+a));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=o.length;a<s;++a)r[a]=o[a],n[o.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},8834:(e,t,r)=>{"use strict";var n=r(3716);const i=r(5766),o=r(2333),a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},t.INSPECT_MAX_BYTES=50;const s=2147483647;function u(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return l(e,t,r)}function l(e,t,r){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|y(e,t);let n=u(r);const i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Y(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Y(e,ArrayBuffer)||e&&Y(e.buffer,ArrayBuffer))return p(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(Y(e,SharedArrayBuffer)||e&&Y(e.buffer,SharedArrayBuffer)))return p(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return c.from(n,t,r);const i=function(e){if(c.isBuffer(e)){const t=0|g(e.length),r=u(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||X(e.length)?u(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return f(e),u(e<0?0:0|g(e))}function h(e){const t=e.length<0?0:0|g(e.length),r=u(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function p(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,c.prototype),n}function g(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function y(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Y(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return V(e).length;default:if(i)return n?-1:G(e).length;t=(""+t).toLowerCase(),i=!0}}function b(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,r);case"utf8":case"utf-8":return j(this,t,r);case"ascii":return k(this,t,r);case"latin1":case"binary":return A(this,t,r);case"base64":return M(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function m(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function w(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),X(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,i){let o,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let n=-1;for(o=r;o<s;o++)if(c(e,o)===c(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===u)return n*a}else-1!==n&&(o-=o-n),n=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){let r=!0;for(let n=0;n<u;n++)if(c(e,o+n)!==c(t,n)){r=!1;break}if(r)return o}return-1}function _(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=t.length;let a;for(n>o/2&&(n=o/2),a=0;a<n;++a){const n=parseInt(t.substr(2*a,2),16);if(X(n))return a;e[r+a]=n}return a}function S(e,t,r,n){return K(G(t,e.length-r),e,r,n)}function E(e,t,r,n){return K(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function O(e,t,r,n){return K(V(t),e,r,n)}function R(e,t,r,n){return K(function(e,t){let r,n,i;const o=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function M(e,t,r){return 0===t&&r===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,r))}function j(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let o=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=r){let r,n,s,u;switch(a){case 1:t<128&&(o=t);break;case 2:r=e[i+1],128==(192&r)&&(u=(31&t)<<6|63&r,u>127&&(o=u));break;case 3:r=e[i+1],n=e[i+2],128==(192&r)&&128==(192&n)&&(u=(15&t)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:r=e[i+1],n=e[i+2],s=e[i+3],128==(192&r)&&128==(192&n)&&128==(192&s)&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&s,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=a}return function(e){const t=e.length;if(t<=P)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=P));return r}(n)}t.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||void 0===n||"function"!=typeof n.error||n.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,r){return function(e,t,r){return f(e),e<=0?u(e):void 0!==t?"string"==typeof r?u(e).fill(t,r):u(e).fill(t):u(e)}(e,t,r)},c.allocUnsafe=function(e){return d(e)},c.allocUnsafeSlow=function(e){return d(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),Y(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=c.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(Y(t,Uint8Array))i+t.length>n.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},c.byteLength=y,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)m(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?j(this,0,e):b.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},a&&(c.prototype[a]=c.prototype.inspect),c.prototype.compare=function(e,t,r,n,i){if(Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0);const s=Math.min(o,a),u=this.slice(n,i),l=e.slice(t,r);for(let e=0;e<s;++e)if(u[e]!==l[e]){o=u[e],a=l[e];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return w(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return w(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return _(this,e,t,r);case"utf8":case"utf-8":return S(this,e,t,r);case"ascii":case"latin1":case"binary":return E(this,e,t,r);case"base64":return O(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const P=4096;function k(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function A(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function x(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=Z[e[n]];return i}function C(e,t,r){const n=e.slice(t,r);let i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}function T(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,r,n,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function I(e,t,r,n,i){z(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function B(e,t,r,n,i){z(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function D(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(e,t,r,n,i){return t=+t,r>>>=0,i||D(e,0,r,4),o.write(e,t,r,n,23,4),r+4}function U(e,t,r,n,i){return t=+t,r>>>=0,i||D(e,0,r,8),o.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||T(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||T(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||T(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||T(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||T(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=Q((function(e){J(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||$(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),c.prototype.readBigUInt64BE=Q((function(e){J(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||$(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),c.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return e>>>=0,t||T(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||T(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){e>>>=0,t||T(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||T(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||T(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=Q((function(e){J(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||$(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=Q((function(e){J(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||$(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||T(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||T(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||T(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||T(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||N(this,e,t,r,Math.pow(2,8*r)-1,0);let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||N(this,e,t,r,Math.pow(2,8*r)-1,0);let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=Q((function(e,t=0){return I(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=Q((function(e,t=0){return B(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);N(this,e,t,r,n-1,-n)}let i=0,o=1,a=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);N(this,e,t,r,n-1,-n)}let i=r-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=Q((function(e,t=0){return I(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=Q((function(e,t=0){return B(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,r){return L(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return L(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return U(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return U(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},c.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{const o=c.isBuffer(e)?e:c.from(e,n),a=o.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%a]}return this};const q={};function F(e,t,r){q[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function W(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function z(e,t,r,n,i,o){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new q.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){J(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||$(t,e.length-(r+1))}(n,i,o)}function J(e,t){if("number"!=typeof e)throw new q.ERR_INVALID_ARG_TYPE(t,"number",e)}function $(e,t,r){if(Math.floor(e)!==e)throw J(e,r),new q.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new q.ERR_BUFFER_OUT_OF_BOUNDS;throw new q.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}F("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),F("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),F("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=W(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=W(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const H=/[^+/0-9A-Za-z-_]/g;function G(e,t){let r;t=t||1/0;const n=e.length;let i=null;const o=[];for(let a=0;a<n;++a){if(r=e.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function V(e){return i.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function K(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Y(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function X(e){return e!=e}const Z=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function Q(e){return"undefined"==typeof BigInt?ee:e}function ee(){throw new Error("BigInt not supported")}},2680:(e,t,r)=>{"use strict";var n=r(7286),i=r(9429),o=i(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&o(e,".prototype.")>-1?i(r):r}},9429:(e,t,r)=>{"use strict";var n=r(4090),i=r(7286),o=i("%Function.prototype.apply%"),a=i("%Function.prototype.call%"),s=i("%Reflect.apply%",!0)||n.call(a,o),u=i("%Object.getOwnPropertyDescriptor%",!0),c=i("%Object.defineProperty%",!0),l=i("%Math.max%");if(c)try{c({},"a",{value:1})}catch(e){c=null}e.exports=function(e){var t=s(n,a,arguments);if(u&&c){var r=u(t,"length");r.configurable&&c(t,"length",{value:1+l(0,e.length-(arguments.length-1))})}return t};var f=function(){return s(n,o,arguments)};c?c(e.exports,"apply",{value:f}):e.exports.apply=f},3716:(e,t,r)=>{var n=r(3335),i=r(5778);function o(){return(new Date).getTime()}var a,s=Array.prototype.slice,u={};a=void 0!==r.g&&r.g.console?r.g.console:"undefined"!=typeof window&&window.console?window.console:{};for(var c=[[function(){},"log"],[function(){a.log.apply(a,arguments)},"info"],[function(){a.log.apply(a,arguments)},"warn"],[function(){a.warn.apply(a,arguments)},"error"],[function(e){u[e]=o()},"time"],[function(e){var t=u[e];if(!t)throw new Error("No such label: "+e);delete u[e];var r=o()-t;a.log(e+": "+r+"ms")},"timeEnd"],[function(){var e=new Error;e.name="Trace",e.message=n.format.apply(null,arguments),a.error(e.stack)},"trace"],[function(e){a.log(n.inspect(e)+"\n")},"dir"],[function(e){if(!e){var t=s.call(arguments,1);i.ok(!1,n.format.apply(null,t))}},"assert"]],l=0;l<c.length;l++){var f=c[l],d=f[0],h=f[1];a[h]||(a[h]=d)}e.exports=a},7646:(e,t,r)=>{var n=r(8834).Buffer;function i(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===i(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===i(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===i(e)},t.isError=function(e){return"[object Error]"===i(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n.isBuffer},4924:(e,t,r)=>{"use strict";r.r(t),r.d(t,{BrowserInfo:()=>o,NodeInfo:()=>a,SearchBotDeviceInfo:()=>s,BotInfo:()=>u,ReactNativeInfo:()=>c,detect:()=>h,browserName:()=>g,parseUserAgent:()=>y,detectOS:()=>b,getNodeVersion:()=>m});var n=r(4406),i=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},o=function(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"},a=function(e){this.version=e,this.type="node",this.name="node",this.os=n.platform},s=function(e,t,r,n){this.name=e,this.version=t,this.os=r,this.bot=n,this.type="bot-device"},u=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},c=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},l=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,f=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],d=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function h(e){return e?y(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new c:"undefined"!=typeof navigator?y(navigator.userAgent):m()}function p(e){return""!==e&&f.reduce((function(t,r){var n=r[0],i=r[1];if(t)return t;var o=i.exec(e);return!!o&&[n,o]}),!1)}function g(e){var t=p(e);return t?t[0]:null}function y(e){var t=p(e);if(!t)return null;var r=t[0],n=t[1];if("searchbot"===r)return new u;var a=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);a?a.length<3&&(a=i(i([],a,!0),function(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}(3-a.length),!0)):a=[];var c=a.join("."),f=b(e),d=l.exec(e);return d&&d[1]?new s(r,c,f,d[1]):new o(r,c,f)}function b(e){for(var t=0,r=d.length;t<r;t++){var n=d[t],i=n[0];if(n[1].exec(e))return i}return null}function m(){return void 0!==n&&n.version?new a(n.version.slice(1)):null}},8797:(e,t,r)=>{var n=r(4406),i=r(9928),o=function(){},a=function(e,t,r){if("function"==typeof t)return a(e,null,t);t||(t={}),r=i(r||o);var s=e._writableState,u=e._readableState,c=t.readable||!1!==t.readable&&e.readable,l=t.writable||!1!==t.writable&&e.writable,f=!1,d=function(){e.writable||h()},h=function(){l=!1,c||r.call(e)},p=function(){c=!1,l||r.call(e)},g=function(t){r.call(e,t?new Error("exited with error code: "+t):null)},y=function(t){r.call(e,t)},b=function(){n.nextTick(m)},m=function(){if(!f)return(!c||u&&u.ended&&!u.destroyed)&&(!l||s&&s.ended&&!s.destroyed)?void 0:r.call(e,new Error("premature close"))},w=function(){e.req.on("finish",h)};return function(e){return e.setHeader&&"function"==typeof e.abort}(e)?(e.on("complete",h),e.on("abort",b),e.req?w():e.on("request",w)):l&&!s&&(e.on("end",d),e.on("close",d)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(e)&&e.on("exit",g),e.on("end",p),e.on("finish",h),!1!==t.error&&e.on("error",y),e.on("close",b),function(){f=!0,e.removeListener("complete",h),e.removeListener("abort",b),e.removeListener("request",w),e.req&&e.req.removeListener("finish",h),e.removeListener("end",d),e.removeListener("close",d),e.removeListener("finish",h),e.removeListener("exit",g),e.removeListener("end",p),e.removeListener("error",y),e.removeListener("close",b)}};e.exports=a},4723:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EthereumProviderError=t.EthereumRpcError=void 0;const n=r(7847);class i extends Error{constructor(e,t,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw new Error('"message" must be a nonempty string.');super(t),this.code=e,void 0!==r&&(this.data=r)}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return n.default(this.serialize(),o,2)}}function o(e,t){if("[Circular]"!==t)return t}t.EthereumRpcError=i,t.EthereumProviderError=class extends i{constructor(e,t,r){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,r)}}},4792:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorValues=t.errorCodes=void 0,t.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},t.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}},8159:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ethErrors=void 0;const n=r(4723),i=r(894),o=r(4792);function a(e,t){const[r,o]=u(t);return new n.EthereumRpcError(e,r||i.getMessageFromCode(e),o)}function s(e,t){const[r,o]=u(t);return new n.EthereumProviderError(e,r||i.getMessageFromCode(e),o)}function u(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&"string"!=typeof t)throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}t.ethErrors={rpc:{parse:e=>a(o.errorCodes.rpc.parse,e),invalidRequest:e=>a(o.errorCodes.rpc.invalidRequest,e),invalidParams:e=>a(o.errorCodes.rpc.invalidParams,e),methodNotFound:e=>a(o.errorCodes.rpc.methodNotFound,e),internal:e=>a(o.errorCodes.rpc.internal,e),server:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return a(t,e)},invalidInput:e=>a(o.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>a(o.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>a(o.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>a(o.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>a(o.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>a(o.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>s(o.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>s(o.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>s(o.errorCodes.provider.unsupportedMethod,e),disconnected:e=>s(o.errorCodes.provider.disconnected,e),chainDisconnected:e=>s(o.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:r,data:i}=e;if(!r||"string"!=typeof r)throw new Error('"message" must be a nonempty string');return new n.EthereumProviderError(t,r,i)}}}},8094:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const n=r(4723);Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return n.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return n.EthereumProviderError}});const i=r(894);Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return i.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return i.getMessageFromCode}});const o=r(8159);Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return o.ethErrors}});const a=r(4792);Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return a.errorCodes}})},894:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const n=r(4792),i=r(4723),o=n.errorCodes.rpc.internal,a={code:o,message:s(o)};function s(e,r="Unspecified error message. This is a bug, please report it."){if(Number.isInteger(e)){const r=e.toString();if(f(n.errorValues,r))return n.errorValues[r].message;if(c(e))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return r}function u(e){if(!Number.isInteger(e))return!1;const t=e.toString();return!!n.errorValues[t]||!!c(e)}function c(e){return e>=-32099&&e<=-32e3}function l(e){return e&&"object"==typeof e&&!Array.isArray(e)?Object.assign({},e):e}function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",t.getMessageFromCode=s,t.isValidCode=u,t.serializeError=function(e,{fallbackError:t=a,shouldIncludeStack:r=!1}={}){var n,o;if(!t||!Number.isInteger(t.code)||"string"!=typeof t.message)throw new Error("Must provide fallback error with integer number code and string message.");if(e instanceof i.EthereumRpcError)return e.serialize();const c={};if(e&&"object"==typeof e&&!Array.isArray(e)&&f(e,"code")&&u(e.code)){const t=e;c.code=t.code,t.message&&"string"==typeof t.message?(c.message=t.message,f(t,"data")&&(c.data=t.data)):(c.message=s(c.code),c.data={originalError:l(e)})}else{c.code=t.code;const r=null===(n=e)||void 0===n?void 0:n.message;c.message=r&&"string"==typeof r?r:t.message,c.data={originalError:l(e)}}const d=null===(o=e)||void 0===o?void 0:o.stack;return r&&e&&d&&"string"==typeof d&&(c.stack=d),c}},2699:(e,t,r)=>{"use strict";var n,i=r(3716),o="object"==typeof Reflect?Reflect:null,a=o&&"function"==typeof o.apply?o.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function u(){u.init.call(this)}e.exports=u,e.exports.once=function(e,t){return new Promise((function(r,n){function i(){void 0!==o&&e.removeListener("error",o),r([].slice.call(arguments))}var o;"error"!==t&&(o=function(r){e.removeListener(t,i),n(r)},e.once("error",o)),e.once(t,i)}))},u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var c=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function f(e){return void 0===e._maxListeners?u.defaultMaxListeners:e._maxListeners}function d(e,t,r,n){var o,a,s,u;if(l(r),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),s=a[t]),void 0===s)s=a[t]=r,++e._eventsCount;else if("function"==typeof s?s=a[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(o=f(e))>0&&s.length>o&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,u=c,i&&i.warn&&i.warn(u)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=h.bind(n);return i.listener=r,n.wrapFn=i,i}function g(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):b(i,i.length)}function y(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function b(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),u.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},u.prototype.getMaxListeners=function(){return f(this)},u.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)a(u,this,t);else{var c=u.length,l=b(u,c);for(r=0;r<c;++r)a(l[r],this,t)}return!0},u.prototype.addListener=function(e,t){return d(this,e,t,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(e,t){return d(this,e,t,!0)},u.prototype.once=function(e,t){return l(t),this.on(e,p(this,e,t)),this},u.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,p(this,e,t)),this},u.prototype.removeListener=function(e,t){var r,n,i,o,a;if(l(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},u.prototype.listeners=function(e){return g(this,e,!0)},u.prototype.rawListeners=function(e){return g(this,e,!1)},u.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):y.call(e,t)},u.prototype.listenerCount=y,u.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},3274:(e,t,r)=>{"use strict";var n=r(8834).Buffer;const i=r(4851);e.exports=class extends i.Duplex{constructor(e){super({objectMode:!0}),this._port=e,this._port.onMessage.addListener((e=>this._onMessage(e))),this._port.onDisconnect.addListener((()=>this._onDisconnect()))}_onMessage(e){if(n.isBuffer(e)){const t=n.from(e);this.push(t)}else this.push(e)}_onDisconnect(){this.destroy()}_read(){}_write(e,t,r){try{if(n.isBuffer(e)){const t=e.toJSON();t._isBuffer=!0,this._port.postMessage(t)}else this._port.postMessage(e)}catch(e){return r(new Error("PortDuplexStream - disconnected"))}return r()}}},7847:e=>{e.exports=n,n.default=n,n.stable=a,n.stableStringify=a;var t=[],r=[];function n(e,n,o){var a;for(i(e,"",[],void 0),a=0===r.length?JSON.stringify(e,n,o):JSON.stringify(e,u(n),o);0!==t.length;){var s=t.pop();4===s.length?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}return a}function i(e,n,o,a){var s;if("object"==typeof e&&null!==e){for(s=0;s<o.length;s++)if(o[s]===e){var u=Object.getOwnPropertyDescriptor(a,n);return void(void 0!==u.get?u.configurable?(Object.defineProperty(a,n,{value:"[Circular]"}),t.push([a,n,e,u])):r.push([e,n]):(a[n]="[Circular]",t.push([a,n,e])))}if(o.push(e),Array.isArray(e))for(s=0;s<e.length;s++)i(e[s],s,o,e);else{var c=Object.keys(e);for(s=0;s<c.length;s++){var l=c[s];i(e[l],l,o,e)}}o.pop()}}function o(e,t){return e<t?-1:e>t?1:0}function a(e,n,i){var o,a=s(e,"",[],void 0)||e;for(o=0===r.length?JSON.stringify(a,n,i):JSON.stringify(a,u(n),i);0!==t.length;){var c=t.pop();4===c.length?Object.defineProperty(c[0],c[1],c[3]):c[0][c[1]]=c[2]}return o}function s(e,n,i,a){var u;if("object"==typeof e&&null!==e){for(u=0;u<i.length;u++)if(i[u]===e){var c=Object.getOwnPropertyDescriptor(a,n);return void(void 0!==c.get?c.configurable?(Object.defineProperty(a,n,{value:"[Circular]"}),t.push([a,n,e,c])):r.push([e,n]):(a[n]="[Circular]",t.push([a,n,e])))}if("function"==typeof e.toJSON)return;if(i.push(e),Array.isArray(e))for(u=0;u<e.length;u++)s(e[u],u,i,e);else{var l={},f=Object.keys(e).sort(o);for(u=0;u<f.length;u++){var d=f[u];s(e[d],d,i,e),l[d]=e[d]}if(void 0===a)return l;t.push([a,n,e]),a[n]=l}i.pop()}}function u(e){return e=void 0!==e?e:function(e,t){return t},function(t,n){if(r.length>0)for(var i=0;i<r.length;i++){var o=r[i];if(o[1]===t&&o[0]===n){n="[Circular]",r.splice(i,1);break}}return e.call(this,t,n)}}},6388:e=>{var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString;e.exports=function(e,n,i){if("[object Function]"!==r.call(n))throw new TypeError("iterator must be a function");var o=e.length;if(o===+o)for(var a=0;a<o;a++)n.call(i,e[a],a,e);else for(var s in e)t.call(e,s)&&n.call(i,e[s],s,e)}},7795:e=>{"use strict";var t="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,n=Object.prototype.toString,i="[object Function]";e.exports=function(e){var o=this;if("function"!=typeof o||n.call(o)!==i)throw new TypeError(t+o);for(var a,s=r.call(arguments,1),u=function(){if(this instanceof a){var t=o.apply(this,s.concat(r.call(arguments)));return Object(t)===t?t:this}return o.apply(e,s.concat(r.call(arguments)))},c=Math.max(0,o.length-s.length),l=[],f=0;f<c;f++)l.push("$"+f);if(a=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(u),o.prototype){var d=function(){};d.prototype=o.prototype,a.prototype=new d,d.prototype=null}return a}},4090:(e,t,r)=>{"use strict";var n=r(7795);e.exports=Function.prototype.bind||n},7286:(e,t,r)=>{"use strict";var n,i=SyntaxError,o=Function,a=TypeError,s=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(e){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(e){u=null}var c=function(){throw new a},l=u?function(){try{return c}catch(e){try{return u(arguments,"callee").get}catch(e){return c}}}():c,f=r(4123)(),d=Object.getPrototypeOf||function(e){return e.__proto__},h={},p="undefined"==typeof Uint8Array?n:d(Uint8Array),g={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":f?d([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":h,"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":h,"%AsyncIteratorPrototype%":h,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":h,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f?d(d([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&f?d((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&f?d((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f?d(""[Symbol.iterator]()):n,"%Symbol%":f?Symbol:n,"%SyntaxError%":i,"%ThrowTypeError%":l,"%TypedArray%":p,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet},y=function e(t){var r;if("%AsyncFunction%"===t)r=s("async function () {}");else if("%GeneratorFunction%"===t)r=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=s("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(r=d(i.prototype))}return g[t]=r,r},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},m=r(4090),w=r(3198),v=m.call(Function.call,Array.prototype.concat),_=m.call(Function.apply,Array.prototype.splice),S=m.call(Function.call,String.prototype.replace),E=m.call(Function.call,String.prototype.slice),O=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,R=/\\(\\)?/g,M=function(e){var t=E(e,0,1),r=E(e,-1);if("%"===t&&"%"!==r)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var n=[];return S(e,O,(function(e,t,r,i){n[n.length]=r?S(i,R,"$1"):t||e})),n},j=function(e,t){var r,n=e;if(w(b,n)&&(n="%"+(r=b[n])[0]+"%"),w(g,n)){var o=g[n];if(o===h&&(o=y(n)),void 0===o&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new a('"allowMissing" argument must be a boolean');var r=M(e),n=r.length>0?r[0]:"",o=j("%"+n+"%",t),s=o.name,c=o.value,l=!1,f=o.alias;f&&(n=f[0],_(r,v([0,1],f)));for(var d=1,h=!0;d<r.length;d+=1){var p=r[d],y=E(p,0,1),b=E(p,-1);if(('"'===y||"'"===y||"`"===y||'"'===b||"'"===b||"`"===b)&&y!==b)throw new i("property names with quotes must have matching quotes");if("constructor"!==p&&h||(l=!0),w(g,s="%"+(n+="."+p)+"%"))c=g[s];else if(null!=c){if(!(p in c)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(u&&d+1>=r.length){var m=u(c,p);c=(h=!!m)&&"get"in m&&!("originalValue"in m.get)?m.get:c[p]}else h=w(c,p),c=c[p];h&&!l&&(g[s]=c)}}return c}},4123:(e,t,r)=>{"use strict";var n=r.g.Symbol,i=r(300);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&i()}},300:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},6679:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},7226:(e,t,r)=>{"use strict";var n=r(6679);e.exports=function(){return n()&&!!Symbol.toStringTag}},3198:(e,t,r)=>{"use strict";var n=r(4090);e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},2333:(e,t)=>{t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,f=r?i-1:0,d=r?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-l)-1,h>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=d,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+e[t+f],f+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),o-=c}return(h?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[r+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+h]=255&a,h+=p,a/=256,c-=8);e[r+h-p]|=128*g}},1285:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},2635:(e,t,r)=>{"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,i=r(2680)("Object.prototype.toString"),o=function(e){return!(n&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===i(e)},a=function(e){return!!o(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==i(e)&&"[object Function]"===i(e.callee)},s=function(){return o(arguments)}();o.isLegacyArguments=a,e.exports=s?o:a},3138:(e,t,r)=>{"use strict";var n,i=Object.prototype.toString,o=Function.prototype.toString,a=/^\s*(?:function)?\*/,s=r(7226)(),u=Object.getPrototypeOf;e.exports=function(e){if("function"!=typeof e)return!1;if(a.test(o.call(e)))return!0;if(!s)return"[object GeneratorFunction]"===i.call(e);if(!u)return!1;if(void 0===n){var t=function(){if(!s)return!1;try{return Function("return function*() {}")()}catch(e){}}();n=!!t&&u(t)}return u(e)===n}},8607:e=>{"use strict";const t=e=>null!==e&&"object"==typeof e&&"function"==typeof e.pipe;t.writable=e=>t(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState,t.readable=e=>t(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState,t.duplex=e=>t.writable(e)&&t.readable(e),t.transform=e=>t.duplex(e)&&"function"==typeof e._transform&&"object"==typeof e._transformState,e.exports=t},198:(e,t,r)=>{"use strict";var n=r(6388),i=r(2191),o=r(2680),a=o("Object.prototype.toString"),s=r(7226)(),u="undefined"==typeof globalThis?r.g:globalThis,c=i(),l=o("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},f=o("String.prototype.slice"),d={},h=r(7342),p=Object.getPrototypeOf;s&&h&&p&&n(c,(function(e){var t=new u[e];if(Symbol.toStringTag in t){var r=p(t),n=h(r,Symbol.toStringTag);if(!n){var i=p(r);n=h(i,Symbol.toStringTag)}d[e]=n.get}})),e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!s||!(Symbol.toStringTag in e)){var t=f(a(e),8,-1);return l(c,t)>-1}return!!h&&function(e){var t=!1;return n(d,(function(r,n){if(!t)try{t=r.call(e)===n}catch(e){}})),t}(e)}},7906:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},2539:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.JsonRpcEngine=void 0;const i=n(r(3795)),o=r(8094);class a extends i.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,t){if(t&&"function"!=typeof t)throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?t?this._handleBatch(e,t):this._handleBatch(e):t?this._handle(e,t):this._promiseHandle(e)}asMiddleware(){return async(e,t,r,n)=>{try{const[i,o,s]=await a._runAllMiddleware(e,t,this._middleware);return o?(await a._runReturnHandlers(s),n(i)):r((async e=>{try{await a._runReturnHandlers(s)}catch(t){return e(t)}return e()}))}catch(e){return n(e)}}}async _handleBatch(e,t){try{const r=await Promise.all(e.map(this._promiseHandle.bind(this)));return t?t(null,r):r}catch(e){if(t)return t(e);throw e}}_promiseHandle(e){return new Promise((t=>{this._handle(e,((e,r)=>{t(r)}))}))}async _handle(e,t){if(!e||Array.isArray(e)||"object"!=typeof e){const r=new o.EthereumRpcError(o.errorCodes.rpc.invalidRequest,"Requests must be plain objects. Received: "+typeof e,{request:e});return t(r,{id:void 0,jsonrpc:"2.0",error:r})}if("string"!=typeof e.method){const r=new o.EthereumRpcError(o.errorCodes.rpc.invalidRequest,"Must specify a string method. Received: "+typeof e.method,{request:e});return t(r,{id:e.id,jsonrpc:"2.0",error:r})}const r=Object.assign({},e),n={id:r.id,jsonrpc:r.jsonrpc};let i=null;try{await this._processRequest(r,n)}catch(e){i=e}return i&&(delete n.result,n.error||(n.error=o.serializeError(i))),t(i,n)}async _processRequest(e,t){const[r,n,i]=await a._runAllMiddleware(e,t,this._middleware);if(a._checkForCompletion(e,t,n),await a._runReturnHandlers(i),r)throw r}static async _runAllMiddleware(e,t,r){const n=[];let i=null,o=!1;for(const s of r)if([i,o]=await a._runMiddleware(e,t,s,n),o)break;return[i,o,n.reverse()]}static _runMiddleware(e,t,r,n){return new Promise((i=>{const a=e=>{const r=e||t.error;r&&(t.error=o.serializeError(r)),i([r,!0])},u=r=>{t.error?a(t.error):(r&&("function"!=typeof r&&a(new o.EthereumRpcError(o.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof r}" for request:\n${s(e)}`,{request:e})),n.push(r)),i([null,!1]))};try{r(e,t,u,a)}catch(e){a(e)}}))}static async _runReturnHandlers(e){for(const t of e)await new Promise(((e,r)=>{t((t=>t?r(t):e()))}))}static _checkForCompletion(e,t,r){if(!("result"in t)&&!("error"in t))throw new o.EthereumRpcError(o.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:\n${s(e)}`,{request:e});if(!r)throw new o.EthereumRpcError(o.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:\n${s(e)}`,{request:e})}}function s(e){return JSON.stringify(e,null,2)}t.JsonRpcEngine=a},7573:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAsyncMiddleware=void 0,t.createAsyncMiddleware=function(e){return async(t,r,n,i)=>{let o;const a=new Promise((e=>{o=e}));let s=null,u=!1;const c=async()=>{u=!0,n((e=>{s=e,o()})),await a};try{await e(t,r,c),u?(await a,s(null)):i(null)}catch(e){s?s(e):i(e)}}}},9141:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createScaffoldMiddleware=void 0,t.createScaffoldMiddleware=function(e){return(t,r,n,i)=>{const o=e[t.method];return void 0===o?n():"function"==typeof o?o(t,r,n,i):(r.result=o,i())}}},5104:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUniqueId=void 0;const r=4294967295;let n=Math.floor(Math.random()*r);t.getUniqueId=function(){return n=(n+1)%r,n}},169:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createIdRemapMiddleware=void 0;const n=r(5104);t.createIdRemapMiddleware=function(){return(e,t,r,i)=>{const o=e.id,a=n.getUniqueId();e.id=a,t.id=a,r((r=>{e.id=o,t.id=o,r()}))}}},1280:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(169),t),i(r(7573),t),i(r(9141),t),i(r(5104),t),i(r(2539),t),i(r(1759),t)},1759:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeMiddleware=void 0;const n=r(2539);t.mergeMiddleware=function(e){const t=new n.JsonRpcEngine;return e.forEach((e=>t.push(e))),t.asMiddleware()}},2408:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(7525);t.default=function(e){if(!e||!e.engine)throw new Error("Missing engine parameter!");const{engine:t}=e,r=new n.Duplex({objectMode:!0,read:function(){},write:function(e,n,i){t.handle(e,((e,t)=>{r.push(t)})),i()}});return t.on&&t.on("notification",(e=>{r.push(e)})),r}},3603:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(3795)),o=r(7525);t.default=function(){const e={},t=new o.Duplex({objectMode:!0,read:function(){return!1},write:function(t,n,i){let o;try{t.id?function(t){const r=e[t.id];if(!r)throw new Error(`StreamMiddleware - Unknown response id "${t.id}"`);delete e[t.id],Object.assign(r.res,t),setTimeout(r.end)}(t):function(e){r.emit("notification",e)}(t)}catch(e){o=e}i(o)}}),r=new i.default;return{events:r,middleware:(r,n,i,o)=>{t.push(r),e[r.id]={req:r,res:n,next:i,end:o}},stream:t}}},1384:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createStreamMiddleware=t.createEngineStream=void 0;const i=n(r(2408));t.createEngineStream=i.default;const o=n(r(3603));t.createStreamMiddleware=o.default},7320:e=>{"use strict";var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var a,s,u=i(e),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))r.call(a,l)&&(u[l]=a[l]);if(t){s=t(a);for(var f=0;f<s.length;f++)n.call(a,s[f])&&(u[s[f]]=a[s[f]])}}return u}},9928:(e,t,r)=>{var n=r(8892);function i(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}e.exports=n(i),e.exports.strict=n(o),i.proto=i((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})}))},2884:(e,t,r)=>{"use strict";var n=r(4406);void 0===n||!n.version||0===n.version.indexOf("v0.")||0===n.version.indexOf("v1.")&&0!==n.version.indexOf("v1.8.")?e.exports={nextTick:function(e,t,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return n.nextTick(e);case 2:return n.nextTick((function(){e.call(null,t)}));case 3:return n.nextTick((function(){e.call(null,t,r)}));case 4:return n.nextTick((function(){e.call(null,t,r,i)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return n.nextTick((function(){e.apply(null,o)}))}}}:e.exports=n},4406:e=>{var t,r,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var s,u=[],c=!1,l=-1;function f(){c&&s&&(c=!1,s.length?u=s.concat(u):l=-1,u.length&&d())}function d(){if(!c){var e=a(f);c=!0;for(var t=u.length;t;){for(s=u,u=[];++l<t;)s&&s[l].run();l=-1,t=u.length}s=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new h(e,t)),1!==u.length||c||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},3171:(e,t,r)=>{var n=r(4406),i=r(9928),o=r(8797),a=r(3558),s=function(){},u=/^v?\.0/.test(n.version),c=function(e){return"function"==typeof e},l=function(e,t,r,n){n=i(n);var l=!1;e.on("close",(function(){l=!0})),o(e,{readable:t,writable:r},(function(e){if(e)return n(e);l=!0,n()}));var f=!1;return function(t){if(!l&&!f)return f=!0,function(e){return!!u&&!!a&&(e instanceof(a.ReadStream||s)||e instanceof(a.WriteStream||s))&&c(e.close)}(e)?e.close(s):function(e){return e.setHeader&&c(e.abort)}(e)?e.abort():c(e.destroy)?e.destroy():void n(t||new Error("stream was destroyed"))}},f=function(e){e()},d=function(e,t){return e.pipe(t)};e.exports=function(){var e,t=Array.prototype.slice.call(arguments),r=c(t[t.length-1]||s)&&t.pop()||s;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var n=t.map((function(i,o){var a=o<t.length-1;return l(i,a,o>0,(function(t){e||(e=t),t&&n.forEach(f),a||(n.forEach(f),r(e))}))}));return t.reduce(d)}},7073:(e,t,r)=>{"use strict";var n=r(2884),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=f;var o=Object.create(r(7646));o.inherits=r(1285);var a=r(8051),s=r(2557);o.inherits(f,a);for(var u=i(s.prototype),c=0;c<u.length;c++){var l=u[c];f.prototype[l]||(f.prototype[l]=s.prototype[l])}function f(e){if(!(this instanceof f))return new f(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||n.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},5163:(e,t,r)=>{"use strict";e.exports=o;var n=r(7640),i=Object.create(r(7646));function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}i.inherits=r(1285),i.inherits(o,n),o.prototype._transform=function(e,t,r){r(null,e)}},8051:(e,t,r)=>{"use strict";var n=r(4406),i=r(2884);e.exports=w;var o,a=r(7906);w.ReadableState=m,r(2699).EventEmitter;var s=function(e,t){return e.listeners(t).length},u=r(5010),c=r(2521).Buffer,l=r.g.Uint8Array||function(){},f=Object.create(r(7646));f.inherits=r(1285);var d=r(6602),h=void 0;h=d&&d.debuglog?d.debuglog("stream"):function(){};var p,g=r(9128),y=r(2262);f.inherits(w,u);var b=["error","close","destroy","pause","resume"];function m(e,t){e=e||{};var n=t instanceof(o=o||r(7073));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=r(1922).s),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function w(e){if(o=o||r(7073),!(this instanceof w))return new w(e);this._readableState=new m(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function v(e,t,r,n,i){var o,a=e._readableState;return null===t?(a.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,O(e)}}(e,a)):(i||(o=function(e,t){var r,n;return n=t,c.isBuffer(n)||n instanceof l||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),n?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):_(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?_(e,a,t,!1):M(e,a)):_(e,a,t,!1))):n||(a.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function _(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&O(e)),M(e,t)}Object.defineProperty(w.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),w.prototype.destroy=y.destroy,w.prototype._undestroy=y.undestroy,w.prototype._destroy=function(e,t){this.push(null),t(e)},w.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),r=!0),v(this,e,t,!1,r)},w.prototype.unshift=function(e){return v(this,e,null,!0,!1)},w.prototype.isPaused=function(){return!1===this._readableState.flowing},w.prototype.setEncoding=function(e){return p||(p=r(1922).s),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var S=8388608;function E(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=S?e=S:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function O(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(R,e):R(e))}function R(e){h("emit readable"),e.emit("readable"),A(e)}function M(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(j,e,t))}function j(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function P(e){h("readable nexttick read 0"),e.read(0)}function k(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),A(e),t.flowing&&!t.reading&&e.read(0)}function A(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function x(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0==(e-=a)){a===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=c.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,a),0==(e-=a)){a===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++i}return t.length-=i,r}(e,t),n}(e,t.buffer,t.decoder),r);var r}function C(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(T,t,e))}function T(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function N(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}w.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?C(this):O(this),null;if(0===(e=E(e,t))&&t.ended)return 0===t.length&&C(this),null;var n,i=t.needReadable;return h("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",i=!0),t.ended||t.reading?h("reading or ended",i=!1):i&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=E(r,t))),null===(n=e>0?x(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&C(this)),null!==n&&this.emit("data",n),n},w.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},w.prototype.pipe=function(e,t){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,h("pipe count=%d opts=%j",o.pipesCount,t);var u=t&&!1===t.end||e===n.stdout||e===n.stderr?m:c;function c(){h("onend"),e.end()}o.endEmitted?i.nextTick(u):r.once("end",u),e.on("unpipe",(function t(n,i){h("onunpipe"),n===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,h("cleanup"),e.removeListener("close",y),e.removeListener("finish",b),e.removeListener("drain",l),e.removeListener("error",g),e.removeListener("unpipe",t),r.removeListener("end",c),r.removeListener("end",m),r.removeListener("data",p),f=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}));var l=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,A(e))}}(r);e.on("drain",l);var f=!1,d=!1;function p(t){h("ondata"),d=!1,!1!==e.write(t)||d||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==N(o.pipes,e))&&!f&&(h("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,d=!0),r.pause())}function g(t){h("onerror",t),m(),e.removeListener("error",g),0===s(e,"error")&&e.emit("error",t)}function y(){e.removeListener("finish",b),m()}function b(){h("onfinish"),e.removeListener("close",y),m()}function m(){h("unpipe"),r.unpipe(e)}return r.on("data",p),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events.error?a(e._events.error)?e._events.error.unshift(r):e._events.error=[r,e._events.error]:e.on(t,r)}(e,"error",g),e.once("close",y),e.once("finish",b),e.emit("pipe",r),o.flowing||(h("pipe resume"),r.resume()),e},w.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var a=N(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},w.prototype.on=function(e,t){var r=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&O(this):i.nextTick(P,this))}return r},w.prototype.addListener=w.prototype.on,w.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(k,e,t))}(this,e)),this},w.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},w.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(h("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){h("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<b.length;o++)e.on(b[o],this.emit.bind(this,b[o]));return this._read=function(t){h("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(w.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),w._fromList=x},7640:(e,t,r)=>{"use strict";e.exports=a;var n=r(7073),i=Object.create(r(7646));function o(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);n.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush((function(t,r){u(e,t,r)})):u(this,null,null)}function u(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=r(1285),i.inherits(a,n),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,(function(e){t(e),r.emit("close")}))}},2557:(e,t,r)=>{"use strict";var n=r(4406),i=r(2884);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=b;var a,s=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?setImmediate:i.nextTick;b.WritableState=y;var u=Object.create(r(7646));u.inherits=r(1285);var c,l={deprecate:r(5803)},f=r(5010),d=r(2521).Buffer,h=r.g.Uint8Array||function(){},p=r(2262);function g(){}function y(e,t){a=a||r(7073),e=e||{};var n=t instanceof a;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var u=e.highWaterMark,c=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=u||0===u?u:n&&(c||0===c)?c:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===e.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,o){--t.pendingcb,r?(i.nextTick(o,n),i.nextTick(E,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(o(n),e._writableState.errorEmitted=!0,e.emit("error",n),E(e,t))}(e,r,n,t,o);else{var a=_(r);a||r.corked||r.bufferProcessing||!r.bufferedRequest||v(e,r),n?s(w,e,r,a,o):w(e,r,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function b(e){if(a=a||r(7073),!(c.call(b,this)||this instanceof a))return new b(e);this._writableState=new y(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),f.call(this)}function m(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function w(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),E(e,t)}function v(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),a=t.corkedRequestsFree;a.entry=r;for(var s=0,u=!0;r;)i[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;i.allBuffers=u,m(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,f=r.callback;if(m(e,t,!1,t.objectMode?1:c.length,c,l,f),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function _(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),E(e,t)}))}function E(e,t){var r=_(t);return r&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,i.nextTick(S,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}u.inherits(b,f),y.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(y.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===b&&e&&e._writableState instanceof y}})):c=function(e){return e instanceof this},b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},b.prototype.write=function(e,t,r){var n,o=this._writableState,a=!1,s=!o.objectMode&&(n=e,d.isBuffer(n)||n instanceof h);return s&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=g),o.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),i.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var o=!0,a=!1;return null===r?a=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),i.nextTick(n,a),o=!1),o}(this,o,e,r))&&(o.pendingcb++,a=function(e,t,r,n,i,o){if(!r){var a=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,r)),t}(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,s,n,i,o);return u}(this,o,s,e,t,r)),a},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||v(this,e))},b.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),b.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,E(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),b.prototype.destroy=p.destroy,b.prototype._undestroy=p.undestroy,b.prototype._destroy=function(e,t){this.end(),t(e)}},9128:(e,t,r)=>{"use strict";var n=r(2521).Buffer,i=r(4854);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,i=n.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=i,r=a,o.data.copy(t,r),a+=o.data.length,o=o.next;return i},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},2262:(e,t,r)=>{"use strict";var n=r(2884);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(n.nextTick(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},5010:(e,t,r)=>{e.exports=r(2699).EventEmitter},2521:(e,t,r)=>{var n=r(8834),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},1922:(e,t,r)=>{"use strict";var n=r(2521).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},7525:(e,t,r)=>{(t=e.exports=r(8051)).Stream=t,t.Readable=t,t.Writable=r(2557),t.Duplex=r(7073),t.Transform=r(7640),t.PassThrough=r(5163)},7834:(e,t,r)=>{var n=r(8834),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},4851:(e,t,r)=>{e.exports=i;var n=r(2699).EventEmitter;function i(){n.call(this)}r(1285)(i,n),i.Readable=r(3323),i.Writable=r(8234),i.Duplex=r(5929),i.Transform=r(9535),i.PassThrough=r(7706),i.finished=r(2529),i.pipeline=r(9125),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(r.on("end",s),r.on("close",u));var a=!1;function s(){a||(a=!0,e.end())}function u(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(l(),0===n.listenerCount(this,"error"))throw e}function l(){r.removeListener("data",i),e.removeListener("drain",o),r.removeListener("end",s),r.removeListener("close",u),r.removeListener("error",c),e.removeListener("error",c),r.removeListener("end",l),r.removeListener("close",l),e.removeListener("close",l)}return r.on("error",c),e.on("error",c),r.on("end",l),r.on("close",l),e.on("close",l),e.emit("pipe",r),e}},9150:e=>{"use strict";var t={};function r(e,r,n){n||(n=Error);var i=function(e){var t,n;function i(t,n,i){return e.call(this,function(e,t,n){return"string"==typeof r?r:r(e,t,n)}(t,n,i))||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(n);i.prototype.name=n.name,i.prototype.code=e,t[e]=i}function n(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){var i,o,a,s,u;if("string"==typeof t&&(o="not ",t.substr(0,o.length)===o)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))a="The ".concat(e," ").concat(i," ").concat(n(t,"type"));else{var c=("number"!=typeof u&&(u=0),u+".".length>(s=e).length||-1===s.indexOf(".",u)?"argument":"property");a='The "'.concat(e,'" ').concat(c," ").concat(i," ").concat(n(t,"type"))}return a+". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},5929:(e,t,r)=>{"use strict";var n=r(4406),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=l;var o=r(3323),a=r(8234);r(1285)(l,o);for(var s=i(a.prototype),u=0;u<s.length;u++){var c=s[u];l.prototype[c]||(l.prototype[c]=a.prototype[c])}function l(e){if(!(this instanceof l))return new l(e);o.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||n.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},7706:(e,t,r)=>{"use strict";e.exports=i;var n=r(9535);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(1285)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},3323:(e,t,r)=>{"use strict";var n,i=r(4406);e.exports=R,R.ReadableState=O,r(2699).EventEmitter;var o,a=function(e,t){return e.listeners(t).length},s=r(4811),u=r(8834).Buffer,c=r.g.Uint8Array||function(){},l=r(9255);o=l&&l.debuglog?l.debuglog("stream"):function(){};var f,d,h,p=r(3413),g=r(163),y=r(4774).getHighWaterMark,b=r(9150).q,m=b.ERR_INVALID_ARG_TYPE,w=b.ERR_STREAM_PUSH_AFTER_EOF,v=b.ERR_METHOD_NOT_IMPLEMENTED,_=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(1285)(R,s);var S=g.errorOrDestroy,E=["error","close","destroy","pause","resume"];function O(e,t,i){n=n||r(5929),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=y(this,e,"readableHighWaterMark",i),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=r(214).s),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function R(e){if(n=n||r(5929),!(this instanceof R))return new R(e);var t=this instanceof n;this._readableState=new O(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function M(e,t,r,n,i){o("readableAddChunk",t);var a,s=e._readableState;if(null===t)s.reading=!1,function(e,t){if(o("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?A(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,x(e)))}}(e,s);else if(i||(a=function(e,t){var r,n;return n=t,u.isBuffer(n)||n instanceof c||"string"==typeof t||void 0===t||e.objectMode||(r=new m("chunk",["string","Buffer","Uint8Array"],t)),r}(s,t)),a)S(e,a);else if(s.objectMode||t&&t.length>0)if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),n)s.endEmitted?S(e,new _):j(e,s,t,!0);else if(s.ended)S(e,new w);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?j(e,s,t,!1):C(e,s)):j(e,s,t,!1)}else n||(s.reading=!1,C(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function j(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&A(e)),C(e,t)}Object.defineProperty(R.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),R.prototype.destroy=g.destroy,R.prototype._undestroy=g.undestroy,R.prototype._destroy=function(e,t){t(e)},R.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=u.from(e,t),t=""),r=!0),M(this,e,t,!1,r)},R.prototype.unshift=function(e){return M(this,e,null,!0,!1)},R.prototype.isPaused=function(){return!1===this._readableState.flowing},R.prototype.setEncoding=function(e){f||(f=r(214).s);var t=new f(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var P=1073741824;function k(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=P?e=P:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function A(e){var t=e._readableState;o("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(o("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(x,e))}function x(e){var t=e._readableState;o("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,D(e)}function C(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(T,e,t))}function T(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(o("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function N(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function I(e){o("readable nexttick read 0"),e.read(0)}function B(e,t){o("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),D(e),t.flowing&&!t.reading&&e.read(0)}function D(e){var t=e._readableState;for(o("flow",t.flowing);t.flowing&&null!==e.read(););}function L(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function U(e){var t=e._readableState;o("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(q,t,e))}function q(e,t){if(o("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function F(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}R.prototype.read=function(e){o("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return o("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?U(this):A(this),null;if(0===(e=k(e,t))&&t.ended)return 0===t.length&&U(this),null;var n,i=t.needReadable;return o("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&o("length less than watermark",i=!0),t.ended||t.reading?o("reading or ended",i=!1):i&&(o("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=k(r,t))),null===(n=e>0?L(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&U(this)),null!==n&&this.emit("data",n),n},R.prototype._read=function(e){S(this,new v("_read()"))},R.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,o("pipe count=%d opts=%j",n.pipesCount,t);var s=t&&!1===t.end||e===i.stdout||e===i.stderr?g:u;function u(){o("onend"),e.end()}n.endEmitted?i.nextTick(s):r.once("end",s),e.on("unpipe",(function t(i,a){o("onunpipe"),i===r&&a&&!1===a.hasUnpiped&&(a.hasUnpiped=!0,o("cleanup"),e.removeListener("close",h),e.removeListener("finish",p),e.removeListener("drain",c),e.removeListener("error",d),e.removeListener("unpipe",t),r.removeListener("end",u),r.removeListener("end",g),r.removeListener("data",f),l=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}));var c=function(e){return function(){var t=e._readableState;o("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,D(e))}}(r);e.on("drain",c);var l=!1;function f(t){o("ondata");var i=e.write(t);o("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==F(n.pipes,e))&&!l&&(o("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function d(t){o("onerror",t),g(),e.removeListener("error",d),0===a(e,"error")&&S(e,t)}function h(){e.removeListener("finish",p),g()}function p(){o("onfinish"),e.removeListener("close",h),g()}function g(){o("unpipe"),r.unpipe(e)}return r.on("data",f),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events.error?Array.isArray(e._events.error)?e._events.error.unshift(r):e._events.error=[r,e._events.error]:e.on(t,r)}(e,"error",d),e.once("close",h),e.once("finish",p),e.emit("pipe",r),n.flowing||(o("pipe resume"),r.resume()),e},R.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=F(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},R.prototype.on=function(e,t){var r=s.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,o("on readable",n.length,n.reading),n.length?A(this):n.reading||i.nextTick(I,this))),r},R.prototype.addListener=R.prototype.on,R.prototype.removeListener=function(e,t){var r=s.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(N,this),r},R.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||i.nextTick(N,this),t},R.prototype.resume=function(){var e=this._readableState;return e.flowing||(o("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(B,e,t))}(this,e)),e.paused=!1,this},R.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},R.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(o("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){o("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<E.length;a++)e.on(E[a],this.emit.bind(this,E[a]));return this._read=function(t){o("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(R.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=r(4020)),d(this)}),Object.defineProperty(R.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(R.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(R.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),R._fromList=L,Object.defineProperty(R.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(R.from=function(e,t){return void 0===h&&(h=r(7324)),h(R,e,t)})},9535:(e,t,r)=>{"use strict";e.exports=l;var n=r(9150).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,a=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=n.ERR_TRANSFORM_WITH_LENGTH_0,u=r(5929);function c(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);u.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,r){d(e,t,r)}))}function d(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}r(1285)(l,u),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new i("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))}},8234:(e,t,r)=>{"use strict";var n,i=r(4406);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=R,R.WritableState=O;var a,s={deprecate:r(5803)},u=r(4811),c=r(8834).Buffer,l=r.g.Uint8Array||function(){},f=r(163),d=r(4774).getHighWaterMark,h=r(9150).q,p=h.ERR_INVALID_ARG_TYPE,g=h.ERR_METHOD_NOT_IMPLEMENTED,y=h.ERR_MULTIPLE_CALLBACK,b=h.ERR_STREAM_CANNOT_PIPE,m=h.ERR_STREAM_DESTROYED,w=h.ERR_STREAM_NULL_VALUES,v=h.ERR_STREAM_WRITE_AFTER_END,_=h.ERR_UNKNOWN_ENCODING,S=f.errorOrDestroy;function E(){}function O(e,t,a){n=n||r(5929),e=e||{},"boolean"!=typeof a&&(a=t instanceof n),this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if("function"!=typeof o)throw new y;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,o){--t.pendingcb,r?(i.nextTick(o,n),i.nextTick(x,e,t),e._writableState.errorEmitted=!0,S(e,n)):(o(n),e._writableState.errorEmitted=!0,S(e,n),x(e,t))}(e,r,n,t,o);else{var a=k(r)||e.destroyed;a||r.corked||r.bufferProcessing||!r.bufferedRequest||P(e,r),n?i.nextTick(j,e,r,a,o):j(e,r,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function R(e){var t=this instanceof(n=n||r(5929));if(!t&&!a.call(R,this))return new R(e);this._writableState=new O(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),u.call(this)}function M(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new m("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function j(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),x(e,t)}function P(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),a=t.corkedRequestsFree;a.entry=r;for(var s=0,u=!0;r;)i[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;i.allBuffers=u,M(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,f=r.callback;if(M(e,t,!1,t.objectMode?1:c.length,c,l,f),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function k(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function A(e,t){e._final((function(r){t.pendingcb--,r&&S(e,r),t.prefinished=!0,e.emit("prefinish"),x(e,t)}))}function x(e,t){var r=k(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,i.nextTick(A,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r(1285)(R,u),O.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(O.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(a=Function.prototype[Symbol.hasInstance],Object.defineProperty(R,Symbol.hasInstance,{value:function(e){return!!a.call(this,e)||this===R&&e&&e._writableState instanceof O}})):a=function(e){return e instanceof this},R.prototype.pipe=function(){S(this,new b)},R.prototype.write=function(e,t,r){var n,o=this._writableState,a=!1,s=!o.objectMode&&(n=e,c.isBuffer(n)||n instanceof l);return s&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=E),o.ending?function(e,t){var r=new v;S(e,r),i.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var o;return null===r?o=new w:"string"==typeof r||t.objectMode||(o=new p("chunk",["string","Buffer"],r)),!o||(S(e,o),i.nextTick(n,o),!1)}(this,o,e,r))&&(o.pendingcb++,a=function(e,t,r,n,i,o){if(!r){var a=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,r)),t}(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else M(e,t,!1,s,n,i,o);return u}(this,o,s,e,t,r)),a},R.prototype.cork=function(){this._writableState.corked++},R.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||P(this,e))},R.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new _(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(R.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(R.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),R.prototype._write=function(e,t,r){r(new g("_write()"))},R.prototype._writev=null,R.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,x(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(R.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(R.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),R.prototype.destroy=f.destroy,R.prototype._undestroy=f.undestroy,R.prototype._destroy=function(e,t){t(e)}},4020:(e,t,r)=>{"use strict";var n,i=r(4406);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(2529),s=Symbol("lastResolve"),u=Symbol("lastReject"),c=Symbol("error"),l=Symbol("ended"),f=Symbol("lastPromise"),d=Symbol("handlePromise"),h=Symbol("stream");function p(e,t){return{value:e,done:t}}function g(e){var t=e[s];if(null!==t){var r=e[h].read();null!==r&&(e[f]=null,e[s]=null,e[u]=null,t(p(r,!1)))}}function y(e){i.nextTick(g,e)}var b=Object.getPrototypeOf((function(){})),m=Object.setPrototypeOf((o(n={get stream(){return this[h]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[l])return Promise.resolve(p(void 0,!0));if(this[h].destroyed)return new Promise((function(t,r){i.nextTick((function(){e[c]?r(e[c]):t(p(void 0,!0))}))}));var r,n=this[f];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[l]?r(p(void 0,!0)):t[d](r,n)}),n)}}(n,this));else{var o=this[h].read();if(null!==o)return Promise.resolve(p(o,!1));r=new Promise(this[d])}return this[f]=r,r}},Symbol.asyncIterator,(function(){return this})),o(n,"return",(function(){var e=this;return new Promise((function(t,r){e[h].destroy(null,(function(e){e?r(e):t(p(void 0,!0))}))}))})),n),b);e.exports=function(e){var t,r=Object.create(m,(o(t={},h,{value:e,writable:!0}),o(t,s,{value:null,writable:!0}),o(t,u,{value:null,writable:!0}),o(t,c,{value:null,writable:!0}),o(t,l,{value:e._readableState.endEmitted,writable:!0}),o(t,d,{value:function(e,t){var n=r[h].read();n?(r[f]=null,r[s]=null,r[u]=null,e(p(n,!1))):(r[s]=e,r[u]=t)},writable:!0}),t));return r[f]=null,a(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[u];return null!==t&&(r[f]=null,r[s]=null,r[u]=null,t(e)),void(r[c]=e)}var n=r[s];null!==n&&(r[f]=null,r[s]=null,r[u]=null,n(p(void 0,!0))),r[l]=!0})),e.on("readable",y.bind(null,r)),r}},3413:(e,t,r)=>{"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=r(8834).Buffer,s=r(7267).inspect,u=s&&s.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r;return t=e,r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t,r,n,i=a.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,r=i,n=s,a.prototype.copy.call(t,r,n),s+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:u,value:function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],r&&o(t.prototype,r),e}()},163:(e,t,r)=>{"use strict";var n=r(4406);function i(e,t){a(e,t),o(e)}function o(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function a(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,s=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return s||u?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(a,this,e)):n.nextTick(a,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?n.nextTick(o,r):(r._writableState.errorEmitted=!0,n.nextTick(i,r,e)):n.nextTick(i,r,e):t?(n.nextTick(o,r),t(e)):n.nextTick(o,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},2529:(e,t,r)=>{"use strict";var n=r(9150).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var a=r.readable||!1!==r.readable&&t.readable,s=r.writable||!1!==r.writable&&t.writable,u=function(){t.writable||l()},c=t._writableState&&t._writableState.finished,l=function(){s=!1,c=!0,a||o.call(t)},f=t._readableState&&t._readableState.endEmitted,d=function(){a=!1,f=!0,s||o.call(t)},h=function(e){o.call(t,e)},p=function(){var e;return a&&!f?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):s&&!c?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},g=function(){t.req.on("finish",l)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",l),t.on("abort",p),t.req?g():t.on("request",g)):s&&!t._writableState&&(t.on("end",u),t.on("close",u)),t.on("end",d),t.on("finish",l),!1!==r.error&&t.on("error",h),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",g),t.req&&t.req.removeListener("finish",l),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",l),t.removeListener("end",d),t.removeListener("error",h),t.removeListener("close",p)}}},7324:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},9125:(e,t,r)=>{"use strict";var n,i=r(9150).q,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function u(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var s=!1;e.on("close",(function(){s=!0})),void 0===n&&(n=r(2529)),n(e,{readable:t,writable:i},(function(e){if(e)return o(e);s=!0,o()}));var u=!1;return function(t){if(!s&&!u)return u=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new a("pipe"))}}function c(e){e()}function l(e,t){return e.pipe(t)}function f(e){return e.length?"function"!=typeof e[e.length-1]?s:e.pop():s}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=f(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var a=t.map((function(e,r){var o=r<t.length-1;return u(e,o,r>0,(function(e){n||(n=e),e&&a.forEach(c),o||(a.forEach(c),i(n))}))}));return t.reduce(l)}},4774:(e,t,r)=>{"use strict";var n=r(9150).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},4811:(e,t,r)=>{e.exports=r(2699).EventEmitter},214:(e,t,r)=>{"use strict";var n=r(7834).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},4221:(e,t)=>{"use strict";function r(e,t){return"string"==typeof e}function n(e,t){return"2.0"===e}function i(e,t){return"number"==typeof e}function o(e,t){return Array.isArray(e)&&e.every((e=>!0))}function a(e,t){return(null!==e&&"object"==typeof e||"function"==typeof e)&&Object.entries(e).every((([e,t])=>r(e)))}Object.defineProperty(t,"__esModule",{value:!0}),t.isSnapRpc=t.isExecuteSnap=t.isPing=t.isAnyOfSnapNameSourceCodeEndowmentsTargetOriginJsonRpcRequestOKOKSnapRpcResult=t.isSnapRpcResult=t.isOK=t.isJsonRpcRequest=t.isOrigin=t.isTarget=t.isEndowments=t.isSourceCode=t.isSnapName=t.isJSONRPCParams=t.isJSONRPCParamsAsObject=t.isJSONRPCParamsAsArray=t.isJSONRPCMethod=t.isJSONRPCID=t.isNumberHo1ClIqD=t.isStringDoaGddGA=t.isJSONRPCString=t.isEndowment=void 0,t.isEndowment=r,t.isJSONRPCString=n,t.isStringDoaGddGA=function(e,t){return"string"==typeof e},t.isNumberHo1ClIqD=i,t.isJSONRPCID=function(e,t){return r(e)||i(e)},t.isJSONRPCMethod=function(e,t){return"string"==typeof e},t.isJSONRPCParamsAsArray=o,t.isJSONRPCParamsAsObject=a,t.isJSONRPCParams=function(e,t){return o(e)||a(e)},t.isSnapName=function(e,t){return"string"==typeof e},t.isSourceCode=function(e,t){return"string"==typeof e},t.isEndowments=function(e,t){return Array.isArray(e)&&e.every((e=>r(e)))},t.isTarget=function(e,t){return"string"==typeof e},t.isOrigin=function(e,t){return"string"==typeof e},t.isJsonRpcRequest=function(e,t){return(null!==e&&"object"==typeof e||"function"==typeof e)&&n(e.jsonrpc)&&(void 0===e.id||r(e.id)||i(e.id))&&r(e.method)&&(void 0===e.params||o(e.params)||a(e.params))&&Object.entries(e).filter((([e])=>!["jsonrpc","id","method","params"].includes(e))).every((([e,t])=>r(e)))},t.isOK=function(e,t){return"OK"===e},t.isSnapRpcResult=function(e,t){return!0},t.isAnyOfSnapNameSourceCodeEndowmentsTargetOriginJsonRpcRequestOKOKSnapRpcResult=function(e,t){return!0},t.isPing=function(e,t){return"function"==typeof e},t.isExecuteSnap=function(e,t){return"function"==typeof e},t.isSnapRpc=function(e,t){return"function"==typeof e}},132:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseSnapExecutor=void 0;const o=r(2972),a=r(9826),s=i(r(201)),u=r(4221),c=r(5930),l=r(2931),f=r(6455),d=r(6435),h={code:a.errorCodes.rpc.internal,message:"Execution Environment Error"};t.BaseSnapExecutor=class{constructor(e,t){this.snapRpcHandlers=new Map,this.commandStream=e,this.commandStream.on("data",this.onCommandRequest.bind(this)),this.rpcStream=t,this.methods=c.rpcMethods(this.startSnap.bind(this),((e,t,r)=>{const n=this.snapRpcHandlers.get(e);if(!n)throw new Error(`No RPC handler registered for snap "${e}`);return n(t,r)}))}errorHandler(e,t={}){const r=a.serializeError(e,{fallbackError:h,shouldIncludeStack:!0});this.notify({error:Object.assign(Object.assign({},r),{data:Object.assign(Object.assign({},t),{stack:r.stack})})})}async onCommandRequest(e){if(!u.isJsonRpcRequest(e))throw new Error("Command stream received a non Json Rpc Request");const{id:t,method:r,params:n}=e;if(void 0===t)throw new Error("Notifications not supported");if("rpc.discover"===r)return void this.respond(t,{result:s.default});const i=s.default.methods.find((e=>e.name===r));if(!i||!this.methods[r])return void this.respond(t,{error:a.ethErrors.rpc.methodNotFound({data:{method:r}}).serialize()});const o=l.sortParamKeys(i,n);try{const e=await this.methods[r](...o);this.respond(t,{result:e})}catch(e){this.respond(t,{error:a.serializeError(e,{fallbackError:h})})}}notify(e){this.commandStream.write(Object.assign(Object.assign({},e),{jsonrpc:"2.0"}))}respond(e,t){this.commandStream.write(Object.assign(Object.assign({},t),{id:e,jsonrpc:"2.0"}))}startSnap(e,t,r){n.log(`starting snap '${e}' in worker`),this.snapPromiseErrorHandler&&d.rootRealmGlobal.removeEventListener("unhandledrejection",this.snapPromiseErrorHandler),this.snapErrorHandler&&d.rootRealmGlobal.removeEventListener("error",this.snapErrorHandler),this.snapErrorHandler=t=>{this.errorHandler(t.error,{snapName:e})},this.snapPromiseErrorHandler=t=>{this.errorHandler(t.reason,{snapName:e})};const i=this.createSnapProvider(e);try{const e=f.createEndowments(i,r);new Compartment(Object.assign(Object.assign({},e),{window:Object.assign({},e),self:Object.assign({},e)})).evaluate(t),d.rootRealmGlobal.addEventListener("unhandledrejection",this.snapPromiseErrorHandler),d.rootRealmGlobal.addEventListener("error",this.snapErrorHandler)}catch(t){throw this.removeSnap(e),new Error(`Error while running snap '${e}': ${t.message}`)}}createSnapProvider(e){const t=new o.MetaMaskInpageProvider(this.rpcStream,{shouldSendMetadata:!1});return t.registerRpcMessageHandler=t=>{if(n.log("Worker: Registering RPC message handler",t),this.snapRpcHandlers.has(e))throw new Error("RPC handler already registered.");this.snapRpcHandlers.set(e,t)},t}removeSnap(e){this.snapRpcHandlers.delete(e)}}},3008:(e,t,r)=>{"use strict";var n=r(8834).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i={names:["Buffer"],factory:()=>({Buffer:n})};t.default=i},6455:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createEndowments=void 0;const i=r(6435),o=n(r(3008)),a=n(r(3941)),s=n(r(9191)),u=[o.default,a.default,s.default].reduce(((e,t)=>(t.names.forEach((r=>{e.set(r,t.factory)})),e)),new Map);t.createEndowments=function(e,t=[]){const r={};return t.reduce(((e,t)=>{if(u.has(t))Object.hasOwnProperty.call(r,t)||Object.assign(r,u.get(t)()),e[t]=r[t];else{if(!(t in i.rootRealmGlobal))throw new Error(`Unknown endowment: "${t}".`);{const r=i.rootRealmGlobal[t];e[t]=r}}return e}),{wallet:e})}},3941:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={names:["setTimeout","clearTimeout"],factory:()=>{const e=new Set;return{setTimeout:(t,r)=>{if("function"!=typeof t)throw new Error("The timeout handler must be a function. Received: "+typeof t);const n={handle:NaN};return n.handle=setTimeout((()=>{e.delete(n.handle),t()}),r),e.add(n.handle),n.handle},clearTimeout:t=>{e.has(t)&&(clearTimeout(t),e.delete(t))}}}};t.default=r},9191:function(e,t){"use strict";var r=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};Object.defineProperty(t,"__esModule",{value:!0});const n={names:["WebAssembly"],factory:()=>{const{compileStreaming:e,instantiateStreaming:t}=WebAssembly;return{WebAssembly:r(WebAssembly,["compileStreaming","instantiateStreaming"])}}};t.default=n},4509:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SNAP_STREAM_NAMES=void 0,(r=t.SNAP_STREAM_NAMES||(t.SNAP_STREAM_NAMES={})).JSON_RPC="jsonRpc",r.COMMAND="command"},6435:(e,t,r)=>{"use strict";var n;let i,o;if(Object.defineProperty(t,"__esModule",{value:!0}),t.rootRealmGlobalName=t.rootRealmGlobal=void 0,function(e){e.globalThis="globalThis",e.global="global",e.self="self",e.window="window"}(n||(n={})),"undefined"!=typeof globalThis)i=globalThis,o=n.globalThis;else if("undefined"!=typeof self)i=self,o=n.self;else if("undefined"!=typeof window)i=window,o=n.window;else{if(void 0===r.g)throw new Error("Unknown realm type; failed to identify global object.");i=r.g,o=n.global}const a=i;t.rootRealmGlobal=a;const s=o;t.rootRealmGlobalName=s},4562:(e,t,r)=>{"use strict";var n=r(3716);Object.defineProperty(t,"__esModule",{value:!0}),t.executeLockdownMore=void 0,t.executeLockdownMore=function(){try{const e=Reflect.ownKeys((new Compartment).globalThis),t=new Set(["eval","Function"]);new Set([...e]).forEach((e=>{const r=Reflect.getOwnPropertyDescriptor(globalThis,e);r&&(r.configurable&&(function(e){return"set"in e||"get"in e}(r)?Object.defineProperty(globalThis,e,{configurable:!1}):Object.defineProperty(globalThis,e,{configurable:!1,writable:!1})),t.has(e)&&harden(globalThis[e]))}))}catch(e){throw n.error("Protecting intrinsics failed:",e),e}}},2842:(e,t,r)=>{"use strict";var n=r(3716);Object.defineProperty(t,"__esModule",{value:!0}),t.executeLockdown=void 0,t.executeLockdown=function(){try{lockdown({consoleTaming:"unsafe",errorTaming:"unsafe",mathTaming:"unsafe",dateTaming:"unsafe",overrideTaming:"severe"})}catch(e){throw n.error("Lockdown failed:",e),e}}},5930:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rpcMethods=void 0;const n=r(4221);t.rpcMethods=function(e,t){return{ping:async()=>"OK",executeSnap:async(t,r,i)=>{if("string"!=typeof t)throw new Error("snapName is not a string");if("string"!=typeof r)throw new Error("sourceCode is not a string");if(void 0!==i&&!n.isEndowments(i))throw new Error("endowment is not a proper Endowments object");return e(t,r,i),"OK"},snapRpc:async(e,r,i)=>{if("string"!=typeof e)throw new Error("target is not a string");if("string"!=typeof r)throw new Error("origin is not a string");if(!n.isJsonRpcRequest(i))throw new Error("request is not a proper JSON RPC Request");return t(e,r,i)}}}},2931:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sortParamKeys=void 0,t.sortParamKeys=(e,t)=>{if(!t)return[];if(t instanceof Array)return t;const r=e.params.map((e=>e.name)).reduce(((e,t,r)=>Object.assign(Object.assign({},e),{[t]:r})),{});return Object.entries(t).sort((([e,t],[n,i])=>r[e]-r[n])).map((([e,t])=>t))}},1218:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IFrameSnapExecutor=void 0;const o=i(r(8392)),a=r(9679),s=i(r(3171)),u=r(132),c=r(4509);class l extends u.BaseSnapExecutor{static initialize(){n.log("Worker: Connecting to parent.");const e=new a.WindowPostMessageStream({name:"child",target:"parent",targetWindow:self.parent}),t=new o.default;s.default(e,t,e,(e=>{e&&n.error("Parent stream failure, closing worker.",e),self.close()}));const r=t.createStream(c.SNAP_STREAM_NAMES.COMMAND),i=t.createStream(c.SNAP_STREAM_NAMES.JSON_RPC);return new l(r,i)}}t.IFrameSnapExecutor=l},5803:(e,t,r)=>{var n=r(3716);function i(e){try{if(!r.g.localStorage)return!1}catch(e){return!1}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(i("noDeprecation"))return e;var r=!1;return function(){if(!r){if(i("throwDeprecation"))throw new Error(t);i("traceDeprecation")?n.trace(t):n.warn(t),r=!0}return e.apply(this,arguments)}}},82:e=>{e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},4895:(e,t,r)=>{"use strict";var n=r(2635),i=r(3138),o=r(2094),a=r(198);function s(e){return e.call.bind(e)}var u="undefined"!=typeof BigInt,c="undefined"!=typeof Symbol,l=s(Object.prototype.toString),f=s(Number.prototype.valueOf),d=s(String.prototype.valueOf),h=s(Boolean.prototype.valueOf);if(u)var p=s(BigInt.prototype.valueOf);if(c)var g=s(Symbol.prototype.valueOf);function y(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function b(e){return"[object Map]"===l(e)}function m(e){return"[object Set]"===l(e)}function w(e){return"[object WeakMap]"===l(e)}function v(e){return"[object WeakSet]"===l(e)}function _(e){return"[object ArrayBuffer]"===l(e)}function S(e){return"undefined"!=typeof ArrayBuffer&&(_.working?_(e):e instanceof ArrayBuffer)}function E(e){return"[object DataView]"===l(e)}function O(e){return"undefined"!=typeof DataView&&(E.working?E(e):e instanceof DataView)}t.isArgumentsObject=n,t.isGeneratorFunction=i,t.isTypedArray=a,t.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},t.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):a(e)||O(e)},t.isUint8Array=function(e){return"Uint8Array"===o(e)},t.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===o(e)},t.isUint16Array=function(e){return"Uint16Array"===o(e)},t.isUint32Array=function(e){return"Uint32Array"===o(e)},t.isInt8Array=function(e){return"Int8Array"===o(e)},t.isInt16Array=function(e){return"Int16Array"===o(e)},t.isInt32Array=function(e){return"Int32Array"===o(e)},t.isFloat32Array=function(e){return"Float32Array"===o(e)},t.isFloat64Array=function(e){return"Float64Array"===o(e)},t.isBigInt64Array=function(e){return"BigInt64Array"===o(e)},t.isBigUint64Array=function(e){return"BigUint64Array"===o(e)},b.working="undefined"!=typeof Map&&b(new Map),t.isMap=function(e){return"undefined"!=typeof Map&&(b.working?b(e):e instanceof Map)},m.working="undefined"!=typeof Set&&m(new Set),t.isSet=function(e){return"undefined"!=typeof Set&&(m.working?m(e):e instanceof Set)},w.working="undefined"!=typeof WeakMap&&w(new WeakMap),t.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(w.working?w(e):e instanceof WeakMap)},v.working="undefined"!=typeof WeakSet&&v(new WeakSet),t.isWeakSet=function(e){return v(e)},_.working="undefined"!=typeof ArrayBuffer&&_(new ArrayBuffer),t.isArrayBuffer=S,E.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&E(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=O;var R="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function M(e){return"[object SharedArrayBuffer]"===l(e)}function j(e){return void 0!==R&&(void 0===M.working&&(M.working=M(new R)),M.working?M(e):e instanceof R)}function P(e){return y(e,f)}function k(e){return y(e,d)}function A(e){return y(e,h)}function x(e){return u&&y(e,p)}function C(e){return c&&y(e,g)}t.isSharedArrayBuffer=j,t.isAsyncFunction=function(e){return"[object AsyncFunction]"===l(e)},t.isMapIterator=function(e){return"[object Map Iterator]"===l(e)},t.isSetIterator=function(e){return"[object Set Iterator]"===l(e)},t.isGeneratorObject=function(e){return"[object Generator]"===l(e)},t.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===l(e)},t.isNumberObject=P,t.isStringObject=k,t.isBooleanObject=A,t.isBigIntObject=x,t.isSymbolObject=C,t.isBoxedPrimitive=function(e){return P(e)||k(e)||A(e)||x(e)||C(e)},t.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(S(e)||j(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})}))},3335:(e,t,r)=>{var n=r(4406),i=r(3716),o=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},a=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(l(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,o=String(e).replace(a,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),s=n[r];r<i;s=n[++r])m(s)||!E(s)?o+=" "+s:o+=" "+l(s);return o},t.deprecate=function(e,r){if(void 0!==n&&!0===n.noDeprecation)return e;if(void 0===n)return function(){return t.deprecate(e,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(n.throwDeprecation)throw new Error(r);n.traceDeprecation?i.trace(r):i.error(r),o=!0}return e.apply(this,arguments)}};var s={},u=/^$/;if(n.env.NODE_DEBUG){var c=n.env.NODE_DEBUG;c=c.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),u=new RegExp("^"+c+"$","i")}function l(e,r){var n={seen:[],stylize:d};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),b(r)?n.showHidden=r:r&&t._extend(n,r),_(n.showHidden)&&(n.showHidden=!1),_(n.depth)&&(n.depth=2),_(n.colors)&&(n.colors=!1),_(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=f),h(n,e,n.depth)}function f(e,t){var r=l.styles[t];return r?"["+l.colors[r][0]+"m"+e+"["+l.colors[r][1]+"m":e}function d(e,t){return e}function h(e,r,n){if(e.customInspect&&r&&M(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return v(i)||(i=h(e,i,n)),i}var o=function(e,t){if(_(t))return e.stylize("undefined","undefined");if(v(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return w(t)?e.stylize(""+t,"number"):b(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}(e,r);if(o)return o;var a=Object.keys(r),s=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(r)),R(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return p(r);if(0===a.length){if(M(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(S(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(O(r))return e.stylize(Date.prototype.toString.call(r),"date");if(R(r))return p(r)}var c,l="",f=!1,d=["{","}"];return y(r)&&(f=!0,d=["[","]"]),M(r)&&(l=" [Function"+(r.name?": "+r.name:"")+"]"),S(r)&&(l=" "+RegExp.prototype.toString.call(r)),O(r)&&(l=" "+Date.prototype.toUTCString.call(r)),R(r)&&(l=" "+p(r)),0!==a.length||f&&0!=r.length?n<0?S(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),c=f?function(e,t,r,n,i){for(var o=[],a=0,s=t.length;a<s;++a)x(t,String(a))?o.push(g(e,t,r,n,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(g(e,t,r,n,i,!0))})),o}(e,r,n,s,a):a.map((function(t){return g(e,r,n,s,t,f)})),e.seen.pop(),function(e,t,r){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}(c,l,d)):d[0]+l+d[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function g(e,t,r,n,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),x(n,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=m(r)?h(e,u.value,null):h(e,u.value,r-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),_(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function y(e){return Array.isArray(e)}function b(e){return"boolean"==typeof e}function m(e){return null===e}function w(e){return"number"==typeof e}function v(e){return"string"==typeof e}function _(e){return void 0===e}function S(e){return E(e)&&"[object RegExp]"===j(e)}function E(e){return"object"==typeof e&&null!==e}function O(e){return E(e)&&"[object Date]"===j(e)}function R(e){return E(e)&&("[object Error]"===j(e)||e instanceof Error)}function M(e){return"function"==typeof e}function j(e){return Object.prototype.toString.call(e)}function P(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(e=e.toUpperCase(),!s[e])if(u.test(e)){var r=n.pid;s[e]=function(){var n=t.format.apply(t,arguments);i.error("%s %d: %s",e,r,n)}}else s[e]=function(){};return s[e]},t.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=r(4895),t.isArray=y,t.isBoolean=b,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=w,t.isString=v,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=_,t.isRegExp=S,t.types.isRegExp=S,t.isObject=E,t.isDate=O,t.types.isDate=O,t.isError=R,t.types.isNativeError=R,t.isFunction=M,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(82);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(){var e=new Date,t=[P(e.getHours()),P(e.getMinutes()),P(e.getSeconds())].join(":");return[e.getDate(),k[e.getMonth()],t].join(" ")}function x(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){i.log("%s - %s",A(),t.format.apply(t,arguments))},t.inherits=r(1285),t._extend=function(e,t){if(!t||!E(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var C="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function T(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(C&&e[C]){var t;if("function"!=typeof(t=e[C]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,i)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),C&&Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,o(e))},t.promisify.custom=C,t.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var i=t.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};e.apply(this,t).then((function(e){n.nextTick(a.bind(null,null,e))}),(function(e){n.nextTick(T.bind(null,e,a))}))}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,o(e)),t}},2094:(e,t,r)=>{"use strict";var n=r(6388),i=r(2191),o=r(2680),a=o("Object.prototype.toString"),s=r(7226)(),u="undefined"==typeof globalThis?r.g:globalThis,c=i(),l=o("String.prototype.slice"),f={},d=r(3494),h=Object.getPrototypeOf;s&&d&&h&&n(c,(function(e){if("function"==typeof u[e]){var t=new u[e];if(Symbol.toStringTag in t){var r=h(t),n=d(r,Symbol.toStringTag);if(!n){var i=h(r);n=d(i,Symbol.toStringTag)}f[e]=n.get}}}));var p=r(198);e.exports=function(e){return!!p(e)&&(s&&Symbol.toStringTag in e?function(e){var t=!1;return n(f,(function(r,n){if(!t)try{var i=r.call(e);i===n&&(t=i)}catch(e){}})),t}(e):l(a(e),8,-1))}},8892:e=>{e.exports=function e(t,r){if(t&&r)return e(t)(r);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){n[e]=t[e]})),n;function n(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var n=t.apply(this,e),i=e[e.length-1];return"function"==typeof n&&n!==i&&Object.keys(i).forEach((function(e){n[e]=i[e]})),n}}},7082:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectMultiplex=void 0;const o=r(7525),a=i(r(8797)),s=i(r(9928)),u=r(1274),c=Symbol("IGNORE_SUBSTREAM");class l extends o.Duplex{constructor(e={}){super(Object.assign(Object.assign({},e),{objectMode:!0})),this._substreams={}}createStream(e){if(this.destroyed)throw new Error(`ObjectMultiplex - parent stream for name "${e}" already destroyed`);if(this._readableState.ended||this._writableState.ended)throw new Error(`ObjectMultiplex - parent stream for name "${e}" already ended`);if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);const t=new u.Substream({parent:this,name:e});return this._substreams[e]=t,function(e,r){const n=s.default((e=>t.destroy(e||void 0)));a.default(e,{readable:!1},n),a.default(e,{writable:!1},n)}(this),t}ignoreStream(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);this._substreams[e]=c}_read(){}_write(e,t,r){const{name:i,data:o}=e;if(!i)return n.warn(`ObjectMultiplex - malformed chunk without name "${e}"`),r();const a=this._substreams[i];return a?(a!==c&&a.push(o),r()):(n.warn(`ObjectMultiplex - orphaned data for stream "${i}"`),r())}}t.ObjectMultiplex=l},1274:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Substream=void 0;const n=r(7525);class i extends n.Duplex{constructor({parent:e,name:t}){super({objectMode:!0}),this._parent=e,this._name=t}_read(){}_write(e,t,r){this._parent.push({name:this._name,data:e}),r()}}t.Substream=i},8392:(e,t,r)=>{"use strict";const n=r(7082);e.exports=n.ObjectMultiplex},2294:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EthereumProviderError=t.EthereumRpcError=void 0;const n=r(7847);class i extends Error{constructor(e,t,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw new Error('"message" must be a nonempty string.');super(t),this.code=e,void 0!==r&&(this.data=r)}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return n.default(this.serialize(),o,2)}}function o(e,t){if("[Circular]"!==t)return t}t.EthereumRpcError=i,t.EthereumProviderError=class extends i{constructor(e,t,r){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,r)}}},2662:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorValues=t.errorCodes=void 0,t.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},t.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}},6373:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ethErrors=void 0;const n=r(2294),i=r(8753),o=r(2662);function a(e,t){const[r,o]=u(t);return new n.EthereumRpcError(e,r||i.getMessageFromCode(e),o)}function s(e,t){const[r,o]=u(t);return new n.EthereumProviderError(e,r||i.getMessageFromCode(e),o)}function u(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&"string"!=typeof t)throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}t.ethErrors={rpc:{parse:e=>a(o.errorCodes.rpc.parse,e),invalidRequest:e=>a(o.errorCodes.rpc.invalidRequest,e),invalidParams:e=>a(o.errorCodes.rpc.invalidParams,e),methodNotFound:e=>a(o.errorCodes.rpc.methodNotFound,e),internal:e=>a(o.errorCodes.rpc.internal,e),server:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return a(t,e)},invalidInput:e=>a(o.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>a(o.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>a(o.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>a(o.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>a(o.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>a(o.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>s(o.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>s(o.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>s(o.errorCodes.provider.unsupportedMethod,e),disconnected:e=>s(o.errorCodes.provider.disconnected,e),chainDisconnected:e=>s(o.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:r,data:i}=e;if(!r||"string"!=typeof r)throw new Error('"message" must be a nonempty string');return new n.EthereumProviderError(t,r,i)}}}},9826:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const n=r(2294);Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return n.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return n.EthereumProviderError}});const i=r(8753);Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return i.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return i.getMessageFromCode}});const o=r(6373);Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return o.ethErrors}});const a=r(2662);Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return a.errorCodes}})},8753:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const n=r(2662),i=r(2294),o=n.errorCodes.rpc.internal,a={code:o,message:s(o)};function s(e,r="Unspecified error message. This is a bug, please report it."){if(Number.isInteger(e)){const r=e.toString();if(f(n.errorValues,r))return n.errorValues[r].message;if(c(e))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return r}function u(e){if(!Number.isInteger(e))return!1;const t=e.toString();return!!n.errorValues[t]||!!c(e)}function c(e){return e>=-32099&&e<=-32e3}function l(e){return e&&"object"==typeof e&&!Array.isArray(e)?Object.assign({},e):e}function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",t.getMessageFromCode=s,t.isValidCode=u,t.serializeError=function(e,{fallbackError:t=a,shouldIncludeStack:r=!1}={}){var n,o;if(!t||!Number.isInteger(t.code)||"string"!=typeof t.message)throw new Error("Must provide fallback error with integer number code and string message.");if(e instanceof i.EthereumRpcError)return e.serialize();const c={};if(e&&"object"==typeof e&&!Array.isArray(e)&&f(e,"code")&&u(e.code)){const t=e;c.code=t.code,t.message&&"string"==typeof t.message?(c.message=t.message,f(t,"data")&&(c.data=t.data)):(c.message=s(c.code),c.data={originalError:l(e)})}else{c.code=t.code;const r=null===(n=e)||void 0===n?void 0:n.message;c.message=r&&"string"==typeof r?r:t.message,c.data={originalError:l(e)}}const d=null===(o=e)||void 0===o?void 0:o.stack;return r&&e&&d&&"string"==typeof d&&(c.stack=d),c}},4857:()=>{},3558:()=>{},4854:()=>{},6602:()=>{},7267:()=>{},9255:()=>{},2191:(e,t,r)=>{"use strict";var n=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],i="undefined"==typeof globalThis?r.g:globalThis;e.exports=function(){for(var e=[],t=0;t<n.length;t++)"function"==typeof i[n[t]]&&(e[e.length]=n[t]);return e}},7342:(e,t,r)=>{"use strict";var n=r(7286)("%Object.getOwnPropertyDescriptor%");if(n)try{n([],"length")}catch(e){n=null}e.exports=n},3494:(e,t,r)=>{"use strict";var n=r(7286)("%Object.getOwnPropertyDescriptor%");if(n)try{n([],"length")}catch(e){n=null}e.exports=n},5543:e=>{"use strict";e.exports=JSON.parse('{"CHROME_ID":"nkbihfbeogaeaoehlefnkodbefgpgknn","FIREFOX_ID":"webextension@metamask.io"}')},201:e=>{"use strict";e.exports=JSON.parse('{"openrpc":"1.2.4","info":{"title":"MetaMask Snaps Execution Environment API","version":"0.0.0-development"},"methods":[{"name":"ping","description":"confirms that a connection has been established with the execution environment","params":[],"result":{"name":"PingResult","schema":{"$ref":"#/components/schemas/OK"}}},{"name":"executeSnap","description":"executes a snap in the environment. The snap can then be interacted with via `snapRpc`","params":[{"name":"snapName","required":true,"description":"the name of the snap","schema":{"title":"SnapName","type":"string"}},{"name":"sourceCode","description":"a snaps source code that gets executed in the environment","required":true,"schema":{"title":"SourceCode","type":"string"}},{"name":"endowments","description":"A list of endowments to provide to SES","required":false,"schema":{"title":"Endowments","description":"An array of the names of the endowments","type":"array","items":{"title":"Endowment","type":"string"}}}],"result":{"name":"executeSnapResult","schema":{"$ref":"#/components/schemas/OK"}},"examples":[{"name":"BasicTestSnapExecuteExample","params":[{"name":"snapName","value":"TestSnap"},{"name":"sourceCode","value":"wallet.registerRpcMessageHandler(async (_, request) => { return request.method + request.id })"}],"result":{"name":"BasicTestSnapExampleResult","value":"OK"}}]},{"name":"snapRpc","params":[{"name":"target","required":true,"description":"the name of the snap method","schema":{"title":"Target","type":"string"}},{"name":"origin","required":true,"description":"Origin of the snap JSON-RPC request","schema":{"title":"Origin","type":"string"}},{"name":"request","required":true,"description":"JSON-RPC request","schema":{"$ref":"#/components/schemas/JsonRpcRequest"}}],"result":{"name":"HandleSnapRpcResult","schema":{"title":"SnapRpcResult"}},"examples":[{"name":"TestSnapExample","params":[{"name":"target","value":"TestSnap"},{"name":"origin","value":"foo.com"},{"name":"request","value":{"jsonrpc":"2.0","method":"hello","params":[],"id":1}}],"result":{"name":"TestSnapResultExample","value":"hello1"}}]}],"components":{"schemas":{"OK":{"title":"OK","type":"string","const":"OK"},"JsonRpcRequest":{"title":"JsonRpcRequest","type":"object","required":["jsonrpc","method"],"properties":{"jsonrpc":{"title":"JSONRPCString","type":"string","const":"2.0"},"id":{"title":"JSONRPCID","oneOf":[{"type":"string"},{"type":"number"}]},"method":{"title":"JSONRPCMethod","description":"the name of the method","type":"string"},"params":{"title":"JSONRPCParams","type":["array","object"]}}}}}}')}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";const e=r(2842),t=r(4562),n=r(1218);e.executeLockdown(),t.executeLockdownMore(),n.IFrameSnapExecutor.initialize()})()})();
\ No newline at end of file
diff --git a/node_modules/@metamask/execution-environments/dist/webworker.bundle.js b/node_modules/@metamask/execution-environments/dist/webworker.bundle.js
index 3909dca..fdb2167 100644
--- a/node_modules/@metamask/execution-environments/dist/webworker.bundle.js
+++ b/node_modules/@metamask/execution-environments/dist/webworker.bundle.js
@@ -1,3 +1,3 @@
 "use strict";(()=>{const e=[({imports:e,liveVar:t,onceVar:r})=>{e([]);const o=globalThis;r.universalThis(o);const{Array:n,Date:s,Float32Array:a,JSON:i,Map:c,Math:l,Number:p,Object:m,Promise:u,Proxy:y,Reflect:f,RegExp:g,Set:d,String:E,WeakMap:P,WeakSet:w}=globalThis;r.Array(n),r.Date(s),r.Float32Array(a),r.JSON(i),r.Map(c),r.Math(l),r.Number(p),r.Object(m),r.Promise(u),r.Proxy(y),r.Reflect(f),r.FERAL_REG_EXP(g),r.Set(d),r.String(E),r.WeakMap(P),r.WeakSet(w);const{Error:b,RangeError:h,ReferenceError:S,SyntaxError:v,TypeError:k}=globalThis;r.FERAL_ERROR(b),r.RangeError(h),r.ReferenceError(S),r.SyntaxError(v),r.TypeError(k);const{assign:j,create:A,defineProperties:T,entries:x,freeze:I,getOwnPropertyDescriptor:O,getOwnPropertyDescriptors:_,getOwnPropertyNames:C,getPrototypeOf:F,is:V,isExtensible:N,keys:R,prototype:M,seal:$,setPrototypeOf:L,values:G}=m;r.assign(j),r.create(A),r.defineProperties(T),r.entries(x),r.freeze(I),r.getOwnPropertyDescriptor(O),r.getOwnPropertyDescriptors(_),r.getOwnPropertyNames(C),r.getPrototypeOf(F),r.is(V),r.isExtensible(N),r.keys(R),r.objectPrototype(M),r.seal($),r.setPrototypeOf(L),r.values(G);const{species:D,toStringTag:U,iterator:H,matchAll:W}=Symbol;r.speciesSymbol(D),r.toStringTagSymbol(U),r.iteratorSymbol(H),r.matchAllSymbol(W);const{stringify:z}=i;r.stringifyJson(z);const B=m.fromEntries||(e=>{const t={};for(const[r,o]of e)t[r]=o;return t});r.fromEntries(B);const{defineProperty:J}=m;r.defineProperty(((e,t,r)=>{const o=J(e,t,r);if(o!==e)throw k(`Please report that the original defineProperty silently failed to set ${z(E(t))}. (SES_DEFINE_PROPERTY_FAILED_SILENTLY)`);return o}));const{apply:K,construct:q,get:Y,getOwnPropertyDescriptor:X,has:Z,isExtensible:Q,ownKeys:ee,preventExtensions:te,set:re}=f;r.apply(K),r.construct(q),r.reflectGet(Y),r.reflectGetOwnPropertyDescriptor(X),r.reflectHas(Z),r.reflectIsExtensible(Q),r.ownKeys(ee),r.reflectPreventExtensions(te),r.reflectSet(re);const{isArray:oe,prototype:ne}=n;r.isArray(oe),r.arrayPrototype(ne);const{prototype:se}=c;r.mapPrototype(se);const{revocable:ae}=y;r.proxyRevocable(ae);const{prototype:ie}=RegExp;r.regexpPrototype(ie);const{prototype:ce}=d;r.setPrototype(ce);const{prototype:le}=E;r.stringPrototype(le);const{prototype:pe}=P;r.weakmapPrototype(pe);const{prototype:me}=w;r.weaksetPrototype(me);const{prototype:ue}=Function;r.functionPrototype(ue);const{prototype:ye}=u;r.promisePrototype(ye);const fe=e=>(t,...r)=>K(e,t,r);r.uncurryThis(fe);const ge=fe(M.hasOwnProperty);r.objectHasOwnProperty(ge);const de=fe(ne.filter);r.arrayFilter(de);const Ee=fe(ne.forEach);r.arrayForEach(Ee);const Pe=fe(ne.includes);r.arrayIncludes(Pe);const we=fe(ne.join);r.arrayJoin(we);const be=fe(ne.map);r.arrayMap(be);const he=fe(ne.pop);r.arrayPop(he);const Se=fe(ne.push);r.arrayPush(Se);const ve=fe(ne.slice);r.arraySlice(ve);const ke=fe(ne.some);r.arraySome(ke);const je=fe(ne.sort);r.arraySort(je);const Ae=fe(ne[H]);r.iterateArray(Ae);const Te=fe(se.set);r.mapSet(Te);const xe=fe(se.get);r.mapGet(xe);const Ie=fe(se.has);r.mapHas(Ie);const Oe=fe(se[H]);r.iterateMap(Oe);const _e=fe(ce.add);r.setAdd(_e);const Ce=fe(ce.forEach);r.setForEach(Ce);const Fe=fe(ce.has);r.setHas(Fe);const Ve=fe(ce[H]);r.iterateSet(Ve);const Ne=fe(ie.test);r.regexpTest(Ne);const Re=fe(ie.exec);r.regexpExec(Re);const Me=fe(ie[W]);r.matchAllRegExp(Me);const $e=fe(le.endsWith);r.stringEndsWith($e);const Le=fe(le.includes);r.stringIncludes(Le);const Ge=fe(le.indexOf);r.stringIndexOf(Ge);const De=fe(le.match);r.stringMatch(De);const Ue=fe(le.replace);r.stringReplace(Ue);const He=fe(le.search);r.stringSearch(He);const We=fe(le.slice);r.stringSlice(We);const ze=fe(le.split);r.stringSplit(ze);const Be=fe(le.startsWith);r.stringStartsWith(Be);const Je=fe(le[H]);r.iterateString(Je);const Ke=fe(pe.delete);r.weakmapDelete(Ke);const qe=fe(pe.get);r.weakmapGet(qe);const Ye=fe(pe.has);r.weakmapHas(Ye);const Xe=fe(pe.set);r.weakmapSet(Xe);const Ze=fe(me.add);r.weaksetAdd(Ze);const Qe=fe(me.get);r.weaksetGet(Qe);const et=fe(me.has);r.weaksetHas(et);const tt=fe(ue.toString);r.functionToString(tt);const{all:rt}=u;r.promiseAll((e=>K(rt,u,[e])));const ot=fe(ye.catch);r.promiseCatch(ot);const nt=fe(ye.then);r.promiseThen(nt),r.getConstructorOf((e=>Y(F(e),"constructor")));const st=I(A(null));r.immutableObject(st),r.isObject((e=>m(e)===e)),r.isError((e=>e instanceof b));const at=eval;r.FERAL_EVAL(at);const it=Function;r.FERAL_FUNCTION(it)},({imports:e,liveVar:t,onceVar:r})=>{e([])},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g;e([["../commons.js",[["Set",[e=>o=e]],["String",[e=>n=e]],["arrayJoin",[e=>s=e]],["arraySlice",[e=>a=e]],["freeze",[e=>i=e]],["is",[e=>c=e]],["isError",[e=>l=e]],["setAdd",[e=>p=e]],["setHas",[e=>m=e]],["stringIncludes",[e=>u=e]],["stringStartsWith",[e=>y=e]],["stringifyJson",[e=>f=e]],["toStringTagSymbol",[e=>g=e]]]]]),r.enJoin(((e,t)=>{if(0===e.length)return"(none)";if(1===e.length)return e[0];if(2===e.length){const[r,o]=e;return`${r} ${t} ${o}`}return`${s(a(e,0,-1),", ")}, ${t} ${e[e.length-1]}`}));const d=e=>(e=""+e).length>=1&&u("aeiouAEIOU",e[0])?"an "+e:"a "+e;r.an(d),i(d);const E=(e,t)=>{const r=new o,s=(e,t)=>{switch(typeof t){case"object":return null===t?null:m(r,t)?"[Seen]":(p(r,t),l(t)?`[${t.name}: ${t.message}]`:g in t?`[${t[g]}]`:t);case"function":return`[Function ${t.name||"<anon>"}]`;case"string":return y(t,"[")?`[${t}]`:t;case"undefined":case"symbol":return`[${n(t)}]`;case"bigint":return`[${t}n]`;case"number":return c(t,NaN)?"[NaN]":t===1/0?"[Infinity]":t===-1/0?"[-Infinity]":t;default:return t}};try{return f(e,s,t)}catch(e){return"[Something that failed to stringify]"}};r.bestEffortStringify(E),i(E)},({imports:e,liveVar:t,onceVar:r})=>{e([])},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d,E,P,w,b,h,S,v,k;e([["../commons.js",[["RangeError",[e=>o=e]],["TypeError",[e=>n=e]],["WeakMap",[e=>s=e]],["arrayJoin",[e=>a=e]],["arrayMap",[e=>i=e]],["arrayPop",[e=>c=e]],["arrayPush",[e=>l=e]],["assign",[e=>p=e]],["freeze",[e=>m=e]],["globalThis",[e=>u=e]],["is",[e=>y=e]],["isError",[e=>f=e]],["stringIndexOf",[e=>g=e]],["stringReplace",[e=>d=e]],["stringSlice",[e=>E=e]],["stringStartsWith",[e=>P=e]],["weakmapDelete",[e=>w=e]],["weakmapGet",[e=>b=e]],["weakmapHas",[e=>h=e]],["weakmapSet",[e=>S=e]]]],["./stringify-utils.js",[["an",[e=>v=e]],["bestEffortStringify",[e=>k=e]]]],["./types.js",[]],["./internal-types.js",[]]]);const j=new s,A=(e,t)=>{const r=m({toString:m((()=>k(e,t)))});return S(j,r,e),r};m(A);const T=new s,x=({template:e,args:t})=>{const r=[e[0]];for(let o=0;o<t.length;o+=1){const n=t[o];let s;s=h(j,n)?""+n:f(n)?`(${v(n.name)})`:`(${v(typeof n)})`,l(r,s,e[o+1])}return a(r,"")},I=m({toString(){const e=b(T,this);return void 0===e?"[Not a DetailsToken]":x(e)}});m(I.toString);const O=(e,...t)=>{const r=m({__proto__:I});return S(T,r,{template:e,args:t}),r};m(O);const _=(e,...t)=>(t=i(t,(e=>h(j,e)?e:A(e))),O(e,...t));r.unredactedDetails(_),m(_);const C=({template:e,args:t})=>{const r=[e[0]];for(let o=0;o<t.length;o+=1){let n=t[o];h(j,n)&&(n=b(j,n));const s=d(c(r)||"",/ $/,"");""!==s&&l(r,s);const a=d(e[o+1],/^ /,"");l(r,n,a)}return""===r[r.length-1]&&c(r),r},F=new s;let V=0;const N=new s,R=(e,t=e.name)=>{let r=b(N,e);return void 0!==r||(V+=1,r=`${t}#${V}`,S(N,e,r)),r},M=(e=O`Assert failed`,t=u.Error,{errorName:r}={})=>{"string"==typeof e&&(e=O([e]));const o=b(T,e);if(void 0===o)throw new n("unrecognized details "+A(e));const s=new t(x(o));return S(F,s,C(o)),void 0!==r&&R(s,r),s};m(M);const $=new s,L=new s,G=(e,t)=>{"string"==typeof t&&(t=O([t]));const r=b(T,t);if(void 0===r)throw new n("unrecognized details "+A(t));const o=C(r),s=b(L,e);if(void 0!==s)for(const t of s)t(e,o);else{const t=b($,e);void 0!==t?l(t,o):S($,e,[o])}};m(G);const D={getStackString:u.getStackString||(e=>{if(!("stack"in e))return"";const t=""+e.stack,r=g(t,"\n");return P(t," ")||-1===r?t:E(t,r+1)}),tagError:e=>R(e),resetErrorTagNum:()=>{V=0},getMessageLogArgs:e=>b(F,e),takeMessageLogArgs:e=>{const t=b(F,e);return w(F,e),t},takeNoteLogArgsArray:(e,t)=>{const r=b($,e);if(w($,e),void 0!==t){const r=b(L,e);r?l(r,t):S(L,e,[t])}return r||[]}};r.loggedErrorHandler(D),m(D);const U=(e,t=!1)=>{const r=t?_:O,s=(t=r`Assert failed`,o=u.Error)=>{const n=M(t,o);throw void 0!==e&&e(n),n};function a(e,t=r`Check failed`,o=u.Error){if(!e)throw s(t,o)}m(s);const i=(e,t,n=r`Expected ${e} is same as ${t}`,s=o)=>{a(y(e,t),n,s)};m(i);const c=(e,t,o)=>{a("string"==typeof t,r`${A(t)} must be a string`),void 0===o&&(o=r([""," must be "+v(t)],e)),i(typeof e,t,o,n)};m(c);const l=p(a,{error:M,fail:s,equal:i,typeof:c,string:(e,t)=>c(e,"string",t),note:G,details:r,quote:A,makeAssert:U});return m(l)};r.makeAssert(U),m(U);const H=U();r.assert(H)},({imports:e,liveVar:t,onceVar:r})=>{let o,n;e([["./commons.js",[["FERAL_FUNCTION",[e=>o=e]],["arrayJoin",[e=>n=e]]]]]),r.makeEvaluateFactory(((e=[])=>{const t=function(e){return 0===e.length?"":`const {${n(e,",")}} = this;`}(e);return o(`\n    with (this) {\n      ${t}\n      return function() {\n        'use strict';\n        return eval(arguments[0]);\n      };\n    }\n  `)}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c;e([["./commons.js",[["arrayFilter",[e=>o=e]],["arrayIncludes",[e=>n=e]],["getOwnPropertyDescriptor",[e=>s=e]],["getOwnPropertyNames",[e=>a=e]],["objectHasOwnProperty",[e=>i=e]],["regexpTest",[e=>c=e]]]]]);const l=["await","break","case","catch","class","const","continue","debugger","default","delete","do","else","export","extends","finally","for","function","if","import","in","instanceof","new","return","super","switch","this","throw","try","typeof","var","void","while","with","yield","let","static","enum","implements","package","protected","interface","private","public","await","null","true","false","this","arguments"],p=/^[a-zA-Z_$][\w$]*$/,m=e=>"eval"!==e&&!n(l,e)&&c(p,e);function u(e,t){const r=s(e,t);return!1===r.configurable&&!1===r.writable&&i(r,"value")}r.isValidIdentifierName(m),r.getScopeConstants(((e,t={})=>{const r=a(e),s=a(t),i=o(s,(e=>m(e)&&u(t,e)));return[...o(r,(t=>!n(s,t)&&m(t)&&u(e,t))),...i]}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d;e([["./commons.js",[["FERAL_EVAL",[e=>o=e]],["Proxy",[e=>n=e]],["String",[e=>s=e]],["TypeError",[e=>a=e]],["create",[e=>i=e]],["freeze",[e=>c=e]],["getOwnPropertyDescriptor",[e=>l=e]],["getOwnPropertyDescriptors",[e=>p=e]],["globalThis",[e=>m=e]],["immutableObject",[e=>u=e]],["objectHasOwnProperty",[e=>y=e]],["reflectGet",[e=>f=e]],["reflectSet",[e=>g=e]]]],["./error/assert.js",[["assert",[e=>d=e]]]]]);const{details:E,quote:P}=d,w=new n(u,c({get(e,t){d.fail(E`Please report unexpected scope handler trap: ${P(s(t))}`)}}));r.createScopeHandler(((e,t={},{sloppyGlobalsMode:r=!1}={})=>{let n=!1;return{admitOneUnsafeEvalNext:()=>{n=!0},resetOneUnsafeEvalNext:()=>{const e=n;return n=!1,e},scopeHandler:c(i(w,p({get(r,s){if("symbol"!=typeof s)return"eval"===s&&!0===n?(n=!1,o):s in t?f(t,s,e):f(e,s)},set(r,o,n){if(o in t){const r=l(t,o);return y(r,"value")?g(t,o,n):g(t,o,n,e)}return g(e,o,n)},has:(o,s)=>r||n&&"eval"===s||s in t||s in e||s in m,getPrototypeOf:()=>null,getOwnPropertyDescriptor(e,t){const r=P(s(t));console.warn("getOwnPropertyDescriptor trap on scopeHandler for "+r,(new a).stack)}})))}}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s;e([["./commons.js",[["FERAL_REG_EXP",[e=>o=e]],["regexpExec",[e=>n=e]],["stringSlice",[e=>s=e]]]]]);const a=new o("(?:\\s*//\\s*[@#]\\s*([a-zA-Z][a-zA-Z0-9]*)\\s*=\\s*([^\\s\\*]*)|/\\*\\s*[@#]\\s*([a-zA-Z][a-zA-Z0-9]*)\\s*=\\s*([^\\s\\*]*)\\s*\\*/)\\s*$");r.getSourceURL((e=>{let t="<unknown>";for(;e.length>0;){const r=n(a,e);if(null===r)break;e=s(e,0,e.length-r[0].length),"sourceURL"===r[3]?t=r[4]:"sourceURL"===r[1]&&(t=r[2])}return t}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l;function p(e,t){const r=a(e,t);if(r<0)return-1;const o="\n"===e[r]?1:0;return c(i(e,0,r),"\n").length+o}e([["./commons.js",[["FERAL_REG_EXP",[e=>o=e]],["SyntaxError",[e=>n=e]],["stringReplace",[e=>s=e]],["stringSearch",[e=>a=e]],["stringSlice",[e=>i=e]],["stringSplit",[e=>c=e]]]],["./get-source-url.js",[["getSourceURL",[e=>l=e]]]]]);const m=new o("(?:\x3c!--|--\x3e)","g"),u=e=>{const t=p(e,m);if(t<0)return e;const r=l(e);throw new n(`Possible HTML comment rejected at ${r}:${t}. (SES_HTML_COMMENT_REJECTED)`)};r.rejectHtmlComments(u),r.evadeHtmlCommentTest((e=>s(e,m,(e=>"<"===e[0]?"< ! --":"-- >"))));const y=new o("(^|[^.])\\bimport(\\s*(?:\\(|/[/*]))","g"),f=e=>{const t=p(e,y);if(t<0)return e;const r=l(e);throw new n(`Possible import expression rejected at ${r}:${t}. (SES_IMPORT_REJECTED)`)};r.rejectImportExpressions(f),r.evadeImportExpressionTest((e=>s(e,y,((e,t,r)=>`${t}__import__${r}`))));const g=new o("(^|[^.])\\beval(\\s*\\()","g");r.rejectSomeDirectEvalExpressions((e=>{const t=p(e,g);if(t<0)return e;const r=l(e);throw new n(`Possible direct eval expression rejected at ${r}:${t}. (SES_EVAL_REJECTED)`)})),r.mandatoryTransforms((e=>(e=u(e),f(e)))),r.applyTransforms(((e,t)=>{for(const r of t)e=r(e);return e}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y;e([["./commons.js",[["WeakSet",[e=>o=e]],["apply",[e=>n=e]],["immutableObject",[e=>s=e]],["proxyRevocable",[e=>a=e]],["weaksetAdd",[e=>i=e]]]],["./scope-constants.js",[["getScopeConstants",[e=>c=e]]]],["./scope-handler.js",[["createScopeHandler",[e=>l=e]]]],["./transforms.js",[["applyTransforms",[e=>p=e]],["mandatoryTransforms",[e=>m=e]]]],["./make-evaluate-factory.js",[["makeEvaluateFactory",[e=>u=e]]]],["./error/assert.js",[["assert",[e=>y=e]]]]]);const{details:f}=y;r.makeSafeEvaluator((({globalObject:e,localObject:t={},globalTransforms:r=[],sloppyGlobalsMode:g=!1,knownScopeProxies:d=new o}={})=>{const{scopeHandler:E,admitOneUnsafeEvalNext:P,resetOneUnsafeEvalNext:w}=l(e,t,{sloppyGlobalsMode:g}),{proxy:b,revoke:h}=a(s,E);let S;return i(d,b),{safeEvaluate:(o,{localTransforms:s=[]}={})=>{let a;(()=>{if(!S){const r=c(e,t),o=u(r);S=n(o,b,[])}})(),o=p(o,[...s,...r,m]),P();try{return n(S,e,[o])}catch(e){throw a=e,e}finally{w()&&(h(),y.fail(f`handler did not reset allowNextEvalToBeUnsafe ${a}`))}}}}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m;e([["./commons.js",[["TypeError",[e=>o=e]],["arrayPush",[e=>n=e]],["create",[e=>s=e]],["defineProperties",[e=>a=e]],["getOwnPropertyDescriptors",[e=>i=e]]]],["./transforms.js",[["evadeHtmlCommentTest",[e=>c=e]],["evadeImportExpressionTest",[e=>l=e]],["rejectSomeDirectEvalExpressions",[e=>p=e]]]],["./make-safe-evaluator.js",[["makeSafeEvaluator",[e=>m=e]]]]]);const u=(e,t)=>{const{sloppyGlobalsMode:r=!1,__moduleShimLexicals__:o}=t;let n;if(void 0!==o||r){let{globalTransforms:t}=e;const{globalObject:c,globalLexicals:l,knownScopeProxies:p}=e;let u=l;void 0!==o&&(t=void 0,u=s(null,i(l)),a(u,i(o))),({safeEvaluate:n}=m({globalObject:c,localObject:u,globalTransforms:t,sloppyGlobalsMode:r,knownScopeProxies:p}))}else({safeEvaluate:n}=e);return{safeEvaluate:n}};r.provideCompartmentEvaluator(u),r.compartmentEvaluate(((e,t,r)=>{if("string"!=typeof t)throw new o("first argument of evaluate() must be a string");const{transforms:s=[],__evadeHtmlCommentTest__:a=!1,__evadeImportExpressionTest__:i=!1,__rejectSomeDirectEvalExpressions__:m=!0}=r,y=[...s];!0===a&&n(y,c),!0===i&&n(y,l),!0===m&&n(y,p);const{safeEvaluate:f}=u(e,r);return f(t,{localTransforms:y})}))},({imports:e,liveVar:t,onceVar:r})=>{e([]),r.makeEvalFunction((e=>t=>"string"!=typeof t?t:e(t)))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c;e([["./commons.js",[["FERAL_FUNCTION",[e=>o=e]],["arrayJoin",[e=>n=e]],["arrayPop",[e=>s=e]],["defineProperties",[e=>a=e]],["getPrototypeOf",[e=>i=e]]]],["./error/assert.js",[["assert",[e=>c=e]]]]]),r.makeFunctionConstructor((e=>{const t=function(t){const r=""+(s(arguments)||""),a=""+n(arguments,",");new o(a,""),new o(r);const i=`(function anonymous(${a}\n) {\n${r}\n})`;return e(i)};return a(t,{prototype:{value:o.prototype,writable:!1,enumerable:!1,configurable:!1}}),c(i(o)===o.prototype,"Function prototype is the same accross compartments"),c(i(t)===o.prototype,"Function constructor prototype is the same accross compartments"),t}))},({imports:e,liveVar:t,onceVar:r})=>{e([]);r.constantProperties({Infinity:1/0,NaN:NaN,undefined:void 0}),r.universalPropertyNames({isFinite:"isFinite",isNaN:"isNaN",parseFloat:"parseFloat",parseInt:"parseInt",decodeURI:"decodeURI",decodeURIComponent:"decodeURIComponent",encodeURI:"encodeURI",encodeURIComponent:"encodeURIComponent",Array:"Array",ArrayBuffer:"ArrayBuffer",BigInt:"BigInt",BigInt64Array:"BigInt64Array",BigUint64Array:"BigUint64Array",Boolean:"Boolean",DataView:"DataView",EvalError:"EvalError",Float32Array:"Float32Array",Float64Array:"Float64Array",Int8Array:"Int8Array",Int16Array:"Int16Array",Int32Array:"Int32Array",Map:"Map",Number:"Number",Object:"Object",Promise:"Promise",Proxy:"Proxy",RangeError:"RangeError",ReferenceError:"ReferenceError",Set:"Set",String:"String",Symbol:"Symbol",SyntaxError:"SyntaxError",TypeError:"TypeError",Uint8Array:"Uint8Array",Uint8ClampedArray:"Uint8ClampedArray",Uint16Array:"Uint16Array",Uint32Array:"Uint32Array",URIError:"URIError",WeakMap:"WeakMap",WeakSet:"WeakSet",JSON:"JSON",Reflect:"Reflect",escape:"escape",unescape:"unescape",lockdown:"lockdown",harden:"harden",HandledPromise:"HandledPromise"}),r.initialGlobalPropertyNames({Date:"%InitialDate%",Error:"%InitialError%",RegExp:"%InitialRegExp%",Math:"%InitialMath%",getStackString:"%InitialGetStackString%"}),r.sharedGlobalPropertyNames({Date:"%SharedDate%",Error:"%SharedError%",RegExp:"%SharedRegExp%",Math:"%SharedMath%"}),r.uniqueGlobalPropertyNames({globalThis:"%UniqueGlobalThis%",eval:"%UniqueEval%",Function:"%UniqueFunction%",Compartment:"%UniqueCompartment%"});const o=[EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError];r.NativeErrors(o);const n={"[[Proto]]":"%FunctionPrototype%",length:"number",name:"string"};r.FunctionInstance(n);const s=n,a={"[[Proto]]":"%AsyncFunctionPrototype%"},i={get:s,set:"undefined"},c={get:s,set:s};function l(e){return{"[[Proto]]":"%SharedError%",prototype:e}}function p(e){return{"[[Proto]]":"%ErrorPrototype%",constructor:e,message:"string",name:"string",toString:!1,cause:!1}}function m(e){return{"[[Proto]]":"%TypedArray%",BYTES_PER_ELEMENT:"number",prototype:e}}function u(e){return{"[[Proto]]":"%TypedArrayPrototype%",BYTES_PER_ELEMENT:"number",constructor:e}}r.isAccessorPermit((e=>e===i||e===c));const y={E:"number",LN10:"number",LN2:"number",LOG10E:"number",LOG2E:"number",PI:"number",SQRT1_2:"number",SQRT2:"number","@@toStringTag":"string",abs:s,acos:s,acosh:s,asin:s,asinh:s,atan:s,atanh:s,atan2:s,cbrt:s,ceil:s,clz32:s,cos:s,cosh:s,exp:s,expm1:s,floor:s,fround:s,hypot:s,imul:s,log:s,log1p:s,log10:s,log2:s,max:s,min:s,pow:s,round:s,sign:s,sin:s,sinh:s,sqrt:s,tan:s,tanh:s,trunc:s,idiv:!1,idivmod:!1,imod:!1,imuldiv:!1,irem:!1,mod:!1},f={"[[Proto]]":null,"%ThrowTypeError%":s,Infinity:"number",NaN:"number",undefined:"undefined","%UniqueEval%":s,isFinite:s,isNaN:s,parseFloat:s,parseInt:s,decodeURI:s,decodeURIComponent:s,encodeURI:s,encodeURIComponent:s,Object:{"[[Proto]]":"%FunctionPrototype%",assign:s,create:s,defineProperties:s,defineProperty:s,entries:s,freeze:s,fromEntries:s,getOwnPropertyDescriptor:s,getOwnPropertyDescriptors:s,getOwnPropertyNames:s,getOwnPropertySymbols:s,getPrototypeOf:s,is:s,isExtensible:s,isFrozen:s,isSealed:s,keys:s,preventExtensions:s,prototype:"%ObjectPrototype%",seal:s,setPrototypeOf:s,values:s,hasOwn:s},"%ObjectPrototype%":{"[[Proto]]":null,constructor:"Object",hasOwnProperty:s,isPrototypeOf:s,propertyIsEnumerable:s,toLocaleString:s,toString:s,valueOf:s,"--proto--":c,__defineGetter__:s,__defineSetter__:s,__lookupGetter__:s,__lookupSetter__:s},"%UniqueFunction%":{"[[Proto]]":"%FunctionPrototype%",prototype:"%FunctionPrototype%"},"%InertFunction%":{"[[Proto]]":"%FunctionPrototype%",prototype:"%FunctionPrototype%"},"%FunctionPrototype%":{apply:s,bind:s,call:s,constructor:"%InertFunction%",toString:s,"@@hasInstance":s,caller:!1,arguments:!1},Boolean:{"[[Proto]]":"%FunctionPrototype%",prototype:"%BooleanPrototype%"},"%BooleanPrototype%":{constructor:"Boolean",toString:s,valueOf:s},Symbol:{"[[Proto]]":"%FunctionPrototype%",asyncIterator:"symbol",for:s,hasInstance:"symbol",isConcatSpreadable:"symbol",iterator:"symbol",keyFor:s,match:"symbol",matchAll:"symbol",prototype:"%SymbolPrototype%",replace:"symbol",search:"symbol",species:"symbol",split:"symbol",toPrimitive:"symbol",toStringTag:"symbol",unscopables:"symbol"},"%SymbolPrototype%":{constructor:"Symbol",description:i,toString:s,valueOf:s,"@@toPrimitive":s,"@@toStringTag":"string"},"%InitialError%":{"[[Proto]]":"%FunctionPrototype%",prototype:"%ErrorPrototype%",captureStackTrace:s,stackTraceLimit:c,prepareStackTrace:c},"%SharedError%":{"[[Proto]]":"%FunctionPrototype%",prototype:"%ErrorPrototype%",captureStackTrace:s,stackTraceLimit:c,prepareStackTrace:c},"%ErrorPrototype%":{constructor:"%SharedError%",message:"string",name:"string",toString:s,at:!1,stack:!1,cause:!1},EvalError:l("%EvalErrorPrototype%"),RangeError:l("%RangeErrorPrototype%"),ReferenceError:l("%ReferenceErrorPrototype%"),SyntaxError:l("%SyntaxErrorPrototype%"),TypeError:l("%TypeErrorPrototype%"),URIError:l("%URIErrorPrototype%"),"%EvalErrorPrototype%":p("EvalError"),"%RangeErrorPrototype%":p("RangeError"),"%ReferenceErrorPrototype%":p("ReferenceError"),"%SyntaxErrorPrototype%":p("SyntaxError"),"%TypeErrorPrototype%":p("TypeError"),"%URIErrorPrototype%":p("URIError"),Number:{"[[Proto]]":"%FunctionPrototype%",EPSILON:"number",isFinite:s,isInteger:s,isNaN:s,isSafeInteger:s,MAX_SAFE_INTEGER:"number",MAX_VALUE:"number",MIN_SAFE_INTEGER:"number",MIN_VALUE:"number",NaN:"number",NEGATIVE_INFINITY:"number",parseFloat:s,parseInt:s,POSITIVE_INFINITY:"number",prototype:"%NumberPrototype%"},"%NumberPrototype%":{constructor:"Number",toExponential:s,toFixed:s,toLocaleString:s,toPrecision:s,toString:s,valueOf:s},BigInt:{"[[Proto]]":"%FunctionPrototype%",asIntN:s,asUintN:s,prototype:"%BigIntPrototype%",bitLength:!1,fromArrayBuffer:!1},"%BigIntPrototype%":{constructor:"BigInt",toLocaleString:s,toString:s,valueOf:s,"@@toStringTag":"string"},"%InitialMath%":{...y,random:s},"%SharedMath%":y,"%InitialDate%":{"[[Proto]]":"%FunctionPrototype%",now:s,parse:s,prototype:"%DatePrototype%",UTC:s},"%SharedDate%":{"[[Proto]]":"%FunctionPrototype%",now:s,parse:s,prototype:"%DatePrototype%",UTC:s},"%DatePrototype%":{constructor:"%SharedDate%",getDate:s,getDay:s,getFullYear:s,getHours:s,getMilliseconds:s,getMinutes:s,getMonth:s,getSeconds:s,getTime:s,getTimezoneOffset:s,getUTCDate:s,getUTCDay:s,getUTCFullYear:s,getUTCHours:s,getUTCMilliseconds:s,getUTCMinutes:s,getUTCMonth:s,getUTCSeconds:s,setDate:s,setFullYear:s,setHours:s,setMilliseconds:s,setMinutes:s,setMonth:s,setSeconds:s,setTime:s,setUTCDate:s,setUTCFullYear:s,setUTCHours:s,setUTCMilliseconds:s,setUTCMinutes:s,setUTCMonth:s,setUTCSeconds:s,toDateString:s,toISOString:s,toJSON:s,toLocaleDateString:s,toLocaleString:s,toLocaleTimeString:s,toString:s,toTimeString:s,toUTCString:s,valueOf:s,"@@toPrimitive":s,getYear:s,setYear:s,toGMTString:s},String:{"[[Proto]]":"%FunctionPrototype%",fromCharCode:s,fromCodePoint:s,prototype:"%StringPrototype%",raw:s,fromArrayBuffer:!1},"%StringPrototype%":{length:"number",charAt:s,charCodeAt:s,codePointAt:s,concat:s,constructor:"String",endsWith:s,includes:s,indexOf:s,lastIndexOf:s,localeCompare:s,match:s,matchAll:s,normalize:s,padEnd:s,padStart:s,repeat:s,replace:s,replaceAll:s,search:s,slice:s,split:s,startsWith:s,substring:s,toLocaleLowerCase:s,toLocaleUpperCase:s,toLowerCase:s,toString:s,toUpperCase:s,trim:s,trimEnd:s,trimStart:s,valueOf:s,"@@iterator":s,substr:s,anchor:s,big:s,blink:s,bold:s,fixed:s,fontcolor:s,fontsize:s,italics:s,link:s,small:s,strike:s,sub:s,sup:s,trimLeft:s,trimRight:s,compare:!1,at:s},"%StringIteratorPrototype%":{"[[Proto]]":"%IteratorPrototype%",next:s,"@@toStringTag":"string"},"%InitialRegExp%":{"[[Proto]]":"%FunctionPrototype%",prototype:"%RegExpPrototype%","@@species":i,input:!1,$_:!1,lastMatch:!1,"$&":!1,lastParen:!1,"$+":!1,leftContext:!1,"$`":!1,rightContext:!1,"$'":!1,$1:!1,$2:!1,$3:!1,$4:!1,$5:!1,$6:!1,$7:!1,$8:!1,$9:!1},"%SharedRegExp%":{"[[Proto]]":"%FunctionPrototype%",prototype:"%RegExpPrototype%","@@species":i},"%RegExpPrototype%":{constructor:"%SharedRegExp%",exec:s,dotAll:i,flags:i,global:i,ignoreCase:i,"@@match":s,"@@matchAll":s,multiline:i,"@@replace":s,"@@search":s,source:i,"@@split":s,sticky:i,test:s,toString:s,unicode:i,compile:!1,hasIndices:!1},"%RegExpStringIteratorPrototype%":{"[[Proto]]":"%IteratorPrototype%",next:s,"@@toStringTag":"string"},Array:{"[[Proto]]":"%FunctionPrototype%",from:s,isArray:s,of:s,prototype:"%ArrayPrototype%","@@species":i,at:s},"%ArrayPrototype%":{length:"number",concat:s,constructor:"Array",copyWithin:s,entries:s,every:s,fill:s,filter:s,find:s,findIndex:s,flat:s,flatMap:s,forEach:s,includes:s,indexOf:s,join:s,keys:s,lastIndexOf:s,map:s,pop:s,push:s,reduce:s,reduceRight:s,reverse:s,shift:s,slice:s,some:s,sort:s,splice:s,toLocaleString:s,toString:s,unshift:s,values:s,"@@iterator":s,"@@unscopables":{"[[Proto]]":null,copyWithin:"boolean",entries:"boolean",fill:"boolean",find:"boolean",findIndex:"boolean",flat:"boolean",flatMap:"boolean",includes:"boolean",keys:"boolean",values:"boolean",at:!1},at:!1,findLast:s,findLastIndex:s},"%ArrayIteratorPrototype%":{"[[Proto]]":"%IteratorPrototype%",next:s,"@@toStringTag":"string"},"%TypedArray%":{"[[Proto]]":"%FunctionPrototype%",from:s,of:s,prototype:"%TypedArrayPrototype%","@@species":i},"%TypedArrayPrototype%":{buffer:i,byteLength:i,byteOffset:i,constructor:"%TypedArray%",copyWithin:s,entries:s,every:s,fill:s,filter:s,find:s,findIndex:s,forEach:s,includes:s,indexOf:s,join:s,keys:s,lastIndexOf:s,length:i,map:s,reduce:s,reduceRight:s,reverse:s,set:s,slice:s,some:s,sort:s,subarray:s,toLocaleString:s,toString:s,values:s,"@@iterator":s,"@@toStringTag":i,at:!1,findLast:s,findLastIndex:s},BigInt64Array:m("%BigInt64ArrayPrototype%"),BigUint64Array:m("%BigUint64ArrayPrototype%"),Float32Array:m("%Float32ArrayPrototype%"),Float64Array:m("%Float64ArrayPrototype%"),Int16Array:m("%Int16ArrayPrototype%"),Int32Array:m("%Int32ArrayPrototype%"),Int8Array:m("%Int8ArrayPrototype%"),Uint16Array:m("%Uint16ArrayPrototype%"),Uint32Array:m("%Uint32ArrayPrototype%"),Uint8Array:m("%Uint8ArrayPrototype%"),Uint8ClampedArray:m("%Uint8ClampedArrayPrototype%"),"%BigInt64ArrayPrototype%":u("BigInt64Array"),"%BigUint64ArrayPrototype%":u("BigUint64Array"),"%Float32ArrayPrototype%":u("Float32Array"),"%Float64ArrayPrototype%":u("Float64Array"),"%Int16ArrayPrototype%":u("Int16Array"),"%Int32ArrayPrototype%":u("Int32Array"),"%Int8ArrayPrototype%":u("Int8Array"),"%Uint16ArrayPrototype%":u("Uint16Array"),"%Uint32ArrayPrototype%":u("Uint32Array"),"%Uint8ArrayPrototype%":u("Uint8Array"),"%Uint8ClampedArrayPrototype%":u("Uint8ClampedArray"),Map:{"[[Proto]]":"%FunctionPrototype%","@@species":i,prototype:"%MapPrototype%"},"%MapPrototype%":{clear:s,constructor:"Map",delete:s,entries:s,forEach:s,get:s,has:s,keys:s,set:s,size:i,values:s,"@@iterator":s,"@@toStringTag":"string"},"%MapIteratorPrototype%":{"[[Proto]]":"%IteratorPrototype%",next:s,"@@toStringTag":"string"},Set:{"[[Proto]]":"%FunctionPrototype%",prototype:"%SetPrototype%","@@species":i},"%SetPrototype%":{add:s,clear:s,constructor:"Set",delete:s,entries:s,forEach:s,has:s,keys:s,size:i,values:s,"@@iterator":s,"@@toStringTag":"string"},"%SetIteratorPrototype%":{"[[Proto]]":"%IteratorPrototype%",next:s,"@@toStringTag":"string"},WeakMap:{"[[Proto]]":"%FunctionPrototype%",prototype:"%WeakMapPrototype%"},"%WeakMapPrototype%":{constructor:"WeakMap",delete:s,get:s,has:s,set:s,"@@toStringTag":"string"},WeakSet:{"[[Proto]]":"%FunctionPrototype%",prototype:"%WeakSetPrototype%"},"%WeakSetPrototype%":{add:s,constructor:"WeakSet",delete:s,has:s,"@@toStringTag":"string"},ArrayBuffer:{"[[Proto]]":"%FunctionPrototype%",isView:s,prototype:"%ArrayBufferPrototype%","@@species":i,fromString:!1,fromBigInt:!1},"%ArrayBufferPrototype%":{byteLength:i,constructor:"ArrayBuffer",slice:s,"@@toStringTag":"string",concat:!1,transfer:s,resize:s,resizable:i,maxByteLength:i},SharedArrayBuffer:!1,"%SharedArrayBufferPrototype%":!1,DataView:{"[[Proto]]":"%FunctionPrototype%",BYTES_PER_ELEMENT:"number",prototype:"%DataViewPrototype%"},"%DataViewPrototype%":{buffer:i,byteLength:i,byteOffset:i,constructor:"DataView",getBigInt64:s,getBigUint64:s,getFloat32:s,getFloat64:s,getInt8:s,getInt16:s,getInt32:s,getUint8:s,getUint16:s,getUint32:s,setBigInt64:s,setBigUint64:s,setFloat32:s,setFloat64:s,setInt8:s,setInt16:s,setInt32:s,setUint8:s,setUint16:s,setUint32:s,"@@toStringTag":"string"},Atomics:!1,JSON:{parse:s,stringify:s,"@@toStringTag":"string"},"%IteratorPrototype%":{"@@iterator":s},"%AsyncIteratorPrototype%":{"@@asyncIterator":s},"%InertGeneratorFunction%":{"[[Proto]]":"%InertFunction%",prototype:"%Generator%"},"%Generator%":{"[[Proto]]":"%FunctionPrototype%",constructor:"%InertGeneratorFunction%",prototype:"%GeneratorPrototype%","@@toStringTag":"string"},"%InertAsyncGeneratorFunction%":{"[[Proto]]":"%InertFunction%",prototype:"%AsyncGenerator%"},"%AsyncGenerator%":{"[[Proto]]":"%FunctionPrototype%",constructor:"%InertAsyncGeneratorFunction%",prototype:"%AsyncGeneratorPrototype%","@@toStringTag":"string"},"%GeneratorPrototype%":{"[[Proto]]":"%IteratorPrototype%",constructor:"%Generator%",next:s,return:s,throw:s,"@@toStringTag":"string"},"%AsyncGeneratorPrototype%":{"[[Proto]]":"%AsyncIteratorPrototype%",constructor:"%AsyncGenerator%",next:s,return:s,throw:s,"@@toStringTag":"string"},HandledPromise:{"[[Proto]]":"Promise",applyFunction:s,applyFunctionSendOnly:s,applyMethod:s,applyMethodSendOnly:s,get:s,getSendOnly:s,prototype:"%PromisePrototype%",resolve:s},Promise:{"[[Proto]]":"%FunctionPrototype%",all:s,allSettled:s,any:!1,prototype:"%PromisePrototype%",race:s,reject:s,resolve:s,"@@species":i},"%PromisePrototype%":{catch:s,constructor:"Promise",finally:s,then:s,"@@toStringTag":"string"},"%InertAsyncFunction%":{"[[Proto]]":"%InertFunction%",prototype:"%AsyncFunctionPrototype%"},"%AsyncFunctionPrototype%":{"[[Proto]]":"%FunctionPrototype%",constructor:"%InertAsyncFunction%","@@toStringTag":"string"},Reflect:{apply:s,construct:s,defineProperty:s,deleteProperty:s,get:s,getOwnPropertyDescriptor:s,getPrototypeOf:s,has:s,isExtensible:s,ownKeys:s,preventExtensions:s,set:s,setPrototypeOf:s,"@@toStringTag":"string"},Proxy:{"[[Proto]]":"%FunctionPrototype%",revocable:s},escape:s,unescape:s,"%UniqueCompartment%":{"[[Proto]]":"%FunctionPrototype%",prototype:"%CompartmentPrototype%",toString:s},"%InertCompartment%":{"[[Proto]]":"%FunctionPrototype%",prototype:"%CompartmentPrototype%",toString:s},"%CompartmentPrototype%":{constructor:"%InertCompartment%",evaluate:s,globalThis:i,name:i,toString:s,__isKnownScopeProxy__:s,import:a,load:a,importNow:s,module:s},lockdown:s,harden:s,"%InitialGetStackString%":s};r.whitelist(f)},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l;e([["./commons.js",[["defineProperty",[e=>o=e]],["objectHasOwnProperty",[e=>n=e]],["entries",[e=>s=e]]]],["./make-eval-function.js",[["makeEvalFunction",[e=>a=e]]]],["./make-function-constructor.js",[["makeFunctionConstructor",[e=>i=e]]]],["./whitelist.js",[["constantProperties",[e=>c=e]],["universalPropertyNames",[e=>l=e]]]]]),r.setGlobalObjectConstantProperties((e=>{for(const[t,r]of s(c))o(e,t,{value:r,writable:!1,enumerable:!1,configurable:!1})})),r.setGlobalObjectMutableProperties(((e,{intrinsics:t,newGlobalPropertyNames:r,makeCompartmentConstructor:c,safeEvaluate:p,markVirtualizedNativeFunction:m})=>{for(const[r,a]of s(l))n(t,a)&&o(e,r,{value:t[a],writable:!0,enumerable:!1,configurable:!0});for(const[a,i]of s(r))n(t,i)&&o(e,a,{value:t[i],writable:!0,enumerable:!1,configurable:!0});const u={globalThis:e,eval:a(p),Function:i(p)};u.Compartment=c(c,t,m);for(const[t,r]of s(u))o(e,t,{value:r,writable:!0,enumerable:!1,configurable:!0}),"function"==typeof r&&m(r)}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d,E,P,w,b;e([["./commons.js",[["ReferenceError",[e=>o=e]],["TypeError",[e=>n=e]],["Map",[e=>s=e]],["Set",[e=>a=e]],["arrayJoin",[e=>i=e]],["arrayMap",[e=>c=e]],["arrayPush",[e=>l=e]],["create",[e=>p=e]],["freeze",[e=>m=e]],["mapGet",[e=>u=e]],["mapHas",[e=>y=e]],["mapSet",[e=>f=e]],["setAdd",[e=>g=e]],["promiseCatch",[e=>d=e]],["promiseThen",[e=>E=e]],["values",[e=>P=e]],["weakmapGet",[e=>w=e]]]],["./error/assert.js",[["assert",[e=>b=e]]]]]);const{details:h,quote:S}=b,v=()=>{};r.makeAlias(((e,t)=>m({compartment:e,specifier:t})));const k=async(e,t,r,o,n,s,a,i)=>{const{resolveHook:c,moduleRecords:u}=w(e,r),y=((e,t,r)=>{const o=p(null);for(const n of e){const e=t(n,r);o[n]=e}return m(o)})(n.imports,c,o),d=m({compartment:r,staticModuleRecord:n,moduleSpecifier:o,resolvedImports:y});for(const o of P(y)){const n=j(e,t,r,o,s,a,i);g(s,E(n,v,(e=>{l(i,e)})))}return f(u,o,d),d},j=async(e,t,r,a,i,c,l)=>{const{name:p}=w(e,r);let m=u(c,r);void 0===m&&(m=new s,f(c,r,m));let g=u(m,a);return void 0!==g||(g=d((async(e,t,r,s,a,i,c)=>{const{importHook:l,moduleMap:p,moduleMapHook:m,moduleRecords:g}=w(e,r);let d=p[s];if(void 0===d&&void 0!==m&&(d=m(s)),"string"==typeof d)b.fail(h`Cannot map module ${S(s)} to ${S(d)} in parent compartment, not yet implemented`,n);else if(void 0!==d){const r=w(t,d);void 0===r&&b.fail(h`Cannot map module ${S(s)} because the value is not a module exports namespace, or is from another realm`,o);const n=await j(e,t,r.compartment,r.specifier,a,i,c);return f(g,s,n),n}if(y(g,s))return u(g,s);const E=await l(s);if(null!==E&&"object"==typeof E||b.fail(h`importHook must return a promise for an object, for module ${S(s)} in compartment ${S(r.name)}`),void 0!==E.record){const{compartment:o=r,specifier:n=s,record:l}=E,p=await k(e,t,o,n,l,a,i,c);return f(g,s,p),p}return k(e,t,r,s,E,a,i,c)})(e,t,r,a,i,c,l),(e=>{throw b.note(e,h`${e.message}, loading ${S(a)} in compartment ${S(p)}`),e})),f(m,a,g)),g};r.load((async(e,t,r,o)=>{const{name:p}=w(e,r),m=new a,u=new s,y=[],f=j(e,t,r,o,m,u,y);g(m,E(f,v,(e=>{l(y,e)})));for(const e of m)await e;if(y.length>0)throw new n(`Failed to load module ${S(o)} in package ${S(p)} (${y.length} underlying failures: ${i(c(y,(e=>e.message)),", ")}`)}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d,E,P;e([["./module-load.js",[["makeAlias",[e=>o=e]]]],["./commons.js",[["Proxy",[e=>n=e]],["TypeError",[e=>s=e]],["create",[e=>a=e]],["freeze",[e=>i=e]],["mapGet",[e=>c=e]],["mapHas",[e=>l=e]],["mapSet",[e=>p=e]],["ownKeys",[e=>m=e]],["reflectGet",[e=>u=e]],["reflectGetOwnPropertyDescriptor",[e=>y=e]],["reflectHas",[e=>f=e]],["reflectIsExtensible",[e=>g=e]],["reflectPreventExtensions",[e=>d=e]],["weakmapSet",[e=>E=e]]]],["./error/assert.js",[["assert",[e=>P=e]]]]]);const{quote:w}=P,b=()=>{let e=!1;const t=a(null);return i({activate(){e=!0},proxiedExports:t,exportsProxy:new n(t,{get(r,o,n){if(!e)throw new s(`Cannot get property ${w(o)} of module exports namespace, the module has not yet begun to execute`);return u(t,o,n)},set(e,t,r){throw new s(`Cannot set property ${w(t)} of module exports namespace`)},has(r,o){if(!e)throw new s(`Cannot check property ${w(o)}, the module has not yet begun to execute`);return f(t,o)},deleteProperty(e,t){throw new s(`Cannot delete property ${w(t)}s of module exports namespace`)},ownKeys(r){if(!e)throw new s("Cannot enumerate keys, the module has not yet begun to execute");return m(t)},getOwnPropertyDescriptor(r,o){if(!e)throw new s(`Cannot get own property descriptor ${w(o)}, the module has not yet begun to execute`);return y(t,o)},preventExtensions(r){if(!e)throw new s("Cannot prevent extensions of module exports namespace, the module has not yet begun to execute");return d(t)},isExtensible(){if(!e)throw new s("Cannot check extensibility of module exports namespace, the module has not yet begun to execute");return g(t)},getPrototypeOf:e=>null,setPrototypeOf(e,t){throw new s("Cannot set prototype of module exports namespace")},defineProperty(e,t,r){throw new s(`Cannot define property ${w(t)} of module exports namespace`)},apply(e,t,r){throw new s("Cannot call module exports namespace, it is not a function")},construct(e,t){throw new s("Cannot construct module exports namespace, it is not a constructor")}})})};r.deferExports(b),r.getDeferredExports(((e,t,r,n)=>{const{deferredExports:s}=t;if(!l(s,n)){const t=b();E(r,t.exportsProxy,o(e,n)),p(s,n,t)}return c(s,n)}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d,E,P,w,b,h;e([["./error/assert.js",[["assert",[e=>o=e]]]],["./module-proxy.js",[["getDeferredExports",[e=>n=e]]]],["./commons.js",[["ReferenceError",[e=>s=e]],["SyntaxError",[e=>a=e]],["TypeError",[e=>i=e]],["arrayForEach",[e=>c=e]],["arrayIncludes",[e=>l=e]],["arrayPush",[e=>p=e]],["arraySome",[e=>m=e]],["arraySort",[e=>u=e]],["create",[e=>y=e]],["defineProperty",[e=>f=e]],["entries",[e=>g=e]],["freeze",[e=>d=e]],["isArray",[e=>E=e]],["keys",[e=>P=e]],["mapGet",[e=>w=e]],["weakmapGet",[e=>b=e]]]],["./compartment-evaluate.js",[["compartmentEvaluate",[e=>h=e]]]]]);const{quote:S}=o;r.makeThirdPartyModuleInstance(((e,t,r,o,s,a)=>{const{exportsProxy:l,proxiedExports:u,activate:g}=n(r,b(e,r),o,s),P=y(null);if(t.exports){if(!E(t.exports)||m(t.exports,(e=>"string"!=typeof e)))throw new i('SES third-party static module record "exports" property must be an array of strings for module '+s);c(t.exports,(e=>{let t=u[e];const r=[];f(u,e,{get:()=>t,set:e=>{t=e;for(const t of r)t(e)},enumerable:!0,configurable:!1}),P[e]=e=>{p(r,e),e(t)}}))}let w=!1;return d({notifiers:P,exportsProxy:l,execute(){w||(g(),w=!0,t.execute(u,r,a))}})})),r.makeModuleInstance(((e,t,r,o)=>{const{compartment:m,moduleSpecifier:E,staticModuleRecord:v}=r,{reexports:k=[],__syncModuleProgram__:j,__fixedExportMap__:A={},__liveExportMap__:T={}}=v,x=b(e,m),{__shimTransforms__:I}=x,{exportsProxy:O,proxiedExports:_,activate:C}=n(m,x,t,E),F=y(null),V=y(null),N=y(null),R=y(null),M=y(null),$=y(null);function L(e){const t=y(null);t.default=!1;for(const[r,n]of e){const e=w(o,r);e.execute();const{notifiers:s}=e;for(const[e,t]of n){const o=s[e];if(!o)throw a(`The requested module '${r}' does not provide an export named '${e}'`);for(const e of t)o(e)}if(l(k,r))for(const[e,r]of g(s))void 0===t[e]?t[e]=r:t[e]=!1}for(const[e,r]of g(t))if(!$[e]&&!1!==r){let t;$[e]=r,r((e=>t=e)),F[e]={get:()=>t,set:void 0,enumerable:!0,configurable:!1}}c(u(P(F)),(e=>f(_,e,F[e]))),d(_),C()}c(g(A),(([e,[t]])=>{let r=M[t];if(!r){let e,o=!0,n=[];const a=()=>{if(o)throw new s(`binding ${S(t)} not yet initialized`);return e},c=d((r=>{if(!o)throw new i(`Internal: binding ${S(t)} already initialized`);e=r;const s=n;n=null,o=!1;for(const e of s)e(r);return r}));r={get:a,notify:t=>{t!==c&&(o?p(n,t):t(e))}},M[t]=r,N[t]=c}F[e]={get:r.get,set:void 0,enumerable:!0,configurable:!1},$[e]=r.notify})),c(g(T),(([e,[t,r]])=>{let o=M[t];if(!o){let n,a=!0;const i=[],c=()=>{if(a)throw new s(`binding ${S(e)} not yet initialized`);return n},l=d((e=>{n=e,a=!1;for(const t of i)t(e)})),m=e=>{if(a)throw new s(`binding ${S(t)} not yet initialized`);n=e;for(const t of i)t(e)};o={get:c,notify:e=>{e!==l&&(p(i,e),a||e(n))}},M[t]=o,r&&f(V,t,{get:c,set:m,enumerable:!0,configurable:!1}),R[t]=l}F[e]={get:o.get,set:void 0,enumerable:!0,configurable:!1},$[e]=o.notify})),$["*"]=e=>{e(_)};let G,D=h(x,j,{globalObject:m.globalThis,transforms:I,__moduleShimLexicals__:V}),U=!1;return d({notifiers:$,exportsProxy:O,execute:function(){if(D){const e=D;D=null;try{e(d({imports:d(L),onceVar:d(N),liveVar:d(R)}))}catch(e){U=!0,G=e}}if(U)throw G}})}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g;e([["./error/assert.js",[["assert",[e=>o=e]]]],["./module-instance.js",[["makeModuleInstance",[e=>n=e]],["makeThirdPartyModuleInstance",[e=>s=e]]]],["./commons.js",[["Map",[e=>a=e]],["ReferenceError",[e=>i=e]],["TypeError",[e=>c=e]],["entries",[e=>l=e]],["isArray",[e=>p=e]],["isObject",[e=>m=e]],["mapGet",[e=>u=e]],["mapHas",[e=>y=e]],["mapSet",[e=>f=e]],["weakmapGet",[e=>g=e]]]]]);const{quote:d}=o,E=(e,t,r,o)=>{const{name:n,moduleRecords:s}=g(e,r),a=u(s,o);if(void 0===a)throw new i(`Missing link to module ${d(o)} from compartment ${d(n)}`);return P(e,t,a)};r.link(E);const P=(e,t,r)=>{const{compartment:i,moduleSpecifier:P,resolvedImports:w,staticModuleRecord:b}=r,{instances:h}=g(e,i);if(y(h,P))return u(h,P);!function(e,t){o(m(e),`Static module records must be of type object, got ${d(e)}, for module ${d(t)}`);const{imports:r,exports:n,reexports:s=[]}=e;o(p(r),`Property 'imports' of a static module record must be an array, got ${d(r)}, for module ${d(t)}`),o(p(n),`Property 'exports' of a precompiled module record must be an array, got ${d(n)}, for module ${d(t)}`),o(p(s),`Property 'reexports' of a precompiled module record must be an array if present, got ${d(s)}, for module ${d(t)}`)}(b,P);const S=new a;let v;if(function(e){return"string"==typeof e.__syncModuleProgram__}(b))!function(e,t){const{__fixedExportMap__:r,__liveExportMap__:n}=e;o(m(r),`Property '__fixedExportMap__' of a precompiled module record must be an object, got ${d(r)}, for module ${d(t)}`),o(m(n),`Property '__liveExportMap__' of a precompiled module record must be an object, got ${d(n)}, for module ${d(t)}`)}(b,P),v=n(e,t,r,S);else{if(!function(e){return"function"==typeof e.execute}(b))throw new c("importHook must return a static module record, got "+d(b));!function(e,t){const{exports:r}=e;o(p(r),`Property 'exports' of a third-party static module record must be an array, got ${d(r)}, for module ${d(t)}`)}(b,P),v=s(e,b,i,t,P,w)}f(h,P,v);for(const[r,o]of l(w)){const n=E(e,t,i,o);f(S,r,n)}return v};r.instantiate(P)},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d,E,P,w,b,h,S,v,k,j,A,T,x;e([["./commons.js",[["Map",[e=>o=e]],["ReferenceError",[e=>n=e]],["TypeError",[e=>s=e]],["WeakMap",[e=>a=e]],["WeakSet",[e=>i=e]],["arrayFilter",[e=>c=e]],["arrayJoin",[e=>l=e]],["assign",[e=>p=e]],["defineProperties",[e=>m=e]],["entries",[e=>u=e]],["freeze",[e=>y=e]],["getOwnPropertyNames",[e=>f=e]],["promiseThen",[e=>g=e]],["weakmapGet",[e=>d=e]],["weakmapSet",[e=>E=e]],["weaksetHas",[e=>P=e]]]],["./global-object.js",[["setGlobalObjectConstantProperties",[e=>w=e]],["setGlobalObjectMutableProperties",[e=>b=e]]]],["./scope-constants.js",[["isValidIdentifierName",[e=>h=e]]]],["./whitelist.js",[["sharedGlobalPropertyNames",[e=>S=e]]]],["./module-load.js",[["load",[e=>v=e]]]],["./module-link.js",[["link",[e=>k=e]]]],["./module-proxy.js",[["getDeferredExports",[e=>j=e]]]],["./error/assert.js",[["assert",[e=>A=e]]]],["./compartment-evaluate.js",[["compartmentEvaluate",[e=>T=e]]]],["./make-safe-evaluator.js",[["makeSafeEvaluator",[e=>x=e]]]]]);const{quote:I}=A,O=new a,_=new a,C=e=>{const{importHook:t,resolveHook:r}=d(_,e);if("function"!=typeof t||"function"!=typeof r)throw new s("Compartment must be constructed with an importHook and a resolveHook for it to be able to load modules")},F=function(e={},t={},r={}){throw new s("Compartment.prototype.constructor is not a valid constructor.")};r.InertCompartment(F);const V=(e,t)=>{const{execute:r,exportsProxy:o}=k(_,O,e,t);return r(),o},N={constructor:F,get globalThis(){return d(_,this).globalObject},get name(){return d(_,this).name},evaluate(e,t={}){const r=d(_,this);return T(r,e,t)},toString:()=>"[object Compartment]",__isKnownScopeProxy__(e){const{knownScopeProxies:t}=d(_,this);return P(t,e)},module(e){if("string"!=typeof e)throw new s("first argument of module() must be a string");C(this);const{exportsProxy:t}=j(this,d(_,this),O,e);return t},async import(e){if("string"!=typeof e)throw new s("first argument of import() must be a string");return C(this),g(v(_,O,this,e),(()=>({namespace:V(this,e)})))},async load(e){if("string"!=typeof e)throw new s("first argument of load() must be a string");return C(this),v(_,O,this,e)},importNow(e){if("string"!=typeof e)throw new s("first argument of importNow() must be a string");return C(this),V(this,e)}};r.CompartmentPrototype(N),m(F,{prototype:{value:N}}),r.makeCompartmentConstructor(((e,t,r)=>{function a(a={},m={},g={}){if(void 0===new.target)throw new s("Class constructor Compartment cannot be invoked without 'new'");const{name:P="<unknown>",transforms:v=[],__shimTransforms__:k=[],globalLexicals:j={},resolveHook:A,importHook:T,moduleMapHook:C}=g,F=[...v,...k],V=new o,N=new o,R=new o;for(const[e,t]of u(m||{})){if("string"==typeof t)throw new s(`Cannot map module ${I(e)} to ${I(t)} in parent compartment`);if(void 0===d(O,t))throw n(`Cannot map module ${I(e)} because it has no known compartment in this realm`)}const M=c(f(j),(e=>!h(e)));if(M.length)throw new s(`Cannot create compartment with invalid names for global lexicals: ${l(M,", ")}; these names would not be lexically mentionable`);const $=y({...j}),L={};w(L);const G=new i,{safeEvaluate:D}=x({globalObject:L,localObject:$,globalTransforms:F,sloppyGlobalsMode:!1,knownScopeProxies:G});b(L,{intrinsics:t,newGlobalPropertyNames:S,makeCompartmentConstructor:e,safeEvaluate:D,markVirtualizedNativeFunction:r}),p(L,a),E(_,this,{name:P,globalTransforms:F,globalObject:L,knownScopeProxies:G,globalLexicals:$,safeEvaluate:D,resolveHook:A,importHook:T,moduleMap:m,moduleMapHook:C,moduleRecords:V,__shimTransforms__:k,deferredExports:R,instances:N})}return a.prototype=N,a}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d,E,P,w,b;e([["./commons.js",[["TypeError",[e=>o=e]],["WeakSet",[e=>n=e]],["arrayFilter",[e=>s=e]],["defineProperty",[e=>a=e]],["entries",[e=>i=e]],["freeze",[e=>c=e]],["getOwnPropertyDescriptor",[e=>l=e]],["getOwnPropertyDescriptors",[e=>p=e]],["globalThis",[e=>m=e]],["is",[e=>u=e]],["isObject",[e=>y=e]],["objectHasOwnProperty",[e=>f=e]],["values",[e=>g=e]],["weaksetHas",[e=>d=e]]]],["./whitelist.js",[["constantProperties",[e=>E=e]],["sharedGlobalPropertyNames",[e=>P=e]],["universalPropertyNames",[e=>w=e]],["whitelist",[e=>b=e]]]]]);const h=e=>"function"==typeof e;function S(e,t,r){if(f(e,t)){const n=l(e,t);if(!u(n.value,r.value)||n.get!==r.get||n.set!==r.set||n.writable!==r.writable||n.enumerable!==r.enumerable||n.configurable!==r.configurable)throw new o("Conflicting definitions of "+t)}a(e,t,r)}function v(e,t){const r={__proto__:null};for(const[o,n]of i(t))f(e,o)&&(r[n]=e[o]);return r}const k=()=>{const e={__proto__:null};let t;const r=t=>{!function(e,t){for(const[r,o]of i(t))S(e,r,o)}(e,p(t))};c(r);const a=()=>{for(const[t,r]of i(e)){if(!y(r))continue;if(!f(r,"prototype"))continue;const n=b[t];if("object"!=typeof n)throw new o("Expected permit object at whitelist."+t);const s=n.prototype;if(!s)throw new o(t+".prototype property not whitelisted");if("string"!=typeof s||!f(b,s))throw new o(`Unrecognized ${t}.prototype whitelist entry`);const a=r.prototype;if(f(e,s)){if(e[s]!==a)throw new o("Conflicting bindings of "+s)}else e[s]=a}};c(a);const l=()=>(c(e),t=new n(s(g(e),h)),e);c(l);const u=e=>{if(!t)throw new o("isPseudoNative can only be called after finalIntrinsics");return d(t,e)};c(u);const P={addIntrinsics:r,completePrototypes:a,finalIntrinsics:l,isPseudoNative:u};return c(P),r(E),r(v(m,w)),P};r.makeIntrinsicsCollector(k),r.getGlobalIntrinsics((e=>{const{addIntrinsics:t,finalIntrinsics:r}=k();return t(v(e,P)),r()}))},({imports:e,liveVar:t,onceVar:r})=>{e([]),r.minEnablements({"%ObjectPrototype%":{toString:!0},"%FunctionPrototype%":{toString:!0},"%ErrorPrototype%":{name:!0}});const o={"%ObjectPrototype%":{toString:!0,valueOf:!0},"%ArrayPrototype%":{toString:!0,push:!0},"%FunctionPrototype%":{constructor:!0,bind:!0,toString:!0},"%ErrorPrototype%":{constructor:!0,message:!0,name:!0,toString:!0},"%TypeErrorPrototype%":{constructor:!0,message:!0,name:!0},"%SyntaxErrorPrototype%":{message:!0,name:!0},"%RangeErrorPrototype%":{message:!0,name:!0},"%URIErrorPrototype%":{message:!0,name:!0},"%EvalErrorPrototype%":{message:!0,name:!0},"%ReferenceErrorPrototype%":{message:!0,name:!0},"%PromisePrototype%":{constructor:!0},"%TypedArrayPrototype%":"*","%Generator%":{constructor:!0,name:!0,toString:!0},"%IteratorPrototype%":{toString:!0}};r.moderateEnablements(o);const n={...o,"%ObjectPrototype%":"*","%TypedArrayPrototype%":"*"};r.severeEnablements(n)},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d,E;e([["./commons.js",[["Set",[e=>o=e]],["String",[e=>n=e]],["TypeError",[e=>s=e]],["arrayForEach",[e=>a=e]],["defineProperty",[e=>i=e]],["getOwnPropertyDescriptor",[e=>c=e]],["getOwnPropertyDescriptors",[e=>l=e]],["getOwnPropertyNames",[e=>p=e]],["isObject",[e=>m=e]],["objectHasOwnProperty",[e=>u=e]],["ownKeys",[e=>y=e]],["setHas",[e=>f=e]]]],["./enablements.js",[["minEnablements",[e=>g=e]],["moderateEnablements",[e=>d=e]],["severeEnablements",[e=>E=e]]]]]),r.default((function(e,t,r=[]){const P=new o(r);function w(e,t,r,o){if("value"in o&&o.configurable){const{value:a}=o;function c(){return a}i(c,"originalValue",{value:a,writable:!1,enumerable:!1,configurable:!1});const l=f(P,r);i(t,r,{get:c,set:function(o){if(t===this)throw new s(`Cannot assign to read only property '${n(r)}' of '${e}'`);u(this,r)?this[r]=o:(l&&console.error(new s("Override property "+r)),i(this,r,{value:o,writable:!0,enumerable:!0,configurable:!0}))},enumerable:o.enumerable,configurable:o.configurable})}}function b(e,t,r){const o=c(t,r);o&&w(e,t,r,o)}function h(e,t){const r=l(t);r&&a(y(r),(o=>w(e,t,o,r[o])))}let S;switch(t){case"min":S=g;break;case"moderate":S=d;break;case"severe":S=E;break;default:throw new s("unrecognized overrideTaming "+t)}!function e(t,r,o){for(const a of p(o)){const i=c(r,a);if(!i||i.get||i.set)continue;const l=`${t}.${n(a)}`,p=o[a];if(!0===p)b(l,r,a);else if("*"===p)h(l,i.value);else{if(!m(p))throw new s("Unexpected override enablement plan "+l);e(l,i.value,p)}}}("root",e,S)}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a;e([["./commons.js",[["arrayPush",[e=>o=e]],["arraySlice",[e=>n=e]],["freeze",[e=>s=e]]]],["./error/assert.js",[["assert",[e=>a=e]]]]]);const{details:i,quote:c}=a,l=e=>{const t=[],r=(r,n)=>{a.typeof(r,"string",i`Environment option name ${c(r)} must be a string.`),a.typeof(n,"string",i`Environment option default setting ${c(n)} must be a string.`);let s=n;const l=e.process;if(l&&"object"==typeof l){const e=l.env;if(e&&"object"==typeof e&&r in e){o(t,r);const n=e[r];a.typeof(n,"string",i`Environment option named ${c(r)}, if present, must have a corresponding string value, got ${c(n)}`),s=n}}return a(void 0===s||"string"==typeof s,i`Environment option value ${c(s)}, if present, must be a string.`),s};s(r);const l=()=>s(n(t));return s(l),{getEnvironmentOption:r,getCapturedEnvironmentOptionNames:l}};r.makeEnvironmentCaptor(l),s(l)},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y;e([["../commons.js",[["WeakSet",[e=>o=e]],["arrayFilter",[e=>n=e]],["arrayMap",[e=>s=e]],["arrayPush",[e=>a=e]],["defineProperty",[e=>i=e]],["freeze",[e=>c=e]],["fromEntries",[e=>l=e]],["isError",[e=>p=e]],["stringEndsWith",[e=>m=e]],["weaksetAdd",[e=>u=e]],["weaksetHas",[e=>y=e]]]],["./types.js",[]],["./internal-types.js",[]]]);const f=c([["debug","debug"],["log","log"],["info","info"],["warn","warn"],["error","error"],["trace","log"],["dirxml","log"],["group","log"],["groupCollapsed","log"]]),g=c([["assert","error"],["timeLog","log"],["clear",void 0],["count","info"],["countReset",void 0],["dir","log"],["groupEnd","log"],["table","log"],["time","info"],["timeEnd","info"],["profile",void 0],["profileEnd",void 0],["timeStamp",void 0]]),d=c([...f,...g]);r.consoleWhitelist(d);const E=(e,{shouldResetForDebugging:t=!1}={})=>{t&&e.resetErrorTagNum();let r=[];const o=l(s(d,(([e,t])=>{const o=(...t)=>{a(r,[e,...t])};return i(o,"name",{value:e}),[e,c(o)]})));c(o);const n=()=>{const e=c(r);return r=[],e};return c(n),c({loggingConsole:o,takeLog:n})};r.makeLoggingConsoleKit(E),c(E);const P={NOTE:"ERROR_NOTE:",MESSAGE:"ERROR_MESSAGE:"};c(P),r.BASE_CONSOLE_LEVEL("debug");const w=(e,t)=>{const{getStackString:r,tagError:d,takeMessageLogArgs:E,takeNoteLogArgsArray:w}=t,b=(e,t)=>s(e,(e=>p(e)?(a(t,e),`(${d(e)})`):e)),h=(t,r,o,n)=>{const s=d(t),a=r===P.MESSAGE?s+":":`${s} ${r}`,i=b(o,n);e.debug(a,...i)},S=(t,r)=>{if(0===t.length)return;if(1===t.length&&void 0===r)return void j(t[0]);let o;o=1===t.length?"Nested error":`Nested ${t.length} errors`,void 0!==r&&(o=`${o} under ${r}`),e.group(o);try{for(const e of t)j(e)}finally{e.groupEnd()}},v=new o,k=(e,t)=>{const r=[];h(e,P.NOTE,t,r),S(r,d(e))},j=t=>{if(y(v,t))return;const o=d(t);u(v,t);const n=[],s=E(t),a=w(t,k);void 0===s?e.debug(o+":",t.message):h(t,P.MESSAGE,s,n);let i=r(t);"string"==typeof i&&i.length>=1&&!m(i,"\n")&&(i+="\n"),e.debug(i);for(const e of a)h(t,P.NOTE,e,n);S(n,o)},A=s(f,(([t,r])=>{const o=(...r)=>{const o=[],n=b(r,o);e[t](...n),S(o)};return i(o,"name",{value:t}),[t,c(o)]})),T=n(g,(([t,r])=>t in e)),x=s(T,(([t,r])=>{const o=(...r)=>{e[t](...r)};return i(o,"name",{value:t}),[t,c(o)]})),I=l([...A,...x]);return c(I)};r.makeCausalConsole(w),c(w);const b=(e,t,r)=>{const o=n(d,(([t,r])=>t in e)),a=s(o,(([r,o])=>[r,c(((...n)=>{(void 0===o||t.canLog(o))&&e[r](...n)}))])),i=l(a);return c(i)};r.filterConsole(b),c(b)},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a;e([["../commons.js",[["TypeError",[e=>o=e]],["globalThis",[e=>n=e]]]],["./assert.js",[["loggedErrorHandler",[e=>s=e]]]],["./console.js",[["makeCausalConsole",[e=>a=e]]]],["./types.js",[]],["./internal-types.js",[]]]);const i=console;r.tameConsole(((e="safe",t="platform",r)=>{if("safe"!==e&&"unsafe"!==e)throw new o("unrecognized consoleTaming "+e);if("unsafe"===e)return{console:i};let c;c=void 0===r?s:{...s,getStackString:r};const l=a(i,c);return"none"!==t&&void 0!==n.process&&n.process.on("uncaughtException",(e=>{l.error(e),"platform"===t||"exit"===t?n.process.exit(n.process.exitCode||-1):"abort"===t&&n.process.abort()})),"none"!==t&&void 0!==n.window&&void 0!==n.window.addEventListener&&n.window.addEventListener("error",(e=>{e.preventDefault(),l.error(e.error),"exit"!==t&&"abort"!==t||(n.window.location.href="about:blank")})),{console:l}}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d,E,P,w,b;e([["../commons.js",[["WeakMap",[e=>o=e]],["WeakSet",[e=>n=e]],["apply",[e=>s=e]],["arrayFilter",[e=>a=e]],["arrayJoin",[e=>i=e]],["arrayMap",[e=>c=e]],["arraySlice",[e=>l=e]],["create",[e=>p=e]],["defineProperties",[e=>m=e]],["fromEntries",[e=>u=e]],["reflectSet",[e=>y=e]],["regexpExec",[e=>f=e]],["regexpTest",[e=>g=e]],["weakmapGet",[e=>d=e]],["weakmapHas",[e=>E=e]],["weakmapSet",[e=>P=e]],["weaksetAdd",[e=>w=e]],["weaksetHas",[e=>b=e]]]]]);const h=["getTypeName","getFunctionName","getMethodName","getFileName","getLineNumber","getColumnNumber","getEvalOrigin","isToplevel","isEval","isNative","isConstructor","isAsync","getPosition","getScriptNameOrSourceURL","toString"],S=e=>{const t=u(c(h,(t=>{const r=e[t];return[t,()=>s(r,e,[])]})));return p(t,{})},v=[/\/node_modules\//,/^(?:node:)?internal\//,/\/packages\/ses\/src\/error\/assert.js$/,/\/packages\/eventual-send\/src\//],k=e=>{if(!e)return!0;for(const t of v)if(g(t,e))return!1;return!0};r.filterFileName(k);const j=[/^((?:.*[( ])?)[:/\w_-]*\/\.\.\.\/(.+)$/,/^((?:.*[( ])?)[:/\w_-]*\/(packages\/.+)$/],A=e=>{for(const t of j){const r=f(t,e);if(r)return i(l(r,1),"")}return e};r.shortenCallSiteString(A),r.tameV8ErrorConstructor(((e,t,r,l)=>{const p=e.captureStackTrace,u=e=>"verbose"===l||k(e.getFileName()),f=e=>{let t=""+e;return"concise"===l&&(t=A(t)),"\n  at "+t},g=(e,t)=>i(c(a(t,u),f),""),h=new o,v={captureStackTrace(t,r=v.captureStackTrace){"function"!=typeof p?y(t,"stack",""):s(p,e,[t,r])},getStackString(e){E(h,e)||e.stack;const t=d(h,e);return t?g(0,t):""},prepareStackTrace:(e,t)=>(P(h,e,t),"unsafe"===r?`${e}${g(0,t)}`:"")},j=v.prepareStackTrace;e.prepareStackTrace=j;const T=new n([j]);return m(t,{captureStackTrace:{value:v.captureStackTrace,writable:!0,enumerable:!1,configurable:!0},prepareStackTrace:{get:()=>e.prepareStackTrace,set(t){if("function"==typeof t){const r=(e=>{if(b(T,e))return e;const t={prepareStackTrace:(t,r)=>(P(h,t,r),e(t,(e=>c(e,S))(r)))};return w(T,t.prepareStackTrace),t.prepareStackTrace})(t);e.prepareStackTrace=r}else e.prepareStackTrace=j},enumerable:!1,configurable:!0}}),v.getStackString}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m;e([["../commons.js",[["FERAL_ERROR",[e=>o=e]],["TypeError",[e=>n=e]],["apply",[e=>s=e]],["construct",[e=>a=e]],["defineProperties",[e=>i=e]],["setPrototypeOf",[e=>c=e]],["getOwnPropertyDescriptor",[e=>l=e]]]],["../whitelist.js",[["NativeErrors",[e=>p=e]]]],["./tame-v8-error-constructor.js",[["tameV8ErrorConstructor",[e=>m=e]]]]]);const u=l(o.prototype,"stack"),y=u&&u.get,f=e=>"function"==typeof y?s(y,e,[]):"stack"in e?""+e.stack:"";r.default((function(e="safe",t="concise"){if("safe"!==e&&"unsafe"!==e)throw new n("unrecognized errorTaming "+e);if("concise"!==t&&"verbose"!==t)throw new n("unrecognized stackFiltering "+t);const r=o.prototype,l="function"==typeof o.captureStackTrace?"v8":"unknown",{captureStackTrace:u}=o,y=(e={})=>{const t=function(...e){let r;return r=void 0===new.target?s(o,this,e):a(o,e,new.target),"v8"===l&&s(u,o,[r,t]),r};return i(t,{length:{value:1},prototype:{value:r,writable:!1,enumerable:!1,configurable:!1}}),t},g=y({powers:"original"}),d=y({powers:"none"});i(r,{constructor:{value:d}});for(const e of p)c(e,d);i(g,{stackTraceLimit:{get(){if("number"==typeof o.stackTraceLimit)return o.stackTraceLimit},set(e){"number"==typeof e&&("number"!=typeof o.stackTraceLimit||(o.stackTraceLimit=e))},enumerable:!1,configurable:!0}}),i(d,{stackTraceLimit:{get(){},set(e){},enumerable:!1,configurable:!0}});let E=f;return"v8"===l&&(E=m(o,g,e,t)),{"%InitialGetStackString%":E,"%InitialError%":g,"%SharedError%":d}}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d,E;function P(e){return l(e).constructor}e([["./commons.js",[["FERAL_FUNCTION",[e=>o=e]],["Float32Array",[e=>n=e]],["Map",[e=>s=e]],["Set",[e=>a=e]],["String",[e=>i=e]],["getOwnPropertyDescriptor",[e=>c=e]],["getPrototypeOf",[e=>l=e]],["iterateArray",[e=>p=e]],["iterateMap",[e=>m=e]],["iterateSet",[e=>u=e]],["iterateString",[e=>y=e]],["matchAllRegExp",[e=>f=e]],["matchAllSymbol",[e=>g=e]],["regexpPrototype",[e=>d=e]]]],["./compartment-shim.js",[["InertCompartment",[e=>E=e]]]]]),r.getAnonymousIntrinsics((()=>{const e=o.prototype.constructor,t=c(function(){return arguments}(),"callee").get,r=y(new i),w=l(r),b=d[g]&&f(/./),h=b&&l(b),S=p([]),v=l(S),k=l(n),j=m(new s),A=l(j),T=u(new a),x=l(T),I=l(v),O=P((function*(){})),_=O.prototype,C=P((async function*(){})),F=C.prototype,V=F.prototype,N=l(V);return{"%InertFunction%":e,"%ArrayIteratorPrototype%":v,"%InertAsyncFunction%":P((async function(){})),"%AsyncGenerator%":F,"%InertAsyncGeneratorFunction%":C,"%AsyncGeneratorPrototype%":V,"%AsyncIteratorPrototype%":N,"%Generator%":_,"%InertGeneratorFunction%":O,"%IteratorPrototype%":I,"%MapIteratorPrototype%":A,"%RegExpStringIteratorPrototype%":h,"%SetIteratorPrototype%":x,"%StringIteratorPrototype%":w,"%ThrowTypeError%":t,"%TypedArray%":k,"%InertCompartment%":E}}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d,E,P,w,b,h;e([["./commons.js",[["Set",[e=>o=e]],["String",[e=>n=e]],["TypeError",[e=>s=e]],["WeakMap",[e=>a=e]],["WeakSet",[e=>i=e]],["arrayForEach",[e=>c=e]],["freeze",[e=>l=e]],["getOwnPropertyDescriptors",[e=>p=e]],["getPrototypeOf",[e=>m=e]],["isObject",[e=>u=e]],["objectHasOwnProperty",[e=>y=e]],["ownKeys",[e=>f=e]],["setAdd",[e=>g=e]],["setForEach",[e=>d=e]],["setHas",[e=>E=e]],["weakmapGet",[e=>P=e]],["weakmapSet",[e=>w=e]],["weaksetAdd",[e=>b=e]],["weaksetHas",[e=>h=e]]]]]),r.makeHardener((()=>{const e=new i,{harden:t}={harden(t){const r=new o,i=new a;function S(t,o){if(!u(t))return;const n=typeof t;if("object"!==n&&"function"!==n)throw new s("Unexpected typeof: "+n);h(e,t)||E(r,t)||(g(r,t),w(i,t,o))}return S(t),d(r,(function(e){l(e);const t=P(i,e)||"unknown",r=p(e);S(m(e),t+".__proto__"),c(f(r),(e=>{const o=`${t}.${n(e)}`,s=r[e];y(s,"value")?S(s.value,""+o):(S(s.get,o+"(get)"),S(s.set,o+"(set)"))}))})),d(r,(function(t){b(e,t)})),t}};return t}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i;e([["./commons.js",[["Date",[e=>o=e]],["TypeError",[e=>n=e]],["apply",[e=>s=e]],["construct",[e=>a=e]],["defineProperties",[e=>i=e]]]]]),r.default((function(e="safe"){if("safe"!==e&&"unsafe"!==e)throw new n("unrecognized dateTaming "+e);const t=o,r=t.prototype,c=({powers:e="none"}={})=>{let n;return n="original"===e?function(...e){return void 0===new.target?s(t,void 0,e):a(t,e,new.target)}:function(...e){return void 0===new.target?"Invalid Date":(0===e.length&&(e=[NaN]),a(t,e,new.target))},i(n,{length:{value:7},prototype:{value:r,writable:!1,enumerable:!1,configurable:!1},parse:{value:o.parse,writable:!0,enumerable:!1,configurable:!0},UTC:{value:o.UTC,writable:!0,enumerable:!1,configurable:!0}}),n},l=c({powers:"original"}),p=c({powers:"none"});return i(l,{now:{value:o.now,writable:!0,enumerable:!1,configurable:!0}}),i(p,{now:{value:()=>NaN,writable:!0,enumerable:!1,configurable:!0}}),i(r,{constructor:{value:p}}),{"%InitialDate%":l,"%SharedDate%":p}}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a;function i(e="safe"){if("safe"!==e&&"unsafe"!==e)throw new o("unrecognized domainTaming "+e);if("unsafe"!==e&&"object"==typeof n.process&&null!==n.process){const e=s(n.process,"domain");if(void 0!==e&&void 0!==e.get)throw new o("SES failed to lockdown, Node.js domains have been initialized (SES_NO_DOMAINS)");a(n.process,"domain",{value:null,configurable:!1,writable:!1,enumerable:!1})}}e([["./commons.js",[["TypeError",[e=>o=e]],["globalThis",[e=>n=e]],["getOwnPropertyDescriptor",[e=>s=e]],["defineProperty",[e=>a=e]]]]]),Object.defineProperty(i,"name",{value:"tameDomains"}),r.tameDomains(i)},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c;e([["./commons.js",[["FERAL_FUNCTION",[e=>o=e]],["SyntaxError",[e=>n=e]],["TypeError",[e=>s=e]],["defineProperties",[e=>a=e]],["getPrototypeOf",[e=>i=e]],["setPrototypeOf",[e=>c=e]]]]]),r.default((function(){try{o.prototype.constructor("return 1")}catch(e){return{}}const e={};function t(t,r,l){let p;try{p=(0,eval)(l)}catch(e){if(e instanceof n)return;throw e}const m=i(p),u=function(){throw new s("Function.prototype.constructor is not a valid constructor.")};a(u,{prototype:{value:m},name:{value:t,writable:!1,enumerable:!1,configurable:!0}}),a(m,{constructor:{value:u}}),u!==o.prototype.constructor&&c(u,o.prototype.constructor),e[r]=u}return t("Function","%InertFunction%","(function(){})"),t("GeneratorFunction","%InertGeneratorFunction%","(function*(){})"),t("AsyncFunction","%InertAsyncFunction%","(async function(){})"),t("AsyncGeneratorFunction","%InertAsyncGeneratorFunction%","(async function*(){})"),e}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m;e([["./commons.js",[["WeakSet",[e=>o=e]],["defineProperty",[e=>n=e]],["freeze",[e=>s=e]],["functionPrototype",[e=>a=e]],["functionToString",[e=>i=e]],["stringEndsWith",[e=>c=e]],["weaksetAdd",[e=>l=e]],["weaksetHas",[e=>p=e]]]]]),r.tameFunctionToString((()=>{if(void 0===m){const e=new o;n(a,"toString",{value:{toString(){const t=i(this,[]);return c(t,") { [native code] }")||!p(e,this)?t:`function ${this.name}() { [native code] }`}}.toString}),m=s((t=>l(e,t)))}return m}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p;e([["./commons.js",[["Number",[e=>o=e]],["String",[e=>n=e]],["TypeError",[e=>s=e]],["defineProperty",[e=>a=e]],["getOwnPropertyNames",[e=>i=e]],["isObject",[e=>c=e]],["regexpExec",[e=>l=e]]]],["./error/assert.js",[["assert",[e=>p=e]]]]]);const{details:m,quote:u}=p,y=/^(\w*[a-z])Locale([A-Z]\w*)$/,f={localeCompare(e){if(null==this)throw new s('Cannot localeCompare with null or undefined "this" value');const t=""+this;return t<(e=""+e)?-1:t>e?1:(p(t===e,m`expected ${u(t)} and ${u(e)} to compare`),0)},toString(){return""+this}},g=f.localeCompare,d=f.toString;r.default((function(e,t="safe"){if("safe"!==t&&"unsafe"!==t)throw new s("unrecognized localeTaming "+t);if("unsafe"!==t){a(n.prototype,"localeCompare",{value:g});for(const t of i(e)){const r=e[t];if(c(r))for(const e of i(r)){const t=l(y,e);if(t){p("function"==typeof r[e],m`expected ${u(e)} to be a function`);const o=`${t[1]}${t[2]}`,n=r[o];p("function"==typeof n,m`function ${u(o)} not found`),a(r,e,{value:n})}}}a(o.prototype,"toLocaleString",{value:d})}}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i;e([["./commons.js",[["Math",[e=>o=e]],["TypeError",[e=>n=e]],["create",[e=>s=e]],["getOwnPropertyDescriptors",[e=>a=e]],["objectPrototype",[e=>i=e]]]]]),r.default((function(e="safe"){if("safe"!==e&&"unsafe"!==e)throw new n("unrecognized mathTaming "+e);const t=o,r=t,{random:c,...l}=a(t);return{"%InitialMath%":r,"%SharedMath%":s(i,l)}}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c;e([["./commons.js",[["FERAL_REG_EXP",[e=>o=e]],["TypeError",[e=>n=e]],["construct",[e=>s=e]],["defineProperties",[e=>a=e]],["getOwnPropertyDescriptor",[e=>i=e]],["speciesSymbol",[e=>c=e]]]]]),r.default((function(e="safe"){if("safe"!==e&&"unsafe"!==e)throw new n("unrecognized regExpTaming "+e);const t=o.prototype,r=(e={})=>{const r=function(...e){return void 0===new.target?o(...e):s(o,e,new.target)};return a(r,{length:{value:2},prototype:{value:t,writable:!1,enumerable:!1,configurable:!1},[c]:i(o,c)}),r},l=r(),p=r();return"unsafe"!==e&&delete t.compile,a(t,{constructor:{value:p}}),{"%InitialRegExp%":l,"%SharedRegExp%":p}}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f;function g(e,t){if("string"==typeof t)return t;if("symbol"==typeof t)return"@@"+f(a(t),14,-1);throw new i(`Unexpected property name type ${e} ${t}`)}e([["./whitelist.js",[["whitelist",[e=>o=e]],["FunctionInstance",[e=>n=e]],["isAccessorPermit",[e=>s=e]]]],["./commons.js",[["String",[e=>a=e]],["TypeError",[e=>i=e]],["arrayIncludes",[e=>c=e]],["getOwnPropertyDescriptor",[e=>l=e]],["getPrototypeOf",[e=>p=e]],["isObject",[e=>m=e]],["objectHasOwnProperty",[e=>u=e]],["ownKeys",[e=>y=e]],["stringSlice",[e=>f=e]]]]]),r.default((function(e,t){const r=["undefined","boolean","number","string","symbol"];function a(t,o,n,s){if("object"==typeof s)return E(t,o,s),!0;if(!1===s)return!1;if("string"==typeof s)if("prototype"===n||"constructor"===n){if(u(e,s)){if(o!==e[s])throw new i("Does not match whitelist "+t);return!0}}else if(c(r,s)){if(typeof o!==s)throw new i(`At ${t} expected ${s} not ${typeof o}`);return!0}throw new i(`Unexpected whitelist permit ${s} at ${t}`)}function f(e,t,r,o){const n=l(t,r);if(u(n,"value")){if(s(o))throw new i("Accessor expected at "+e);return a(e,n.value,r,o)}if(!s(o))throw new i("Accessor not expected at "+e);return a(e+"<get>",n.get,r,o.get)&&a(e+"<set>",n.set,r,o.set)}function d(e,r,o){const s="__proto__"===o?"--proto--":o;return u(r,s)?r[s]:"function"==typeof e&&(t(e),u(n,s))?n[s]:void 0}function E(t,r,o){if(void 0!==r){!function(t,r,o){if(!m(r))throw new i(`Object expected: ${t}, ${r}, ${o}`);const n=p(r);if(null!==n||null!==o){if(void 0!==o&&"string"!=typeof o)throw new i(`Malformed whitelist permit ${t}.__proto__`);if(n!==e[o||"%ObjectPrototype%"])throw new i(`Unexpected intrinsic ${t}.__proto__ at ${o}`)}}(t,r,o["[[Proto]]"]);for(const e of y(r)){const n=g(t,e),s=`${t}.${n}`,a=d(r,o,n);if(!a||!f(s,r,e,a)){!1!==a&&console.warn("Removing "+s);try{delete r[e]}catch(t){throw e in r?console.error("failed to delete "+s,t):console.error(`deleting ${s} threw`,t),t}}}}}E("intrinsics",e,o)}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d,E,P,w,b,h,S,v,k,j,A,T,x,I,O,_,C,F,V;e([["./commons.js",[["FERAL_FUNCTION",[e=>o=e]],["FERAL_EVAL",[e=>n=e]],["TypeError",[e=>s=e]],["arrayFilter",[e=>a=e]],["arrayMap",[e=>i=e]],["globalThis",[e=>c=e]],["is",[e=>l=e]],["ownKeys",[e=>p=e]],["stringSplit",[e=>m=e]]]],["./error/stringify-utils.js",[["enJoin",[e=>u=e]]]],["./make-hardener.js",[["makeHardener",[e=>y=e]]]],["./intrinsics.js",[["makeIntrinsicsCollector",[e=>f=e]]]],["./whitelist-intrinsics.js",[["default",[e=>g=e]]]],["./tame-function-constructors.js",[["default",[e=>d=e]]]],["./tame-date-constructor.js",[["default",[e=>E=e]]]],["./tame-math-object.js",[["default",[e=>P=e]]]],["./tame-regexp-constructor.js",[["default",[e=>w=e]]]],["./enable-property-overrides.js",[["default",[e=>b=e]]]],["./tame-locale-methods.js",[["default",[e=>h=e]]]],["./global-object.js",[["setGlobalObjectConstantProperties",[e=>S=e]],["setGlobalObjectMutableProperties",[e=>v=e]]]],["./make-safe-evaluator.js",[["makeSafeEvaluator",[e=>k=e]]]],["./whitelist.js",[["initialGlobalPropertyNames",[e=>j=e]]]],["./tame-function-tostring.js",[["tameFunctionToString",[e=>A=e]]]],["./tame-domains.js",[["tameDomains",[e=>T=e]]]],["./error/tame-console.js",[["tameConsole",[e=>x=e]]]],["./error/tame-error-constructor.js",[["default",[e=>I=e]]]],["./error/assert.js",[["assert",[e=>O=e]],["makeAssert",[e=>_=e]]]],["./environment-options.js",[["makeEnvironmentCaptor",[e=>C=e]]]],["./get-anonymous-intrinsics.js",[["getAnonymousIntrinsics",[e=>F=e]]]],["./compartment-shim.js",[["makeCompartmentConstructor",[e=>V=e]]]]]);const{details:N,quote:R}=O;let M;const $=y(),L=(e={})=>{const{getEnvironmentOption:t,getCapturedEnvironmentOptionNames:r}=C(c),{errorTaming:y=t("LOCKDOWN_ERROR_TAMING","safe"),errorTrapping:L=t("LOCKDOWN_ERROR_TRAPPING","platform"),regExpTaming:G=t("LOCKDOWN_REGEXP_TAMING","safe"),localeTaming:D=t("LOCKDOWN_LOCALE_TAMING","safe"),consoleTaming:U=t("LOCKDOWN_CONSOLE_TAMING","safe"),overrideTaming:H=t("LOCKDOWN_OVERRIDE_TAMING","moderate"),stackFiltering:W=t("LOCKDOWN_STACK_FILTERING","concise"),domainTaming:z=t("LOCKDOWN_DOMAIN_TAMING","safe"),overrideDebug:B=a(m(t("LOCKDOWN_OVERRIDE_DEBUG",""),","),(e=>""!==e)),__allowUnsafeMonkeyPatching__:J=t("__LOCKDOWN_ALLOW_UNSAFE_MONKEY_PATCHING__","safe"),dateTaming:K="safe",mathTaming:q="safe",...Y}=e,X=r();X.length>0&&console.warn("SES Lockdown using options from environment variables "+u(i(X,R),"and"));const Z=p(Y);if(O(0===Z.length,N`lockdown(): non supported option ${R(Z)}`),O(void 0===M,`Already locked down at ${M} (SES_ALREADY_LOCKED_DOWN)`,s),M=new s("Prior lockdown (SES_ALREADY_LOCKED_DOWN)"),M.stack,(()=>{let e=!1;try{e=o("eval","SES_changed",'        eval("SES_changed = true");\n        return SES_changed;\n      ')(n,!1),e||delete c.SES_changed}catch(t){e=!0}if(!e)throw new s("SES cannot initialize unless 'eval' is the original intrinsic 'eval', suitable for direct-eval (dynamically scoped eval) (SES_DIRECT_EVAL)")})(),c.Function.prototype.constructor!==c.Function&&"function"==typeof c.harden&&"function"==typeof c.lockdown&&c.Date.prototype.constructor!==c.Date&&"function"==typeof c.Date.now&&l(c.Date.prototype.constructor.now(),NaN))throw new s("Already locked down but not by this SES instance (SES_MULTIPLE_INSTANCES)");T(z);const{addIntrinsics:Q,completePrototypes:ee,finalIntrinsics:te}=f();Q({harden:$}),Q(d()),Q(E(K)),Q(I(y,W)),Q(P(q)),Q(w(G)),Q(F()),ee();const re=te();let oe;"unsafe"!==y&&(oe=re["%InitialGetStackString%"]);const ne=x(U,L,oe);c.console=ne.console,"unsafe"===y&&c.assert===O&&(c.assert=_(void 0,!0)),h(re,D);const se=A();g(re,se),S(c);const{safeEvaluate:ae}=k({globalObject:c});return v(c,{intrinsics:re,newGlobalPropertyNames:j,makeCompartmentConstructor:V,safeEvaluate:ae,markVirtualizedNativeFunction:se}),function(){return b(re,H,B),"unsafe"!==J&&$(re),c.harden=$,!0}};r.repairIntrinsics(L),r.lockdown(((e={})=>{L(e)()}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p;if(e([["./src/commons.js",[["globalThis",[e=>o=e]],["TypeError",[e=>n=e]],["assign",[e=>s=e]]]],["./src/tame-function-tostring.js",[["tameFunctionToString",[e=>a=e]]]],["./src/intrinsics.js",[["getGlobalIntrinsics",[e=>i=e]]]],["./src/lockdown-shim.js",[["lockdown",[e=>c=e]]]],["./src/compartment-shim.js",[["makeCompartmentConstructor",[e=>l=e]]]],["./src/error/assert.js",[["assert",[e=>p=e]]]]]),function(){return this}())throw new n("SES failed to initialize, sloppy mode (SES_NO_SLOPPY)");const m=a(),u=l(l,i(o),m);s(o,{lockdown:c,Compartment:u,assert:p})}];function t(e,t){const r=[];return{get:function(){return t},set:function(e){t=e;for(const e of r)e(t)},observe:function(e){r.push(e),e(t)},enumerable:!0}}const r=[{globalThis:t(),Array:t(),Date:t(),Float32Array:t(),JSON:t(),Map:t(),Math:t(),Number:t(),Object:t(),Promise:t(),Proxy:t(),Reflect:t(),FERAL_REG_EXP:t(),Set:t(),String:t(),WeakMap:t(),WeakSet:t(),FERAL_ERROR:t(),RangeError:t(),ReferenceError:t(),SyntaxError:t(),TypeError:t(),assign:t(),create:t(),defineProperties:t(),entries:t(),freeze:t(),getOwnPropertyDescriptor:t(),getOwnPropertyDescriptors:t(),getOwnPropertyNames:t(),getPrototypeOf:t(),is:t(),isExtensible:t(),keys:t(),objectPrototype:t(),seal:t(),setPrototypeOf:t(),values:t(),speciesSymbol:t(),toStringTagSymbol:t(),iteratorSymbol:t(),matchAllSymbol:t(),stringifyJson:t(),fromEntries:t(),defineProperty:t(),apply:t(),construct:t(),reflectGet:t(),reflectGetOwnPropertyDescriptor:t(),reflectHas:t(),reflectIsExtensible:t(),ownKeys:t(),reflectPreventExtensions:t(),reflectSet:t(),isArray:t(),arrayPrototype:t(),mapPrototype:t(),proxyRevocable:t(),regexpPrototype:t(),setPrototype:t(),stringPrototype:t(),weakmapPrototype:t(),weaksetPrototype:t(),functionPrototype:t(),promisePrototype:t(),uncurryThis:t(),objectHasOwnProperty:t(),arrayFilter:t(),arrayForEach:t(),arrayIncludes:t(),arrayJoin:t(),arrayMap:t(),arrayPop:t(),arrayPush:t(),arraySlice:t(),arraySome:t(),arraySort:t(),iterateArray:t(),mapSet:t(),mapGet:t(),mapHas:t(),iterateMap:t(),setAdd:t(),setForEach:t(),setHas:t(),iterateSet:t(),regexpTest:t(),regexpExec:t(),matchAllRegExp:t(),stringEndsWith:t(),stringIncludes:t(),stringIndexOf:t(),stringMatch:t(),stringReplace:t(),stringSearch:t(),stringSlice:t(),stringSplit:t(),stringStartsWith:t(),iterateString:t(),weakmapDelete:t(),weakmapGet:t(),weakmapHas:t(),weakmapSet:t(),weaksetAdd:t(),weaksetGet:t(),weaksetHas:t(),functionToString:t(),promiseAll:t(),promiseCatch:t(),promiseThen:t(),getConstructorOf:t(),immutableObject:t(),isObject:t(),isError:t(),FERAL_EVAL:t(),FERAL_FUNCTION:t()},{},{an:t(),bestEffortStringify:t(),enJoin:t()},{},{unredactedDetails:t(),loggedErrorHandler:t(),makeAssert:t(),assert:t()},{makeEvaluateFactory:t()},{isValidIdentifierName:t(),getScopeConstants:t()},{createScopeHandler:t()},{getSourceURL:t()},{rejectHtmlComments:t(),evadeHtmlCommentTest:t(),rejectImportExpressions:t(),evadeImportExpressionTest:t(),rejectSomeDirectEvalExpressions:t(),mandatoryTransforms:t(),applyTransforms:t()},{makeSafeEvaluator:t()},{provideCompartmentEvaluator:t(),compartmentEvaluate:t()},{makeEvalFunction:t()},{makeFunctionConstructor:t()},{constantProperties:t(),universalPropertyNames:t(),initialGlobalPropertyNames:t(),sharedGlobalPropertyNames:t(),uniqueGlobalPropertyNames:t(),NativeErrors:t(),FunctionInstance:t(),isAccessorPermit:t(),whitelist:t()},{setGlobalObjectConstantProperties:t(),setGlobalObjectMutableProperties:t()},{makeAlias:t(),load:t()},{deferExports:t(),getDeferredExports:t()},{makeThirdPartyModuleInstance:t(),makeModuleInstance:t()},{link:t(),instantiate:t()},{InertCompartment:t(),CompartmentPrototype:t(),makeCompartmentConstructor:t()},{makeIntrinsicsCollector:t(),getGlobalIntrinsics:t()},{minEnablements:t(),moderateEnablements:t(),severeEnablements:t()},{default:t()},{makeEnvironmentCaptor:t()},{makeLoggingConsoleKit:t(),makeCausalConsole:t(),filterConsole:t(),consoleWhitelist:t(),BASE_CONSOLE_LEVEL:t()},{tameConsole:t()},{filterFileName:t(),shortenCallSiteString:t(),tameV8ErrorConstructor:t()},{default:t()},{getAnonymousIntrinsics:t()},{makeHardener:t()},{default:t()},{tameDomains:t()},{default:t()},{tameFunctionToString:t()},{default:t()},{default:t()},{default:t()},{default:t()},{repairIntrinsics:t(),lockdown:t()},{}],o=r.map((e=>Object.create(null,e)));for(let e=0;e<o.length;e+=1)r[e]["*"]=t(0,o[e]);function n(e,t,o){for(const[n,s]of e.get(t)){const e=r[o][n];if(void 0===e)throw new ReferenceError("Cannot import name "+n);for(const t of s)e.observe(t)}}e[0]({imports(e){new Map(e)},liveVar:{},onceVar:{universalThis:r[0].globalThis.set,Array:r[0].Array.set,Date:r[0].Date.set,Float32Array:r[0].Float32Array.set,JSON:r[0].JSON.set,Map:r[0].Map.set,Math:r[0].Math.set,Number:r[0].Number.set,Object:r[0].Object.set,Promise:r[0].Promise.set,Proxy:r[0].Proxy.set,Reflect:r[0].Reflect.set,FERAL_REG_EXP:r[0].FERAL_REG_EXP.set,Set:r[0].Set.set,String:r[0].String.set,WeakMap:r[0].WeakMap.set,WeakSet:r[0].WeakSet.set,FERAL_ERROR:r[0].FERAL_ERROR.set,RangeError:r[0].RangeError.set,ReferenceError:r[0].ReferenceError.set,SyntaxError:r[0].SyntaxError.set,TypeError:r[0].TypeError.set,assign:r[0].assign.set,create:r[0].create.set,defineProperties:r[0].defineProperties.set,entries:r[0].entries.set,freeze:r[0].freeze.set,getOwnPropertyDescriptor:r[0].getOwnPropertyDescriptor.set,getOwnPropertyDescriptors:r[0].getOwnPropertyDescriptors.set,getOwnPropertyNames:r[0].getOwnPropertyNames.set,getPrototypeOf:r[0].getPrototypeOf.set,is:r[0].is.set,isExtensible:r[0].isExtensible.set,keys:r[0].keys.set,objectPrototype:r[0].objectPrototype.set,seal:r[0].seal.set,setPrototypeOf:r[0].setPrototypeOf.set,values:r[0].values.set,speciesSymbol:r[0].speciesSymbol.set,toStringTagSymbol:r[0].toStringTagSymbol.set,iteratorSymbol:r[0].iteratorSymbol.set,matchAllSymbol:r[0].matchAllSymbol.set,stringifyJson:r[0].stringifyJson.set,fromEntries:r[0].fromEntries.set,defineProperty:r[0].defineProperty.set,apply:r[0].apply.set,construct:r[0].construct.set,reflectGet:r[0].reflectGet.set,reflectGetOwnPropertyDescriptor:r[0].reflectGetOwnPropertyDescriptor.set,reflectHas:r[0].reflectHas.set,reflectIsExtensible:r[0].reflectIsExtensible.set,ownKeys:r[0].ownKeys.set,reflectPreventExtensions:r[0].reflectPreventExtensions.set,reflectSet:r[0].reflectSet.set,isArray:r[0].isArray.set,arrayPrototype:r[0].arrayPrototype.set,mapPrototype:r[0].mapPrototype.set,proxyRevocable:r[0].proxyRevocable.set,regexpPrototype:r[0].regexpPrototype.set,setPrototype:r[0].setPrototype.set,stringPrototype:r[0].stringPrototype.set,weakmapPrototype:r[0].weakmapPrototype.set,weaksetPrototype:r[0].weaksetPrototype.set,functionPrototype:r[0].functionPrototype.set,promisePrototype:r[0].promisePrototype.set,uncurryThis:r[0].uncurryThis.set,objectHasOwnProperty:r[0].objectHasOwnProperty.set,arrayFilter:r[0].arrayFilter.set,arrayForEach:r[0].arrayForEach.set,arrayIncludes:r[0].arrayIncludes.set,arrayJoin:r[0].arrayJoin.set,arrayMap:r[0].arrayMap.set,arrayPop:r[0].arrayPop.set,arrayPush:r[0].arrayPush.set,arraySlice:r[0].arraySlice.set,arraySome:r[0].arraySome.set,arraySort:r[0].arraySort.set,iterateArray:r[0].iterateArray.set,mapSet:r[0].mapSet.set,mapGet:r[0].mapGet.set,mapHas:r[0].mapHas.set,iterateMap:r[0].iterateMap.set,setAdd:r[0].setAdd.set,setForEach:r[0].setForEach.set,setHas:r[0].setHas.set,iterateSet:r[0].iterateSet.set,regexpTest:r[0].regexpTest.set,regexpExec:r[0].regexpExec.set,matchAllRegExp:r[0].matchAllRegExp.set,stringEndsWith:r[0].stringEndsWith.set,stringIncludes:r[0].stringIncludes.set,stringIndexOf:r[0].stringIndexOf.set,stringMatch:r[0].stringMatch.set,stringReplace:r[0].stringReplace.set,stringSearch:r[0].stringSearch.set,stringSlice:r[0].stringSlice.set,stringSplit:r[0].stringSplit.set,stringStartsWith:r[0].stringStartsWith.set,iterateString:r[0].iterateString.set,weakmapDelete:r[0].weakmapDelete.set,weakmapGet:r[0].weakmapGet.set,weakmapHas:r[0].weakmapHas.set,weakmapSet:r[0].weakmapSet.set,weaksetAdd:r[0].weaksetAdd.set,weaksetGet:r[0].weaksetGet.set,weaksetHas:r[0].weaksetHas.set,functionToString:r[0].functionToString.set,promiseAll:r[0].promiseAll.set,promiseCatch:r[0].promiseCatch.set,promiseThen:r[0].promiseThen.set,getConstructorOf:r[0].getConstructorOf.set,immutableObject:r[0].immutableObject.set,isObject:r[0].isObject.set,isError:r[0].isError.set,FERAL_EVAL:r[0].FERAL_EVAL.set,FERAL_FUNCTION:r[0].FERAL_FUNCTION.set}}),e[1]({imports(e){new Map(e)},liveVar:{},onceVar:{}}),e[2]({imports(e){n(new Map(e),"../commons.js",0)},liveVar:{},onceVar:{an:r[2].an.set,bestEffortStringify:r[2].bestEffortStringify.set,enJoin:r[2].enJoin.set}}),e[3]({imports(e){new Map(e)},liveVar:{},onceVar:{}}),e[4]({imports(e){const t=new Map(e);n(t,"../commons.js",0),n(t,"./internal-types.js",1),n(t,"./stringify-utils.js",2),n(t,"./types.js",3)},liveVar:{},onceVar:{unredactedDetails:r[4].unredactedDetails.set,loggedErrorHandler:r[4].loggedErrorHandler.set,makeAssert:r[4].makeAssert.set,assert:r[4].assert.set}}),e[5]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{makeEvaluateFactory:r[5].makeEvaluateFactory.set}}),e[6]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{isValidIdentifierName:r[6].isValidIdentifierName.set,getScopeConstants:r[6].getScopeConstants.set}}),e[7]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./error/assert.js",4)},liveVar:{},onceVar:{createScopeHandler:r[7].createScopeHandler.set}}),e[8]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{getSourceURL:r[8].getSourceURL.set}}),e[9]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./get-source-url.js",8)},liveVar:{},onceVar:{rejectHtmlComments:r[9].rejectHtmlComments.set,evadeHtmlCommentTest:r[9].evadeHtmlCommentTest.set,rejectImportExpressions:r[9].rejectImportExpressions.set,evadeImportExpressionTest:r[9].evadeImportExpressionTest.set,rejectSomeDirectEvalExpressions:r[9].rejectSomeDirectEvalExpressions.set,mandatoryTransforms:r[9].mandatoryTransforms.set,applyTransforms:r[9].applyTransforms.set}}),e[10]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./error/assert.js",4),n(t,"./make-evaluate-factory.js",5),n(t,"./scope-constants.js",6),n(t,"./scope-handler.js",7),n(t,"./transforms.js",9)},liveVar:{},onceVar:{makeSafeEvaluator:r[10].makeSafeEvaluator.set}}),e[11]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./make-safe-evaluator.js",10),n(t,"./transforms.js",9)},liveVar:{},onceVar:{provideCompartmentEvaluator:r[11].provideCompartmentEvaluator.set,compartmentEvaluate:r[11].compartmentEvaluate.set}}),e[12]({imports(e){new Map(e)},liveVar:{},onceVar:{makeEvalFunction:r[12].makeEvalFunction.set}}),e[13]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./error/assert.js",4)},liveVar:{},onceVar:{makeFunctionConstructor:r[13].makeFunctionConstructor.set}}),e[14]({imports(e){new Map(e)},liveVar:{},onceVar:{constantProperties:r[14].constantProperties.set,universalPropertyNames:r[14].universalPropertyNames.set,initialGlobalPropertyNames:r[14].initialGlobalPropertyNames.set,sharedGlobalPropertyNames:r[14].sharedGlobalPropertyNames.set,uniqueGlobalPropertyNames:r[14].uniqueGlobalPropertyNames.set,NativeErrors:r[14].NativeErrors.set,FunctionInstance:r[14].FunctionInstance.set,isAccessorPermit:r[14].isAccessorPermit.set,whitelist:r[14].whitelist.set}}),e[15]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./make-eval-function.js",12),n(t,"./make-function-constructor.js",13),n(t,"./whitelist.js",14)},liveVar:{},onceVar:{setGlobalObjectConstantProperties:r[15].setGlobalObjectConstantProperties.set,setGlobalObjectMutableProperties:r[15].setGlobalObjectMutableProperties.set}}),e[16]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./error/assert.js",4)},liveVar:{},onceVar:{makeAlias:r[16].makeAlias.set,load:r[16].load.set}}),e[17]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./error/assert.js",4),n(t,"./module-load.js",16)},liveVar:{},onceVar:{deferExports:r[17].deferExports.set,getDeferredExports:r[17].getDeferredExports.set}}),e[18]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./compartment-evaluate.js",11),n(t,"./error/assert.js",4),n(t,"./module-proxy.js",17)},liveVar:{},onceVar:{makeThirdPartyModuleInstance:r[18].makeThirdPartyModuleInstance.set,makeModuleInstance:r[18].makeModuleInstance.set}}),e[19]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./error/assert.js",4),n(t,"./module-instance.js",18)},liveVar:{},onceVar:{link:r[19].link.set,instantiate:r[19].instantiate.set}}),e[20]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./compartment-evaluate.js",11),n(t,"./error/assert.js",4),n(t,"./global-object.js",15),n(t,"./make-safe-evaluator.js",10),n(t,"./module-link.js",19),n(t,"./module-load.js",16),n(t,"./module-proxy.js",17),n(t,"./scope-constants.js",6),n(t,"./whitelist.js",14)},liveVar:{},onceVar:{InertCompartment:r[20].InertCompartment.set,CompartmentPrototype:r[20].CompartmentPrototype.set,makeCompartmentConstructor:r[20].makeCompartmentConstructor.set}}),e[21]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./whitelist.js",14)},liveVar:{},onceVar:{makeIntrinsicsCollector:r[21].makeIntrinsicsCollector.set,getGlobalIntrinsics:r[21].getGlobalIntrinsics.set}}),e[22]({imports(e){new Map(e)},liveVar:{},onceVar:{minEnablements:r[22].minEnablements.set,moderateEnablements:r[22].moderateEnablements.set,severeEnablements:r[22].severeEnablements.set}}),e[23]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./enablements.js",22)},liveVar:{},onceVar:{default:r[23].default.set}}),e[24]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./error/assert.js",4)},liveVar:{},onceVar:{makeEnvironmentCaptor:r[24].makeEnvironmentCaptor.set}}),e[25]({imports(e){const t=new Map(e);n(t,"../commons.js",0),n(t,"./internal-types.js",1),n(t,"./types.js",3)},liveVar:{},onceVar:{makeLoggingConsoleKit:r[25].makeLoggingConsoleKit.set,makeCausalConsole:r[25].makeCausalConsole.set,filterConsole:r[25].filterConsole.set,consoleWhitelist:r[25].consoleWhitelist.set,BASE_CONSOLE_LEVEL:r[25].BASE_CONSOLE_LEVEL.set}}),e[26]({imports(e){const t=new Map(e);n(t,"../commons.js",0),n(t,"./assert.js",4),n(t,"./console.js",25),n(t,"./internal-types.js",1),n(t,"./types.js",3)},liveVar:{},onceVar:{tameConsole:r[26].tameConsole.set}}),e[27]({imports(e){n(new Map(e),"../commons.js",0)},liveVar:{},onceVar:{filterFileName:r[27].filterFileName.set,shortenCallSiteString:r[27].shortenCallSiteString.set,tameV8ErrorConstructor:r[27].tameV8ErrorConstructor.set}}),e[28]({imports(e){const t=new Map(e);n(t,"../commons.js",0),n(t,"../whitelist.js",14),n(t,"./tame-v8-error-constructor.js",27)},liveVar:{},onceVar:{default:r[28].default.set}}),e[29]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./compartment-shim.js",20)},liveVar:{},onceVar:{getAnonymousIntrinsics:r[29].getAnonymousIntrinsics.set}}),e[30]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{makeHardener:r[30].makeHardener.set}}),e[31]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{default:r[31].default.set}}),e[32]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{tameDomains:r[32].tameDomains.set}}),e[33]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{default:r[33].default.set}}),e[34]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{tameFunctionToString:r[34].tameFunctionToString.set}}),e[35]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./error/assert.js",4)},liveVar:{},onceVar:{default:r[35].default.set}}),e[36]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{default:r[36].default.set}}),e[37]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{default:r[37].default.set}}),e[38]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./whitelist.js",14)},liveVar:{},onceVar:{default:r[38].default.set}}),e[39]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./compartment-shim.js",20),n(t,"./enable-property-overrides.js",23),n(t,"./environment-options.js",24),n(t,"./error/assert.js",4),n(t,"./error/stringify-utils.js",2),n(t,"./error/tame-console.js",26),n(t,"./error/tame-error-constructor.js",28),n(t,"./get-anonymous-intrinsics.js",29),n(t,"./global-object.js",15),n(t,"./intrinsics.js",21),n(t,"./make-hardener.js",30),n(t,"./make-safe-evaluator.js",10),n(t,"./tame-date-constructor.js",31),n(t,"./tame-domains.js",32),n(t,"./tame-function-constructors.js",33),n(t,"./tame-function-tostring.js",34),n(t,"./tame-locale-methods.js",35),n(t,"./tame-math-object.js",36),n(t,"./tame-regexp-constructor.js",37),n(t,"./whitelist-intrinsics.js",38),n(t,"./whitelist.js",14)},liveVar:{},onceVar:{repairIntrinsics:r[39].repairIntrinsics.set,lockdown:r[39].lockdown.set}}),e[40]({imports(e){const t=new Map(e);n(t,"./src/commons.js",0),n(t,"./src/compartment-shim.js",20),n(t,"./src/error/assert.js",4),n(t,"./src/intrinsics.js",21),n(t,"./src/lockdown-shim.js",39),n(t,"./src/tame-function-tostring.js",34)},liveVar:{},onceVar:{}})})();
 /*! For license information please see webworker.bundle.js.LICENSE.txt */
-(()=>{var e={7209:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectMultiplex=void 0;const o=r(7525),a=i(r(8797)),s=i(r(9928)),u=r(9067),c=Symbol("IGNORE_SUBSTREAM");class l extends o.Duplex{constructor(e={}){super(Object.assign(Object.assign({},e),{objectMode:!0})),this._substreams={}}createStream(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);const t=new u.Substream({parent:this,name:e});return this._substreams[e]=t,function(e,r){const n=s.default((e=>t.destroy(e||void 0)));a.default(e,{readable:!1},n),a.default(e,{writable:!1},n)}(this),t}ignoreStream(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);this._substreams[e]=c}_read(){}_write(e,t,r){const{name:i,data:o}=e;if(!i)return n.warn(`ObjectMultiplex - malformed chunk without name "${e}"`),r();const a=this._substreams[i];return a?(a!==c&&a.push(o),r()):(n.warn(`ObjectMultiplex - orphaned data for stream "${i}"`),r())}}t.ObjectMultiplex=l},9067:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Substream=void 0;const n=r(7525);class i extends n.Duplex{constructor({parent:e,name:t}){super({objectMode:!0}),this._parent=e,this._name=t}_read(){}_write(e,t,r){this._parent.push({name:this._name,data:e}),r()}}t.Substream=i},9952:(e,t,r)=>{"use strict";const n=r(7209);e.exports=n.ObjectMultiplex},470:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BasePostMessageStream=void 0;const n=r(5800);function i(){}const o="ACK";class a extends n.Duplex{constructor(){super({objectMode:!0}),this._init=!1,this._haveSyn=!1}_handshake(){this._write("SYN",null,i),this.cork()}_onData(e){if(this._init)try{this.push(e)}catch(e){this.emit("error",e)}else"SYN"===e?(this._haveSyn=!0,this._write(o,null,i)):e===o&&(this._init=!0,this._haveSyn||this._write(o,null,i),this.uncork())}_read(){}_write(e,t,r){this._postMessage(e),r()}}t.BasePostMessageStream=a},4273:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WindowPostMessageStream=void 0;const n=r(470);class i extends n.BasePostMessageStream{constructor({name:e,target:t,targetWindow:r}){if(!e||!t)throw new Error("Invalid input.");super(),this._name=e,this._target=t,this._targetOrigin=r?"*":location.origin,this._targetWindow=r||window,this._onMessage=this._onMessage.bind(this),window.addEventListener("message",this._onMessage,!1),this._handshake()}_postMessage(e){this._targetWindow.postMessage({target:this._target,data:e},this._targetOrigin)}_onMessage(e){const t=e.data;"*"!==this._targetOrigin&&e.origin!==this._targetOrigin||e.source!==this._targetWindow||"object"!=typeof t||t.target!==this._name||!t.data||this._onData(t.data)}_destroy(){window.removeEventListener("message",this._onMessage,!1)}}t.WindowPostMessageStream=i},8858:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkerParentPostMessageStream=void 0;const n=r(470),i=r(7366);class o extends n.BasePostMessageStream{constructor({worker:e}){if(!e)throw new Error("Invalid input.");super(),this._target=i.DEDICATED_WORKER_NAME,this._worker=e,this._worker.onmessage=this._onMessage.bind(this),this._handshake()}_postMessage(e){this._worker.postMessage({target:this._target,data:e})}_onMessage(e){const t=e.data;"object"==typeof t&&t.data&&this._onData(t.data)}_destroy(){this._worker.onmessage=null,this._worker=null}}t.WorkerParentPostMessageStream=o},7507:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkerPostMessageStream=void 0;const n=r(470),i=r(7366);class o extends n.BasePostMessageStream{constructor(){super(),this._name=i.DEDICATED_WORKER_NAME,self.onmessage=this._onMessage.bind(this),this._handshake()}_postMessage(e){self.postMessage({data:e})}_onMessage(e){const t=e.data;"object"==typeof t&&t.target===this._name&&t.data&&this._onData(t.data)}_destroy(){}}t.WorkerPostMessageStream=o},7366:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEDICATED_WORKER_NAME=void 0,t.DEDICATED_WORKER_NAME="dedicatedWorker"},9679:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkerParentPostMessageStream=t.WorkerPostMessageStream=t.WindowPostMessageStream=void 0;var n=r(4273);Object.defineProperty(t,"WindowPostMessageStream",{enumerable:!0,get:function(){return n.WindowPostMessageStream}});var i=r(7507);Object.defineProperty(t,"WorkerPostMessageStream",{enumerable:!0,get:function(){return i.WorkerPostMessageStream}});var o=r(8858);Object.defineProperty(t,"WorkerParentPostMessageStream",{enumerable:!0,get:function(){return o.WorkerParentPostMessageStream}})},2646:(e,t,r)=>{"use strict";var n=r(4406);!n.version||0===n.version.indexOf("v0.")||0===n.version.indexOf("v1.")&&0!==n.version.indexOf("v1.8.")?e.exports=function(e,t,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return n.nextTick(e);case 2:return n.nextTick((function(){e.call(null,t)}));case 3:return n.nextTick((function(){e.call(null,t,r)}));case 4:return n.nextTick((function(){e.call(null,t,r,i)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return n.nextTick((function(){e.apply(null,o)}))}}:e.exports=n.nextTick},1034:(e,t,r)=>{"use strict";var n=r(2646),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=f;var o=r(7646);o.inherits=r(1285);var a=r(7187),s=r(3597);o.inherits(f,a);for(var u=i(s.prototype),c=0;c<u.length;c++){var l=u[c];f.prototype[l]||(f.prototype[l]=s.prototype[l])}function f(e){if(!(this instanceof f))return new f(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||n(h,this)}function h(e){e.end()}Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),n(t,e)}},2598:(e,t,r)=>{"use strict";e.exports=o;var n=r(2287),i=r(7646);function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}i.inherits=r(1285),i.inherits(o,n),o.prototype._transform=function(e,t,r){r(null,e)}},7187:(e,t,r)=>{"use strict";var n=r(4406),i=r(2646);e.exports=w;var o,a=r(7906);w.ReadableState=m,r(2699).EventEmitter;var s=function(e,t){return e.listeners(t).length},u=r(979),c=r(5691).Buffer,l=r.g.Uint8Array||function(){},f=r(7646);f.inherits=r(1285);var d=r(4857),h=void 0;h=d&&d.debuglog?d.debuglog("stream"):function(){};var p,g=r(8991),y=r(8374);f.inherits(w,u);var b=["error","close","destroy","pause","resume"];function m(e,t){o=o||r(1034),e=e||{},this.objectMode=!!e.objectMode,t instanceof o&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:i,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=r(5099).s),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function w(e){if(o=o||r(1034),!(this instanceof w))return new w(e);this._readableState=new m(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function v(e,t,r,n,i){var o,a=e._readableState;return null===t?(a.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,O(e)}}(e,a)):(i||(o=function(e,t){var r,n;return n=t,c.isBuffer(n)||n instanceof l||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),n?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):_(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?_(e,a,t,!1):M(e,a)):_(e,a,t,!1))):n||(a.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function _(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&O(e)),M(e,t)}Object.defineProperty(w.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),w.prototype.destroy=y.destroy,w.prototype._undestroy=y.undestroy,w.prototype._destroy=function(e,t){this.push(null),t(e)},w.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),r=!0),v(this,e,t,!1,r)},w.prototype.unshift=function(e){return v(this,e,null,!0,!1)},w.prototype.isPaused=function(){return!1===this._readableState.flowing},w.prototype.setEncoding=function(e){return p||(p=r(5099).s),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var S=8388608;function E(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=S?e=S:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function O(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i(R,e):R(e))}function R(e){h("emit readable"),e.emit("readable"),A(e)}function M(e,t){t.readingMore||(t.readingMore=!0,i(j,e,t))}function j(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function P(e){h("readable nexttick read 0"),e.read(0)}function k(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),A(e),t.flowing&&!t.reading&&e.read(0)}function A(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function x(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0==(e-=a)){a===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=c.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,a),0==(e-=a)){a===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++i}return t.length-=i,r}(e,t),n}(e,t.buffer,t.decoder),r);var r}function C(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i(T,t,e))}function T(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function N(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}w.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?C(this):O(this),null;if(0===(e=E(e,t))&&t.ended)return 0===t.length&&C(this),null;var n,i=t.needReadable;return h("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",i=!0),t.ended||t.reading?h("reading or ended",i=!1):i&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=E(r,t))),null===(n=e>0?x(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&C(this)),null!==n&&this.emit("data",n),n},w.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},w.prototype.pipe=function(e,t){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,h("pipe count=%d opts=%j",o.pipesCount,t);var u=t&&!1===t.end||e===n.stdout||e===n.stderr?m:c;function c(){h("onend"),e.end()}o.endEmitted?i(u):r.once("end",u),e.on("unpipe",(function t(n,i){h("onunpipe"),n===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,h("cleanup"),e.removeListener("close",y),e.removeListener("finish",b),e.removeListener("drain",l),e.removeListener("error",g),e.removeListener("unpipe",t),r.removeListener("end",c),r.removeListener("end",m),r.removeListener("data",p),f=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}));var l=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,A(e))}}(r);e.on("drain",l);var f=!1,d=!1;function p(t){h("ondata"),d=!1,!1!==e.write(t)||d||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==N(o.pipes,e))&&!f&&(h("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,d=!0),r.pause())}function g(t){h("onerror",t),m(),e.removeListener("error",g),0===s(e,"error")&&e.emit("error",t)}function y(){e.removeListener("finish",b),m()}function b(){h("onfinish"),e.removeListener("close",y),m()}function m(){h("unpipe"),r.unpipe(e)}return r.on("data",p),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events.error?a(e._events.error)?e._events.error.unshift(r):e._events.error=[r,e._events.error]:e.on(t,r)}(e,"error",g),e.once("close",y),e.once("finish",b),e.emit("pipe",r),o.flowing||(h("pipe resume"),r.resume()),e},w.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var a=N(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},w.prototype.on=function(e,t){var r=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&O(this):i(P,this))}return r},w.prototype.addListener=w.prototype.on,w.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i(k,e,t))}(this,e)),this},w.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},w.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;for(var i in e.on("end",(function(){if(h("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)})),e.on("data",(function(i){h("wrapped data"),t.decoder&&(i=t.decoder.write(i)),t.objectMode&&null==i||(t.objectMode||i&&i.length)&&(n.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<b.length;o++)e.on(b[o],n.emit.bind(n,b[o]));return n._read=function(t){h("wrapped _read",t),r&&(r=!1,e.resume())},n},w._fromList=x},2287:(e,t,r)=>{"use strict";e.exports=a;var n=r(1034),i=r(7646);function o(e){this.afterTransform=function(t,r){return function(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=r&&e.push(r),i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}(e,t,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function a(e){if(!(this instanceof a))return new a(e);n.call(this,e),this._transformState=new o(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",(function(){"function"==typeof this._flush?this._flush((function(e,r){s(t,e,r)})):s(t)}))}function s(e,t,r){if(t)return e.emit("error",t);null!=r&&e.push(r);var n=e._writableState,i=e._transformState;if(n.length)throw new Error("Calling transform done when ws.length != 0");if(i.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=r(1285),i.inherits(a,n),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,(function(e){t(e),r.emit("close")}))}},3597:(e,t,r)=>{"use strict";var n=r(4406),i=r(2646);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=b;var a,s=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?setImmediate:i;b.WritableState=y;var u=r(7646);u.inherits=r(1285);var c,l={deprecate:r(5803)},f=r(979),d=r(5691).Buffer,h=r.g.Uint8Array||function(){},p=r(8374);function g(){}function y(e,t){a=a||r(1034),e=e||{},this.objectMode=!!e.objectMode,t instanceof a&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,u=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var c=!1===e.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,o){--t.pendingcb,r?(i(o,n),i(E,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(o(n),e._writableState.errorEmitted=!0,e.emit("error",n),E(e,t))}(e,r,n,t,o);else{var a=_(r);a||r.corked||r.bufferProcessing||!r.bufferedRequest||v(e,r),n?s(w,e,r,a,o):w(e,r,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function b(e){if(a=a||r(1034),!(c.call(b,this)||this instanceof a))return new b(e);this._writableState=new y(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),f.call(this)}function m(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function w(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),E(e,t)}function v(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),a=t.corkedRequestsFree;a.entry=r;for(var s=0,u=!0;r;)i[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;i.allBuffers=u,m(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t)}else{for(;r;){var c=r.chunk,l=r.encoding,f=r.callback;if(m(e,t,!1,t.objectMode?1:c.length,c,l,f),r=r.next,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=r,t.bufferProcessing=!1}function _(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),E(e,t)}))}function E(e,t){var r=_(t);return r&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,i(S,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}u.inherits(b,f),y.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(y.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||e&&e._writableState instanceof y}})):c=function(e){return e instanceof this},b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},b.prototype.write=function(e,t,r){var n,o=this._writableState,a=!1,s=(n=e,(d.isBuffer(n)||n instanceof h)&&!o.objectMode);return s&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=g),o.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),i(t,r)}(this,r):(s||function(e,t,r,n){var o=!0,a=!1;return null===r?a=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),i(n,a),o=!1),o}(this,o,e,r))&&(o.pendingcb++,a=function(e,t,r,n,i,o){if(!r){var a=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,r)),t}(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,s,n,i,o);return u}(this,o,s,e,t,r)),a},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||v(this,e))},b.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},b.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,E(e,t),r&&(t.finished?i(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),b.prototype.destroy=p.destroy,b.prototype._undestroy=p.undestroy,b.prototype._destroy=function(e,t){this.end(),t(e)}},8991:(e,t,r)=>{"use strict";var n=r(5691).Buffer;e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,i=n.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=i,r=a,o.data.copy(t,r),a+=o.data.length,o=o.next;return i},e}()},8374:(e,t,r)=>{"use strict";var n=r(2646);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;o||a?t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n(i,this,e):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(n(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})))},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},979:(e,t,r)=>{e.exports=r(2699).EventEmitter},5800:(e,t,r)=>{(t=e.exports=r(7187)).Stream=t,t.Readable=t,t.Writable=r(3597),t.Duplex=r(1034),t.Transform=r(2287),t.PassThrough=r(2598)},5691:(e,t,r)=>{var n=r(8834),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},5099:(e,t,r)=>{"use strict";var n=r(5691).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:-1}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"".repeat(r);if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"".repeat(r+1);if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"".repeat(r+2)}}(this,e,t);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"".repeat(this.lastTotal-this.lastNeed):t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r?0:(i=a(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r?0:(i=a(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},4044:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(r(3171)),a=r(1280),s=r(1384),u=i(r(9952)),c=i(r(3795)),l=i(r(8787)),f=r(8094),d=r(8607),h=i(r(2371)),p=r(4022);class g extends c.default{constructor(e,{jsonRpcStreamName:t="metamask-provider",logger:r=n,maxEventListeners:i=100}={}){if(super(),!d.duplex(e))throw new Error(h.default.errors.invalidDuplexStream());this._log=r,this.setMaxListeners(i),this._state=Object.assign({},g._defaultState),this.selectedAddress=null,this.chainId=null,this._handleAccountsChanged=this._handleAccountsChanged.bind(this),this._handleConnect=this._handleConnect.bind(this),this._handleChainChanged=this._handleChainChanged.bind(this),this._handleDisconnect=this._handleDisconnect.bind(this),this._handleStreamDisconnect=this._handleStreamDisconnect.bind(this),this._handleUnlockStateChanged=this._handleUnlockStateChanged.bind(this),this._rpcRequest=this._rpcRequest.bind(this),this.request=this.request.bind(this);const c=new u.default;o.default(e,c,e,this._handleStreamDisconnect.bind(this,"MetaMask")),this.on("connect",(()=>{this._state.isConnected=!0})),this._jsonRpcConnection=s.createStreamMiddleware(),o.default(this._jsonRpcConnection.stream,c.createStream(t),this._jsonRpcConnection.stream,this._handleStreamDisconnect.bind(this,"MetaMask RpcProvider"));const l=new a.JsonRpcEngine;l.push(a.createIdRemapMiddleware()),l.push(p.createErrorMiddleware(this._log)),l.push(this._jsonRpcConnection.middleware),this._rpcEngine=l,this._initializeState(),this._jsonRpcConnection.events.on("notification",(t=>{const{method:r,params:n}=t;"metamask_accountsChanged"===r?this._handleAccountsChanged(n):"metamask_unlockStateChanged"===r?this._handleUnlockStateChanged(n):"metamask_chainChanged"===r?this._handleChainChanged(n):p.EMITTED_NOTIFICATIONS.includes(r)?this.emit("message",{type:r,data:n}):"METAMASK_STREAM_FAILURE"===r&&e.destroy(new Error(h.default.errors.permanentlyDisconnected()))}))}isConnected(){return this._state.isConnected}async request(e){if(!e||"object"!=typeof e||Array.isArray(e))throw f.ethErrors.rpc.invalidRequest({message:h.default.errors.invalidRequestArgs(),data:e});const{method:t,params:r}=e;if("string"!=typeof t||0===t.length)throw f.ethErrors.rpc.invalidRequest({message:h.default.errors.invalidRequestMethod(),data:e});if(void 0!==r&&!Array.isArray(r)&&("object"!=typeof r||null===r))throw f.ethErrors.rpc.invalidRequest({message:h.default.errors.invalidRequestParams(),data:e});return new Promise(((e,n)=>{this._rpcRequest({method:t,params:r},p.getRpcPromiseCallback(e,n))}))}async _initializeState(){try{const{accounts:e,chainId:t,isUnlocked:r,networkVersion:n}=await this.request({method:"metamask_getProviderState"});this.emit("connect",{chainId:t}),this._handleChainChanged({chainId:t,networkVersion:n}),this._handleUnlockStateChanged({accounts:e,isUnlocked:r}),this._handleAccountsChanged(e)}catch(e){this._log.error("MetaMask: Failed to get initial state. Please report this bug.",e)}finally{this._state.initialized=!0,this.emit("_initialized")}}_rpcRequest(e,t){let r=t;return Array.isArray(e)||(e.jsonrpc||(e.jsonrpc="2.0"),"eth_accounts"!==e.method&&"eth_requestAccounts"!==e.method||(r=(r,n)=>{this._handleAccountsChanged(n.result||[],"eth_accounts"===e.method),t(r,n)})),this._rpcEngine.handle(e,r)}_handleConnect(e){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:e}),this._log.debug(h.default.info.connected(e)))}_handleDisconnect(e,t){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e){let r;this._state.isConnected=!1,e?(r=new f.EthereumRpcError(1013,t||h.default.errors.disconnected()),this._log.debug(r)):(r=new f.EthereumRpcError(1011,t||h.default.errors.permanentlyDisconnected()),this._log.error(r),this.chainId=null,this._state.accounts=null,this.selectedAddress=null,this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",r)}}_handleStreamDisconnect(e,t){p.logStreamDisconnectWarning(this._log,e,t,this),this._handleDisconnect(!1,t?t.message:void 0)}_handleChainChanged({chainId:e,networkVersion:t}={}){e&&"string"==typeof e&&e.startsWith("0x")&&t&&"string"==typeof t?"loading"===t?this._handleDisconnect(!0):(this._handleConnect(e),e!==this.chainId&&(this.chainId=e,this._state.initialized&&this.emit("chainChanged",this.chainId))):this._log.error("MetaMask: Received invalid network parameters. Please report this bug.",{chainId:e,networkVersion:t})}_handleAccountsChanged(e,t=!1){let r=e;Array.isArray(e)||(this._log.error("MetaMask: Received invalid accounts parameter. Please report this bug.",e),r=[]);for(const t of e)if("string"!=typeof t){this._log.error("MetaMask: Received non-string account. Please report this bug.",e),r=[];break}l.default(this._state.accounts,r)||(t&&null!==this._state.accounts&&this._log.error("MetaMask: 'eth_accounts' unexpectedly updated accounts. Please report this bug.",r),this._state.accounts=r,this.selectedAddress!==r[0]&&(this.selectedAddress=r[0]||null),this._state.initialized&&this.emit("accountsChanged",r))}_handleUnlockStateChanged({accounts:e,isUnlocked:t}={}){"boolean"==typeof t?t!==this._state.isUnlocked&&(this._state.isUnlocked=t,this._handleAccountsChanged(e||[])):this._log.error("MetaMask: Received invalid isUnlocked parameter. Please report this bug.")}}t.default=g,g._defaultState={accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1}},9461:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(8094),a=i(r(23)),s=i(r(2371)),u=r(4022),c=i(r(4044));class l extends c.default{constructor(e,{jsonRpcStreamName:t="metamask-provider",logger:r=n,maxEventListeners:i=100,shouldSendMetadata:o=!0}={}){if(super(e,{jsonRpcStreamName:t,logger:r,maxEventListeners:i}),this._sentWarnings={enable:!1,experimentalMethods:!1,send:!1,events:{close:!1,data:!1,networkChanged:!1,notification:!1}},this.networkVersion=null,this.isMetaMask=!0,this._sendSync=this._sendSync.bind(this),this.enable=this.enable.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this._warnOfDeprecation=this._warnOfDeprecation.bind(this),this._metamask=this._getExperimentalApi(),this._jsonRpcConnection.events.on("notification",(e=>{const{method:t}=e;u.EMITTED_NOTIFICATIONS.includes(t)&&(this.emit("data",e),this.emit("notification",e.params.result))})),o)if("complete"===document.readyState)a.default(this._rpcEngine,this._log);else{const e=()=>{a.default(this._rpcEngine,this._log),window.removeEventListener("DOMContentLoaded",e)};window.addEventListener("DOMContentLoaded",e)}}sendAsync(e,t){this._rpcRequest(e,t)}addListener(e,t){return this._warnOfDeprecation(e),super.addListener(e,t)}on(e,t){return this._warnOfDeprecation(e),super.on(e,t)}once(e,t){return this._warnOfDeprecation(e),super.once(e,t)}prependListener(e,t){return this._warnOfDeprecation(e),super.prependListener(e,t)}prependOnceListener(e,t){return this._warnOfDeprecation(e),super.prependOnceListener(e,t)}_handleDisconnect(e,t){super._handleDisconnect(e,t),this.networkVersion&&!e&&(this.networkVersion=null)}_warnOfDeprecation(e){var t;!1===(null===(t=this._sentWarnings)||void 0===t?void 0:t.events[e])&&(this._log.warn(s.default.warnings.events[e]),this._sentWarnings.events[e]=!0)}enable(){return this._sentWarnings.enable||(this._log.warn(s.default.warnings.enableDeprecation),this._sentWarnings.enable=!0),new Promise(((e,t)=>{try{this._rpcRequest({method:"eth_requestAccounts",params:[]},u.getRpcPromiseCallback(e,t))}catch(e){t(e)}}))}send(e,t){return this._sentWarnings.send||(this._log.warn(s.default.warnings.sendDeprecation),this._sentWarnings.send=!0),"string"!=typeof e||t&&!Array.isArray(t)?e&&"object"==typeof e&&"function"==typeof t?this._rpcRequest(e,t):this._sendSync(e):new Promise(((r,n)=>{try{this._rpcRequest({method:e,params:t},u.getRpcPromiseCallback(r,n,!1))}catch(e){n(e)}}))}_sendSync(e){let t;switch(e.method){case"eth_accounts":t=this.selectedAddress?[this.selectedAddress]:[];break;case"eth_coinbase":t=this.selectedAddress||null;break;case"eth_uninstallFilter":this._rpcRequest(e,u.NOOP),t=!0;break;case"net_version":t=this.networkVersion||null;break;default:throw new Error(s.default.errors.unsupportedSync(e.method))}return{id:e.id,jsonrpc:e.jsonrpc,result:t}}_getExperimentalApi(){return new Proxy({isUnlocked:async()=>(this._state.initialized||await new Promise((e=>{this.on("_initialized",(()=>e()))})),this._state.isUnlocked),requestBatch:async e=>{if(!Array.isArray(e))throw o.ethErrors.rpc.invalidRequest({message:"Batch requests must be made with an array of request objects.",data:e});return new Promise(((t,r)=>{this._rpcRequest(e,u.getRpcPromiseCallback(t,r))}))}},{get:(e,t,...r)=>(this._sentWarnings.experimentalMethods||(this._log.warn(s.default.warnings.experimentalMethods),this._sentWarnings.experimentalMethods=!0),Reflect.get(e,t,...r))})}_handleChainChanged({chainId:e,networkVersion:t}={}){super._handleChainChanged({chainId:e,networkVersion:t}),t&&"loading"!==t&&t!==this.networkVersion&&(this.networkVersion=t,this._state.initialized&&this.emit("networkChanged",this.networkVersion))}}t.default=l},5817:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(r(3274)),a=r(4924),s=i(r(4044)),u=i(r(5543)),c=a.detect();t.default=function(){let e;try{const t=function(){switch(null==c?void 0:c.name){case"chrome":default:return u.default.CHROME_ID;case"firefox":return u.default.FIREFOX_ID}}(),r=chrome.runtime.connect(t),n=new o.default(r);e=new s.default(n)}catch(e){throw n.dir("Metamask connect error ",e),e}return e}},2972:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createExternalExtensionProvider=t.shimWeb3=t.setGlobalProvider=t.BaseProvider=t.MetaMaskInpageProvider=t.initializeProvider=void 0;const i=n(r(9461));t.MetaMaskInpageProvider=i.default;const o=n(r(5817));t.createExternalExtensionProvider=o.default;const a=n(r(4044));t.BaseProvider=a.default;const s=r(6352);Object.defineProperty(t,"initializeProvider",{enumerable:!0,get:function(){return s.initializeProvider}}),Object.defineProperty(t,"setGlobalProvider",{enumerable:!0,get:function(){return s.setGlobalProvider}});const u=n(r(6473));t.shimWeb3=u.default},6352:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.setGlobalProvider=t.initializeProvider=void 0;const o=i(r(9461)),a=i(r(6473));function s(e){window.ethereum=e,window.dispatchEvent(new Event("ethereum#initialized"))}t.initializeProvider=function({connectionStream:e,jsonRpcStreamName:t,logger:r=n,maxEventListeners:i=100,shouldSendMetadata:u=!0,shouldSetOnWindow:c=!0,shouldShimWeb3:l=!1}){let f=new o.default(e,{jsonRpcStreamName:t,logger:r,maxEventListeners:i,shouldSendMetadata:u});return f=new Proxy(f,{deleteProperty:()=>!0}),c&&s(f),l&&a.default(f,r),f},t.setGlobalProvider=s},2371:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={errors:{disconnected:()=>"MetaMask: Disconnected from chain. Attempting to connect.",permanentlyDisconnected:()=>"MetaMask: Disconnected from MetaMask background. Page reload required.",sendSiteMetadata:()=>"MetaMask: Failed to send site metadata. This is an internal error, please report this bug.",unsupportedSync:e=>`MetaMask: The MetaMask Ethereum provider does not support synchronous methods like ${e} without a callback parameter.`,invalidDuplexStream:()=>"Must provide a Node.js-style duplex stream.",invalidRequestArgs:()=>"Expected a single, non-array, object argument.",invalidRequestMethod:()=>"'args.method' must be a non-empty string.",invalidRequestParams:()=>"'args.params' must be an object or array if provided.",invalidLoggerObject:()=>"'args.logger' must be an object if provided.",invalidLoggerMethod:e=>`'args.logger' must include required method '${e}'.`},info:{connected:e=>`MetaMask: Connected to chain with ID "${e}".`},warnings:{enableDeprecation:"MetaMask: 'ethereum.enable()' is deprecated and may be removed in the future. Please use the 'eth_requestAccounts' RPC method instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1102",sendDeprecation:"MetaMask: 'ethereum.send(...)' is deprecated and may be removed in the future. Please use 'ethereum.sendAsync(...)' or 'ethereum.request(...)' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193",events:{close:"MetaMask: The event 'close' is deprecated and may be removed in the future. Please use 'disconnect' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#disconnect",data:"MetaMask: The event 'data' is deprecated and will be removed in the future. Use 'message' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#message",networkChanged:"MetaMask: The event 'networkChanged' is deprecated and may be removed in the future. Use 'chainChanged' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#chainchanged",notification:"MetaMask: The event 'notification' is deprecated and may be removed in the future. Use 'message' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#message"},experimentalMethods:"MetaMask: 'ethereum._metamask' exposes non-standard, experimental methods. They may be removed or changed without warning."}}},6473:(e,t,r)=>{"use strict";var n=r(3716);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t=n){let r=!1,i=!1;if(!window.web3){const n="__isMetaMaskShim__";let o={currentProvider:e};Object.defineProperty(o,n,{value:!0,enumerable:!0,configurable:!1,writable:!1}),o=new Proxy(o,{get:(o,a,...s)=>("currentProvider"!==a||r?"currentProvider"===a||a===n||i||(i=!0,t.error("MetaMask no longer injects web3. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3"),e.request({method:"metamask_logWeb3ShimUsage"}).catch((e=>{t.debug("MetaMask: Failed to log web3 shim usage.",e)}))):(r=!0,t.warn("You are accessing the MetaMask window.web3.currentProvider shim. This property is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3")),Reflect.get(o,a,...s)),set:(...e)=>(t.warn("You are accessing the MetaMask window.web3 shim. This object is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3"),Reflect.set(...e))}),Object.defineProperty(window,"web3",{value:o,enumerable:!1,configurable:!0,writable:!0})}}},23:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(2371)),o=r(4022);function a(e){const{document:t}=e,r=t.querySelector('head > meta[property="og:site_name"]');if(r)return r.content;const n=t.querySelector('head > meta[name="title"]');return n?n.content:t.title&&t.title.length>0?t.title:window.location.hostname}async function s(e){const{document:t}=e,r=t.querySelectorAll('head > link[rel~="icon"]');for(const e of r)if(e&&await u(e.href))return e.href;return null}function u(e){return new Promise(((t,r)=>{try{const r=document.createElement("img");r.onload=()=>t(!0),r.onerror=()=>t(!1),r.src=e}catch(e){r(e)}}))}t.default=async function(e,t){try{const t=await async function(){return{name:a(window),icon:await s(window)}}();e.handle({jsonrpc:"2.0",id:1,method:"metamask_sendDomainMetadata",params:t},o.NOOP)}catch(e){t.error({message:i.default.errors.sendSiteMetadata(),originalError:e})}}},4022:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMITTED_NOTIFICATIONS=t.NOOP=t.logStreamDisconnectWarning=t.getRpcPromiseCallback=t.createErrorMiddleware=void 0;const n=r(8094);t.createErrorMiddleware=function(e){return(t,r,i)=>{"string"==typeof t.method&&t.method||(r.error=n.ethErrors.rpc.invalidRequest({message:"The request 'method' must be a non-empty string.",data:t})),i((t=>{const{error:n}=r;return n?(e.error(`MetaMask - RPC Error: ${n.message}`,n),t()):t()}))}},t.getRpcPromiseCallback=(e,t,r=!0)=>(n,i)=>{n||i.error?t(n||i.error):!r||Array.isArray(i)?e(i):e(i.result)},t.logStreamDisconnectWarning=function(e,t,r,n){let i=`MetaMask: Lost connection to "${t}".`;(null==r?void 0:r.stack)&&(i+=`\n${r.stack}`),e.warn(i),n&&n.listenerCount("error")>0&&n.emit("error",i)},t.NOOP=()=>{},t.EMITTED_NOTIFICATIONS=["eth_subscription"]},8787:e=>{"use strict";var t=Array.isArray,r=Object.keys,n=Object.prototype.hasOwnProperty;e.exports=function e(i,o){if(i===o)return!0;if(i&&o&&"object"==typeof i&&"object"==typeof o){var a,s,u,c=t(i),l=t(o);if(c&&l){if((s=i.length)!=o.length)return!1;for(a=s;0!=a--;)if(!e(i[a],o[a]))return!1;return!0}if(c!=l)return!1;var f=i instanceof Date,d=o instanceof Date;if(f!=d)return!1;if(f&&d)return i.getTime()==o.getTime();var h=i instanceof RegExp,p=o instanceof RegExp;if(h!=p)return!1;if(h&&p)return i.toString()==o.toString();var g=r(i);if((s=g.length)!==r(o).length)return!1;for(a=s;0!=a--;)if(!n.call(o,g[a]))return!1;for(a=s;0!=a--;)if(!e(i[u=g[a]],o[u]))return!1;return!0}return i!=i&&o!=o}},3795:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2699);function i(e,t,r){try{Reflect.apply(e,t,r)}catch(e){setTimeout((()=>{throw e}))}}class o extends n.EventEmitter{emit(e,...t){let r="error"===e;const n=this._events;if(void 0!==n)r=r&&void 0===n.error;else if(!r)return!1;if(r){let e;if(t.length>0&&([e]=t),e instanceof Error)throw e;const r=new Error("Unhandled error."+(e?` (${e.message})`:""));throw r.context=e,r}const o=n[e];if(void 0===o)return!1;if("function"==typeof o)i(o,this,t);else{const e=o.length,r=function(e){const t=e.length,r=new Array(t);for(let n=0;n<t;n+=1)r[n]=e[n];return r}(o);for(let n=0;n<e;n+=1)i(r[n],this,t)}return!0}}t.default=o},5778:(e,t,r)=>{"use strict";var n=r(7320);function i(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0}function o(e){return r.g.Buffer&&"function"==typeof r.g.Buffer.isBuffer?r.g.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var a=r(1485),s=Object.prototype.hasOwnProperty,u=Array.prototype.slice,c="foo"===function(){}.name;function l(e){return Object.prototype.toString.call(e)}function f(e){return!o(e)&&"function"==typeof r.g.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}var d=e.exports=m,h=/\s*function\s+([^\(\s]*)\s*/;function p(e){if(a.isFunction(e)){if(c)return e.name;var t=e.toString().match(h);return t&&t[1]}}function g(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function y(e){if(c||!a.isFunction(e))return a.inspect(e);var t=p(e);return"[Function"+(t?": "+t:"")+"]"}function b(e,t,r,n,i){throw new d.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:i})}function m(e,t){e||b(e,!0,t,"==",d.ok)}function w(e,t,r,n){if(e===t)return!0;if(o(e)&&o(t))return 0===i(e,t);if(a.isDate(e)&&a.isDate(t))return e.getTime()===t.getTime();if(a.isRegExp(e)&&a.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(f(e)&&f(t)&&l(e)===l(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===i(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(o(e)!==o(t))return!1;var s=(n=n||{actual:[],expected:[]}).actual.indexOf(e);return-1!==s&&s===n.expected.indexOf(t)||(n.actual.push(e),n.expected.push(t),function(e,t,r,n){if(null==e||null==t)return!1;if(a.isPrimitive(e)||a.isPrimitive(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=v(e),o=v(t);if(i&&!o||!i&&o)return!1;if(i)return w(e=u.call(e),t=u.call(t),r);var s,c,l=E(e),f=E(t);if(l.length!==f.length)return!1;for(l.sort(),f.sort(),c=l.length-1;c>=0;c--)if(l[c]!==f[c])return!1;for(c=l.length-1;c>=0;c--)if(!w(e[s=l[c]],t[s],r,n))return!1;return!0}(e,t,r,n))}return r?e===t:e==t}function v(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function _(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function S(e,t,r,n){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),i=function(e){var t;try{e()}catch(e){t=e}return t}(t),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),e&&!i&&b(i,r,"Missing expected exception"+n);var o="string"==typeof n,s=!e&&i&&!r;if((!e&&a.isError(i)&&o&&_(i,r)||s)&&b(i,r,"Got unwanted exception"+n),e&&i&&r&&!_(i,r)||!e&&i)throw i}d.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return g(y(e.actual),128)+" "+e.operator+" "+g(y(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||b;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var r=new Error;if(r.stack){var n=r.stack,i=p(t),o=n.indexOf("\n"+i);if(o>=0){var a=n.indexOf("\n",o+1);n=n.substring(a+1)}this.stack=n}}},a.inherits(d.AssertionError,Error),d.fail=b,d.ok=m,d.equal=function(e,t,r){e!=t&&b(e,t,r,"==",d.equal)},d.notEqual=function(e,t,r){e==t&&b(e,t,r,"!=",d.notEqual)},d.deepEqual=function(e,t,r){w(e,t,!1)||b(e,t,r,"deepEqual",d.deepEqual)},d.deepStrictEqual=function(e,t,r){w(e,t,!0)||b(e,t,r,"deepStrictEqual",d.deepStrictEqual)},d.notDeepEqual=function(e,t,r){w(e,t,!1)&&b(e,t,r,"notDeepEqual",d.notDeepEqual)},d.notDeepStrictEqual=function e(t,r,n){w(t,r,!0)&&b(t,r,n,"notDeepStrictEqual",e)},d.strictEqual=function(e,t,r){e!==t&&b(e,t,r,"===",d.strictEqual)},d.notStrictEqual=function(e,t,r){e===t&&b(e,t,r,"!==",d.notStrictEqual)},d.throws=function(e,t,r){S(!0,e,t,r)},d.doesNotThrow=function(e,t,r){S(!1,e,t,r)},d.ifError=function(e){if(e)throw e},d.strict=n((function e(t,r){t||b(t,!0,r,"==",e)}),d,{equal:d.strictEqual,deepEqual:d.deepStrictEqual,notEqual:d.notStrictEqual,notDeepEqual:d.notDeepStrictEqual}),d.strict.strict=d.strict;var E=Object.keys||function(e){var t=[];for(var r in e)s.call(e,r)&&t.push(r);return t}},5147:e=>{"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},6819:e=>{e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},1485:(e,t,r)=>{var n=r(4406),i=r(3716),o=/%[sdj%]/g;t.format=function(e){if(!m(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(u(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,a=String(e).replace(o,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),s=n[r];r<i;s=n[++r])y(s)||!_(s)?a+=" "+s:a+=" "+u(s);return a},t.deprecate=function(e,o){if(w(r.g.process))return function(){return t.deprecate(e,o).apply(this,arguments)};if(!0===n.noDeprecation)return e;var a=!1;return function(){if(!a){if(n.throwDeprecation)throw new Error(o);n.traceDeprecation?i.trace(o):i.error(o),a=!0}return e.apply(this,arguments)}};var a,s={};function u(e,r){var n={seen:[],stylize:l};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),g(r)?n.showHidden=r:r&&t._extend(n,r),w(n.showHidden)&&(n.showHidden=!1),w(n.depth)&&(n.depth=2),w(n.colors)&&(n.colors=!1),w(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=c),f(n,e,n.depth)}function c(e,t){var r=u.styles[t];return r?"["+u.colors[r][0]+"m"+e+"["+u.colors[r][1]+"m":e}function l(e,t){return e}function f(e,r,n){if(e.customInspect&&r&&O(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return m(i)||(i=f(e,i,n)),i}var o=function(e,t){if(w(t))return e.stylize("undefined","undefined");if(m(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return b(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):y(t)?e.stylize("null","null"):void 0}(e,r);if(o)return o;var a=Object.keys(r),s=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(r)),E(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return d(r);if(0===a.length){if(O(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(v(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(S(r))return e.stylize(Date.prototype.toString.call(r),"date");if(E(r))return d(r)}var c,l="",_=!1,R=["{","}"];return p(r)&&(_=!0,R=["[","]"]),O(r)&&(l=" [Function"+(r.name?": "+r.name:"")+"]"),v(r)&&(l=" "+RegExp.prototype.toString.call(r)),S(r)&&(l=" "+Date.prototype.toUTCString.call(r)),E(r)&&(l=" "+d(r)),0!==a.length||_&&0!=r.length?n<0?v(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),c=_?function(e,t,r,n,i){for(var o=[],a=0,s=t.length;a<s;++a)k(t,String(a))?o.push(h(e,t,r,n,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(h(e,t,r,n,i,!0))})),o}(e,r,n,s,a):a.map((function(t){return h(e,r,n,s,t,_)})),e.seen.pop(),function(e,t,r){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}(c,l,R)):R[0]+l+R[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,r,n,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),k(n,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=y(r)?f(e,u.value,null):f(e,u.value,r-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),w(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function p(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function y(e){return null===e}function b(e){return"number"==typeof e}function m(e){return"string"==typeof e}function w(e){return void 0===e}function v(e){return _(e)&&"[object RegExp]"===R(e)}function _(e){return"object"==typeof e&&null!==e}function S(e){return _(e)&&"[object Date]"===R(e)}function E(e){return _(e)&&("[object Error]"===R(e)||e instanceof Error)}function O(e){return"function"==typeof e}function R(e){return Object.prototype.toString.call(e)}function M(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(w(a)&&(a=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!s[e])if(new RegExp("\\b"+e+"\\b","i").test(a)){var r=n.pid;s[e]=function(){var n=t.format.apply(t,arguments);i.error("%s %d: %s",e,r,n)}}else s[e]=function(){};return s[e]},t.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=g,t.isNull=y,t.isNullOrUndefined=function(e){return null==e},t.isNumber=b,t.isString=m,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=w,t.isRegExp=v,t.isObject=_,t.isDate=S,t.isError=E,t.isFunction=O,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(6819);var j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function P(){var e=new Date,t=[M(e.getHours()),M(e.getMinutes()),M(e.getSeconds())].join(":");return[e.getDate(),j[e.getMonth()],t].join(" ")}function k(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){i.log("%s - %s",P(),t.format.apply(t,arguments))},t.inherits=r(5147),t._extend=function(e,t){if(!t||!_(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}},5766:(e,t)=>{"use strict";t.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,o=u(e),a=o[0],s=o[1],c=new i(function(e,t,r){return 3*(t+r)/4-r}(0,a,s)),l=0,f=s>0?a-4:a;for(r=0;r<f;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return 2===s&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,c[l++]=255&t),1===s&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=16383,s=0,u=n-i;s<u;s+=a)o.push(c(e,s,s+a>u?u:s+a));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=o.length;a<s;++a)r[a]=o[a],n[o.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},8834:(e,t,r)=>{"use strict";var n=r(3716);const i=r(5766),o=r(2333),a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},t.INSPECT_MAX_BYTES=50;const s=2147483647;function u(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return l(e,t,r)}function l(e,t,r){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|y(e,t);let n=u(r);const i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Y(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Y(e,ArrayBuffer)||e&&Y(e.buffer,ArrayBuffer))return p(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(Y(e,SharedArrayBuffer)||e&&Y(e.buffer,SharedArrayBuffer)))return p(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return c.from(n,t,r);const i=function(e){if(c.isBuffer(e)){const t=0|g(e.length),r=u(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||X(e.length)?u(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return f(e),u(e<0?0:0|g(e))}function h(e){const t=e.length<0?0:0|g(e.length),r=u(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function p(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,c.prototype),n}function g(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function y(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Y(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return V(e).length;default:if(i)return n?-1:G(e).length;t=(""+t).toLowerCase(),i=!0}}function b(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,r);case"utf8":case"utf-8":return j(this,t,r);case"ascii":return k(this,t,r);case"latin1":case"binary":return A(this,t,r);case"base64":return M(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function m(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function w(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),X(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,i){let o,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let n=-1;for(o=r;o<s;o++)if(c(e,o)===c(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===u)return n*a}else-1!==n&&(o-=o-n),n=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){let r=!0;for(let n=0;n<u;n++)if(c(e,o+n)!==c(t,n)){r=!1;break}if(r)return o}return-1}function _(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=t.length;let a;for(n>o/2&&(n=o/2),a=0;a<n;++a){const n=parseInt(t.substr(2*a,2),16);if(X(n))return a;e[r+a]=n}return a}function S(e,t,r,n){return K(G(t,e.length-r),e,r,n)}function E(e,t,r,n){return K(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function O(e,t,r,n){return K(V(t),e,r,n)}function R(e,t,r,n){return K(function(e,t){let r,n,i;const o=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function M(e,t,r){return 0===t&&r===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,r))}function j(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let o=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=r){let r,n,s,u;switch(a){case 1:t<128&&(o=t);break;case 2:r=e[i+1],128==(192&r)&&(u=(31&t)<<6|63&r,u>127&&(o=u));break;case 3:r=e[i+1],n=e[i+2],128==(192&r)&&128==(192&n)&&(u=(15&t)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:r=e[i+1],n=e[i+2],s=e[i+3],128==(192&r)&&128==(192&n)&&128==(192&s)&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&s,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=a}return function(e){const t=e.length;if(t<=P)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=P));return r}(n)}t.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||void 0===n||"function"!=typeof n.error||n.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,r){return function(e,t,r){return f(e),e<=0?u(e):void 0!==t?"string"==typeof r?u(e).fill(t,r):u(e).fill(t):u(e)}(e,t,r)},c.allocUnsafe=function(e){return d(e)},c.allocUnsafeSlow=function(e){return d(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),Y(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=c.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(Y(t,Uint8Array))i+t.length>n.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},c.byteLength=y,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)m(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?j(this,0,e):b.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},a&&(c.prototype[a]=c.prototype.inspect),c.prototype.compare=function(e,t,r,n,i){if(Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0);const s=Math.min(o,a),u=this.slice(n,i),l=e.slice(t,r);for(let e=0;e<s;++e)if(u[e]!==l[e]){o=u[e],a=l[e];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return w(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return w(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return _(this,e,t,r);case"utf8":case"utf-8":return S(this,e,t,r);case"ascii":case"latin1":case"binary":return E(this,e,t,r);case"base64":return O(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const P=4096;function k(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function A(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function x(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=Z[e[n]];return i}function C(e,t,r){const n=e.slice(t,r);let i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}function T(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,r,n,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function I(e,t,r,n,i){z(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function B(e,t,r,n,i){z(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function D(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(e,t,r,n,i){return t=+t,r>>>=0,i||D(e,0,r,4),o.write(e,t,r,n,23,4),r+4}function U(e,t,r,n,i){return t=+t,r>>>=0,i||D(e,0,r,8),o.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||T(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||T(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||T(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||T(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||T(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=Q((function(e){J(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||$(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),c.prototype.readBigUInt64BE=Q((function(e){J(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||$(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),c.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return e>>>=0,t||T(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||T(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){e>>>=0,t||T(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||T(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||T(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=Q((function(e){J(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||$(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=Q((function(e){J(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||$(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||T(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||T(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||T(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||T(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||N(this,e,t,r,Math.pow(2,8*r)-1,0);let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||N(this,e,t,r,Math.pow(2,8*r)-1,0);let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=Q((function(e,t=0){return I(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=Q((function(e,t=0){return B(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);N(this,e,t,r,n-1,-n)}let i=0,o=1,a=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);N(this,e,t,r,n-1,-n)}let i=r-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=Q((function(e,t=0){return I(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=Q((function(e,t=0){return B(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,r){return L(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return L(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return U(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return U(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},c.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{const o=c.isBuffer(e)?e:c.from(e,n),a=o.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%a]}return this};const q={};function W(e,t,r){q[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function F(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function z(e,t,r,n,i,o){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new q.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){J(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||$(t,e.length-(r+1))}(n,i,o)}function J(e,t){if("number"!=typeof e)throw new q.ERR_INVALID_ARG_TYPE(t,"number",e)}function $(e,t,r){if(Math.floor(e)!==e)throw J(e,r),new q.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new q.ERR_BUFFER_OUT_OF_BOUNDS;throw new q.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}W("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),W("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),W("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=F(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=F(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const H=/[^+/0-9A-Za-z-_]/g;function G(e,t){let r;t=t||1/0;const n=e.length;let i=null;const o=[];for(let a=0;a<n;++a){if(r=e.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function V(e){return i.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function K(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Y(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function X(e){return e!=e}const Z=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function Q(e){return"undefined"==typeof BigInt?ee:e}function ee(){throw new Error("BigInt not supported")}},2680:(e,t,r)=>{"use strict";var n=r(7286),i=r(9429),o=i(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&o(e,".prototype.")>-1?i(r):r}},9429:(e,t,r)=>{"use strict";var n=r(4090),i=r(7286),o=i("%Function.prototype.apply%"),a=i("%Function.prototype.call%"),s=i("%Reflect.apply%",!0)||n.call(a,o),u=i("%Object.getOwnPropertyDescriptor%",!0),c=i("%Object.defineProperty%",!0),l=i("%Math.max%");if(c)try{c({},"a",{value:1})}catch(e){c=null}e.exports=function(e){var t=s(n,a,arguments);if(u&&c){var r=u(t,"length");r.configurable&&c(t,"length",{value:1+l(0,e.length-(arguments.length-1))})}return t};var f=function(){return s(n,o,arguments)};c?c(e.exports,"apply",{value:f}):e.exports.apply=f},3716:(e,t,r)=>{var n=r(3335),i=r(5778);function o(){return(new Date).getTime()}var a,s=Array.prototype.slice,u={};a=void 0!==r.g&&r.g.console?r.g.console:"undefined"!=typeof window&&window.console?window.console:{};for(var c=[[function(){},"log"],[function(){a.log.apply(a,arguments)},"info"],[function(){a.log.apply(a,arguments)},"warn"],[function(){a.warn.apply(a,arguments)},"error"],[function(e){u[e]=o()},"time"],[function(e){var t=u[e];if(!t)throw new Error("No such label: "+e);delete u[e];var r=o()-t;a.log(e+": "+r+"ms")},"timeEnd"],[function(){var e=new Error;e.name="Trace",e.message=n.format.apply(null,arguments),a.error(e.stack)},"trace"],[function(e){a.log(n.inspect(e)+"\n")},"dir"],[function(e){if(!e){var t=s.call(arguments,1);i.ok(!1,n.format.apply(null,t))}},"assert"]],l=0;l<c.length;l++){var f=c[l],d=f[0],h=f[1];a[h]||(a[h]=d)}e.exports=a},7646:(e,t,r)=>{var n=r(8834).Buffer;function i(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===i(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===i(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===i(e)},t.isError=function(e){return"[object Error]"===i(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n.isBuffer},4924:(e,t,r)=>{"use strict";r.r(t),r.d(t,{BrowserInfo:()=>o,NodeInfo:()=>a,SearchBotDeviceInfo:()=>s,BotInfo:()=>u,ReactNativeInfo:()=>c,detect:()=>h,browserName:()=>g,parseUserAgent:()=>y,detectOS:()=>b,getNodeVersion:()=>m});var n=r(4406),i=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},o=function(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"},a=function(e){this.version=e,this.type="node",this.name="node",this.os=n.platform},s=function(e,t,r,n){this.name=e,this.version=t,this.os=r,this.bot=n,this.type="bot-device"},u=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},c=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},l=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,f=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],d=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function h(e){return e?y(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new c:"undefined"!=typeof navigator?y(navigator.userAgent):m()}function p(e){return""!==e&&f.reduce((function(t,r){var n=r[0],i=r[1];if(t)return t;var o=i.exec(e);return!!o&&[n,o]}),!1)}function g(e){var t=p(e);return t?t[0]:null}function y(e){var t=p(e);if(!t)return null;var r=t[0],n=t[1];if("searchbot"===r)return new u;var a=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);a?a.length<3&&(a=i(i([],a,!0),function(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}(3-a.length),!0)):a=[];var c=a.join("."),f=b(e),d=l.exec(e);return d&&d[1]?new s(r,c,f,d[1]):new o(r,c,f)}function b(e){for(var t=0,r=d.length;t<r;t++){var n=d[t],i=n[0];if(n[1].exec(e))return i}return null}function m(){return void 0!==n&&n.version?new a(n.version.slice(1)):null}},8797:(e,t,r)=>{var n=r(4406),i=r(9928),o=function(){},a=function(e,t,r){if("function"==typeof t)return a(e,null,t);t||(t={}),r=i(r||o);var s=e._writableState,u=e._readableState,c=t.readable||!1!==t.readable&&e.readable,l=t.writable||!1!==t.writable&&e.writable,f=!1,d=function(){e.writable||h()},h=function(){l=!1,c||r.call(e)},p=function(){c=!1,l||r.call(e)},g=function(t){r.call(e,t?new Error("exited with error code: "+t):null)},y=function(t){r.call(e,t)},b=function(){n.nextTick(m)},m=function(){if(!f)return(!c||u&&u.ended&&!u.destroyed)&&(!l||s&&s.ended&&!s.destroyed)?void 0:r.call(e,new Error("premature close"))},w=function(){e.req.on("finish",h)};return function(e){return e.setHeader&&"function"==typeof e.abort}(e)?(e.on("complete",h),e.on("abort",b),e.req?w():e.on("request",w)):l&&!s&&(e.on("end",d),e.on("close",d)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(e)&&e.on("exit",g),e.on("end",p),e.on("finish",h),!1!==t.error&&e.on("error",y),e.on("close",b),function(){f=!0,e.removeListener("complete",h),e.removeListener("abort",b),e.removeListener("request",w),e.req&&e.req.removeListener("finish",h),e.removeListener("end",d),e.removeListener("close",d),e.removeListener("finish",h),e.removeListener("exit",g),e.removeListener("end",p),e.removeListener("error",y),e.removeListener("close",b)}};e.exports=a},4723:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EthereumProviderError=t.EthereumRpcError=void 0;const n=r(7847);class i extends Error{constructor(e,t,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw new Error('"message" must be a nonempty string.');super(t),this.code=e,void 0!==r&&(this.data=r)}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return n.default(this.serialize(),o,2)}}function o(e,t){if("[Circular]"!==t)return t}t.EthereumRpcError=i,t.EthereumProviderError=class extends i{constructor(e,t,r){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,r)}}},4792:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorValues=t.errorCodes=void 0,t.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},t.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}},8159:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ethErrors=void 0;const n=r(4723),i=r(894),o=r(4792);function a(e,t){const[r,o]=u(t);return new n.EthereumRpcError(e,r||i.getMessageFromCode(e),o)}function s(e,t){const[r,o]=u(t);return new n.EthereumProviderError(e,r||i.getMessageFromCode(e),o)}function u(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&"string"!=typeof t)throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}t.ethErrors={rpc:{parse:e=>a(o.errorCodes.rpc.parse,e),invalidRequest:e=>a(o.errorCodes.rpc.invalidRequest,e),invalidParams:e=>a(o.errorCodes.rpc.invalidParams,e),methodNotFound:e=>a(o.errorCodes.rpc.methodNotFound,e),internal:e=>a(o.errorCodes.rpc.internal,e),server:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return a(t,e)},invalidInput:e=>a(o.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>a(o.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>a(o.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>a(o.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>a(o.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>a(o.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>s(o.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>s(o.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>s(o.errorCodes.provider.unsupportedMethod,e),disconnected:e=>s(o.errorCodes.provider.disconnected,e),chainDisconnected:e=>s(o.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:r,data:i}=e;if(!r||"string"!=typeof r)throw new Error('"message" must be a nonempty string');return new n.EthereumProviderError(t,r,i)}}}},8094:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const n=r(4723);Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return n.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return n.EthereumProviderError}});const i=r(894);Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return i.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return i.getMessageFromCode}});const o=r(8159);Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return o.ethErrors}});const a=r(4792);Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return a.errorCodes}})},894:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const n=r(4792),i=r(4723),o=n.errorCodes.rpc.internal,a={code:o,message:s(o)};function s(e,r="Unspecified error message. This is a bug, please report it."){if(Number.isInteger(e)){const r=e.toString();if(f(n.errorValues,r))return n.errorValues[r].message;if(c(e))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return r}function u(e){if(!Number.isInteger(e))return!1;const t=e.toString();return!!n.errorValues[t]||!!c(e)}function c(e){return e>=-32099&&e<=-32e3}function l(e){return e&&"object"==typeof e&&!Array.isArray(e)?Object.assign({},e):e}function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",t.getMessageFromCode=s,t.isValidCode=u,t.serializeError=function(e,{fallbackError:t=a,shouldIncludeStack:r=!1}={}){var n,o;if(!t||!Number.isInteger(t.code)||"string"!=typeof t.message)throw new Error("Must provide fallback error with integer number code and string message.");if(e instanceof i.EthereumRpcError)return e.serialize();const c={};if(e&&"object"==typeof e&&!Array.isArray(e)&&f(e,"code")&&u(e.code)){const t=e;c.code=t.code,t.message&&"string"==typeof t.message?(c.message=t.message,f(t,"data")&&(c.data=t.data)):(c.message=s(c.code),c.data={originalError:l(e)})}else{c.code=t.code;const r=null===(n=e)||void 0===n?void 0:n.message;c.message=r&&"string"==typeof r?r:t.message,c.data={originalError:l(e)}}const d=null===(o=e)||void 0===o?void 0:o.stack;return r&&e&&d&&"string"==typeof d&&(c.stack=d),c}},2699:(e,t,r)=>{"use strict";var n,i=r(3716),o="object"==typeof Reflect?Reflect:null,a=o&&"function"==typeof o.apply?o.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function u(){u.init.call(this)}e.exports=u,e.exports.once=function(e,t){return new Promise((function(r,n){function i(){void 0!==o&&e.removeListener("error",o),r([].slice.call(arguments))}var o;"error"!==t&&(o=function(r){e.removeListener(t,i),n(r)},e.once("error",o)),e.once(t,i)}))},u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var c=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function f(e){return void 0===e._maxListeners?u.defaultMaxListeners:e._maxListeners}function d(e,t,r,n){var o,a,s,u;if(l(r),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),s=a[t]),void 0===s)s=a[t]=r,++e._eventsCount;else if("function"==typeof s?s=a[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(o=f(e))>0&&s.length>o&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,u=c,i&&i.warn&&i.warn(u)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=h.bind(n);return i.listener=r,n.wrapFn=i,i}function g(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):b(i,i.length)}function y(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function b(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),u.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},u.prototype.getMaxListeners=function(){return f(this)},u.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)a(u,this,t);else{var c=u.length,l=b(u,c);for(r=0;r<c;++r)a(l[r],this,t)}return!0},u.prototype.addListener=function(e,t){return d(this,e,t,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(e,t){return d(this,e,t,!0)},u.prototype.once=function(e,t){return l(t),this.on(e,p(this,e,t)),this},u.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,p(this,e,t)),this},u.prototype.removeListener=function(e,t){var r,n,i,o,a;if(l(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},u.prototype.listeners=function(e){return g(this,e,!0)},u.prototype.rawListeners=function(e){return g(this,e,!1)},u.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):y.call(e,t)},u.prototype.listenerCount=y,u.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},3274:(e,t,r)=>{"use strict";var n=r(8834).Buffer;const i=r(4851);e.exports=class extends i.Duplex{constructor(e){super({objectMode:!0}),this._port=e,this._port.onMessage.addListener((e=>this._onMessage(e))),this._port.onDisconnect.addListener((()=>this._onDisconnect()))}_onMessage(e){if(n.isBuffer(e)){const t=n.from(e);this.push(t)}else this.push(e)}_onDisconnect(){this.destroy()}_read(){}_write(e,t,r){try{if(n.isBuffer(e)){const t=e.toJSON();t._isBuffer=!0,this._port.postMessage(t)}else this._port.postMessage(e)}catch(e){return r(new Error("PortDuplexStream - disconnected"))}return r()}}},7847:e=>{e.exports=n,n.default=n,n.stable=a,n.stableStringify=a;var t=[],r=[];function n(e,n,o){var a;for(i(e,"",[],void 0),a=0===r.length?JSON.stringify(e,n,o):JSON.stringify(e,u(n),o);0!==t.length;){var s=t.pop();4===s.length?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}return a}function i(e,n,o,a){var s;if("object"==typeof e&&null!==e){for(s=0;s<o.length;s++)if(o[s]===e){var u=Object.getOwnPropertyDescriptor(a,n);return void(void 0!==u.get?u.configurable?(Object.defineProperty(a,n,{value:"[Circular]"}),t.push([a,n,e,u])):r.push([e,n]):(a[n]="[Circular]",t.push([a,n,e])))}if(o.push(e),Array.isArray(e))for(s=0;s<e.length;s++)i(e[s],s,o,e);else{var c=Object.keys(e);for(s=0;s<c.length;s++){var l=c[s];i(e[l],l,o,e)}}o.pop()}}function o(e,t){return e<t?-1:e>t?1:0}function a(e,n,i){var o,a=s(e,"",[],void 0)||e;for(o=0===r.length?JSON.stringify(a,n,i):JSON.stringify(a,u(n),i);0!==t.length;){var c=t.pop();4===c.length?Object.defineProperty(c[0],c[1],c[3]):c[0][c[1]]=c[2]}return o}function s(e,n,i,a){var u;if("object"==typeof e&&null!==e){for(u=0;u<i.length;u++)if(i[u]===e){var c=Object.getOwnPropertyDescriptor(a,n);return void(void 0!==c.get?c.configurable?(Object.defineProperty(a,n,{value:"[Circular]"}),t.push([a,n,e,c])):r.push([e,n]):(a[n]="[Circular]",t.push([a,n,e])))}if("function"==typeof e.toJSON)return;if(i.push(e),Array.isArray(e))for(u=0;u<e.length;u++)s(e[u],u,i,e);else{var l={},f=Object.keys(e).sort(o);for(u=0;u<f.length;u++){var d=f[u];s(e[d],d,i,e),l[d]=e[d]}if(void 0===a)return l;t.push([a,n,e]),a[n]=l}i.pop()}}function u(e){return e=void 0!==e?e:function(e,t){return t},function(t,n){if(r.length>0)for(var i=0;i<r.length;i++){var o=r[i];if(o[1]===t&&o[0]===n){n="[Circular]",r.splice(i,1);break}}return e.call(this,t,n)}}},6388:e=>{var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString;e.exports=function(e,n,i){if("[object Function]"!==r.call(n))throw new TypeError("iterator must be a function");var o=e.length;if(o===+o)for(var a=0;a<o;a++)n.call(i,e[a],a,e);else for(var s in e)t.call(e,s)&&n.call(i,e[s],s,e)}},7795:e=>{"use strict";var t="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,n=Object.prototype.toString,i="[object Function]";e.exports=function(e){var o=this;if("function"!=typeof o||n.call(o)!==i)throw new TypeError(t+o);for(var a,s=r.call(arguments,1),u=function(){if(this instanceof a){var t=o.apply(this,s.concat(r.call(arguments)));return Object(t)===t?t:this}return o.apply(e,s.concat(r.call(arguments)))},c=Math.max(0,o.length-s.length),l=[],f=0;f<c;f++)l.push("$"+f);if(a=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(u),o.prototype){var d=function(){};d.prototype=o.prototype,a.prototype=new d,d.prototype=null}return a}},4090:(e,t,r)=>{"use strict";var n=r(7795);e.exports=Function.prototype.bind||n},7286:(e,t,r)=>{"use strict";var n,i=SyntaxError,o=Function,a=TypeError,s=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(e){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(e){u=null}var c=function(){throw new a},l=u?function(){try{return c}catch(e){try{return u(arguments,"callee").get}catch(e){return c}}}():c,f=r(4123)(),d=Object.getPrototypeOf||function(e){return e.__proto__},h={},p="undefined"==typeof Uint8Array?n:d(Uint8Array),g={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":f?d([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":h,"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":h,"%AsyncIteratorPrototype%":h,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":h,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f?d(d([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&f?d((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&f?d((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f?d(""[Symbol.iterator]()):n,"%Symbol%":f?Symbol:n,"%SyntaxError%":i,"%ThrowTypeError%":l,"%TypedArray%":p,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet},y=function e(t){var r;if("%AsyncFunction%"===t)r=s("async function () {}");else if("%GeneratorFunction%"===t)r=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=s("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(r=d(i.prototype))}return g[t]=r,r},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},m=r(4090),w=r(3198),v=m.call(Function.call,Array.prototype.concat),_=m.call(Function.apply,Array.prototype.splice),S=m.call(Function.call,String.prototype.replace),E=m.call(Function.call,String.prototype.slice),O=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,R=/\\(\\)?/g,M=function(e){var t=E(e,0,1),r=E(e,-1);if("%"===t&&"%"!==r)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var n=[];return S(e,O,(function(e,t,r,i){n[n.length]=r?S(i,R,"$1"):t||e})),n},j=function(e,t){var r,n=e;if(w(b,n)&&(n="%"+(r=b[n])[0]+"%"),w(g,n)){var o=g[n];if(o===h&&(o=y(n)),void 0===o&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new a('"allowMissing" argument must be a boolean');var r=M(e),n=r.length>0?r[0]:"",o=j("%"+n+"%",t),s=o.name,c=o.value,l=!1,f=o.alias;f&&(n=f[0],_(r,v([0,1],f)));for(var d=1,h=!0;d<r.length;d+=1){var p=r[d],y=E(p,0,1),b=E(p,-1);if(('"'===y||"'"===y||"`"===y||'"'===b||"'"===b||"`"===b)&&y!==b)throw new i("property names with quotes must have matching quotes");if("constructor"!==p&&h||(l=!0),w(g,s="%"+(n+="."+p)+"%"))c=g[s];else if(null!=c){if(!(p in c)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(u&&d+1>=r.length){var m=u(c,p);c=(h=!!m)&&"get"in m&&!("originalValue"in m.get)?m.get:c[p]}else h=w(c,p),c=c[p];h&&!l&&(g[s]=c)}}return c}},4123:(e,t,r)=>{"use strict";var n=r.g.Symbol,i=r(300);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&i()}},300:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},6679:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},7226:(e,t,r)=>{"use strict";var n=r(6679);e.exports=function(){return n()&&!!Symbol.toStringTag}},3198:(e,t,r)=>{"use strict";var n=r(4090);e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},2333:(e,t)=>{t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,f=r?i-1:0,d=r?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-l)-1,h>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=d,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+e[t+f],f+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),o-=c}return(h?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[r+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+h]=255&a,h+=p,a/=256,c-=8);e[r+h-p]|=128*g}},1285:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},2635:(e,t,r)=>{"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,i=r(2680)("Object.prototype.toString"),o=function(e){return!(n&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===i(e)},a=function(e){return!!o(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==i(e)&&"[object Function]"===i(e.callee)},s=function(){return o(arguments)}();o.isLegacyArguments=a,e.exports=s?o:a},3138:(e,t,r)=>{"use strict";var n,i=Object.prototype.toString,o=Function.prototype.toString,a=/^\s*(?:function)?\*/,s=r(7226)(),u=Object.getPrototypeOf;e.exports=function(e){if("function"!=typeof e)return!1;if(a.test(o.call(e)))return!0;if(!s)return"[object GeneratorFunction]"===i.call(e);if(!u)return!1;if(void 0===n){var t=function(){if(!s)return!1;try{return Function("return function*() {}")()}catch(e){}}();n=!!t&&u(t)}return u(e)===n}},8607:e=>{"use strict";const t=e=>null!==e&&"object"==typeof e&&"function"==typeof e.pipe;t.writable=e=>t(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState,t.readable=e=>t(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState,t.duplex=e=>t.writable(e)&&t.readable(e),t.transform=e=>t.duplex(e)&&"function"==typeof e._transform&&"object"==typeof e._transformState,e.exports=t},198:(e,t,r)=>{"use strict";var n=r(6388),i=r(2191),o=r(2680),a=o("Object.prototype.toString"),s=r(7226)(),u="undefined"==typeof globalThis?r.g:globalThis,c=i(),l=o("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},f=o("String.prototype.slice"),d={},h=r(7342),p=Object.getPrototypeOf;s&&h&&p&&n(c,(function(e){var t=new u[e];if(Symbol.toStringTag in t){var r=p(t),n=h(r,Symbol.toStringTag);if(!n){var i=p(r);n=h(i,Symbol.toStringTag)}d[e]=n.get}})),e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!s||!(Symbol.toStringTag in e)){var t=f(a(e),8,-1);return l(c,t)>-1}return!!h&&function(e){var t=!1;return n(d,(function(r,n){if(!t)try{t=r.call(e)===n}catch(e){}})),t}(e)}},7906:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},2539:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.JsonRpcEngine=void 0;const i=n(r(3795)),o=r(8094);class a extends i.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,t){if(t&&"function"!=typeof t)throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?t?this._handleBatch(e,t):this._handleBatch(e):t?this._handle(e,t):this._promiseHandle(e)}asMiddleware(){return async(e,t,r,n)=>{try{const[i,o,s]=await a._runAllMiddleware(e,t,this._middleware);return o?(await a._runReturnHandlers(s),n(i)):r((async e=>{try{await a._runReturnHandlers(s)}catch(t){return e(t)}return e()}))}catch(e){return n(e)}}}async _handleBatch(e,t){try{const r=await Promise.all(e.map(this._promiseHandle.bind(this)));return t?t(null,r):r}catch(e){if(t)return t(e);throw e}}_promiseHandle(e){return new Promise((t=>{this._handle(e,((e,r)=>{t(r)}))}))}async _handle(e,t){if(!e||Array.isArray(e)||"object"!=typeof e){const r=new o.EthereumRpcError(o.errorCodes.rpc.invalidRequest,"Requests must be plain objects. Received: "+typeof e,{request:e});return t(r,{id:void 0,jsonrpc:"2.0",error:r})}if("string"!=typeof e.method){const r=new o.EthereumRpcError(o.errorCodes.rpc.invalidRequest,"Must specify a string method. Received: "+typeof e.method,{request:e});return t(r,{id:e.id,jsonrpc:"2.0",error:r})}const r=Object.assign({},e),n={id:r.id,jsonrpc:r.jsonrpc};let i=null;try{await this._processRequest(r,n)}catch(e){i=e}return i&&(delete n.result,n.error||(n.error=o.serializeError(i))),t(i,n)}async _processRequest(e,t){const[r,n,i]=await a._runAllMiddleware(e,t,this._middleware);if(a._checkForCompletion(e,t,n),await a._runReturnHandlers(i),r)throw r}static async _runAllMiddleware(e,t,r){const n=[];let i=null,o=!1;for(const s of r)if([i,o]=await a._runMiddleware(e,t,s,n),o)break;return[i,o,n.reverse()]}static _runMiddleware(e,t,r,n){return new Promise((i=>{const a=e=>{const r=e||t.error;r&&(t.error=o.serializeError(r)),i([r,!0])},u=r=>{t.error?a(t.error):(r&&("function"!=typeof r&&a(new o.EthereumRpcError(o.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof r}" for request:\n${s(e)}`,{request:e})),n.push(r)),i([null,!1]))};try{r(e,t,u,a)}catch(e){a(e)}}))}static async _runReturnHandlers(e){for(const t of e)await new Promise(((e,r)=>{t((t=>t?r(t):e()))}))}static _checkForCompletion(e,t,r){if(!("result"in t)&&!("error"in t))throw new o.EthereumRpcError(o.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:\n${s(e)}`,{request:e});if(!r)throw new o.EthereumRpcError(o.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:\n${s(e)}`,{request:e})}}function s(e){return JSON.stringify(e,null,2)}t.JsonRpcEngine=a},7573:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAsyncMiddleware=void 0,t.createAsyncMiddleware=function(e){return async(t,r,n,i)=>{let o;const a=new Promise((e=>{o=e}));let s=null,u=!1;const c=async()=>{u=!0,n((e=>{s=e,o()})),await a};try{await e(t,r,c),u?(await a,s(null)):i(null)}catch(e){s?s(e):i(e)}}}},9141:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createScaffoldMiddleware=void 0,t.createScaffoldMiddleware=function(e){return(t,r,n,i)=>{const o=e[t.method];return void 0===o?n():"function"==typeof o?o(t,r,n,i):(r.result=o,i())}}},5104:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUniqueId=void 0;const r=4294967295;let n=Math.floor(Math.random()*r);t.getUniqueId=function(){return n=(n+1)%r,n}},169:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createIdRemapMiddleware=void 0;const n=r(5104);t.createIdRemapMiddleware=function(){return(e,t,r,i)=>{const o=e.id,a=n.getUniqueId();e.id=a,t.id=a,r((r=>{e.id=o,t.id=o,r()}))}}},1280:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(169),t),i(r(7573),t),i(r(9141),t),i(r(5104),t),i(r(2539),t),i(r(1759),t)},1759:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeMiddleware=void 0;const n=r(2539);t.mergeMiddleware=function(e){const t=new n.JsonRpcEngine;return e.forEach((e=>t.push(e))),t.asMiddleware()}},2408:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(7525);t.default=function(e){if(!e||!e.engine)throw new Error("Missing engine parameter!");const{engine:t}=e,r=new n.Duplex({objectMode:!0,read:function(){},write:function(e,n,i){t.handle(e,((e,t)=>{r.push(t)})),i()}});return t.on&&t.on("notification",(e=>{r.push(e)})),r}},3603:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(3795)),o=r(7525);t.default=function(){const e={},t=new o.Duplex({objectMode:!0,read:function(){return!1},write:function(t,n,i){let o;try{t.id?function(t){const r=e[t.id];if(!r)throw new Error(`StreamMiddleware - Unknown response id "${t.id}"`);delete e[t.id],Object.assign(r.res,t),setTimeout(r.end)}(t):function(e){r.emit("notification",e)}(t)}catch(e){o=e}i(o)}}),r=new i.default;return{events:r,middleware:(r,n,i,o)=>{t.push(r),e[r.id]={req:r,res:n,next:i,end:o}},stream:t}}},1384:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createStreamMiddleware=t.createEngineStream=void 0;const i=n(r(2408));t.createEngineStream=i.default;const o=n(r(3603));t.createStreamMiddleware=o.default},7320:e=>{"use strict";var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var a,s,u=i(e),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))r.call(a,l)&&(u[l]=a[l]);if(t){s=t(a);for(var f=0;f<s.length;f++)n.call(a,s[f])&&(u[s[f]]=a[s[f]])}}return u}},9928:(e,t,r)=>{var n=r(8892);function i(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}e.exports=n(i),e.exports.strict=n(o),i.proto=i((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})}))},2884:(e,t,r)=>{"use strict";var n=r(4406);void 0===n||!n.version||0===n.version.indexOf("v0.")||0===n.version.indexOf("v1.")&&0!==n.version.indexOf("v1.8.")?e.exports={nextTick:function(e,t,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return n.nextTick(e);case 2:return n.nextTick((function(){e.call(null,t)}));case 3:return n.nextTick((function(){e.call(null,t,r)}));case 4:return n.nextTick((function(){e.call(null,t,r,i)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return n.nextTick((function(){e.apply(null,o)}))}}}:e.exports=n},4406:e=>{var t,r,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var s,u=[],c=!1,l=-1;function f(){c&&s&&(c=!1,s.length?u=s.concat(u):l=-1,u.length&&d())}function d(){if(!c){var e=a(f);c=!0;for(var t=u.length;t;){for(s=u,u=[];++l<t;)s&&s[l].run();l=-1,t=u.length}s=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new h(e,t)),1!==u.length||c||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},3171:(e,t,r)=>{var n=r(4406),i=r(9928),o=r(8797),a=r(3558),s=function(){},u=/^v?\.0/.test(n.version),c=function(e){return"function"==typeof e},l=function(e,t,r,n){n=i(n);var l=!1;e.on("close",(function(){l=!0})),o(e,{readable:t,writable:r},(function(e){if(e)return n(e);l=!0,n()}));var f=!1;return function(t){if(!l&&!f)return f=!0,function(e){return!!u&&!!a&&(e instanceof(a.ReadStream||s)||e instanceof(a.WriteStream||s))&&c(e.close)}(e)?e.close(s):function(e){return e.setHeader&&c(e.abort)}(e)?e.abort():c(e.destroy)?e.destroy():void n(t||new Error("stream was destroyed"))}},f=function(e){e()},d=function(e,t){return e.pipe(t)};e.exports=function(){var e,t=Array.prototype.slice.call(arguments),r=c(t[t.length-1]||s)&&t.pop()||s;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var n=t.map((function(i,o){var a=o<t.length-1;return l(i,a,o>0,(function(t){e||(e=t),t&&n.forEach(f),a||(n.forEach(f),r(e))}))}));return t.reduce(d)}},7073:(e,t,r)=>{"use strict";var n=r(2884),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=f;var o=Object.create(r(7646));o.inherits=r(1285);var a=r(8051),s=r(2557);o.inherits(f,a);for(var u=i(s.prototype),c=0;c<u.length;c++){var l=u[c];f.prototype[l]||(f.prototype[l]=s.prototype[l])}function f(e){if(!(this instanceof f))return new f(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||n.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},5163:(e,t,r)=>{"use strict";e.exports=o;var n=r(7640),i=Object.create(r(7646));function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}i.inherits=r(1285),i.inherits(o,n),o.prototype._transform=function(e,t,r){r(null,e)}},8051:(e,t,r)=>{"use strict";var n=r(4406),i=r(2884);e.exports=w;var o,a=r(7906);w.ReadableState=m,r(2699).EventEmitter;var s=function(e,t){return e.listeners(t).length},u=r(5010),c=r(2521).Buffer,l=r.g.Uint8Array||function(){},f=Object.create(r(7646));f.inherits=r(1285);var d=r(6602),h=void 0;h=d&&d.debuglog?d.debuglog("stream"):function(){};var p,g=r(9128),y=r(2262);f.inherits(w,u);var b=["error","close","destroy","pause","resume"];function m(e,t){e=e||{};var n=t instanceof(o=o||r(7073));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=r(1922).s),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function w(e){if(o=o||r(7073),!(this instanceof w))return new w(e);this._readableState=new m(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function v(e,t,r,n,i){var o,a=e._readableState;return null===t?(a.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,O(e)}}(e,a)):(i||(o=function(e,t){var r,n;return n=t,c.isBuffer(n)||n instanceof l||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),n?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):_(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?_(e,a,t,!1):M(e,a)):_(e,a,t,!1))):n||(a.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function _(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&O(e)),M(e,t)}Object.defineProperty(w.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),w.prototype.destroy=y.destroy,w.prototype._undestroy=y.undestroy,w.prototype._destroy=function(e,t){this.push(null),t(e)},w.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),r=!0),v(this,e,t,!1,r)},w.prototype.unshift=function(e){return v(this,e,null,!0,!1)},w.prototype.isPaused=function(){return!1===this._readableState.flowing},w.prototype.setEncoding=function(e){return p||(p=r(1922).s),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var S=8388608;function E(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=S?e=S:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function O(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(R,e):R(e))}function R(e){h("emit readable"),e.emit("readable"),A(e)}function M(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(j,e,t))}function j(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function P(e){h("readable nexttick read 0"),e.read(0)}function k(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),A(e),t.flowing&&!t.reading&&e.read(0)}function A(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function x(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0==(e-=a)){a===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=c.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,a),0==(e-=a)){a===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++i}return t.length-=i,r}(e,t),n}(e,t.buffer,t.decoder),r);var r}function C(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(T,t,e))}function T(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function N(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}w.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?C(this):O(this),null;if(0===(e=E(e,t))&&t.ended)return 0===t.length&&C(this),null;var n,i=t.needReadable;return h("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",i=!0),t.ended||t.reading?h("reading or ended",i=!1):i&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=E(r,t))),null===(n=e>0?x(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&C(this)),null!==n&&this.emit("data",n),n},w.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},w.prototype.pipe=function(e,t){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,h("pipe count=%d opts=%j",o.pipesCount,t);var u=t&&!1===t.end||e===n.stdout||e===n.stderr?m:c;function c(){h("onend"),e.end()}o.endEmitted?i.nextTick(u):r.once("end",u),e.on("unpipe",(function t(n,i){h("onunpipe"),n===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,h("cleanup"),e.removeListener("close",y),e.removeListener("finish",b),e.removeListener("drain",l),e.removeListener("error",g),e.removeListener("unpipe",t),r.removeListener("end",c),r.removeListener("end",m),r.removeListener("data",p),f=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}));var l=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,A(e))}}(r);e.on("drain",l);var f=!1,d=!1;function p(t){h("ondata"),d=!1,!1!==e.write(t)||d||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==N(o.pipes,e))&&!f&&(h("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,d=!0),r.pause())}function g(t){h("onerror",t),m(),e.removeListener("error",g),0===s(e,"error")&&e.emit("error",t)}function y(){e.removeListener("finish",b),m()}function b(){h("onfinish"),e.removeListener("close",y),m()}function m(){h("unpipe"),r.unpipe(e)}return r.on("data",p),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events.error?a(e._events.error)?e._events.error.unshift(r):e._events.error=[r,e._events.error]:e.on(t,r)}(e,"error",g),e.once("close",y),e.once("finish",b),e.emit("pipe",r),o.flowing||(h("pipe resume"),r.resume()),e},w.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var a=N(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},w.prototype.on=function(e,t){var r=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&O(this):i.nextTick(P,this))}return r},w.prototype.addListener=w.prototype.on,w.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(k,e,t))}(this,e)),this},w.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},w.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(h("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){h("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<b.length;o++)e.on(b[o],this.emit.bind(this,b[o]));return this._read=function(t){h("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(w.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),w._fromList=x},7640:(e,t,r)=>{"use strict";e.exports=a;var n=r(7073),i=Object.create(r(7646));function o(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);n.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush((function(t,r){u(e,t,r)})):u(this,null,null)}function u(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=r(1285),i.inherits(a,n),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,(function(e){t(e),r.emit("close")}))}},2557:(e,t,r)=>{"use strict";var n=r(4406),i=r(2884);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=b;var a,s=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?setImmediate:i.nextTick;b.WritableState=y;var u=Object.create(r(7646));u.inherits=r(1285);var c,l={deprecate:r(5803)},f=r(5010),d=r(2521).Buffer,h=r.g.Uint8Array||function(){},p=r(2262);function g(){}function y(e,t){a=a||r(7073),e=e||{};var n=t instanceof a;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var u=e.highWaterMark,c=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=u||0===u?u:n&&(c||0===c)?c:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===e.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,o){--t.pendingcb,r?(i.nextTick(o,n),i.nextTick(E,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(o(n),e._writableState.errorEmitted=!0,e.emit("error",n),E(e,t))}(e,r,n,t,o);else{var a=_(r);a||r.corked||r.bufferProcessing||!r.bufferedRequest||v(e,r),n?s(w,e,r,a,o):w(e,r,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function b(e){if(a=a||r(7073),!(c.call(b,this)||this instanceof a))return new b(e);this._writableState=new y(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),f.call(this)}function m(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function w(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),E(e,t)}function v(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),a=t.corkedRequestsFree;a.entry=r;for(var s=0,u=!0;r;)i[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;i.allBuffers=u,m(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,f=r.callback;if(m(e,t,!1,t.objectMode?1:c.length,c,l,f),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function _(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),E(e,t)}))}function E(e,t){var r=_(t);return r&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,i.nextTick(S,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}u.inherits(b,f),y.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(y.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===b&&e&&e._writableState instanceof y}})):c=function(e){return e instanceof this},b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},b.prototype.write=function(e,t,r){var n,o=this._writableState,a=!1,s=!o.objectMode&&(n=e,d.isBuffer(n)||n instanceof h);return s&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=g),o.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),i.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var o=!0,a=!1;return null===r?a=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),i.nextTick(n,a),o=!1),o}(this,o,e,r))&&(o.pendingcb++,a=function(e,t,r,n,i,o){if(!r){var a=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,r)),t}(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,s,n,i,o);return u}(this,o,s,e,t,r)),a},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||v(this,e))},b.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),b.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,E(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),b.prototype.destroy=p.destroy,b.prototype._undestroy=p.undestroy,b.prototype._destroy=function(e,t){this.end(),t(e)}},9128:(e,t,r)=>{"use strict";var n=r(2521).Buffer,i=r(4854);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,i=n.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=i,r=a,o.data.copy(t,r),a+=o.data.length,o=o.next;return i},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},2262:(e,t,r)=>{"use strict";var n=r(2884);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(n.nextTick(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},5010:(e,t,r)=>{e.exports=r(2699).EventEmitter},2521:(e,t,r)=>{var n=r(8834),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},1922:(e,t,r)=>{"use strict";var n=r(2521).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},7525:(e,t,r)=>{(t=e.exports=r(8051)).Stream=t,t.Readable=t,t.Writable=r(2557),t.Duplex=r(7073),t.Transform=r(7640),t.PassThrough=r(5163)},7834:(e,t,r)=>{var n=r(8834),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},4851:(e,t,r)=>{e.exports=i;var n=r(2699).EventEmitter;function i(){n.call(this)}r(1285)(i,n),i.Readable=r(3323),i.Writable=r(8234),i.Duplex=r(5929),i.Transform=r(9535),i.PassThrough=r(7706),i.finished=r(2529),i.pipeline=r(9125),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(r.on("end",s),r.on("close",u));var a=!1;function s(){a||(a=!0,e.end())}function u(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(l(),0===n.listenerCount(this,"error"))throw e}function l(){r.removeListener("data",i),e.removeListener("drain",o),r.removeListener("end",s),r.removeListener("close",u),r.removeListener("error",c),e.removeListener("error",c),r.removeListener("end",l),r.removeListener("close",l),e.removeListener("close",l)}return r.on("error",c),e.on("error",c),r.on("end",l),r.on("close",l),e.on("close",l),e.emit("pipe",r),e}},9150:e=>{"use strict";var t={};function r(e,r,n){n||(n=Error);var i=function(e){var t,n;function i(t,n,i){return e.call(this,function(e,t,n){return"string"==typeof r?r:r(e,t,n)}(t,n,i))||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(n);i.prototype.name=n.name,i.prototype.code=e,t[e]=i}function n(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){var i,o,a,s,u;if("string"==typeof t&&(o="not ",t.substr(0,o.length)===o)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))a="The ".concat(e," ").concat(i," ").concat(n(t,"type"));else{var c=("number"!=typeof u&&(u=0),u+".".length>(s=e).length||-1===s.indexOf(".",u)?"argument":"property");a='The "'.concat(e,'" ').concat(c," ").concat(i," ").concat(n(t,"type"))}return a+". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},5929:(e,t,r)=>{"use strict";var n=r(4406),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=l;var o=r(3323),a=r(8234);r(1285)(l,o);for(var s=i(a.prototype),u=0;u<s.length;u++){var c=s[u];l.prototype[c]||(l.prototype[c]=a.prototype[c])}function l(e){if(!(this instanceof l))return new l(e);o.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||n.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},7706:(e,t,r)=>{"use strict";e.exports=i;var n=r(9535);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(1285)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},3323:(e,t,r)=>{"use strict";var n,i=r(4406);e.exports=R,R.ReadableState=O,r(2699).EventEmitter;var o,a=function(e,t){return e.listeners(t).length},s=r(4811),u=r(8834).Buffer,c=r.g.Uint8Array||function(){},l=r(9255);o=l&&l.debuglog?l.debuglog("stream"):function(){};var f,d,h,p=r(3413),g=r(163),y=r(4774).getHighWaterMark,b=r(9150).q,m=b.ERR_INVALID_ARG_TYPE,w=b.ERR_STREAM_PUSH_AFTER_EOF,v=b.ERR_METHOD_NOT_IMPLEMENTED,_=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(1285)(R,s);var S=g.errorOrDestroy,E=["error","close","destroy","pause","resume"];function O(e,t,i){n=n||r(5929),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=y(this,e,"readableHighWaterMark",i),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=r(214).s),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function R(e){if(n=n||r(5929),!(this instanceof R))return new R(e);var t=this instanceof n;this._readableState=new O(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function M(e,t,r,n,i){o("readableAddChunk",t);var a,s=e._readableState;if(null===t)s.reading=!1,function(e,t){if(o("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?A(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,x(e)))}}(e,s);else if(i||(a=function(e,t){var r,n;return n=t,u.isBuffer(n)||n instanceof c||"string"==typeof t||void 0===t||e.objectMode||(r=new m("chunk",["string","Buffer","Uint8Array"],t)),r}(s,t)),a)S(e,a);else if(s.objectMode||t&&t.length>0)if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),n)s.endEmitted?S(e,new _):j(e,s,t,!0);else if(s.ended)S(e,new w);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?j(e,s,t,!1):C(e,s)):j(e,s,t,!1)}else n||(s.reading=!1,C(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function j(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&A(e)),C(e,t)}Object.defineProperty(R.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),R.prototype.destroy=g.destroy,R.prototype._undestroy=g.undestroy,R.prototype._destroy=function(e,t){t(e)},R.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=u.from(e,t),t=""),r=!0),M(this,e,t,!1,r)},R.prototype.unshift=function(e){return M(this,e,null,!0,!1)},R.prototype.isPaused=function(){return!1===this._readableState.flowing},R.prototype.setEncoding=function(e){f||(f=r(214).s);var t=new f(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var P=1073741824;function k(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=P?e=P:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function A(e){var t=e._readableState;o("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(o("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(x,e))}function x(e){var t=e._readableState;o("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,D(e)}function C(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(T,e,t))}function T(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(o("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function N(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function I(e){o("readable nexttick read 0"),e.read(0)}function B(e,t){o("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),D(e),t.flowing&&!t.reading&&e.read(0)}function D(e){var t=e._readableState;for(o("flow",t.flowing);t.flowing&&null!==e.read(););}function L(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function U(e){var t=e._readableState;o("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(q,t,e))}function q(e,t){if(o("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function W(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}R.prototype.read=function(e){o("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return o("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?U(this):A(this),null;if(0===(e=k(e,t))&&t.ended)return 0===t.length&&U(this),null;var n,i=t.needReadable;return o("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&o("length less than watermark",i=!0),t.ended||t.reading?o("reading or ended",i=!1):i&&(o("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=k(r,t))),null===(n=e>0?L(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&U(this)),null!==n&&this.emit("data",n),n},R.prototype._read=function(e){S(this,new v("_read()"))},R.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,o("pipe count=%d opts=%j",n.pipesCount,t);var s=t&&!1===t.end||e===i.stdout||e===i.stderr?g:u;function u(){o("onend"),e.end()}n.endEmitted?i.nextTick(s):r.once("end",s),e.on("unpipe",(function t(i,a){o("onunpipe"),i===r&&a&&!1===a.hasUnpiped&&(a.hasUnpiped=!0,o("cleanup"),e.removeListener("close",h),e.removeListener("finish",p),e.removeListener("drain",c),e.removeListener("error",d),e.removeListener("unpipe",t),r.removeListener("end",u),r.removeListener("end",g),r.removeListener("data",f),l=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}));var c=function(e){return function(){var t=e._readableState;o("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,D(e))}}(r);e.on("drain",c);var l=!1;function f(t){o("ondata");var i=e.write(t);o("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==W(n.pipes,e))&&!l&&(o("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function d(t){o("onerror",t),g(),e.removeListener("error",d),0===a(e,"error")&&S(e,t)}function h(){e.removeListener("finish",p),g()}function p(){o("onfinish"),e.removeListener("close",h),g()}function g(){o("unpipe"),r.unpipe(e)}return r.on("data",f),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events.error?Array.isArray(e._events.error)?e._events.error.unshift(r):e._events.error=[r,e._events.error]:e.on(t,r)}(e,"error",d),e.once("close",h),e.once("finish",p),e.emit("pipe",r),n.flowing||(o("pipe resume"),r.resume()),e},R.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=W(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},R.prototype.on=function(e,t){var r=s.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,o("on readable",n.length,n.reading),n.length?A(this):n.reading||i.nextTick(I,this))),r},R.prototype.addListener=R.prototype.on,R.prototype.removeListener=function(e,t){var r=s.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(N,this),r},R.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||i.nextTick(N,this),t},R.prototype.resume=function(){var e=this._readableState;return e.flowing||(o("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(B,e,t))}(this,e)),e.paused=!1,this},R.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},R.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(o("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){o("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<E.length;a++)e.on(E[a],this.emit.bind(this,E[a]));return this._read=function(t){o("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(R.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=r(4020)),d(this)}),Object.defineProperty(R.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(R.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(R.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),R._fromList=L,Object.defineProperty(R.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(R.from=function(e,t){return void 0===h&&(h=r(7324)),h(R,e,t)})},9535:(e,t,r)=>{"use strict";e.exports=l;var n=r(9150).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,a=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=n.ERR_TRANSFORM_WITH_LENGTH_0,u=r(5929);function c(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);u.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,r){d(e,t,r)}))}function d(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}r(1285)(l,u),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new i("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))}},8234:(e,t,r)=>{"use strict";var n,i=r(4406);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=R,R.WritableState=O;var a,s={deprecate:r(5803)},u=r(4811),c=r(8834).Buffer,l=r.g.Uint8Array||function(){},f=r(163),d=r(4774).getHighWaterMark,h=r(9150).q,p=h.ERR_INVALID_ARG_TYPE,g=h.ERR_METHOD_NOT_IMPLEMENTED,y=h.ERR_MULTIPLE_CALLBACK,b=h.ERR_STREAM_CANNOT_PIPE,m=h.ERR_STREAM_DESTROYED,w=h.ERR_STREAM_NULL_VALUES,v=h.ERR_STREAM_WRITE_AFTER_END,_=h.ERR_UNKNOWN_ENCODING,S=f.errorOrDestroy;function E(){}function O(e,t,a){n=n||r(5929),e=e||{},"boolean"!=typeof a&&(a=t instanceof n),this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if("function"!=typeof o)throw new y;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,o){--t.pendingcb,r?(i.nextTick(o,n),i.nextTick(x,e,t),e._writableState.errorEmitted=!0,S(e,n)):(o(n),e._writableState.errorEmitted=!0,S(e,n),x(e,t))}(e,r,n,t,o);else{var a=k(r)||e.destroyed;a||r.corked||r.bufferProcessing||!r.bufferedRequest||P(e,r),n?i.nextTick(j,e,r,a,o):j(e,r,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function R(e){var t=this instanceof(n=n||r(5929));if(!t&&!a.call(R,this))return new R(e);this._writableState=new O(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),u.call(this)}function M(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new m("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function j(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),x(e,t)}function P(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),a=t.corkedRequestsFree;a.entry=r;for(var s=0,u=!0;r;)i[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;i.allBuffers=u,M(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,f=r.callback;if(M(e,t,!1,t.objectMode?1:c.length,c,l,f),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function k(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function A(e,t){e._final((function(r){t.pendingcb--,r&&S(e,r),t.prefinished=!0,e.emit("prefinish"),x(e,t)}))}function x(e,t){var r=k(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,i.nextTick(A,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r(1285)(R,u),O.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(O.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(a=Function.prototype[Symbol.hasInstance],Object.defineProperty(R,Symbol.hasInstance,{value:function(e){return!!a.call(this,e)||this===R&&e&&e._writableState instanceof O}})):a=function(e){return e instanceof this},R.prototype.pipe=function(){S(this,new b)},R.prototype.write=function(e,t,r){var n,o=this._writableState,a=!1,s=!o.objectMode&&(n=e,c.isBuffer(n)||n instanceof l);return s&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=E),o.ending?function(e,t){var r=new v;S(e,r),i.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var o;return null===r?o=new w:"string"==typeof r||t.objectMode||(o=new p("chunk",["string","Buffer"],r)),!o||(S(e,o),i.nextTick(n,o),!1)}(this,o,e,r))&&(o.pendingcb++,a=function(e,t,r,n,i,o){if(!r){var a=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,r)),t}(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else M(e,t,!1,s,n,i,o);return u}(this,o,s,e,t,r)),a},R.prototype.cork=function(){this._writableState.corked++},R.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||P(this,e))},R.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new _(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(R.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(R.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),R.prototype._write=function(e,t,r){r(new g("_write()"))},R.prototype._writev=null,R.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,x(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(R.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(R.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),R.prototype.destroy=f.destroy,R.prototype._undestroy=f.undestroy,R.prototype._destroy=function(e,t){t(e)}},4020:(e,t,r)=>{"use strict";var n,i=r(4406);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(2529),s=Symbol("lastResolve"),u=Symbol("lastReject"),c=Symbol("error"),l=Symbol("ended"),f=Symbol("lastPromise"),d=Symbol("handlePromise"),h=Symbol("stream");function p(e,t){return{value:e,done:t}}function g(e){var t=e[s];if(null!==t){var r=e[h].read();null!==r&&(e[f]=null,e[s]=null,e[u]=null,t(p(r,!1)))}}function y(e){i.nextTick(g,e)}var b=Object.getPrototypeOf((function(){})),m=Object.setPrototypeOf((o(n={get stream(){return this[h]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[l])return Promise.resolve(p(void 0,!0));if(this[h].destroyed)return new Promise((function(t,r){i.nextTick((function(){e[c]?r(e[c]):t(p(void 0,!0))}))}));var r,n=this[f];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[l]?r(p(void 0,!0)):t[d](r,n)}),n)}}(n,this));else{var o=this[h].read();if(null!==o)return Promise.resolve(p(o,!1));r=new Promise(this[d])}return this[f]=r,r}},Symbol.asyncIterator,(function(){return this})),o(n,"return",(function(){var e=this;return new Promise((function(t,r){e[h].destroy(null,(function(e){e?r(e):t(p(void 0,!0))}))}))})),n),b);e.exports=function(e){var t,r=Object.create(m,(o(t={},h,{value:e,writable:!0}),o(t,s,{value:null,writable:!0}),o(t,u,{value:null,writable:!0}),o(t,c,{value:null,writable:!0}),o(t,l,{value:e._readableState.endEmitted,writable:!0}),o(t,d,{value:function(e,t){var n=r[h].read();n?(r[f]=null,r[s]=null,r[u]=null,e(p(n,!1))):(r[s]=e,r[u]=t)},writable:!0}),t));return r[f]=null,a(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[u];return null!==t&&(r[f]=null,r[s]=null,r[u]=null,t(e)),void(r[c]=e)}var n=r[s];null!==n&&(r[f]=null,r[s]=null,r[u]=null,n(p(void 0,!0))),r[l]=!0})),e.on("readable",y.bind(null,r)),r}},3413:(e,t,r)=>{"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=r(8834).Buffer,s=r(7267).inspect,u=s&&s.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r;return t=e,r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t,r,n,i=a.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,r=i,n=s,a.prototype.copy.call(t,r,n),s+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:u,value:function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],r&&o(t.prototype,r),e}()},163:(e,t,r)=>{"use strict";var n=r(4406);function i(e,t){a(e,t),o(e)}function o(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function a(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,s=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return s||u?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(a,this,e)):n.nextTick(a,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?n.nextTick(o,r):(r._writableState.errorEmitted=!0,n.nextTick(i,r,e)):n.nextTick(i,r,e):t?(n.nextTick(o,r),t(e)):n.nextTick(o,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},2529:(e,t,r)=>{"use strict";var n=r(9150).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var a=r.readable||!1!==r.readable&&t.readable,s=r.writable||!1!==r.writable&&t.writable,u=function(){t.writable||l()},c=t._writableState&&t._writableState.finished,l=function(){s=!1,c=!0,a||o.call(t)},f=t._readableState&&t._readableState.endEmitted,d=function(){a=!1,f=!0,s||o.call(t)},h=function(e){o.call(t,e)},p=function(){var e;return a&&!f?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):s&&!c?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},g=function(){t.req.on("finish",l)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",l),t.on("abort",p),t.req?g():t.on("request",g)):s&&!t._writableState&&(t.on("end",u),t.on("close",u)),t.on("end",d),t.on("finish",l),!1!==r.error&&t.on("error",h),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",g),t.req&&t.req.removeListener("finish",l),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",l),t.removeListener("end",d),t.removeListener("error",h),t.removeListener("close",p)}}},7324:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},9125:(e,t,r)=>{"use strict";var n,i=r(9150).q,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function u(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var s=!1;e.on("close",(function(){s=!0})),void 0===n&&(n=r(2529)),n(e,{readable:t,writable:i},(function(e){if(e)return o(e);s=!0,o()}));var u=!1;return function(t){if(!s&&!u)return u=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new a("pipe"))}}function c(e){e()}function l(e,t){return e.pipe(t)}function f(e){return e.length?"function"!=typeof e[e.length-1]?s:e.pop():s}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=f(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var a=t.map((function(e,r){var o=r<t.length-1;return u(e,o,r>0,(function(e){n||(n=e),e&&a.forEach(c),o||(a.forEach(c),i(n))}))}));return t.reduce(l)}},4774:(e,t,r)=>{"use strict";var n=r(9150).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},4811:(e,t,r)=>{e.exports=r(2699).EventEmitter},214:(e,t,r)=>{"use strict";var n=r(7834).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},4221:(e,t)=>{"use strict";function r(e,t){return"string"==typeof e}function n(e,t){return"2.0"===e}function i(e,t){return"number"==typeof e}function o(e,t){return Array.isArray(e)&&e.every((e=>!0))}function a(e,t){return(null!==e&&"object"==typeof e||"function"==typeof e)&&Object.entries(e).every((([e,t])=>r(e)))}Object.defineProperty(t,"__esModule",{value:!0}),t.isSnapRpc=t.isExecuteSnap=t.isPing=t.isAnyOfSnapNameSourceCodeEndowmentsTargetOriginJsonRpcRequestOKOKSnapRpcResult=t.isSnapRpcResult=t.isOK=t.isJsonRpcRequest=t.isOrigin=t.isTarget=t.isEndowments=t.isSourceCode=t.isSnapName=t.isJSONRPCParams=t.isJSONRPCParamsAsObject=t.isJSONRPCParamsAsArray=t.isJSONRPCMethod=t.isJSONRPCID=t.isNumberHo1ClIqD=t.isStringDoaGddGA=t.isJSONRPCString=t.isEndowment=void 0,t.isEndowment=r,t.isJSONRPCString=n,t.isStringDoaGddGA=function(e,t){return"string"==typeof e},t.isNumberHo1ClIqD=i,t.isJSONRPCID=function(e,t){return r(e)||i(e)},t.isJSONRPCMethod=function(e,t){return"string"==typeof e},t.isJSONRPCParamsAsArray=o,t.isJSONRPCParamsAsObject=a,t.isJSONRPCParams=function(e,t){return o(e)||a(e)},t.isSnapName=function(e,t){return"string"==typeof e},t.isSourceCode=function(e,t){return"string"==typeof e},t.isEndowments=function(e,t){return Array.isArray(e)&&e.every((e=>r(e)))},t.isTarget=function(e,t){return"string"==typeof e},t.isOrigin=function(e,t){return"string"==typeof e},t.isJsonRpcRequest=function(e,t){return(null!==e&&"object"==typeof e||"function"==typeof e)&&n(e.jsonrpc)&&(void 0===e.id||r(e.id)||i(e.id))&&r(e.method)&&(void 0===e.params||o(e.params)||a(e.params))&&Object.entries(e).filter((([e])=>!["jsonrpc","id","method","params"].includes(e))).every((([e,t])=>r(e)))},t.isOK=function(e,t){return"OK"===e},t.isSnapRpcResult=function(e,t){return!0},t.isAnyOfSnapNameSourceCodeEndowmentsTargetOriginJsonRpcRequestOKOKSnapRpcResult=function(e,t){return!0},t.isPing=function(e,t){return"function"==typeof e},t.isExecuteSnap=function(e,t){return"function"==typeof e},t.isSnapRpc=function(e,t){return"function"==typeof e}},132:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseSnapExecutor=void 0;const o=r(2972),a=r(9826),s=i(r(201)),u=r(4221),c=r(5930),l=r(2931),f=r(6455),d=r(6435),h={code:a.errorCodes.rpc.internal,message:"Execution Environment Error"};t.BaseSnapExecutor=class{constructor(e,t){this.snapRpcHandlers=new Map,this.commandStream=e,this.commandStream.on("data",this.onCommandRequest.bind(this)),this.rpcStream=t,this.methods=c.rpcMethods(this.startSnap.bind(this),((e,t,r)=>{const n=this.snapRpcHandlers.get(e);if(!n)throw new Error(`No RPC handler registered for snap "${e}`);return n(t,r)}))}errorHandler(e,t={}){const r=a.serializeError(e,{fallbackError:h,shouldIncludeStack:!0});this.notify({error:Object.assign(Object.assign({},r),{data:Object.assign(Object.assign({},t),{stack:r.stack})})})}async onCommandRequest(e){if(!u.isJsonRpcRequest(e))throw new Error("Command stream received a non Json Rpc Request");const{id:t,method:r,params:n}=e;if(void 0===t)throw new Error("Notifications not supported");if("rpc.discover"===r)return void this.respond(t,{result:s.default});const i=s.default.methods.find((e=>e.name===r));if(!i||!this.methods[r])return void this.respond(t,{error:a.ethErrors.rpc.methodNotFound({data:{method:r}}).serialize()});const o=l.sortParamKeys(i,n);try{const e=await this.methods[r](...o);this.respond(t,{result:e})}catch(e){this.respond(t,{error:a.serializeError(e,{fallbackError:h})})}}notify(e){this.commandStream.write(Object.assign(Object.assign({},e),{jsonrpc:"2.0"}))}respond(e,t){this.commandStream.write(Object.assign(Object.assign({},t),{id:e,jsonrpc:"2.0"}))}startSnap(e,t,r){n.log(`starting snap '${e}' in worker`),this.snapPromiseErrorHandler&&d.rootRealmGlobal.removeEventListener("unhandledrejection",this.snapPromiseErrorHandler),this.snapErrorHandler&&d.rootRealmGlobal.removeEventListener("error",this.snapErrorHandler),this.snapErrorHandler=t=>{this.errorHandler(t.error,{snapName:e})},this.snapPromiseErrorHandler=t=>{this.errorHandler(t.reason,{snapName:e})};const i=this.createSnapProvider(e);try{const e=f.createEndowments(i,r);new Compartment(Object.assign(Object.assign({},e),{window:Object.assign({},e),self:Object.assign({},e)})).evaluate(t),d.rootRealmGlobal.addEventListener("unhandledrejection",this.snapPromiseErrorHandler),d.rootRealmGlobal.addEventListener("error",this.snapErrorHandler)}catch(t){throw this.removeSnap(e),new Error(`Error while running snap '${e}': ${t.message}`)}}createSnapProvider(e){const t=new o.MetaMaskInpageProvider(this.rpcStream,{shouldSendMetadata:!1});return t.registerRpcMessageHandler=t=>{if(n.log("Worker: Registering RPC message handler",t),this.snapRpcHandlers.has(e))throw new Error("RPC handler already registered.");this.snapRpcHandlers.set(e,t)},t}removeSnap(e){this.snapRpcHandlers.delete(e)}}},3008:(e,t,r)=>{"use strict";var n=r(8834).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i={names:["Buffer"],factory:()=>({Buffer:n})};t.default=i},6455:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createEndowments=void 0;const i=r(6435),o=n(r(3008)),a=n(r(3941)),s=n(r(9191)),u=[o.default,a.default,s.default].reduce(((e,t)=>(t.names.forEach((r=>{e.set(r,t.factory)})),e)),new Map);t.createEndowments=function(e,t=[]){const r={};return t.reduce(((e,t)=>{if(u.has(t))Object.hasOwnProperty.call(r,t)||Object.assign(r,u.get(t)()),e[t]=r[t];else{if(!(t in i.rootRealmGlobal))throw new Error(`Unknown endowment: "${t}".`);{const r=i.rootRealmGlobal[t];e[t]="function"==typeof r?r.bind(i.rootRealmGlobal):r}}return e}),{wallet:e})}},3941:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={names:["setTimeout","clearTimeout"],factory:()=>{const e=new Set;return{setTimeout:(t,r)=>{if("function"!=typeof t)throw new Error("The timeout handler must be a function. Received: "+typeof t);const n={handle:NaN};return n.handle=setTimeout((()=>{e.delete(n.handle),t()}),r),e.add(n.handle),n.handle},clearTimeout:t=>{e.has(t)&&(clearTimeout(t),e.delete(t))}}}};t.default=r},9191:function(e,t){"use strict";var r=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};Object.defineProperty(t,"__esModule",{value:!0});const n={names:["WebAssembly"],factory:()=>{const{compileStreaming:e,instantiateStreaming:t}=WebAssembly;return{WebAssembly:r(WebAssembly,["compileStreaming","instantiateStreaming"])}}};t.default=n},4509:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SNAP_STREAM_NAMES=void 0,(r=t.SNAP_STREAM_NAMES||(t.SNAP_STREAM_NAMES={})).JSON_RPC="jsonRpc",r.COMMAND="command"},6435:(e,t,r)=>{"use strict";var n;let i,o;if(Object.defineProperty(t,"__esModule",{value:!0}),t.rootRealmGlobalName=t.rootRealmGlobal=void 0,function(e){e.globalThis="globalThis",e.global="global",e.self="self",e.window="window"}(n||(n={})),"undefined"!=typeof globalThis)i=globalThis,o=n.globalThis;else if("undefined"!=typeof self)i=self,o=n.self;else if("undefined"!=typeof window)i=window,o=n.window;else{if(void 0===r.g)throw new Error("Unknown realm type; failed to identify global object.");i=r.g,o=n.global}const a=i;t.rootRealmGlobal=a;const s=o;t.rootRealmGlobalName=s},4562:(e,t,r)=>{"use strict";var n=r(3716);Object.defineProperty(t,"__esModule",{value:!0}),t.executeLockdownMore=void 0,t.executeLockdownMore=function(){try{const e=Reflect.ownKeys((new Compartment).globalThis),t=new Set(["eval","Function"]);new Set([...e]).forEach((e=>{const r=Reflect.getOwnPropertyDescriptor(globalThis,e);r&&(r.configurable&&(function(e){return"set"in e||"get"in e}(r)?Object.defineProperty(globalThis,e,{configurable:!1}):Object.defineProperty(globalThis,e,{configurable:!1,writable:!1})),t.has(e)&&harden(globalThis[e]))}))}catch(e){throw n.error("Protecting intrinsics failed:",e),e}}},2842:(e,t,r)=>{"use strict";var n=r(3716);Object.defineProperty(t,"__esModule",{value:!0}),t.executeLockdown=void 0,t.executeLockdown=function(){try{lockdown({consoleTaming:"unsafe",errorTaming:"unsafe",mathTaming:"unsafe",dateTaming:"unsafe",overrideTaming:"severe"})}catch(e){throw n.error("Lockdown failed:",e),e}}},5930:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rpcMethods=void 0;const n=r(4221);t.rpcMethods=function(e,t){return{ping:async()=>"OK",executeSnap:async(t,r,i)=>{if("string"!=typeof t)throw new Error("snapName is not a string");if("string"!=typeof r)throw new Error("sourceCode is not a string");if(void 0!==i&&!n.isEndowments(i))throw new Error("endowment is not a proper Endowments object");return e(t,r,i),"OK"},snapRpc:async(e,r,i)=>{if("string"!=typeof e)throw new Error("target is not a string");if("string"!=typeof r)throw new Error("origin is not a string");if(!n.isJsonRpcRequest(i))throw new Error("request is not a proper JSON RPC Request");return t(e,r,i)}}}},2931:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sortParamKeys=void 0,t.sortParamKeys=(e,t)=>{if(!t)return[];if(t instanceof Array)return t;const r=e.params.map((e=>e.name)).reduce(((e,t,r)=>Object.assign(Object.assign({},e),{[t]:r})),{});return Object.entries(t).sort((([e,t],[n,i])=>r[e]-r[n])).map((([e,t])=>t))}},7229:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WebWorkerSnapExecutor=void 0;const o=i(r(8392)),a=r(9679),s=i(r(3171)),u=r(132),c=r(4509);class l extends u.BaseSnapExecutor{static initalize(){n.log("Worker: Connecting to parent.");const e=new a.WorkerPostMessageStream,t=new o.default;s.default(e,t,e,(e=>{e&&n.error("Parent stream failure, closing worker.",e),self.close()}));const r=t.createStream(c.SNAP_STREAM_NAMES.COMMAND),i=t.createStream(c.SNAP_STREAM_NAMES.JSON_RPC);return new l(r,i)}}t.WebWorkerSnapExecutor=l},5803:(e,t,r)=>{var n=r(3716);function i(e){try{if(!r.g.localStorage)return!1}catch(e){return!1}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(i("noDeprecation"))return e;var r=!1;return function(){if(!r){if(i("throwDeprecation"))throw new Error(t);i("traceDeprecation")?n.trace(t):n.warn(t),r=!0}return e.apply(this,arguments)}}},82:e=>{e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},4895:(e,t,r)=>{"use strict";var n=r(2635),i=r(3138),o=r(2094),a=r(198);function s(e){return e.call.bind(e)}var u="undefined"!=typeof BigInt,c="undefined"!=typeof Symbol,l=s(Object.prototype.toString),f=s(Number.prototype.valueOf),d=s(String.prototype.valueOf),h=s(Boolean.prototype.valueOf);if(u)var p=s(BigInt.prototype.valueOf);if(c)var g=s(Symbol.prototype.valueOf);function y(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function b(e){return"[object Map]"===l(e)}function m(e){return"[object Set]"===l(e)}function w(e){return"[object WeakMap]"===l(e)}function v(e){return"[object WeakSet]"===l(e)}function _(e){return"[object ArrayBuffer]"===l(e)}function S(e){return"undefined"!=typeof ArrayBuffer&&(_.working?_(e):e instanceof ArrayBuffer)}function E(e){return"[object DataView]"===l(e)}function O(e){return"undefined"!=typeof DataView&&(E.working?E(e):e instanceof DataView)}t.isArgumentsObject=n,t.isGeneratorFunction=i,t.isTypedArray=a,t.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},t.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):a(e)||O(e)},t.isUint8Array=function(e){return"Uint8Array"===o(e)},t.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===o(e)},t.isUint16Array=function(e){return"Uint16Array"===o(e)},t.isUint32Array=function(e){return"Uint32Array"===o(e)},t.isInt8Array=function(e){return"Int8Array"===o(e)},t.isInt16Array=function(e){return"Int16Array"===o(e)},t.isInt32Array=function(e){return"Int32Array"===o(e)},t.isFloat32Array=function(e){return"Float32Array"===o(e)},t.isFloat64Array=function(e){return"Float64Array"===o(e)},t.isBigInt64Array=function(e){return"BigInt64Array"===o(e)},t.isBigUint64Array=function(e){return"BigUint64Array"===o(e)},b.working="undefined"!=typeof Map&&b(new Map),t.isMap=function(e){return"undefined"!=typeof Map&&(b.working?b(e):e instanceof Map)},m.working="undefined"!=typeof Set&&m(new Set),t.isSet=function(e){return"undefined"!=typeof Set&&(m.working?m(e):e instanceof Set)},w.working="undefined"!=typeof WeakMap&&w(new WeakMap),t.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(w.working?w(e):e instanceof WeakMap)},v.working="undefined"!=typeof WeakSet&&v(new WeakSet),t.isWeakSet=function(e){return v(e)},_.working="undefined"!=typeof ArrayBuffer&&_(new ArrayBuffer),t.isArrayBuffer=S,E.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&E(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=O;var R="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function M(e){return"[object SharedArrayBuffer]"===l(e)}function j(e){return void 0!==R&&(void 0===M.working&&(M.working=M(new R)),M.working?M(e):e instanceof R)}function P(e){return y(e,f)}function k(e){return y(e,d)}function A(e){return y(e,h)}function x(e){return u&&y(e,p)}function C(e){return c&&y(e,g)}t.isSharedArrayBuffer=j,t.isAsyncFunction=function(e){return"[object AsyncFunction]"===l(e)},t.isMapIterator=function(e){return"[object Map Iterator]"===l(e)},t.isSetIterator=function(e){return"[object Set Iterator]"===l(e)},t.isGeneratorObject=function(e){return"[object Generator]"===l(e)},t.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===l(e)},t.isNumberObject=P,t.isStringObject=k,t.isBooleanObject=A,t.isBigIntObject=x,t.isSymbolObject=C,t.isBoxedPrimitive=function(e){return P(e)||k(e)||A(e)||x(e)||C(e)},t.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(S(e)||j(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})}))},3335:(e,t,r)=>{var n=r(4406),i=r(3716),o=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},a=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(l(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,o=String(e).replace(a,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),s=n[r];r<i;s=n[++r])m(s)||!E(s)?o+=" "+s:o+=" "+l(s);return o},t.deprecate=function(e,r){if(void 0!==n&&!0===n.noDeprecation)return e;if(void 0===n)return function(){return t.deprecate(e,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(n.throwDeprecation)throw new Error(r);n.traceDeprecation?i.trace(r):i.error(r),o=!0}return e.apply(this,arguments)}};var s={},u=/^$/;if(n.env.NODE_DEBUG){var c=n.env.NODE_DEBUG;c=c.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),u=new RegExp("^"+c+"$","i")}function l(e,r){var n={seen:[],stylize:d};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),b(r)?n.showHidden=r:r&&t._extend(n,r),_(n.showHidden)&&(n.showHidden=!1),_(n.depth)&&(n.depth=2),_(n.colors)&&(n.colors=!1),_(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=f),h(n,e,n.depth)}function f(e,t){var r=l.styles[t];return r?"["+l.colors[r][0]+"m"+e+"["+l.colors[r][1]+"m":e}function d(e,t){return e}function h(e,r,n){if(e.customInspect&&r&&M(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return v(i)||(i=h(e,i,n)),i}var o=function(e,t){if(_(t))return e.stylize("undefined","undefined");if(v(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return w(t)?e.stylize(""+t,"number"):b(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}(e,r);if(o)return o;var a=Object.keys(r),s=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(r)),R(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return p(r);if(0===a.length){if(M(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(S(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(O(r))return e.stylize(Date.prototype.toString.call(r),"date");if(R(r))return p(r)}var c,l="",f=!1,d=["{","}"];return y(r)&&(f=!0,d=["[","]"]),M(r)&&(l=" [Function"+(r.name?": "+r.name:"")+"]"),S(r)&&(l=" "+RegExp.prototype.toString.call(r)),O(r)&&(l=" "+Date.prototype.toUTCString.call(r)),R(r)&&(l=" "+p(r)),0!==a.length||f&&0!=r.length?n<0?S(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),c=f?function(e,t,r,n,i){for(var o=[],a=0,s=t.length;a<s;++a)x(t,String(a))?o.push(g(e,t,r,n,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(g(e,t,r,n,i,!0))})),o}(e,r,n,s,a):a.map((function(t){return g(e,r,n,s,t,f)})),e.seen.pop(),function(e,t,r){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}(c,l,d)):d[0]+l+d[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function g(e,t,r,n,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),x(n,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=m(r)?h(e,u.value,null):h(e,u.value,r-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),_(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function y(e){return Array.isArray(e)}function b(e){return"boolean"==typeof e}function m(e){return null===e}function w(e){return"number"==typeof e}function v(e){return"string"==typeof e}function _(e){return void 0===e}function S(e){return E(e)&&"[object RegExp]"===j(e)}function E(e){return"object"==typeof e&&null!==e}function O(e){return E(e)&&"[object Date]"===j(e)}function R(e){return E(e)&&("[object Error]"===j(e)||e instanceof Error)}function M(e){return"function"==typeof e}function j(e){return Object.prototype.toString.call(e)}function P(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(e=e.toUpperCase(),!s[e])if(u.test(e)){var r=n.pid;s[e]=function(){var n=t.format.apply(t,arguments);i.error("%s %d: %s",e,r,n)}}else s[e]=function(){};return s[e]},t.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=r(4895),t.isArray=y,t.isBoolean=b,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=w,t.isString=v,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=_,t.isRegExp=S,t.types.isRegExp=S,t.isObject=E,t.isDate=O,t.types.isDate=O,t.isError=R,t.types.isNativeError=R,t.isFunction=M,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(82);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(){var e=new Date,t=[P(e.getHours()),P(e.getMinutes()),P(e.getSeconds())].join(":");return[e.getDate(),k[e.getMonth()],t].join(" ")}function x(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){i.log("%s - %s",A(),t.format.apply(t,arguments))},t.inherits=r(1285),t._extend=function(e,t){if(!t||!E(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var C="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function T(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(C&&e[C]){var t;if("function"!=typeof(t=e[C]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,i)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),C&&Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,o(e))},t.promisify.custom=C,t.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var i=t.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};e.apply(this,t).then((function(e){n.nextTick(a.bind(null,null,e))}),(function(e){n.nextTick(T.bind(null,e,a))}))}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,o(e)),t}},2094:(e,t,r)=>{"use strict";var n=r(6388),i=r(2191),o=r(2680),a=o("Object.prototype.toString"),s=r(7226)(),u="undefined"==typeof globalThis?r.g:globalThis,c=i(),l=o("String.prototype.slice"),f={},d=r(3494),h=Object.getPrototypeOf;s&&d&&h&&n(c,(function(e){if("function"==typeof u[e]){var t=new u[e];if(Symbol.toStringTag in t){var r=h(t),n=d(r,Symbol.toStringTag);if(!n){var i=h(r);n=d(i,Symbol.toStringTag)}f[e]=n.get}}}));var p=r(198);e.exports=function(e){return!!p(e)&&(s&&Symbol.toStringTag in e?function(e){var t=!1;return n(f,(function(r,n){if(!t)try{var i=r.call(e);i===n&&(t=i)}catch(e){}})),t}(e):l(a(e),8,-1))}},8892:e=>{e.exports=function e(t,r){if(t&&r)return e(t)(r);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){n[e]=t[e]})),n;function n(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var n=t.apply(this,e),i=e[e.length-1];return"function"==typeof n&&n!==i&&Object.keys(i).forEach((function(e){n[e]=i[e]})),n}}},7082:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectMultiplex=void 0;const o=r(7525),a=i(r(8797)),s=i(r(9928)),u=r(1274),c=Symbol("IGNORE_SUBSTREAM");class l extends o.Duplex{constructor(e={}){super(Object.assign(Object.assign({},e),{objectMode:!0})),this._substreams={}}createStream(e){if(this.destroyed)throw new Error(`ObjectMultiplex - parent stream for name "${e}" already destroyed`);if(this._readableState.ended||this._writableState.ended)throw new Error(`ObjectMultiplex - parent stream for name "${e}" already ended`);if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);const t=new u.Substream({parent:this,name:e});return this._substreams[e]=t,function(e,r){const n=s.default((e=>t.destroy(e||void 0)));a.default(e,{readable:!1},n),a.default(e,{writable:!1},n)}(this),t}ignoreStream(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);this._substreams[e]=c}_read(){}_write(e,t,r){const{name:i,data:o}=e;if(!i)return n.warn(`ObjectMultiplex - malformed chunk without name "${e}"`),r();const a=this._substreams[i];return a?(a!==c&&a.push(o),r()):(n.warn(`ObjectMultiplex - orphaned data for stream "${i}"`),r())}}t.ObjectMultiplex=l},1274:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Substream=void 0;const n=r(7525);class i extends n.Duplex{constructor({parent:e,name:t}){super({objectMode:!0}),this._parent=e,this._name=t}_read(){}_write(e,t,r){this._parent.push({name:this._name,data:e}),r()}}t.Substream=i},8392:(e,t,r)=>{"use strict";const n=r(7082);e.exports=n.ObjectMultiplex},2294:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EthereumProviderError=t.EthereumRpcError=void 0;const n=r(7847);class i extends Error{constructor(e,t,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw new Error('"message" must be a nonempty string.');super(t),this.code=e,void 0!==r&&(this.data=r)}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return n.default(this.serialize(),o,2)}}function o(e,t){if("[Circular]"!==t)return t}t.EthereumRpcError=i,t.EthereumProviderError=class extends i{constructor(e,t,r){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,r)}}},2662:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorValues=t.errorCodes=void 0,t.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},t.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}},6373:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ethErrors=void 0;const n=r(2294),i=r(8753),o=r(2662);function a(e,t){const[r,o]=u(t);return new n.EthereumRpcError(e,r||i.getMessageFromCode(e),o)}function s(e,t){const[r,o]=u(t);return new n.EthereumProviderError(e,r||i.getMessageFromCode(e),o)}function u(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&"string"!=typeof t)throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}t.ethErrors={rpc:{parse:e=>a(o.errorCodes.rpc.parse,e),invalidRequest:e=>a(o.errorCodes.rpc.invalidRequest,e),invalidParams:e=>a(o.errorCodes.rpc.invalidParams,e),methodNotFound:e=>a(o.errorCodes.rpc.methodNotFound,e),internal:e=>a(o.errorCodes.rpc.internal,e),server:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return a(t,e)},invalidInput:e=>a(o.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>a(o.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>a(o.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>a(o.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>a(o.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>a(o.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>s(o.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>s(o.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>s(o.errorCodes.provider.unsupportedMethod,e),disconnected:e=>s(o.errorCodes.provider.disconnected,e),chainDisconnected:e=>s(o.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:r,data:i}=e;if(!r||"string"!=typeof r)throw new Error('"message" must be a nonempty string');return new n.EthereumProviderError(t,r,i)}}}},9826:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const n=r(2294);Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return n.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return n.EthereumProviderError}});const i=r(8753);Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return i.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return i.getMessageFromCode}});const o=r(6373);Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return o.ethErrors}});const a=r(2662);Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return a.errorCodes}})},8753:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const n=r(2662),i=r(2294),o=n.errorCodes.rpc.internal,a={code:o,message:s(o)};function s(e,r="Unspecified error message. This is a bug, please report it."){if(Number.isInteger(e)){const r=e.toString();if(f(n.errorValues,r))return n.errorValues[r].message;if(c(e))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return r}function u(e){if(!Number.isInteger(e))return!1;const t=e.toString();return!!n.errorValues[t]||!!c(e)}function c(e){return e>=-32099&&e<=-32e3}function l(e){return e&&"object"==typeof e&&!Array.isArray(e)?Object.assign({},e):e}function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",t.getMessageFromCode=s,t.isValidCode=u,t.serializeError=function(e,{fallbackError:t=a,shouldIncludeStack:r=!1}={}){var n,o;if(!t||!Number.isInteger(t.code)||"string"!=typeof t.message)throw new Error("Must provide fallback error with integer number code and string message.");if(e instanceof i.EthereumRpcError)return e.serialize();const c={};if(e&&"object"==typeof e&&!Array.isArray(e)&&f(e,"code")&&u(e.code)){const t=e;c.code=t.code,t.message&&"string"==typeof t.message?(c.message=t.message,f(t,"data")&&(c.data=t.data)):(c.message=s(c.code),c.data={originalError:l(e)})}else{c.code=t.code;const r=null===(n=e)||void 0===n?void 0:n.message;c.message=r&&"string"==typeof r?r:t.message,c.data={originalError:l(e)}}const d=null===(o=e)||void 0===o?void 0:o.stack;return r&&e&&d&&"string"==typeof d&&(c.stack=d),c}},4857:()=>{},3558:()=>{},4854:()=>{},6602:()=>{},7267:()=>{},9255:()=>{},2191:(e,t,r)=>{"use strict";var n=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],i="undefined"==typeof globalThis?r.g:globalThis;e.exports=function(){for(var e=[],t=0;t<n.length;t++)"function"==typeof i[n[t]]&&(e[e.length]=n[t]);return e}},7342:(e,t,r)=>{"use strict";var n=r(7286)("%Object.getOwnPropertyDescriptor%");if(n)try{n([],"length")}catch(e){n=null}e.exports=n},3494:(e,t,r)=>{"use strict";var n=r(7286)("%Object.getOwnPropertyDescriptor%");if(n)try{n([],"length")}catch(e){n=null}e.exports=n},5543:e=>{"use strict";e.exports=JSON.parse('{"CHROME_ID":"nkbihfbeogaeaoehlefnkodbefgpgknn","FIREFOX_ID":"webextension@metamask.io"}')},201:e=>{"use strict";e.exports=JSON.parse('{"openrpc":"1.2.4","info":{"title":"MetaMask Snaps Execution Environment API","version":"0.0.0-development"},"methods":[{"name":"ping","description":"confirms that a connection has been established with the execution environment","params":[],"result":{"name":"PingResult","schema":{"$ref":"#/components/schemas/OK"}}},{"name":"executeSnap","description":"executes a snap in the environment. The snap can then be interacted with via `snapRpc`","params":[{"name":"snapName","required":true,"description":"the name of the snap","schema":{"title":"SnapName","type":"string"}},{"name":"sourceCode","description":"a snaps source code that gets executed in the environment","required":true,"schema":{"title":"SourceCode","type":"string"}},{"name":"endowments","description":"A list of endowments to provide to SES","required":false,"schema":{"title":"Endowments","description":"An array of the names of the endowments","type":"array","items":{"title":"Endowment","type":"string"}}}],"result":{"name":"executeSnapResult","schema":{"$ref":"#/components/schemas/OK"}},"examples":[{"name":"BasicTestSnapExecuteExample","params":[{"name":"snapName","value":"TestSnap"},{"name":"sourceCode","value":"wallet.registerRpcMessageHandler(async (_, request) => { return request.method + request.id })"}],"result":{"name":"BasicTestSnapExampleResult","value":"OK"}}]},{"name":"snapRpc","params":[{"name":"target","required":true,"description":"the name of the snap method","schema":{"title":"Target","type":"string"}},{"name":"origin","required":true,"description":"Origin of the snap JSON-RPC request","schema":{"title":"Origin","type":"string"}},{"name":"request","required":true,"description":"JSON-RPC request","schema":{"$ref":"#/components/schemas/JsonRpcRequest"}}],"result":{"name":"HandleSnapRpcResult","schema":{"title":"SnapRpcResult"}},"examples":[{"name":"TestSnapExample","params":[{"name":"target","value":"TestSnap"},{"name":"origin","value":"foo.com"},{"name":"request","value":{"jsonrpc":"2.0","method":"hello","params":[],"id":1}}],"result":{"name":"TestSnapResultExample","value":"hello1"}}]}],"components":{"schemas":{"OK":{"title":"OK","type":"string","const":"OK"},"JsonRpcRequest":{"title":"JsonRpcRequest","type":"object","required":["jsonrpc","method"],"properties":{"jsonrpc":{"title":"JSONRPCString","type":"string","const":"2.0"},"id":{"title":"JSONRPCID","oneOf":[{"type":"string"},{"type":"number"}]},"method":{"title":"JSONRPCMethod","description":"the name of the method","type":"string"},"params":{"title":"JSONRPCParams","type":["array","object"]}}}}}}')}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";const e=r(2842),t=r(4562),n=r(7229);e.executeLockdown(),t.executeLockdownMore(),n.WebWorkerSnapExecutor.initalize()})()})();
\ No newline at end of file
+(()=>{var e={7209:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectMultiplex=void 0;const o=r(7525),a=i(r(8797)),s=i(r(9928)),u=r(9067),c=Symbol("IGNORE_SUBSTREAM");class l extends o.Duplex{constructor(e={}){super(Object.assign(Object.assign({},e),{objectMode:!0})),this._substreams={}}createStream(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);const t=new u.Substream({parent:this,name:e});return this._substreams[e]=t,function(e,r){const n=s.default((e=>t.destroy(e||void 0)));a.default(e,{readable:!1},n),a.default(e,{writable:!1},n)}(this),t}ignoreStream(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);this._substreams[e]=c}_read(){}_write(e,t,r){const{name:i,data:o}=e;if(!i)return n.warn(`ObjectMultiplex - malformed chunk without name "${e}"`),r();const a=this._substreams[i];return a?(a!==c&&a.push(o),r()):(n.warn(`ObjectMultiplex - orphaned data for stream "${i}"`),r())}}t.ObjectMultiplex=l},9067:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Substream=void 0;const n=r(7525);class i extends n.Duplex{constructor({parent:e,name:t}){super({objectMode:!0}),this._parent=e,this._name=t}_read(){}_write(e,t,r){this._parent.push({name:this._name,data:e}),r()}}t.Substream=i},9952:(e,t,r)=>{"use strict";const n=r(7209);e.exports=n.ObjectMultiplex},470:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BasePostMessageStream=void 0;const n=r(5800);function i(){}const o="ACK";class a extends n.Duplex{constructor(){super({objectMode:!0}),this._init=!1,this._haveSyn=!1}_handshake(){this._write("SYN",null,i),this.cork()}_onData(e){if(this._init)try{this.push(e)}catch(e){this.emit("error",e)}else"SYN"===e?(this._haveSyn=!0,this._write(o,null,i)):e===o&&(this._init=!0,this._haveSyn||this._write(o,null,i),this.uncork())}_read(){}_write(e,t,r){this._postMessage(e),r()}}t.BasePostMessageStream=a},4273:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WindowPostMessageStream=void 0;const n=r(470);class i extends n.BasePostMessageStream{constructor({name:e,target:t,targetWindow:r}){if(!e||!t)throw new Error("Invalid input.");super(),this._name=e,this._target=t,this._targetOrigin=r?"*":location.origin,this._targetWindow=r||window,this._onMessage=this._onMessage.bind(this),window.addEventListener("message",this._onMessage,!1),this._handshake()}_postMessage(e){this._targetWindow.postMessage({target:this._target,data:e},this._targetOrigin)}_onMessage(e){const t=e.data;"*"!==this._targetOrigin&&e.origin!==this._targetOrigin||e.source!==this._targetWindow||"object"!=typeof t||t.target!==this._name||!t.data||this._onData(t.data)}_destroy(){window.removeEventListener("message",this._onMessage,!1)}}t.WindowPostMessageStream=i},8858:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkerParentPostMessageStream=void 0;const n=r(470),i=r(7366);class o extends n.BasePostMessageStream{constructor({worker:e}){if(!e)throw new Error("Invalid input.");super(),this._target=i.DEDICATED_WORKER_NAME,this._worker=e,this._worker.onmessage=this._onMessage.bind(this),this._handshake()}_postMessage(e){this._worker.postMessage({target:this._target,data:e})}_onMessage(e){const t=e.data;"object"==typeof t&&t.data&&this._onData(t.data)}_destroy(){this._worker.onmessage=null,this._worker=null}}t.WorkerParentPostMessageStream=o},7507:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkerPostMessageStream=void 0;const n=r(470),i=r(7366);class o extends n.BasePostMessageStream{constructor(){super(),this._name=i.DEDICATED_WORKER_NAME,self.onmessage=this._onMessage.bind(this),this._handshake()}_postMessage(e){self.postMessage({data:e})}_onMessage(e){const t=e.data;"object"==typeof t&&t.target===this._name&&t.data&&this._onData(t.data)}_destroy(){}}t.WorkerPostMessageStream=o},7366:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEDICATED_WORKER_NAME=void 0,t.DEDICATED_WORKER_NAME="dedicatedWorker"},9679:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkerParentPostMessageStream=t.WorkerPostMessageStream=t.WindowPostMessageStream=void 0;var n=r(4273);Object.defineProperty(t,"WindowPostMessageStream",{enumerable:!0,get:function(){return n.WindowPostMessageStream}});var i=r(7507);Object.defineProperty(t,"WorkerPostMessageStream",{enumerable:!0,get:function(){return i.WorkerPostMessageStream}});var o=r(8858);Object.defineProperty(t,"WorkerParentPostMessageStream",{enumerable:!0,get:function(){return o.WorkerParentPostMessageStream}})},2646:(e,t,r)=>{"use strict";var n=r(4406);!n.version||0===n.version.indexOf("v0.")||0===n.version.indexOf("v1.")&&0!==n.version.indexOf("v1.8.")?e.exports=function(e,t,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return n.nextTick(e);case 2:return n.nextTick((function(){e.call(null,t)}));case 3:return n.nextTick((function(){e.call(null,t,r)}));case 4:return n.nextTick((function(){e.call(null,t,r,i)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return n.nextTick((function(){e.apply(null,o)}))}}:e.exports=n.nextTick},1034:(e,t,r)=>{"use strict";var n=r(2646),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=f;var o=r(7646);o.inherits=r(1285);var a=r(7187),s=r(3597);o.inherits(f,a);for(var u=i(s.prototype),c=0;c<u.length;c++){var l=u[c];f.prototype[l]||(f.prototype[l]=s.prototype[l])}function f(e){if(!(this instanceof f))return new f(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||n(h,this)}function h(e){e.end()}Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),n(t,e)}},2598:(e,t,r)=>{"use strict";e.exports=o;var n=r(2287),i=r(7646);function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}i.inherits=r(1285),i.inherits(o,n),o.prototype._transform=function(e,t,r){r(null,e)}},7187:(e,t,r)=>{"use strict";var n=r(4406),i=r(2646);e.exports=w;var o,a=r(7906);w.ReadableState=m,r(2699).EventEmitter;var s=function(e,t){return e.listeners(t).length},u=r(979),c=r(5691).Buffer,l=r.g.Uint8Array||function(){},f=r(7646);f.inherits=r(1285);var d=r(4857),h=void 0;h=d&&d.debuglog?d.debuglog("stream"):function(){};var p,g=r(8991),y=r(8374);f.inherits(w,u);var b=["error","close","destroy","pause","resume"];function m(e,t){o=o||r(1034),e=e||{},this.objectMode=!!e.objectMode,t instanceof o&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:i,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=r(5099).s),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function w(e){if(o=o||r(1034),!(this instanceof w))return new w(e);this._readableState=new m(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function v(e,t,r,n,i){var o,a=e._readableState;return null===t?(a.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,O(e)}}(e,a)):(i||(o=function(e,t){var r,n;return n=t,c.isBuffer(n)||n instanceof l||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),n?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):_(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?_(e,a,t,!1):M(e,a)):_(e,a,t,!1))):n||(a.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function _(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&O(e)),M(e,t)}Object.defineProperty(w.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),w.prototype.destroy=y.destroy,w.prototype._undestroy=y.undestroy,w.prototype._destroy=function(e,t){this.push(null),t(e)},w.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),r=!0),v(this,e,t,!1,r)},w.prototype.unshift=function(e){return v(this,e,null,!0,!1)},w.prototype.isPaused=function(){return!1===this._readableState.flowing},w.prototype.setEncoding=function(e){return p||(p=r(5099).s),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var S=8388608;function E(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=S?e=S:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function O(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i(R,e):R(e))}function R(e){h("emit readable"),e.emit("readable"),A(e)}function M(e,t){t.readingMore||(t.readingMore=!0,i(j,e,t))}function j(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function P(e){h("readable nexttick read 0"),e.read(0)}function k(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),A(e),t.flowing&&!t.reading&&e.read(0)}function A(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function x(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0==(e-=a)){a===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=c.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,a),0==(e-=a)){a===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++i}return t.length-=i,r}(e,t),n}(e,t.buffer,t.decoder),r);var r}function C(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i(T,t,e))}function T(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function N(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}w.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?C(this):O(this),null;if(0===(e=E(e,t))&&t.ended)return 0===t.length&&C(this),null;var n,i=t.needReadable;return h("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",i=!0),t.ended||t.reading?h("reading or ended",i=!1):i&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=E(r,t))),null===(n=e>0?x(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&C(this)),null!==n&&this.emit("data",n),n},w.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},w.prototype.pipe=function(e,t){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,h("pipe count=%d opts=%j",o.pipesCount,t);var u=t&&!1===t.end||e===n.stdout||e===n.stderr?m:c;function c(){h("onend"),e.end()}o.endEmitted?i(u):r.once("end",u),e.on("unpipe",(function t(n,i){h("onunpipe"),n===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,h("cleanup"),e.removeListener("close",y),e.removeListener("finish",b),e.removeListener("drain",l),e.removeListener("error",g),e.removeListener("unpipe",t),r.removeListener("end",c),r.removeListener("end",m),r.removeListener("data",p),f=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}));var l=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,A(e))}}(r);e.on("drain",l);var f=!1,d=!1;function p(t){h("ondata"),d=!1,!1!==e.write(t)||d||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==N(o.pipes,e))&&!f&&(h("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,d=!0),r.pause())}function g(t){h("onerror",t),m(),e.removeListener("error",g),0===s(e,"error")&&e.emit("error",t)}function y(){e.removeListener("finish",b),m()}function b(){h("onfinish"),e.removeListener("close",y),m()}function m(){h("unpipe"),r.unpipe(e)}return r.on("data",p),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events.error?a(e._events.error)?e._events.error.unshift(r):e._events.error=[r,e._events.error]:e.on(t,r)}(e,"error",g),e.once("close",y),e.once("finish",b),e.emit("pipe",r),o.flowing||(h("pipe resume"),r.resume()),e},w.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var a=N(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},w.prototype.on=function(e,t){var r=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&O(this):i(P,this))}return r},w.prototype.addListener=w.prototype.on,w.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i(k,e,t))}(this,e)),this},w.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},w.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;for(var i in e.on("end",(function(){if(h("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)})),e.on("data",(function(i){h("wrapped data"),t.decoder&&(i=t.decoder.write(i)),t.objectMode&&null==i||(t.objectMode||i&&i.length)&&(n.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<b.length;o++)e.on(b[o],n.emit.bind(n,b[o]));return n._read=function(t){h("wrapped _read",t),r&&(r=!1,e.resume())},n},w._fromList=x},2287:(e,t,r)=>{"use strict";e.exports=a;var n=r(1034),i=r(7646);function o(e){this.afterTransform=function(t,r){return function(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=r&&e.push(r),i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}(e,t,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function a(e){if(!(this instanceof a))return new a(e);n.call(this,e),this._transformState=new o(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",(function(){"function"==typeof this._flush?this._flush((function(e,r){s(t,e,r)})):s(t)}))}function s(e,t,r){if(t)return e.emit("error",t);null!=r&&e.push(r);var n=e._writableState,i=e._transformState;if(n.length)throw new Error("Calling transform done when ws.length != 0");if(i.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=r(1285),i.inherits(a,n),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,(function(e){t(e),r.emit("close")}))}},3597:(e,t,r)=>{"use strict";var n=r(4406),i=r(2646);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=b;var a,s=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?setImmediate:i;b.WritableState=y;var u=r(7646);u.inherits=r(1285);var c,l={deprecate:r(5803)},f=r(979),d=r(5691).Buffer,h=r.g.Uint8Array||function(){},p=r(8374);function g(){}function y(e,t){a=a||r(1034),e=e||{},this.objectMode=!!e.objectMode,t instanceof a&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,u=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var c=!1===e.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,o){--t.pendingcb,r?(i(o,n),i(E,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(o(n),e._writableState.errorEmitted=!0,e.emit("error",n),E(e,t))}(e,r,n,t,o);else{var a=_(r);a||r.corked||r.bufferProcessing||!r.bufferedRequest||v(e,r),n?s(w,e,r,a,o):w(e,r,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function b(e){if(a=a||r(1034),!(c.call(b,this)||this instanceof a))return new b(e);this._writableState=new y(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),f.call(this)}function m(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function w(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),E(e,t)}function v(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),a=t.corkedRequestsFree;a.entry=r;for(var s=0,u=!0;r;)i[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;i.allBuffers=u,m(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t)}else{for(;r;){var c=r.chunk,l=r.encoding,f=r.callback;if(m(e,t,!1,t.objectMode?1:c.length,c,l,f),r=r.next,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=r,t.bufferProcessing=!1}function _(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),E(e,t)}))}function E(e,t){var r=_(t);return r&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,i(S,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}u.inherits(b,f),y.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(y.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||e&&e._writableState instanceof y}})):c=function(e){return e instanceof this},b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},b.prototype.write=function(e,t,r){var n,o=this._writableState,a=!1,s=(n=e,(d.isBuffer(n)||n instanceof h)&&!o.objectMode);return s&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=g),o.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),i(t,r)}(this,r):(s||function(e,t,r,n){var o=!0,a=!1;return null===r?a=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),i(n,a),o=!1),o}(this,o,e,r))&&(o.pendingcb++,a=function(e,t,r,n,i,o){if(!r){var a=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,r)),t}(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,s,n,i,o);return u}(this,o,s,e,t,r)),a},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||v(this,e))},b.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},b.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,E(e,t),r&&(t.finished?i(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),b.prototype.destroy=p.destroy,b.prototype._undestroy=p.undestroy,b.prototype._destroy=function(e,t){this.end(),t(e)}},8991:(e,t,r)=>{"use strict";var n=r(5691).Buffer;e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,i=n.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=i,r=a,o.data.copy(t,r),a+=o.data.length,o=o.next;return i},e}()},8374:(e,t,r)=>{"use strict";var n=r(2646);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;o||a?t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n(i,this,e):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(n(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})))},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},979:(e,t,r)=>{e.exports=r(2699).EventEmitter},5800:(e,t,r)=>{(t=e.exports=r(7187)).Stream=t,t.Readable=t,t.Writable=r(3597),t.Duplex=r(1034),t.Transform=r(2287),t.PassThrough=r(2598)},5691:(e,t,r)=>{var n=r(8834),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},5099:(e,t,r)=>{"use strict";var n=r(5691).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:-1}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"".repeat(r);if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"".repeat(r+1);if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"".repeat(r+2)}}(this,e,t);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"".repeat(this.lastTotal-this.lastNeed):t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r?0:(i=a(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r?0:(i=a(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},4044:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(r(3171)),a=r(1280),s=r(1384),u=i(r(9952)),c=i(r(3795)),l=i(r(8787)),f=r(8094),d=r(8607),h=i(r(2371)),p=r(4022);class g extends c.default{constructor(e,{jsonRpcStreamName:t="metamask-provider",logger:r=n,maxEventListeners:i=100}={}){if(super(),!d.duplex(e))throw new Error(h.default.errors.invalidDuplexStream());this._log=r,this.setMaxListeners(i),this._state=Object.assign({},g._defaultState),this.selectedAddress=null,this.chainId=null,this._handleAccountsChanged=this._handleAccountsChanged.bind(this),this._handleConnect=this._handleConnect.bind(this),this._handleChainChanged=this._handleChainChanged.bind(this),this._handleDisconnect=this._handleDisconnect.bind(this),this._handleStreamDisconnect=this._handleStreamDisconnect.bind(this),this._handleUnlockStateChanged=this._handleUnlockStateChanged.bind(this),this._rpcRequest=this._rpcRequest.bind(this),this.request=this.request.bind(this);const c=new u.default;o.default(e,c,e,this._handleStreamDisconnect.bind(this,"MetaMask")),this.on("connect",(()=>{this._state.isConnected=!0})),this._jsonRpcConnection=s.createStreamMiddleware(),o.default(this._jsonRpcConnection.stream,c.createStream(t),this._jsonRpcConnection.stream,this._handleStreamDisconnect.bind(this,"MetaMask RpcProvider"));const l=new a.JsonRpcEngine;l.push(a.createIdRemapMiddleware()),l.push(p.createErrorMiddleware(this._log)),l.push(this._jsonRpcConnection.middleware),this._rpcEngine=l,this._initializeState(),this._jsonRpcConnection.events.on("notification",(t=>{const{method:r,params:n}=t;"metamask_accountsChanged"===r?this._handleAccountsChanged(n):"metamask_unlockStateChanged"===r?this._handleUnlockStateChanged(n):"metamask_chainChanged"===r?this._handleChainChanged(n):p.EMITTED_NOTIFICATIONS.includes(r)?this.emit("message",{type:r,data:n}):"METAMASK_STREAM_FAILURE"===r&&e.destroy(new Error(h.default.errors.permanentlyDisconnected()))}))}isConnected(){return this._state.isConnected}async request(e){if(!e||"object"!=typeof e||Array.isArray(e))throw f.ethErrors.rpc.invalidRequest({message:h.default.errors.invalidRequestArgs(),data:e});const{method:t,params:r}=e;if("string"!=typeof t||0===t.length)throw f.ethErrors.rpc.invalidRequest({message:h.default.errors.invalidRequestMethod(),data:e});if(void 0!==r&&!Array.isArray(r)&&("object"!=typeof r||null===r))throw f.ethErrors.rpc.invalidRequest({message:h.default.errors.invalidRequestParams(),data:e});return new Promise(((e,n)=>{this._rpcRequest({method:t,params:r},p.getRpcPromiseCallback(e,n))}))}async _initializeState(){try{const{accounts:e,chainId:t,isUnlocked:r,networkVersion:n}=await this.request({method:"metamask_getProviderState"});this.emit("connect",{chainId:t}),this._handleChainChanged({chainId:t,networkVersion:n}),this._handleUnlockStateChanged({accounts:e,isUnlocked:r}),this._handleAccountsChanged(e)}catch(e){this._log.error("MetaMask: Failed to get initial state. Please report this bug.",e)}finally{this._state.initialized=!0,this.emit("_initialized")}}_rpcRequest(e,t){let r=t;return Array.isArray(e)||(e.jsonrpc||(e.jsonrpc="2.0"),"eth_accounts"!==e.method&&"eth_requestAccounts"!==e.method||(r=(r,n)=>{this._handleAccountsChanged(n.result||[],"eth_accounts"===e.method),t(r,n)})),this._rpcEngine.handle(e,r)}_handleConnect(e){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:e}),this._log.debug(h.default.info.connected(e)))}_handleDisconnect(e,t){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e){let r;this._state.isConnected=!1,e?(r=new f.EthereumRpcError(1013,t||h.default.errors.disconnected()),this._log.debug(r)):(r=new f.EthereumRpcError(1011,t||h.default.errors.permanentlyDisconnected()),this._log.error(r),this.chainId=null,this._state.accounts=null,this.selectedAddress=null,this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",r)}}_handleStreamDisconnect(e,t){p.logStreamDisconnectWarning(this._log,e,t,this),this._handleDisconnect(!1,t?t.message:void 0)}_handleChainChanged({chainId:e,networkVersion:t}={}){e&&"string"==typeof e&&e.startsWith("0x")&&t&&"string"==typeof t?"loading"===t?this._handleDisconnect(!0):(this._handleConnect(e),e!==this.chainId&&(this.chainId=e,this._state.initialized&&this.emit("chainChanged",this.chainId))):this._log.error("MetaMask: Received invalid network parameters. Please report this bug.",{chainId:e,networkVersion:t})}_handleAccountsChanged(e,t=!1){let r=e;Array.isArray(e)||(this._log.error("MetaMask: Received invalid accounts parameter. Please report this bug.",e),r=[]);for(const t of e)if("string"!=typeof t){this._log.error("MetaMask: Received non-string account. Please report this bug.",e),r=[];break}l.default(this._state.accounts,r)||(t&&null!==this._state.accounts&&this._log.error("MetaMask: 'eth_accounts' unexpectedly updated accounts. Please report this bug.",r),this._state.accounts=r,this.selectedAddress!==r[0]&&(this.selectedAddress=r[0]||null),this._state.initialized&&this.emit("accountsChanged",r))}_handleUnlockStateChanged({accounts:e,isUnlocked:t}={}){"boolean"==typeof t?t!==this._state.isUnlocked&&(this._state.isUnlocked=t,this._handleAccountsChanged(e||[])):this._log.error("MetaMask: Received invalid isUnlocked parameter. Please report this bug.")}}t.default=g,g._defaultState={accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1}},9461:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(8094),a=i(r(23)),s=i(r(2371)),u=r(4022),c=i(r(4044));class l extends c.default{constructor(e,{jsonRpcStreamName:t="metamask-provider",logger:r=n,maxEventListeners:i=100,shouldSendMetadata:o=!0}={}){if(super(e,{jsonRpcStreamName:t,logger:r,maxEventListeners:i}),this._sentWarnings={enable:!1,experimentalMethods:!1,send:!1,events:{close:!1,data:!1,networkChanged:!1,notification:!1}},this.networkVersion=null,this.isMetaMask=!0,this._sendSync=this._sendSync.bind(this),this.enable=this.enable.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this._warnOfDeprecation=this._warnOfDeprecation.bind(this),this._metamask=this._getExperimentalApi(),this._jsonRpcConnection.events.on("notification",(e=>{const{method:t}=e;u.EMITTED_NOTIFICATIONS.includes(t)&&(this.emit("data",e),this.emit("notification",e.params.result))})),o)if("complete"===document.readyState)a.default(this._rpcEngine,this._log);else{const e=()=>{a.default(this._rpcEngine,this._log),window.removeEventListener("DOMContentLoaded",e)};window.addEventListener("DOMContentLoaded",e)}}sendAsync(e,t){this._rpcRequest(e,t)}addListener(e,t){return this._warnOfDeprecation(e),super.addListener(e,t)}on(e,t){return this._warnOfDeprecation(e),super.on(e,t)}once(e,t){return this._warnOfDeprecation(e),super.once(e,t)}prependListener(e,t){return this._warnOfDeprecation(e),super.prependListener(e,t)}prependOnceListener(e,t){return this._warnOfDeprecation(e),super.prependOnceListener(e,t)}_handleDisconnect(e,t){super._handleDisconnect(e,t),this.networkVersion&&!e&&(this.networkVersion=null)}_warnOfDeprecation(e){var t;!1===(null===(t=this._sentWarnings)||void 0===t?void 0:t.events[e])&&(this._log.warn(s.default.warnings.events[e]),this._sentWarnings.events[e]=!0)}enable(){return this._sentWarnings.enable||(this._log.warn(s.default.warnings.enableDeprecation),this._sentWarnings.enable=!0),new Promise(((e,t)=>{try{this._rpcRequest({method:"eth_requestAccounts",params:[]},u.getRpcPromiseCallback(e,t))}catch(e){t(e)}}))}send(e,t){return this._sentWarnings.send||(this._log.warn(s.default.warnings.sendDeprecation),this._sentWarnings.send=!0),"string"!=typeof e||t&&!Array.isArray(t)?e&&"object"==typeof e&&"function"==typeof t?this._rpcRequest(e,t):this._sendSync(e):new Promise(((r,n)=>{try{this._rpcRequest({method:e,params:t},u.getRpcPromiseCallback(r,n,!1))}catch(e){n(e)}}))}_sendSync(e){let t;switch(e.method){case"eth_accounts":t=this.selectedAddress?[this.selectedAddress]:[];break;case"eth_coinbase":t=this.selectedAddress||null;break;case"eth_uninstallFilter":this._rpcRequest(e,u.NOOP),t=!0;break;case"net_version":t=this.networkVersion||null;break;default:throw new Error(s.default.errors.unsupportedSync(e.method))}return{id:e.id,jsonrpc:e.jsonrpc,result:t}}_getExperimentalApi(){return new Proxy({isUnlocked:async()=>(this._state.initialized||await new Promise((e=>{this.on("_initialized",(()=>e()))})),this._state.isUnlocked),requestBatch:async e=>{if(!Array.isArray(e))throw o.ethErrors.rpc.invalidRequest({message:"Batch requests must be made with an array of request objects.",data:e});return new Promise(((t,r)=>{this._rpcRequest(e,u.getRpcPromiseCallback(t,r))}))}},{get:(e,t,...r)=>(this._sentWarnings.experimentalMethods||(this._log.warn(s.default.warnings.experimentalMethods),this._sentWarnings.experimentalMethods=!0),Reflect.get(e,t,...r))})}_handleChainChanged({chainId:e,networkVersion:t}={}){super._handleChainChanged({chainId:e,networkVersion:t}),t&&"loading"!==t&&t!==this.networkVersion&&(this.networkVersion=t,this._state.initialized&&this.emit("networkChanged",this.networkVersion))}}t.default=l},5817:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(r(3274)),a=r(4924),s=i(r(4044)),u=i(r(5543)),c=a.detect();t.default=function(){let e;try{const t=function(){switch(null==c?void 0:c.name){case"chrome":default:return u.default.CHROME_ID;case"firefox":return u.default.FIREFOX_ID}}(),r=chrome.runtime.connect(t),n=new o.default(r);e=new s.default(n)}catch(e){throw n.dir("Metamask connect error ",e),e}return e}},2972:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createExternalExtensionProvider=t.shimWeb3=t.setGlobalProvider=t.BaseProvider=t.MetaMaskInpageProvider=t.initializeProvider=void 0;const i=n(r(9461));t.MetaMaskInpageProvider=i.default;const o=n(r(5817));t.createExternalExtensionProvider=o.default;const a=n(r(4044));t.BaseProvider=a.default;const s=r(6352);Object.defineProperty(t,"initializeProvider",{enumerable:!0,get:function(){return s.initializeProvider}}),Object.defineProperty(t,"setGlobalProvider",{enumerable:!0,get:function(){return s.setGlobalProvider}});const u=n(r(6473));t.shimWeb3=u.default},6352:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.setGlobalProvider=t.initializeProvider=void 0;const o=i(r(9461)),a=i(r(6473));function s(e){window.ethereum=e,window.dispatchEvent(new Event("ethereum#initialized"))}t.initializeProvider=function({connectionStream:e,jsonRpcStreamName:t,logger:r=n,maxEventListeners:i=100,shouldSendMetadata:u=!0,shouldSetOnWindow:c=!0,shouldShimWeb3:l=!1}){let f=new o.default(e,{jsonRpcStreamName:t,logger:r,maxEventListeners:i,shouldSendMetadata:u});return f=new Proxy(f,{deleteProperty:()=>!0}),c&&s(f),l&&a.default(f,r),f},t.setGlobalProvider=s},2371:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={errors:{disconnected:()=>"MetaMask: Disconnected from chain. Attempting to connect.",permanentlyDisconnected:()=>"MetaMask: Disconnected from MetaMask background. Page reload required.",sendSiteMetadata:()=>"MetaMask: Failed to send site metadata. This is an internal error, please report this bug.",unsupportedSync:e=>`MetaMask: The MetaMask Ethereum provider does not support synchronous methods like ${e} without a callback parameter.`,invalidDuplexStream:()=>"Must provide a Node.js-style duplex stream.",invalidRequestArgs:()=>"Expected a single, non-array, object argument.",invalidRequestMethod:()=>"'args.method' must be a non-empty string.",invalidRequestParams:()=>"'args.params' must be an object or array if provided.",invalidLoggerObject:()=>"'args.logger' must be an object if provided.",invalidLoggerMethod:e=>`'args.logger' must include required method '${e}'.`},info:{connected:e=>`MetaMask: Connected to chain with ID "${e}".`},warnings:{enableDeprecation:"MetaMask: 'ethereum.enable()' is deprecated and may be removed in the future. Please use the 'eth_requestAccounts' RPC method instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1102",sendDeprecation:"MetaMask: 'ethereum.send(...)' is deprecated and may be removed in the future. Please use 'ethereum.sendAsync(...)' or 'ethereum.request(...)' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193",events:{close:"MetaMask: The event 'close' is deprecated and may be removed in the future. Please use 'disconnect' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#disconnect",data:"MetaMask: The event 'data' is deprecated and will be removed in the future. Use 'message' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#message",networkChanged:"MetaMask: The event 'networkChanged' is deprecated and may be removed in the future. Use 'chainChanged' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#chainchanged",notification:"MetaMask: The event 'notification' is deprecated and may be removed in the future. Use 'message' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#message"},experimentalMethods:"MetaMask: 'ethereum._metamask' exposes non-standard, experimental methods. They may be removed or changed without warning."}}},6473:(e,t,r)=>{"use strict";var n=r(3716);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t=n){let r=!1,i=!1;if(!window.web3){const n="__isMetaMaskShim__";let o={currentProvider:e};Object.defineProperty(o,n,{value:!0,enumerable:!0,configurable:!1,writable:!1}),o=new Proxy(o,{get:(o,a,...s)=>("currentProvider"!==a||r?"currentProvider"===a||a===n||i||(i=!0,t.error("MetaMask no longer injects web3. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3"),e.request({method:"metamask_logWeb3ShimUsage"}).catch((e=>{t.debug("MetaMask: Failed to log web3 shim usage.",e)}))):(r=!0,t.warn("You are accessing the MetaMask window.web3.currentProvider shim. This property is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3")),Reflect.get(o,a,...s)),set:(...e)=>(t.warn("You are accessing the MetaMask window.web3 shim. This object is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3"),Reflect.set(...e))}),Object.defineProperty(window,"web3",{value:o,enumerable:!1,configurable:!0,writable:!0})}}},23:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(2371)),o=r(4022);function a(e){const{document:t}=e,r=t.querySelector('head > meta[property="og:site_name"]');if(r)return r.content;const n=t.querySelector('head > meta[name="title"]');return n?n.content:t.title&&t.title.length>0?t.title:window.location.hostname}async function s(e){const{document:t}=e,r=t.querySelectorAll('head > link[rel~="icon"]');for(const e of r)if(e&&await u(e.href))return e.href;return null}function u(e){return new Promise(((t,r)=>{try{const r=document.createElement("img");r.onload=()=>t(!0),r.onerror=()=>t(!1),r.src=e}catch(e){r(e)}}))}t.default=async function(e,t){try{const t=await async function(){return{name:a(window),icon:await s(window)}}();e.handle({jsonrpc:"2.0",id:1,method:"metamask_sendDomainMetadata",params:t},o.NOOP)}catch(e){t.error({message:i.default.errors.sendSiteMetadata(),originalError:e})}}},4022:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMITTED_NOTIFICATIONS=t.NOOP=t.logStreamDisconnectWarning=t.getRpcPromiseCallback=t.createErrorMiddleware=void 0;const n=r(8094);t.createErrorMiddleware=function(e){return(t,r,i)=>{"string"==typeof t.method&&t.method||(r.error=n.ethErrors.rpc.invalidRequest({message:"The request 'method' must be a non-empty string.",data:t})),i((t=>{const{error:n}=r;return n?(e.error(`MetaMask - RPC Error: ${n.message}`,n),t()):t()}))}},t.getRpcPromiseCallback=(e,t,r=!0)=>(n,i)=>{n||i.error?t(n||i.error):!r||Array.isArray(i)?e(i):e(i.result)},t.logStreamDisconnectWarning=function(e,t,r,n){let i=`MetaMask: Lost connection to "${t}".`;(null==r?void 0:r.stack)&&(i+=`\n${r.stack}`),e.warn(i),n&&n.listenerCount("error")>0&&n.emit("error",i)},t.NOOP=()=>{},t.EMITTED_NOTIFICATIONS=["eth_subscription"]},8787:e=>{"use strict";var t=Array.isArray,r=Object.keys,n=Object.prototype.hasOwnProperty;e.exports=function e(i,o){if(i===o)return!0;if(i&&o&&"object"==typeof i&&"object"==typeof o){var a,s,u,c=t(i),l=t(o);if(c&&l){if((s=i.length)!=o.length)return!1;for(a=s;0!=a--;)if(!e(i[a],o[a]))return!1;return!0}if(c!=l)return!1;var f=i instanceof Date,d=o instanceof Date;if(f!=d)return!1;if(f&&d)return i.getTime()==o.getTime();var h=i instanceof RegExp,p=o instanceof RegExp;if(h!=p)return!1;if(h&&p)return i.toString()==o.toString();var g=r(i);if((s=g.length)!==r(o).length)return!1;for(a=s;0!=a--;)if(!n.call(o,g[a]))return!1;for(a=s;0!=a--;)if(!e(i[u=g[a]],o[u]))return!1;return!0}return i!=i&&o!=o}},3795:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2699);function i(e,t,r){try{Reflect.apply(e,t,r)}catch(e){setTimeout((()=>{throw e}))}}class o extends n.EventEmitter{emit(e,...t){let r="error"===e;const n=this._events;if(void 0!==n)r=r&&void 0===n.error;else if(!r)return!1;if(r){let e;if(t.length>0&&([e]=t),e instanceof Error)throw e;const r=new Error("Unhandled error."+(e?` (${e.message})`:""));throw r.context=e,r}const o=n[e];if(void 0===o)return!1;if("function"==typeof o)i(o,this,t);else{const e=o.length,r=function(e){const t=e.length,r=new Array(t);for(let n=0;n<t;n+=1)r[n]=e[n];return r}(o);for(let n=0;n<e;n+=1)i(r[n],this,t)}return!0}}t.default=o},5778:(e,t,r)=>{"use strict";var n=r(7320);function i(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0}function o(e){return r.g.Buffer&&"function"==typeof r.g.Buffer.isBuffer?r.g.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var a=r(1485),s=Object.prototype.hasOwnProperty,u=Array.prototype.slice,c="foo"===function(){}.name;function l(e){return Object.prototype.toString.call(e)}function f(e){return!o(e)&&"function"==typeof r.g.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}var d=e.exports=m,h=/\s*function\s+([^\(\s]*)\s*/;function p(e){if(a.isFunction(e)){if(c)return e.name;var t=e.toString().match(h);return t&&t[1]}}function g(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function y(e){if(c||!a.isFunction(e))return a.inspect(e);var t=p(e);return"[Function"+(t?": "+t:"")+"]"}function b(e,t,r,n,i){throw new d.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:i})}function m(e,t){e||b(e,!0,t,"==",d.ok)}function w(e,t,r,n){if(e===t)return!0;if(o(e)&&o(t))return 0===i(e,t);if(a.isDate(e)&&a.isDate(t))return e.getTime()===t.getTime();if(a.isRegExp(e)&&a.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(f(e)&&f(t)&&l(e)===l(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===i(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(o(e)!==o(t))return!1;var s=(n=n||{actual:[],expected:[]}).actual.indexOf(e);return-1!==s&&s===n.expected.indexOf(t)||(n.actual.push(e),n.expected.push(t),function(e,t,r,n){if(null==e||null==t)return!1;if(a.isPrimitive(e)||a.isPrimitive(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=v(e),o=v(t);if(i&&!o||!i&&o)return!1;if(i)return w(e=u.call(e),t=u.call(t),r);var s,c,l=E(e),f=E(t);if(l.length!==f.length)return!1;for(l.sort(),f.sort(),c=l.length-1;c>=0;c--)if(l[c]!==f[c])return!1;for(c=l.length-1;c>=0;c--)if(!w(e[s=l[c]],t[s],r,n))return!1;return!0}(e,t,r,n))}return r?e===t:e==t}function v(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function _(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function S(e,t,r,n){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),i=function(e){var t;try{e()}catch(e){t=e}return t}(t),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),e&&!i&&b(i,r,"Missing expected exception"+n);var o="string"==typeof n,s=!e&&i&&!r;if((!e&&a.isError(i)&&o&&_(i,r)||s)&&b(i,r,"Got unwanted exception"+n),e&&i&&r&&!_(i,r)||!e&&i)throw i}d.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return g(y(e.actual),128)+" "+e.operator+" "+g(y(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||b;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var r=new Error;if(r.stack){var n=r.stack,i=p(t),o=n.indexOf("\n"+i);if(o>=0){var a=n.indexOf("\n",o+1);n=n.substring(a+1)}this.stack=n}}},a.inherits(d.AssertionError,Error),d.fail=b,d.ok=m,d.equal=function(e,t,r){e!=t&&b(e,t,r,"==",d.equal)},d.notEqual=function(e,t,r){e==t&&b(e,t,r,"!=",d.notEqual)},d.deepEqual=function(e,t,r){w(e,t,!1)||b(e,t,r,"deepEqual",d.deepEqual)},d.deepStrictEqual=function(e,t,r){w(e,t,!0)||b(e,t,r,"deepStrictEqual",d.deepStrictEqual)},d.notDeepEqual=function(e,t,r){w(e,t,!1)&&b(e,t,r,"notDeepEqual",d.notDeepEqual)},d.notDeepStrictEqual=function e(t,r,n){w(t,r,!0)&&b(t,r,n,"notDeepStrictEqual",e)},d.strictEqual=function(e,t,r){e!==t&&b(e,t,r,"===",d.strictEqual)},d.notStrictEqual=function(e,t,r){e===t&&b(e,t,r,"!==",d.notStrictEqual)},d.throws=function(e,t,r){S(!0,e,t,r)},d.doesNotThrow=function(e,t,r){S(!1,e,t,r)},d.ifError=function(e){if(e)throw e},d.strict=n((function e(t,r){t||b(t,!0,r,"==",e)}),d,{equal:d.strictEqual,deepEqual:d.deepStrictEqual,notEqual:d.notStrictEqual,notDeepEqual:d.notDeepStrictEqual}),d.strict.strict=d.strict;var E=Object.keys||function(e){var t=[];for(var r in e)s.call(e,r)&&t.push(r);return t}},5147:e=>{"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},6819:e=>{e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},1485:(e,t,r)=>{var n=r(4406),i=r(3716),o=/%[sdj%]/g;t.format=function(e){if(!m(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(u(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,a=String(e).replace(o,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),s=n[r];r<i;s=n[++r])y(s)||!_(s)?a+=" "+s:a+=" "+u(s);return a},t.deprecate=function(e,o){if(w(r.g.process))return function(){return t.deprecate(e,o).apply(this,arguments)};if(!0===n.noDeprecation)return e;var a=!1;return function(){if(!a){if(n.throwDeprecation)throw new Error(o);n.traceDeprecation?i.trace(o):i.error(o),a=!0}return e.apply(this,arguments)}};var a,s={};function u(e,r){var n={seen:[],stylize:l};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),g(r)?n.showHidden=r:r&&t._extend(n,r),w(n.showHidden)&&(n.showHidden=!1),w(n.depth)&&(n.depth=2),w(n.colors)&&(n.colors=!1),w(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=c),f(n,e,n.depth)}function c(e,t){var r=u.styles[t];return r?"["+u.colors[r][0]+"m"+e+"["+u.colors[r][1]+"m":e}function l(e,t){return e}function f(e,r,n){if(e.customInspect&&r&&O(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return m(i)||(i=f(e,i,n)),i}var o=function(e,t){if(w(t))return e.stylize("undefined","undefined");if(m(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return b(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):y(t)?e.stylize("null","null"):void 0}(e,r);if(o)return o;var a=Object.keys(r),s=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(r)),E(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return d(r);if(0===a.length){if(O(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(v(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(S(r))return e.stylize(Date.prototype.toString.call(r),"date");if(E(r))return d(r)}var c,l="",_=!1,R=["{","}"];return p(r)&&(_=!0,R=["[","]"]),O(r)&&(l=" [Function"+(r.name?": "+r.name:"")+"]"),v(r)&&(l=" "+RegExp.prototype.toString.call(r)),S(r)&&(l=" "+Date.prototype.toUTCString.call(r)),E(r)&&(l=" "+d(r)),0!==a.length||_&&0!=r.length?n<0?v(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),c=_?function(e,t,r,n,i){for(var o=[],a=0,s=t.length;a<s;++a)k(t,String(a))?o.push(h(e,t,r,n,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(h(e,t,r,n,i,!0))})),o}(e,r,n,s,a):a.map((function(t){return h(e,r,n,s,t,_)})),e.seen.pop(),function(e,t,r){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}(c,l,R)):R[0]+l+R[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,r,n,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),k(n,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=y(r)?f(e,u.value,null):f(e,u.value,r-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),w(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function p(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function y(e){return null===e}function b(e){return"number"==typeof e}function m(e){return"string"==typeof e}function w(e){return void 0===e}function v(e){return _(e)&&"[object RegExp]"===R(e)}function _(e){return"object"==typeof e&&null!==e}function S(e){return _(e)&&"[object Date]"===R(e)}function E(e){return _(e)&&("[object Error]"===R(e)||e instanceof Error)}function O(e){return"function"==typeof e}function R(e){return Object.prototype.toString.call(e)}function M(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(w(a)&&(a=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!s[e])if(new RegExp("\\b"+e+"\\b","i").test(a)){var r=n.pid;s[e]=function(){var n=t.format.apply(t,arguments);i.error("%s %d: %s",e,r,n)}}else s[e]=function(){};return s[e]},t.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=g,t.isNull=y,t.isNullOrUndefined=function(e){return null==e},t.isNumber=b,t.isString=m,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=w,t.isRegExp=v,t.isObject=_,t.isDate=S,t.isError=E,t.isFunction=O,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(6819);var j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function P(){var e=new Date,t=[M(e.getHours()),M(e.getMinutes()),M(e.getSeconds())].join(":");return[e.getDate(),j[e.getMonth()],t].join(" ")}function k(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){i.log("%s - %s",P(),t.format.apply(t,arguments))},t.inherits=r(5147),t._extend=function(e,t){if(!t||!_(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}},5766:(e,t)=>{"use strict";t.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,o=u(e),a=o[0],s=o[1],c=new i(function(e,t,r){return 3*(t+r)/4-r}(0,a,s)),l=0,f=s>0?a-4:a;for(r=0;r<f;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return 2===s&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,c[l++]=255&t),1===s&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=16383,s=0,u=n-i;s<u;s+=a)o.push(c(e,s,s+a>u?u:s+a));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=o.length;a<s;++a)r[a]=o[a],n[o.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},8834:(e,t,r)=>{"use strict";var n=r(3716);const i=r(5766),o=r(2333),a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},t.INSPECT_MAX_BYTES=50;const s=2147483647;function u(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return l(e,t,r)}function l(e,t,r){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|y(e,t);let n=u(r);const i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Y(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Y(e,ArrayBuffer)||e&&Y(e.buffer,ArrayBuffer))return p(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(Y(e,SharedArrayBuffer)||e&&Y(e.buffer,SharedArrayBuffer)))return p(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return c.from(n,t,r);const i=function(e){if(c.isBuffer(e)){const t=0|g(e.length),r=u(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||X(e.length)?u(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return f(e),u(e<0?0:0|g(e))}function h(e){const t=e.length<0?0:0|g(e.length),r=u(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function p(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,c.prototype),n}function g(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function y(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Y(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return V(e).length;default:if(i)return n?-1:G(e).length;t=(""+t).toLowerCase(),i=!0}}function b(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,r);case"utf8":case"utf-8":return j(this,t,r);case"ascii":return k(this,t,r);case"latin1":case"binary":return A(this,t,r);case"base64":return M(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function m(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function w(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),X(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,i){let o,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let n=-1;for(o=r;o<s;o++)if(c(e,o)===c(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===u)return n*a}else-1!==n&&(o-=o-n),n=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){let r=!0;for(let n=0;n<u;n++)if(c(e,o+n)!==c(t,n)){r=!1;break}if(r)return o}return-1}function _(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=t.length;let a;for(n>o/2&&(n=o/2),a=0;a<n;++a){const n=parseInt(t.substr(2*a,2),16);if(X(n))return a;e[r+a]=n}return a}function S(e,t,r,n){return K(G(t,e.length-r),e,r,n)}function E(e,t,r,n){return K(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function O(e,t,r,n){return K(V(t),e,r,n)}function R(e,t,r,n){return K(function(e,t){let r,n,i;const o=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function M(e,t,r){return 0===t&&r===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,r))}function j(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let o=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=r){let r,n,s,u;switch(a){case 1:t<128&&(o=t);break;case 2:r=e[i+1],128==(192&r)&&(u=(31&t)<<6|63&r,u>127&&(o=u));break;case 3:r=e[i+1],n=e[i+2],128==(192&r)&&128==(192&n)&&(u=(15&t)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:r=e[i+1],n=e[i+2],s=e[i+3],128==(192&r)&&128==(192&n)&&128==(192&s)&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&s,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=a}return function(e){const t=e.length;if(t<=P)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=P));return r}(n)}t.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||void 0===n||"function"!=typeof n.error||n.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,r){return function(e,t,r){return f(e),e<=0?u(e):void 0!==t?"string"==typeof r?u(e).fill(t,r):u(e).fill(t):u(e)}(e,t,r)},c.allocUnsafe=function(e){return d(e)},c.allocUnsafeSlow=function(e){return d(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),Y(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=c.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(Y(t,Uint8Array))i+t.length>n.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},c.byteLength=y,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)m(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?j(this,0,e):b.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},a&&(c.prototype[a]=c.prototype.inspect),c.prototype.compare=function(e,t,r,n,i){if(Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0);const s=Math.min(o,a),u=this.slice(n,i),l=e.slice(t,r);for(let e=0;e<s;++e)if(u[e]!==l[e]){o=u[e],a=l[e];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return w(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return w(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return _(this,e,t,r);case"utf8":case"utf-8":return S(this,e,t,r);case"ascii":case"latin1":case"binary":return E(this,e,t,r);case"base64":return O(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const P=4096;function k(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function A(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function x(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=Z[e[n]];return i}function C(e,t,r){const n=e.slice(t,r);let i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}function T(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,r,n,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function I(e,t,r,n,i){z(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function B(e,t,r,n,i){z(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function D(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(e,t,r,n,i){return t=+t,r>>>=0,i||D(e,0,r,4),o.write(e,t,r,n,23,4),r+4}function U(e,t,r,n,i){return t=+t,r>>>=0,i||D(e,0,r,8),o.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||T(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||T(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||T(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||T(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||T(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=Q((function(e){J(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||$(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),c.prototype.readBigUInt64BE=Q((function(e){J(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||$(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),c.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return e>>>=0,t||T(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||T(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){e>>>=0,t||T(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||T(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||T(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=Q((function(e){J(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||$(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=Q((function(e){J(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||$(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||T(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||T(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||T(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||T(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||N(this,e,t,r,Math.pow(2,8*r)-1,0);let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||N(this,e,t,r,Math.pow(2,8*r)-1,0);let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=Q((function(e,t=0){return I(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=Q((function(e,t=0){return B(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);N(this,e,t,r,n-1,-n)}let i=0,o=1,a=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);N(this,e,t,r,n-1,-n)}let i=r-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=Q((function(e,t=0){return I(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=Q((function(e,t=0){return B(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,r){return L(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return L(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return U(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return U(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},c.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{const o=c.isBuffer(e)?e:c.from(e,n),a=o.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%a]}return this};const q={};function W(e,t,r){q[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function F(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function z(e,t,r,n,i,o){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new q.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){J(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||$(t,e.length-(r+1))}(n,i,o)}function J(e,t){if("number"!=typeof e)throw new q.ERR_INVALID_ARG_TYPE(t,"number",e)}function $(e,t,r){if(Math.floor(e)!==e)throw J(e,r),new q.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new q.ERR_BUFFER_OUT_OF_BOUNDS;throw new q.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}W("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),W("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),W("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=F(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=F(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const H=/[^+/0-9A-Za-z-_]/g;function G(e,t){let r;t=t||1/0;const n=e.length;let i=null;const o=[];for(let a=0;a<n;++a){if(r=e.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function V(e){return i.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function K(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Y(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function X(e){return e!=e}const Z=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function Q(e){return"undefined"==typeof BigInt?ee:e}function ee(){throw new Error("BigInt not supported")}},2680:(e,t,r)=>{"use strict";var n=r(7286),i=r(9429),o=i(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&o(e,".prototype.")>-1?i(r):r}},9429:(e,t,r)=>{"use strict";var n=r(4090),i=r(7286),o=i("%Function.prototype.apply%"),a=i("%Function.prototype.call%"),s=i("%Reflect.apply%",!0)||n.call(a,o),u=i("%Object.getOwnPropertyDescriptor%",!0),c=i("%Object.defineProperty%",!0),l=i("%Math.max%");if(c)try{c({},"a",{value:1})}catch(e){c=null}e.exports=function(e){var t=s(n,a,arguments);if(u&&c){var r=u(t,"length");r.configurable&&c(t,"length",{value:1+l(0,e.length-(arguments.length-1))})}return t};var f=function(){return s(n,o,arguments)};c?c(e.exports,"apply",{value:f}):e.exports.apply=f},3716:(e,t,r)=>{var n=r(3335),i=r(5778);function o(){return(new Date).getTime()}var a,s=Array.prototype.slice,u={};a=void 0!==r.g&&r.g.console?r.g.console:"undefined"!=typeof window&&window.console?window.console:{};for(var c=[[function(){},"log"],[function(){a.log.apply(a,arguments)},"info"],[function(){a.log.apply(a,arguments)},"warn"],[function(){a.warn.apply(a,arguments)},"error"],[function(e){u[e]=o()},"time"],[function(e){var t=u[e];if(!t)throw new Error("No such label: "+e);delete u[e];var r=o()-t;a.log(e+": "+r+"ms")},"timeEnd"],[function(){var e=new Error;e.name="Trace",e.message=n.format.apply(null,arguments),a.error(e.stack)},"trace"],[function(e){a.log(n.inspect(e)+"\n")},"dir"],[function(e){if(!e){var t=s.call(arguments,1);i.ok(!1,n.format.apply(null,t))}},"assert"]],l=0;l<c.length;l++){var f=c[l],d=f[0],h=f[1];a[h]||(a[h]=d)}e.exports=a},7646:(e,t,r)=>{var n=r(8834).Buffer;function i(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===i(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===i(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===i(e)},t.isError=function(e){return"[object Error]"===i(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n.isBuffer},4924:(e,t,r)=>{"use strict";r.r(t),r.d(t,{BrowserInfo:()=>o,NodeInfo:()=>a,SearchBotDeviceInfo:()=>s,BotInfo:()=>u,ReactNativeInfo:()=>c,detect:()=>h,browserName:()=>g,parseUserAgent:()=>y,detectOS:()=>b,getNodeVersion:()=>m});var n=r(4406),i=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},o=function(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"},a=function(e){this.version=e,this.type="node",this.name="node",this.os=n.platform},s=function(e,t,r,n){this.name=e,this.version=t,this.os=r,this.bot=n,this.type="bot-device"},u=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},c=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},l=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,f=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],d=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function h(e){return e?y(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new c:"undefined"!=typeof navigator?y(navigator.userAgent):m()}function p(e){return""!==e&&f.reduce((function(t,r){var n=r[0],i=r[1];if(t)return t;var o=i.exec(e);return!!o&&[n,o]}),!1)}function g(e){var t=p(e);return t?t[0]:null}function y(e){var t=p(e);if(!t)return null;var r=t[0],n=t[1];if("searchbot"===r)return new u;var a=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);a?a.length<3&&(a=i(i([],a,!0),function(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}(3-a.length),!0)):a=[];var c=a.join("."),f=b(e),d=l.exec(e);return d&&d[1]?new s(r,c,f,d[1]):new o(r,c,f)}function b(e){for(var t=0,r=d.length;t<r;t++){var n=d[t],i=n[0];if(n[1].exec(e))return i}return null}function m(){return void 0!==n&&n.version?new a(n.version.slice(1)):null}},8797:(e,t,r)=>{var n=r(4406),i=r(9928),o=function(){},a=function(e,t,r){if("function"==typeof t)return a(e,null,t);t||(t={}),r=i(r||o);var s=e._writableState,u=e._readableState,c=t.readable||!1!==t.readable&&e.readable,l=t.writable||!1!==t.writable&&e.writable,f=!1,d=function(){e.writable||h()},h=function(){l=!1,c||r.call(e)},p=function(){c=!1,l||r.call(e)},g=function(t){r.call(e,t?new Error("exited with error code: "+t):null)},y=function(t){r.call(e,t)},b=function(){n.nextTick(m)},m=function(){if(!f)return(!c||u&&u.ended&&!u.destroyed)&&(!l||s&&s.ended&&!s.destroyed)?void 0:r.call(e,new Error("premature close"))},w=function(){e.req.on("finish",h)};return function(e){return e.setHeader&&"function"==typeof e.abort}(e)?(e.on("complete",h),e.on("abort",b),e.req?w():e.on("request",w)):l&&!s&&(e.on("end",d),e.on("close",d)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(e)&&e.on("exit",g),e.on("end",p),e.on("finish",h),!1!==t.error&&e.on("error",y),e.on("close",b),function(){f=!0,e.removeListener("complete",h),e.removeListener("abort",b),e.removeListener("request",w),e.req&&e.req.removeListener("finish",h),e.removeListener("end",d),e.removeListener("close",d),e.removeListener("finish",h),e.removeListener("exit",g),e.removeListener("end",p),e.removeListener("error",y),e.removeListener("close",b)}};e.exports=a},4723:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EthereumProviderError=t.EthereumRpcError=void 0;const n=r(7847);class i extends Error{constructor(e,t,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw new Error('"message" must be a nonempty string.');super(t),this.code=e,void 0!==r&&(this.data=r)}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return n.default(this.serialize(),o,2)}}function o(e,t){if("[Circular]"!==t)return t}t.EthereumRpcError=i,t.EthereumProviderError=class extends i{constructor(e,t,r){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,r)}}},4792:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorValues=t.errorCodes=void 0,t.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},t.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}},8159:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ethErrors=void 0;const n=r(4723),i=r(894),o=r(4792);function a(e,t){const[r,o]=u(t);return new n.EthereumRpcError(e,r||i.getMessageFromCode(e),o)}function s(e,t){const[r,o]=u(t);return new n.EthereumProviderError(e,r||i.getMessageFromCode(e),o)}function u(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&"string"!=typeof t)throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}t.ethErrors={rpc:{parse:e=>a(o.errorCodes.rpc.parse,e),invalidRequest:e=>a(o.errorCodes.rpc.invalidRequest,e),invalidParams:e=>a(o.errorCodes.rpc.invalidParams,e),methodNotFound:e=>a(o.errorCodes.rpc.methodNotFound,e),internal:e=>a(o.errorCodes.rpc.internal,e),server:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return a(t,e)},invalidInput:e=>a(o.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>a(o.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>a(o.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>a(o.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>a(o.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>a(o.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>s(o.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>s(o.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>s(o.errorCodes.provider.unsupportedMethod,e),disconnected:e=>s(o.errorCodes.provider.disconnected,e),chainDisconnected:e=>s(o.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:r,data:i}=e;if(!r||"string"!=typeof r)throw new Error('"message" must be a nonempty string');return new n.EthereumProviderError(t,r,i)}}}},8094:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const n=r(4723);Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return n.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return n.EthereumProviderError}});const i=r(894);Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return i.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return i.getMessageFromCode}});const o=r(8159);Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return o.ethErrors}});const a=r(4792);Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return a.errorCodes}})},894:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const n=r(4792),i=r(4723),o=n.errorCodes.rpc.internal,a={code:o,message:s(o)};function s(e,r="Unspecified error message. This is a bug, please report it."){if(Number.isInteger(e)){const r=e.toString();if(f(n.errorValues,r))return n.errorValues[r].message;if(c(e))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return r}function u(e){if(!Number.isInteger(e))return!1;const t=e.toString();return!!n.errorValues[t]||!!c(e)}function c(e){return e>=-32099&&e<=-32e3}function l(e){return e&&"object"==typeof e&&!Array.isArray(e)?Object.assign({},e):e}function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",t.getMessageFromCode=s,t.isValidCode=u,t.serializeError=function(e,{fallbackError:t=a,shouldIncludeStack:r=!1}={}){var n,o;if(!t||!Number.isInteger(t.code)||"string"!=typeof t.message)throw new Error("Must provide fallback error with integer number code and string message.");if(e instanceof i.EthereumRpcError)return e.serialize();const c={};if(e&&"object"==typeof e&&!Array.isArray(e)&&f(e,"code")&&u(e.code)){const t=e;c.code=t.code,t.message&&"string"==typeof t.message?(c.message=t.message,f(t,"data")&&(c.data=t.data)):(c.message=s(c.code),c.data={originalError:l(e)})}else{c.code=t.code;const r=null===(n=e)||void 0===n?void 0:n.message;c.message=r&&"string"==typeof r?r:t.message,c.data={originalError:l(e)}}const d=null===(o=e)||void 0===o?void 0:o.stack;return r&&e&&d&&"string"==typeof d&&(c.stack=d),c}},2699:(e,t,r)=>{"use strict";var n,i=r(3716),o="object"==typeof Reflect?Reflect:null,a=o&&"function"==typeof o.apply?o.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function u(){u.init.call(this)}e.exports=u,e.exports.once=function(e,t){return new Promise((function(r,n){function i(){void 0!==o&&e.removeListener("error",o),r([].slice.call(arguments))}var o;"error"!==t&&(o=function(r){e.removeListener(t,i),n(r)},e.once("error",o)),e.once(t,i)}))},u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var c=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function f(e){return void 0===e._maxListeners?u.defaultMaxListeners:e._maxListeners}function d(e,t,r,n){var o,a,s,u;if(l(r),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),s=a[t]),void 0===s)s=a[t]=r,++e._eventsCount;else if("function"==typeof s?s=a[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(o=f(e))>0&&s.length>o&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,u=c,i&&i.warn&&i.warn(u)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=h.bind(n);return i.listener=r,n.wrapFn=i,i}function g(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):b(i,i.length)}function y(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function b(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),u.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},u.prototype.getMaxListeners=function(){return f(this)},u.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)a(u,this,t);else{var c=u.length,l=b(u,c);for(r=0;r<c;++r)a(l[r],this,t)}return!0},u.prototype.addListener=function(e,t){return d(this,e,t,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(e,t){return d(this,e,t,!0)},u.prototype.once=function(e,t){return l(t),this.on(e,p(this,e,t)),this},u.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,p(this,e,t)),this},u.prototype.removeListener=function(e,t){var r,n,i,o,a;if(l(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},u.prototype.listeners=function(e){return g(this,e,!0)},u.prototype.rawListeners=function(e){return g(this,e,!1)},u.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):y.call(e,t)},u.prototype.listenerCount=y,u.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},3274:(e,t,r)=>{"use strict";var n=r(8834).Buffer;const i=r(4851);e.exports=class extends i.Duplex{constructor(e){super({objectMode:!0}),this._port=e,this._port.onMessage.addListener((e=>this._onMessage(e))),this._port.onDisconnect.addListener((()=>this._onDisconnect()))}_onMessage(e){if(n.isBuffer(e)){const t=n.from(e);this.push(t)}else this.push(e)}_onDisconnect(){this.destroy()}_read(){}_write(e,t,r){try{if(n.isBuffer(e)){const t=e.toJSON();t._isBuffer=!0,this._port.postMessage(t)}else this._port.postMessage(e)}catch(e){return r(new Error("PortDuplexStream - disconnected"))}return r()}}},7847:e=>{e.exports=n,n.default=n,n.stable=a,n.stableStringify=a;var t=[],r=[];function n(e,n,o){var a;for(i(e,"",[],void 0),a=0===r.length?JSON.stringify(e,n,o):JSON.stringify(e,u(n),o);0!==t.length;){var s=t.pop();4===s.length?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}return a}function i(e,n,o,a){var s;if("object"==typeof e&&null!==e){for(s=0;s<o.length;s++)if(o[s]===e){var u=Object.getOwnPropertyDescriptor(a,n);return void(void 0!==u.get?u.configurable?(Object.defineProperty(a,n,{value:"[Circular]"}),t.push([a,n,e,u])):r.push([e,n]):(a[n]="[Circular]",t.push([a,n,e])))}if(o.push(e),Array.isArray(e))for(s=0;s<e.length;s++)i(e[s],s,o,e);else{var c=Object.keys(e);for(s=0;s<c.length;s++){var l=c[s];i(e[l],l,o,e)}}o.pop()}}function o(e,t){return e<t?-1:e>t?1:0}function a(e,n,i){var o,a=s(e,"",[],void 0)||e;for(o=0===r.length?JSON.stringify(a,n,i):JSON.stringify(a,u(n),i);0!==t.length;){var c=t.pop();4===c.length?Object.defineProperty(c[0],c[1],c[3]):c[0][c[1]]=c[2]}return o}function s(e,n,i,a){var u;if("object"==typeof e&&null!==e){for(u=0;u<i.length;u++)if(i[u]===e){var c=Object.getOwnPropertyDescriptor(a,n);return void(void 0!==c.get?c.configurable?(Object.defineProperty(a,n,{value:"[Circular]"}),t.push([a,n,e,c])):r.push([e,n]):(a[n]="[Circular]",t.push([a,n,e])))}if("function"==typeof e.toJSON)return;if(i.push(e),Array.isArray(e))for(u=0;u<e.length;u++)s(e[u],u,i,e);else{var l={},f=Object.keys(e).sort(o);for(u=0;u<f.length;u++){var d=f[u];s(e[d],d,i,e),l[d]=e[d]}if(void 0===a)return l;t.push([a,n,e]),a[n]=l}i.pop()}}function u(e){return e=void 0!==e?e:function(e,t){return t},function(t,n){if(r.length>0)for(var i=0;i<r.length;i++){var o=r[i];if(o[1]===t&&o[0]===n){n="[Circular]",r.splice(i,1);break}}return e.call(this,t,n)}}},6388:e=>{var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString;e.exports=function(e,n,i){if("[object Function]"!==r.call(n))throw new TypeError("iterator must be a function");var o=e.length;if(o===+o)for(var a=0;a<o;a++)n.call(i,e[a],a,e);else for(var s in e)t.call(e,s)&&n.call(i,e[s],s,e)}},7795:e=>{"use strict";var t="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,n=Object.prototype.toString,i="[object Function]";e.exports=function(e){var o=this;if("function"!=typeof o||n.call(o)!==i)throw new TypeError(t+o);for(var a,s=r.call(arguments,1),u=function(){if(this instanceof a){var t=o.apply(this,s.concat(r.call(arguments)));return Object(t)===t?t:this}return o.apply(e,s.concat(r.call(arguments)))},c=Math.max(0,o.length-s.length),l=[],f=0;f<c;f++)l.push("$"+f);if(a=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(u),o.prototype){var d=function(){};d.prototype=o.prototype,a.prototype=new d,d.prototype=null}return a}},4090:(e,t,r)=>{"use strict";var n=r(7795);e.exports=Function.prototype.bind||n},7286:(e,t,r)=>{"use strict";var n,i=SyntaxError,o=Function,a=TypeError,s=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(e){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(e){u=null}var c=function(){throw new a},l=u?function(){try{return c}catch(e){try{return u(arguments,"callee").get}catch(e){return c}}}():c,f=r(4123)(),d=Object.getPrototypeOf||function(e){return e.__proto__},h={},p="undefined"==typeof Uint8Array?n:d(Uint8Array),g={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":f?d([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":h,"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":h,"%AsyncIteratorPrototype%":h,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":h,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f?d(d([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&f?d((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&f?d((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f?d(""[Symbol.iterator]()):n,"%Symbol%":f?Symbol:n,"%SyntaxError%":i,"%ThrowTypeError%":l,"%TypedArray%":p,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet},y=function e(t){var r;if("%AsyncFunction%"===t)r=s("async function () {}");else if("%GeneratorFunction%"===t)r=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=s("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(r=d(i.prototype))}return g[t]=r,r},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},m=r(4090),w=r(3198),v=m.call(Function.call,Array.prototype.concat),_=m.call(Function.apply,Array.prototype.splice),S=m.call(Function.call,String.prototype.replace),E=m.call(Function.call,String.prototype.slice),O=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,R=/\\(\\)?/g,M=function(e){var t=E(e,0,1),r=E(e,-1);if("%"===t&&"%"!==r)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var n=[];return S(e,O,(function(e,t,r,i){n[n.length]=r?S(i,R,"$1"):t||e})),n},j=function(e,t){var r,n=e;if(w(b,n)&&(n="%"+(r=b[n])[0]+"%"),w(g,n)){var o=g[n];if(o===h&&(o=y(n)),void 0===o&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new a('"allowMissing" argument must be a boolean');var r=M(e),n=r.length>0?r[0]:"",o=j("%"+n+"%",t),s=o.name,c=o.value,l=!1,f=o.alias;f&&(n=f[0],_(r,v([0,1],f)));for(var d=1,h=!0;d<r.length;d+=1){var p=r[d],y=E(p,0,1),b=E(p,-1);if(('"'===y||"'"===y||"`"===y||'"'===b||"'"===b||"`"===b)&&y!==b)throw new i("property names with quotes must have matching quotes");if("constructor"!==p&&h||(l=!0),w(g,s="%"+(n+="."+p)+"%"))c=g[s];else if(null!=c){if(!(p in c)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(u&&d+1>=r.length){var m=u(c,p);c=(h=!!m)&&"get"in m&&!("originalValue"in m.get)?m.get:c[p]}else h=w(c,p),c=c[p];h&&!l&&(g[s]=c)}}return c}},4123:(e,t,r)=>{"use strict";var n=r.g.Symbol,i=r(300);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&i()}},300:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},6679:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},7226:(e,t,r)=>{"use strict";var n=r(6679);e.exports=function(){return n()&&!!Symbol.toStringTag}},3198:(e,t,r)=>{"use strict";var n=r(4090);e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},2333:(e,t)=>{t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,f=r?i-1:0,d=r?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-l)-1,h>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=d,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+e[t+f],f+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),o-=c}return(h?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[r+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+h]=255&a,h+=p,a/=256,c-=8);e[r+h-p]|=128*g}},1285:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},2635:(e,t,r)=>{"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,i=r(2680)("Object.prototype.toString"),o=function(e){return!(n&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===i(e)},a=function(e){return!!o(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==i(e)&&"[object Function]"===i(e.callee)},s=function(){return o(arguments)}();o.isLegacyArguments=a,e.exports=s?o:a},3138:(e,t,r)=>{"use strict";var n,i=Object.prototype.toString,o=Function.prototype.toString,a=/^\s*(?:function)?\*/,s=r(7226)(),u=Object.getPrototypeOf;e.exports=function(e){if("function"!=typeof e)return!1;if(a.test(o.call(e)))return!0;if(!s)return"[object GeneratorFunction]"===i.call(e);if(!u)return!1;if(void 0===n){var t=function(){if(!s)return!1;try{return Function("return function*() {}")()}catch(e){}}();n=!!t&&u(t)}return u(e)===n}},8607:e=>{"use strict";const t=e=>null!==e&&"object"==typeof e&&"function"==typeof e.pipe;t.writable=e=>t(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState,t.readable=e=>t(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState,t.duplex=e=>t.writable(e)&&t.readable(e),t.transform=e=>t.duplex(e)&&"function"==typeof e._transform&&"object"==typeof e._transformState,e.exports=t},198:(e,t,r)=>{"use strict";var n=r(6388),i=r(2191),o=r(2680),a=o("Object.prototype.toString"),s=r(7226)(),u="undefined"==typeof globalThis?r.g:globalThis,c=i(),l=o("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},f=o("String.prototype.slice"),d={},h=r(7342),p=Object.getPrototypeOf;s&&h&&p&&n(c,(function(e){var t=new u[e];if(Symbol.toStringTag in t){var r=p(t),n=h(r,Symbol.toStringTag);if(!n){var i=p(r);n=h(i,Symbol.toStringTag)}d[e]=n.get}})),e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!s||!(Symbol.toStringTag in e)){var t=f(a(e),8,-1);return l(c,t)>-1}return!!h&&function(e){var t=!1;return n(d,(function(r,n){if(!t)try{t=r.call(e)===n}catch(e){}})),t}(e)}},7906:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},2539:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.JsonRpcEngine=void 0;const i=n(r(3795)),o=r(8094);class a extends i.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,t){if(t&&"function"!=typeof t)throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?t?this._handleBatch(e,t):this._handleBatch(e):t?this._handle(e,t):this._promiseHandle(e)}asMiddleware(){return async(e,t,r,n)=>{try{const[i,o,s]=await a._runAllMiddleware(e,t,this._middleware);return o?(await a._runReturnHandlers(s),n(i)):r((async e=>{try{await a._runReturnHandlers(s)}catch(t){return e(t)}return e()}))}catch(e){return n(e)}}}async _handleBatch(e,t){try{const r=await Promise.all(e.map(this._promiseHandle.bind(this)));return t?t(null,r):r}catch(e){if(t)return t(e);throw e}}_promiseHandle(e){return new Promise((t=>{this._handle(e,((e,r)=>{t(r)}))}))}async _handle(e,t){if(!e||Array.isArray(e)||"object"!=typeof e){const r=new o.EthereumRpcError(o.errorCodes.rpc.invalidRequest,"Requests must be plain objects. Received: "+typeof e,{request:e});return t(r,{id:void 0,jsonrpc:"2.0",error:r})}if("string"!=typeof e.method){const r=new o.EthereumRpcError(o.errorCodes.rpc.invalidRequest,"Must specify a string method. Received: "+typeof e.method,{request:e});return t(r,{id:e.id,jsonrpc:"2.0",error:r})}const r=Object.assign({},e),n={id:r.id,jsonrpc:r.jsonrpc};let i=null;try{await this._processRequest(r,n)}catch(e){i=e}return i&&(delete n.result,n.error||(n.error=o.serializeError(i))),t(i,n)}async _processRequest(e,t){const[r,n,i]=await a._runAllMiddleware(e,t,this._middleware);if(a._checkForCompletion(e,t,n),await a._runReturnHandlers(i),r)throw r}static async _runAllMiddleware(e,t,r){const n=[];let i=null,o=!1;for(const s of r)if([i,o]=await a._runMiddleware(e,t,s,n),o)break;return[i,o,n.reverse()]}static _runMiddleware(e,t,r,n){return new Promise((i=>{const a=e=>{const r=e||t.error;r&&(t.error=o.serializeError(r)),i([r,!0])},u=r=>{t.error?a(t.error):(r&&("function"!=typeof r&&a(new o.EthereumRpcError(o.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof r}" for request:\n${s(e)}`,{request:e})),n.push(r)),i([null,!1]))};try{r(e,t,u,a)}catch(e){a(e)}}))}static async _runReturnHandlers(e){for(const t of e)await new Promise(((e,r)=>{t((t=>t?r(t):e()))}))}static _checkForCompletion(e,t,r){if(!("result"in t)&&!("error"in t))throw new o.EthereumRpcError(o.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:\n${s(e)}`,{request:e});if(!r)throw new o.EthereumRpcError(o.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:\n${s(e)}`,{request:e})}}function s(e){return JSON.stringify(e,null,2)}t.JsonRpcEngine=a},7573:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAsyncMiddleware=void 0,t.createAsyncMiddleware=function(e){return async(t,r,n,i)=>{let o;const a=new Promise((e=>{o=e}));let s=null,u=!1;const c=async()=>{u=!0,n((e=>{s=e,o()})),await a};try{await e(t,r,c),u?(await a,s(null)):i(null)}catch(e){s?s(e):i(e)}}}},9141:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createScaffoldMiddleware=void 0,t.createScaffoldMiddleware=function(e){return(t,r,n,i)=>{const o=e[t.method];return void 0===o?n():"function"==typeof o?o(t,r,n,i):(r.result=o,i())}}},5104:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUniqueId=void 0;const r=4294967295;let n=Math.floor(Math.random()*r);t.getUniqueId=function(){return n=(n+1)%r,n}},169:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createIdRemapMiddleware=void 0;const n=r(5104);t.createIdRemapMiddleware=function(){return(e,t,r,i)=>{const o=e.id,a=n.getUniqueId();e.id=a,t.id=a,r((r=>{e.id=o,t.id=o,r()}))}}},1280:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(169),t),i(r(7573),t),i(r(9141),t),i(r(5104),t),i(r(2539),t),i(r(1759),t)},1759:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeMiddleware=void 0;const n=r(2539);t.mergeMiddleware=function(e){const t=new n.JsonRpcEngine;return e.forEach((e=>t.push(e))),t.asMiddleware()}},2408:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(7525);t.default=function(e){if(!e||!e.engine)throw new Error("Missing engine parameter!");const{engine:t}=e,r=new n.Duplex({objectMode:!0,read:function(){},write:function(e,n,i){t.handle(e,((e,t)=>{r.push(t)})),i()}});return t.on&&t.on("notification",(e=>{r.push(e)})),r}},3603:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(3795)),o=r(7525);t.default=function(){const e={},t=new o.Duplex({objectMode:!0,read:function(){return!1},write:function(t,n,i){let o;try{t.id?function(t){const r=e[t.id];if(!r)throw new Error(`StreamMiddleware - Unknown response id "${t.id}"`);delete e[t.id],Object.assign(r.res,t),setTimeout(r.end)}(t):function(e){r.emit("notification",e)}(t)}catch(e){o=e}i(o)}}),r=new i.default;return{events:r,middleware:(r,n,i,o)=>{t.push(r),e[r.id]={req:r,res:n,next:i,end:o}},stream:t}}},1384:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createStreamMiddleware=t.createEngineStream=void 0;const i=n(r(2408));t.createEngineStream=i.default;const o=n(r(3603));t.createStreamMiddleware=o.default},7320:e=>{"use strict";var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var a,s,u=i(e),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))r.call(a,l)&&(u[l]=a[l]);if(t){s=t(a);for(var f=0;f<s.length;f++)n.call(a,s[f])&&(u[s[f]]=a[s[f]])}}return u}},9928:(e,t,r)=>{var n=r(8892);function i(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}e.exports=n(i),e.exports.strict=n(o),i.proto=i((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})}))},2884:(e,t,r)=>{"use strict";var n=r(4406);void 0===n||!n.version||0===n.version.indexOf("v0.")||0===n.version.indexOf("v1.")&&0!==n.version.indexOf("v1.8.")?e.exports={nextTick:function(e,t,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return n.nextTick(e);case 2:return n.nextTick((function(){e.call(null,t)}));case 3:return n.nextTick((function(){e.call(null,t,r)}));case 4:return n.nextTick((function(){e.call(null,t,r,i)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return n.nextTick((function(){e.apply(null,o)}))}}}:e.exports=n},4406:e=>{var t,r,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var s,u=[],c=!1,l=-1;function f(){c&&s&&(c=!1,s.length?u=s.concat(u):l=-1,u.length&&d())}function d(){if(!c){var e=a(f);c=!0;for(var t=u.length;t;){for(s=u,u=[];++l<t;)s&&s[l].run();l=-1,t=u.length}s=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new h(e,t)),1!==u.length||c||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},3171:(e,t,r)=>{var n=r(4406),i=r(9928),o=r(8797),a=r(3558),s=function(){},u=/^v?\.0/.test(n.version),c=function(e){return"function"==typeof e},l=function(e,t,r,n){n=i(n);var l=!1;e.on("close",(function(){l=!0})),o(e,{readable:t,writable:r},(function(e){if(e)return n(e);l=!0,n()}));var f=!1;return function(t){if(!l&&!f)return f=!0,function(e){return!!u&&!!a&&(e instanceof(a.ReadStream||s)||e instanceof(a.WriteStream||s))&&c(e.close)}(e)?e.close(s):function(e){return e.setHeader&&c(e.abort)}(e)?e.abort():c(e.destroy)?e.destroy():void n(t||new Error("stream was destroyed"))}},f=function(e){e()},d=function(e,t){return e.pipe(t)};e.exports=function(){var e,t=Array.prototype.slice.call(arguments),r=c(t[t.length-1]||s)&&t.pop()||s;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var n=t.map((function(i,o){var a=o<t.length-1;return l(i,a,o>0,(function(t){e||(e=t),t&&n.forEach(f),a||(n.forEach(f),r(e))}))}));return t.reduce(d)}},7073:(e,t,r)=>{"use strict";var n=r(2884),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=f;var o=Object.create(r(7646));o.inherits=r(1285);var a=r(8051),s=r(2557);o.inherits(f,a);for(var u=i(s.prototype),c=0;c<u.length;c++){var l=u[c];f.prototype[l]||(f.prototype[l]=s.prototype[l])}function f(e){if(!(this instanceof f))return new f(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||n.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},5163:(e,t,r)=>{"use strict";e.exports=o;var n=r(7640),i=Object.create(r(7646));function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}i.inherits=r(1285),i.inherits(o,n),o.prototype._transform=function(e,t,r){r(null,e)}},8051:(e,t,r)=>{"use strict";var n=r(4406),i=r(2884);e.exports=w;var o,a=r(7906);w.ReadableState=m,r(2699).EventEmitter;var s=function(e,t){return e.listeners(t).length},u=r(5010),c=r(2521).Buffer,l=r.g.Uint8Array||function(){},f=Object.create(r(7646));f.inherits=r(1285);var d=r(6602),h=void 0;h=d&&d.debuglog?d.debuglog("stream"):function(){};var p,g=r(9128),y=r(2262);f.inherits(w,u);var b=["error","close","destroy","pause","resume"];function m(e,t){e=e||{};var n=t instanceof(o=o||r(7073));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=r(1922).s),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function w(e){if(o=o||r(7073),!(this instanceof w))return new w(e);this._readableState=new m(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function v(e,t,r,n,i){var o,a=e._readableState;return null===t?(a.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,O(e)}}(e,a)):(i||(o=function(e,t){var r,n;return n=t,c.isBuffer(n)||n instanceof l||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),n?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):_(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?_(e,a,t,!1):M(e,a)):_(e,a,t,!1))):n||(a.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function _(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&O(e)),M(e,t)}Object.defineProperty(w.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),w.prototype.destroy=y.destroy,w.prototype._undestroy=y.undestroy,w.prototype._destroy=function(e,t){this.push(null),t(e)},w.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),r=!0),v(this,e,t,!1,r)},w.prototype.unshift=function(e){return v(this,e,null,!0,!1)},w.prototype.isPaused=function(){return!1===this._readableState.flowing},w.prototype.setEncoding=function(e){return p||(p=r(1922).s),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var S=8388608;function E(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=S?e=S:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function O(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(R,e):R(e))}function R(e){h("emit readable"),e.emit("readable"),A(e)}function M(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(j,e,t))}function j(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function P(e){h("readable nexttick read 0"),e.read(0)}function k(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),A(e),t.flowing&&!t.reading&&e.read(0)}function A(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function x(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0==(e-=a)){a===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=c.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,a),0==(e-=a)){a===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++i}return t.length-=i,r}(e,t),n}(e,t.buffer,t.decoder),r);var r}function C(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(T,t,e))}function T(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function N(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}w.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?C(this):O(this),null;if(0===(e=E(e,t))&&t.ended)return 0===t.length&&C(this),null;var n,i=t.needReadable;return h("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",i=!0),t.ended||t.reading?h("reading or ended",i=!1):i&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=E(r,t))),null===(n=e>0?x(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&C(this)),null!==n&&this.emit("data",n),n},w.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},w.prototype.pipe=function(e,t){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,h("pipe count=%d opts=%j",o.pipesCount,t);var u=t&&!1===t.end||e===n.stdout||e===n.stderr?m:c;function c(){h("onend"),e.end()}o.endEmitted?i.nextTick(u):r.once("end",u),e.on("unpipe",(function t(n,i){h("onunpipe"),n===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,h("cleanup"),e.removeListener("close",y),e.removeListener("finish",b),e.removeListener("drain",l),e.removeListener("error",g),e.removeListener("unpipe",t),r.removeListener("end",c),r.removeListener("end",m),r.removeListener("data",p),f=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}));var l=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,A(e))}}(r);e.on("drain",l);var f=!1,d=!1;function p(t){h("ondata"),d=!1,!1!==e.write(t)||d||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==N(o.pipes,e))&&!f&&(h("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,d=!0),r.pause())}function g(t){h("onerror",t),m(),e.removeListener("error",g),0===s(e,"error")&&e.emit("error",t)}function y(){e.removeListener("finish",b),m()}function b(){h("onfinish"),e.removeListener("close",y),m()}function m(){h("unpipe"),r.unpipe(e)}return r.on("data",p),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events.error?a(e._events.error)?e._events.error.unshift(r):e._events.error=[r,e._events.error]:e.on(t,r)}(e,"error",g),e.once("close",y),e.once("finish",b),e.emit("pipe",r),o.flowing||(h("pipe resume"),r.resume()),e},w.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var a=N(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},w.prototype.on=function(e,t){var r=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&O(this):i.nextTick(P,this))}return r},w.prototype.addListener=w.prototype.on,w.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(k,e,t))}(this,e)),this},w.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},w.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(h("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){h("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<b.length;o++)e.on(b[o],this.emit.bind(this,b[o]));return this._read=function(t){h("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(w.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),w._fromList=x},7640:(e,t,r)=>{"use strict";e.exports=a;var n=r(7073),i=Object.create(r(7646));function o(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);n.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush((function(t,r){u(e,t,r)})):u(this,null,null)}function u(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=r(1285),i.inherits(a,n),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,(function(e){t(e),r.emit("close")}))}},2557:(e,t,r)=>{"use strict";var n=r(4406),i=r(2884);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=b;var a,s=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?setImmediate:i.nextTick;b.WritableState=y;var u=Object.create(r(7646));u.inherits=r(1285);var c,l={deprecate:r(5803)},f=r(5010),d=r(2521).Buffer,h=r.g.Uint8Array||function(){},p=r(2262);function g(){}function y(e,t){a=a||r(7073),e=e||{};var n=t instanceof a;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var u=e.highWaterMark,c=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=u||0===u?u:n&&(c||0===c)?c:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===e.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,o){--t.pendingcb,r?(i.nextTick(o,n),i.nextTick(E,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(o(n),e._writableState.errorEmitted=!0,e.emit("error",n),E(e,t))}(e,r,n,t,o);else{var a=_(r);a||r.corked||r.bufferProcessing||!r.bufferedRequest||v(e,r),n?s(w,e,r,a,o):w(e,r,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function b(e){if(a=a||r(7073),!(c.call(b,this)||this instanceof a))return new b(e);this._writableState=new y(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),f.call(this)}function m(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function w(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),E(e,t)}function v(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),a=t.corkedRequestsFree;a.entry=r;for(var s=0,u=!0;r;)i[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;i.allBuffers=u,m(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,f=r.callback;if(m(e,t,!1,t.objectMode?1:c.length,c,l,f),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function _(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),E(e,t)}))}function E(e,t){var r=_(t);return r&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,i.nextTick(S,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}u.inherits(b,f),y.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(y.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===b&&e&&e._writableState instanceof y}})):c=function(e){return e instanceof this},b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},b.prototype.write=function(e,t,r){var n,o=this._writableState,a=!1,s=!o.objectMode&&(n=e,d.isBuffer(n)||n instanceof h);return s&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=g),o.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),i.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var o=!0,a=!1;return null===r?a=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),i.nextTick(n,a),o=!1),o}(this,o,e,r))&&(o.pendingcb++,a=function(e,t,r,n,i,o){if(!r){var a=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,r)),t}(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,s,n,i,o);return u}(this,o,s,e,t,r)),a},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||v(this,e))},b.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),b.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,E(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),b.prototype.destroy=p.destroy,b.prototype._undestroy=p.undestroy,b.prototype._destroy=function(e,t){this.end(),t(e)}},9128:(e,t,r)=>{"use strict";var n=r(2521).Buffer,i=r(4854);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,i=n.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=i,r=a,o.data.copy(t,r),a+=o.data.length,o=o.next;return i},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},2262:(e,t,r)=>{"use strict";var n=r(2884);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(n.nextTick(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},5010:(e,t,r)=>{e.exports=r(2699).EventEmitter},2521:(e,t,r)=>{var n=r(8834),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},1922:(e,t,r)=>{"use strict";var n=r(2521).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},7525:(e,t,r)=>{(t=e.exports=r(8051)).Stream=t,t.Readable=t,t.Writable=r(2557),t.Duplex=r(7073),t.Transform=r(7640),t.PassThrough=r(5163)},7834:(e,t,r)=>{var n=r(8834),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},4851:(e,t,r)=>{e.exports=i;var n=r(2699).EventEmitter;function i(){n.call(this)}r(1285)(i,n),i.Readable=r(3323),i.Writable=r(8234),i.Duplex=r(5929),i.Transform=r(9535),i.PassThrough=r(7706),i.finished=r(2529),i.pipeline=r(9125),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(r.on("end",s),r.on("close",u));var a=!1;function s(){a||(a=!0,e.end())}function u(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(l(),0===n.listenerCount(this,"error"))throw e}function l(){r.removeListener("data",i),e.removeListener("drain",o),r.removeListener("end",s),r.removeListener("close",u),r.removeListener("error",c),e.removeListener("error",c),r.removeListener("end",l),r.removeListener("close",l),e.removeListener("close",l)}return r.on("error",c),e.on("error",c),r.on("end",l),r.on("close",l),e.on("close",l),e.emit("pipe",r),e}},9150:e=>{"use strict";var t={};function r(e,r,n){n||(n=Error);var i=function(e){var t,n;function i(t,n,i){return e.call(this,function(e,t,n){return"string"==typeof r?r:r(e,t,n)}(t,n,i))||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(n);i.prototype.name=n.name,i.prototype.code=e,t[e]=i}function n(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){var i,o,a,s,u;if("string"==typeof t&&(o="not ",t.substr(0,o.length)===o)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))a="The ".concat(e," ").concat(i," ").concat(n(t,"type"));else{var c=("number"!=typeof u&&(u=0),u+".".length>(s=e).length||-1===s.indexOf(".",u)?"argument":"property");a='The "'.concat(e,'" ').concat(c," ").concat(i," ").concat(n(t,"type"))}return a+". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},5929:(e,t,r)=>{"use strict";var n=r(4406),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=l;var o=r(3323),a=r(8234);r(1285)(l,o);for(var s=i(a.prototype),u=0;u<s.length;u++){var c=s[u];l.prototype[c]||(l.prototype[c]=a.prototype[c])}function l(e){if(!(this instanceof l))return new l(e);o.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||n.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},7706:(e,t,r)=>{"use strict";e.exports=i;var n=r(9535);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(1285)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},3323:(e,t,r)=>{"use strict";var n,i=r(4406);e.exports=R,R.ReadableState=O,r(2699).EventEmitter;var o,a=function(e,t){return e.listeners(t).length},s=r(4811),u=r(8834).Buffer,c=r.g.Uint8Array||function(){},l=r(9255);o=l&&l.debuglog?l.debuglog("stream"):function(){};var f,d,h,p=r(3413),g=r(163),y=r(4774).getHighWaterMark,b=r(9150).q,m=b.ERR_INVALID_ARG_TYPE,w=b.ERR_STREAM_PUSH_AFTER_EOF,v=b.ERR_METHOD_NOT_IMPLEMENTED,_=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(1285)(R,s);var S=g.errorOrDestroy,E=["error","close","destroy","pause","resume"];function O(e,t,i){n=n||r(5929),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=y(this,e,"readableHighWaterMark",i),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=r(214).s),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function R(e){if(n=n||r(5929),!(this instanceof R))return new R(e);var t=this instanceof n;this._readableState=new O(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function M(e,t,r,n,i){o("readableAddChunk",t);var a,s=e._readableState;if(null===t)s.reading=!1,function(e,t){if(o("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?A(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,x(e)))}}(e,s);else if(i||(a=function(e,t){var r,n;return n=t,u.isBuffer(n)||n instanceof c||"string"==typeof t||void 0===t||e.objectMode||(r=new m("chunk",["string","Buffer","Uint8Array"],t)),r}(s,t)),a)S(e,a);else if(s.objectMode||t&&t.length>0)if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),n)s.endEmitted?S(e,new _):j(e,s,t,!0);else if(s.ended)S(e,new w);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?j(e,s,t,!1):C(e,s)):j(e,s,t,!1)}else n||(s.reading=!1,C(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function j(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&A(e)),C(e,t)}Object.defineProperty(R.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),R.prototype.destroy=g.destroy,R.prototype._undestroy=g.undestroy,R.prototype._destroy=function(e,t){t(e)},R.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=u.from(e,t),t=""),r=!0),M(this,e,t,!1,r)},R.prototype.unshift=function(e){return M(this,e,null,!0,!1)},R.prototype.isPaused=function(){return!1===this._readableState.flowing},R.prototype.setEncoding=function(e){f||(f=r(214).s);var t=new f(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var P=1073741824;function k(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=P?e=P:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function A(e){var t=e._readableState;o("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(o("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(x,e))}function x(e){var t=e._readableState;o("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,D(e)}function C(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(T,e,t))}function T(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(o("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function N(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function I(e){o("readable nexttick read 0"),e.read(0)}function B(e,t){o("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),D(e),t.flowing&&!t.reading&&e.read(0)}function D(e){var t=e._readableState;for(o("flow",t.flowing);t.flowing&&null!==e.read(););}function L(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function U(e){var t=e._readableState;o("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(q,t,e))}function q(e,t){if(o("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function W(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}R.prototype.read=function(e){o("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return o("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?U(this):A(this),null;if(0===(e=k(e,t))&&t.ended)return 0===t.length&&U(this),null;var n,i=t.needReadable;return o("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&o("length less than watermark",i=!0),t.ended||t.reading?o("reading or ended",i=!1):i&&(o("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=k(r,t))),null===(n=e>0?L(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&U(this)),null!==n&&this.emit("data",n),n},R.prototype._read=function(e){S(this,new v("_read()"))},R.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,o("pipe count=%d opts=%j",n.pipesCount,t);var s=t&&!1===t.end||e===i.stdout||e===i.stderr?g:u;function u(){o("onend"),e.end()}n.endEmitted?i.nextTick(s):r.once("end",s),e.on("unpipe",(function t(i,a){o("onunpipe"),i===r&&a&&!1===a.hasUnpiped&&(a.hasUnpiped=!0,o("cleanup"),e.removeListener("close",h),e.removeListener("finish",p),e.removeListener("drain",c),e.removeListener("error",d),e.removeListener("unpipe",t),r.removeListener("end",u),r.removeListener("end",g),r.removeListener("data",f),l=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}));var c=function(e){return function(){var t=e._readableState;o("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,D(e))}}(r);e.on("drain",c);var l=!1;function f(t){o("ondata");var i=e.write(t);o("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==W(n.pipes,e))&&!l&&(o("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function d(t){o("onerror",t),g(),e.removeListener("error",d),0===a(e,"error")&&S(e,t)}function h(){e.removeListener("finish",p),g()}function p(){o("onfinish"),e.removeListener("close",h),g()}function g(){o("unpipe"),r.unpipe(e)}return r.on("data",f),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events.error?Array.isArray(e._events.error)?e._events.error.unshift(r):e._events.error=[r,e._events.error]:e.on(t,r)}(e,"error",d),e.once("close",h),e.once("finish",p),e.emit("pipe",r),n.flowing||(o("pipe resume"),r.resume()),e},R.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=W(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},R.prototype.on=function(e,t){var r=s.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,o("on readable",n.length,n.reading),n.length?A(this):n.reading||i.nextTick(I,this))),r},R.prototype.addListener=R.prototype.on,R.prototype.removeListener=function(e,t){var r=s.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(N,this),r},R.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||i.nextTick(N,this),t},R.prototype.resume=function(){var e=this._readableState;return e.flowing||(o("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(B,e,t))}(this,e)),e.paused=!1,this},R.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},R.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(o("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){o("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<E.length;a++)e.on(E[a],this.emit.bind(this,E[a]));return this._read=function(t){o("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(R.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=r(4020)),d(this)}),Object.defineProperty(R.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(R.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(R.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),R._fromList=L,Object.defineProperty(R.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(R.from=function(e,t){return void 0===h&&(h=r(7324)),h(R,e,t)})},9535:(e,t,r)=>{"use strict";e.exports=l;var n=r(9150).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,a=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=n.ERR_TRANSFORM_WITH_LENGTH_0,u=r(5929);function c(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);u.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,r){d(e,t,r)}))}function d(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}r(1285)(l,u),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new i("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))}},8234:(e,t,r)=>{"use strict";var n,i=r(4406);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=R,R.WritableState=O;var a,s={deprecate:r(5803)},u=r(4811),c=r(8834).Buffer,l=r.g.Uint8Array||function(){},f=r(163),d=r(4774).getHighWaterMark,h=r(9150).q,p=h.ERR_INVALID_ARG_TYPE,g=h.ERR_METHOD_NOT_IMPLEMENTED,y=h.ERR_MULTIPLE_CALLBACK,b=h.ERR_STREAM_CANNOT_PIPE,m=h.ERR_STREAM_DESTROYED,w=h.ERR_STREAM_NULL_VALUES,v=h.ERR_STREAM_WRITE_AFTER_END,_=h.ERR_UNKNOWN_ENCODING,S=f.errorOrDestroy;function E(){}function O(e,t,a){n=n||r(5929),e=e||{},"boolean"!=typeof a&&(a=t instanceof n),this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if("function"!=typeof o)throw new y;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,o){--t.pendingcb,r?(i.nextTick(o,n),i.nextTick(x,e,t),e._writableState.errorEmitted=!0,S(e,n)):(o(n),e._writableState.errorEmitted=!0,S(e,n),x(e,t))}(e,r,n,t,o);else{var a=k(r)||e.destroyed;a||r.corked||r.bufferProcessing||!r.bufferedRequest||P(e,r),n?i.nextTick(j,e,r,a,o):j(e,r,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function R(e){var t=this instanceof(n=n||r(5929));if(!t&&!a.call(R,this))return new R(e);this._writableState=new O(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),u.call(this)}function M(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new m("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function j(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),x(e,t)}function P(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),a=t.corkedRequestsFree;a.entry=r;for(var s=0,u=!0;r;)i[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;i.allBuffers=u,M(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,f=r.callback;if(M(e,t,!1,t.objectMode?1:c.length,c,l,f),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function k(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function A(e,t){e._final((function(r){t.pendingcb--,r&&S(e,r),t.prefinished=!0,e.emit("prefinish"),x(e,t)}))}function x(e,t){var r=k(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,i.nextTick(A,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r(1285)(R,u),O.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(O.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(a=Function.prototype[Symbol.hasInstance],Object.defineProperty(R,Symbol.hasInstance,{value:function(e){return!!a.call(this,e)||this===R&&e&&e._writableState instanceof O}})):a=function(e){return e instanceof this},R.prototype.pipe=function(){S(this,new b)},R.prototype.write=function(e,t,r){var n,o=this._writableState,a=!1,s=!o.objectMode&&(n=e,c.isBuffer(n)||n instanceof l);return s&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=E),o.ending?function(e,t){var r=new v;S(e,r),i.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var o;return null===r?o=new w:"string"==typeof r||t.objectMode||(o=new p("chunk",["string","Buffer"],r)),!o||(S(e,o),i.nextTick(n,o),!1)}(this,o,e,r))&&(o.pendingcb++,a=function(e,t,r,n,i,o){if(!r){var a=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,r)),t}(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else M(e,t,!1,s,n,i,o);return u}(this,o,s,e,t,r)),a},R.prototype.cork=function(){this._writableState.corked++},R.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||P(this,e))},R.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new _(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(R.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(R.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),R.prototype._write=function(e,t,r){r(new g("_write()"))},R.prototype._writev=null,R.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,x(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(R.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(R.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),R.prototype.destroy=f.destroy,R.prototype._undestroy=f.undestroy,R.prototype._destroy=function(e,t){t(e)}},4020:(e,t,r)=>{"use strict";var n,i=r(4406);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(2529),s=Symbol("lastResolve"),u=Symbol("lastReject"),c=Symbol("error"),l=Symbol("ended"),f=Symbol("lastPromise"),d=Symbol("handlePromise"),h=Symbol("stream");function p(e,t){return{value:e,done:t}}function g(e){var t=e[s];if(null!==t){var r=e[h].read();null!==r&&(e[f]=null,e[s]=null,e[u]=null,t(p(r,!1)))}}function y(e){i.nextTick(g,e)}var b=Object.getPrototypeOf((function(){})),m=Object.setPrototypeOf((o(n={get stream(){return this[h]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[l])return Promise.resolve(p(void 0,!0));if(this[h].destroyed)return new Promise((function(t,r){i.nextTick((function(){e[c]?r(e[c]):t(p(void 0,!0))}))}));var r,n=this[f];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[l]?r(p(void 0,!0)):t[d](r,n)}),n)}}(n,this));else{var o=this[h].read();if(null!==o)return Promise.resolve(p(o,!1));r=new Promise(this[d])}return this[f]=r,r}},Symbol.asyncIterator,(function(){return this})),o(n,"return",(function(){var e=this;return new Promise((function(t,r){e[h].destroy(null,(function(e){e?r(e):t(p(void 0,!0))}))}))})),n),b);e.exports=function(e){var t,r=Object.create(m,(o(t={},h,{value:e,writable:!0}),o(t,s,{value:null,writable:!0}),o(t,u,{value:null,writable:!0}),o(t,c,{value:null,writable:!0}),o(t,l,{value:e._readableState.endEmitted,writable:!0}),o(t,d,{value:function(e,t){var n=r[h].read();n?(r[f]=null,r[s]=null,r[u]=null,e(p(n,!1))):(r[s]=e,r[u]=t)},writable:!0}),t));return r[f]=null,a(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[u];return null!==t&&(r[f]=null,r[s]=null,r[u]=null,t(e)),void(r[c]=e)}var n=r[s];null!==n&&(r[f]=null,r[s]=null,r[u]=null,n(p(void 0,!0))),r[l]=!0})),e.on("readable",y.bind(null,r)),r}},3413:(e,t,r)=>{"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=r(8834).Buffer,s=r(7267).inspect,u=s&&s.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r;return t=e,r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t,r,n,i=a.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,r=i,n=s,a.prototype.copy.call(t,r,n),s+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:u,value:function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],r&&o(t.prototype,r),e}()},163:(e,t,r)=>{"use strict";var n=r(4406);function i(e,t){a(e,t),o(e)}function o(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function a(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,s=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return s||u?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(a,this,e)):n.nextTick(a,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?n.nextTick(o,r):(r._writableState.errorEmitted=!0,n.nextTick(i,r,e)):n.nextTick(i,r,e):t?(n.nextTick(o,r),t(e)):n.nextTick(o,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},2529:(e,t,r)=>{"use strict";var n=r(9150).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var a=r.readable||!1!==r.readable&&t.readable,s=r.writable||!1!==r.writable&&t.writable,u=function(){t.writable||l()},c=t._writableState&&t._writableState.finished,l=function(){s=!1,c=!0,a||o.call(t)},f=t._readableState&&t._readableState.endEmitted,d=function(){a=!1,f=!0,s||o.call(t)},h=function(e){o.call(t,e)},p=function(){var e;return a&&!f?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):s&&!c?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},g=function(){t.req.on("finish",l)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",l),t.on("abort",p),t.req?g():t.on("request",g)):s&&!t._writableState&&(t.on("end",u),t.on("close",u)),t.on("end",d),t.on("finish",l),!1!==r.error&&t.on("error",h),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",g),t.req&&t.req.removeListener("finish",l),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",l),t.removeListener("end",d),t.removeListener("error",h),t.removeListener("close",p)}}},7324:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},9125:(e,t,r)=>{"use strict";var n,i=r(9150).q,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function u(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var s=!1;e.on("close",(function(){s=!0})),void 0===n&&(n=r(2529)),n(e,{readable:t,writable:i},(function(e){if(e)return o(e);s=!0,o()}));var u=!1;return function(t){if(!s&&!u)return u=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new a("pipe"))}}function c(e){e()}function l(e,t){return e.pipe(t)}function f(e){return e.length?"function"!=typeof e[e.length-1]?s:e.pop():s}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=f(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var a=t.map((function(e,r){var o=r<t.length-1;return u(e,o,r>0,(function(e){n||(n=e),e&&a.forEach(c),o||(a.forEach(c),i(n))}))}));return t.reduce(l)}},4774:(e,t,r)=>{"use strict";var n=r(9150).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},4811:(e,t,r)=>{e.exports=r(2699).EventEmitter},214:(e,t,r)=>{"use strict";var n=r(7834).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},4221:(e,t)=>{"use strict";function r(e,t){return"string"==typeof e}function n(e,t){return"2.0"===e}function i(e,t){return"number"==typeof e}function o(e,t){return Array.isArray(e)&&e.every((e=>!0))}function a(e,t){return(null!==e&&"object"==typeof e||"function"==typeof e)&&Object.entries(e).every((([e,t])=>r(e)))}Object.defineProperty(t,"__esModule",{value:!0}),t.isSnapRpc=t.isExecuteSnap=t.isPing=t.isAnyOfSnapNameSourceCodeEndowmentsTargetOriginJsonRpcRequestOKOKSnapRpcResult=t.isSnapRpcResult=t.isOK=t.isJsonRpcRequest=t.isOrigin=t.isTarget=t.isEndowments=t.isSourceCode=t.isSnapName=t.isJSONRPCParams=t.isJSONRPCParamsAsObject=t.isJSONRPCParamsAsArray=t.isJSONRPCMethod=t.isJSONRPCID=t.isNumberHo1ClIqD=t.isStringDoaGddGA=t.isJSONRPCString=t.isEndowment=void 0,t.isEndowment=r,t.isJSONRPCString=n,t.isStringDoaGddGA=function(e,t){return"string"==typeof e},t.isNumberHo1ClIqD=i,t.isJSONRPCID=function(e,t){return r(e)||i(e)},t.isJSONRPCMethod=function(e,t){return"string"==typeof e},t.isJSONRPCParamsAsArray=o,t.isJSONRPCParamsAsObject=a,t.isJSONRPCParams=function(e,t){return o(e)||a(e)},t.isSnapName=function(e,t){return"string"==typeof e},t.isSourceCode=function(e,t){return"string"==typeof e},t.isEndowments=function(e,t){return Array.isArray(e)&&e.every((e=>r(e)))},t.isTarget=function(e,t){return"string"==typeof e},t.isOrigin=function(e,t){return"string"==typeof e},t.isJsonRpcRequest=function(e,t){return(null!==e&&"object"==typeof e||"function"==typeof e)&&n(e.jsonrpc)&&(void 0===e.id||r(e.id)||i(e.id))&&r(e.method)&&(void 0===e.params||o(e.params)||a(e.params))&&Object.entries(e).filter((([e])=>!["jsonrpc","id","method","params"].includes(e))).every((([e,t])=>r(e)))},t.isOK=function(e,t){return"OK"===e},t.isSnapRpcResult=function(e,t){return!0},t.isAnyOfSnapNameSourceCodeEndowmentsTargetOriginJsonRpcRequestOKOKSnapRpcResult=function(e,t){return!0},t.isPing=function(e,t){return"function"==typeof e},t.isExecuteSnap=function(e,t){return"function"==typeof e},t.isSnapRpc=function(e,t){return"function"==typeof e}},132:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseSnapExecutor=void 0;const o=r(2972),a=r(9826),s=i(r(201)),u=r(4221),c=r(5930),l=r(2931),f=r(6455),d=r(6435),h={code:a.errorCodes.rpc.internal,message:"Execution Environment Error"};t.BaseSnapExecutor=class{constructor(e,t){this.snapRpcHandlers=new Map,this.commandStream=e,this.commandStream.on("data",this.onCommandRequest.bind(this)),this.rpcStream=t,this.methods=c.rpcMethods(this.startSnap.bind(this),((e,t,r)=>{const n=this.snapRpcHandlers.get(e);if(!n)throw new Error(`No RPC handler registered for snap "${e}`);return n(t,r)}))}errorHandler(e,t={}){const r=a.serializeError(e,{fallbackError:h,shouldIncludeStack:!0});this.notify({error:Object.assign(Object.assign({},r),{data:Object.assign(Object.assign({},t),{stack:r.stack})})})}async onCommandRequest(e){if(!u.isJsonRpcRequest(e))throw new Error("Command stream received a non Json Rpc Request");const{id:t,method:r,params:n}=e;if(void 0===t)throw new Error("Notifications not supported");if("rpc.discover"===r)return void this.respond(t,{result:s.default});const i=s.default.methods.find((e=>e.name===r));if(!i||!this.methods[r])return void this.respond(t,{error:a.ethErrors.rpc.methodNotFound({data:{method:r}}).serialize()});const o=l.sortParamKeys(i,n);try{const e=await this.methods[r](...o);this.respond(t,{result:e})}catch(e){this.respond(t,{error:a.serializeError(e,{fallbackError:h})})}}notify(e){this.commandStream.write(Object.assign(Object.assign({},e),{jsonrpc:"2.0"}))}respond(e,t){this.commandStream.write(Object.assign(Object.assign({},t),{id:e,jsonrpc:"2.0"}))}startSnap(e,t,r){n.log(`starting snap '${e}' in worker`),this.snapPromiseErrorHandler&&d.rootRealmGlobal.removeEventListener("unhandledrejection",this.snapPromiseErrorHandler),this.snapErrorHandler&&d.rootRealmGlobal.removeEventListener("error",this.snapErrorHandler),this.snapErrorHandler=t=>{this.errorHandler(t.error,{snapName:e})},this.snapPromiseErrorHandler=t=>{this.errorHandler(t.reason,{snapName:e})};const i=this.createSnapProvider(e);try{const e=f.createEndowments(i,r);new Compartment(Object.assign(Object.assign({},e),{window:Object.assign({},e),self:Object.assign({},e)})).evaluate(t),d.rootRealmGlobal.addEventListener("unhandledrejection",this.snapPromiseErrorHandler),d.rootRealmGlobal.addEventListener("error",this.snapErrorHandler)}catch(t){throw this.removeSnap(e),new Error(`Error while running snap '${e}': ${t.message}`)}}createSnapProvider(e){const t=new o.MetaMaskInpageProvider(this.rpcStream,{shouldSendMetadata:!1});return t.registerRpcMessageHandler=t=>{if(n.log("Worker: Registering RPC message handler",t),this.snapRpcHandlers.has(e))throw new Error("RPC handler already registered.");this.snapRpcHandlers.set(e,t)},t}removeSnap(e){this.snapRpcHandlers.delete(e)}}},3008:(e,t,r)=>{"use strict";var n=r(8834).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i={names:["Buffer"],factory:()=>({Buffer:n})};t.default=i},6455:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createEndowments=void 0;const i=r(6435),o=n(r(3008)),a=n(r(3941)),s=n(r(9191)),u=[o.default,a.default,s.default].reduce(((e,t)=>(t.names.forEach((r=>{e.set(r,t.factory)})),e)),new Map);t.createEndowments=function(e,t=[]){const r={};return t.reduce(((e,t)=>{if(u.has(t))Object.hasOwnProperty.call(r,t)||Object.assign(r,u.get(t)()),e[t]=r[t];else{if(!(t in i.rootRealmGlobal))throw new Error(`Unknown endowment: "${t}".`);{const r=i.rootRealmGlobal[t];e[t]=r}}return e}),{wallet:e})}},3941:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={names:["setTimeout","clearTimeout"],factory:()=>{const e=new Set;return{setTimeout:(t,r)=>{if("function"!=typeof t)throw new Error("The timeout handler must be a function. Received: "+typeof t);const n={handle:NaN};return n.handle=setTimeout((()=>{e.delete(n.handle),t()}),r),e.add(n.handle),n.handle},clearTimeout:t=>{e.has(t)&&(clearTimeout(t),e.delete(t))}}}};t.default=r},9191:function(e,t){"use strict";var r=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};Object.defineProperty(t,"__esModule",{value:!0});const n={names:["WebAssembly"],factory:()=>{const{compileStreaming:e,instantiateStreaming:t}=WebAssembly;return{WebAssembly:r(WebAssembly,["compileStreaming","instantiateStreaming"])}}};t.default=n},4509:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SNAP_STREAM_NAMES=void 0,(r=t.SNAP_STREAM_NAMES||(t.SNAP_STREAM_NAMES={})).JSON_RPC="jsonRpc",r.COMMAND="command"},6435:(e,t,r)=>{"use strict";var n;let i,o;if(Object.defineProperty(t,"__esModule",{value:!0}),t.rootRealmGlobalName=t.rootRealmGlobal=void 0,function(e){e.globalThis="globalThis",e.global="global",e.self="self",e.window="window"}(n||(n={})),"undefined"!=typeof globalThis)i=globalThis,o=n.globalThis;else if("undefined"!=typeof self)i=self,o=n.self;else if("undefined"!=typeof window)i=window,o=n.window;else{if(void 0===r.g)throw new Error("Unknown realm type; failed to identify global object.");i=r.g,o=n.global}const a=i;t.rootRealmGlobal=a;const s=o;t.rootRealmGlobalName=s},4562:(e,t,r)=>{"use strict";var n=r(3716);Object.defineProperty(t,"__esModule",{value:!0}),t.executeLockdownMore=void 0,t.executeLockdownMore=function(){try{const e=Reflect.ownKeys((new Compartment).globalThis),t=new Set(["eval","Function"]);new Set([...e]).forEach((e=>{const r=Reflect.getOwnPropertyDescriptor(globalThis,e);r&&(r.configurable&&(function(e){return"set"in e||"get"in e}(r)?Object.defineProperty(globalThis,e,{configurable:!1}):Object.defineProperty(globalThis,e,{configurable:!1,writable:!1})),t.has(e)&&harden(globalThis[e]))}))}catch(e){throw n.error("Protecting intrinsics failed:",e),e}}},2842:(e,t,r)=>{"use strict";var n=r(3716);Object.defineProperty(t,"__esModule",{value:!0}),t.executeLockdown=void 0,t.executeLockdown=function(){try{lockdown({consoleTaming:"unsafe",errorTaming:"unsafe",mathTaming:"unsafe",dateTaming:"unsafe",overrideTaming:"severe"})}catch(e){throw n.error("Lockdown failed:",e),e}}},5930:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rpcMethods=void 0;const n=r(4221);t.rpcMethods=function(e,t){return{ping:async()=>"OK",executeSnap:async(t,r,i)=>{if("string"!=typeof t)throw new Error("snapName is not a string");if("string"!=typeof r)throw new Error("sourceCode is not a string");if(void 0!==i&&!n.isEndowments(i))throw new Error("endowment is not a proper Endowments object");return e(t,r,i),"OK"},snapRpc:async(e,r,i)=>{if("string"!=typeof e)throw new Error("target is not a string");if("string"!=typeof r)throw new Error("origin is not a string");if(!n.isJsonRpcRequest(i))throw new Error("request is not a proper JSON RPC Request");return t(e,r,i)}}}},2931:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sortParamKeys=void 0,t.sortParamKeys=(e,t)=>{if(!t)return[];if(t instanceof Array)return t;const r=e.params.map((e=>e.name)).reduce(((e,t,r)=>Object.assign(Object.assign({},e),{[t]:r})),{});return Object.entries(t).sort((([e,t],[n,i])=>r[e]-r[n])).map((([e,t])=>t))}},7229:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WebWorkerSnapExecutor=void 0;const o=i(r(8392)),a=r(9679),s=i(r(3171)),u=r(132),c=r(4509);class l extends u.BaseSnapExecutor{static initalize(){n.log("Worker: Connecting to parent.");const e=new a.WorkerPostMessageStream,t=new o.default;s.default(e,t,e,(e=>{e&&n.error("Parent stream failure, closing worker.",e),self.close()}));const r=t.createStream(c.SNAP_STREAM_NAMES.COMMAND),i=t.createStream(c.SNAP_STREAM_NAMES.JSON_RPC);return new l(r,i)}}t.WebWorkerSnapExecutor=l},5803:(e,t,r)=>{var n=r(3716);function i(e){try{if(!r.g.localStorage)return!1}catch(e){return!1}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(i("noDeprecation"))return e;var r=!1;return function(){if(!r){if(i("throwDeprecation"))throw new Error(t);i("traceDeprecation")?n.trace(t):n.warn(t),r=!0}return e.apply(this,arguments)}}},82:e=>{e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},4895:(e,t,r)=>{"use strict";var n=r(2635),i=r(3138),o=r(2094),a=r(198);function s(e){return e.call.bind(e)}var u="undefined"!=typeof BigInt,c="undefined"!=typeof Symbol,l=s(Object.prototype.toString),f=s(Number.prototype.valueOf),d=s(String.prototype.valueOf),h=s(Boolean.prototype.valueOf);if(u)var p=s(BigInt.prototype.valueOf);if(c)var g=s(Symbol.prototype.valueOf);function y(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function b(e){return"[object Map]"===l(e)}function m(e){return"[object Set]"===l(e)}function w(e){return"[object WeakMap]"===l(e)}function v(e){return"[object WeakSet]"===l(e)}function _(e){return"[object ArrayBuffer]"===l(e)}function S(e){return"undefined"!=typeof ArrayBuffer&&(_.working?_(e):e instanceof ArrayBuffer)}function E(e){return"[object DataView]"===l(e)}function O(e){return"undefined"!=typeof DataView&&(E.working?E(e):e instanceof DataView)}t.isArgumentsObject=n,t.isGeneratorFunction=i,t.isTypedArray=a,t.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},t.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):a(e)||O(e)},t.isUint8Array=function(e){return"Uint8Array"===o(e)},t.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===o(e)},t.isUint16Array=function(e){return"Uint16Array"===o(e)},t.isUint32Array=function(e){return"Uint32Array"===o(e)},t.isInt8Array=function(e){return"Int8Array"===o(e)},t.isInt16Array=function(e){return"Int16Array"===o(e)},t.isInt32Array=function(e){return"Int32Array"===o(e)},t.isFloat32Array=function(e){return"Float32Array"===o(e)},t.isFloat64Array=function(e){return"Float64Array"===o(e)},t.isBigInt64Array=function(e){return"BigInt64Array"===o(e)},t.isBigUint64Array=function(e){return"BigUint64Array"===o(e)},b.working="undefined"!=typeof Map&&b(new Map),t.isMap=function(e){return"undefined"!=typeof Map&&(b.working?b(e):e instanceof Map)},m.working="undefined"!=typeof Set&&m(new Set),t.isSet=function(e){return"undefined"!=typeof Set&&(m.working?m(e):e instanceof Set)},w.working="undefined"!=typeof WeakMap&&w(new WeakMap),t.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(w.working?w(e):e instanceof WeakMap)},v.working="undefined"!=typeof WeakSet&&v(new WeakSet),t.isWeakSet=function(e){return v(e)},_.working="undefined"!=typeof ArrayBuffer&&_(new ArrayBuffer),t.isArrayBuffer=S,E.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&E(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=O;var R="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function M(e){return"[object SharedArrayBuffer]"===l(e)}function j(e){return void 0!==R&&(void 0===M.working&&(M.working=M(new R)),M.working?M(e):e instanceof R)}function P(e){return y(e,f)}function k(e){return y(e,d)}function A(e){return y(e,h)}function x(e){return u&&y(e,p)}function C(e){return c&&y(e,g)}t.isSharedArrayBuffer=j,t.isAsyncFunction=function(e){return"[object AsyncFunction]"===l(e)},t.isMapIterator=function(e){return"[object Map Iterator]"===l(e)},t.isSetIterator=function(e){return"[object Set Iterator]"===l(e)},t.isGeneratorObject=function(e){return"[object Generator]"===l(e)},t.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===l(e)},t.isNumberObject=P,t.isStringObject=k,t.isBooleanObject=A,t.isBigIntObject=x,t.isSymbolObject=C,t.isBoxedPrimitive=function(e){return P(e)||k(e)||A(e)||x(e)||C(e)},t.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(S(e)||j(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})}))},3335:(e,t,r)=>{var n=r(4406),i=r(3716),o=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},a=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(l(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,o=String(e).replace(a,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),s=n[r];r<i;s=n[++r])m(s)||!E(s)?o+=" "+s:o+=" "+l(s);return o},t.deprecate=function(e,r){if(void 0!==n&&!0===n.noDeprecation)return e;if(void 0===n)return function(){return t.deprecate(e,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(n.throwDeprecation)throw new Error(r);n.traceDeprecation?i.trace(r):i.error(r),o=!0}return e.apply(this,arguments)}};var s={},u=/^$/;if(n.env.NODE_DEBUG){var c=n.env.NODE_DEBUG;c=c.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),u=new RegExp("^"+c+"$","i")}function l(e,r){var n={seen:[],stylize:d};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),b(r)?n.showHidden=r:r&&t._extend(n,r),_(n.showHidden)&&(n.showHidden=!1),_(n.depth)&&(n.depth=2),_(n.colors)&&(n.colors=!1),_(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=f),h(n,e,n.depth)}function f(e,t){var r=l.styles[t];return r?"["+l.colors[r][0]+"m"+e+"["+l.colors[r][1]+"m":e}function d(e,t){return e}function h(e,r,n){if(e.customInspect&&r&&M(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return v(i)||(i=h(e,i,n)),i}var o=function(e,t){if(_(t))return e.stylize("undefined","undefined");if(v(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return w(t)?e.stylize(""+t,"number"):b(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}(e,r);if(o)return o;var a=Object.keys(r),s=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(r)),R(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return p(r);if(0===a.length){if(M(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(S(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(O(r))return e.stylize(Date.prototype.toString.call(r),"date");if(R(r))return p(r)}var c,l="",f=!1,d=["{","}"];return y(r)&&(f=!0,d=["[","]"]),M(r)&&(l=" [Function"+(r.name?": "+r.name:"")+"]"),S(r)&&(l=" "+RegExp.prototype.toString.call(r)),O(r)&&(l=" "+Date.prototype.toUTCString.call(r)),R(r)&&(l=" "+p(r)),0!==a.length||f&&0!=r.length?n<0?S(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),c=f?function(e,t,r,n,i){for(var o=[],a=0,s=t.length;a<s;++a)x(t,String(a))?o.push(g(e,t,r,n,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(g(e,t,r,n,i,!0))})),o}(e,r,n,s,a):a.map((function(t){return g(e,r,n,s,t,f)})),e.seen.pop(),function(e,t,r){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}(c,l,d)):d[0]+l+d[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function g(e,t,r,n,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),x(n,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=m(r)?h(e,u.value,null):h(e,u.value,r-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),_(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function y(e){return Array.isArray(e)}function b(e){return"boolean"==typeof e}function m(e){return null===e}function w(e){return"number"==typeof e}function v(e){return"string"==typeof e}function _(e){return void 0===e}function S(e){return E(e)&&"[object RegExp]"===j(e)}function E(e){return"object"==typeof e&&null!==e}function O(e){return E(e)&&"[object Date]"===j(e)}function R(e){return E(e)&&("[object Error]"===j(e)||e instanceof Error)}function M(e){return"function"==typeof e}function j(e){return Object.prototype.toString.call(e)}function P(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(e=e.toUpperCase(),!s[e])if(u.test(e)){var r=n.pid;s[e]=function(){var n=t.format.apply(t,arguments);i.error("%s %d: %s",e,r,n)}}else s[e]=function(){};return s[e]},t.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=r(4895),t.isArray=y,t.isBoolean=b,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=w,t.isString=v,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=_,t.isRegExp=S,t.types.isRegExp=S,t.isObject=E,t.isDate=O,t.types.isDate=O,t.isError=R,t.types.isNativeError=R,t.isFunction=M,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(82);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(){var e=new Date,t=[P(e.getHours()),P(e.getMinutes()),P(e.getSeconds())].join(":");return[e.getDate(),k[e.getMonth()],t].join(" ")}function x(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){i.log("%s - %s",A(),t.format.apply(t,arguments))},t.inherits=r(1285),t._extend=function(e,t){if(!t||!E(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var C="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function T(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(C&&e[C]){var t;if("function"!=typeof(t=e[C]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,i)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),C&&Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,o(e))},t.promisify.custom=C,t.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var i=t.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};e.apply(this,t).then((function(e){n.nextTick(a.bind(null,null,e))}),(function(e){n.nextTick(T.bind(null,e,a))}))}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,o(e)),t}},2094:(e,t,r)=>{"use strict";var n=r(6388),i=r(2191),o=r(2680),a=o("Object.prototype.toString"),s=r(7226)(),u="undefined"==typeof globalThis?r.g:globalThis,c=i(),l=o("String.prototype.slice"),f={},d=r(3494),h=Object.getPrototypeOf;s&&d&&h&&n(c,(function(e){if("function"==typeof u[e]){var t=new u[e];if(Symbol.toStringTag in t){var r=h(t),n=d(r,Symbol.toStringTag);if(!n){var i=h(r);n=d(i,Symbol.toStringTag)}f[e]=n.get}}}));var p=r(198);e.exports=function(e){return!!p(e)&&(s&&Symbol.toStringTag in e?function(e){var t=!1;return n(f,(function(r,n){if(!t)try{var i=r.call(e);i===n&&(t=i)}catch(e){}})),t}(e):l(a(e),8,-1))}},8892:e=>{e.exports=function e(t,r){if(t&&r)return e(t)(r);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){n[e]=t[e]})),n;function n(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var n=t.apply(this,e),i=e[e.length-1];return"function"==typeof n&&n!==i&&Object.keys(i).forEach((function(e){n[e]=i[e]})),n}}},7082:function(e,t,r){"use strict";var n=r(3716),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectMultiplex=void 0;const o=r(7525),a=i(r(8797)),s=i(r(9928)),u=r(1274),c=Symbol("IGNORE_SUBSTREAM");class l extends o.Duplex{constructor(e={}){super(Object.assign(Object.assign({},e),{objectMode:!0})),this._substreams={}}createStream(e){if(this.destroyed)throw new Error(`ObjectMultiplex - parent stream for name "${e}" already destroyed`);if(this._readableState.ended||this._writableState.ended)throw new Error(`ObjectMultiplex - parent stream for name "${e}" already ended`);if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);const t=new u.Substream({parent:this,name:e});return this._substreams[e]=t,function(e,r){const n=s.default((e=>t.destroy(e||void 0)));a.default(e,{readable:!1},n),a.default(e,{writable:!1},n)}(this),t}ignoreStream(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);this._substreams[e]=c}_read(){}_write(e,t,r){const{name:i,data:o}=e;if(!i)return n.warn(`ObjectMultiplex - malformed chunk without name "${e}"`),r();const a=this._substreams[i];return a?(a!==c&&a.push(o),r()):(n.warn(`ObjectMultiplex - orphaned data for stream "${i}"`),r())}}t.ObjectMultiplex=l},1274:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Substream=void 0;const n=r(7525);class i extends n.Duplex{constructor({parent:e,name:t}){super({objectMode:!0}),this._parent=e,this._name=t}_read(){}_write(e,t,r){this._parent.push({name:this._name,data:e}),r()}}t.Substream=i},8392:(e,t,r)=>{"use strict";const n=r(7082);e.exports=n.ObjectMultiplex},2294:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EthereumProviderError=t.EthereumRpcError=void 0;const n=r(7847);class i extends Error{constructor(e,t,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw new Error('"message" must be a nonempty string.');super(t),this.code=e,void 0!==r&&(this.data=r)}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return n.default(this.serialize(),o,2)}}function o(e,t){if("[Circular]"!==t)return t}t.EthereumRpcError=i,t.EthereumProviderError=class extends i{constructor(e,t,r){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,r)}}},2662:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorValues=t.errorCodes=void 0,t.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},t.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}},6373:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ethErrors=void 0;const n=r(2294),i=r(8753),o=r(2662);function a(e,t){const[r,o]=u(t);return new n.EthereumRpcError(e,r||i.getMessageFromCode(e),o)}function s(e,t){const[r,o]=u(t);return new n.EthereumProviderError(e,r||i.getMessageFromCode(e),o)}function u(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&"string"!=typeof t)throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}t.ethErrors={rpc:{parse:e=>a(o.errorCodes.rpc.parse,e),invalidRequest:e=>a(o.errorCodes.rpc.invalidRequest,e),invalidParams:e=>a(o.errorCodes.rpc.invalidParams,e),methodNotFound:e=>a(o.errorCodes.rpc.methodNotFound,e),internal:e=>a(o.errorCodes.rpc.internal,e),server:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return a(t,e)},invalidInput:e=>a(o.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>a(o.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>a(o.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>a(o.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>a(o.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>a(o.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>s(o.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>s(o.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>s(o.errorCodes.provider.unsupportedMethod,e),disconnected:e=>s(o.errorCodes.provider.disconnected,e),chainDisconnected:e=>s(o.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:r,data:i}=e;if(!r||"string"!=typeof r)throw new Error('"message" must be a nonempty string');return new n.EthereumProviderError(t,r,i)}}}},9826:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const n=r(2294);Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return n.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return n.EthereumProviderError}});const i=r(8753);Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return i.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return i.getMessageFromCode}});const o=r(6373);Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return o.ethErrors}});const a=r(2662);Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return a.errorCodes}})},8753:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const n=r(2662),i=r(2294),o=n.errorCodes.rpc.internal,a={code:o,message:s(o)};function s(e,r="Unspecified error message. This is a bug, please report it."){if(Number.isInteger(e)){const r=e.toString();if(f(n.errorValues,r))return n.errorValues[r].message;if(c(e))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return r}function u(e){if(!Number.isInteger(e))return!1;const t=e.toString();return!!n.errorValues[t]||!!c(e)}function c(e){return e>=-32099&&e<=-32e3}function l(e){return e&&"object"==typeof e&&!Array.isArray(e)?Object.assign({},e):e}function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",t.getMessageFromCode=s,t.isValidCode=u,t.serializeError=function(e,{fallbackError:t=a,shouldIncludeStack:r=!1}={}){var n,o;if(!t||!Number.isInteger(t.code)||"string"!=typeof t.message)throw new Error("Must provide fallback error with integer number code and string message.");if(e instanceof i.EthereumRpcError)return e.serialize();const c={};if(e&&"object"==typeof e&&!Array.isArray(e)&&f(e,"code")&&u(e.code)){const t=e;c.code=t.code,t.message&&"string"==typeof t.message?(c.message=t.message,f(t,"data")&&(c.data=t.data)):(c.message=s(c.code),c.data={originalError:l(e)})}else{c.code=t.code;const r=null===(n=e)||void 0===n?void 0:n.message;c.message=r&&"string"==typeof r?r:t.message,c.data={originalError:l(e)}}const d=null===(o=e)||void 0===o?void 0:o.stack;return r&&e&&d&&"string"==typeof d&&(c.stack=d),c}},4857:()=>{},3558:()=>{},4854:()=>{},6602:()=>{},7267:()=>{},9255:()=>{},2191:(e,t,r)=>{"use strict";var n=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],i="undefined"==typeof globalThis?r.g:globalThis;e.exports=function(){for(var e=[],t=0;t<n.length;t++)"function"==typeof i[n[t]]&&(e[e.length]=n[t]);return e}},7342:(e,t,r)=>{"use strict";var n=r(7286)("%Object.getOwnPropertyDescriptor%");if(n)try{n([],"length")}catch(e){n=null}e.exports=n},3494:(e,t,r)=>{"use strict";var n=r(7286)("%Object.getOwnPropertyDescriptor%");if(n)try{n([],"length")}catch(e){n=null}e.exports=n},5543:e=>{"use strict";e.exports=JSON.parse('{"CHROME_ID":"nkbihfbeogaeaoehlefnkodbefgpgknn","FIREFOX_ID":"webextension@metamask.io"}')},201:e=>{"use strict";e.exports=JSON.parse('{"openrpc":"1.2.4","info":{"title":"MetaMask Snaps Execution Environment API","version":"0.0.0-development"},"methods":[{"name":"ping","description":"confirms that a connection has been established with the execution environment","params":[],"result":{"name":"PingResult","schema":{"$ref":"#/components/schemas/OK"}}},{"name":"executeSnap","description":"executes a snap in the environment. The snap can then be interacted with via `snapRpc`","params":[{"name":"snapName","required":true,"description":"the name of the snap","schema":{"title":"SnapName","type":"string"}},{"name":"sourceCode","description":"a snaps source code that gets executed in the environment","required":true,"schema":{"title":"SourceCode","type":"string"}},{"name":"endowments","description":"A list of endowments to provide to SES","required":false,"schema":{"title":"Endowments","description":"An array of the names of the endowments","type":"array","items":{"title":"Endowment","type":"string"}}}],"result":{"name":"executeSnapResult","schema":{"$ref":"#/components/schemas/OK"}},"examples":[{"name":"BasicTestSnapExecuteExample","params":[{"name":"snapName","value":"TestSnap"},{"name":"sourceCode","value":"wallet.registerRpcMessageHandler(async (_, request) => { return request.method + request.id })"}],"result":{"name":"BasicTestSnapExampleResult","value":"OK"}}]},{"name":"snapRpc","params":[{"name":"target","required":true,"description":"the name of the snap method","schema":{"title":"Target","type":"string"}},{"name":"origin","required":true,"description":"Origin of the snap JSON-RPC request","schema":{"title":"Origin","type":"string"}},{"name":"request","required":true,"description":"JSON-RPC request","schema":{"$ref":"#/components/schemas/JsonRpcRequest"}}],"result":{"name":"HandleSnapRpcResult","schema":{"title":"SnapRpcResult"}},"examples":[{"name":"TestSnapExample","params":[{"name":"target","value":"TestSnap"},{"name":"origin","value":"foo.com"},{"name":"request","value":{"jsonrpc":"2.0","method":"hello","params":[],"id":1}}],"result":{"name":"TestSnapResultExample","value":"hello1"}}]}],"components":{"schemas":{"OK":{"title":"OK","type":"string","const":"OK"},"JsonRpcRequest":{"title":"JsonRpcRequest","type":"object","required":["jsonrpc","method"],"properties":{"jsonrpc":{"title":"JSONRPCString","type":"string","const":"2.0"},"id":{"title":"JSONRPCID","oneOf":[{"type":"string"},{"type":"number"}]},"method":{"title":"JSONRPCMethod","description":"the name of the method","type":"string"},"params":{"title":"JSONRPCParams","type":["array","object"]}}}}}}')}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";const e=r(2842),t=r(4562),n=r(7229);e.executeLockdown(),t.executeLockdownMore(),n.WebWorkerSnapExecutor.initalize()})()})();
\ No newline at end of file
